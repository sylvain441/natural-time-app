var pt=Object.defineProperty;var rt=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var dt=(e,l,n)=>l in e?pt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,j=(e,l)=>{for(var n in l||(l={}))yt.call(l,n)&&dt(e,n,l[n]);if(rt)for(var n of rt(l))ft.call(l,n)&&dt(e,n,l[n]);return e};import{u as J,v as Y,r as S,f as bt,a as R,o as a,c as s,b as o,d as W,w as x,t as h,e as E,g as Z,h as X,i as p,p as mt,j as ct,k as ut,l as v,m as _t,n as z,F as B,q as V,s as D,x as F,y as c,z as w,A as nt,B as at,C as it,D as tt,E as gt,G as U,H as vt,I as et,N,J as st,K as M,L as wt,M as $t,T as kt,O as Ct,P as St,Q as Wt,R as Mt,V as xt}from"./vendor.13a42aa2.js";const Lt=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerpolicy&&(t.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?t.credentials="include":i.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(i){if(i.ep)return;i.ep=!0;const t=n(i);fetch(i.href,t)}};Lt();var lt=(e,l)=>{const n=e.__vccOpts||e;for(const[u,i]of l)n[u]=i;return n};const P=e=>(mt("data-v-2bc9c592"),e=e(),ct(),e),Dt=P(()=>o("div",{id:"backgrounds"},[o("div",{id:"milkyway"})],-1)),Ft={class:"center-me"},Et={class:"left"},Ot={class:"circle"},It=P(()=>o("span",{class:"reticule"},null,-1)),Tt={class:"right"},Rt={class:"circle"},Nt={colspan:"2"},zt={for:"latitude"},At=P(()=>o("br",null,null,-1)),Bt=["onKeyup"],Pt={for:"longitude"},Gt=P(()=>o("br",null,null,-1)),jt=["onKeyup"],qt={colspan:"2"},Ht={for:"location"},Vt=P(()=>o("br",null,null,-1)),Ut=["onKeyup"],Yt={style:{"text-align":"center"}},Kt={style:{"text-align":"right"}},Jt=["disabled"],Qt=P(()=>o("tr",null,[o("td",{colspan:"2"},". . .")],-1)),Zt={setup(e){var T;const l=J(),n=Y.exports.useI18n();document.title=n.t("nt")+" | "+n.t("settings.title");const u=S(!1),i=_=>{$.value.fit([_[0],_[1],_[0],_[1]],{maxZoom:7}),u.value=!1},t=S(localStorage.latitude),r=S(localStorage.longitude),d=S(((T=localStorage.location)==null?void 0:T.replace(/_/g," "))||n.t("longitude")+" 0"),g=S(window.navigator.onLine);window.addEventListener("online",()=>{g.value=window.navigator.onLine}),window.addEventListener("offline",()=>{g.value=window.navigator.onLine});const $=S(null),L=S(localStorage.longitude?3:2),f=bt([r.value,t.value]);function b(_){t.value=parseFloat(ut(_)[1].toFixed(2)),r.value=parseFloat(ut(_)[0].toFixed(2)),(String(d.value).startsWith(n.t("longitude"))||!d.value)&&(d.value=n.t("longitude")+" "+parseInt(r.value))}function y(){localStorage.location=d.value.replace(/\s/g,"_"),localStorage.longitude=r.value,localStorage.latitude=t.value,localStorage.coordinatesFrom="user",l.push({name:"time",params:{location:localStorage.location,latlng:localStorage.latitude+","+localStorage.longitude}})}return(_,m)=>{const C=R("ol-view"),k=R("ol-geolocation"),O=R("ol-zoom-control"),K=R("ol-source-osm"),Q=R("ol-tile-layer"),I=R("ol-map");return a(),s("div",null,[Dt,o("div",Ft,[o("div",Et,[o("div",Ot,[W(I,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0},{default:x(()=>[W(C,{ref_key:"view",ref:$,center:p(f),zoom:L.value,onCenterChanged:b},null,8,["center","zoom"]),W(k,{tracking:u.value,onPositionChanged:i},null,8,["tracking"]),W(O),W(Q,null,{default:x(()=>[W(K)]),_:1})]),_:1})]),It]),o("div",Tt,[o("div",Rt,[o("div",null,[o("table",null,[o("tr",null,[o("td",Nt,[o("h1",null,h(_.$t("nt")),1),o("h2",null,h(_.$t("settings.title")),1)])]),o("tr",null,[o("td",null,[o("label",zt,h(_.$t("settings.form.latitude")),1),At,E(o("input",{type:"number",name:"latitude",step:".01",size:"4","onUpdate:modelValue":m[0]||(m[0]=A=>t.value=A),onKeyup:X(y,["enter"])},null,40,Bt),[[Z,t.value]])]),o("td",null,[o("label",Pt,h(_.$t("settings.form.longitude")),1),Gt,E(o("input",{type:"number",name:"longitude",step:".01",size:"4","onUpdate:modelValue":m[1]||(m[1]=A=>r.value=A),onKeyup:X(y,["enter"])},null,40,jt),[[Z,r.value]])])]),o("tr",null,[o("td",qt,[o("label",Ht,h(_.$t("settings.form.location")),1),Vt,E(o("input",{type:"text",name:"location",size:"16",maxlength:"30","onUpdate:modelValue":m[2]||(m[2]=A=>d.value=A),onKeyup:X(y,["enter"])},null,40,Ut),[[Z,d.value]])])]),o("tr",null,[o("td",Yt,[o("a",{onClick:m[3]||(m[3]=A=>u.value=!0)},h(_.$t("settings.form.trackGPS")),1)]),o("td",Kt,[o("button",{onClick:y,disabled:!d.value||!t.value||!r.value},h(_.$t("settings.form.save")),9,Jt)])]),Qt])])])])])])}}};var Xt=lt(Zt,[["__scopeId","data-v-2bc9c592"]]);const q={},H={};function te(e,l){let n=new v.Observer(l,e.longitude,0),u=new Date(e.unixTime),i=v.Equator(v.Body.Sun,u,n,!0,!1),t=Math.max(v.Horizon(u,n,i.ra,i.dec).altitude,0),r=v.SearchHourAngle(v.Body.Sun,n,0,new Date(e.nadir));return{altitude:t,highestAltitude:r.hor.altitude}}function ee(e,l){let n=e.toDateString()+l+e.longitude;if(q!=null&&q[n])return q[n];let u=new v.Observer(l,e.longitude,0),i=new Date(e.nadir),t=l>=0&&e.dayOfYear>=91&&e.dayOfYear<=273||l<=0&&(e.dayOfYear<=91||e.dayOfYear>=273),r=e.getTimeOfEvent(v.SearchRiseSet(v.Body.Sun,u,1,i,1));r||(r=t?0:180);let d=e.getTimeOfEvent(v.SearchRiseSet(v.Body.Sun,u,-1,i,1));d||(d=t?360:180);let g=e.getTimeOfEvent(v.SearchAltitude(v.Body.Sun,u,-1,i,2,-12));g||(g=t?360:180);let $=e.getTimeOfEvent(v.SearchAltitude(v.Body.Sun,u,1,i,2,-12));$||($=t?0:180);let L=e.getTimeOfEvent(v.SearchAltitude(v.Body.Sun,u,1,i,2,6));L||(L=t?0:180);let f=e.getTimeOfEvent(v.SearchAltitude(v.Body.Sun,u,-1,i,2,6));return f||(f=t?360:180),q[n]={sunrise:r,sunset:d,nightStart:g,nightEnd:$,morningGoldenHour:L,eveningGoldenHour:f}}function oe(e,l){let n=new v.Observer(l,e.longitude,0),u=new Date(e.unixTime),i=v.MoonPhase(u),t=v.Equator(v.Body.Moon,u,n,!0,!1),r=Math.max(v.Horizon(u,n,t.ra,t.dec).altitude,0),d=v.SearchHourAngle(v.Body.Moon,n,0,new Date(e.nadir));return{phase:i,altitude:r,highestAltitude:d.hor.altitude}}function ne(e,l){let n=e.toDateString()+l+e.longitude;if(H!=null&&H[n])return H[n];let u=new v.Observer(l,e.longitude,0),i=v.SearchRiseSet(v.Body.Moon,u,1,new Date(e.nadir),1),t=v.SearchRiseSet(v.Body.Moon,u,-1,new Date(e.nadir),1);return H[n]={moonrise:e.getTimeOfEvent(i),moonset:e.getTimeOfEvent(t)}}var ae="/assets/northern-dial.dca19e20.jpg",ie="/assets/southern-dial.3e08cd82.jpg",se="/assets/northern-sun-circle.4ceff6c8.png",le="/assets/southern-sun-circle.55c49a4d.png",re="/assets/moon-0.bbdedb9c.png",de="/assets/moon-1.53303736.png",ue="/assets/moon-2.ef741867.png",he="/assets/moon-3.bd205479.png",me="/assets/moon-4.0ab42789.png",ce="/assets/moon-5.c994fa5e.png",ge="/assets/moon-6.8bc4c52a.png",ve="/assets/moon-7.93cc69d9.png",pe="/assets/moon-8.f46937ae.png",ye="/assets/moon-9.e3ac5a6c.png",fe="/assets/moon-10.33e297ee.png",be="/assets/moon-11.aba6c603.png",_e="/assets/moon-12.d4a2300e.png",we="/assets/moon-13.7f160f14.png",$e="/assets/moon-14.cba7fa74.png",ke="/assets/moon-15.3a2a054c.png",Ce="/assets/moon-16.58d67d99.png",Se="/assets/moon-17.cac8178e.png",We="/assets/moon-18.668d92d8.png",Me="/assets/moon-19.19516bc9.png",xe="/assets/moon-20.da74d340.png",Le="/assets/moon-21.e197fc89.png",De="/assets/moon-22.91d0eb74.png",Fe="/assets/moon-23.d30a6223.png",Ee="/assets/moon-24.a542d56a.png",Oe="/assets/moon-25.4c9c06ac.png",Ie="/assets/moon-26.44bd9aa4.png",Te="/assets/moon-27.8f9c7a8e.png",Re="/assets/moon-28.09ab6426.png",Ne="/assets/moon-29.95c32788.png",ze="/assets/moon-30.80e11381.png",Ae="/assets/moon-31.dcbd3b12.png",Be="/assets/moon-32.09e6ad2b.png",Pe="/assets/moon-33.e366d0aa.png",Ge="/assets/moon-34.39233623.png",je="/assets/moon-35.8db66114.png",qe="/assets/NTZ.c938f261.png",He="/assets/sun-needle.3b0dc62a.png";const G=e=>(mt("data-v-36010945"),e=e(),ct(),e),Ve=G(()=>o("filter",{id:"blurry"},[o("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5"})],-1)),Ue=["id"],Ye=["stop-color"],Ke=["stop-color"],Je=G(()=>o("pattern",{id:"northernDial",height:"100%",width:"100%",patternContentUnits:"objectBoundingBox"},[o("image",{preserveAspectRatio:"none",width:"1",height:"1",href:ae})],-1)),Qe=G(()=>o("pattern",{id:"southernDial",height:"100%",width:"100%",patternContentUnits:"objectBoundingBox"},[o("image",{preserveAspectRatio:"none",width:"1",height:"1",href:ie})],-1)),Ze={id:"blurryPeriodsRing",filter:"url(#blurry)"},Xe={id:"periodsRing"},to={id:"sun",width:"100%",height:"100%"},eo={key:0,href:se,width:"100%",height:"100%"},oo={key:1,href:le,width:"100%",height:"100%"},no={id:"moon",width:"100%",height:"100%"},ao=["width","height","x","y"],io=["width","height","x","y"],so=["width","height","x","y"],lo=["width","height","x","y"],ro=["width","height","x","y"],uo=["width","height","x","y"],ho=["width","height","x","y"],mo=["width","height","x","y"],co=["width","height","x","y"],go=["width","height","x","y"],vo=["width","height","x","y"],po=["width","height","x","y"],yo=["width","height","x","y"],fo=["width","height","x","y"],bo=["width","height","x","y"],_o=["width","height","x","y"],wo=["width","height","x","y"],$o=["width","height","x","y"],ko=["width","height","x","y"],Co=["width","height","x","y"],So=["width","height","x","y"],Wo=["width","height","x","y"],Mo=["width","height","x","y"],xo=["width","height","x","y"],Lo=["width","height","x","y"],Do=["width","height","x","y"],Fo=["width","height","x","y"],Eo=["width","height","x","y"],Oo=["width","height","x","y"],Io=["width","height","x","y"],To=["width","height","x","y"],Ro=["width","height","x","y"],No=["width","height","x","y"],zo=["width","height","x","y"],Ao=["width","height","x","y"],Bo=["width","height","x","y"],Po=["r"],Go=["r","fill"],jo=G(()=>o("image",{id:"ntzNeedle","xlink:href":qe,width:"100%",height:"100%"},null,-1)),qo={key:0,id:"prompt"},Ho={id:"location",x:"180",y:"211"},Vo=["cx","cy","r"],Uo=G(()=>o("image",{id:"sunNeedle",href:He,width:"100%",height:"100%"},null,-1)),Yo={key:1,id:"time"},Ko={id:"units",x:"174",y:"196"},Jo={id:"decimals",x:"228",y:"196"},Qo=G(()=>o("br",null,null,-1)),Zo={props:{naturalDate:{type:Object,required:!0},sunContext:Object,moonContext:Object,hemisphere:Number,location:String},setup(e){const l=J(),n={dialSize:110,ringSize:90,ntzSize:74.9,blurSize:165,xstart:2.02,xspan:.05,ystart:1.455,yspan:.06,periodColors:{golden:"#FFC856",day:"#80CCFF",pinky:"#FFC856",nautical:"#2A2F55",night:"#000"}},u=_t(()=>(localStorage==null?void 0:localStorage.coordinatesFrom)=="default");function i(t,r,d,g){return t>r&&(r+=360),{"stroke-dasharray":(r-t)*Math.PI*(g/180)+" "+Math.PI*g*2,transform:"rotate("+t+" 180 180)",r:g,cx:"180",cy:"180","stroke-width":g,stroke:d,fill:"transparent"}}return(t,r)=>(a(),s(B,null,[(a(),s("svg",{class:z({blurMe:p(u)}),height:"100%",width:"100%",viewBox:"0 0 360 360",preserveAspectRatio:"xMidYMid meet",overflow:"visible"},[o("defs",null,[Ve,(a(!0),s(B,null,V(n.periodColors,(d,g)=>(a(),s("radialGradient",{key:g,id:g,cx:"50%",cy:"50%",r:"50%"},[o("stop",{offset:"50%","stop-color":d,"stop-opacity":"1"},null,8,Ye),o("stop",{offset:"100%","stop-color":d,"stop-opacity":"0"},null,8,Ke)],8,Ue))),128)),Je,Qe]),o("g",Ze,[o("circle",D(F(i(e.sunContext.sunrise,e.sunContext.morningGoldenHour,"url(#golden)",n.blurSize))),null,16),o("circle",D(F(i(e.sunContext.morningGoldenHour,e.sunContext.eveningGoldenHour,"url(#day)",n.blurSize))),null,16),o("circle",D(F(i(e.sunContext.eveningGoldenHour,e.sunContext.sunset,"url(#pinky)",n.blurSize))),null,16),o("circle",D(F(i(e.sunContext.nightStart,e.sunContext.nightEnd,"url(#night)",n.blurSize))),null,16),o("circle",D(F(i(e.sunContext.nightEnd,e.sunContext.sunrise,"url(#nautical)",n.blurSize))),null,16),o("circle",D(F(i(e.sunContext.sunset,e.sunContext.nightStart,"url(#nautical)",n.blurSize))),null,16)]),o("g",Xe,[o("circle",D(F(i(e.sunContext.sunrise,e.sunContext.morningGoldenHour,n.periodColors.golden,n.ringSize))),null,16),o("circle",D(F(i(e.sunContext.morningGoldenHour,e.sunContext.eveningGoldenHour,n.periodColors.day,n.ringSize))),null,16),o("circle",D(F(i(e.sunContext.eveningGoldenHour,e.sunContext.sunset,n.periodColors.pinky,n.ringSize))),null,16),o("circle",D(F(i(e.sunContext.nightStart,e.sunContext.nightEnd,n.periodColors.night,n.ringSize))),null,16),o("circle",D(F(i(e.sunContext.nightEnd,e.sunContext.sunrise,n.periodColors.nautical,n.ringSize))),null,16),o("circle",D(F(i(e.sunContext.sunset,e.sunContext.nightStart,n.periodColors.nautical,n.ringSize))),null,16)]),o("g",to,[e.hemisphere>0?(a(),s("image",eo)):(a(),s("image",oo))]),o("g",no,[Math.floor((360-e.moonContext.phase)/10)==0?(a(),s("image",{key:0,href:re,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ao)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==1?(a(),s("image",{key:1,href:de,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,io)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==2?(a(),s("image",{key:2,href:ue,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,so)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==3?(a(),s("image",{key:3,href:he,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,lo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==4?(a(),s("image",{key:4,href:me,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ro)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==5?(a(),s("image",{key:5,href:ce,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,uo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==6?(a(),s("image",{key:6,href:ge,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ho)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==7?(a(),s("image",{key:7,href:ve,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,mo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==8?(a(),s("image",{key:8,href:pe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,co)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==9?(a(),s("image",{key:9,href:ye,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,go)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==10?(a(),s("image",{key:10,href:fe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,vo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==11?(a(),s("image",{key:11,href:be,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,po)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==12?(a(),s("image",{key:12,href:_e,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,yo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==13?(a(),s("image",{key:13,href:we,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,fo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==14?(a(),s("image",{key:14,href:$e,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,bo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==15?(a(),s("image",{key:15,href:ke,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,_o)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==16?(a(),s("image",{key:16,href:Ce,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,wo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==17?(a(),s("image",{key:17,href:Se,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,$o)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==18?(a(),s("image",{key:18,href:We,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ko)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==19?(a(),s("image",{key:19,href:Me,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Co)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==20?(a(),s("image",{key:20,href:xe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,So)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==21?(a(),s("image",{key:21,href:Le,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Wo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==22?(a(),s("image",{key:22,href:De,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Mo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==23?(a(),s("image",{key:23,href:Fe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,xo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==24?(a(),s("image",{key:24,href:Ee,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Lo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==25?(a(),s("image",{key:25,href:Oe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Do)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==26?(a(),s("image",{key:26,href:Ie,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Fo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==27?(a(),s("image",{key:27,href:Te,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Eo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==28?(a(),s("image",{key:28,href:Re,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Oo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==29?(a(),s("image",{key:29,href:Ne,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Io)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==30?(a(),s("image",{key:30,href:ze,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,To)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==31?(a(),s("image",{key:31,href:Ae,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Ro)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==32?(a(),s("image",{key:32,href:Be,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,No)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==33?(a(),s("image",{key:33,href:Pe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,zo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==34?(a(),s("image",{key:34,href:Ge,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Ao)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==35?(a(),s("image",{key:35,href:je,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Bo)):c("",!0)]),o("circle",{id:"dialLoadingBg",r:n.dialSize,cx:"180",cy:"180",fill:"#E3E3E3"},null,8,Po),o("circle",{id:"dial",r:n.dialSize,cx:"180",cy:"180",fill:e.hemisphere>0?"url(#northernDial)":"url(#southernDial)"},null,8,Go),jo,p(u)?c("",!0):(a(),s("g",qo,[o("text",Ho,h(e.location.replace(/_/g," "))+" ("+h(e.naturalDate.toLongitudeString())+")",1),o("g",null,[e.naturalDate.isRainbowDay?c("",!0):(a(),s(B,{key:0},V(28,d=>o("circle",{cx:(n.ystart+n.yspan*((d-1)%7))*n.dialSize,cy:(n.xstart+n.xspan*parseInt((d-1)/7))*n.dialSize,r:d==e.naturalDate.dayOfMoon?2:1.4,class:z(d==e.naturalDate.dayOfMoon?"color-"+e.naturalDate.dayOfWeek:"")},null,10,Vo)),64))])])),Uo,p(u)?c("",!0):(a(),s("g",Yo,[o("text",Ko,h(("00"+Math.floor(e.naturalDate.time)).slice(-3))+"\xB0",1),o("text",Jo,h(("0"+Math.floor((e.naturalDate.time-Math.floor(e.naturalDate.time))*100/5)*5).slice(-2)),1)]))],2)),p(u)?(a(),s("div",{key:0,id:"askForLocation",onClick:r[0]||(r[0]=d=>p(l).push({name:"settings"}))},[o("h1",null,[w(h(t.$t("askForlocation.line1")),1),Qo,w(h(t.$t("askForlocation.line2")),1)]),o("button",null,h(t.$t("askForlocation.button")),1)])):c("",!0),(a(),nt(at("style"),null,{default:x(()=>[w(" :root { --sun-time: "+h(e.naturalDate.time*e.hemisphere)+"deg; --ntz-time: "+h((e.naturalDate.time-e.naturalDate.longitude)*e.hemisphere)+"deg; --sun-altitude: "+h(e.sunContext.altitude*.9)+"px; --moon-time: "+h(e.naturalDate.time*e.hemisphere-e.moonContext.phase*e.hemisphere)+"deg; --moon-altitude: "+h(e.moonContext.altitude*.9)+"px; } ",1)]),_:1}))],64))}};var Xo=lt(Zo,[["__scopeId","data-v-36010945"]]);const tn=o("div",{id:"backgrounds"},[o("div",{id:"stars"}),o("div",{id:"clouds"})],-1),en={id:"ClockComponent"},on=["title"],nn=["title"],an=w("-360\xB0"),sn=[an],ln=["title"],rn=w("-2\xB0"),dn=[rn],un=["disabled","title"],hn=["title"],mn=w("+2\xB0"),cn=[mn],gn=["title"],vn=w("+360\xB0"),pn=[vn],yn=["title"],fn={id:"legend"},bn=o("br",null,null,-1),_n={setup(e){const l=it(),n=J(),u=Y.exports.useI18n();l.params.latlng&&localStorage.coordinatesFrom=="default"&&(localStorage.latitude=parseFloat(l.params.latlng.split(",")[0]),localStorage.longitude=parseFloat(l.params.latlng.split(",")[1]),localStorage.location=l.params.location||"",localStorage.coordinatesFrom="url"),!l.params.latlng&&localStorage.coordinatesFrom!="default"&&n.push({name:"time",params:{latlng:localStorage.latitude+","+localStorage.longitude,location:localStorage.location}});const i=S(Date.now());let t=null;tt(()=>{t=setInterval(()=>i.value=Date.now(),1200)}),gt(()=>{clearInterval(t)});const r=S(parseFloat(localStorage.latitude)),d=S(parseFloat(localStorage.longitude)),g=S(String(localStorage.location).replace(/_/g," "));l.params.latlng&&(r.value=parseFloat(l.params.latlng.split(",")[0]),d.value=parseFloat(l.params.latlng.split(",")[1]),g.value=String(l.params.location.replace(/_/g," ")));const $=U(()=>{let m=new Date(i.value+f.value),C=new N(m,d.value),k=j(j({},te(C,r.value)),ee(C,r.value)),O=j(j({},oe(C,r.value)),ne(C,r.value)),K=0,Q=[{rangeStart:k.morningGoldenHour,rangeStop:k.eveningGoldenHour,start:1,stop:1},{rangeStart:k.nightEnd,rangeStop:k.morningGoldenHour,start:0,stop:1},{rangeStart:k.eveningGoldenHour,rangeStop:k.nightStart,start:1,stop:0}];for(let I of Q)C.time>=I.rangeStart&C.time<I.rangeStop&&(K=I.start+(I.stop-I.start)*((C.time-I.rangeStart)/(I.rangeStop-I.rangeStart)));return document.title=`${C.toTimeString(2,5)} ${C.toLongitudeString()} ${g.value?" | "+g.value:""} | ${C.toDateString()} | ${u.t("nt")}`,{naturalDate:C,artificialDate:m,sun:k,moon:O,dayProgression:K}}),L=U(()=>r.value>=0?1:-1),f=S(0);function b(m){const C=m.target.dataset.variation;C==0&&(f.value=0),f.value+=C*1e3}const y=S(0);let T=null;function _(){y.value=1,clearTimeout(T),T=setTimeout(()=>{y.value=0},5e3)}return vt((m,C)=>{m.params.length&&!m.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?n.push({name:"settings"}):(m.params.latlng!==void 0&&(r.value=parseFloat(m.params.latlng.split(",")[0]),d.value=parseFloat(m.params.latlng.split(",")[1])),m.params.location!==void 0&&(g.value=m.params.location))}),(m,C)=>{const k=et("touch"),O=et("longclick");return E((a(),s("div",null,[tn,o("div",en,[W(Xo,{naturalDate:p($).naturalDate,sunContext:p($).sun,moonContext:p($).moon,hemisphere:p(L),location:g.value},null,8,["naturalDate","sunContext","moonContext","hemisphere","location"])]),o("div",{id:"time-controls",class:z(f.value?"":"UI")},[E((a(),s("button",{"data-variation":-7*86400,title:m.$t("timeControl.moveBackward")+" 7 "+m.$t("timeControl.days")+" "+m.$t("timeControl.past")},[w("-7"+h(m.$t("timeControl.days")),1)],8,on)),[[k,b,"tap"],[O,b]]),E((a(),s("button",{"data-variation":-24*3600,title:m.$t("timeControl.moveBackward")+" 1 "+m.$t("timeControl.day")+" "+m.$t("timeControl.past")},sn,8,nn)),[[k,b,"tap"],[O,b]]),E((a(),s("button",{"data-variation":-8*60,title:m.$t("timeControl.moveBackward")+" 2 "+m.$t("timeControl.degrees")+" "+m.$t("timeControl.past")},dn,8,ln)),[[k,b,"tap"],[O,b]]),E((a(),s("button",{disabled:f.value==0,"data-variation":0,title:m.$t("timeControl.resetTitle")},[w(h(m.$t("timeControl.reset")),1)],8,un)),[[k,b,"tap"]]),E((a(),s("button",{"data-variation":8*60,title:m.$t("timeControl.moveForward")+" 2 "+m.$t("timeControl.degrees")+" "+m.$t("timeControl.future")},cn,8,hn)),[[k,b,"tap"],[O,b]]),E((a(),s("button",{"data-variation":24*60*60,title:m.$t("timeControl.moveForward")+" 1 "+m.$t("timeControl.day")+" "+m.$t("timeControl.future")},pn,8,gn)),[[k,b,"tap"],[O,b]]),E((a(),s("button",{"data-variation":7*24*60*60,title:m.$t("timeControl.moveForward")+" 7 "+m.$t("timeControl.days")+" "+m.$t("timeControl.future")},[w("+7"+h(m.$t("timeControl.days")),1)],8,yn)),[[k,b,"tap"],[O,b]])],2),o("div",fn,[o("small",null,[o("strong",null,h(m.$t("nt")),1)]),bn,w(" "+h(p($).naturalDate),1)]),(a(),nt(at("style"),null,{default:x(()=>[w(" :root { --hemisphere: "+h(p(L))+"; --day-progression: "+h(p($).dayProgression)+"; --day-saturation: saturate("+h(.4+p($).dayProgression*.6)+"); --ui-opacity: "+h(y.value)+"; } ",1)]),_:1}))])),[[k,_,"rollover"],[k,_,"release"]])}}};var wn="/assets/rainbow-day.a263a220.png",$n="/assets/rainbow-days.65897d03.png";const kn={key:0,class:"flex"},Cn=o("div",{class:"left"},null,-1),Sn={class:"right"},Wn={class:"top"},Mn={class:"title"},xn=st('<div class="dayColors"><span class="color-1"></span><span class="color-2"></span><span class="color-3"></span><span class="color-4"></span><span class="color-5"></span><span class="color-6"></span><span class="color-7"></span></div>',1),Ln={class:"bottom"},Dn=["title","onMouseenter"],Fn={class:"dayNumber"},En={key:0},On=o("img",{src:wn},null,-1),In=[On],Tn={key:1},Rn=o("img",{src:$n},null,-1),Nn=[Rn],zn={props:{today:{type:N,required:!0},moon:{type:Number,required:!0}},emits:["hover-date","reset-hover"],setup(e,{emit:l}){const n=e,u=U(()=>{let i=[];for(var t=0;t<28;t++){let r=new N(n.today.yearStart+N.MILLISECONDS_PER_DAY*28*(n.moon-1)+N.MILLISECONDS_PER_DAY*t,n.today.longitude);i[t]={date:r,dayClasses:{isToday:n.today.toDateString()==r.toDateString(),isPast:n.today.toDateString()>=r.toDateString(),isRainbowDay:n.today.isRainbowDay},backgroundClasses:{}},i[t].backgroundClasses[`color-${r.dayOfWeek}`]=!0}return i});return(i,t)=>{const r=et("touch");return a(),s("div",{class:z(["moonComponent",{passedMoon:e.today.moon>e.moon,currentMoon:e.today.moon==e.moon}])},[e.moon<14?(a(),s("div",kn,[Cn,o("div",Sn,[o("div",Wn,[o("div",Mn,[o("span",null,h(i.$t("moon")),1),w(" #"+h(e.moon),1)]),xn]),o("div",Ln,[(a(!0),s(B,null,V(p(u),d=>E((a(),s("div",{class:z(["dayOfMoon",d.dayClasses]),title:i.$t("nt")+" => "+d.date.toDateString()+`
`+i.$t("at")+" => "+new Date(d.date.unixTime).toLocaleDateString(),onMouseenter:g=>l("hover-date",d.date),onMouseleave:t[0]||(t[0]=g=>l("reset-hover"))},[o("div",{class:z(["background",d.backgroundClasses])},null,2),o("div",Fn,h(d.date.toDayOfMoonString()),1)],42,Dn)),[[r,l("hover-date",d.date),"press"],[r,l("reset-hover"),"release"]])),256))])])])):(a(),s("div",{key:1,class:z(["moon-rainbow-day",{isRainbowDay:e.today.isRainbowDay}]),onMouseenter:t[1]||(t[1]=d=>l("hover-date",new p(N)(e.today.yearStart+p(N).MILLISECONDS_PER_DAY*364,e.today.longitude))),onMouseleave:t[2]||(t[2]=d=>l("reset-hover"))},[e.today.yearDuration==365?(a(),s("div",En,In)):(a(),s("div",Tn,Nn))],34))],2)}}},An={width:"100%",height:"100%",viewBox:"0 0 100 68",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve"},Bn={key:0,transform:"matrix(1,0,0,1,-3000,-3358)"},Pn={id:"earth",transform:"matrix(0.0693461,0,0,0.0472222,2811.79,3358)"},Gn=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),jn={transform:"matrix(9.97724,0,0,9.92977,1675.41,-2683.03)"},qn={transform:"matrix(0.481333,0,0,0.722,0,0)"},Hn={transform:"matrix(0.481333,0,0,0.722,1.13787,-28.4698)"},Vn={transform:"matrix(0.481333,0,0,0.722,2.27575,-56.9396)"},Un={key:1,transform:"matrix(1,0,0,1,-3100,-3358)"},Yn={id:"water",transform:"matrix(0.0693461,0,0,0.0472222,2911.79,3358)"},Kn=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),Jn=o("clipPath",{id:"_clip1"},[o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440"})],-1),Qn={"clip-path":"url(#_clip1)"},Zn={transform:"matrix(12.6106,0,0,12.3458,881.613,-6020.99)"},Xn={transform:"matrix(0.481333,0,0,0.722,0,0)"},ta={transform:"matrix(0.481333,0,0,0.722,1.83233,-24.4784)"},ea={transform:"matrix(0.481333,0,0,0.722,3.66465,-48.9568)"},oa={key:2,transform:"matrix(1,0,0,1,-3200,-3358)"},na={id:"air",transform:"matrix(0.0693461,0,0,0.0472222,3011.79,3358)"},aa=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),ia={transform:"matrix(10.1559,0,0,11.8223,1318.83,-8154.52)"},sa={transform:"matrix(0.481333,0,0,0.722,0,0)"},la={transform:"matrix(0.481333,0,0,-0.722,0,1524.64)"},ra={transform:"matrix(0.481333,0,0,-0.722,0,1501.31)"},da={key:3,transform:"matrix(1,0,0,1,-3300,-3358)"},ua={id:"fire",transform:"matrix(0.0693461,0,0,0.0472222,3111.79,3358)"},ha=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),ma=o("clipPath",{id:"_clip1"},[o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440"})],-1),ca={"clip-path":"url(#_clip1)"},ga={transform:"matrix(4.70874e-16,-11.2927,11.6284,1.04562e-15,-2914.23,3006.6)"},va={transform:"matrix(0.481333,0,0,0.722,0,0)"},pa={transform:"matrix(0.481333,0,0,0.722,1.83233,-24.4784)"},ya={transform:"matrix(0.481333,0,0,0.722,3.66465,-48.9568)"},fa={props:{element:{type:Number,required:!0},color:{type:Number,required:!0}},setup(e){return(l,n)=>(a(),s("svg",An,[e.element==1?(a(),s("g",Bn,[o("g",Pn,[Gn,o("g",jn,[o("g",qn,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:M([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",Hn,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:M([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",Vn,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:M([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])):e.element==2?(a(),s("g",Un,[o("g",Yn,[Kn,Jn,o("g",Qn,[o("g",Zn,[o("g",Xn,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:M([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ta,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:M([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ea,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:M([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])])):e.element==3?(a(),s("g",oa,[o("g",na,[aa,o("g",ia,[o("g",sa,[o("path",{d:"M327.174,1071.54C327.174,1071.54 482.34,1069.77 508.112,1069.23C561.59,1068.11 534.308,1133.65 505.65,1103.96",style:M([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",la,[o("path",{d:"M327.174,1071.54C327.174,1071.54 482.34,1069.77 508.112,1069.23C561.59,1068.11 534.308,1133.65 505.65,1103.96",style:M([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ra,[o("path",{d:"M327.174,1071.54C327.174,1071.54 422.518,1069.77 448.291,1069.23C501.769,1068.11 474.486,1133.65 445.829,1103.96",style:M([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])):e.element==4?(a(),s("g",da,[o("g",ua,[ha,ma,o("g",ca,[o("g",ga,[o("g",va,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:M([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",pa,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:M([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ya,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:M([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])])):c("",!0)]))}};const ba={id:"moons-view"},_a=o("div",{id:"backgrounds"},[o("div",{id:"clouds"})],-1),wa={id:"year"},$a={id:"display"},ka={key:0,class:"center-me"},Ca={class:"display-top"},Sa={class:"display-year"},Wa={class:"digit"},Ma={class:"label"},xa={class:"display-moon"},La={class:"digit"},Da={class:"label"},Fa={class:"digit"},Ea={class:"label"},Oa={class:"display-bottom"},Ia={class:"time"},Ta={key:1,class:"center-me"},Ra={class:"display-top"},Na={class:"display-year"},za=o("div",{class:"digit"},"\xA0",-1),Aa={class:"label"},Ba=o("div",{class:"separator"},null,-1),Pa={class:"display-moon"},Ga={class:"digit"},ja={class:"label"},qa=o("div",{class:"separator"},null,-1),Ha={class:"display-day"},Va=o("div",{class:"digit"},"\xA0",-1),Ua={class:"label"},Ya={setup(e){const l=it(),n=J();l.params.latlng&&localStorage.coordinatesFrom=="default"&&(localStorage.latitude=parseFloat(l.params.latlng.split(",")[0]),localStorage.longitude=parseFloat(l.params.latlng.split(",")[1]),localStorage.location=l.params.location||"",localStorage.coordinatesFrom="url"),!l.params.latlng&&localStorage.coordinatesFrom!="default"&&n.push({name:"date",params:{latlng:localStorage.latitude+","+localStorage.longitude,location:localStorage.location}});const u=S(parseFloat(localStorage.latitude)),i=S(parseFloat(localStorage.longitude)),t=S(String(localStorage.location));l.params.latlng&&(u.value=parseFloat(l.params.latlng.split(",")[0]),i.value=parseFloat(l.params.latlng.split(",")[1]),t.value=String(l.params.location));const r=S(new Date);let d=null;tt(()=>{d=setInterval(()=>r.value=Date.now(),12e3)}),gt(()=>{clearInterval(d)});const g=U(()=>{let y=new N(r.value,i.value);return document.title=`${y.toDateString()} - ${t.value?t.value.replace(/_/g," "):""} (${y.toLongitudeString()})`,y}),$=S(!1),L=y=>{$.value=y},f=()=>{$.value=!1},b=U(()=>$.value||g.value);return tt(()=>{let y=document.getElementsByClassName("currentMoon")[0];window.scrollTo({top:y.offsetTop,behavior:"smooth"})}),vt((y,T)=>{y.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?(u.value=parseFloat(y.params.latlng.split(",")[0]),i.value=parseFloat(y.params.latlng.split(",")[1]),t.value=y.params.location):n.push({name:"settings"})}),(y,T)=>(a(),s("div",ba,[_a,o("div",wa,[o("div",$a,[p(b).isRainbowDay?(a(),s("div",Ta,[o("div",Ra,[o("div",Na,[za,o("div",Aa,h(y.$t("rainbowDay.out")),1)]),Ba,o("div",Pa,[o("div",Ga,h(y.$t("rainbowDay.day")),1),o("div",ja,h(y.$t("rainbowDay.of")),1)]),qa,o("div",Ha,[Va,o("div",Ua,h(y.$t("rainbowDay.time")),1)])]),o("div",{class:"display-bottom",style:M({color:"var(--color-"+p(b).dayOfWeek+")"})},[(a(),s(B,null,V(7,(_=1)=>o("div",null,[W(fa,{element:4-Math.abs(4-_),color:_},null,8,["element","color"])])),64))],4)])):(a(),s("div",ka,[o("div",Ca,[o("div",Sa,[o("div",Wa,h(p(b).toYearString()),1),o("div",Ma,h(y.$t("year")),1)]),o("div",{class:"separator",style:M({color:"var(--color-"+p(b).dayOfWeek+")"})},")",4),o("div",xa,[o("div",La,h(p(b).toMoonString()),1),o("div",Da,h(y.$t("moon")),1)]),o("div",{class:"separator",style:M({color:"var(--color-"+p(b).dayOfWeek+")"})},")",4),o("div",{class:"display-day",onClick:T[0]||(T[0]=_=>p(n).push({name:"time"}))},[o("div",Fa,h(p(b).toDayOfMoonString()),1),o("div",Ea,h(y.$t("day")),1)])]),o("div",Oa,[o("div",Ia,h(t.value?t.value.replace(/_/g," ")+" | ":"")+h(p(g).toTimeString(2,5))+" "+h(p(g).toLongitudeString()),1)])]))]),(a(),s(B,null,V(14,(_=1)=>W(zn,{id:"moon-"+_,today:p(g),moon:_,onHoverDate:L,onResetHover:f},null,8,["id","today","moon"])),64))])]))}};const Ka={class:"markdown-body"},Ja=st('<h1 data-v-62598b7a>Le temps naturel</h1><p data-v-62598b7a>Le temps naturel est un nouvel outil de mesure du temps en lien plus intime avec le vivant. Simple, fraiche et coh\xE9rente, cette convention est bas\xE9e sur le bon sens et l\u2019observation des cycles naturels.</p><blockquote data-v-62598b7a>Quelle heure est-il ?<br data-v-62598b7a>Le soleil est \xE0 113\xB0 \u{1F31E} \u{1F60E}</blockquote><blockquote data-v-62598b7a>Quel jour sommes-nous ?<br data-v-62598b7a>Nous sommes le 21e jour de la 12\xE8me lune \u{1F319} \u{1F341}</blockquote><h3 data-v-62598b7a>En quelques mots :</h3><ul data-v-62598b7a><li data-v-62598b7a>Le temps n\u2019est plus fragment\xE9 en heures/minutes/secondes mais en <strong data-v-62598b7a>degr\xE9s de rotation du soleil dans le ciel</strong> depuis un point d\u2019observation donn\xE9.</li><li data-v-62598b7a>Les jours qui passent sont compt\xE9s selon un rythme r\xE9gulier de <strong data-v-62598b7a>13 lunes de 28 jours</strong>.</li><li data-v-62598b7a>Chacune d\u2019entre elles est compos\xE9e d\u2019exactement <strong data-v-62598b7a>4 semaines de 7 jours</strong>.</li><li data-v-62598b7a>Une ann\xE9e naturelle commence aux alentours du solstice d\u2019hiver (h\xE9misph\xE8re nord).</li><li data-v-62598b7a>Elle est compos\xE9e de 13 x 28 jours + 1 ou 2 jour(s) arc-en-ciel (rainbow day) pour une dur\xE9e totale de 365 ou 366 jours.</li></ul><h3 data-v-62598b7a>Plus de lecture ?</h3><p data-v-62598b7a>Une introduction au temps naturel se trouve ici : <br data-v-62598b7a><a href="https://sylvainbiquette.xyz/presentation-horloge-temps-naturel" data-v-62598b7a>sylvainbiquette.xyz/presentation-horloge-temps-naturel</a> (en fran\xE7ais)</p><p data-v-62598b7a>Les sp\xE9cifications compl\xE8tes du temps naturel sont disponibles ici :<br data-v-62598b7a><a href="https://github.com/sylvain441/natural-time" data-v-62598b7a>github.com/sylvain441/natural-time</a> (en anglais)</p><h2 data-v-62598b7a>\xC0 propos de l\u2019application</h2><p data-v-62598b7a>L\u2019application <a href="https://naturaltime.app" data-v-62598b7a>naturaltime.app</a> est la premi\xE8re horloge bas\xE9e sur le temps naturel. Elle est h\xE9berg\xE9e sur <a href="https://github.com/sylvain441/natural-time-app" data-v-62598b7a>github</a> lib\xE9r\xE9e sous licence Creative Common Zero.</p><p data-v-62598b7a>Elle ne se trouve pas dans l\u2019AppStore ni le PlayStore mais peut quand m\xEAme s\u2019installer sur certains appareils/navigateurs pour une consultation hors-ligne. Il suffit simplement de se rendre sur <a href="https://naturaltime.app" data-v-62598b7a>naturaltime.app</a> puis de cliquer sur :</p><ul data-v-62598b7a><li data-v-62598b7a>iOS Safari : <em data-v-62598b7a>Partager &gt; Sur l\u2019\xE9cran d\u2019accueil</em></li><li data-v-62598b7a>Android Chrome : <em data-v-62598b7a>Menu &gt; Ajouter \xE0 l\u2019\xE9cran d\u2019accueil</em></li><li data-v-62598b7a>Google Chrome : <em data-v-62598b7a>Barre d\u2019adresse &gt; Installer Natural Time</em></li><li data-v-62598b7a>Microsoft Edge : <em data-v-62598b7a>Barre d\u2019adresse &gt; Installer Natural Time</em></li><li data-v-62598b7a>Firefox : <em data-v-62598b7a>Non compatible hors ligne</em></li><li data-v-62598b7a>Safari Mac : <em data-v-62598b7a>Non compatible hors ligne</em></li></ul>',13),Qa=w("Pour afficher "),Za=w("l\u2019horloge"),Xa=w(" et la "),ti=w("spirale des 13 lunes"),ei=w(", l\u2019utilisateur doit pr\xE9alablement "),oi=w("renseigner une position g\xE9ographique en param\xE8tre"),ni=w(". Les coordonn\xE9es sont sauvegard\xE9es d\u2019une fois sur l\u2019autre dans les donn\xE9es temporaires du navigateur."),ai=st('<p data-v-62598b7a>Il est \xE9galement possible de cr\xE9er une URL personnalis\xE9e :<br data-v-62598b7a><code data-v-62598b7a>https://naturaltime.app/#/latitude,longitude/Nom_personnalis\xE9_du_lieu</code>.</p><p data-v-62598b7a>Exemple : <code data-v-62598b7a>https://naturaltime.app/#/29.97,31.13/Pyramide_de_Kh\xE9ops</code></p><p data-v-62598b7a>Des boutons s\u2019activent au toucher (ou au mouvement de la souris) pour permettre de jouer avec <a href="https://sylvainbiquette.xyz/TODO" data-v-62598b7a>l\u2019horloge</a>. Il est possible de se d\xE9placer dans le temps par incr\xE9ments de 2\xB0, de 360\xB0 (1 jour) ou de 7 jours. <br data-v-62598b7a><em data-v-62598b7a>Astuce : maintenir appuy\xE9 longtemps pour faire d\xE9filer le temps rapidement.</em></p><h2 data-v-62598b7a>Contribuer</h2><p data-v-62598b7a>Si le projet parle \xE0 ton c\u0153ur, n\u2019h\xE9site pas \xE0 contribuer \xE0 ta fa\xE7on. L\u2019application aurait bien besoin d\u2019un regard expert pour y apporter un peu d\u2019optimisation.</p><p data-v-62598b7a>Le code source du temps naturel est divis\xE9 en trois parties :</p><ul data-v-62598b7a><li data-v-62598b7a>Sp\xE9cifications compl\xE8tes du temps naturel (no code) : <a href="https://github.com/sylvain441/natural-time" data-v-62598b7a>github.com/sylvain441/natural-time</a></li><li data-v-62598b7a>Librairie JavaScript de calcul du temps naturel \xA0: <a href="https://github.com/sylvain441/natural-time-js" data-v-62598b7a>github.com/sylvain441/natural-time-js</a></li><li data-v-62598b7a>Application VueJs horloge du temps naturel \xA0: <a href="https://github.com/sylvain441/natural-time-app" data-v-62598b7a>github.com/sylvain441/natural-time-app</a> \u2014 <a href="https://naturaltime.app" data-v-62598b7a>naturaltime.app</a></li></ul><p data-v-62598b7a>Le code source et l\u2019application appartiennent au domaine public sous licence CC0-1.0. Tu peux jouer \xE0 forker le code, le spooner ou le knifer m\xEAme ! et pourquoi pas l\u2019int\xE9grer dans ta propre application ?</p><h2 data-v-62598b7a>Remerciements</h2><p data-v-62598b7a>Un grand merci pour leur inspiration aux montagnes, aux ch\xE8vres, lamas et fourmis.<br data-v-62598b7a>Gratitude infinie pour Toto et Uncle Skywalker, deux explorateurs du temps. Merci d&#39;exister.<br data-v-62598b7a>Remerciement \xE0 Don Cross l&#39;auteur d&#39;<a href="https://github.com/cosinekitty/astronomy/" data-v-62598b7a>astronomy engine</a> qui permet \xE0 l&#39;application de calculer le mouvement des astres dans le ciel.</p><p data-v-62598b7a>Le temps naturel est n\xE9 dans les Alpes Fran\xE7aises lors du printemps/\xE9t\xE9 2022.<br data-v-62598b7a>Pour toutes questions : <a href="mailto:sylvain441@pm.me" data-v-62598b7a>sylvain441@pm.me</a> \u2013 <a href="https://t.me/sylvain441" data-v-62598b7a>@sylvain441</a> (telegram).</p><p style="text-align:center;" data-v-62598b7a><br data-v-62598b7a><br data-v-62598b7a>\u{1F30D} One love \u{1F30E}<br data-v-62598b7a>\u{1F3D4} \u{1F410} \u{1F31E} \u{1F308}</p>',12),ii={setup(e){const l=Y.exports.useI18n();return document.title=`${l.t("about.title")}`,(n,u)=>{const i=R("router-link");return a(),s("div",Ka,[Ja,o("p",null,[Qa,W(i,{to:{name:"time"}},{default:x(()=>[Za]),_:1}),Xa,W(i,{to:{name:"date"}},{default:x(()=>[ti]),_:1}),ei,W(i,{to:{name:"date"}},{default:x(()=>[oi]),_:1}),ni]),ai])}}};var si=lt(ii,[["__scopeId","data-v-62598b7a"]]);const ht=(e,l)=>{if(e.params.latlng!==void 0&&!e.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/))return!1},ot=wt({history:$t("/"),routes:[{path:"/settings",name:"settings",component:Xt},{path:"/:latlng?/:location?",name:"time",component:_n,beforeRouteEnter:ht},{path:"/13moons/:latlng?/:location?",name:"date",component:Ya,beforeRouteEnter:ht},{path:"/about",name:"about",component:si}]});ot.beforeEach((e,l)=>{localStorage.latitude||(localStorage.latitude=42.42),localStorage.longitude||(localStorage.longitude=0),localStorage.location||(localStorage.location=""),localStorage.coordinatesFrom||(localStorage.coordinatesFrom="default")});const li={en:{nt:"Natural time",at:"Artificial time",meta:{description:"Natural time is a fresh, elegant, and coherent way of measuring the movements of time here on the Earth. This new time standard is based on common sense and the observation of natural cycles."},longitude:"Longitude",latitude:"Latitude",rainbowDay:{full:"Rainbow Day",day:"Rainbow",out:"D",of:"A",time:"Y"},nav:{clock:"Clock",moons:"13 moons",about:"Read more",location:"Settings"},settings:{title:"Pick up a location",form:{latitude:"latitude",longitude:"longitude",location:"location name",save:"save",trackGPS:"Find me on the map"}},askForlocation:{line1:"Natural",line2:"Time",button:"Set the clock"},timeControl:{moveBackward:"Move",moveForward:"Move",days:"days",day:"day",degrees:"degrees",past:"in the past",future:"in the future",reset:"Set Now",resetTitle:"Go back to now"},about:{title:"Learn more about natural time"},year:"Year",moon:"Moon",day:"Day",weekDay:"{color} {element}",colors:{1:"Red",2:"Orange",3:"Yellow",4:"Green",5:"Blue",6:"Indigo",7:"Violet"},elements:{1:"Earth",2:"Water",3:"Air",4:"Fire"}},fr:{nt:"Temps naturel",at:"Temps artificiel",meta:{description:"Le temps naturel est une nouvelle mani\xE8re de mesurer les mouvements du temps de fa\xE7on coh\xE9rente, fraiche et \xE9l\xE9gante. Cette nouvelle convention est bas\xE9e sur le bon sens et sur l'observation des cycles naturels."},longitude:"Longitude",latitude:"Latitude",rainbowDay:{full:"Jour Arc en Ciel",day:"Jour",out:"Arc",of:"En",time:"Ciel"},nav:{clock:"Horloge",moons:"13 lunes",about:"\xC0 propos",location:"R\xE9glages"},settings:{title:"Choisir un lieu",form:{latitude:"latitude",longitude:"longitude",location:"nom du lieu",save:"Enregistrer",trackGPS:"Me localiser"}},askForlocation:{line1:"Temps",line2:"Naturel",button:"Definir l'emplacement"},timeControl:{moveBackward:"Reculer de",moveForward:"Avancer de",days:"j",day:"jour",degrees:"degr\xE9s",past:"dans le pass\xE9",future:"dans le futur",reset:"Remise \xE0 0",resetTitle:"Revenir \xE0 Maintenant"},about:{title:"En savoir plus sur le temps naturel"},year:"Ann\xE9e",moon:"Lune",day:"Jour",weekDay:"{element} {color}",colors:{1:"Rouge",2:"Orange",3:"Jaune",4:"Vert",5:"Bleu",6:"Indigo",7:"Violet"},elements:{1:"Terre",2:"Eau",3:"Air",4:"Feu"}}},ri=Y.exports.createI18n({locale:navigator.language||navigator.userLanguage,fallbackLocale:"en",silentTranslationWarn:!0,silentFallbackWarn:!0,messages:li});var di=({delay:e=400,interval:l=50})=>({beforeMount(n,u,i,t){if(typeof u.value!="function"){const f=i.context.name;let b=`[longclick:] provided expression '${u.expression}' is not a function, but has to be`;f&&(b+=`Found in component '${f}' `),console.warn(b)}let r=null,d=null;const g=f=>{u.value(f)},$=f=>{f.type==="click"&&f.button!==0||r===null&&(r=setTimeout(()=>{l&&l>0&&(d=setInterval(()=>{g(f)},l)),g(f)},e))},L=()=>{r!==null&&(clearTimeout(r),r=null),d&&(clearInterval(d),d=null)};["mousedown","touchstart"].forEach(f=>{n.addEventListener(f,$,{passive:!0})}),["click","mouseout","touchend","touchcancel"].forEach(f=>{n.addEventListener(f,L,{passive:!0})})},created(){},mounted(){},beforeUpdate(){},updated(){},beforeUnmount(){},unmounted(){}}),ui="/assets/location.1ac417ab.svg";const hi={class:"UI"},mi=w(" \xA0 "),ci=["title"],gi={setup(e){const l=it(),n=Y.exports.useI18n(),u=document.getElementsByTagName("meta");return u.description.content=n.t("meta.description"),(i,t)=>{const r=R("router-view"),d=R("router-link");return a(),s("div",null,[W(r,null,{default:x(({Component:g})=>[W(kt,{name:"fade",mode:"out-in"},{default:x(()=>[(a(),nt(at(g)))]),_:2},1024)]),_:1}),o("nav",hi,[W(d,{to:{name:"time",params:p(l).params}},{default:x(()=>[w(h(i.$t("nav.clock")),1)]),_:1},8,["to"]),W(d,{to:{name:"date",params:p(l).params}},{default:x(()=>[w(h(i.$t("nav.moons")),1)]),_:1},8,["to"]),W(d,{to:{name:"about"}},{default:x(()=>[w(h(i.$t("nav.about")),1)]),_:1}),mi,W(d,{to:{name:"settings"}},{default:x(()=>[o("img",{src:ui,title:i.$t("nav.location")},null,8,ci)]),_:1})])])}}};function vi(e={}){const{immediate:l=!1,onNeedRefresh:n,onOfflineReady:u,onRegistered:i,onRegisterError:t}=e;let r;const d=async(g=!0)=>{};return"serviceWorker"in navigator&&(r=new Ct("/sw.js",{scope:"/",type:"classic"}),r.addEventListener("activated",g=>{g.isUpdate?window.location.reload():u==null||u()}),r.register({immediate:l}).then(g=>{i==null||i(g)}).catch(g=>{t==null||t(g)})),d}St(gi).use(ot).use(ri,{missingWarn:!1,silentFallbackWarn:!0}).use(Wt).use(Mt,{rollOverFrequency:500}).use(xt,{host:"https://stats.naturaltime.app/matomo",siteId:1,router:ot}).directive("longclick",di({delay:222,interval:111})).mount("#app");vi({onOfflineReady(){}});
