var We=Object.defineProperty;var ue=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var he=(t,s,n)=>s in t?We(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,j=(t,s)=>{for(var n in s||(s={}))Me.call(s,n)&&he(t,n,s[n]);if(ue)for(var n of ue(s))Le.call(s,n)&&he(t,n,s[n]);return t};import{a as f,u as Z,o as a,c as i,b as o,F as q,r as G,n as O,g as P,d as m,e as _,t as c,f as z,h as te,w as I,i as oe,p as ae,j as ne,k as F,v as H,l as $,m as me,q as K,C as xe,G as De,s as N,x as W,y as p,z as T,A as ce,B as Fe,D as ge,E as ie,H as ve,I as Y,J as fe,K as X,T as se,N as A,L as le,M as Ee,O as Ie,P as Oe,Q as Pe,R as Te,S as Re,V as Be}from"./vendor.688a54fc.js";const Ne=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const d of e)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const d={};return e.integrity&&(d.integrity=e.integrity),e.referrerpolicy&&(d.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?d.credentials="include":e.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(e){if(e.ep)return;e.ep=!0;const d=n(e);fetch(e.href,d)}};Ne();var ye="/assets/location.9e92ee76.svg";const U={},V={};function Ae(t,s){let n=new f.Observer(s,t.longitude,0),r=new Date(t.unixTime),e=f.Equator(f.Body.Sun,r,n,!0,!1),d=Math.max(f.Horizon(r,n,e.ra,e.dec).altitude,0),l=f.SearchHourAngle(f.Body.Sun,n,0,new Date(t.nadir));return{altitude:d,highestAltitude:l.hor.altitude}}function ze(t,s){let n=t.toDateString()+s+t.longitude;if(U!=null&&U[n])return U[n];let r=new f.Observer(s,t.longitude,0),e=new Date(t.nadir),d=s>=0&&t.dayOfYear>=91&&t.dayOfYear<=273||s<=0&&(t.dayOfYear<=91||t.dayOfYear>=273),l=t.getTimeOfEvent(f.SearchRiseSet(f.Body.Sun,r,1,e,1));l||(l=d?0:180);let u=t.getTimeOfEvent(f.SearchRiseSet(f.Body.Sun,r,-1,e,1));u||(u=d?360:180);let v=t.getTimeOfEvent(f.SearchAltitude(f.Body.Sun,r,-1,e,2,-12));v||(v=d?360:180);let C=t.getTimeOfEvent(f.SearchAltitude(f.Body.Sun,r,1,e,2,-12));C||(C=d?0:180);let L=t.getTimeOfEvent(f.SearchAltitude(f.Body.Sun,r,1,e,2,6));L||(L=d?0:180);let g=t.getTimeOfEvent(f.SearchAltitude(f.Body.Sun,r,-1,e,2,6));return g||(g=d?360:180),U[n]={sunrise:l,sunset:u,nightStart:v,nightEnd:C,morningGoldenHour:L,eveningGoldenHour:g}}function qe(t,s){let n=new f.Observer(s,t.longitude,0),r=new Date(t.unixTime),e=f.MoonPhase(r),d=f.Equator(f.Body.Moon,r,n,!0,!1),l=Math.max(f.Horizon(r,n,d.ra,d.dec).altitude,0),u=f.SearchHourAngle(f.Body.Moon,n,0,new Date(t.nadir));return{phase:e,altitude:l,highestAltitude:u.hor.altitude}}function Ge(t,s){let n=t.toDateString()+s+t.longitude;if(V!=null&&V[n])return V[n];let r=new f.Observer(s,t.longitude,0),e=f.SearchRiseSet(f.Body.Moon,r,1,new Date(t.nadir),1),d=f.SearchRiseSet(f.Body.Moon,r,-1,new Date(t.nadir),1);return V[n]={moonrise:t.getTimeOfEvent(e),moonset:t.getTimeOfEvent(d)}}var He="/assets/northern-dial.dca19e20.jpg",je="/assets/southern-dial.3e08cd82.jpg",Ue="/assets/northern-sun-circle.4ceff6c8.png",Ve="/assets/southern-sun-circle.55c49a4d.png",Ye="/assets/moon-0.bbdedb9c.png",Je="/assets/moon-1.53303736.png",Ke="/assets/moon-2.ef741867.png",Ze="/assets/moon-3.bd205479.png",Qe="/assets/moon-4.0ab42789.png",Xe="/assets/moon-5.c994fa5e.png",et="/assets/moon-6.8bc4c52a.png",tt="/assets/moon-7.93cc69d9.png",ot="/assets/moon-8.f46937ae.png",at="/assets/moon-9.e3ac5a6c.png",nt="/assets/moon-10.33e297ee.png",it="/assets/moon-11.aba6c603.png",st="/assets/moon-12.d4a2300e.png",lt="/assets/moon-13.7f160f14.png",rt="/assets/moon-14.cba7fa74.png",dt="/assets/moon-15.3a2a054c.png",ut="/assets/moon-16.58d67d99.png",ht="/assets/moon-17.cac8178e.png",mt="/assets/moon-18.668d92d8.png",ct="/assets/moon-19.19516bc9.png",gt="/assets/moon-20.da74d340.png",pt="/assets/moon-21.e197fc89.png",vt="/assets/moon-22.91d0eb74.png",ft="/assets/moon-23.d30a6223.png",yt="/assets/moon-24.a542d56a.png",wt="/assets/moon-25.4c9c06ac.png",kt="/assets/moon-26.44bd9aa4.png",bt="/assets/moon-27.8f9c7a8e.png",$t="/assets/moon-28.09ab6426.png",_t="/assets/moon-29.95c32788.png",Ct="/assets/moon-30.80e11381.png",St="/assets/moon-31.dcbd3b12.png",Wt="/assets/moon-32.09e6ad2b.png",Mt="/assets/moon-33.e366d0aa.png",Lt="/assets/moon-34.39233623.png",xt="/assets/moon-35.8db66114.png",Dt="/assets/NTZ.c938f261.png",Ft="/assets/sun-needle.3b0dc62a.png";var re=(t,s)=>{const n=t.__vccOpts||t;for(const[r,e]of s)n[r]=e;return n};const J=t=>(ae("data-v-60b021cf"),t=t(),ne(),t),Et={height:"100%",width:"100%",viewBox:"0 0 360 360",preserveAspectRatio:"xMidYMid meet",overflow:"visible"},It=J(()=>o("filter",{id:"blurry"},[o("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5"})],-1)),Ot=["id"],Pt=["stop-color"],Tt=["stop-color"],Rt=J(()=>o("pattern",{id:"northernDial",height:"100%",width:"100%",patternContentUnits:"objectBoundingBox"},[o("image",{preserveAspectRatio:"none",width:"1",height:"1",href:He})],-1)),Bt=J(()=>o("pattern",{id:"southernDial",height:"100%",width:"100%",patternContentUnits:"objectBoundingBox"},[o("image",{preserveAspectRatio:"none",width:"1",height:"1",href:je})],-1)),Nt={id:"blurryPeriodsRing",filter:"url(#blurry)"},At={id:"periodsRing"},zt={id:"sun",width:"100%",height:"100%"},qt={key:0,href:Ue,width:"100%",height:"100%"},Gt={key:1,href:Ve,width:"100%",height:"100%"},Ht={id:"moon",width:"100%",height:"100%"},jt=["width","height","x","y"],Ut=["width","height","x","y"],Vt=["width","height","x","y"],Yt=["width","height","x","y"],Jt=["width","height","x","y"],Kt=["width","height","x","y"],Zt=["width","height","x","y"],Qt=["width","height","x","y"],Xt=["width","height","x","y"],eo=["width","height","x","y"],to=["width","height","x","y"],oo=["width","height","x","y"],ao=["width","height","x","y"],no=["width","height","x","y"],io=["width","height","x","y"],so=["width","height","x","y"],lo=["width","height","x","y"],ro=["width","height","x","y"],uo=["width","height","x","y"],ho=["width","height","x","y"],mo=["width","height","x","y"],co=["width","height","x","y"],go=["width","height","x","y"],po=["width","height","x","y"],vo=["width","height","x","y"],fo=["width","height","x","y"],yo=["width","height","x","y"],wo=["width","height","x","y"],ko=["width","height","x","y"],bo=["width","height","x","y"],$o=["width","height","x","y"],_o=["width","height","x","y"],Co=["width","height","x","y"],So=["width","height","x","y"],Wo=["width","height","x","y"],Mo=["width","height","x","y"],Lo=["r"],xo=["r","fill"],Do=J(()=>o("image",{id:"ntzNeedle","xlink:href":Dt,width:"100%",height:"100%"},null,-1)),Fo={id:"prompt"},Eo=["cx","cy","r"],Io=J(()=>o("image",{id:"sunNeedle",href:Ft,width:"100%",height:"100%"},null,-1)),Oo={id:"units",x:"174",y:"196"},Po={id:"decimals",x:"228",y:"196"},To={props:{naturalDate:{type:Object,required:!0},sunContext:Object,moonContext:Object,hemisphere:Number,location:String},emits:["editLocation"],setup(t,{emit:s}){Z();const n={dialSize:110,ringSize:90,ntzSize:74.9,blurSize:165,xstart:2.02,xspan:.05,ystart:1.455,yspan:.06,periodColors:{golden:"#FFC856",day:"#80CCFF",pinky:"#FFC856",nautical:"#2A2F55",night:"#000"}};function r(e,d,l,u){return e>d&&(d+=360),{"stroke-dasharray":(d-e)*Math.PI*(u/180)+" "+Math.PI*u*2,transform:"rotate("+e+" 180 180)",r:u,cx:"180",cy:"180","stroke-width":u,stroke:l,fill:"transparent"}}return(e,d)=>(a(),i(q,null,[(a(),i("svg",Et,[o("defs",null,[It,(a(!0),i(q,null,G(n.periodColors,(l,u)=>(a(),i("radialGradient",{key:u,id:u,cx:"50%",cy:"50%",r:"50%"},[o("stop",{offset:"50%","stop-color":l,"stop-opacity":"1"},null,8,Pt),o("stop",{offset:"100%","stop-color":l,"stop-opacity":"0"},null,8,Tt)],8,Ot))),128)),Rt,Bt]),o("g",Nt,[o("circle",O(P(r(t.sunContext.sunrise,t.sunContext.morningGoldenHour,"url(#golden)",n.blurSize))),null,16),o("circle",O(P(r(t.sunContext.morningGoldenHour,t.sunContext.eveningGoldenHour,"url(#day)",n.blurSize))),null,16),o("circle",O(P(r(t.sunContext.eveningGoldenHour,t.sunContext.sunset,"url(#pinky)",n.blurSize))),null,16),o("circle",O(P(r(t.sunContext.nightStart,t.sunContext.nightEnd,"url(#night)",n.blurSize))),null,16),o("circle",O(P(r(t.sunContext.nightEnd,t.sunContext.sunrise,"url(#nautical)",n.blurSize))),null,16),o("circle",O(P(r(t.sunContext.sunset,t.sunContext.nightStart,"url(#nautical)",n.blurSize))),null,16)]),o("g",At,[o("circle",O(P(r(t.sunContext.sunrise,t.sunContext.morningGoldenHour,n.periodColors.golden,n.ringSize))),null,16),o("circle",O(P(r(t.sunContext.morningGoldenHour,t.sunContext.eveningGoldenHour,n.periodColors.day,n.ringSize))),null,16),o("circle",O(P(r(t.sunContext.eveningGoldenHour,t.sunContext.sunset,n.periodColors.pinky,n.ringSize))),null,16),o("circle",O(P(r(t.sunContext.nightStart,t.sunContext.nightEnd,n.periodColors.night,n.ringSize))),null,16),o("circle",O(P(r(t.sunContext.nightEnd,t.sunContext.sunrise,n.periodColors.nautical,n.ringSize))),null,16),o("circle",O(P(r(t.sunContext.sunset,t.sunContext.nightStart,n.periodColors.nautical,n.ringSize))),null,16)]),o("g",zt,[t.hemisphere>0?(a(),i("image",qt)):(a(),i("image",Gt))]),o("g",Ht,[Math.floor((360-t.moonContext.phase)/10)==0?(a(),i("image",{key:0,href:Ye,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,jt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==1?(a(),i("image",{key:1,href:Je,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Ut)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==2?(a(),i("image",{key:2,href:Ke,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Vt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==3?(a(),i("image",{key:3,href:Ze,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Yt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==4?(a(),i("image",{key:4,href:Qe,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Jt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==5?(a(),i("image",{key:5,href:Xe,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Kt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==6?(a(),i("image",{key:6,href:et,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Zt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==7?(a(),i("image",{key:7,href:tt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Qt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==8?(a(),i("image",{key:8,href:ot,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Xt)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==9?(a(),i("image",{key:9,href:at,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,eo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==10?(a(),i("image",{key:10,href:nt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,to)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==11?(a(),i("image",{key:11,href:it,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,oo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==12?(a(),i("image",{key:12,href:st,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,ao)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==13?(a(),i("image",{key:13,href:lt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,no)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==14?(a(),i("image",{key:14,href:rt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,io)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==15?(a(),i("image",{key:15,href:dt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,so)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==16?(a(),i("image",{key:16,href:ut,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,lo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==17?(a(),i("image",{key:17,href:ht,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,ro)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==18?(a(),i("image",{key:18,href:mt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,uo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==19?(a(),i("image",{key:19,href:ct,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,ho)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==20?(a(),i("image",{key:20,href:gt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,mo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==21?(a(),i("image",{key:21,href:pt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,co)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==22?(a(),i("image",{key:22,href:vt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,go)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==23?(a(),i("image",{key:23,href:ft,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,po)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==24?(a(),i("image",{key:24,href:yt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,vo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==25?(a(),i("image",{key:25,href:wt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,fo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==26?(a(),i("image",{key:26,href:kt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,yo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==27?(a(),i("image",{key:27,href:bt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,wo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==28?(a(),i("image",{key:28,href:$t,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,ko)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==29?(a(),i("image",{key:29,href:_t,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,bo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==30?(a(),i("image",{key:30,href:Ct,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,$o)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==31?(a(),i("image",{key:31,href:St,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,_o)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==32?(a(),i("image",{key:32,href:Wt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Co)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==33?(a(),i("image",{key:33,href:Mt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,So)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==34?(a(),i("image",{key:34,href:Lt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Wo)):m("",!0),Math.floor((360-t.moonContext.phase)/10)==35?(a(),i("image",{key:35,href:xt,width:(e.moonWidth=11)+"%",height:e.moonWidth+"%",x:50-e.moonWidth/2+"%",y:50-e.moonWidth/2+"%"},null,8,Mo)):m("",!0)]),o("circle",{id:"dialLoadingBg",r:n.dialSize,cx:"180",cy:"180",fill:"#E3E3E3"},null,8,Lo),o("circle",{id:"dial",r:n.dialSize,cx:"180",cy:"180",fill:t.hemisphere>0?"url(#northernDial)":"url(#southernDial)"},null,8,xo),Do,o("g",Fo,[o("text",{id:"location",x:"180",y:"211",onClick:d[0]||(d[0]=l=>s("editLocation"))},[_(c(t.location.replace(/_/g," "))+" ("+c(t.naturalDate.toLongitudeString())+")",1),o("title",null,c(e.$t("nav.editLocation")),1)]),o("g",null,[t.naturalDate.isRainbowDay?m("",!0):(a(),i(q,{key:0},G(28,l=>o("circle",{cx:(n.ystart+n.yspan*((l-1)%7))*n.dialSize,cy:(n.xstart+n.xspan*parseInt((l-1)/7))*n.dialSize,r:l==t.naturalDate.dayOfMoon?2:1.4,class:z(l==t.naturalDate.dayOfMoon?"color-"+t.naturalDate.dayOfWeek:"")},null,10,Eo)),64))])]),Io,o("g",{id:"time",onClick:d[1]||(d[1]=l=>s("editLocation"))},[o("text",Oo,c(("00"+Math.floor(t.naturalDate.time)).slice(-3))+"\xB0",1),o("text",Po,c(("0"+Math.floor((t.naturalDate.time-Math.floor(t.naturalDate.time))*100/1)*1).slice(-2)),1),o("title",null,c(e.$t("nav.editLocation")),1)])])),(a(),te(oe("style"),null,{default:I(()=>[_(" :root { --sun-time: "+c(t.naturalDate.time*t.hemisphere)+"deg; --ntz-time: "+c((t.naturalDate.time-t.naturalDate.longitude)*t.hemisphere)+"deg; --sun-altitude: "+c(t.sunContext.altitude*.9)+"px; --moon-time: "+c(t.naturalDate.time*t.hemisphere-t.moonContext.phase*t.hemisphere)+"deg; --moon-altitude: "+c(t.moonContext.altitude*.9)+"px; } ",1)]),_:1}))],64))}};var Ro=re(To,[["__scopeId","data-v-60b021cf"]]),Bo="/assets/geolocation.a5e1f8ae.svg";const No={width:"100%",height:"100%",viewBox:"0 0 100 68",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve"},Ao={key:0,transform:"matrix(1,0,0,1,-3000,-3358)"},zo={id:"earth",transform:"matrix(0.0693461,0,0,0.0472222,2811.79,3358)"},qo=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),Go={transform:"matrix(9.97724,0,0,9.92977,1675.41,-2683.03)"},Ho={transform:"matrix(0.481333,0,0,0.722,0,0)"},jo={transform:"matrix(0.481333,0,0,0.722,1.13787,-28.4698)"},Uo={transform:"matrix(0.481333,0,0,0.722,2.27575,-56.9396)"},Vo={key:1,transform:"matrix(1,0,0,1,-3100,-3358)"},Yo={id:"water",transform:"matrix(0.0693461,0,0,0.0472222,2911.79,3358)"},Jo=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),Ko=o("clipPath",{id:"_clip1"},[o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440"})],-1),Zo={"clip-path":"url(#_clip1)"},Qo={transform:"matrix(12.6106,0,0,12.3458,881.613,-6020.99)"},Xo={transform:"matrix(0.481333,0,0,0.722,0,0)"},ea={transform:"matrix(0.481333,0,0,0.722,1.83233,-24.4784)"},ta={transform:"matrix(0.481333,0,0,0.722,3.66465,-48.9568)"},oa={key:2,transform:"matrix(1,0,0,1,-3200,-3358)"},aa={id:"air",transform:"matrix(0.0693461,0,0,0.0472222,3011.79,3358)"},na=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),ia={transform:"matrix(10.1559,0,0,11.8223,1318.83,-8154.52)"},sa={transform:"matrix(0.481333,0,0,0.722,0,0)"},la={transform:"matrix(0.481333,0,0,-0.722,0,1524.64)"},ra={transform:"matrix(0.481333,0,0,-0.722,0,1501.31)"},da={key:3,transform:"matrix(1,0,0,1,-3300,-3358)"},ua={id:"fire",transform:"matrix(0.0693461,0,0,0.0472222,3111.79,3358)"},ha=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),ma=o("clipPath",{id:"_clip1"},[o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440"})],-1),ca={"clip-path":"url(#_clip1)"},ga={transform:"matrix(4.70874e-16,-11.2927,11.6284,1.04562e-15,-2914.23,3006.6)"},pa={transform:"matrix(0.481333,0,0,0.722,0,0)"},va={transform:"matrix(0.481333,0,0,0.722,1.83233,-24.4784)"},fa={transform:"matrix(0.481333,0,0,0.722,3.66465,-48.9568)"},we={props:{element:{type:Number,required:!0},color:{type:Number,required:!0}},setup(t){return(s,n)=>(a(),i("svg",No,[t.element==1?(a(),i("g",Ao,[o("g",zo,[qo,o("g",Go,[o("g",Ho,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:F([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",jo,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:F([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",Uo,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:F([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+t.color+")"}])},null,4)])])])])):t.element==2?(a(),i("g",Vo,[o("g",Yo,[Jo,Ko,o("g",Zo,[o("g",Qo,[o("g",Xo,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:F([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",ea,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:F([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",ta,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:F([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+t.color+")"}])},null,4)])])])])])):t.element==3?(a(),i("g",oa,[o("g",aa,[na,o("g",ia,[o("g",sa,[o("path",{d:"M327.174,1071.54C327.174,1071.54 482.34,1069.77 508.112,1069.23C561.59,1068.11 534.308,1133.65 505.65,1103.96",style:F([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",la,[o("path",{d:"M327.174,1071.54C327.174,1071.54 482.34,1069.77 508.112,1069.23C561.59,1068.11 534.308,1133.65 505.65,1103.96",style:F([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",ra,[o("path",{d:"M327.174,1071.54C327.174,1071.54 422.518,1069.77 448.291,1069.23C501.769,1068.11 474.486,1133.65 445.829,1103.96",style:F([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+t.color+")"}])},null,4)])])])])):t.element==4?(a(),i("g",da,[o("g",ua,[ha,ma,o("g",ca,[o("g",ga,[o("g",pa,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:F([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",va,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:F([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+t.color+")"}])},null,4)]),o("g",fa,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:F([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+t.color+")"}])},null,4)])])])])])):m("",!0)]))}};const ke=t=>(ae("data-v-b185c522"),t=t(),ne(),t),ya={id:"map"},wa=["title"],ka=ke(()=>o("img",{src:Bo},null,-1)),ba=[ka],$a=ke(()=>o("span",{class:"reticule"},null,-1)),_a={id:"form"},Ca={for:"latitude"},Sa=_("\xA0\xA0 "),Wa={for:"longitude"},Ma={id:"decoration"},La={emits:["close"],setup(t,{emit:s}){var M;const n=Z(),r=H.exports.useI18n();$(window.location.origin);const e=$(!1),d=y=>{g.value.fit([y[0],y[1],y[0],y[1]],{maxZoom:7}),e.value=!1},l=$(localStorage.latitude),u=$(localStorage.longitude),v=$(((M=localStorage.location)==null?void 0:M.replace(/_/g," "))||""),C=$(window.navigator.onLine);window.addEventListener("online",()=>{C.value=window.navigator.onLine}),window.addEventListener("offline",()=>{C.value=window.navigator.onLine});const L=$(null),g=$(null),E=$(null),b=$(null),x=$(localStorage.longitude?3:2),k=me([u.value,l.value]);function D(y){l.value=parseFloat(ge(y)[1].toFixed(2)),u.value=parseFloat(ge(y)[0].toFixed(2)),(String(v.value).startsWith(r.t("longitude"))||!v.value)&&(v.value=r.t("longitude")+" "+parseInt(u.value))}function h(){g.value.setCenter(me([u.value,l.value]))}K(()=>{L.value.map.addControl(new xe({element:b.value}));const y=new De("nominatim",{provider:"photon",lang:"fr-FR",placeholder:r.t("locationPicker.searchFor"),targetType:"text-input",autoComplete:!0,autoCompleteMinLength:4,autoCompleteTimeout:500,limit:4,keepOpen:!0});y.on("addresschosen",function(S){v.value=S.place.address.city||S.place.address.name||S.place.address.state||S.place.address.country}),L.value.map.addControl(y),E.value.focus()});function w(){let y=window.prompt(r.t("locationPicker.promptLocationName"),v.value);y!=null&&(localStorage.location=y.replace(/\s/g,"_"),localStorage.longitude=u.value,localStorage.latitude=l.value,localStorage.coordinatesFrom="user",s("close"),n.push({name:n.currentRoute.value.name,params:{location:localStorage.location,latlng:localStorage.latitude+","+localStorage.longitude}}))}return(y,S)=>{const Q=N("ol-view"),R=N("ol-geolocation"),$e=N("ol-zoom-control"),_e=N("ol-source-osm"),Ce=N("ol-tile-layer"),Se=N("ol-map");return a(),i("div",{id:"modal",ref_key:"modal",ref:E,onKeydown:S[4]||(S[4]=Fe(B=>{s("close")},["esc"])),tabindex:"-1"},[o("h1",null,[_(c(y.$t("locationPicker.title.line1"))+" ",1),o("small",null,c(y.$t("locationPicker.title.line2")),1),o("span",null,c(y.$t("locationPicker.title.line3")),1),o("div",{id:"close-location-picker",onClick:S[0]||(S[0]=B=>{s("close")})},"\u2715")]),o("div",ya,[W(Se,{id:"map-canvas",loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,ref_key:"map",ref:L},{default:I(()=>[W(Q,{ref_key:"view",ref:g,center:p(k),zoom:x.value,onCenterChanged:D},null,8,["center","zoom"]),W(R,{tracking:e.value,onPositionChanged:d},null,8,["tracking"]),W($e),o("div",{class:z(["ol-control ol-unselectable locate",{"is-tracking":e.value}]),ref_key:"locateButton",ref:b},[o("button",{title:p(r).t("locationPicker.locateMe"),onClick:S[1]||(S[1]=B=>e.value=!0)},ba,8,wa)],2),W(Ce,null,{default:I(()=>[W(_e)]),_:1})]),_:1},512),$a,o("div",_a,[o("label",Ca,[_(c(y.$t("locationPicker.form.latitude"))+"\xA0",1),T(o("input",{type:"number",name:"latitude",step:".01",size:"5","onUpdate:modelValue":S[2]||(S[2]=B=>l.value=B),onChange:h},null,544),[[ce,l.value]])]),Sa,o("label",Wa,[_(c(y.$t("locationPicker.form.longitude"))+"\xA0\xA0",1),T(o("input",{type:"number",name:"longitude",step:".01",size:"5","onUpdate:modelValue":S[3]||(S[3]=B=>u.value=B),onChange:h},null,544),[[ce,u.value]])])])]),o("p",null,[o("button",{onClick:w},c(y.$t("locationPicker.form.save")),1),_(" "+c(y.$t("locationPicker.advise")),1)]),o("div",Ma,[(a(),i(q,null,G(7,(B=1)=>o("div",null,[W(we,{element:4-Math.abs(4-B),color:B},null,8,["element","color"])])),64))])],544)}}};var be=re(La,[["__scopeId","data-v-b185c522"]]);const xa={id:"day-view"},Da=o("div",{id:"backgrounds"},[o("div",{id:"stars"}),o("div",{id:"clouds"})],-1),Fa=["title"],Ea={key:1,id:"ClockComponent"},Ia=["title"],Oa=["title"],Pa=_("-360\xB0"),Ta=[Pa],Ra=["title"],Ba=_("-2\xB0"),Na=[Ba],Aa=["disabled","title"],za=["title"],qa=_("+2\xB0"),Ga=[qa],Ha=["title"],ja=_("+360\xB0"),Ua=[ja],Va=["title"],Ya=["title"],Ja={setup(t){const s=ie(),n=Z(),r=H.exports.useI18n();s.params.latlng&&localStorage.coordinatesFrom=="default"&&(localStorage.latitude=parseFloat(s.params.latlng.split(",")[0]),localStorage.longitude=parseFloat(s.params.latlng.split(",")[1]),localStorage.location=s.params.location||"",localStorage.coordinatesFrom="url"),!s.params.latlng&&localStorage.coordinatesFrom!="default"&&n.push({name:"time",params:{latlng:localStorage.latitude+","+localStorage.longitude,location:localStorage.location}});const e=$(Date.now());let d=null;K(()=>{d=setInterval(()=>e.value=Date.now(),1200)}),ve(()=>{clearInterval(d)});const l=$(parseFloat(localStorage.latitude)),u=$(parseFloat(localStorage.longitude)),v=$(String(localStorage.location).replace(/_/g," "));s.params.latlng&&(l.value=parseFloat(s.params.latlng.split(",")[0]),u.value=parseFloat(s.params.latlng.split(",")[1]),v.value=String(s.params.location.replace(/_/g," ")));const C=Y(()=>{let h=new Date(e.value+E.value),w=new A(h,u.value),M=j(j({},Ae(w,l.value)),ze(w,l.value)),y=j(j({},qe(w,l.value)),Ge(w,l.value)),S=0,Q=[{rangeStart:M.morningGoldenHour,rangeStop:M.eveningGoldenHour,start:1,stop:1},{rangeStart:M.nightEnd,rangeStop:M.morningGoldenHour,start:0,stop:1},{rangeStart:M.eveningGoldenHour,rangeStop:M.nightStart,start:1,stop:0}];for(let R of Q)w.time>=R.rangeStart&w.time<R.rangeStop&&(S=R.start+(R.stop-R.start)*((w.time-R.rangeStart)/(R.rangeStop-R.rangeStart)));return document.title=`${w.toTimeString(2,5)} ${w.toLongitudeString()} ${v.value?" | "+v.value:""} | ${w.toDateString()} | ${r.t("nt")}`,{naturalDate:w,artificialDate:h,sun:M,moon:y,dayProgression:S}}),L=Y(()=>l.value>=0?1:-1),g=$((localStorage==null?void 0:localStorage.coordinatesFrom)=="default"),E=$(0);function b(h){const w=h.target.dataset.variation;w==0&&(E.value=0),E.value+=w*1e3}const x=$(0);let k=null;function D(){x.value=1,clearTimeout(k),k=setTimeout(()=>{x.value=0},5e3)}return fe((h,w)=>{h.params.length&&!h.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?g.value=!0:(h.params.latlng!==void 0&&(l.value=parseFloat(h.params.latlng.split(",")[0]),u.value=parseFloat(h.params.latlng.split(",")[1])),h.params.location!==void 0&&(v.value=h.params.location))}),(h,w)=>{const M=X("touch"),y=X("longclick");return T((a(),i("div",xa,[Da,g.value?m("",!0):(a(),i("div",{key:0,id:"menu-icon",class:"UI",onClick:w[0]||(w[0]=S=>g.value=!0)},[o("img",{src:ye,title:p(r).t("nav.editLocation")},null,8,Fa)])),g.value?m("",!0):(a(),i("div",Ea,[W(Ro,{naturalDate:p(C).naturalDate,sunContext:p(C).sun,moonContext:p(C).moon,hemisphere:p(L),location:v.value,onEditLocation:w[1]||(w[1]=S=>g.value=!0)},null,8,["naturalDate","sunContext","moonContext","hemisphere","location"])])),W(se,{name:"fade",mode:"out-in"},{default:I(()=>[g.value?(a(),i("div",{key:0,id:"location-picker",style:F({backgroundColor:"rgba(255,255,255,"+(1-p(C).dayProgression)*.9+")"})},[W(be,{onClose:w[2]||(w[2]=S=>g.value=!1)})],4)):m("",!0)]),_:1}),g.value?m("",!0):(a(),i("div",{key:2,id:"time-controls",class:z(E.value?"":"UI")},[T((a(),i("button",{"data-variation":-7*86400,title:h.$t("timeControl.moveBackward")+" 7 "+h.$t("timeControl.days")+" "+h.$t("timeControl.past")},[_("-7"+c(h.$t("timeControl.days")),1)],8,Ia)),[[M,b,"tap"],[y,b]]),T((a(),i("button",{"data-variation":-24*3600,title:h.$t("timeControl.moveBackward")+" 1 "+h.$t("timeControl.day")+" "+h.$t("timeControl.past")},Ta,8,Oa)),[[M,b,"tap"],[y,b]]),T((a(),i("button",{"data-variation":-8*60,title:h.$t("timeControl.moveBackward")+" 2 "+h.$t("timeControl.degrees")+" "+h.$t("timeControl.past")},Na,8,Ra)),[[M,b,"tap"],[y,b]]),T((a(),i("button",{disabled:E.value==0,"data-variation":0,title:h.$t("timeControl.resetTitle")},[_(c(h.$t("timeControl.reset")),1)],8,Aa)),[[M,b,"tap"]]),T((a(),i("button",{"data-variation":8*60,title:h.$t("timeControl.moveForward")+" 2 "+h.$t("timeControl.degrees")+" "+h.$t("timeControl.future")},Ga,8,za)),[[M,b,"tap"],[y,b]]),T((a(),i("button",{"data-variation":24*60*60,title:h.$t("timeControl.moveForward")+" 1 "+h.$t("timeControl.day")+" "+h.$t("timeControl.future")},Ua,8,Ha)),[[M,b,"tap"],[y,b]]),T((a(),i("button",{"data-variation":7*24*60*60,title:h.$t("timeControl.moveForward")+" 7 "+h.$t("timeControl.days")+" "+h.$t("timeControl.future")},[_("+7"+c(h.$t("timeControl.days")),1)],8,Va)),[[M,b,"tap"],[y,b]])],2)),g.value?m("",!0):(a(),i("div",{key:3,id:"legend",onClick:w[3]||(w[3]=S=>g.value=!0),title:p(r).t("nav.editLocation")},c(p(C).naturalDate),9,Ya)),(a(),te(oe("style"),null,{default:I(()=>[_(" :root { --hemisphere: "+c(p(L))+"; --day-progression: "+c(p(C).dayProgression)+"; --day-saturation: saturate("+c(.4+p(C).dayProgression*.6)+"); --ui-opacity: "+c(x.value)+"; } ",1)]),_:1}))])),[[M,D,"rollover"],[M,D,"release"]])}}};var Ka="/assets/rainbow-day.a263a220.png",Za="/assets/rainbow-days.65897d03.png";const Qa={key:0,class:"flex"},Xa=o("div",{class:"left"},null,-1),en={class:"right"},tn={class:"top"},on={class:"title"},an=le('<div class="dayColors"><span class="color-1"></span><span class="color-2"></span><span class="color-3"></span><span class="color-4"></span><span class="color-5"></span><span class="color-6"></span><span class="color-7"></span></div>',1),nn={class:"bottom"},sn=["title","onMouseenter"],ln={class:"dayNumber"},rn={key:0},dn=o("img",{src:Ka},null,-1),un=[dn],hn={key:1},mn=o("img",{src:Za},null,-1),cn=[mn],gn={props:{today:{type:A,required:!0},moon:{type:Number,required:!0}},emits:["hover-date","reset-hover"],setup(t,{emit:s}){const n=t,r=Y(()=>{let e=[];for(var d=0;d<28;d++){let l=new A(n.today.yearStart+A.MILLISECONDS_PER_DAY*28*(n.moon-1)+A.MILLISECONDS_PER_DAY*d,n.today.longitude);e[d]={date:l,dayClasses:{isToday:n.today.toDateString()==l.toDateString(),isPast:n.today.toDateString()>=l.toDateString(),isRainbowDay:n.today.isRainbowDay},backgroundClasses:{}},e[d].backgroundClasses[`color-${l.dayOfWeek}`]=!0}return e});return(e,d)=>{const l=X("touch");return a(),i("div",{class:z(["moonComponent",{passedMoon:t.today.moon>t.moon,currentMoon:t.today.moon==t.moon}])},[t.moon<14?(a(),i("div",Qa,[Xa,o("div",en,[o("div",tn,[o("div",on,[o("span",null,c(e.$t("moon")),1),_(" #"+c(t.moon),1)]),an]),o("div",nn,[(a(!0),i(q,null,G(p(r),u=>T((a(),i("div",{class:z(["dayOfMoon",u.dayClasses]),title:e.$t("nt")+" => "+u.date.toDateString()+`
`+e.$t("at")+" => "+new Date(u.date.unixTime).toLocaleDateString(),onMouseenter:v=>s("hover-date",u.date),onMouseleave:d[0]||(d[0]=v=>s("reset-hover"))},[o("div",{class:z(["background",u.backgroundClasses])},null,2),o("div",ln,c(u.date.toDayOfMoonString()),1)],42,sn)),[[l,s("hover-date",u.date),"press"],[l,s("reset-hover"),"release"]])),256))])])])):(a(),i("div",{key:1,class:z(["moon-rainbow-day",{isRainbowDay:t.today.isRainbowDay}]),onMouseenter:d[1]||(d[1]=u=>s("hover-date",new p(A)(t.today.yearStart+p(A).MILLISECONDS_PER_DAY*364,t.today.longitude))),onMouseleave:d[2]||(d[2]=u=>s("reset-hover"))},[t.today.yearDuration==365?(a(),i("div",rn,un)):(a(),i("div",hn,cn))],34))],2)}}};const pn={id:"moons-view"},vn=o("div",{id:"backgrounds"},[o("div",{id:"clouds"})],-1),fn=["title"],yn={id:"display"},wn=["title"],kn={class:"display-top"},bn={class:"display-year"},$n={class:"digit"},_n={class:"label"},Cn={class:"display-moon"},Sn={class:"digit"},Wn={class:"label"},Mn={class:"display-day"},Ln={class:"digit"},xn={class:"label"},Dn={class:"display-bottom"},Fn={class:"time"},En=["title"],In={class:"display-top"},On={class:"display-year"},Pn=o("div",{class:"digit"},"\xA0",-1),Tn={class:"label"},Rn=o("div",{class:"separator"},null,-1),Bn={class:"display-moon"},Nn={class:"digit"},An={class:"label"},zn=o("div",{class:"separator"},null,-1),qn={class:"display-day"},Gn=o("div",{class:"digit"},"\xA0",-1),Hn={class:"label"},jn=["title"],Un={key:0,id:"location-picker"},Vn={setup(t){const s=ie(),n=Z(),r=H.exports.useI18n();s.params.latlng&&localStorage.coordinatesFrom=="default"&&(localStorage.latitude=parseFloat(s.params.latlng.split(",")[0]),localStorage.longitude=parseFloat(s.params.latlng.split(",")[1]),localStorage.location=s.params.location||"",localStorage.coordinatesFrom="url"),!s.params.latlng&&localStorage.coordinatesFrom!="default"&&n.push({name:"date",params:{latlng:localStorage.latitude+","+localStorage.longitude,location:localStorage.location}});const e=$(parseFloat(localStorage.latitude)),d=$(parseFloat(localStorage.longitude)),l=$(String(localStorage.location));s.params.latlng&&(e.value=parseFloat(s.params.latlng.split(",")[0]),d.value=parseFloat(s.params.latlng.split(",")[1]),l.value=String(s.params.location));const u=$(new Date);let v=null;K(()=>{v=setInterval(()=>u.value=Date.now(),12e3)}),ve(()=>{clearInterval(v)});const C=Y(()=>{let k=new A(u.value,d.value);return document.title=`${k.toDateString()} - ${l.value?l.value.replace(/_/g," "):""} (${k.toLongitudeString()})`,k}),L=$(!1),g=k=>{L.value=k},E=()=>{L.value=!1},b=Y(()=>L.value||C.value),x=$((localStorage==null?void 0:localStorage.coordinatesFrom)=="default");return K(()=>{let k=document.getElementsByClassName("currentMoon")[0];window.scrollTo({top:k.offsetTop,behavior:"smooth"})}),fe((k,D)=>{k.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?(e.value=parseFloat(k.params.latlng.split(",")[0]),d.value=parseFloat(k.params.latlng.split(",")[1]),l.value=k.params.location):x.value=!0}),(k,D)=>(a(),i("div",pn,[vn,x.value?m("",!0):(a(),i("div",{key:0,id:"menu-icon",class:"UI",onClick:D[0]||(D[0]=h=>x.value=!0)},[o("img",{src:ye,title:p(r).t("nav.editLocation")},null,8,fn)])),o("div",{id:"year",class:z({"blur-me":x.value})},[o("div",yn,[p(b).isRainbowDay?(a(),i("div",{key:1,class:"center-me",onClick:D[2]||(D[2]=h=>x.value=!0),title:p(r).t("nav.editLocation")},[o("div",In,[o("div",On,[Pn,o("div",Tn,c(k.$t("rainbowDay.out")),1)]),Rn,o("div",Bn,[o("div",Nn,c(k.$t("rainbowDay.day")),1),o("div",An,c(k.$t("rainbowDay.of")),1)]),zn,o("div",qn,[Gn,o("div",Hn,c(k.$t("rainbowDay.time")),1)])]),o("div",{class:"display-bottom",style:F({color:"var(--color-"+p(b).dayOfWeek+")"})},[(a(),i(q,null,G(7,(h=1)=>o("div",null,[W(we,{element:4-Math.abs(4-h),color:h},null,8,["element","color"])])),64))],4)],8,En)):(a(),i("div",{key:0,class:"center-me",onClick:D[1]||(D[1]=h=>x.value=!0),title:p(r).t("nav.editLocation")},[o("div",kn,[o("div",bn,[o("div",$n,c(p(b).toYearString()),1),o("div",_n,c(k.$t("year")),1)]),o("div",{class:"separator",style:F({color:"var(--color-"+p(b).dayOfWeek+")"})},")",4),o("div",Cn,[o("div",Sn,c(p(b).toMoonString()),1),o("div",Wn,c(k.$t("moon")),1)]),o("div",{class:"separator",style:F({color:"var(--color-"+p(b).dayOfWeek+")"})},")",4),o("div",Mn,[o("div",Ln,c(p(b).toDayOfMoonString()),1),o("div",xn,c(k.$t("day")),1)])]),o("div",Dn,[o("div",Fn,c(l.value?l.value.replace(/_/g," ")+" | ":"")+c(p(C).toTimeString(2,5))+" "+c(p(C).toLongitudeString()),1)])],8,wn))]),(a(),i(q,null,G(14,(h=1)=>W(gn,{id:"moon-"+h,today:p(C),moon:h,onHoverDate:g,onResetHover:E},null,8,["id","today","moon"])),64))],2),x.value?m("",!0):(a(),i("div",{key:1,id:"legend",onClick:D[3]||(D[3]=h=>x.value=!0),title:p(r).t("nav.editLocation")},c(p(C)),9,jn)),W(se,{name:"fade",mode:"out-in"},{default:I(()=>[x.value?(a(),i("div",Un,[W(be,{onClose:D[4]||(D[4]=h=>x.value=!1)})])):m("",!0)]),_:1})]))}};const de=t=>(ae("data-v-4ca667f4"),t=t(),ne(),t),Yn=de(()=>o("div",{id:"backgrounds"},[o("div",{id:"clouds"})],-1)),Jn=de(()=>o("h1",null,"\xC0 propos du temps naturel",-1)),Kn={class:"markdown-body"},Zn=le('<p style="text-align:center;" data-v-4ca667f4><strong data-v-4ca667f4>Quelle heure est-il ?</strong><br data-v-4ca667f4>Le soleil est \xE0 113\xB0 \u{1F31E} \u{1F60E}</p><p data-v-4ca667f4>Le temps naturel est un <strong data-v-4ca667f4>outil de mesure du temps</strong> intimement li\xE9 au vivant. Cette nouvelle convention, simple, fraiche et coh\xE9rente, est bas\xE9e sur le bon sens et l\u2019observation des cycles naturels. Le temps qui passe n&#39;est plus divis\xE9 en heures/minutes/secondes compliqu\xE9es, ni en mois de diff\xE9rentes dur\xE9es, mais plut\xF4t en degr\xE9s de rotation du soleil dans le ciel. Le calendrier est remplac\xE9 par une spirale de 13 lunes de 28 jours exactement + le jour arc-en-ciel \u{1F308}.</p><p data-v-4ca667f4>Une introduction compl\xE8te au temps naturel est consultable ici : <br data-v-4ca667f4><a href="https://sylvainbiquette.xyz/presentation-horloge-temps-naturel" data-v-4ca667f4>sylvainbiquette.xyz/presentation-horloge-temps-naturel</a> (en fran\xE7ais)</p><p data-v-4ca667f4>Les sp\xE9cifications techniques compl\xE8tes sont disponibles ici :<br data-v-4ca667f4><a href="https://github.com/sylvain441/natural-time" data-v-4ca667f4>github.com/sylvain441/natural-time</a> (en anglais)</p><h2 data-v-4ca667f4>Application naturaltime.app</h2><p data-v-4ca667f4>Le temps naturel n&#39;est pas d\xE9pendant de l&#39;informatique pour exister. Une simple horloge effectuant le tour du cadran en une journ\xE9e suffit pour l&#39;adopter. Cette application open source a toutefois \xE9t\xE9 cr\xE9\xE9e (<a href="https://naturaltime.app" data-v-4ca667f4>naturaltime.app</a>) pour comprendre et pour jouer avec l&#39;horloge du temps naturel. Elle est h\xE9berg\xE9e sur <a href="https://github.com/sylvain441/natural-time-app" data-v-4ca667f4>github</a> et lib\xE9r\xE9e sous licence Creative Common Zero.</p><h3 data-v-4ca667f4>Comment l&#39;installer</h3><p data-v-4ca667f4>Ce n&#39;est pas vraiment une application... Mais plut\xF4t un site web qui peut fonctionner hors-ligne. Ne la cherche donc pas dans l\u2019AppStore ni le PlayStore, il suffit simplement de se rendre sur <a href="https://naturaltime.app" data-v-4ca667f4>naturaltime.app</a> puis de cliquer sur :</p><ul data-v-4ca667f4><li data-v-4ca667f4>iOS Safari : <em data-v-4ca667f4>Partager &gt; Sur l\u2019\xE9cran d\u2019accueil</em></li><li data-v-4ca667f4>Android Chrome : <em data-v-4ca667f4>Menu &gt; Ajouter \xE0 l\u2019\xE9cran d\u2019accueil</em></li><li data-v-4ca667f4>Google Chrome : <em data-v-4ca667f4>Barre d\u2019adresse &gt; Installer Natural Time</em></li><li data-v-4ca667f4>Microsoft Edge : <em data-v-4ca667f4>Barre d\u2019adresse &gt; Installer Natural Time</em></li><li data-v-4ca667f4>Firefox : <em data-v-4ca667f4>Installation hors ligne non permise</em></li><li data-v-4ca667f4>Safari Mac : <em data-v-4ca667f4>Installation hors ligne non permise</em></li></ul><h3 data-v-4ca667f4>Comment l&#39;utiliser</h3>',10),Qn=_("Pour afficher "),Xn=_("l\u2019horloge"),ei=_(" et la "),ti=_("spirale des 13 lunes"),oi=_(", l\u2019utilisateur doit pr\xE9alablement renseigner une position g\xE9ographique. Les coordonn\xE9es sont sauvegard\xE9es dans les donn\xE9es temporaires du navigateur."),ai=le('<p data-v-4ca667f4>Des boutons s\u2019activent au toucher (ou au mouvement de la souris) pour permettre de jouer avec l\u2019horloge. Il est possible de se d\xE9placer dans le temps par incr\xE9ments de 2\xB0, de 360\xB0 (1 jour) ou de 7 jours. <br data-v-4ca667f4><em data-v-4ca667f4>Astuce : maintenir appuy\xE9 longtemps pour faire d\xE9filer le temps rapidement.</em></p><h3 data-v-4ca667f4>Comment partager</h3><p data-v-4ca667f4>Il est possible de cr\xE9er une URL personnalis\xE9e \xE0 partager avec ses amis ou pour enregistrer en tant que favori :<br data-v-4ca667f4><code data-v-4ca667f4>https://naturaltime.app/#/latitude,longitude/Nom_personnalis\xE9_du_lieu</code>.<br data-v-4ca667f4>Ex: <code data-v-4ca667f4>https://naturaltime.app/#/29.97,31.13/Pyramide_de_Kh\xE9ops</code></p><p data-v-4ca667f4>Un simple copier/coller de l&#39;adresse web (URL) suffit pour partager l&#39;horloge du temps naturel pr\xE9-programm\xE9e \xE0 un emplacement g\xE9ographique donn\xE9.</p><h2 data-v-4ca667f4>Contribuer</h2><p data-v-4ca667f4>Si le projet parle \xE0 ton c\u0153ur, n\u2019h\xE9site pas \xE0 contribuer de la fa\xE7on qui te ressemble. L\u2019application aurait bien besoin d\u2019un regard expert pour y apporter un peu d\u2019optimisation.</p><p data-v-4ca667f4>Le code source du temps naturel est divis\xE9 en trois parties :</p><ul data-v-4ca667f4><li data-v-4ca667f4>Sp\xE9cifications compl\xE8tes du temps naturel (no code) : <a href="https://github.com/sylvain441/natural-time" data-v-4ca667f4>github.com/sylvain441/natural-time</a></li><li data-v-4ca667f4>Librairie JavaScript de calcul du temps naturel \xA0: <a href="https://github.com/sylvain441/natural-time-js" data-v-4ca667f4>github.com/sylvain441/natural-time-js</a></li><li data-v-4ca667f4>Application VueJs horloge du temps naturel \xA0: <a href="https://github.com/sylvain441/natural-time-app" data-v-4ca667f4>github.com/sylvain441/natural-time-app</a> \u2014 <a href="https://naturaltime.app" data-v-4ca667f4>naturaltime.app</a></li></ul><p data-v-4ca667f4>Le code source et l\u2019application appartiennent au domaine public sous licence CC0-1.0. Tu peux jouer \xE0 forker le code, le spooner ou le knifer m\xEAme ! et pourquoi pas l\u2019int\xE9grer dans ta propre application ?</p><p data-v-4ca667f4>L&#39;application gagnerai \xE0 \xE9voluer avec de nouvelles fonctionnalit\xE9s telles qu&#39;un mode widget minimaliste (embed iframe), le choix entre plusieurs &quot;skins&quot;, l&#39;ajout de point GPS multiples, ... Si tu es motiv\xE9, n&#39;h\xE9site surtout pas !</p><h2 data-v-4ca667f4>Remerciements</h2><p data-v-4ca667f4>Un grand merci aux montagnes, aux ch\xE8vres, aux lamas et aux fourmis pour leur inspiration.<br data-v-4ca667f4>Gratitude infinie pour Toto et Uncle Skywalker, deux explorateurs du temps. Merci d&#39;exister.</p><p data-v-4ca667f4>Remerciement \xE0 Don Cross l&#39;auteur d&#39;<a href="https://github.com/cosinekitty/astronomy/" data-v-4ca667f4>astronomy engine</a> qui permet \xE0 l&#39;application de calculer le mouvement des astres dans le ciel. Merci \xE9galement \xE0 tout l&#39;univers open source qui offre au monde des solutions et des ressources abouties telles que Vue3, Vite, OpenLayers, OpenStreetMap, ... utilis\xE9es pour cr\xE9er cette application</p><p data-v-4ca667f4>Le temps naturel est n\xE9 dans les Alpes Fran\xE7aises lors du printemps/\xE9t\xE9 2022.<br data-v-4ca667f4>Pour toutes questions : <a href="mailto:sylvain441@pm.me" data-v-4ca667f4>sylvain441@pm.me</a> \u2013 <a href="https://t.me/sylvain441" data-v-4ca667f4>@sylvain441</a> (telegram).</p><p style="text-align:center;" data-v-4ca667f4><br data-v-4ca667f4><br data-v-4ca667f4>\u{1F30D} One love \u{1F30E}<br data-v-4ca667f4>\u{1F3D4} \u{1F410} \u{1F31E} \u{1F308}</p>',15),ni=de(()=>o("a",{class:"github-fork-ribbon",href:"https://github.com/sylvain441/natural-time-app","data-ribbon":"Fork me on GitHub",title:"Fork me on GitHub"},"Fork me on GitHub",-1)),ii={setup(t){const s=H.exports.useI18n();return document.title=`${s.t("about.title")}`,(n,r)=>{const e=N("router-link");return a(),i("div",null,[Yn,Jn,o("div",Kn,[Zn,o("p",null,[Qn,W(e,{to:{name:"time"}},{default:I(()=>[Xn]),_:1}),ei,W(e,{to:{name:"date"}},{default:I(()=>[ti]),_:1}),oi]),ai]),ni])}}};var si=re(ii,[["__scopeId","data-v-4ca667f4"]]);const pe=(t,s)=>{if(t.params.latlng!==void 0&&!t.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/))return!1},ee=Ee({history:Ie("/"),routes:[{path:"/:latlng?/:location?",name:"time",component:Ja,beforeRouteEnter:pe},{path:"/13moons/:latlng?/:location?",name:"date",component:Vn,beforeRouteEnter:pe},{path:"/about",name:"about",component:si}]});ee.beforeEach((t,s)=>{localStorage.latitude||(localStorage.latitude=42.42),localStorage.longitude||(localStorage.longitude=0),localStorage.location||(localStorage.location=""),localStorage.coordinatesFrom||(localStorage.coordinatesFrom="default")});const li={en:{nt:"Natural time",at:"Artificial time",meta:{description:"Natural time is a fresh, elegant, and coherent way of measuring the movements of time here on the Earth. This new time standard is based on common sense and the observation of natural cycles."},longitude:"Longitude",latitude:"Latitude",rainbowDay:{full:"Rainbow Day",day:"Rainbow",out:"D",of:"A",time:"Y"},nav:{clock:"Natural Time",moons:"13 moons",about:"Read more",editLocation:"Edit geolocation"},locationPicker:{title:{line1:"Welcome",line2:"at the clock of",line3:"natural time"},advise:"Please choose a place in order to set the clock up",searchFor:"Search for a place...",locateMe:"Track my location",form:{latitude:"latitude",longitude:"longitude",save:"Save location"},promptLocationName:"Please give a name to this place"},timeControl:{moveBackward:"Move",moveForward:"Move",days:"days",day:"day",degrees:"degrees",past:"in the past",future:"in the future",reset:"Set Now",resetTitle:"Go back to now"},about:{title:"Learn more about natural time"},year:"Year",moon:"Moon",day:"Day",weekDay:"{color} {element}",colors:{1:"Red",2:"Orange",3:"Yellow",4:"Green",5:"Blue",6:"Indigo",7:"Violet"},elements:{1:"Earth",2:"Water",3:"Air",4:"Fire"}},fr:{nt:"Temps naturel",at:"Temps artificiel",meta:{description:"Le temps naturel est une nouvelle mani\xE8re de mesurer les mouvements du temps de fa\xE7on coh\xE9rente, fraiche et \xE9l\xE9gante. Cette nouvelle convention est bas\xE9e sur le bon sens et sur l'observation des cycles naturels."},longitude:"Longitude",latitude:"Latitude",rainbowDay:{full:"Jour Arc en Ciel",day:"Jour",out:"Arc",of:"En",time:"Ciel"},nav:{clock:"Temps Naturel",moons:"13 lunes",about:"\xC0 propos",editLocation:"Modifier l'emplacement g\xE9ographique"},locationPicker:{title:{line1:"Bienvenue",line2:"sur l'horloge du",line3:"temps naturel"},advise:"Pour fonctionner, l'horloge a besoin d'une position g\xE9ographique",searchFor:"Rechercher un lieu...",locateMe:"Me g\xE9olocaliser",form:{latitude:"latitude",longitude:"longitude",save:"Enregistrer la position"},promptLocationName:"Comment s'appelle cet endroit ?"},timeControl:{moveBackward:"Reculer de",moveForward:"Avancer de",days:"j",day:"jour",degrees:"degr\xE9s",past:"dans le pass\xE9",future:"dans le futur",reset:"Remise \xE0 0",resetTitle:"Revenir \xE0 Maintenant"},about:{title:"En savoir plus sur le temps naturel"},year:"Ann\xE9e",moon:"Lune",day:"Jour",weekDay:"{element} {color}",colors:{1:"Rouge",2:"Orange",3:"Jaune",4:"Vert",5:"Bleu",6:"Indigo",7:"Violet"},elements:{1:"Terre",2:"Eau",3:"Air",4:"Feu"}}},ri=H.exports.createI18n({locale:navigator.language||navigator.userLanguage,fallbackLocale:"en",silentTranslationWarn:!0,silentFallbackWarn:!0,messages:li});var di=({delay:t=400,interval:s=50})=>({beforeMount(n,r,e,d){if(typeof r.value!="function"){const g=e.context.name;let E=`[longclick:] provided expression '${r.expression}' is not a function, but has to be`;g&&(E+=`Found in component '${g}' `),console.warn(E)}let l=null,u=null;const v=g=>{r.value(g)},C=g=>{g.type==="click"&&g.button!==0||l===null&&(l=setTimeout(()=>{s&&s>0&&(u=setInterval(()=>{v(g)},s)),v(g)},t))},L=()=>{l!==null&&(clearTimeout(l),l=null),u&&(clearInterval(u),u=null)};["mousedown","touchstart"].forEach(g=>{n.addEventListener(g,C,{passive:!0})}),["click","mouseout","touchend","touchcancel"].forEach(g=>{n.addEventListener(g,L,{passive:!0})})},created(){},mounted(){},beforeUpdate(){},updated(){},beforeUnmount(){},unmounted(){}});const ui={class:"UI"},hi={setup(t){const s=ie(),n=H.exports.useI18n(),r=document.getElementsByTagName("meta");return r.description&&(r.description.content=n.t("meta.description")),(e,d)=>{const l=N("router-view"),u=N("router-link");return a(),i("div",null,[W(l,null,{default:I(({Component:v})=>[W(se,{name:"fade",mode:"out-in"},{default:I(()=>[(a(),te(oe(v)))]),_:2},1024)]),_:1}),o("nav",ui,[W(u,{to:{name:"time",params:p(s).params}},{default:I(()=>[_(c(e.$t("nav.clock")),1)]),_:1},8,["to"]),W(u,{to:{name:"date",params:p(s).params}},{default:I(()=>[_(c(e.$t("nav.moons")),1)]),_:1},8,["to"]),W(u,{to:{name:"about"}},{default:I(()=>[_(c(e.$t("nav.about")),1)]),_:1})])])}}};function mi(t={}){const{immediate:s=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:e,onRegisterError:d}=t;let l;const u=async(v=!0)=>{};return"serviceWorker"in navigator&&(l=new Oe("/sw.js",{scope:"/",type:"classic"}),l.addEventListener("activated",v=>{v.isUpdate?window.location.reload():r==null||r()}),l.register({immediate:s}).then(v=>{e==null||e(v)}).catch(v=>{d==null||d(v)})),u}Pe(hi).use(ee).use(ri,{missingWarn:!1,silentFallbackWarn:!0}).use(Te).use(Re,{rollOverFrequency:500}).use(Be,{host:"https://stats.naturaltime.app/matomo",siteId:1,router:ee}).directive("longclick",di({delay:222,interval:111})).mount("#app");mi({onOfflineReady(){}});
