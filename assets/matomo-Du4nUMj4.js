import{g as C}from"./commonjsHelpers-BosuxZz1.js";var q={exports:{}};(function(h,b){(function(g,s){h.exports=s()})(window,function(){return function(g){var s={};function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return g[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=g,n.c=s,n.d=function(e,o,d){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:d})},n.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o||4&o&&typeof e=="object"&&e&&e.__esModule)return e;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&o&&typeof e!="string")for(var v in e)n.d(d,v,(function(k){return e[k]}).bind(null,v));return d},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=0)}([function(g,s,n){function e(){return window.Piwik.getAsyncTracker()}function o(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new Promise(function(t,u){var a=document.createElement("script");a.async=!0,a.defer=!0,a.src=i,r&&["anonymous","use-credentials"].includes(r)&&(a.crossOrigin=r),(document.head||document.getElementsByTagName("head")[0]).appendChild(a),a.onload=t,a.onerror=u})}function d(i,r){return i.resolve(r).href}n.r(s),n.d(s,"matomoKey",function(){return k}),n.d(s,"default",function(){return S});var v={debug:!1,disableCookies:!1,requireCookieConsent:!1,enableHeartBeatTimer:!1,enableLinkTracking:!0,heartBeatTimerInterval:15,requireConsent:!1,trackInitialView:!0,trackSiteSearch:!1,trackerFileName:"matomo",trackerUrl:void 0,trackerScriptUrl:void 0,userId:void 0,cookieDomain:void 0,domains:void 0,preInitActions:[],crossOrigin:void 0},k="Matomo";function y(i,r,t){if(typeof i.trackSiteSearch=="function"){var u=i.trackSiteSearch(r);if(u)return void function(a,c){var p=c.keyword,w=c.category,l=c.resultsCount,m=e();a.debug&&console.debug("[vue-matomo] Site Search "+p),m.trackSiteSearch(p,w,l)}(i,u)}(function(a,c,p){var w,l,m,f=e();if(a.router){if(l=d(a.router,c.fullPath),m=p&&p.fullPath?d(a.router,p.fullPath):void 0,c.meta.analyticsIgnore)return void(a.debug&&console.debug("[vue-matomo] Ignoring "+l));a.debug&&console.debug("[vue-matomo] Tracking "+l),w=c.meta.title||l}m&&f.setReferrerUrl(window.location.origin+m),l&&f.setCustomUrl(window.location.origin+l),f.trackPageView(w)})(i,r,t)}function I(i,r){var t=e();if(Number(i.version.split(".")[0])>2?(i.config.globalProperties.$piwik=t,i.config.globalProperties.$matomo=t,i.provide(k,t)):(i.prototype.$piwik=t,i.prototype.$matomo=t),r.trackInitialView&&r.router){var u=r.router.currentRoute.value?r.router.currentRoute.value:r.router.currentRoute;y(r,u)}r.router&&r.router.afterEach(function(a,c){y(r,a,c),r.enableLinkTracking&&t.enableLinkTracking()})}function _(){return new Promise(function(i,r){var t=Date.now(),u=setInterval(function(){if(window.Piwik)return clearInterval(u),i();if(Date.now()>=t+3e3)throw clearInterval(u),new Error("[vue-matomo]: window.Piwik undefined after waiting for ".concat(3e3,"ms"))},50)})}function S(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Object.assign({},v,r),u=t.host,a=t.siteId,c=t.trackerFileName,p=t.trackerUrl,w=t.trackerScriptUrl,l=w||"".concat(u,"/").concat(c,".js"),m=p||"".concat(u,"/").concat(c,".php");window._paq=window._paq||[],window._paq.push(["setTrackerUrl",m]),window._paq.push(["setSiteId",a]),t.requireConsent&&window._paq.push(["requireConsent"]),t.userId&&window._paq.push(["setUserId",t.userId]),t.enableLinkTracking&&window._paq.push(["enableLinkTracking"]),t.disableCookies&&window._paq.push(["disableCookies"]),t.requireCookieConsent&&window._paq.push(["requireCookieConsent"]),t.enableHeartBeatTimer&&window._paq.push(["enableHeartBeatTimer",t.heartBeatTimerInterval]),t.cookieDomain&&window._paq.push(["setCookieDomain",t.cookieDomain]),t.domains&&window._paq.push(["setDomains",t.domains]),t.preInitActions.forEach(function(f){return window._paq.push(f)}),o(l,t.crossOrigin).then(function(){return _()}).then(function(){return I(i,t)}).catch(function(f){if(f.target)return console.error("[vue-matomo] An error occurred trying to load ".concat(f.target.src,". ")+"If the file exists you may have an ad- or trackingblocker enabled.");console.error(f)})}}])})})(q);var P=q.exports;const T=C(P),O=(h,b)=>{h.use(T,{host:"https://stats.naturaltime.app/matomo",siteId:1,router:b})};export{O as setupMatomo};
