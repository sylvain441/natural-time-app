var yt=Object.defineProperty;var st=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var lt=(e,a,n)=>a in e?yt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,H=(e,a)=>{for(var n in a||(a={}))ft.call(a,n)&&lt(e,n,a[n]);if(st)for(var n of st(a))pt.call(a,n)&&lt(e,n,a[n]);return e};import{u as q,v as et,r as _,f as wt,a as R,o as i,c as s,b as o,d as M,w as O,t as m,e as x,g as J,h as Z,i as f,p as ht,j as ut,k as rt,l as y,m as $t,n as B,F as z,q as U,s as D,x as E,y as c,z as W,A as ot,B as nt,C as it,D as Q,E as mt,G as Y,H as ct,I as X,N as I,J as gt,K as S,L as _t,M as kt,T as Wt,O as Ct,P as bt,Q as St,R as Mt,V as Dt}from"./vendor.13a42aa2.js";const Et=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const t of l)if(t.type==="childList")for(const h of t.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const t={};return l.integrity&&(t.integrity=l.integrity),l.referrerpolicy&&(t.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?t.credentials="include":l.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(l){if(l.ep)return;l.ep=!0;const t=n(l);fetch(l.href,t)}};Et();var at=(e,a)=>{const n=e.__vccOpts||e;for(const[u,l]of a)n[u]=l;return n};const P=e=>(ht("data-v-2bc9c592"),e=e(),ut(),e),xt=P(()=>o("div",{id:"backgrounds"},[o("div",{id:"milkyway"})],-1)),Ft={class:"center-me"},Lt={class:"left"},Ot={class:"circle"},Tt=P(()=>o("span",{class:"reticule"},null,-1)),Rt={class:"right"},It={class:"circle"},Bt={colspan:"2"},Nt={for:"latitude"},At=P(()=>o("br",null,null,-1)),zt=["onKeyup"],Pt={for:"longitude"},Ht=P(()=>o("br",null,null,-1)),Gt=["onKeyup"],Vt={colspan:"2"},Ut={for:"location"},Yt=P(()=>o("br",null,null,-1)),jt=["onKeyup"],qt={style:{"text-align":"center"}},Kt={style:{"text-align":"right"}},Jt=["disabled"],Zt=P(()=>o("tr",null,[o("td",{colspan:"2"},". . .")],-1)),Qt={setup(e){var T;const a=q(),n=et.exports.useI18n();document.title=n.t("nt")+" | "+n.t("settings.title");const u=_(!1),l=r=>{C.value.fit([r[0],r[1],r[0],r[1]],{maxZoom:7}),u.value=!1},t=_(localStorage.latitude),h=_(localStorage.longitude),d=_(((T=localStorage.location)==null?void 0:T.replace(/_/g," "))||n.t("longitude")+" 0"),g=_(window.navigator.onLine);window.addEventListener("online",()=>{g.value=window.navigator.onLine}),window.addEventListener("offline",()=>{g.value=window.navigator.onLine});const C=_(null),b=_(localStorage.longitude?3:2),v=wt([h.value,t.value]);function k(r){t.value=parseFloat(rt(r)[1].toFixed(2)),h.value=parseFloat(rt(r)[0].toFixed(2)),(String(d.value).startsWith(n.t("longitude"))||!d.value)&&(d.value=n.t("longitude")+" "+parseInt(h.value))}function p(){localStorage.location=d.value.replace(/\s/g,"_"),localStorage.longitude=h.value,localStorage.latitude=t.value,localStorage.coordinatesFrom="user",a.push({name:"time",params:{location:localStorage.location,latlng:localStorage.latitude+","+localStorage.longitude}})}return(r,w)=>{const $=R("ol-view"),F=R("ol-geolocation"),j=R("ol-zoom-control"),K=R("ol-source-osm"),L=R("ol-tile-layer"),vt=R("ol-map");return i(),s("div",null,[xt,o("div",Ft,[o("div",Lt,[o("div",Ot,[M(vt,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0},{default:O(()=>[M($,{ref_key:"view",ref:C,center:f(v),zoom:b.value,onCenterChanged:k},null,8,["center","zoom"]),M(F,{tracking:u.value,onPositionChanged:l},null,8,["tracking"]),M(j),M(L,null,{default:O(()=>[M(K)]),_:1})]),_:1})]),Tt]),o("div",Rt,[o("div",It,[o("div",null,[o("table",null,[o("tr",null,[o("td",Bt,[o("h1",null,m(r.$t("nt")),1),o("h2",null,m(r.$t("settings.title")),1)])]),o("tr",null,[o("td",null,[o("label",Nt,m(r.$t("settings.form.latitude")),1),At,x(o("input",{type:"number",name:"latitude",step:".01",size:"4","onUpdate:modelValue":w[0]||(w[0]=A=>t.value=A),onKeyup:Z(p,["enter"])},null,40,zt),[[J,t.value]])]),o("td",null,[o("label",Pt,m(r.$t("settings.form.longitude")),1),Ht,x(o("input",{type:"number",name:"longitude",step:".01",size:"4","onUpdate:modelValue":w[1]||(w[1]=A=>h.value=A),onKeyup:Z(p,["enter"])},null,40,Gt),[[J,h.value]])])]),o("tr",null,[o("td",Vt,[o("label",Ut,m(r.$t("settings.form.location")),1),Yt,x(o("input",{type:"text",name:"location",size:"16",maxlength:"30","onUpdate:modelValue":w[2]||(w[2]=A=>d.value=A),onKeyup:Z(p,["enter"])},null,40,jt),[[J,d.value]])])]),o("tr",null,[o("td",qt,[o("a",{onClick:w[3]||(w[3]=A=>u.value=!0)},m(r.$t("settings.form.trackGPS")),1)]),o("td",Kt,[o("button",{onClick:p,disabled:!d.value||!t.value||!h.value},m(r.$t("settings.form.save")),9,Jt)])]),Zt])])])])])])}}};var Xt=at(Qt,[["__scopeId","data-v-2bc9c592"]]);const G={},V={};function te(e,a){let n=new y.Observer(a,e.longitude,0),u=new Date(e.unixTime),l=y.Equator(y.Body.Sun,u,n,!0,!1),t=Math.max(y.Horizon(u,n,l.ra,l.dec).altitude,0),h=y.SearchHourAngle(y.Body.Sun,n,0,new Date(e.nadir));return{altitude:t,highestAltitude:h.hor.altitude}}function ee(e,a){let n=e.toDateString()+a+e.longitude;if(G!=null&&G[n])return G[n];let u=new y.Observer(a,e.longitude,0),l=new Date(e.nadir),t=a>=0&&e.dayOfYear>=91&&e.dayOfYear<=273||a<=0&&(e.dayOfYear<=91||e.dayOfYear>=273),h=e.getTimeOfEvent(y.SearchRiseSet(y.Body.Sun,u,1,l,1));h||(h=t?0:180);let d=e.getTimeOfEvent(y.SearchRiseSet(y.Body.Sun,u,-1,l,1));d||(d=t?360:180);let g=e.getTimeOfEvent(y.SearchAltitude(y.Body.Sun,u,-1,l,2,-12));g||(g=t?360:180);let C=e.getTimeOfEvent(y.SearchAltitude(y.Body.Sun,u,1,l,2,-12));C||(C=t?0:180);let b=e.getTimeOfEvent(y.SearchAltitude(y.Body.Sun,u,1,l,2,6));b||(b=t?0:180);let v=e.getTimeOfEvent(y.SearchAltitude(y.Body.Sun,u,-1,l,2,6));return v||(v=t?360:180),G[n]={sunrise:h,sunset:d,nightStart:g,nightEnd:C,morningGoldenHour:b,eveningGoldenHour:v}}function oe(e,a){let n=new y.Observer(a,e.longitude,0),u=new Date(e.unixTime),l=y.MoonPhase(u),t=y.Equator(y.Body.Moon,u,n,!0,!1),h=Math.max(y.Horizon(u,n,t.ra,t.dec).altitude,0),d=y.SearchHourAngle(y.Body.Moon,n,0,new Date(e.nadir));return{phase:l,altitude:h,highestAltitude:d.hor.altitude}}function ne(e,a){let n=e.toDateString()+a+e.longitude;if(V!=null&&V[n])return V[n];let u=new y.Observer(a,e.longitude,0),l=y.SearchRiseSet(y.Body.Moon,u,1,new Date(e.nadir),1),t=y.SearchRiseSet(y.Body.Moon,u,-1,new Date(e.nadir),1);return V[n]={moonrise:e.getTimeOfEvent(l),moonset:e.getTimeOfEvent(t)}}var ie="/assets/northern-dial.097561e7.jpg",ae="/assets/southern-dial.198685be.jpg",se="/assets/sun-circle.bbfbe521.png",le="/assets/moon-0.bbdedb9c.png",re="/assets/moon-1.53303736.png",de="/assets/moon-2.ef741867.png",he="/assets/moon-3.bd205479.png",ue="/assets/moon-4.0ab42789.png",me="/assets/moon-5.c994fa5e.png",ce="/assets/moon-6.8bc4c52a.png",ge="/assets/moon-7.93cc69d9.png",ve="/assets/moon-8.f46937ae.png",ye="/assets/moon-9.e3ac5a6c.png",fe="/assets/moon-10.33e297ee.png",pe="/assets/moon-11.aba6c603.png",we="/assets/moon-12.d4a2300e.png",$e="/assets/moon-13.7f160f14.png",_e="/assets/moon-14.cba7fa74.png",ke="/assets/moon-15.3a2a054c.png",We="/assets/moon-16.58d67d99.png",Ce="/assets/moon-17.cac8178e.png",be="/assets/moon-18.668d92d8.png",Se="/assets/moon-19.19516bc9.png",Me="/assets/moon-20.da74d340.png",De="/assets/moon-21.e197fc89.png",Ee="/assets/moon-22.91d0eb74.png",xe="/assets/moon-23.d30a6223.png",Fe="/assets/moon-24.a542d56a.png",Le="/assets/moon-25.4c9c06ac.png",Oe="/assets/moon-26.44bd9aa4.png",Te="/assets/moon-27.8f9c7a8e.png",Re="/assets/moon-28.09ab6426.png",Ie="/assets/moon-29.95c32788.png",Be="/assets/moon-30.80e11381.png",Ne="/assets/moon-31.dcbd3b12.png",Ae="/assets/moon-32.09e6ad2b.png",ze="/assets/moon-33.e366d0aa.png",Pe="/assets/moon-34.39233623.png",He="/assets/moon-35.8db66114.png",Ge="/assets/NTZ.c938f261.png",Ve="/assets/sun-needle.3b0dc62a.png";const N=e=>(ht("data-v-1b56f5b2"),e=e(),ut(),e),Ue=N(()=>o("filter",{id:"blurry"},[o("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5"})],-1)),Ye=["id"],je=["stop-color"],qe=["stop-color"],Ke=N(()=>o("pattern",{id:"northernDial",height:"100%",width:"100%",patternContentUnits:"objectBoundingBox"},[o("image",{preserveAspectRatio:"none",width:"1",height:"1",href:ie})],-1)),Je=N(()=>o("pattern",{id:"southernDial",height:"100%",width:"100%",patternContentUnits:"objectBoundingBox"},[o("image",{preserveAspectRatio:"none",width:"1",height:"1",href:ae})],-1)),Ze={id:"blurryPeriodsRing",filter:"url(#blurry)"},Qe={id:"periodsRing"},Xe=N(()=>o("g",{id:"sun",width:"100%",height:"100%"},[o("image",{href:se,width:"100%",height:"100%"})],-1)),to={id:"moon",width:"100%",height:"100%"},eo=["width","height","x","y"],oo=["width","height","x","y"],no=["width","height","x","y"],io=["width","height","x","y"],ao=["width","height","x","y"],so=["width","height","x","y"],lo=["width","height","x","y"],ro=["width","height","x","y"],ho=["width","height","x","y"],uo=["width","height","x","y"],mo=["width","height","x","y"],co=["width","height","x","y"],go=["width","height","x","y"],vo=["width","height","x","y"],yo=["width","height","x","y"],fo=["width","height","x","y"],po=["width","height","x","y"],wo=["width","height","x","y"],$o=["width","height","x","y"],_o=["width","height","x","y"],ko=["width","height","x","y"],Wo=["width","height","x","y"],Co=["width","height","x","y"],bo=["width","height","x","y"],So=["width","height","x","y"],Mo=["width","height","x","y"],Do=["width","height","x","y"],Eo=["width","height","x","y"],xo=["width","height","x","y"],Fo=["width","height","x","y"],Lo=["width","height","x","y"],Oo=["width","height","x","y"],To=["width","height","x","y"],Ro=["width","height","x","y"],Io=["width","height","x","y"],Bo=["width","height","x","y"],No=["r"],Ao=["r","fill"],zo=N(()=>o("image",{id:"ntzNeedle","xlink:href":Ge,width:"100%",height:"100%"},null,-1)),Po={key:0,id:"prompt"},Ho={id:"location",x:"180",y:"211"},Go=["cx","cy","r"],Vo=N(()=>o("image",{id:"sunNeedle",href:Ve,width:"100%",height:"100%"},null,-1)),Uo={key:1,id:"time"},Yo={id:"units",x:"174",y:"196"},jo={id:"decimals",x:"228",y:"196"},qo=N(()=>o("br",null,null,-1)),Ko={props:{naturalDate:{type:Object,required:!0},sunContext:Object,moonContext:Object,hemisphere:Number,location:String},setup(e){const a=q(),n={dialSize:110,ringSize:90,ntzSize:74.9,blurSize:165,xstart:2.02,xspan:.05,ystart:1.455,yspan:.06,periodColors:{golden:"#FFC856",day:"#80CCFF",pinky:"#FFC856",nautical:"#2A2F55",night:"#000"}},u=$t(()=>(localStorage==null?void 0:localStorage.coordinatesFrom)=="default");function l(t,h,d,g){return t>h&&(h+=360),{"stroke-dasharray":(h-t)*Math.PI*(g/180)+" "+Math.PI*g*2,transform:"rotate("+t+" 180 180)",r:g,cx:"180",cy:"180","stroke-width":g,stroke:d,fill:"transparent"}}return(t,h)=>(i(),s(z,null,[(i(),s("svg",{class:B({blurMe:f(u)}),height:"100%",width:"100%",viewBox:"0 0 360 360",preserveAspectRatio:"xMidYMid meet",overflow:"visible"},[o("defs",null,[Ue,(i(!0),s(z,null,U(n.periodColors,(d,g)=>(i(),s("radialGradient",{key:g,id:g,cx:"50%",cy:"50%",r:"50%"},[o("stop",{offset:"50%","stop-color":d,"stop-opacity":"1"},null,8,je),o("stop",{offset:"100%","stop-color":d,"stop-opacity":"0"},null,8,qe)],8,Ye))),128)),Ke,Je]),o("g",Ze,[o("circle",D(E(l(e.sunContext.sunrise,e.sunContext.morningGoldenHour,"url(#golden)",n.blurSize))),null,16),o("circle",D(E(l(e.sunContext.morningGoldenHour,e.sunContext.eveningGoldenHour,"url(#day)",n.blurSize))),null,16),o("circle",D(E(l(e.sunContext.eveningGoldenHour,e.sunContext.sunset,"url(#pinky)",n.blurSize))),null,16),o("circle",D(E(l(e.sunContext.nightStart,e.sunContext.nightEnd,"url(#night)",n.blurSize))),null,16),o("circle",D(E(l(e.sunContext.nightEnd,e.sunContext.sunrise,"url(#nautical)",n.blurSize))),null,16),o("circle",D(E(l(e.sunContext.sunset,e.sunContext.nightStart,"url(#nautical)",n.blurSize))),null,16)]),o("g",Qe,[o("circle",D(E(l(e.sunContext.sunrise,e.sunContext.morningGoldenHour,n.periodColors.golden,n.ringSize))),null,16),o("circle",D(E(l(e.sunContext.morningGoldenHour,e.sunContext.eveningGoldenHour,n.periodColors.day,n.ringSize))),null,16),o("circle",D(E(l(e.sunContext.eveningGoldenHour,e.sunContext.sunset,n.periodColors.pinky,n.ringSize))),null,16),o("circle",D(E(l(e.sunContext.nightStart,e.sunContext.nightEnd,n.periodColors.night,n.ringSize))),null,16),o("circle",D(E(l(e.sunContext.nightEnd,e.sunContext.sunrise,n.periodColors.nautical,n.ringSize))),null,16),o("circle",D(E(l(e.sunContext.sunset,e.sunContext.nightStart,n.periodColors.nautical,n.ringSize))),null,16)]),Xe,o("g",to,[Math.floor((360-e.moonContext.phase)/10)==0?(i(),s("image",{key:0,href:le,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,eo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==1?(i(),s("image",{key:1,href:re,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,oo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==2?(i(),s("image",{key:2,href:de,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,no)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==3?(i(),s("image",{key:3,href:he,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,io)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==4?(i(),s("image",{key:4,href:ue,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ao)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==5?(i(),s("image",{key:5,href:me,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,so)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==6?(i(),s("image",{key:6,href:ce,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,lo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==7?(i(),s("image",{key:7,href:ge,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ro)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==8?(i(),s("image",{key:8,href:ve,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ho)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==9?(i(),s("image",{key:9,href:ye,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,uo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==10?(i(),s("image",{key:10,href:fe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,mo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==11?(i(),s("image",{key:11,href:pe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,co)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==12?(i(),s("image",{key:12,href:we,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,go)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==13?(i(),s("image",{key:13,href:$e,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,vo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==14?(i(),s("image",{key:14,href:_e,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,yo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==15?(i(),s("image",{key:15,href:ke,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,fo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==16?(i(),s("image",{key:16,href:We,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,po)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==17?(i(),s("image",{key:17,href:Ce,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,wo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==18?(i(),s("image",{key:18,href:be,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,$o)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==19?(i(),s("image",{key:19,href:Se,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,_o)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==20?(i(),s("image",{key:20,href:Me,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,ko)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==21?(i(),s("image",{key:21,href:De,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Wo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==22?(i(),s("image",{key:22,href:Ee,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Co)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==23?(i(),s("image",{key:23,href:xe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,bo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==24?(i(),s("image",{key:24,href:Fe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,So)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==25?(i(),s("image",{key:25,href:Le,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Mo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==26?(i(),s("image",{key:26,href:Oe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Do)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==27?(i(),s("image",{key:27,href:Te,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Eo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==28?(i(),s("image",{key:28,href:Re,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,xo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==29?(i(),s("image",{key:29,href:Ie,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Fo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==30?(i(),s("image",{key:30,href:Be,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Lo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==31?(i(),s("image",{key:31,href:Ne,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Oo)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==32?(i(),s("image",{key:32,href:Ae,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,To)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==33?(i(),s("image",{key:33,href:ze,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Ro)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==34?(i(),s("image",{key:34,href:Pe,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Io)):c("",!0),Math.floor((360-e.moonContext.phase)/10)==35?(i(),s("image",{key:35,href:He,width:(t.moonWidth=11)+"%",height:t.moonWidth+"%",x:50-t.moonWidth/2+"%",y:50-t.moonWidth/2+"%"},null,8,Bo)):c("",!0)]),o("circle",{id:"dialLoadingBg",r:n.dialSize,cx:"180",cy:"180",fill:"#E3E3E3"},null,8,No),o("circle",{id:"dial",r:n.dialSize,cx:"180",cy:"180",fill:e.hemisphere>0?"url(#northernDial)":"url(#southernDial)"},null,8,Ao),zo,f(u)?c("",!0):(i(),s("g",Po,[o("text",Ho,m(e.location.replace(/_/g," "))+" ("+m(e.naturalDate.toLongitudeString())+")",1),o("g",null,[e.naturalDate.isRainbowDay?c("",!0):(i(),s(z,{key:0},U(28,d=>o("circle",{cx:(n.ystart+n.yspan*((d-1)%7))*n.dialSize,cy:(n.xstart+n.xspan*parseInt((d-1)/7))*n.dialSize,r:d==e.naturalDate.dayOfMoon?2:1.4,class:B(d==e.naturalDate.dayOfMoon?"color-"+e.naturalDate.dayOfWeek:"")},null,10,Go)),64))])])),Vo,f(u)?c("",!0):(i(),s("g",Uo,[o("text",Yo,m(("00"+Math.floor(e.naturalDate.time)).slice(-3))+"\xB0",1),o("text",jo,m(("0"+Math.floor((e.naturalDate.time-Math.floor(e.naturalDate.time))*100/5)*5).slice(-2)),1)]))],2)),f(u)?(i(),s("div",{key:0,id:"askForLocation",onClick:h[0]||(h[0]=d=>f(a).push({name:"settings"}))},[o("h1",null,[W(m(t.$t("askForlocation.line1")),1),qo,W(m(t.$t("askForlocation.line2")),1)]),o("button",null,m(t.$t("askForlocation.button")),1)])):c("",!0),(i(),ot(nt("style"),null,{default:O(()=>[W(" :root { --sun-time: "+m(e.naturalDate.time*e.hemisphere)+"deg; --ntz-time: "+m((e.naturalDate.time-e.naturalDate.longitude)*e.hemisphere)+"deg; --sun-altitude: "+m(e.sunContext.altitude*.9)+"px; --moon-time: "+m(e.naturalDate.time*e.hemisphere-e.moonContext.phase*e.hemisphere)+"deg; --moon-altitude: "+m(e.moonContext.altitude*.9)+"px; } ",1)]),_:1}))],64))}};var Jo=at(Ko,[["__scopeId","data-v-1b56f5b2"]]);const Zo=o("div",{id:"backgrounds"},[o("div",{id:"stars"}),o("div",{id:"clouds"})],-1),Qo={id:"ClockComponent"},Xo=["title"],tn=["title"],en=W("-360\xB0"),on=[en],nn=["title"],an=W("-2\xB0"),sn=[an],ln=["disabled","title"],rn=["title"],dn=W("+2\xB0"),hn=[dn],un=["title"],mn=W("+360\xB0"),cn=[mn],gn=["title"],vn={id:"legend"},yn=o("br",null,null,-1),fn={setup(e){const a=it(),n=q();a.params.latlng&&localStorage.coordinatesFrom=="default"&&(localStorage.latitude=parseFloat(a.params.latlng.split(",")[0]),localStorage.longitude=parseFloat(a.params.latlng.split(",")[1]),localStorage.location=a.params.location||"",localStorage.coordinatesFrom="url"),!a.params.latlng&&localStorage.coordinatesFrom!="default"&&n.push({name:"time",params:{latlng:localStorage.latitude+","+localStorage.longitude,location:localStorage.location}});const u=_(Date.now());let l=null;Q(()=>{l=setInterval(()=>u.value=Date.now(),1200)}),mt(()=>{clearInterval(l)});const t=_(parseFloat(localStorage.latitude)),h=_(parseFloat(localStorage.longitude)),d=_(String(localStorage.location));a.params.latlng&&(t.value=parseFloat(a.params.latlng.split(",")[0]),h.value=parseFloat(a.params.latlng.split(",")[1]),d.value=String(a.params.location));const g=Y(()=>{let r=new Date(u.value+b.value),w=new I(r,h.value),$=H(H({},te(w,t.value)),ee(w,t.value)),F=H(H({},oe(w,t.value)),ne(w,t.value)),j=0,K=[{rangeStart:$.morningGoldenHour,rangeStop:$.eveningGoldenHour,start:1,stop:1},{rangeStart:$.nightEnd,rangeStop:$.morningGoldenHour,start:0,stop:1},{rangeStart:$.eveningGoldenHour,rangeStop:$.nightStart,start:1,stop:0}];for(let L of K)w.time>=L.rangeStart&w.time<L.rangeStop&&(j=L.start+(L.stop-L.start)*((w.time-L.rangeStart)/(L.rangeStop-L.rangeStart)));return document.title=`${w.toTimeString(2,5)} ${w.toLongitudeString()} | ${d.value} | ${w.toDateString()}`,{naturalDate:w,artificialDate:r,sun:$,moon:F,dayProgression:j}}),C=Y(()=>t.value>=0?1:-1),b=_(0);function v(r){const w=r.target.dataset.variation;w==0&&(b.value=0),b.value+=w*1e3}const k=_(0);let p=null;function T(){k.value=1,clearTimeout(p),p=setTimeout(()=>{k.value=0},5e3)}return ct((r,w)=>{r.params.length&&!r.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?n.push({name:"settings"}):(r.params.latlng!==void 0&&(t.value=parseFloat(r.params.latlng.split(",")[0]),h.value=parseFloat(r.params.latlng.split(",")[1])),r.params.location!==void 0&&(d.value=r.params.location))}),(r,w)=>{const $=X("touch"),F=X("longclick");return x((i(),s("div",null,[Zo,o("div",Qo,[M(Jo,{naturalDate:f(g).naturalDate,sunContext:f(g).sun,moonContext:f(g).moon,hemisphere:f(C),location:d.value},null,8,["naturalDate","sunContext","moonContext","hemisphere","location"])]),o("div",{id:"time-controls",class:B(b.value?"":"UI")},[x((i(),s("button",{"data-variation":-7*86400,title:r.$t("timeControl.moveBackward")+" 7 "+r.$t("timeControl.days")+" "+r.$t("timeControl.past")},[W("-7"+m(r.$t("timeControl.days")),1)],8,Xo)),[[$,v,"tap"],[F,v]]),x((i(),s("button",{"data-variation":-24*3600,title:r.$t("timeControl.moveBackward")+" 1 "+r.$t("timeControl.day")+" "+r.$t("timeControl.past")},on,8,tn)),[[$,v,"tap"],[F,v]]),x((i(),s("button",{"data-variation":-8*60,title:r.$t("timeControl.moveBackward")+" 2 "+r.$t("timeControl.degrees")+" "+r.$t("timeControl.past")},sn,8,nn)),[[$,v,"tap"],[F,v]]),x((i(),s("button",{disabled:b.value==0,"data-variation":0,title:r.$t("timeControl.resetTitle")},[W(m(r.$t("timeControl.reset")),1)],8,ln)),[[$,v,"tap"]]),x((i(),s("button",{"data-variation":8*60,title:r.$t("timeControl.moveForward")+" 2 "+r.$t("timeControl.degrees")+" "+r.$t("timeControl.future")},hn,8,rn)),[[$,v,"tap"],[F,v]]),x((i(),s("button",{"data-variation":24*60*60,title:r.$t("timeControl.moveForward")+" 1 "+r.$t("timeControl.day")+" "+r.$t("timeControl.future")},cn,8,un)),[[$,v,"tap"],[F,v]]),x((i(),s("button",{"data-variation":7*24*60*60,title:r.$t("timeControl.moveForward")+" 7 "+r.$t("timeControl.days")+" "+r.$t("timeControl.future")},[W("+7"+m(r.$t("timeControl.days")),1)],8,gn)),[[$,v,"tap"],[F,v]])],2),o("div",vn,[W(m(f(g).naturalDate),1),yn,o("small",null,[o("strong",null,m(r.$t("nt")),1)])]),(i(),ot(nt("style"),null,{default:O(()=>[W(" :root { --hemisphere: "+m(f(C))+"; --day-progression: "+m(f(g).dayProgression)+"; --day-saturation: saturate("+m(.4+f(g).dayProgression*.6)+"); --ui-opacity: "+m(k.value)+"; } ",1)]),_:1}))])),[[$,T,"rollover"],[$,T,"release"]])}}};var pn="/assets/rainbow-day.a263a220.png",wn="/assets/rainbow-days.65897d03.png";const $n={key:0,class:"flex"},_n=o("div",{class:"left"},null,-1),kn={class:"right"},Wn={class:"top"},Cn={class:"title"},bn=gt('<div class="dayColors"><span class="color-1"></span><span class="color-2"></span><span class="color-3"></span><span class="color-4"></span><span class="color-5"></span><span class="color-6"></span><span class="color-7"></span></div>',1),Sn={class:"bottom"},Mn=["title","onMouseenter"],Dn={class:"dayNumber"},En={key:0},xn=o("img",{src:pn},null,-1),Fn=[xn],Ln={key:1},On=o("img",{src:wn},null,-1),Tn=[On],Rn={props:{today:{type:I,required:!0},moon:{type:Number,required:!0}},emits:["hover-date","reset-hover"],setup(e,{emit:a}){const n=e,u=Y(()=>{let l=[];for(var t=0;t<28;t++){let h=new I(n.today.yearStart+I.MILLISECONDS_PER_DAY*28*(n.moon-1)+I.MILLISECONDS_PER_DAY*t,n.today.longitude);l[t]={date:h,dayClasses:{isToday:n.today.toDateString()==h.toDateString(),isPast:n.today.toDateString()>=h.toDateString(),isRainbowDay:n.today.isRainbowDay},backgroundClasses:{}},l[t].backgroundClasses[`color-${h.dayOfWeek}`]=!0}return l});return(l,t)=>{const h=X("touch");return i(),s("div",{class:B(["moonComponent",{passedMoon:e.today.moon>e.moon,currentMoon:e.today.moon==e.moon}])},[e.moon<14?(i(),s("div",$n,[_n,o("div",kn,[o("div",Wn,[o("div",Cn,[o("span",null,m(l.$t("moon")),1),W(" #"+m(e.moon),1)]),bn]),o("div",Sn,[(i(!0),s(z,null,U(f(u),d=>x((i(),s("div",{class:B(["dayOfMoon",d.dayClasses]),title:l.$t("nt")+" => "+d.date.toDateString()+`
`+l.$t("at")+" => "+new Date(d.date.unixTime).toLocaleDateString(),onMouseenter:g=>a("hover-date",d.date),onMouseleave:t[0]||(t[0]=g=>a("reset-hover"))},[o("div",{class:B(["background",d.backgroundClasses])},null,2),o("div",Dn,m(d.date.toDayOfMoonString()),1)],42,Mn)),[[h,a("hover-date",d.date),"press"],[h,a("reset-hover"),"release"]])),256))])])])):(i(),s("div",{key:1,class:B(["moon-rainbow-day",{isRainbowDay:e.today.isRainbowDay}]),onMouseenter:t[1]||(t[1]=d=>a("hover-date",new f(I)(e.today.yearStart+f(I).MILLISECONDS_PER_DAY*364,e.today.longitude))),onMouseleave:t[2]||(t[2]=d=>a("reset-hover"))},[e.today.yearDuration==365?(i(),s("div",En,Fn)):(i(),s("div",Ln,Tn))],34))],2)}}},In={width:"100%",height:"100%",viewBox:"0 0 100 68",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve"},Bn={key:0,transform:"matrix(1,0,0,1,-3000,-3358)"},Nn={id:"earth",transform:"matrix(0.0693461,0,0,0.0472222,2811.79,3358)"},An=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),zn={transform:"matrix(9.97724,0,0,9.92977,1675.41,-2683.03)"},Pn={transform:"matrix(0.481333,0,0,0.722,0,0)"},Hn={transform:"matrix(0.481333,0,0,0.722,1.13787,-28.4698)"},Gn={transform:"matrix(0.481333,0,0,0.722,2.27575,-56.9396)"},Vn={key:1,transform:"matrix(1,0,0,1,-3100,-3358)"},Un={id:"water",transform:"matrix(0.0693461,0,0,0.0472222,2911.79,3358)"},Yn=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),jn=o("clipPath",{id:"_clip1"},[o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440"})],-1),qn={"clip-path":"url(#_clip1)"},Kn={transform:"matrix(12.6106,0,0,12.3458,881.613,-6020.99)"},Jn={transform:"matrix(0.481333,0,0,0.722,0,0)"},Zn={transform:"matrix(0.481333,0,0,0.722,1.83233,-24.4784)"},Qn={transform:"matrix(0.481333,0,0,0.722,3.66465,-48.9568)"},Xn={key:2,transform:"matrix(1,0,0,1,-3200,-3358)"},ti={id:"air",transform:"matrix(0.0693461,0,0,0.0472222,3011.79,3358)"},ei=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),oi={transform:"matrix(10.1559,0,0,11.8223,1318.83,-8154.52)"},ni={transform:"matrix(0.481333,0,0,0.722,0,0)"},ii={transform:"matrix(0.481333,0,0,-0.722,0,1524.64)"},ai={transform:"matrix(0.481333,0,0,-0.722,0,1501.31)"},si={key:3,transform:"matrix(1,0,0,1,-3300,-3358)"},li={id:"fire",transform:"matrix(0.0693461,0,0,0.0472222,3111.79,3358)"},ri=o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440",style:{fill:"none"}},null,-1),di=o("clipPath",{id:"_clip1"},[o("rect",{x:"2714.03",y:"0",width:"1442.04",height:"1440"})],-1),hi={"clip-path":"url(#_clip1)"},ui={transform:"matrix(4.70874e-16,-11.2927,11.6284,1.04562e-15,-2914.23,3006.6)"},mi={transform:"matrix(0.481333,0,0,0.722,0,0)"},ci={transform:"matrix(0.481333,0,0,0.722,1.83233,-24.4784)"},gi={transform:"matrix(0.481333,0,0,0.722,3.66465,-48.9568)"},vi={props:{element:{type:Number,required:!0},color:{type:Number,required:!0}},setup(e){return(a,n)=>(i(),s("svg",In,[e.element==1?(i(),s("g",Bn,[o("g",Nn,[An,o("g",zn,[o("g",Pn,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:S([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",Hn,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:S([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",Gn,[o("path",{d:"M234.924,548.723L314.273,487.988L356.179,526.198L417.246,466.345L493.169,561.853",style:S([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])):e.element==2?(i(),s("g",Vn,[o("g",Un,[Yn,jn,o("g",qn,[o("g",Kn,[o("g",Jn,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:S([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",Zn,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:S([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",Qn,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:S([{fill:"none",stroke:"black","stroke-width":"20px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])])):e.element==3?(i(),s("g",Xn,[o("g",ti,[ei,o("g",oi,[o("g",ni,[o("path",{d:"M327.174,1071.54C327.174,1071.54 482.34,1069.77 508.112,1069.23C561.59,1068.11 534.308,1133.65 505.65,1103.96",style:S([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ii,[o("path",{d:"M327.174,1071.54C327.174,1071.54 482.34,1069.77 508.112,1069.23C561.59,1068.11 534.308,1133.65 505.65,1103.96",style:S([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ai,[o("path",{d:"M327.174,1071.54C327.174,1071.54 422.518,1069.77 448.291,1069.23C501.769,1068.11 474.486,1133.65 445.829,1103.96",style:S([{fill:"none",stroke:"black","stroke-width":"21.65px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])):e.element==4?(i(),s("g",si,[o("g",li,[ri,di,o("g",hi,[o("g",ui,[o("g",mi,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:S([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",ci,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:S([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+e.color+")"}])},null,4)]),o("g",gi,[o("path",{d:"M301.886,793.225C349.672,775.253 376.816,770.325 419.457,793.22C462.098,816.115 513.467,790.421 531.846,781.472",style:S([{fill:"none",stroke:"black","stroke-width":"18.48px"},{stroke:"var(--color-"+e.color+")"}])},null,4)])])])])])):c("",!0)]))}};const yi={id:"moons-view"},fi=o("div",{id:"backgrounds"},[o("div",{id:"clouds"})],-1),pi={id:"year"},wi={id:"display"},$i={key:0,class:"center-me"},_i={class:"display-top"},ki={class:"display-year"},Wi={class:"digit"},Ci={class:"label"},bi={class:"display-moon"},Si={class:"digit"},Mi={class:"label"},Di={class:"digit"},Ei={class:"label"},xi={class:"display-bottom"},Fi={class:"time"},Li={key:1,class:"center-me"},Oi={class:"display-top"},Ti={class:"display-year"},Ri=o("div",{class:"digit"},"\xA0",-1),Ii={class:"label"},Bi=o("div",{class:"separator"},null,-1),Ni={class:"display-moon"},Ai={class:"digit"},zi={class:"label"},Pi=o("div",{class:"separator"},null,-1),Hi={class:"display-day"},Gi=o("div",{class:"digit"},"\xA0",-1),Vi={class:"label"},Ui={setup(e){const a=it(),n=q();a.params.latlng&&localStorage.coordinatesFrom=="default"&&(localStorage.latitude=parseFloat(a.params.latlng.split(",")[0]),localStorage.longitude=parseFloat(a.params.latlng.split(",")[1]),localStorage.location=a.params.location||"",localStorage.coordinatesFrom="url"),!a.params.latlng&&localStorage.coordinatesFrom!="default"&&n.push({name:"date",params:{latlng:localStorage.latitude+","+localStorage.longitude,location:localStorage.location}});const u=_(parseFloat(localStorage.latitude)),l=_(parseFloat(localStorage.longitude)),t=_(String(localStorage.location));a.params.latlng&&(u.value=parseFloat(a.params.latlng.split(",")[0]),l.value=parseFloat(a.params.latlng.split(",")[1]),t.value=String(a.params.location));const h=_(new Date);let d=null;Q(()=>{d=setInterval(()=>h.value=Date.now(),12e3)}),mt(()=>{clearInterval(d)});const g=Y(()=>{let p=new I(h.value,l.value);return document.title=`${p.toDateString()} - ${t.value} (${p.toLongitudeString()})`,p}),C=_(!1),b=p=>{C.value=p},v=()=>{C.value=!1},k=Y(()=>C.value||g.value);return Q(()=>{let p=document.getElementsByClassName("currentMoon")[0];window.scrollTo({top:p.offsetTop,behavior:"smooth"})}),ct((p,T)=>{p.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?(u.value=parseFloat(p.params.latlng.split(",")[0]),l.value=parseFloat(p.params.latlng.split(",")[1]),t.value=p.params.location):n.push({name:"settings"})}),(p,T)=>(i(),s("div",yi,[fi,o("div",pi,[o("div",wi,[f(k).isRainbowDay?(i(),s("div",Li,[o("div",Oi,[o("div",Ti,[Ri,o("div",Ii,m(p.$t("rainbowDay.out")),1)]),Bi,o("div",Ni,[o("div",Ai,m(p.$t("rainbowDay.day")),1),o("div",zi,m(p.$t("rainbowDay.of")),1)]),Pi,o("div",Hi,[Gi,o("div",Vi,m(p.$t("rainbowDay.time")),1)])]),o("div",{class:"display-bottom",style:S({color:"var(--color-"+f(k).dayOfWeek+")"})},[(i(),s(z,null,U(7,(r=1)=>o("div",null,[M(vi,{element:4-Math.abs(4-r),color:r},null,8,["element","color"])])),64))],4)])):(i(),s("div",$i,[o("div",_i,[o("div",ki,[o("div",Wi,m(f(k).toYearString()),1),o("div",Ci,m(p.$t("year")),1)]),o("div",{class:"separator",style:S({color:"var(--color-"+f(k).dayOfWeek+")"})},")",4),o("div",bi,[o("div",Si,m(f(k).toMoonString()),1),o("div",Mi,m(p.$t("moon")),1)]),o("div",{class:"separator",style:S({color:"var(--color-"+f(k).dayOfWeek+")"})},")",4),o("div",{class:"display-day",onClick:T[0]||(T[0]=r=>f(n).push({name:"time"}))},[o("div",Di,m(f(k).toDayOfMoonString()),1),o("div",Ei,m(p.$t("day")),1)])]),o("div",xi,[o("div",Fi,m(t.value?t.value+" | ":"")+m(f(g).toTimeString(2,5))+" "+m(f(g).toLongitudeString()),1)])]))]),(i(),s(z,null,U(14,(r=1)=>M(Rn,{id:"moon-"+r,today:f(g),moon:r,onHoverDate:b,onResetHover:v},null,8,["id","today","moon"])),64))])]))}},Yi={},ji=gt("<h1>ABOUT NATURAL TIME</h1><h2>WELCOME</h2><h3>INTRO</h3><h3>VIDEO</h3><h3>HOW TO USE</h3><h4>MAC</h4><h4>IPHONE</h4><h4>OTHERS</h4><h3>CONTRIBUTE</h3><h2>WHITE PAPER</h2><h2>DEVELOPPERS</h2>",11),qi=[ji];function Ki(e,a){return i(),s("div",null,qi)}var Ji=at(Yi,[["render",Ki]]);const dt=(e,a)=>{if(e.params.latlng!==void 0&&!e.params.latlng.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/))return!1},tt=_t({history:kt("/"),routes:[{path:"/settings",name:"settings",component:Xt},{path:"/:latlng?/:location?",name:"time",component:fn,beforeRouteEnter:dt},{path:"/13moons/:latlng?/:location?",name:"date",component:Ui,beforeRouteEnter:dt},{path:"/about",name:"about",component:Ji}]});tt.beforeEach((e,a)=>{localStorage.latitude||(localStorage.latitude=42.42),localStorage.longitude||(localStorage.longitude=0),localStorage.location||(localStorage.location=""),localStorage.coordinatesFrom||(localStorage.coordinatesFrom="default")});const Zi={en:{nt:"Natural time",at:"Artificial time",meta:{description:"Natural time is a fresh, elegant, and coherent way of measuring the movements of time here on the Earth. This new time standard is based on common sense and the observation of natural cycles."},longitude:"Longitude",latitude:"Latitude",rainbowDay:{full:"Rainbow Day",day:"Rainbow",out:"D",of:"A",time:"Y"},nav:{clock:"Clock",moons:"13 moons",location:"Settings",about:"Read more"},settings:{title:"Pick up a location",form:{latitude:"latitude",longitude:"longitude",location:"location name",save:"save",trackGPS:"Find me on the map"}},askForlocation:{line1:"Natural",line2:"Time",button:"Set the clock"},timeControl:{moveBackward:"Move",moveForward:"Move",days:"days",day:"day",degrees:"degrees",past:"in the past",future:"in the future",reset:"Set Now",resetTitle:"Go back to now"},year:"Year",moon:"Moon",day:"Day",weekDay:"{color} {element}",colors:{1:"Red",2:"Orange",3:"Yellow",4:"Green",5:"Blue",6:"Indigo",7:"Violet"},elements:{1:"Earth",2:"Water",3:"Air",4:"Fire"}},fr:{nt:"Temps naturel",at:"Temps artificiel",meta:{description:"Le temps naturel est une nouvelle mani\xE8re de mesurer les mouvements du temps de fa\xE7on coh\xE9rente, fraiche et \xE9l\xE9gante. Cette nouvelle convention est bas\xE9e sur le bon sens et sur l'observation des cycles naturels."},longitude:"Longitude",latitude:"Latitude",rainbowDay:{full:"Jour Arc en Ciel",day:"Jour",out:"Arc",of:"En",time:"Ciel"},nav:{clock:"Horloge",moons:"13 lunes",location:"R\xE9glages",about:"En savoir +"},settings:{title:"Choisir un lieu",form:{latitude:"latitude",longitude:"longitude",location:"nom du lieu",save:"Enregistrer",trackGPS:"Me localiser"}},askForlocation:{line1:"Temps",line2:"Naturel",button:"Definir l'emplacement"},timeControl:{moveBackward:"Reculer de",moveForward:"Avancer de",days:"j",day:"jour",degrees:"degr\xE9s",past:"dans le pass\xE9",future:"dans le futur",reset:"Remise \xE0 0",resetTitle:"Revenir \xE0 Maintenant"},year:"Ann\xE9e",moon:"Lune",day:"Jour",weekDay:"{element} {color}",colors:{1:"Rouge",2:"Orange",3:"Jaune",4:"Vert",5:"Bleu",6:"Indigo",7:"Violet"},elements:{1:"Terre",2:"Eau",3:"Air",4:"Feu"}}},Qi=et.exports.createI18n({locale:navigator.language||navigator.userLanguage,fallbackLocale:"en",silentTranslationWarn:!0,silentFallbackWarn:!0,messages:Zi});var Xi=({delay:e=400,interval:a=50})=>({beforeMount(n,u,l,t){if(typeof u.value!="function"){const v=l.context.name;let k=`[longclick:] provided expression '${u.expression}' is not a function, but has to be`;v&&(k+=`Found in component '${v}' `),console.warn(k)}let h=null,d=null;const g=v=>{u.value(v)},C=v=>{v.type==="click"&&v.button!==0||h===null&&(h=setTimeout(()=>{a&&a>0&&(d=setInterval(()=>{g(v)},a)),g(v)},e))},b=()=>{h!==null&&(clearTimeout(h),h=null),d&&(clearInterval(d),d=null)};["mousedown","touchstart"].forEach(v=>{n.addEventListener(v,C,{passive:!0})}),["click","mouseout","touchend","touchcancel"].forEach(v=>{n.addEventListener(v,b,{passive:!0})})},created(){},mounted(){},beforeUpdate(){},updated(){},beforeUnmount(){},unmounted(){}}),ta="/assets/location.d6443cdc.svg",ea="/assets/about.d98671ac.svg";const oa={class:"UI"},na=W(" \xA0 "),ia=["title"],aa=["title"],sa={setup(e){const a=it(),n=et.exports.useI18n(),u=document.getElementsByTagName("meta");return u.description.content=n.t("meta.description"),(l,t)=>{const h=R("router-view"),d=R("router-link");return i(),s("div",null,[M(h,null,{default:O(({Component:g})=>[M(Wt,{name:"fade",mode:"out-in"},{default:O(()=>[(i(),ot(nt(g)))]),_:2},1024)]),_:1}),o("nav",oa,[M(d,{to:{name:"time",params:f(a).params}},{default:O(()=>[W(m(l.$t("nav.clock")),1)]),_:1},8,["to"]),M(d,{to:{name:"date",params:f(a).params}},{default:O(()=>[W(m(l.$t("nav.moons")),1)]),_:1},8,["to"]),na,M(d,{to:{name:"settings"}},{default:O(()=>[o("img",{src:ta,title:l.$t("nav.location")},null,8,ia)]),_:1}),M(d,{to:{name:"about"}},{default:O(()=>[o("img",{src:ea,title:l.$t("nav.about")},null,8,aa)]),_:1})])])}}};function la(e={}){const{immediate:a=!1,onNeedRefresh:n,onOfflineReady:u,onRegistered:l,onRegisterError:t}=e;let h;const d=async(g=!0)=>{};return"serviceWorker"in navigator&&(h=new Ct("/sw.js",{scope:"/",type:"classic"}),h.addEventListener("activated",g=>{g.isUpdate?window.location.reload():u==null||u()}),h.register({immediate:a}).then(g=>{l==null||l(g)}).catch(g=>{t==null||t(g)})),d}bt(sa).use(tt).use(Qi,{missingWarn:!1,silentFallbackWarn:!0}).use(St).use(Mt,{rollOverFrequency:500}).use(Dt,{host:"https://stats.naturaltime.app/matomo",siteId:1,router:tt}).directive("longclick",Xi({delay:222,interval:111})).mount("#app");la({onOfflineReady(){}});
