var SH=Object.defineProperty;var wH=(o,l,u)=>l in o?SH(o,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[l]=u;var zs=(o,l,u)=>(wH(o,typeof l!="symbol"?l+"":l,u),u);function mm(o,l){const u=Object.create(null),s=o.split(",");for(let h=0;h<s.length;h++)u[s[h]]=!0;return l?h=>!!u[h.toLowerCase()]:h=>!!u[h]}const xH="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",TH=mm(xH),OH="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",AH=mm(OH);function Ox(o){return!!o||o===""}function Eg(o){if(Zn(o)){const l={};for(let u=0;u<o.length;u++){const s=o[u],h=Ya(s)?CH(s):Eg(s);if(h)for(const d in h)l[d]=h[d]}return l}else{if(Ya(o))return o;if(as(o))return o}}const MH=/;(?![^(]*\))/g,RH=/:(.+)/;function CH(o){const l={};return o.split(MH).forEach(u=>{if(u){const s=u.split(RH);s.length>1&&(l[s[0].trim()]=s[1].trim())}}),l}function Sg(o){let l="";if(Ya(o))l=o;else if(Zn(o))for(let u=0;u<o.length;u++){const s=Sg(o[u]);s&&(l+=s+" ")}else if(as(o))for(const u in o)o[u]&&(l+=u+" ");return l.trim()}function bH(o){if(!o)return null;let{class:l,style:u}=o;return l&&!Ya(l)&&(o.class=Sg(l)),u&&(o.style=Eg(u)),o}function LH(o,l){if(o.length!==l.length)return!1;let u=!0;for(let s=0;u&&s<o.length;s++)u=pf(o[s],l[s]);return u}function pf(o,l){if(o===l)return!0;let u=FS(o),s=FS(l);if(u||s)return u&&s?o.getTime()===l.getTime():!1;if(u=Zn(o),s=Zn(l),u||s)return u&&s?LH(o,l):!1;if(u=as(o),s=as(l),u||s){if(!u||!s)return!1;const h=Object.keys(o).length,d=Object.keys(l).length;if(h!==d)return!1;for(const v in o){const y=o.hasOwnProperty(v),E=l.hasOwnProperty(v);if(y&&!E||!y&&E||!pf(o[v],l[v]))return!1}}return String(o)===String(l)}function _m(o,l){return o.findIndex(u=>pf(u,l))}const IH=o=>Ya(o)?o:o==null?"":Zn(o)||as(o)&&(o.toString===Mx||!ji(o.toString))?JSON.stringify(o,Ax,2):String(o),Ax=(o,l)=>l&&l.__v_isRef?Ax(o,l.value):Xp(l)?{[`Map(${l.size})`]:[...l.entries()].reduce((u,[s,h])=>(u[`${s} =>`]=h,u),{})}:Od(l)?{[`Set(${l.size})`]:[...l.values()]}:as(l)&&!Zn(l)&&!Rx(l)?String(l):l,$o={},Hp=[],r0=()=>{},PH=()=>!1,NH=/^on[^a-z]/,wg=o=>NH.test(o),O6=o=>o.startsWith("onUpdate:"),os=Object.assign,A6=(o,l)=>{const u=o.indexOf(l);u>-1&&o.splice(u,1)},FH=Object.prototype.hasOwnProperty,jo=(o,l)=>FH.call(o,l),Zn=Array.isArray,Xp=o=>Em(o)==="[object Map]",Od=o=>Em(o)==="[object Set]",FS=o=>o instanceof Date,ji=o=>typeof o=="function",Ya=o=>typeof o=="string",M6=o=>typeof o=="symbol",as=o=>o!==null&&typeof o=="object",R6=o=>as(o)&&ji(o.then)&&ji(o.catch),Mx=Object.prototype.toString,Em=o=>Mx.call(o),DH=o=>Em(o).slice(8,-1),Rx=o=>Em(o)==="[object Object]",C6=o=>Ya(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,Yv=mm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sm=o=>{const l=Object.create(null);return u=>l[u]||(l[u]=o(u))},jH=/-(\w)/g,Qu=Sm(o=>o.replace(jH,(l,u)=>u?u.toUpperCase():"")),GH=/\B([A-Z])/g,P0=Sm(o=>o.replace(GH,"-$1").toLowerCase()),xg=Sm(o=>o.charAt(0).toUpperCase()+o.slice(1)),Hv=Sm(o=>o?`on${xg(o)}`:""),ng=(o,l)=>!Object.is(o,l),Kp=(o,l)=>{for(let u=0;u<o.length;u++)o[u](l)},Jy=(o,l,u)=>{Object.defineProperty(o,l,{configurable:!0,enumerable:!1,value:u})},vf=o=>{const l=parseFloat(o);return isNaN(l)?o:l};let DS;const BH=()=>DS||(DS=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ac;class b6{constructor(l=!1){this.active=!0,this.effects=[],this.cleanups=[],!l&&Ac&&(this.parent=Ac,this.index=(Ac.scopes||(Ac.scopes=[])).push(this)-1)}run(l){if(this.active)try{return Ac=this,l()}finally{Ac=this.parent}}on(){Ac=this}off(){Ac=this.parent}stop(l){if(this.active){let u,s;for(u=0,s=this.effects.length;u<s;u++)this.effects[u].stop();for(u=0,s=this.cleanups.length;u<s;u++)this.cleanups[u]();if(this.scopes)for(u=0,s=this.scopes.length;u<s;u++)this.scopes[u].stop(!0);if(this.parent&&!l){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.active=!1}}}function UH(o){return new b6(o)}function Cx(o,l=Ac){l&&l.active&&l.effects.push(o)}function kH(){return Ac}function zH(o){Ac&&Ac.cleanups.push(o)}const L6=o=>{const l=new Set(o);return l.w=0,l.n=0,l},bx=o=>(o.w&gf)>0,Lx=o=>(o.n&gf)>0,VH=({deps:o})=>{if(o.length)for(let l=0;l<o.length;l++)o[l].w|=gf},WH=o=>{const{deps:l}=o;if(l.length){let u=0;for(let s=0;s<l.length;s++){const h=l[s];bx(h)&&!Lx(h)?h.delete(o):l[u++]=h,h.w&=~gf,h.n&=~gf}l.length=u}},N4=new WeakMap;let jv=0,gf=1;const F4=30;let L0;const _d=Symbol(""),D4=Symbol("");class Tg{constructor(l,u=null,s){this.fn=l,this.scheduler=u,this.active=!0,this.deps=[],this.parent=void 0,Cx(this,s)}run(){if(!this.active)return this.fn();let l=L0,u=hf;for(;l;){if(l===this)return;l=l.parent}try{return this.parent=L0,L0=this,hf=!0,gf=1<<++jv,jv<=F4?VH(this):jS(this),this.fn()}finally{jv<=F4&&WH(this),gf=1<<--jv,L0=this.parent,hf=u,this.parent=void 0}}stop(){this.active&&(jS(this),this.onStop&&this.onStop(),this.active=!1)}}function jS(o){const{deps:l}=o;if(l.length){for(let u=0;u<l.length;u++)l[u].delete(o);l.length=0}}function YH(o,l){o.effect&&(o=o.effect.fn);const u=new Tg(o);l&&(os(u,l),l.scope&&Cx(u,l.scope)),(!l||!l.lazy)&&u.run();const s=u.run.bind(u);return s.effect=u,s}function HH(o){o.effect.stop()}let hf=!0;const Ix=[];function Ad(){Ix.push(hf),hf=!1}function Md(){const o=Ix.pop();hf=o===void 0?!0:o}function tc(o,l,u){if(hf&&L0){let s=N4.get(o);s||N4.set(o,s=new Map);let h=s.get(u);h||s.set(u,h=L6()),Px(h)}}function Px(o,l){let u=!1;jv<=F4?Lx(o)||(o.n|=gf,u=!bx(o)):u=!o.has(L0),u&&(o.add(L0),L0.deps.push(o))}function hh(o,l,u,s,h,d){const v=N4.get(o);if(!v)return;let y=[];if(l==="clear")y=[...v.values()];else if(u==="length"&&Zn(o))v.forEach((E,w)=>{(w==="length"||w>=s)&&y.push(E)});else switch(u!==void 0&&y.push(v.get(u)),l){case"add":Zn(o)?C6(u)&&y.push(v.get("length")):(y.push(v.get(_d)),Xp(o)&&y.push(v.get(D4)));break;case"delete":Zn(o)||(y.push(v.get(_d)),Xp(o)&&y.push(v.get(D4)));break;case"set":Xp(o)&&y.push(v.get(_d));break}if(y.length===1)y[0]&&j4(y[0]);else{const E=[];for(const w of y)w&&E.push(...w);j4(L6(E))}}function j4(o,l){for(const u of Zn(o)?o:[...o])(u!==L0||u.allowRecurse)&&(u.scheduler?u.scheduler():u.run())}const XH=mm("__proto__,__v_isRef,__isVue"),Nx=new Set(Object.getOwnPropertyNames(Symbol).map(o=>Symbol[o]).filter(M6)),KH=wm(),$H=wm(!1,!0),ZH=wm(!0),qH=wm(!0,!0),GS=JH();function JH(){const o={};return["includes","indexOf","lastIndexOf"].forEach(l=>{o[l]=function(...u){const s=mo(this);for(let d=0,v=this.length;d<v;d++)tc(s,"get",d+"");const h=s[l](...u);return h===-1||h===!1?s[l](...u.map(mo)):h}}),["push","pop","shift","unshift","splice"].forEach(l=>{o[l]=function(...u){Ad();const s=mo(this)[l].apply(this,u);return Md(),s}}),o}function wm(o=!1,l=!1){return function(s,h,d){if(h==="__v_isReactive")return!o;if(h==="__v_isReadonly")return o;if(h==="__v_isShallow")return l;if(h==="__v_raw"&&d===(o?l?kx:Ux:l?Bx:Gx).get(s))return s;const v=Zn(s);if(!o&&v&&jo(GS,h))return Reflect.get(GS,h,d);const y=Reflect.get(s,h,d);return(M6(h)?Nx.has(h):XH(h))||(o||tc(s,"get",h),l)?y:Es(y)?!v||!C6(h)?y.value:y:as(y)?o?P6(y):d1(y):y}}const QH=Fx(),tX=Fx(!0);function Fx(o=!1){return function(u,s,h,d){let v=u[s];if(Jp(v)&&Es(v)&&!Es(h))return!1;if(!o&&!Jp(h)&&(N6(h)||(h=mo(h),v=mo(v)),!Zn(u)&&Es(v)&&!Es(h)))return v.value=h,!0;const y=Zn(u)&&C6(s)?Number(s)<u.length:jo(u,s),E=Reflect.set(u,s,h,d);return u===mo(d)&&(y?ng(h,v)&&hh(u,"set",s,h):hh(u,"add",s,h)),E}}function eX(o,l){const u=jo(o,l);o[l];const s=Reflect.deleteProperty(o,l);return s&&u&&hh(o,"delete",l,void 0),s}function rX(o,l){const u=Reflect.has(o,l);return(!M6(l)||!Nx.has(l))&&tc(o,"has",l),u}function nX(o){return tc(o,"iterate",Zn(o)?"length":_d),Reflect.ownKeys(o)}const Dx={get:KH,set:QH,deleteProperty:eX,has:rX,ownKeys:nX},jx={get:ZH,set(o,l){return!0},deleteProperty(o,l){return!0}},iX=os({},Dx,{get:$H,set:tX}),oX=os({},jx,{get:qH}),I6=o=>o,xm=o=>Reflect.getPrototypeOf(o);function Ly(o,l,u=!1,s=!1){o=o.__v_raw;const h=mo(o),d=mo(l);l!==d&&!u&&tc(h,"get",l),!u&&tc(h,"get",d);const{has:v}=xm(h),y=s?I6:u?j6:ig;if(v.call(h,l))return y(o.get(l));if(v.call(h,d))return y(o.get(d));o!==h&&o.get(l)}function Iy(o,l=!1){const u=this.__v_raw,s=mo(u),h=mo(o);return o!==h&&!l&&tc(s,"has",o),!l&&tc(s,"has",h),o===h?u.has(o):u.has(o)||u.has(h)}function Py(o,l=!1){return o=o.__v_raw,!l&&tc(mo(o),"iterate",_d),Reflect.get(o,"size",o)}function BS(o){o=mo(o);const l=mo(this);return xm(l).has.call(l,o)||(l.add(o),hh(l,"add",o,o)),this}function US(o,l){l=mo(l);const u=mo(this),{has:s,get:h}=xm(u);let d=s.call(u,o);d||(o=mo(o),d=s.call(u,o));const v=h.call(u,o);return u.set(o,l),d?ng(l,v)&&hh(u,"set",o,l):hh(u,"add",o,l),this}function kS(o){const l=mo(this),{has:u,get:s}=xm(l);let h=u.call(l,o);h||(o=mo(o),h=u.call(l,o)),s&&s.call(l,o);const d=l.delete(o);return h&&hh(l,"delete",o,void 0),d}function zS(){const o=mo(this),l=o.size!==0,u=o.clear();return l&&hh(o,"clear",void 0,void 0),u}function Ny(o,l){return function(s,h){const d=this,v=d.__v_raw,y=mo(v),E=l?I6:o?j6:ig;return!o&&tc(y,"iterate",_d),v.forEach((w,M)=>s.call(h,E(w),E(M),d))}}function Fy(o,l,u){return function(...s){const h=this.__v_raw,d=mo(h),v=Xp(d),y=o==="entries"||o===Symbol.iterator&&v,E=o==="keys"&&v,w=h[o](...s),M=u?I6:l?j6:ig;return!l&&tc(d,"iterate",E?D4:_d),{next(){const{value:A,done:I}=w.next();return I?{value:A,done:I}:{value:y?[M(A[0]),M(A[1])]:M(A),done:I}},[Symbol.iterator](){return this}}}}function $h(o){return function(...l){return o==="delete"?!1:this}}function aX(){const o={get(d){return Ly(this,d)},get size(){return Py(this)},has:Iy,add:BS,set:US,delete:kS,clear:zS,forEach:Ny(!1,!1)},l={get(d){return Ly(this,d,!1,!0)},get size(){return Py(this)},has:Iy,add:BS,set:US,delete:kS,clear:zS,forEach:Ny(!1,!0)},u={get(d){return Ly(this,d,!0)},get size(){return Py(this,!0)},has(d){return Iy.call(this,d,!0)},add:$h("add"),set:$h("set"),delete:$h("delete"),clear:$h("clear"),forEach:Ny(!0,!1)},s={get(d){return Ly(this,d,!0,!0)},get size(){return Py(this,!0)},has(d){return Iy.call(this,d,!0)},add:$h("add"),set:$h("set"),delete:$h("delete"),clear:$h("clear"),forEach:Ny(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{o[d]=Fy(d,!1,!1),u[d]=Fy(d,!0,!1),l[d]=Fy(d,!1,!0),s[d]=Fy(d,!0,!0)}),[o,u,l,s]}const[sX,lX,uX,cX]=aX();function Tm(o,l){const u=l?o?cX:uX:o?lX:sX;return(s,h,d)=>h==="__v_isReactive"?!o:h==="__v_isReadonly"?o:h==="__v_raw"?s:Reflect.get(jo(u,h)&&h in s?u:s,h,d)}const hX={get:Tm(!1,!1)},fX={get:Tm(!1,!0)},dX={get:Tm(!0,!1)},pX={get:Tm(!0,!0)},Gx=new WeakMap,Bx=new WeakMap,Ux=new WeakMap,kx=new WeakMap;function vX(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gX(o){return o.__v_skip||!Object.isExtensible(o)?0:vX(DH(o))}function d1(o){return Jp(o)?o:Om(o,!1,Dx,hX,Gx)}function zx(o){return Om(o,!1,iX,fX,Bx)}function P6(o){return Om(o,!0,jx,dX,Ux)}function yX(o){return Om(o,!0,oX,pX,kx)}function Om(o,l,u,s,h){if(!as(o)||o.__v_raw&&!(l&&o.__v_isReactive))return o;const d=h.get(o);if(d)return d;const v=gX(o);if(v===0)return o;const y=new Proxy(o,v===2?s:u);return h.set(o,y),y}function Ed(o){return Jp(o)?Ed(o.__v_raw):!!(o&&o.__v_isReactive)}function Jp(o){return!!(o&&o.__v_isReadonly)}function N6(o){return!!(o&&o.__v_isShallow)}function F6(o){return Ed(o)||Jp(o)}function mo(o){const l=o&&o.__v_raw;return l?mo(l):o}function D6(o){return Jy(o,"__v_skip",!0),o}const ig=o=>as(o)?d1(o):o,j6=o=>as(o)?P6(o):o;function G6(o){hf&&L0&&(o=mo(o),Px(o.dep||(o.dep=L6())))}function Am(o,l){o=mo(o),o.dep&&j4(o.dep)}function Es(o){return!!(o&&o.__v_isRef===!0)}function Xv(o){return Wx(o,!1)}function Vx(o){return Wx(o,!0)}function Wx(o,l){return Es(o)?o:new mX(o,l)}class mX{constructor(l,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?l:mo(l),this._value=u?l:ig(l)}get value(){return G6(this),this._value}set value(l){l=this.__v_isShallow?l:mo(l),ng(l,this._rawValue)&&(this._rawValue=l,this._value=this.__v_isShallow?l:ig(l),Am(this))}}function _X(o){Am(o)}function $p(o){return Es(o)?o.value:o}const EX={get:(o,l,u)=>$p(Reflect.get(o,l,u)),set:(o,l,u,s)=>{const h=o[l];return Es(h)&&!Es(u)?(h.value=u,!0):Reflect.set(o,l,u,s)}};function B6(o){return Ed(o)?o:new Proxy(o,EX)}class SX{constructor(l){this.dep=void 0,this.__v_isRef=!0;const{get:u,set:s}=l(()=>G6(this),()=>Am(this));this._get=u,this._set=s}get value(){return this._get()}set value(l){this._set(l)}}function wX(o){return new SX(o)}function xX(o){const l=Zn(o)?new Array(o.length):{};for(const u in o)l[u]=Yx(o,u);return l}class TX{constructor(l,u,s){this._object=l,this._key=u,this._defaultValue=s,this.__v_isRef=!0}get value(){const l=this._object[this._key];return l===void 0?this._defaultValue:l}set value(l){this._object[this._key]=l}}function Yx(o,l,u){const s=o[l];return Es(s)?s:new TX(o,l,u)}class OX{constructor(l,u,s,h){this._setter=u,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Tg(l,()=>{this._dirty||(this._dirty=!0,Am(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=s}get value(){const l=mo(this);return G6(l),(l._dirty||!l._cacheable)&&(l._dirty=!1,l._value=l.effect.run()),l._value}set value(l){this._setter(l)}}function AX(o,l,u=!1){let s,h;const d=ji(o);return d?(s=o,h=r0):(s=o.get,h=o.set),new OX(s,h,d||!h,u)}Promise.resolve();const Kv=[];function Hx(o,...l){Ad();const u=Kv.length?Kv[Kv.length-1].component:null,s=u&&u.appContext.config.warnHandler,h=MX();if(s)N0(s,u,11,[o+l.join(""),u&&u.proxy,h.map(({vnode:d})=>`at <${NT(u,d.type)}>`).join(`
`),h]);else{const d=[`[Vue warn]: ${o}`,...l];h.length&&d.push(`
`,...RX(h)),console.warn(...d)}Md()}function MX(){let o=Kv[Kv.length-1];if(!o)return[];const l=[];for(;o;){const u=l[0];u&&u.vnode===o?u.recurseCount++:l.push({vnode:o,recurseCount:0});const s=o.component&&o.component.parent;o=s&&s.vnode}return l}function RX(o){const l=[];return o.forEach((u,s)=>{l.push(...s===0?[]:[`
`],...CX(u))}),l}function CX({vnode:o,recurseCount:l}){const u=l>0?`... (${l} recursive calls)`:"",s=o.component?o.component.parent==null:!1,h=` at <${NT(o.component,o.type,s)}`,d=">"+u;return o.props?[h,...bX(o.props),d]:[h+d]}function bX(o){const l=[],u=Object.keys(o);return u.slice(0,3).forEach(s=>{l.push(...Xx(s,o[s]))}),u.length>3&&l.push(" ..."),l}function Xx(o,l,u){return Ya(l)?(l=JSON.stringify(l),u?l:[`${o}=${l}`]):typeof l=="number"||typeof l=="boolean"||l==null?u?l:[`${o}=${l}`]:Es(l)?(l=Xx(o,mo(l.value),!0),u?l:[`${o}=Ref<`,l,">"]):ji(l)?[`${o}=fn${l.name?`<${l.name}>`:""}`]:(l=mo(l),u?l:[`${o}=`,l])}function N0(o,l,u,s){let h;try{h=s?o(...s):o()}catch(d){Rd(d,l,u)}return h}function Zu(o,l,u,s){if(ji(o)){const d=N0(o,l,u,s);return d&&R6(d)&&d.catch(v=>{Rd(v,l,u)}),d}const h=[];for(let d=0;d<o.length;d++)h.push(Zu(o[d],l,u,s));return h}function Rd(o,l,u,s=!0){const h=l?l.vnode:null;if(l){let d=l.parent;const v=l.proxy,y=u;for(;d;){const w=d.ec;if(w){for(let M=0;M<w.length;M++)if(w[M](o,v,y)===!1)return}d=d.parent}const E=l.appContext.config.errorHandler;if(E){N0(E,null,10,[o,v,y]);return}}LX(o,u,h,s)}function LX(o,l,u,s=!0){console.error(o)}let Qy=!1,G4=!1;const Ku=[];let ih=0;const $v=[];let Gv=null,jp=0;const Zv=[];let of=null,Gp=0;const Kx=Promise.resolve();let U6=null,B4=null;function Mm(o){const l=U6||Kx;return o?l.then(this?o.bind(this):o):l}function IX(o){let l=ih+1,u=Ku.length;for(;l<u;){const s=l+u>>>1;og(Ku[s])<o?l=s+1:u=s}return l}function k6(o){(!Ku.length||!Ku.includes(o,Qy&&o.allowRecurse?ih+1:ih))&&o!==B4&&(o.id==null?Ku.push(o):Ku.splice(IX(o.id),0,o),$x())}function $x(){!Qy&&!G4&&(G4=!0,U6=Kx.then(qx))}function PX(o){const l=Ku.indexOf(o);l>ih&&Ku.splice(l,1)}function Zx(o,l,u,s){Zn(o)?u.push(...o):(!l||!l.includes(o,o.allowRecurse?s+1:s))&&u.push(o),$x()}function NX(o){Zx(o,Gv,$v,jp)}function z6(o){Zx(o,of,Zv,Gp)}function V6(o,l=null){if($v.length){for(B4=l,Gv=[...new Set($v)],$v.length=0,jp=0;jp<Gv.length;jp++)Gv[jp]();Gv=null,jp=0,B4=null,V6(o,l)}}function tm(o){if(Zv.length){const l=[...new Set(Zv)];if(Zv.length=0,of){of.push(...l);return}for(of=l,of.sort((u,s)=>og(u)-og(s)),Gp=0;Gp<of.length;Gp++)of[Gp]();of=null,Gp=0}}const og=o=>o.id==null?1/0:o.id;function qx(o){G4=!1,Qy=!0,V6(o),Ku.sort((u,s)=>og(u)-og(s));const l=r0;try{for(ih=0;ih<Ku.length;ih++){const u=Ku[ih];u&&u.active!==!1&&N0(u,null,14)}}finally{ih=0,Ku.length=0,tm(),Qy=!1,U6=null,(Ku.length||$v.length||Zv.length)&&qx(o)}}let Bp,Dy=[];function Jx(o,l){var u,s;Bp=o,Bp?(Bp.enabled=!0,Dy.forEach(({event:h,args:d})=>Bp.emit(h,...d)),Dy=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((s=(u=window.navigator)===null||u===void 0?void 0:u.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((l.__VUE_DEVTOOLS_HOOK_REPLAY__=l.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{Jx(d,l)}),setTimeout(()=>{Bp||(l.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Dy=[])},3e3)):Dy=[]}function FX(o,l,...u){const s=o.vnode.props||$o;let h=u;const d=l.startsWith("update:"),v=d&&l.slice(7);if(v&&v in s){const M=`${v==="modelValue"?"model":v}Modifiers`,{number:A,trim:I}=s[M]||$o;I?h=u.map(K=>K.trim()):A&&(h=u.map(vf))}let y,E=s[y=Hv(l)]||s[y=Hv(Qu(l))];!E&&d&&(E=s[y=Hv(P0(l))]),E&&Zu(E,o,6,h);const w=s[y+"Once"];if(w){if(!o.emitted)o.emitted={};else if(o.emitted[y])return;o.emitted[y]=!0,Zu(w,o,6,h)}}function Qx(o,l,u=!1){const s=l.emitsCache,h=s.get(o);if(h!==void 0)return h;const d=o.emits;let v={},y=!1;if(!ji(o)){const E=w=>{const M=Qx(w,l,!0);M&&(y=!0,os(v,M))};!u&&l.mixins.length&&l.mixins.forEach(E),o.extends&&E(o.extends),o.mixins&&o.mixins.forEach(E)}return!d&&!y?(s.set(o,null),null):(Zn(d)?d.forEach(E=>v[E]=null):os(v,d),s.set(o,v),v)}function W6(o,l){return!o||!wg(l)?!1:(l=l.slice(2).replace(/Once$/,""),jo(o,l[0].toLowerCase()+l.slice(1))||jo(o,P0(l))||jo(o,l))}let $u=null,Rm=null;function ag(o){const l=$u;return $u=o,Rm=o&&o.type.__scopeId||null,l}function DX(o){Rm=o}function jX(){Rm=null}const GX=o=>Y6;function Y6(o,l=$u,u){if(!l||o._n)return o;const s=(...h)=>{s._d&&W4(-1);const d=ag(l),v=o(...h);return ag(d),s._d&&W4(1),v};return s._n=!0,s._c=!0,s._d=!0,s}function Ky(o){const{type:l,vnode:u,proxy:s,withProxy:h,props:d,propsOptions:[v],slots:y,attrs:E,emit:w,render:M,renderCache:A,data:I,setupState:K,ctx:z,inheritAttrs:X}=o;let H,J;const nt=ag(o);try{if(u.shapeFlag&4){const it=h||s;H=Xu(M.call(it,it,A,d,K,I,z)),J=E}else{const it=l;H=Xu(it.length>1?it(d,{attrs:E,slots:y,emit:w}):it(d,null)),J=l.props?E:UX(E)}}catch(it){Qv.length=0,Rd(it,o,1),H=Aa(Yl)}let pt=H;if(J&&X!==!1){const it=Object.keys(J),{shapeFlag:N}=pt;it.length&&N&7&&(v&&it.some(O6)&&(J=kX(J,v)),pt=mf(pt,J))}return u.dirs&&(pt.dirs=pt.dirs?pt.dirs.concat(u.dirs):u.dirs),u.transition&&(pt.transition=u.transition),H=pt,ag(nt),H}function BX(o){let l;for(let u=0;u<o.length;u++){const s=o[u];if(yf(s)){if(s.type!==Yl||s.children==="v-if"){if(l)return;l=s}}else return}return l}const UX=o=>{let l;for(const u in o)(u==="class"||u==="style"||wg(u))&&((l||(l={}))[u]=o[u]);return l},kX=(o,l)=>{const u={};for(const s in o)(!O6(s)||!(s.slice(9)in l))&&(u[s]=o[s]);return u};function zX(o,l,u){const{props:s,children:h,component:d}=o,{props:v,children:y,patchFlag:E}=l,w=d.emitsOptions;if(l.dirs||l.transition)return!0;if(u&&E>=0){if(E&1024)return!0;if(E&16)return s?VS(s,v,w):!!v;if(E&8){const M=l.dynamicProps;for(let A=0;A<M.length;A++){const I=M[A];if(v[I]!==s[I]&&!W6(w,I))return!0}}}else return(h||y)&&(!y||!y.$stable)?!0:s===v?!1:s?v?VS(s,v,w):!0:!!v;return!1}function VS(o,l,u){const s=Object.keys(l);if(s.length!==Object.keys(o).length)return!0;for(let h=0;h<s.length;h++){const d=s[h];if(l[d]!==o[d]&&!W6(u,d))return!0}return!1}function H6({vnode:o,parent:l},u){for(;l&&l.subTree===o;)(o=l.vnode).el=u,l=l.parent}const VX=o=>o.__isSuspense,WX={name:"Suspense",__isSuspense:!0,process(o,l,u,s,h,d,v,y,E,w){o==null?HX(l,u,s,h,d,v,y,E,w):XX(o,l,u,s,h,v,y,E,w)},hydrate:KX,create:X6,normalize:$X},YX=WX;function sg(o,l){const u=o.props&&o.props[l];ji(u)&&u()}function HX(o,l,u,s,h,d,v,y,E){const{p:w,o:{createElement:M}}=E,A=M("div"),I=o.suspense=X6(o,h,s,l,A,u,d,v,y,E);w(null,I.pendingBranch=o.ssContent,A,null,s,I,d,v),I.deps>0?(sg(o,"onPending"),sg(o,"onFallback"),w(null,o.ssFallback,l,u,s,null,d,v),Zp(I,o.ssFallback)):I.resolve()}function XX(o,l,u,s,h,d,v,y,{p:E,um:w,o:{createElement:M}}){const A=l.suspense=o.suspense;A.vnode=l,l.el=o.el;const I=l.ssContent,K=l.ssFallback,{activeBranch:z,pendingBranch:X,isInFallback:H,isHydrating:J}=A;if(X)A.pendingBranch=I,C0(I,X)?(E(X,I,A.hiddenContainer,null,h,A,d,v,y),A.deps<=0?A.resolve():H&&(E(z,K,u,s,h,null,d,v,y),Zp(A,K))):(A.pendingId++,J?(A.isHydrating=!1,A.activeBranch=X):w(X,h,A),A.deps=0,A.effects.length=0,A.hiddenContainer=M("div"),H?(E(null,I,A.hiddenContainer,null,h,A,d,v,y),A.deps<=0?A.resolve():(E(z,K,u,s,h,null,d,v,y),Zp(A,K))):z&&C0(I,z)?(E(z,I,u,s,h,A,d,v,y),A.resolve(!0)):(E(null,I,A.hiddenContainer,null,h,A,d,v,y),A.deps<=0&&A.resolve()));else if(z&&C0(I,z))E(z,I,u,s,h,A,d,v,y),Zp(A,I);else if(sg(l,"onPending"),A.pendingBranch=I,A.pendingId++,E(null,I,A.hiddenContainer,null,h,A,d,v,y),A.deps<=0)A.resolve();else{const{timeout:nt,pendingId:pt}=A;nt>0?setTimeout(()=>{A.pendingId===pt&&A.fallback(K)},nt):nt===0&&A.fallback(K)}}function X6(o,l,u,s,h,d,v,y,E,w,M=!1){const{p:A,m:I,um:K,n:z,o:{parentNode:X,remove:H}}=w,J=vf(o.props&&o.props.timeout),nt={vnode:o,parent:l,parentComponent:u,isSVG:v,container:s,hiddenContainer:h,anchor:d,deps:0,pendingId:0,timeout:typeof J=="number"?J:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:M,isUnmounted:!1,effects:[],resolve(pt=!1){const{vnode:it,activeBranch:N,pendingBranch:_t,pendingId:Rt,effects:Bt,parentComponent:St,container:Xt}=nt;if(nt.isHydrating)nt.isHydrating=!1;else if(!pt){const Jt=N&&_t.transition&&_t.transition.mode==="out-in";Jt&&(N.transition.afterLeave=()=>{Rt===nt.pendingId&&I(_t,Xt,le,0)});let{anchor:le}=nt;N&&(le=z(N),K(N,St,nt,!0)),Jt||I(_t,Xt,le,0)}Zp(nt,_t),nt.pendingBranch=null,nt.isInFallback=!1;let It=nt.parent,Dt=!1;for(;It;){if(It.pendingBranch){It.effects.push(...Bt),Dt=!0;break}It=It.parent}Dt||z6(Bt),nt.effects=[],sg(it,"onResolve")},fallback(pt){if(!nt.pendingBranch)return;const{vnode:it,activeBranch:N,parentComponent:_t,container:Rt,isSVG:Bt}=nt;sg(it,"onFallback");const St=z(N),Xt=()=>{!nt.isInFallback||(A(null,pt,Rt,St,_t,null,Bt,y,E),Zp(nt,pt))},It=pt.transition&&pt.transition.mode==="out-in";It&&(N.transition.afterLeave=Xt),nt.isInFallback=!0,K(N,_t,null,!0),It||Xt()},move(pt,it,N){nt.activeBranch&&I(nt.activeBranch,pt,it,N),nt.container=pt},next(){return nt.activeBranch&&z(nt.activeBranch)},registerDep(pt,it){const N=!!nt.pendingBranch;N&&nt.deps++;const _t=pt.vnode.el;pt.asyncDep.catch(Rt=>{Rd(Rt,pt,0)}).then(Rt=>{if(pt.isUnmounted||nt.isUnmounted||nt.pendingId!==pt.suspenseId)return;pt.asyncResolved=!0;const{vnode:Bt}=pt;X4(pt,Rt,!1),_t&&(Bt.el=_t);const St=!_t&&pt.subTree.el;it(pt,Bt,X(_t||pt.subTree.el),_t?null:z(pt.subTree),nt,v,E),St&&H(St),H6(pt,Bt.el),N&&--nt.deps===0&&nt.resolve()})},unmount(pt,it){nt.isUnmounted=!0,nt.activeBranch&&K(nt.activeBranch,u,pt,it),nt.pendingBranch&&K(nt.pendingBranch,u,pt,it)}};return nt}function KX(o,l,u,s,h,d,v,y,E){const w=l.suspense=X6(l,s,u,o.parentNode,document.createElement("div"),null,h,d,v,y,!0),M=E(o,w.pendingBranch=l.ssContent,u,w,d,v);return w.deps===0&&w.resolve(),M}function $X(o){const{shapeFlag:l,children:u}=o,s=l&32;o.ssContent=WS(s?u.default:u),o.ssFallback=s?WS(u.fallback):Aa(Yl)}function WS(o){let l;if(ji(o)){const u=e1&&o._c;u&&(o._d=!1,Pm()),o=o(),u&&(o._d=!0,l=F0,xT())}return Zn(o)&&(o=BX(o)),o=Xu(o),l&&!o.dynamicChildren&&(o.dynamicChildren=l.filter(u=>u!==o)),o}function tT(o,l){l&&l.pendingBranch?Zn(o)?l.effects.push(...o):l.effects.push(o):z6(o)}function Zp(o,l){o.activeBranch=l;const{vnode:u,parentComponent:s}=o,h=u.el=l.el;s&&s.subTree===u&&(s.vnode.el=h,H6(s,h))}function qv(o,l){if(Is){let u=Is.provides;const s=Is.parent&&Is.parent.provides;s===u&&(u=Is.provides=Object.create(s)),u[o]=l}}function qu(o,l,u=!1){const s=Is||$u;if(s){const h=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(h&&o in h)return h[o];if(arguments.length>1)return u&&ji(l)?l.call(s.proxy):l}}function ZX(o,l){return Og(o,null,l)}function eT(o,l){return Og(o,null,{flush:"post"})}function qX(o,l){return Og(o,null,{flush:"sync"})}const YS={};function qp(o,l,u){return Og(o,l,u)}function Og(o,l,{immediate:u,deep:s,flush:h,onTrack:d,onTrigger:v}=$o){const y=Is;let E,w=!1,M=!1;if(Es(o)?(E=()=>o.value,w=N6(o)):Ed(o)?(E=()=>o,s=!0):Zn(o)?(M=!0,w=o.some(Ed),E=()=>o.map(J=>{if(Es(J))return J.value;if(Ed(J))return vd(J);if(ji(J))return N0(J,y,2)})):ji(o)?l?E=()=>N0(o,y,2):E=()=>{if(!(y&&y.isUnmounted))return A&&A(),Zu(o,y,3,[I])}:E=r0,l&&s){const J=E;E=()=>vd(J())}let A,I=J=>{A=H.onStop=()=>{N0(J,y,4)}};if(r1)return I=r0,l?u&&Zu(l,y,3,[E(),M?[]:void 0,I]):E(),r0;let K=M?[]:YS;const z=()=>{if(!!H.active)if(l){const J=H.run();(s||w||(M?J.some((nt,pt)=>ng(nt,K[pt])):ng(J,K)))&&(A&&A(),Zu(l,y,3,[J,K===YS?void 0:K,I]),K=J)}else H.run()};z.allowRecurse=!!l;let X;h==="sync"?X=z:h==="post"?X=()=>rl(z,y&&y.suspense):X=()=>{!y||y.isMounted?NX(z):z()};const H=new Tg(E,X);return l?u?z():K=H.run():h==="post"?rl(H.run.bind(H),y&&y.suspense):H.run(),()=>{H.stop(),y&&y.scope&&A6(y.scope.effects,H)}}function JX(o,l,u){const s=this.proxy,h=Ya(o)?o.includes(".")?rT(s,o):()=>s[o]:o.bind(s,s);let d;ji(l)?d=l:(d=l.handler,u=l);const v=Is;_f(this);const y=Og(h,d.bind(s),u);return v?_f(v):ff(),y}function rT(o,l){const u=l.split(".");return()=>{let s=o;for(let h=0;h<u.length&&s;h++)s=s[u[h]];return s}}function vd(o,l){if(!as(o)||o.__v_skip||(l=l||new Set,l.has(o)))return o;if(l.add(o),Es(o))vd(o.value,l);else if(Zn(o))for(let u=0;u<o.length;u++)vd(o[u],l);else if(Od(o)||Xp(o))o.forEach(u=>{vd(u,l)});else if(Rx(o))for(const u in o)vd(o[u],l);return o}function K6(){const o={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rg(()=>{o.isMounted=!0}),Im(()=>{o.isUnmounting=!0}),o}const Tc=[Function,Array],QX={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tc,onEnter:Tc,onAfterEnter:Tc,onEnterCancelled:Tc,onBeforeLeave:Tc,onLeave:Tc,onAfterLeave:Tc,onLeaveCancelled:Tc,onBeforeAppear:Tc,onAppear:Tc,onAfterAppear:Tc,onAppearCancelled:Tc},setup(o,{slots:l}){const u=wf(),s=K6();let h;return()=>{const d=l.default&&Cm(l.default(),!0);if(!d||!d.length)return;const v=mo(o),{mode:y}=v,E=d[0];if(s.isLeaving)return v4(E);const w=HS(E);if(!w)return v4(E);const M=Qp(w,v,s,u);Td(w,M);const A=u.subTree,I=A&&HS(A);let K=!1;const{getTransitionKey:z}=w.type;if(z){const X=z();h===void 0?h=X:X!==h&&(h=X,K=!0)}if(I&&I.type!==Yl&&(!C0(w,I)||K)){const X=Qp(I,v,s,u);if(Td(I,X),y==="out-in")return s.isLeaving=!0,X.afterLeave=()=>{s.isLeaving=!1,u.update()},v4(E);y==="in-out"&&w.type!==Yl&&(X.delayLeave=(H,J,nt)=>{const pt=nT(s,I);pt[String(I.key)]=I,H._leaveCb=()=>{J(),H._leaveCb=void 0,delete M.delayedLeave},M.delayedLeave=nt})}return E}}},$6=QX;function nT(o,l){const{leavingVNodes:u}=o;let s=u.get(l.type);return s||(s=Object.create(null),u.set(l.type,s)),s}function Qp(o,l,u,s){const{appear:h,mode:d,persisted:v=!1,onBeforeEnter:y,onEnter:E,onAfterEnter:w,onEnterCancelled:M,onBeforeLeave:A,onLeave:I,onAfterLeave:K,onLeaveCancelled:z,onBeforeAppear:X,onAppear:H,onAfterAppear:J,onAppearCancelled:nt}=l,pt=String(o.key),it=nT(u,o),N=(Rt,Bt)=>{Rt&&Zu(Rt,s,9,Bt)},_t={mode:d,persisted:v,beforeEnter(Rt){let Bt=y;if(!u.isMounted)if(h)Bt=X||y;else return;Rt._leaveCb&&Rt._leaveCb(!0);const St=it[pt];St&&C0(o,St)&&St.el._leaveCb&&St.el._leaveCb(),N(Bt,[Rt])},enter(Rt){let Bt=E,St=w,Xt=M;if(!u.isMounted)if(h)Bt=H||E,St=J||w,Xt=nt||M;else return;let It=!1;const Dt=Rt._enterCb=Jt=>{It||(It=!0,Jt?N(Xt,[Rt]):N(St,[Rt]),_t.delayedLeave&&_t.delayedLeave(),Rt._enterCb=void 0)};Bt?(Bt(Rt,Dt),Bt.length<=1&&Dt()):Dt()},leave(Rt,Bt){const St=String(o.key);if(Rt._enterCb&&Rt._enterCb(!0),u.isUnmounting)return Bt();N(A,[Rt]);let Xt=!1;const It=Rt._leaveCb=Dt=>{Xt||(Xt=!0,Bt(),Dt?N(z,[Rt]):N(K,[Rt]),Rt._leaveCb=void 0,it[St]===o&&delete it[St])};it[St]=o,I?(I(Rt,It),I.length<=1&&It()):It()},clone(Rt){return Qp(Rt,l,u,s)}};return _t}function v4(o){if(Mg(o))return o=mf(o),o.children=null,o}function HS(o){return Mg(o)?o.children?o.children[0]:void 0:o}function Td(o,l){o.shapeFlag&6&&o.component?Td(o.component.subTree,l):o.shapeFlag&128?(o.ssContent.transition=l.clone(o.ssContent),o.ssFallback.transition=l.clone(o.ssFallback)):o.transition=l}function Cm(o,l=!1){let u=[],s=0;for(let h=0;h<o.length;h++){const d=o[h];d.type===nl?(d.patchFlag&128&&s++,u=u.concat(Cm(d.children,l))):(l||d.type!==Yl)&&u.push(d)}if(s>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}function Ag(o){return ji(o)?{setup:o,name:o.name}:o}const lg=o=>!!o.type.__asyncLoader;function tK(o){ji(o)&&(o={loader:o});const{loader:l,loadingComponent:u,errorComponent:s,delay:h=200,timeout:d,suspensible:v=!0,onError:y}=o;let E=null,w,M=0;const A=()=>(M++,E=null,I()),I=()=>{let K;return E||(K=E=l().catch(z=>{if(z=z instanceof Error?z:new Error(String(z)),y)return new Promise((X,H)=>{y(z,()=>X(A()),()=>H(z),M+1)});throw z}).then(z=>K!==E&&E?E:(z&&(z.__esModule||z[Symbol.toStringTag]==="Module")&&(z=z.default),w=z,z)))};return Ag({name:"AsyncComponentWrapper",__asyncLoader:I,get __asyncResolved(){return w},setup(){const K=Is;if(w)return()=>g4(w,K);const z=nt=>{E=null,Rd(nt,K,13,!s)};if(v&&K.suspense||r1)return I().then(nt=>()=>g4(nt,K)).catch(nt=>(z(nt),()=>s?Aa(s,{error:nt}):null));const X=Xv(!1),H=Xv(),J=Xv(!!h);return h&&setTimeout(()=>{J.value=!1},h),d!=null&&setTimeout(()=>{if(!X.value&&!H.value){const nt=new Error(`Async component timed out after ${d}ms.`);z(nt),H.value=nt}},d),I().then(()=>{X.value=!0,K.parent&&Mg(K.parent.vnode)&&k6(K.parent.update)}).catch(nt=>{z(nt),H.value=nt}),()=>{if(X.value&&w)return g4(w,K);if(H.value&&s)return Aa(s,{error:H.value});if(u&&!J.value)return Aa(u)}}})}function g4(o,{vnode:{ref:l,props:u,children:s}}){const h=Aa(o,u,s);return h.ref=l,h}const Mg=o=>o.type.__isKeepAlive,eK={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(o,{slots:l}){const u=wf(),s=u.ctx;if(!s.renderer)return l.default;const h=new Map,d=new Set;let v=null;const y=u.suspense,{renderer:{p:E,m:w,um:M,o:{createElement:A}}}=s,I=A("div");s.activate=(nt,pt,it,N,_t)=>{const Rt=nt.component;w(nt,pt,it,0,y),E(Rt.vnode,nt,pt,it,Rt,y,N,nt.slotScopeIds,_t),rl(()=>{Rt.isDeactivated=!1,Rt.a&&Kp(Rt.a);const Bt=nt.props&&nt.props.onVnodeMounted;Bt&&_u(Bt,Rt.parent,nt)},y)},s.deactivate=nt=>{const pt=nt.component;w(nt,I,null,1,y),rl(()=>{pt.da&&Kp(pt.da);const it=nt.props&&nt.props.onVnodeUnmounted;it&&_u(it,pt.parent,nt),pt.isDeactivated=!0},y)};function K(nt){y4(nt),M(nt,u,y,!0)}function z(nt){h.forEach((pt,it)=>{const N=om(pt.type);N&&(!nt||!nt(N))&&X(it)})}function X(nt){const pt=h.get(nt);!v||pt.type!==v.type?K(pt):v&&y4(v),h.delete(nt),d.delete(nt)}qp(()=>[o.include,o.exclude],([nt,pt])=>{nt&&z(it=>Bv(nt,it)),pt&&z(it=>!Bv(pt,it))},{flush:"post",deep:!0});let H=null;const J=()=>{H!=null&&h.set(H,m4(u.subTree))};return Rg(J),Lm(J),Im(()=>{h.forEach(nt=>{const{subTree:pt,suspense:it}=u,N=m4(pt);if(nt.type===N.type){y4(N);const _t=N.component.da;_t&&rl(_t,it);return}K(nt)})}),()=>{if(H=null,!l.default)return null;const nt=l.default(),pt=nt[0];if(nt.length>1)return v=null,nt;if(!yf(pt)||!(pt.shapeFlag&4)&&!(pt.shapeFlag&128))return v=null,pt;let it=m4(pt);const N=it.type,_t=om(lg(it)?it.type.__asyncResolved||{}:N),{include:Rt,exclude:Bt,max:St}=o;if(Rt&&(!_t||!Bv(Rt,_t))||Bt&&_t&&Bv(Bt,_t))return v=it,pt;const Xt=it.key==null?N:it.key,It=h.get(Xt);return it.el&&(it=mf(it),pt.shapeFlag&128&&(pt.ssContent=it)),H=Xt,It?(it.el=It.el,it.component=It.component,it.transition&&Td(it,it.transition),it.shapeFlag|=512,d.delete(Xt),d.add(Xt)):(d.add(Xt),St&&d.size>parseInt(St,10)&&X(d.values().next().value)),it.shapeFlag|=256,v=it,pt}}},rK=eK;function Bv(o,l){return Zn(o)?o.some(u=>Bv(u,l)):Ya(o)?o.split(",").includes(l):o.test?o.test(l):!1}function Z6(o,l){iT(o,"a",l)}function q6(o,l){iT(o,"da",l)}function iT(o,l,u=Is){const s=o.__wdc||(o.__wdc=()=>{let h=u;for(;h;){if(h.isDeactivated)return;h=h.parent}return o()});if(bm(l,s,u),u){let h=u.parent;for(;h&&h.parent;)Mg(h.parent.vnode)&&nK(s,l,u,h),h=h.parent}}function nK(o,l,u,s){const h=bm(l,o,s,!0);Cg(()=>{A6(s[l],h)},u)}function y4(o){let l=o.shapeFlag;l&256&&(l-=256),l&512&&(l-=512),o.shapeFlag=l}function m4(o){return o.shapeFlag&128?o.ssContent:o}function bm(o,l,u=Is,s=!1){if(u){const h=u[o]||(u[o]=[]),d=l.__weh||(l.__weh=(...v)=>{if(u.isUnmounted)return;Ad(),_f(u);const y=Zu(l,u,o,v);return ff(),Md(),y});return s?h.unshift(d):h.push(d),d}}const dh=o=>(l,u=Is)=>(!r1||o==="sp")&&bm(o,l,u),oT=dh("bm"),Rg=dh("m"),aT=dh("bu"),Lm=dh("u"),Im=dh("bum"),Cg=dh("um"),sT=dh("sp"),lT=dh("rtg"),uT=dh("rtc");function cT(o,l=Is){bm("ec",o,l)}let U4=!0;function iK(o){const l=fT(o),u=o.proxy,s=o.ctx;U4=!1,l.beforeCreate&&XS(l.beforeCreate,o,"bc");const{data:h,computed:d,methods:v,watch:y,provide:E,inject:w,created:M,beforeMount:A,mounted:I,beforeUpdate:K,updated:z,activated:X,deactivated:H,beforeDestroy:J,beforeUnmount:nt,destroyed:pt,unmounted:it,render:N,renderTracked:_t,renderTriggered:Rt,errorCaptured:Bt,serverPrefetch:St,expose:Xt,inheritAttrs:It,components:Dt,directives:Jt,filters:le}=l;if(w&&oK(w,s,null,o.appContext.config.unwrapInjectedRef),v)for(const Yt in v){const oe=v[Yt];ji(oe)&&(s[Yt]=oe.bind(u))}if(h){const Yt=h.call(u,u);as(Yt)&&(o.data=d1(Yt))}if(U4=!0,d)for(const Yt in d){const oe=d[Yt],nr=ji(oe)?oe.bind(u,u):ji(oe.get)?oe.get.bind(u,u):r0,ir=!ji(oe)&&ji(oe.set)?oe.set.bind(u):r0,Ke=e0({get:nr,set:ir});Object.defineProperty(s,Yt,{enumerable:!0,configurable:!0,get:()=>Ke.value,set:Ge=>Ke.value=Ge})}if(y)for(const Yt in y)hT(y[Yt],s,u,Yt);if(E){const Yt=ji(E)?E.call(u):E;Reflect.ownKeys(Yt).forEach(oe=>{qv(oe,Yt[oe])})}M&&XS(M,o,"c");function gt(Yt,oe){Zn(oe)?oe.forEach(nr=>Yt(nr.bind(u))):oe&&Yt(oe.bind(u))}if(gt(oT,A),gt(Rg,I),gt(aT,K),gt(Lm,z),gt(Z6,X),gt(q6,H),gt(cT,Bt),gt(uT,_t),gt(lT,Rt),gt(Im,nt),gt(Cg,it),gt(sT,St),Zn(Xt))if(Xt.length){const Yt=o.exposed||(o.exposed={});Xt.forEach(oe=>{Object.defineProperty(Yt,oe,{get:()=>u[oe],set:nr=>u[oe]=nr})})}else o.exposed||(o.exposed={});N&&o.render===r0&&(o.render=N),It!=null&&(o.inheritAttrs=It),Dt&&(o.components=Dt),Jt&&(o.directives=Jt)}function oK(o,l,u=r0,s=!1){Zn(o)&&(o=k4(o));for(const h in o){const d=o[h];let v;as(d)?"default"in d?v=qu(d.from||h,d.default,!0):v=qu(d.from||h):v=qu(d),Es(v)&&s?Object.defineProperty(l,h,{enumerable:!0,configurable:!0,get:()=>v.value,set:y=>v.value=y}):l[h]=v}}function XS(o,l,u){Zu(Zn(o)?o.map(s=>s.bind(l.proxy)):o.bind(l.proxy),l,u)}function hT(o,l,u,s){const h=s.includes(".")?rT(u,s):()=>u[s];if(Ya(o)){const d=l[o];ji(d)&&qp(h,d)}else if(ji(o))qp(h,o.bind(u));else if(as(o))if(Zn(o))o.forEach(d=>hT(d,l,u,s));else{const d=ji(o.handler)?o.handler.bind(u):l[o.handler];ji(d)&&qp(h,d,o)}}function fT(o){const l=o.type,{mixins:u,extends:s}=l,{mixins:h,optionsCache:d,config:{optionMergeStrategies:v}}=o.appContext,y=d.get(l);let E;return y?E=y:!h.length&&!u&&!s?E=l:(E={},h.length&&h.forEach(w=>em(E,w,v,!0)),em(E,l,v)),d.set(l,E),E}function em(o,l,u,s=!1){const{mixins:h,extends:d}=l;d&&em(o,d,u,!0),h&&h.forEach(v=>em(o,v,u,!0));for(const v in l)if(!(s&&v==="expose")){const y=aK[v]||u&&u[v];o[v]=y?y(o[v],l[v]):l[v]}return o}const aK={data:KS,props:fd,emits:fd,methods:fd,computed:fd,beforeCreate:Vl,created:Vl,beforeMount:Vl,mounted:Vl,beforeUpdate:Vl,updated:Vl,beforeDestroy:Vl,beforeUnmount:Vl,destroyed:Vl,unmounted:Vl,activated:Vl,deactivated:Vl,errorCaptured:Vl,serverPrefetch:Vl,components:fd,directives:fd,watch:lK,provide:KS,inject:sK};function KS(o,l){return l?o?function(){return os(ji(o)?o.call(this,this):o,ji(l)?l.call(this,this):l)}:l:o}function sK(o,l){return fd(k4(o),k4(l))}function k4(o){if(Zn(o)){const l={};for(let u=0;u<o.length;u++)l[o[u]]=o[u];return l}return o}function Vl(o,l){return o?[...new Set([].concat(o,l))]:l}function fd(o,l){return o?os(os(Object.create(null),o),l):l}function lK(o,l){if(!o)return l;if(!l)return o;const u=os(Object.create(null),o);for(const s in l)u[s]=Vl(o[s],l[s]);return u}function uK(o,l,u,s=!1){const h={},d={};Jy(d,Nm,1),o.propsDefaults=Object.create(null),dT(o,l,h,d);for(const v in o.propsOptions[0])v in h||(h[v]=void 0);u?o.props=s?h:zx(h):o.type.props?o.props=h:o.props=d,o.attrs=d}function cK(o,l,u,s){const{props:h,attrs:d,vnode:{patchFlag:v}}=o,y=mo(h),[E]=o.propsOptions;let w=!1;if((s||v>0)&&!(v&16)){if(v&8){const M=o.vnode.dynamicProps;for(let A=0;A<M.length;A++){let I=M[A];const K=l[I];if(E)if(jo(d,I))K!==d[I]&&(d[I]=K,w=!0);else{const z=Qu(I);h[z]=z4(E,y,z,K,o,!1)}else K!==d[I]&&(d[I]=K,w=!0)}}}else{dT(o,l,h,d)&&(w=!0);let M;for(const A in y)(!l||!jo(l,A)&&((M=P0(A))===A||!jo(l,M)))&&(E?u&&(u[A]!==void 0||u[M]!==void 0)&&(h[A]=z4(E,y,A,void 0,o,!0)):delete h[A]);if(d!==y)for(const A in d)(!l||!jo(l,A)&&!0)&&(delete d[A],w=!0)}w&&hh(o,"set","$attrs")}function dT(o,l,u,s){const[h,d]=o.propsOptions;let v=!1,y;if(l)for(let E in l){if(Yv(E))continue;const w=l[E];let M;h&&jo(h,M=Qu(E))?!d||!d.includes(M)?u[M]=w:(y||(y={}))[M]=w:W6(o.emitsOptions,E)||(!(E in s)||w!==s[E])&&(s[E]=w,v=!0)}if(d){const E=mo(u),w=y||$o;for(let M=0;M<d.length;M++){const A=d[M];u[A]=z4(h,E,A,w[A],o,!jo(w,A))}}return v}function z4(o,l,u,s,h,d){const v=o[u];if(v!=null){const y=jo(v,"default");if(y&&s===void 0){const E=v.default;if(v.type!==Function&&ji(E)){const{propsDefaults:w}=h;u in w?s=w[u]:(_f(h),s=w[u]=E.call(null,l),ff())}else s=E}v[0]&&(d&&!y?s=!1:v[1]&&(s===""||s===P0(u))&&(s=!0))}return s}function pT(o,l,u=!1){const s=l.propsCache,h=s.get(o);if(h)return h;const d=o.props,v={},y=[];let E=!1;if(!ji(o)){const M=A=>{E=!0;const[I,K]=pT(A,l,!0);os(v,I),K&&y.push(...K)};!u&&l.mixins.length&&l.mixins.forEach(M),o.extends&&M(o.extends),o.mixins&&o.mixins.forEach(M)}if(!d&&!E)return s.set(o,Hp),Hp;if(Zn(d))for(let M=0;M<d.length;M++){const A=Qu(d[M]);$S(A)&&(v[A]=$o)}else if(d)for(const M in d){const A=Qu(M);if($S(A)){const I=d[M],K=v[A]=Zn(I)||ji(I)?{type:I}:I;if(K){const z=JS(Boolean,K.type),X=JS(String,K.type);K[0]=z>-1,K[1]=X<0||z<X,(z>-1||jo(K,"default"))&&y.push(A)}}}const w=[v,y];return s.set(o,w),w}function $S(o){return o[0]!=="$"}function ZS(o){const l=o&&o.toString().match(/^\s*function (\w+)/);return l?l[1]:o===null?"null":""}function qS(o,l){return ZS(o)===ZS(l)}function JS(o,l){return Zn(l)?l.findIndex(u=>qS(u,o)):ji(l)&&qS(l,o)?0:-1}const vT=o=>o[0]==="_"||o==="$stable",J6=o=>Zn(o)?o.map(Xu):[Xu(o)],hK=(o,l,u)=>{const s=Y6((...h)=>J6(l(...h)),u);return s._c=!1,s},gT=(o,l,u)=>{const s=o._ctx;for(const h in o){if(vT(h))continue;const d=o[h];if(ji(d))l[h]=hK(h,d,s);else if(d!=null){const v=J6(d);l[h]=()=>v}}},yT=(o,l)=>{const u=J6(l);o.slots.default=()=>u},fK=(o,l)=>{if(o.vnode.shapeFlag&32){const u=l._;u?(o.slots=mo(l),Jy(l,"_",u)):gT(l,o.slots={})}else o.slots={},l&&yT(o,l);Jy(o.slots,Nm,1)},dK=(o,l,u)=>{const{vnode:s,slots:h}=o;let d=!0,v=$o;if(s.shapeFlag&32){const y=l._;y?u&&y===1?d=!1:(os(h,l),!u&&y===1&&delete h._):(d=!l.$stable,gT(l,h)),v=l}else l&&(yT(o,l),v={default:1});if(d)for(const y in h)!vT(y)&&!(y in v)&&delete h[y]};function pK(o,l){const u=$u;if(u===null)return o;const s=u.proxy,h=o.dirs||(o.dirs=[]);for(let d=0;d<l.length;d++){let[v,y,E,w=$o]=l[d];ji(v)&&(v={mounted:v,updated:v}),v.deep&&vd(y),h.push({dir:v,instance:s,value:y,oldValue:void 0,arg:E,modifiers:w})}return o}function M0(o,l,u,s){const h=o.dirs,d=l&&l.dirs;for(let v=0;v<h.length;v++){const y=h[v];d&&(y.oldValue=d[v].value);let E=y.dir[s];E&&(Ad(),Zu(E,u,8,[o.el,y,o,l]),Md())}}function mT(){return{app:null,config:{isNativeTag:PH,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vK=0;function gK(o,l){return function(s,h=null){h!=null&&!as(h)&&(h=null);const d=mT(),v=new Set;let y=!1;const E=d.app={_uid:vK++,_component:s,_props:h,_container:null,_context:d,_instance:null,version:GT,get config(){return d.config},set config(w){},use(w,...M){return v.has(w)||(w&&ji(w.install)?(v.add(w),w.install(E,...M)):ji(w)&&(v.add(w),w(E,...M))),E},mixin(w){return d.mixins.includes(w)||d.mixins.push(w),E},component(w,M){return M?(d.components[w]=M,E):d.components[w]},directive(w,M){return M?(d.directives[w]=M,E):d.directives[w]},mount(w,M,A){if(!y){const I=Aa(s,h);return I.appContext=d,M&&l?l(I,w):o(I,w,A),y=!0,E._container=w,w.__vue_app__=E,a8(I.component)||I.component.proxy}},unmount(){y&&(o(null,E._container),delete E._container.__vue_app__)},provide(w,M){return d.provides[w]=M,E}};return E}}function rm(o,l,u,s,h=!1){if(Zn(o)){o.forEach((I,K)=>rm(I,l&&(Zn(l)?l[K]:l),u,s,h));return}if(lg(s)&&!h)return;const d=s.shapeFlag&4?a8(s.component)||s.component.proxy:s.el,v=h?null:d,{i:y,r:E}=o,w=l&&l.r,M=y.refs===$o?y.refs={}:y.refs,A=y.setupState;if(w!=null&&w!==E&&(Ya(w)?(M[w]=null,jo(A,w)&&(A[w]=null)):Es(w)&&(w.value=null)),ji(E))N0(E,y,12,[v,M]);else{const I=Ya(E),K=Es(E);if(I||K){const z=()=>{if(o.f){const X=I?M[E]:E.value;h?Zn(X)&&A6(X,d):Zn(X)?X.includes(d)||X.push(d):I?M[E]=[d]:(E.value=[d],o.k&&(M[o.k]=E.value))}else I?(M[E]=v,jo(A,E)&&(A[E]=v)):Es(E)&&(E.value=v,o.k&&(M[o.k]=v))};v?(z.id=-1,rl(z,u)):z()}}}let Zh=!1;const jy=o=>/svg/.test(o.namespaceURI)&&o.tagName!=="foreignObject",_4=o=>o.nodeType===8;function yK(o){const{mt:l,p:u,o:{patchProp:s,nextSibling:h,parentNode:d,remove:v,insert:y,createComment:E}}=o,w=(H,J)=>{if(!J.hasChildNodes()){u(null,H,J),tm();return}Zh=!1,M(J.firstChild,H,null,null,null),tm(),Zh&&console.error("Hydration completed but contains mismatches.")},M=(H,J,nt,pt,it,N=!1)=>{const _t=_4(H)&&H.data==="[",Rt=()=>z(H,J,nt,pt,it,_t),{type:Bt,ref:St,shapeFlag:Xt}=J,It=H.nodeType;J.el=H;let Dt=null;switch(Bt){case t1:It!==3?Dt=Rt():(H.data!==J.children&&(Zh=!0,H.data=J.children),Dt=h(H));break;case Yl:It!==8||_t?Dt=Rt():Dt=h(H);break;case Sd:if(It!==1)Dt=Rt();else{Dt=H;const Jt=!J.children.length;for(let le=0;le<J.staticCount;le++)Jt&&(J.children+=Dt.outerHTML),le===J.staticCount-1&&(J.anchor=Dt),Dt=h(Dt);return Dt}break;case nl:_t?Dt=K(H,J,nt,pt,it,N):Dt=Rt();break;default:if(Xt&1)It!==1||J.type.toLowerCase()!==H.tagName.toLowerCase()?Dt=Rt():Dt=A(H,J,nt,pt,it,N);else if(Xt&6){J.slotScopeIds=it;const Jt=d(H);if(l(J,Jt,null,nt,pt,jy(Jt),N),Dt=_t?X(H):h(H),lg(J)){let le;_t?(le=Aa(nl),le.anchor=Dt?Dt.previousSibling:Jt.lastChild):le=H.nodeType===3?i8(""):Aa("div"),le.el=H,J.component.subTree=le}}else Xt&64?It!==8?Dt=Rt():Dt=J.type.hydrate(H,J,nt,pt,it,N,o,I):Xt&128&&(Dt=J.type.hydrate(H,J,nt,pt,jy(d(H)),it,N,o,M))}return St!=null&&rm(St,null,pt,J),Dt},A=(H,J,nt,pt,it,N)=>{N=N||!!J.dynamicChildren;const{type:_t,props:Rt,patchFlag:Bt,shapeFlag:St,dirs:Xt}=J,It=_t==="input"&&Xt||_t==="option";if(It||Bt!==-1){if(Xt&&M0(J,null,nt,"created"),Rt)if(It||!N||Bt&48)for(const Jt in Rt)(It&&Jt.endsWith("value")||wg(Jt)&&!Yv(Jt))&&s(H,Jt,null,Rt[Jt],!1,void 0,nt);else Rt.onClick&&s(H,"onClick",null,Rt.onClick,!1,void 0,nt);let Dt;if((Dt=Rt&&Rt.onVnodeBeforeMount)&&_u(Dt,nt,J),Xt&&M0(J,null,nt,"beforeMount"),((Dt=Rt&&Rt.onVnodeMounted)||Xt)&&tT(()=>{Dt&&_u(Dt,nt,J),Xt&&M0(J,null,nt,"mounted")},pt),St&16&&!(Rt&&(Rt.innerHTML||Rt.textContent))){let Jt=I(H.firstChild,J,H,nt,pt,it,N);for(;Jt;){Zh=!0;const le=Jt;Jt=Jt.nextSibling,v(le)}}else St&8&&H.textContent!==J.children&&(Zh=!0,H.textContent=J.children)}return H.nextSibling},I=(H,J,nt,pt,it,N,_t)=>{_t=_t||!!J.dynamicChildren;const Rt=J.children,Bt=Rt.length;for(let St=0;St<Bt;St++){const Xt=_t?Rt[St]:Rt[St]=Xu(Rt[St]);if(H)H=M(H,Xt,pt,it,N,_t);else{if(Xt.type===t1&&!Xt.children)continue;Zh=!0,u(null,Xt,nt,null,pt,it,jy(nt),N)}}return H},K=(H,J,nt,pt,it,N)=>{const{slotScopeIds:_t}=J;_t&&(it=it?it.concat(_t):_t);const Rt=d(H),Bt=I(h(H),J,Rt,nt,pt,it,N);return Bt&&_4(Bt)&&Bt.data==="]"?h(J.anchor=Bt):(Zh=!0,y(J.anchor=E("]"),Rt,Bt),Bt)},z=(H,J,nt,pt,it,N)=>{if(Zh=!0,J.el=null,N){const Bt=X(H);for(;;){const St=h(H);if(St&&St!==Bt)v(St);else break}}const _t=h(H),Rt=d(H);return v(H),u(null,J,Rt,_t,nt,pt,jy(Rt),it),_t},X=H=>{let J=0;for(;H;)if(H=h(H),H&&_4(H)&&(H.data==="["&&J++,H.data==="]")){if(J===0)return h(H);J--}return H};return[w,M]}const rl=tT;function _T(o){return ST(o)}function ET(o){return ST(o,yK)}function ST(o,l){const u=BH();u.__VUE__=!0;const{insert:s,remove:h,patchProp:d,createElement:v,createText:y,createComment:E,setText:w,setElementText:M,parentNode:A,nextSibling:I,setScopeId:K=r0,cloneNode:z,insertStaticContent:X}=o,H=(At,ht,Ct,te=null,qt=null,fe=null,Pe=!1,Be=null,ue=!!ht.dynamicChildren)=>{if(At===ht)return;At&&!C0(At,ht)&&(te=Nr(At),Pr(At,qt,fe,!0),At=null),ht.patchFlag===-2&&(ue=!1,ht.dynamicChildren=null);const{type:ft,ref:j,shapeFlag:W}=ht;switch(ft){case t1:J(At,ht,Ct,te);break;case Yl:nt(At,ht,Ct,te);break;case Sd:At==null&&pt(ht,Ct,te,Pe);break;case nl:Jt(At,ht,Ct,te,qt,fe,Pe,Be,ue);break;default:W&1?_t(At,ht,Ct,te,qt,fe,Pe,Be,ue):W&6?le(At,ht,Ct,te,qt,fe,Pe,Be,ue):(W&64||W&128)&&ft.process(At,ht,Ct,te,qt,fe,Pe,Be,ue,Br)}j!=null&&qt&&rm(j,At&&At.ref,fe,ht||At,!ht)},J=(At,ht,Ct,te)=>{if(At==null)s(ht.el=y(ht.children),Ct,te);else{const qt=ht.el=At.el;ht.children!==At.children&&w(qt,ht.children)}},nt=(At,ht,Ct,te)=>{At==null?s(ht.el=E(ht.children||""),Ct,te):ht.el=At.el},pt=(At,ht,Ct,te)=>{[At.el,At.anchor]=X(At.children,ht,Ct,te,At.el,At.anchor)},it=({el:At,anchor:ht},Ct,te)=>{let qt;for(;At&&At!==ht;)qt=I(At),s(At,Ct,te),At=qt;s(ht,Ct,te)},N=({el:At,anchor:ht})=>{let Ct;for(;At&&At!==ht;)Ct=I(At),h(At),At=Ct;h(ht)},_t=(At,ht,Ct,te,qt,fe,Pe,Be,ue)=>{Pe=Pe||ht.type==="svg",At==null?Rt(ht,Ct,te,qt,fe,Pe,Be,ue):Xt(At,ht,qt,fe,Pe,Be,ue)},Rt=(At,ht,Ct,te,qt,fe,Pe,Be)=>{let ue,ft;const{type:j,props:W,shapeFlag:st,transition:$t,patchFlag:Ee,dirs:Le}=At;if(At.el&&z!==void 0&&Ee===-1)ue=At.el=z(At.el);else{if(ue=At.el=v(At.type,fe,W&&W.is,W),st&8?M(ue,At.children):st&16&&St(At.children,ue,null,te,qt,fe&&j!=="foreignObject",Pe,Be),Le&&M0(At,null,te,"created"),W){for(const Gr in W)Gr!=="value"&&!Yv(Gr)&&d(ue,Gr,null,W[Gr],fe,At.children,te,qt,Er);"value"in W&&d(ue,"value",null,W.value),(ft=W.onVnodeBeforeMount)&&_u(ft,te,At)}Bt(ue,At,At.scopeId,Pe,te)}Le&&M0(At,null,te,"beforeMount");const Ar=(!qt||qt&&!qt.pendingBranch)&&$t&&!$t.persisted;Ar&&$t.beforeEnter(ue),s(ue,ht,Ct),((ft=W&&W.onVnodeMounted)||Ar||Le)&&rl(()=>{ft&&_u(ft,te,At),Ar&&$t.enter(ue),Le&&M0(At,null,te,"mounted")},qt)},Bt=(At,ht,Ct,te,qt)=>{if(Ct&&K(At,Ct),te)for(let fe=0;fe<te.length;fe++)K(At,te[fe]);if(qt){let fe=qt.subTree;if(ht===fe){const Pe=qt.vnode;Bt(At,Pe,Pe.scopeId,Pe.slotScopeIds,qt.parent)}}},St=(At,ht,Ct,te,qt,fe,Pe,Be,ue=0)=>{for(let ft=ue;ft<At.length;ft++){const j=At[ft]=Be?sf(At[ft]):Xu(At[ft]);H(null,j,ht,Ct,te,qt,fe,Pe,Be)}},Xt=(At,ht,Ct,te,qt,fe,Pe)=>{const Be=ht.el=At.el;let{patchFlag:ue,dynamicChildren:ft,dirs:j}=ht;ue|=At.patchFlag&16;const W=At.props||$o,st=ht.props||$o;let $t;Ct&&ud(Ct,!1),($t=st.onVnodeBeforeUpdate)&&_u($t,Ct,ht,At),j&&M0(ht,At,Ct,"beforeUpdate"),Ct&&ud(Ct,!0);const Ee=qt&&ht.type!=="foreignObject";if(ft?It(At.dynamicChildren,ft,Be,Ct,te,Ee,fe):Pe||nr(At,ht,Be,null,Ct,te,Ee,fe,!1),ue>0){if(ue&16)Dt(Be,ht,W,st,Ct,te,qt);else if(ue&2&&W.class!==st.class&&d(Be,"class",null,st.class,qt),ue&4&&d(Be,"style",W.style,st.style,qt),ue&8){const Le=ht.dynamicProps;for(let Ar=0;Ar<Le.length;Ar++){const Gr=Le[Ar],zr=W[Gr],sn=st[Gr];(sn!==zr||Gr==="value")&&d(Be,Gr,zr,sn,qt,At.children,Ct,te,Er)}}ue&1&&At.children!==ht.children&&M(Be,ht.children)}else!Pe&&ft==null&&Dt(Be,ht,W,st,Ct,te,qt);(($t=st.onVnodeUpdated)||j)&&rl(()=>{$t&&_u($t,Ct,ht,At),j&&M0(ht,At,Ct,"updated")},te)},It=(At,ht,Ct,te,qt,fe,Pe)=>{for(let Be=0;Be<ht.length;Be++){const ue=At[Be],ft=ht[Be],j=ue.el&&(ue.type===nl||!C0(ue,ft)||ue.shapeFlag&70)?A(ue.el):Ct;H(ue,ft,j,null,te,qt,fe,Pe,!0)}},Dt=(At,ht,Ct,te,qt,fe,Pe)=>{if(Ct!==te){for(const Be in te){if(Yv(Be))continue;const ue=te[Be],ft=Ct[Be];ue!==ft&&Be!=="value"&&d(At,Be,ft,ue,Pe,ht.children,qt,fe,Er)}if(Ct!==$o)for(const Be in Ct)!Yv(Be)&&!(Be in te)&&d(At,Be,Ct[Be],null,Pe,ht.children,qt,fe,Er);"value"in te&&d(At,"value",Ct.value,te.value)}},Jt=(At,ht,Ct,te,qt,fe,Pe,Be,ue)=>{const ft=ht.el=At?At.el:y(""),j=ht.anchor=At?At.anchor:y("");let{patchFlag:W,dynamicChildren:st,slotScopeIds:$t}=ht;$t&&(Be=Be?Be.concat($t):$t),At==null?(s(ft,Ct,te),s(j,Ct,te),St(ht.children,Ct,j,qt,fe,Pe,Be,ue)):W>0&&W&64&&st&&At.dynamicChildren?(It(At.dynamicChildren,st,Ct,qt,fe,Pe,Be),(ht.key!=null||qt&&ht===qt.subTree)&&Q6(At,ht,!0)):nr(At,ht,Ct,j,qt,fe,Pe,Be,ue)},le=(At,ht,Ct,te,qt,fe,Pe,Be,ue)=>{ht.slotScopeIds=Be,At==null?ht.shapeFlag&512?qt.ctx.activate(ht,Ct,te,Pe,ue):Ve(ht,Ct,te,qt,fe,Pe,ue):gt(At,ht,ue)},Ve=(At,ht,Ct,te,qt,fe,Pe)=>{const Be=At.component=CT(At,te,qt);if(Mg(At)&&(Be.ctx.renderer=Br),LT(Be),Be.asyncDep){if(qt&&qt.registerDep(Be,Yt),!At.el){const ue=Be.subTree=Aa(Yl);nt(null,ue,ht,Ct)}return}Yt(Be,At,ht,Ct,qt,fe,Pe)},gt=(At,ht,Ct)=>{const te=ht.component=At.component;if(zX(At,ht,Ct))if(te.asyncDep&&!te.asyncResolved){oe(te,ht,Ct);return}else te.next=ht,PX(te.update),te.update();else ht.component=At.component,ht.el=At.el,te.vnode=ht},Yt=(At,ht,Ct,te,qt,fe,Pe)=>{const Be=()=>{if(At.isMounted){let{next:j,bu:W,u:st,parent:$t,vnode:Ee}=At,Le=j,Ar;ud(At,!1),j?(j.el=Ee.el,oe(At,j,Pe)):j=Ee,W&&Kp(W),(Ar=j.props&&j.props.onVnodeBeforeUpdate)&&_u(Ar,$t,j,Ee),ud(At,!0);const Gr=Ky(At),zr=At.subTree;At.subTree=Gr,H(zr,Gr,A(zr.el),Nr(zr),At,qt,fe),j.el=Gr.el,Le===null&&H6(At,Gr.el),st&&rl(st,qt),(Ar=j.props&&j.props.onVnodeUpdated)&&rl(()=>_u(Ar,$t,j,Ee),qt)}else{let j;const{el:W,props:st}=ht,{bm:$t,m:Ee,parent:Le}=At,Ar=lg(ht);if(ud(At,!1),$t&&Kp($t),!Ar&&(j=st&&st.onVnodeBeforeMount)&&_u(j,Le,ht),ud(At,!0),W&&Qt){const Gr=()=>{At.subTree=Ky(At),Qt(W,At.subTree,At,qt,null)};Ar?ht.type.__asyncLoader().then(()=>!At.isUnmounted&&Gr()):Gr()}else{const Gr=At.subTree=Ky(At);H(null,Gr,Ct,te,At,qt,fe),ht.el=Gr.el}if(Ee&&rl(Ee,qt),!Ar&&(j=st&&st.onVnodeMounted)){const Gr=ht;rl(()=>_u(j,Le,Gr),qt)}ht.shapeFlag&256&&At.a&&rl(At.a,qt),At.isMounted=!0,ht=Ct=te=null}},ue=At.effect=new Tg(Be,()=>k6(At.update),At.scope),ft=At.update=ue.run.bind(ue);ft.id=At.uid,ud(At,!0),ft()},oe=(At,ht,Ct)=>{ht.component=At;const te=At.vnode.props;At.vnode=ht,At.next=null,cK(At,ht.props,te,Ct),dK(At,ht.children,Ct),Ad(),V6(void 0,At.update),Md()},nr=(At,ht,Ct,te,qt,fe,Pe,Be,ue=!1)=>{const ft=At&&At.children,j=At?At.shapeFlag:0,W=ht.children,{patchFlag:st,shapeFlag:$t}=ht;if(st>0){if(st&128){Ke(ft,W,Ct,te,qt,fe,Pe,Be,ue);return}else if(st&256){ir(ft,W,Ct,te,qt,fe,Pe,Be,ue);return}}$t&8?(j&16&&Er(ft,qt,fe),W!==ft&&M(Ct,W)):j&16?$t&16?Ke(ft,W,Ct,te,qt,fe,Pe,Be,ue):Er(ft,qt,fe,!0):(j&8&&M(Ct,""),$t&16&&St(W,Ct,te,qt,fe,Pe,Be,ue))},ir=(At,ht,Ct,te,qt,fe,Pe,Be,ue)=>{At=At||Hp,ht=ht||Hp;const ft=At.length,j=ht.length,W=Math.min(ft,j);let st;for(st=0;st<W;st++){const $t=ht[st]=ue?sf(ht[st]):Xu(ht[st]);H(At[st],$t,Ct,null,qt,fe,Pe,Be,ue)}ft>j?Er(At,qt,fe,!0,!1,W):St(ht,Ct,te,qt,fe,Pe,Be,ue,W)},Ke=(At,ht,Ct,te,qt,fe,Pe,Be,ue)=>{let ft=0;const j=ht.length;let W=At.length-1,st=j-1;for(;ft<=W&&ft<=st;){const $t=At[ft],Ee=ht[ft]=ue?sf(ht[ft]):Xu(ht[ft]);if(C0($t,Ee))H($t,Ee,Ct,null,qt,fe,Pe,Be,ue);else break;ft++}for(;ft<=W&&ft<=st;){const $t=At[W],Ee=ht[st]=ue?sf(ht[st]):Xu(ht[st]);if(C0($t,Ee))H($t,Ee,Ct,null,qt,fe,Pe,Be,ue);else break;W--,st--}if(ft>W){if(ft<=st){const $t=st+1,Ee=$t<j?ht[$t].el:te;for(;ft<=st;)H(null,ht[ft]=ue?sf(ht[ft]):Xu(ht[ft]),Ct,Ee,qt,fe,Pe,Be,ue),ft++}}else if(ft>st)for(;ft<=W;)Pr(At[ft],qt,fe,!0),ft++;else{const $t=ft,Ee=ft,Le=new Map;for(ft=Ee;ft<=st;ft++){const Fn=ht[ft]=ue?sf(ht[ft]):Xu(ht[ft]);Fn.key!=null&&Le.set(Fn.key,ft)}let Ar,Gr=0;const zr=st-Ee+1;let sn=!1,Nn=0;const ci=new Array(zr);for(ft=0;ft<zr;ft++)ci[ft]=0;for(ft=$t;ft<=W;ft++){const Fn=At[ft];if(Gr>=zr){Pr(Fn,qt,fe,!0);continue}let qn;if(Fn.key!=null)qn=Le.get(Fn.key);else for(Ar=Ee;Ar<=st;Ar++)if(ci[Ar-Ee]===0&&C0(Fn,ht[Ar])){qn=Ar;break}qn===void 0?Pr(Fn,qt,fe,!0):(ci[qn-Ee]=ft+1,qn>=Nn?Nn=qn:sn=!0,H(Fn,ht[qn],Ct,null,qt,fe,Pe,Be,ue),Gr++)}const ki=sn?mK(ci):Hp;for(Ar=ki.length-1,ft=zr-1;ft>=0;ft--){const Fn=Ee+ft,qn=ht[Fn],Mi=Fn+1<j?ht[Fn+1].el:te;ci[ft]===0?H(null,qn,Ct,Mi,qt,fe,Pe,Be,ue):sn&&(Ar<0||ft!==ki[Ar]?Ge(qn,Ct,Mi,2):Ar--)}}},Ge=(At,ht,Ct,te,qt=null)=>{const{el:fe,type:Pe,transition:Be,children:ue,shapeFlag:ft}=At;if(ft&6){Ge(At.component.subTree,ht,Ct,te);return}if(ft&128){At.suspense.move(ht,Ct,te);return}if(ft&64){Pe.move(At,ht,Ct,Br);return}if(Pe===nl){s(fe,ht,Ct);for(let W=0;W<ue.length;W++)Ge(ue[W],ht,Ct,te);s(At.anchor,ht,Ct);return}if(Pe===Sd){it(At,ht,Ct);return}if(te!==2&&ft&1&&Be)if(te===0)Be.beforeEnter(fe),s(fe,ht,Ct),rl(()=>Be.enter(fe),qt);else{const{leave:W,delayLeave:st,afterLeave:$t}=Be,Ee=()=>s(fe,ht,Ct),Le=()=>{W(fe,()=>{Ee(),$t&&$t()})};st?st(fe,Ee,Le):Le()}else s(fe,ht,Ct)},Pr=(At,ht,Ct,te=!1,qt=!1)=>{const{type:fe,props:Pe,ref:Be,children:ue,dynamicChildren:ft,shapeFlag:j,patchFlag:W,dirs:st}=At;if(Be!=null&&rm(Be,null,Ct,At,!0),j&256){ht.ctx.deactivate(At);return}const $t=j&1&&st,Ee=!lg(At);let Le;if(Ee&&(Le=Pe&&Pe.onVnodeBeforeUnmount)&&_u(Le,ht,At),j&6)Qe(At.component,Ct,te);else{if(j&128){At.suspense.unmount(Ct,te);return}$t&&M0(At,null,ht,"beforeUnmount"),j&64?At.type.remove(At,ht,Ct,qt,Br,te):ft&&(fe!==nl||W>0&&W&64)?Er(ft,ht,Ct,!1,!0):(fe===nl&&W&384||!qt&&j&16)&&Er(ue,ht,Ct),te&&Kr(At)}(Ee&&(Le=Pe&&Pe.onVnodeUnmounted)||$t)&&rl(()=>{Le&&_u(Le,ht,At),$t&&M0(At,null,ht,"unmounted")},Ct)},Kr=At=>{const{type:ht,el:Ct,anchor:te,transition:qt}=At;if(ht===nl){pe(Ct,te);return}if(ht===Sd){N(At);return}const fe=()=>{h(Ct),qt&&!qt.persisted&&qt.afterLeave&&qt.afterLeave()};if(At.shapeFlag&1&&qt&&!qt.persisted){const{leave:Pe,delayLeave:Be}=qt,ue=()=>Pe(Ct,fe);Be?Be(At.el,fe,ue):ue()}else fe()},pe=(At,ht)=>{let Ct;for(;At!==ht;)Ct=I(At),h(At),At=Ct;h(ht)},Qe=(At,ht,Ct)=>{const{bum:te,scope:qt,update:fe,subTree:Pe,um:Be}=At;te&&Kp(te),qt.stop(),fe&&(fe.active=!1,Pr(Pe,At,ht,Ct)),Be&&rl(Be,ht),rl(()=>{At.isUnmounted=!0},ht),ht&&ht.pendingBranch&&!ht.isUnmounted&&At.asyncDep&&!At.asyncResolved&&At.suspenseId===ht.pendingId&&(ht.deps--,ht.deps===0&&ht.resolve())},Er=(At,ht,Ct,te=!1,qt=!1,fe=0)=>{for(let Pe=fe;Pe<At.length;Pe++)Pr(At[Pe],ht,Ct,te,qt)},Nr=At=>At.shapeFlag&6?Nr(At.component.subTree):At.shapeFlag&128?At.suspense.next():I(At.anchor||At.el),Pn=(At,ht,Ct)=>{At==null?ht._vnode&&Pr(ht._vnode,null,null,!0):H(ht._vnode||null,At,ht,null,null,null,Ct),tm(),ht._vnode=At},Br={p:H,um:Pr,m:Ge,r:Kr,mt:Ve,mc:St,pc:nr,pbc:It,n:Nr,o};let Vt,Qt;return l&&([Vt,Qt]=l(Br)),{render:Pn,hydrate:Vt,createApp:gK(Pn,Vt)}}function ud({effect:o,update:l},u){o.allowRecurse=l.allowRecurse=u}function Q6(o,l,u=!1){const s=o.children,h=l.children;if(Zn(s)&&Zn(h))for(let d=0;d<s.length;d++){const v=s[d];let y=h[d];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=h[d]=sf(h[d]),y.el=v.el),u||Q6(v,y))}}function mK(o){const l=o.slice(),u=[0];let s,h,d,v,y;const E=o.length;for(s=0;s<E;s++){const w=o[s];if(w!==0){if(h=u[u.length-1],o[h]<w){l[s]=h,u.push(s);continue}for(d=0,v=u.length-1;d<v;)y=d+v>>1,o[u[y]]<w?d=y+1:v=y;w<o[u[d]]&&(d>0&&(l[s]=u[d-1]),u[d]=s)}}for(d=u.length,v=u[d-1];d-- >0;)u[d]=v,v=l[v];return u}const _K=o=>o.__isTeleport,Jv=o=>o&&(o.disabled||o.disabled===""),QS=o=>typeof SVGElement!="undefined"&&o instanceof SVGElement,V4=(o,l)=>{const u=o&&o.to;return Ya(u)?l?l(u):null:u},EK={__isTeleport:!0,process(o,l,u,s,h,d,v,y,E,w){const{mc:M,pc:A,pbc:I,o:{insert:K,querySelector:z,createText:X,createComment:H}}=w,J=Jv(l.props);let{shapeFlag:nt,children:pt,dynamicChildren:it}=l;if(o==null){const N=l.el=X(""),_t=l.anchor=X("");K(N,u,s),K(_t,u,s);const Rt=l.target=V4(l.props,z),Bt=l.targetAnchor=X("");Rt&&(K(Bt,Rt),v=v||QS(Rt));const St=(Xt,It)=>{nt&16&&M(pt,Xt,It,h,d,v,y,E)};J?St(u,_t):Rt&&St(Rt,Bt)}else{l.el=o.el;const N=l.anchor=o.anchor,_t=l.target=o.target,Rt=l.targetAnchor=o.targetAnchor,Bt=Jv(o.props),St=Bt?u:_t,Xt=Bt?N:Rt;if(v=v||QS(_t),it?(I(o.dynamicChildren,it,St,h,d,v,y),Q6(o,l,!0)):E||A(o,l,St,Xt,h,d,v,y,!1),J)Bt||Gy(l,u,N,w,1);else if((l.props&&l.props.to)!==(o.props&&o.props.to)){const It=l.target=V4(l.props,z);It&&Gy(l,It,null,w,0)}else Bt&&Gy(l,_t,Rt,w,1)}},remove(o,l,u,s,{um:h,o:{remove:d}},v){const{shapeFlag:y,children:E,anchor:w,targetAnchor:M,target:A,props:I}=o;if(A&&d(M),(v||!Jv(I))&&(d(w),y&16))for(let K=0;K<E.length;K++){const z=E[K];h(z,l,u,!0,!!z.dynamicChildren)}},move:Gy,hydrate:SK};function Gy(o,l,u,{o:{insert:s},m:h},d=2){d===0&&s(o.targetAnchor,l,u);const{el:v,anchor:y,shapeFlag:E,children:w,props:M}=o,A=d===2;if(A&&s(v,l,u),(!A||Jv(M))&&E&16)for(let I=0;I<w.length;I++)h(w[I],l,u,2);A&&s(y,l,u)}function SK(o,l,u,s,h,d,{o:{nextSibling:v,parentNode:y,querySelector:E}},w){const M=l.target=V4(l.props,E);if(M){const A=M._lpa||M.firstChild;l.shapeFlag&16&&(Jv(l.props)?(l.anchor=w(v(o),l,y(o),u,s,h,d),l.targetAnchor=A):(l.anchor=v(o),l.targetAnchor=w(A,l,M,u,s,h,d)),M._lpa=l.targetAnchor&&v(l.targetAnchor))}return l.anchor&&v(l.anchor)}const wK=EK,t8="components",xK="directives";function TK(o,l){return e8(t8,o,!0,l)||o}const wT=Symbol();function OK(o){return Ya(o)?e8(t8,o,!1)||o:o||wT}function AK(o){return e8(xK,o)}function e8(o,l,u=!0,s=!1){const h=$u||Is;if(h){const d=h.type;if(o===t8){const y=om(d);if(y&&(y===l||y===Qu(l)||y===xg(Qu(l))))return d}const v=tw(h[o]||d[o],l)||tw(h.appContext[o],l);return!v&&s?d:v}}function tw(o,l){return o&&(o[l]||o[Qu(l)]||o[xg(Qu(l))])}const nl=Symbol(void 0),t1=Symbol(void 0),Yl=Symbol(void 0),Sd=Symbol(void 0),Qv=[];let F0=null;function Pm(o=!1){Qv.push(F0=o?null:[])}function xT(){Qv.pop(),F0=Qv[Qv.length-1]||null}let e1=1;function W4(o){e1+=o}function TT(o){return o.dynamicChildren=e1>0?F0||Hp:null,xT(),e1>0&&F0&&F0.push(o),o}function MK(o,l,u,s,h,d){return TT(n8(o,l,u,s,h,d,!0))}function r8(o,l,u,s,h){return TT(Aa(o,l,u,s,h,!0))}function yf(o){return o?o.__v_isVNode===!0:!1}function C0(o,l){return o.type===l.type&&o.key===l.key}function RK(o){}const Nm="__vInternal",OT=({key:o})=>o!=null?o:null,$y=({ref:o,ref_key:l,ref_for:u})=>o!=null?Ya(o)||Es(o)||ji(o)?{i:$u,r:o,k:l,f:!!u}:o:null;function n8(o,l=null,u=null,s=0,h=null,d=o===nl?0:1,v=!1,y=!1){const E={__v_isVNode:!0,__v_skip:!0,type:o,props:l,key:l&&OT(l),ref:l&&$y(l),scopeId:Rm,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:s,dynamicProps:h,dynamicChildren:null,appContext:null};return y?(o8(E,u),d&128&&o.normalize(E)):u&&(E.shapeFlag|=Ya(u)?8:16),e1>0&&!v&&F0&&(E.patchFlag>0||d&6)&&E.patchFlag!==32&&F0.push(E),E}const Aa=CK;function CK(o,l=null,u=null,s=0,h=null,d=!1){if((!o||o===wT)&&(o=Yl),yf(o)){const y=mf(o,l,!0);return u&&o8(y,u),y}if(YK(o)&&(o=o.__vccOpts),l){l=AT(l);let{class:y,style:E}=l;y&&!Ya(y)&&(l.class=Sg(y)),as(E)&&(F6(E)&&!Zn(E)&&(E=os({},E)),l.style=Eg(E))}const v=Ya(o)?1:VX(o)?128:_K(o)?64:as(o)?4:ji(o)?2:0;return n8(o,l,u,s,h,v,d,!0)}function AT(o){return o?F6(o)||Nm in o?os({},o):o:null}function mf(o,l,u=!1){const{props:s,ref:h,patchFlag:d,children:v}=o,y=l?MT(s||{},l):s;return{__v_isVNode:!0,__v_skip:!0,type:o.type,props:y,key:y&&OT(y),ref:l&&l.ref?u&&h?Zn(h)?h.concat($y(l)):[h,$y(l)]:$y(l):h,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:v,target:o.target,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:l&&o.type!==nl?d===-1?16:d|16:d,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:o.transition,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&mf(o.ssContent),ssFallback:o.ssFallback&&mf(o.ssFallback),el:o.el,anchor:o.anchor}}function i8(o=" ",l=0){return Aa(t1,null,o,l)}function bK(o,l){const u=Aa(Sd,null,o);return u.staticCount=l,u}function LK(o="",l=!1){return l?(Pm(),r8(Yl,null,o)):Aa(Yl,null,o)}function Xu(o){return o==null||typeof o=="boolean"?Aa(Yl):Zn(o)?Aa(nl,null,o.slice()):typeof o=="object"?sf(o):Aa(t1,null,String(o))}function sf(o){return o.el===null||o.memo?o:mf(o)}function o8(o,l){let u=0;const{shapeFlag:s}=o;if(l==null)l=null;else if(Zn(l))u=16;else if(typeof l=="object")if(s&65){const h=l.default;h&&(h._c&&(h._d=!1),o8(o,h()),h._c&&(h._d=!0));return}else{u=32;const h=l._;!h&&!(Nm in l)?l._ctx=$u:h===3&&$u&&($u.slots._===1?l._=1:(l._=2,o.patchFlag|=1024))}else ji(l)?(l={default:l,_ctx:$u},u=32):(l=String(l),s&64?(u=16,l=[i8(l)]):u=8);o.children=l,o.shapeFlag|=u}function MT(...o){const l={};for(let u=0;u<o.length;u++){const s=o[u];for(const h in s)if(h==="class")l.class!==s.class&&(l.class=Sg([l.class,s.class]));else if(h==="style")l.style=Eg([l.style,s.style]);else if(wg(h)){const d=l[h],v=s[h];v&&d!==v&&!(Zn(d)&&d.includes(v))&&(l[h]=d?[].concat(d,v):v)}else h!==""&&(l[h]=s[h])}return l}function _u(o,l,u,s=null){Zu(o,l,7,[u,s])}function IK(o,l,u,s){let h;const d=u&&u[s];if(Zn(o)||Ya(o)){h=new Array(o.length);for(let v=0,y=o.length;v<y;v++)h[v]=l(o[v],v,void 0,d&&d[v])}else if(typeof o=="number"){h=new Array(o);for(let v=0;v<o;v++)h[v]=l(v+1,v,void 0,d&&d[v])}else if(as(o))if(o[Symbol.iterator])h=Array.from(o,(v,y)=>l(v,y,void 0,d&&d[y]));else{const v=Object.keys(o);h=new Array(v.length);for(let y=0,E=v.length;y<E;y++){const w=v[y];h[y]=l(o[w],w,y,d&&d[y])}}else h=[];return u&&(u[s]=h),h}function PK(o,l){for(let u=0;u<l.length;u++){const s=l[u];if(Zn(s))for(let h=0;h<s.length;h++)o[s[h].name]=s[h].fn;else s&&(o[s.name]=s.fn)}return o}function NK(o,l,u={},s,h){if($u.isCE)return Aa("slot",l==="default"?null:{name:l},s&&s());let d=o[l];d&&d._c&&(d._d=!1),Pm();const v=d&&RT(d(u)),y=r8(nl,{key:u.key||`_${l}`},v||(s?s():[]),v&&o._===1?64:-2);return!h&&y.scopeId&&(y.slotScopeIds=[y.scopeId+"-s"]),d&&d._c&&(d._d=!0),y}function RT(o){return o.some(l=>yf(l)?!(l.type===Yl||l.type===nl&&!RT(l.children)):!0)?o:null}function FK(o){const l={};for(const u in o)l[Hv(u)]=o[u];return l}const Y4=o=>o?bT(o)?a8(o)||o.proxy:Y4(o.parent):null,nm=os(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>Y4(o.parent),$root:o=>Y4(o.root),$emit:o=>o.emit,$options:o=>fT(o),$forceUpdate:o=>()=>k6(o.update),$nextTick:o=>Mm.bind(o.proxy),$watch:o=>JX.bind(o)}),H4={get({_:o},l){const{ctx:u,setupState:s,data:h,props:d,accessCache:v,type:y,appContext:E}=o;let w;if(l[0]!=="$"){const K=v[l];if(K!==void 0)switch(K){case 1:return s[l];case 2:return h[l];case 4:return u[l];case 3:return d[l]}else{if(s!==$o&&jo(s,l))return v[l]=1,s[l];if(h!==$o&&jo(h,l))return v[l]=2,h[l];if((w=o.propsOptions[0])&&jo(w,l))return v[l]=3,d[l];if(u!==$o&&jo(u,l))return v[l]=4,u[l];U4&&(v[l]=0)}}const M=nm[l];let A,I;if(M)return l==="$attrs"&&tc(o,"get",l),M(o);if((A=y.__cssModules)&&(A=A[l]))return A;if(u!==$o&&jo(u,l))return v[l]=4,u[l];if(I=E.config.globalProperties,jo(I,l))return I[l]},set({_:o},l,u){const{data:s,setupState:h,ctx:d}=o;return h!==$o&&jo(h,l)?(h[l]=u,!0):s!==$o&&jo(s,l)?(s[l]=u,!0):jo(o.props,l)||l[0]==="$"&&l.slice(1)in o?!1:(d[l]=u,!0)},has({_:{data:o,setupState:l,accessCache:u,ctx:s,appContext:h,propsOptions:d}},v){let y;return!!u[v]||o!==$o&&jo(o,v)||l!==$o&&jo(l,v)||(y=d[0])&&jo(y,v)||jo(s,v)||jo(nm,v)||jo(h.config.globalProperties,v)},defineProperty(o,l,u){return u.get!=null?this.set(o,l,u.get(),null):u.value!=null&&this.set(o,l,u.value,null),Reflect.defineProperty(o,l,u)}},DK=os({},H4,{get(o,l){if(l!==Symbol.unscopables)return H4.get(o,l,o)},has(o,l){return l[0]!=="_"&&!TH(l)}}),jK=mT();let GK=0;function CT(o,l,u){const s=o.type,h=(l?l.appContext:o.appContext)||jK,d={uid:GK++,vnode:o,type:s,parent:l,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new b6(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:l?l.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pT(s,h),emitsOptions:Qx(s,h),emit:null,emitted:null,propsDefaults:$o,inheritAttrs:s.inheritAttrs,ctx:$o,data:$o,props:$o,attrs:$o,slots:$o,refs:$o,setupState:$o,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=l?l.root:d,d.emit=FX.bind(null,d),o.ce&&o.ce(d),d}let Is=null;const wf=()=>Is||$u,_f=o=>{Is=o,o.scope.on()},ff=()=>{Is&&Is.scope.off(),Is=null};function bT(o){return o.vnode.shapeFlag&4}let r1=!1;function LT(o,l=!1){r1=l;const{props:u,children:s}=o.vnode,h=bT(o);uK(o,u,h,l),fK(o,s);const d=h?BK(o,l):void 0;return r1=!1,d}function BK(o,l){const u=o.type;o.accessCache=Object.create(null),o.proxy=D6(new Proxy(o.ctx,H4));const{setup:s}=u;if(s){const h=o.setupContext=s.length>1?PT(o):null;_f(o),Ad();const d=N0(s,o,0,[o.props,h]);if(Md(),ff(),R6(d)){if(d.then(ff,ff),l)return d.then(v=>{X4(o,v,l)}).catch(v=>{Rd(v,o,0)});o.asyncDep=d}else X4(o,d,l)}else IT(o,l)}function X4(o,l,u){ji(l)?o.type.__ssrInlineRender?o.ssrRender=l:o.render=l:as(l)&&(o.setupState=B6(l)),IT(o,u)}let im,K4;function UK(o){im=o,K4=l=>{l.render._rc&&(l.withProxy=new Proxy(l.ctx,DK))}}const kK=()=>!im;function IT(o,l,u){const s=o.type;if(!o.render){if(!l&&im&&!s.render){const h=s.template;if(h){const{isCustomElement:d,compilerOptions:v}=o.appContext.config,{delimiters:y,compilerOptions:E}=s,w=os(os({isCustomElement:d,delimiters:y},v),E);s.render=im(h,w)}}o.render=s.render||r0,K4&&K4(o)}_f(o),Ad(),iK(o),Md(),ff()}function zK(o){return new Proxy(o.attrs,{get(l,u){return tc(o,"get","$attrs"),l[u]}})}function PT(o){const l=s=>{o.exposed=s||{}};let u;return{get attrs(){return u||(u=zK(o))},slots:o.slots,emit:o.emit,expose:l}}function a8(o){if(o.exposed)return o.exposeProxy||(o.exposeProxy=new Proxy(B6(D6(o.exposed)),{get(l,u){if(u in l)return l[u];if(u in nm)return nm[u](o)}}))}const VK=/(?:^|[-_])(\w)/g,WK=o=>o.replace(VK,l=>l.toUpperCase()).replace(/[-_]/g,"");function om(o){return ji(o)&&o.displayName||o.name}function NT(o,l,u=!1){let s=om(l);if(!s&&l.__file){const h=l.__file.match(/([^/\\]+)\.\w+$/);h&&(s=h[1])}if(!s&&o&&o.parent){const h=d=>{for(const v in d)if(d[v]===l)return v};s=h(o.components||o.parent.type.components)||h(o.appContext.components)}return s?WK(s):u?"App":"Anonymous"}function YK(o){return ji(o)&&"__vccOpts"in o}const e0=(o,l)=>AX(o,l,r1);function HK(){return null}function XK(){return null}function KK(o){}function $K(o,l){return null}function ZK(){return FT().slots}function qK(){return FT().attrs}function FT(){const o=wf();return o.setupContext||(o.setupContext=PT(o))}function JK(o,l){const u=Zn(o)?o.reduce((s,h)=>(s[h]={},s),{}):o;for(const s in l){const h=u[s];h?Zn(h)||ji(h)?u[s]={type:h,default:l[s]}:h.default=l[s]:h===null&&(u[s]={default:l[s]})}return u}function QK(o,l){const u={};for(const s in o)l.includes(s)||Object.defineProperty(u,s,{enumerable:!0,get:()=>o[s]});return u}function t$(o){const l=wf();let u=o();return ff(),R6(u)&&(u=u.catch(s=>{throw _f(l),s})),[u,()=>_f(l)]}function Fm(o,l,u){const s=arguments.length;return s===2?as(l)&&!Zn(l)?yf(l)?Aa(o,null,[l]):Aa(o,l):Aa(o,null,l):(s>3?u=Array.prototype.slice.call(arguments,2):s===3&&yf(u)&&(u=[u]),Aa(o,l,u))}const DT=Symbol(""),e$=()=>{{const o=qu(DT);return o||Hx("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),o}};function r$(){}function n$(o,l,u,s){const h=u[s];if(h&&jT(h,o))return h;const d=l();return d.memo=o.slice(),u[s]=d}function jT(o,l){const u=o.memo;if(u.length!=l.length)return!1;for(let s=0;s<u.length;s++)if(u[s]!==l[s])return!1;return e1>0&&F0&&F0.push(o),!0}const GT="3.2.31",i$={createComponentInstance:CT,setupComponent:LT,renderComponentRoot:Ky,setCurrentRenderingInstance:ag,isVNode:yf,normalizeVNode:Xu},o$=i$,a$=null,s$=null,l$="http://www.w3.org/2000/svg",pd=typeof document!="undefined"?document:null,ew=pd&&pd.createElement("template"),u$={insert:(o,l,u)=>{l.insertBefore(o,u||null)},remove:o=>{const l=o.parentNode;l&&l.removeChild(o)},createElement:(o,l,u,s)=>{const h=l?pd.createElementNS(l$,o):pd.createElement(o,u?{is:u}:void 0);return o==="select"&&s&&s.multiple!=null&&h.setAttribute("multiple",s.multiple),h},createText:o=>pd.createTextNode(o),createComment:o=>pd.createComment(o),setText:(o,l)=>{o.nodeValue=l},setElementText:(o,l)=>{o.textContent=l},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>pd.querySelector(o),setScopeId(o,l){o.setAttribute(l,"")},cloneNode(o){const l=o.cloneNode(!0);return"_value"in o&&(l._value=o._value),l},insertStaticContent(o,l,u,s,h,d){const v=u?u.previousSibling:l.lastChild;if(h&&(h===d||h.nextSibling))for(;l.insertBefore(h.cloneNode(!0),u),!(h===d||!(h=h.nextSibling)););else{ew.innerHTML=s?`<svg>${o}</svg>`:o;const y=ew.content;if(s){const E=y.firstChild;for(;E.firstChild;)y.appendChild(E.firstChild);y.removeChild(E)}l.insertBefore(y,u)}return[v?v.nextSibling:l.firstChild,u?u.previousSibling:l.lastChild]}};function c$(o,l,u){const s=o._vtc;s&&(l=(l?[l,...s]:[...s]).join(" ")),l==null?o.removeAttribute("class"):u?o.setAttribute("class",l):o.className=l}function h$(o,l,u){const s=o.style,h=Ya(u);if(u&&!h){for(const d in u)$4(s,d,u[d]);if(l&&!Ya(l))for(const d in l)u[d]==null&&$4(s,d,"")}else{const d=s.display;h?l!==u&&(s.cssText=u):l&&o.removeAttribute("style"),"_vod"in o&&(s.display=d)}}const rw=/\s*!important$/;function $4(o,l,u){if(Zn(u))u.forEach(s=>$4(o,l,s));else if(l.startsWith("--"))o.setProperty(l,u);else{const s=f$(o,l);rw.test(u)?o.setProperty(P0(s),u.replace(rw,""),"important"):o[s]=u}}const nw=["Webkit","Moz","ms"],E4={};function f$(o,l){const u=E4[l];if(u)return u;let s=Qu(l);if(s!=="filter"&&s in o)return E4[l]=s;s=xg(s);for(let h=0;h<nw.length;h++){const d=nw[h]+s;if(d in o)return E4[l]=d}return l}const iw="http://www.w3.org/1999/xlink";function d$(o,l,u,s,h){if(s&&l.startsWith("xlink:"))u==null?o.removeAttributeNS(iw,l.slice(6,l.length)):o.setAttributeNS(iw,l,u);else{const d=AH(l);u==null||d&&!Ox(u)?o.removeAttribute(l):o.setAttribute(l,d?"":u)}}function p$(o,l,u,s,h,d,v){if(l==="innerHTML"||l==="textContent"){s&&v(s,h,d),o[l]=u==null?"":u;return}if(l==="value"&&o.tagName!=="PROGRESS"&&!o.tagName.includes("-")){o._value=u;const y=u==null?"":u;(o.value!==y||o.tagName==="OPTION")&&(o.value=y),u==null&&o.removeAttribute(l);return}if(u===""||u==null){const y=typeof o[l];if(y==="boolean"){o[l]=Ox(u);return}else if(u==null&&y==="string"){o[l]="",o.removeAttribute(l);return}else if(y==="number"){try{o[l]=0}catch{}o.removeAttribute(l);return}}try{o[l]=u}catch{}}let am=Date.now,BT=!1;if(typeof window!="undefined"){am()>document.createEvent("Event").timeStamp&&(am=()=>performance.now());const o=navigator.userAgent.match(/firefox\/(\d+)/i);BT=!!(o&&Number(o[1])<=53)}let Z4=0;const v$=Promise.resolve(),g$=()=>{Z4=0},y$=()=>Z4||(v$.then(g$),Z4=am());function oh(o,l,u,s){o.addEventListener(l,u,s)}function m$(o,l,u,s){o.removeEventListener(l,u,s)}function _$(o,l,u,s,h=null){const d=o._vei||(o._vei={}),v=d[l];if(s&&v)v.value=s;else{const[y,E]=E$(l);if(s){const w=d[l]=S$(s,h);oh(o,y,w,E)}else v&&(m$(o,y,v,E),d[l]=void 0)}}const ow=/(?:Once|Passive|Capture)$/;function E$(o){let l;if(ow.test(o)){l={};let u;for(;u=o.match(ow);)o=o.slice(0,o.length-u[0].length),l[u[0].toLowerCase()]=!0}return[P0(o.slice(2)),l]}function S$(o,l){const u=s=>{const h=s.timeStamp||am();(BT||h>=u.attached-1)&&Zu(w$(s,u.value),l,5,[s])};return u.value=o,u.attached=y$(),u}function w$(o,l){if(Zn(l)){const u=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{u.call(o),o._stopped=!0},l.map(s=>h=>!h._stopped&&s&&s(h))}else return l}const aw=/^on[a-z]/,x$=(o,l,u,s,h=!1,d,v,y,E)=>{l==="class"?c$(o,s,h):l==="style"?h$(o,u,s):wg(l)?O6(l)||_$(o,l,u,s,v):(l[0]==="."?(l=l.slice(1),!0):l[0]==="^"?(l=l.slice(1),!1):T$(o,l,s,h))?p$(o,l,s,d,v,y,E):(l==="true-value"?o._trueValue=s:l==="false-value"&&(o._falseValue=s),d$(o,l,s,h))};function T$(o,l,u,s){return s?!!(l==="innerHTML"||l==="textContent"||l in o&&aw.test(l)&&ji(u)):l==="spellcheck"||l==="draggable"||l==="form"||l==="list"&&o.tagName==="INPUT"||l==="type"&&o.tagName==="TEXTAREA"||aw.test(l)&&Ya(u)?!1:l in o}function UT(o,l){const u=Ag(o);class s extends Dm{constructor(d){super(u,d,l)}}return s.def=u,s}const O$=o=>UT(o,QT),A$=typeof HTMLElement!="undefined"?HTMLElement:class{};class Dm extends A${constructor(l,u={},s){super();this._def=l,this._props=u,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Mm(()=>{this._connected||(J4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const h of s)this._setAttr(h.attributeName)}).observe(this,{attributes:!0});const l=s=>{const{props:h,styles:d}=s,v=!Zn(h),y=h?v?Object.keys(h):h:[];let E;if(v)for(const w in this._props){const M=h[w];(M===Number||M&&M.type===Number)&&(this._props[w]=vf(this._props[w]),(E||(E=Object.create(null)))[w]=!0)}this._numberProps=E;for(const w of Object.keys(this))w[0]!=="_"&&this._setProp(w,this[w],!0,!1);for(const w of y.map(Qu))Object.defineProperty(this,w,{get(){return this._getProp(w)},set(M){this._setProp(w,M)}});this._applyStyles(d),this._update()},u=this._def.__asyncLoader;u?u().then(l):l(this._def)}_setAttr(l){let u=this.getAttribute(l);this._numberProps&&this._numberProps[l]&&(u=vf(u)),this._setProp(Qu(l),u,!1)}_getProp(l){return this._props[l]}_setProp(l,u,s=!0,h=!0){u!==this._props[l]&&(this._props[l]=u,h&&this._instance&&this._update(),s&&(u===!0?this.setAttribute(P0(l),""):typeof u=="string"||typeof u=="number"?this.setAttribute(P0(l),u+""):u||this.removeAttribute(P0(l))))}_update(){J4(this._createVNode(),this.shadowRoot)}_createVNode(){const l=Aa(this._def,os({},this._props));return this._instance||(l.ce=u=>{this._instance=u,u.isCE=!0,u.emit=(h,...d)=>{this.dispatchEvent(new CustomEvent(h,{detail:d}))};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Dm){u.parent=s._instance;break}}),l}_applyStyles(l){l&&l.forEach(u=>{const s=document.createElement("style");s.textContent=u,this.shadowRoot.appendChild(s)})}}function M$(o="$style"){{const l=wf();if(!l)return $o;const u=l.type.__cssModules;if(!u)return $o;const s=u[o];return s||$o}}function R$(o){const l=wf();if(!l)return;const u=()=>q4(l.subTree,o(l.proxy));eT(u),Rg(()=>{const s=new MutationObserver(u);s.observe(l.subTree.el.parentNode,{childList:!0}),Cg(()=>s.disconnect())})}function q4(o,l){if(o.shapeFlag&128){const u=o.suspense;o=u.activeBranch,u.pendingBranch&&!u.isHydrating&&u.effects.push(()=>{q4(u.activeBranch,l)})}for(;o.component;)o=o.component.subTree;if(o.shapeFlag&1&&o.el)sw(o.el,l);else if(o.type===nl)o.children.forEach(u=>q4(u,l));else if(o.type===Sd){let{el:u,anchor:s}=o;for(;u&&(sw(u,l),u!==s);)u=u.nextSibling}}function sw(o,l){if(o.nodeType===1){const u=o.style;for(const s in l)u.setProperty(`--${s}`,l[s])}}const qh="transition",Mv="animation",s8=(o,{slots:l})=>Fm($6,zT(o),l);s8.displayName="Transition";const kT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},C$=s8.props=os({},$6.props,kT),cd=(o,l=[])=>{Zn(o)?o.forEach(u=>u(...l)):o&&o(...l)},lw=o=>o?Zn(o)?o.some(l=>l.length>1):o.length>1:!1;function zT(o){const l={};for(const Dt in o)Dt in kT||(l[Dt]=o[Dt]);if(o.css===!1)return l;const{name:u="v",type:s,duration:h,enterFromClass:d=`${u}-enter-from`,enterActiveClass:v=`${u}-enter-active`,enterToClass:y=`${u}-enter-to`,appearFromClass:E=d,appearActiveClass:w=v,appearToClass:M=y,leaveFromClass:A=`${u}-leave-from`,leaveActiveClass:I=`${u}-leave-active`,leaveToClass:K=`${u}-leave-to`}=o,z=b$(h),X=z&&z[0],H=z&&z[1],{onBeforeEnter:J,onEnter:nt,onEnterCancelled:pt,onLeave:it,onLeaveCancelled:N,onBeforeAppear:_t=J,onAppear:Rt=nt,onAppearCancelled:Bt=pt}=l,St=(Dt,Jt,le)=>{dd(Dt,Jt?M:y),dd(Dt,Jt?w:v),le&&le()},Xt=(Dt,Jt)=>{dd(Dt,K),dd(Dt,I),Jt&&Jt()},It=Dt=>(Jt,le)=>{const Ve=Dt?Rt:nt,gt=()=>St(Jt,Dt,le);cd(Ve,[Jt,gt]),uw(()=>{dd(Jt,Dt?E:d),rh(Jt,Dt?M:y),lw(Ve)||cw(Jt,s,X,gt)})};return os(l,{onBeforeEnter(Dt){cd(J,[Dt]),rh(Dt,d),rh(Dt,v)},onBeforeAppear(Dt){cd(_t,[Dt]),rh(Dt,E),rh(Dt,w)},onEnter:It(!1),onAppear:It(!0),onLeave(Dt,Jt){const le=()=>Xt(Dt,Jt);rh(Dt,A),WT(),rh(Dt,I),uw(()=>{dd(Dt,A),rh(Dt,K),lw(it)||cw(Dt,s,H,le)}),cd(it,[Dt,le])},onEnterCancelled(Dt){St(Dt,!1),cd(pt,[Dt])},onAppearCancelled(Dt){St(Dt,!0),cd(Bt,[Dt])},onLeaveCancelled(Dt){Xt(Dt),cd(N,[Dt])}})}function b$(o){if(o==null)return null;if(as(o))return[S4(o.enter),S4(o.leave)];{const l=S4(o);return[l,l]}}function S4(o){return vf(o)}function rh(o,l){l.split(/\s+/).forEach(u=>u&&o.classList.add(u)),(o._vtc||(o._vtc=new Set)).add(l)}function dd(o,l){l.split(/\s+/).forEach(s=>s&&o.classList.remove(s));const{_vtc:u}=o;u&&(u.delete(l),u.size||(o._vtc=void 0))}function uw(o){requestAnimationFrame(()=>{requestAnimationFrame(o)})}let L$=0;function cw(o,l,u,s){const h=o._endId=++L$,d=()=>{h===o._endId&&s()};if(u)return setTimeout(d,u);const{type:v,timeout:y,propCount:E}=VT(o,l);if(!v)return s();const w=v+"end";let M=0;const A=()=>{o.removeEventListener(w,I),d()},I=K=>{K.target===o&&++M>=E&&A()};setTimeout(()=>{M<E&&A()},y+1),o.addEventListener(w,I)}function VT(o,l){const u=window.getComputedStyle(o),s=z=>(u[z]||"").split(", "),h=s(qh+"Delay"),d=s(qh+"Duration"),v=hw(h,d),y=s(Mv+"Delay"),E=s(Mv+"Duration"),w=hw(y,E);let M=null,A=0,I=0;l===qh?v>0&&(M=qh,A=v,I=d.length):l===Mv?w>0&&(M=Mv,A=w,I=E.length):(A=Math.max(v,w),M=A>0?v>w?qh:Mv:null,I=M?M===qh?d.length:E.length:0);const K=M===qh&&/\b(transform|all)(,|$)/.test(u[qh+"Property"]);return{type:M,timeout:A,propCount:I,hasTransform:K}}function hw(o,l){for(;o.length<l.length;)o=o.concat(o);return Math.max(...l.map((u,s)=>fw(u)+fw(o[s])))}function fw(o){return Number(o.slice(0,-1).replace(",","."))*1e3}function WT(){return document.body.offsetHeight}const YT=new WeakMap,HT=new WeakMap,I$={name:"TransitionGroup",props:os({},C$,{tag:String,moveClass:String}),setup(o,{slots:l}){const u=wf(),s=K6();let h,d;return Lm(()=>{if(!h.length)return;const v=o.moveClass||`${o.name||"v"}-move`;if(!j$(h[0].el,u.vnode.el,v))return;h.forEach(N$),h.forEach(F$);const y=h.filter(D$);WT(),y.forEach(E=>{const w=E.el,M=w.style;rh(w,v),M.transform=M.webkitTransform=M.transitionDuration="";const A=w._moveCb=I=>{I&&I.target!==w||(!I||/transform$/.test(I.propertyName))&&(w.removeEventListener("transitionend",A),w._moveCb=null,dd(w,v))};w.addEventListener("transitionend",A)})}),()=>{const v=mo(o),y=zT(v);let E=v.tag||nl;h=d,d=l.default?Cm(l.default()):[];for(let w=0;w<d.length;w++){const M=d[w];M.key!=null&&Td(M,Qp(M,y,s,u))}if(h)for(let w=0;w<h.length;w++){const M=h[w];Td(M,Qp(M,y,s,u)),YT.set(M,M.el.getBoundingClientRect())}return Aa(E,null,d)}}},P$=I$;function N$(o){const l=o.el;l._moveCb&&l._moveCb(),l._enterCb&&l._enterCb()}function F$(o){HT.set(o,o.el.getBoundingClientRect())}function D$(o){const l=YT.get(o),u=HT.get(o),s=l.left-u.left,h=l.top-u.top;if(s||h){const d=o.el.style;return d.transform=d.webkitTransform=`translate(${s}px,${h}px)`,d.transitionDuration="0s",o}}function j$(o,l,u){const s=o.cloneNode();o._vtc&&o._vtc.forEach(v=>{v.split(/\s+/).forEach(y=>y&&s.classList.remove(y))}),u.split(/\s+/).forEach(v=>v&&s.classList.add(v)),s.style.display="none";const h=l.nodeType===1?l:l.parentNode;h.appendChild(s);const{hasTransform:d}=VT(s);return h.removeChild(s),d}const Ef=o=>{const l=o.props["onUpdate:modelValue"];return Zn(l)?u=>Kp(l,u):l};function G$(o){o.target.composing=!0}function dw(o){const l=o.target;l.composing&&(l.composing=!1,B$(l,"input"))}function B$(o,l){const u=document.createEvent("HTMLEvents");u.initEvent(l,!0,!0),o.dispatchEvent(u)}const sm={created(o,{modifiers:{lazy:l,trim:u,number:s}},h){o._assign=Ef(h);const d=s||h.props&&h.props.type==="number";oh(o,l?"change":"input",v=>{if(v.target.composing)return;let y=o.value;u?y=y.trim():d&&(y=vf(y)),o._assign(y)}),u&&oh(o,"change",()=>{o.value=o.value.trim()}),l||(oh(o,"compositionstart",G$),oh(o,"compositionend",dw),oh(o,"change",dw))},mounted(o,{value:l}){o.value=l==null?"":l},beforeUpdate(o,{value:l,modifiers:{lazy:u,trim:s,number:h}},d){if(o._assign=Ef(d),o.composing||document.activeElement===o&&(u||s&&o.value.trim()===l||(h||o.type==="number")&&vf(o.value)===l))return;const v=l==null?"":l;o.value!==v&&(o.value=v)}},l8={deep:!0,created(o,l,u){o._assign=Ef(u),oh(o,"change",()=>{const s=o._modelValue,h=n1(o),d=o.checked,v=o._assign;if(Zn(s)){const y=_m(s,h),E=y!==-1;if(d&&!E)v(s.concat(h));else if(!d&&E){const w=[...s];w.splice(y,1),v(w)}}else if(Od(s)){const y=new Set(s);d?y.add(h):y.delete(h),v(y)}else v(KT(o,d))})},mounted:pw,beforeUpdate(o,l,u){o._assign=Ef(u),pw(o,l,u)}};function pw(o,{value:l,oldValue:u},s){o._modelValue=l,Zn(l)?o.checked=_m(l,s.props.value)>-1:Od(l)?o.checked=l.has(s.props.value):l!==u&&(o.checked=pf(l,KT(o,!0)))}const u8={created(o,{value:l},u){o.checked=pf(l,u.props.value),o._assign=Ef(u),oh(o,"change",()=>{o._assign(n1(o))})},beforeUpdate(o,{value:l,oldValue:u},s){o._assign=Ef(s),l!==u&&(o.checked=pf(l,s.props.value))}},XT={deep:!0,created(o,{value:l,modifiers:{number:u}},s){const h=Od(l);oh(o,"change",()=>{const d=Array.prototype.filter.call(o.options,v=>v.selected).map(v=>u?vf(n1(v)):n1(v));o._assign(o.multiple?h?new Set(d):d:d[0])}),o._assign=Ef(s)},mounted(o,{value:l}){vw(o,l)},beforeUpdate(o,l,u){o._assign=Ef(u)},updated(o,{value:l}){vw(o,l)}};function vw(o,l){const u=o.multiple;if(!(u&&!Zn(l)&&!Od(l))){for(let s=0,h=o.options.length;s<h;s++){const d=o.options[s],v=n1(d);if(u)Zn(l)?d.selected=_m(l,v)>-1:d.selected=l.has(v);else if(pf(n1(d),l)){o.selectedIndex!==s&&(o.selectedIndex=s);return}}!u&&o.selectedIndex!==-1&&(o.selectedIndex=-1)}}function n1(o){return"_value"in o?o._value:o.value}function KT(o,l){const u=l?"_trueValue":"_falseValue";return u in o?o[u]:l}const U$={created(o,l,u){By(o,l,u,null,"created")},mounted(o,l,u){By(o,l,u,null,"mounted")},beforeUpdate(o,l,u,s){By(o,l,u,s,"beforeUpdate")},updated(o,l,u,s){By(o,l,u,s,"updated")}};function By(o,l,u,s,h){let d;switch(o.tagName){case"SELECT":d=XT;break;case"TEXTAREA":d=sm;break;default:switch(u.props&&u.props.type){case"checkbox":d=l8;break;case"radio":d=u8;break;default:d=sm}}const v=d[h];v&&v(o,l,u,s)}function k$(){sm.getSSRProps=({value:o})=>({value:o}),u8.getSSRProps=({value:o},l)=>{if(l.props&&pf(l.props.value,o))return{checked:!0}},l8.getSSRProps=({value:o},l)=>{if(Zn(o)){if(l.props&&_m(o,l.props.value)>-1)return{checked:!0}}else if(Od(o)){if(l.props&&o.has(l.props.value))return{checked:!0}}else if(o)return{checked:!0}}}const z$=["ctrl","shift","alt","meta"],V$={stop:o=>o.stopPropagation(),prevent:o=>o.preventDefault(),self:o=>o.target!==o.currentTarget,ctrl:o=>!o.ctrlKey,shift:o=>!o.shiftKey,alt:o=>!o.altKey,meta:o=>!o.metaKey,left:o=>"button"in o&&o.button!==0,middle:o=>"button"in o&&o.button!==1,right:o=>"button"in o&&o.button!==2,exact:(o,l)=>z$.some(u=>o[`${u}Key`]&&!l.includes(u))},W$=(o,l)=>(u,...s)=>{for(let h=0;h<l.length;h++){const d=V$[l[h]];if(d&&d(u,l))return}return o(u,...s)},Y$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},H$=(o,l)=>u=>{if(!("key"in u))return;const s=P0(u.key);if(l.some(h=>h===s||Y$[h]===s))return o(u)},$T={beforeMount(o,{value:l},{transition:u}){o._vod=o.style.display==="none"?"":o.style.display,u&&l?u.beforeEnter(o):Rv(o,l)},mounted(o,{value:l},{transition:u}){u&&l&&u.enter(o)},updated(o,{value:l,oldValue:u},{transition:s}){!l!=!u&&(s?l?(s.beforeEnter(o),Rv(o,!0),s.enter(o)):s.leave(o,()=>{Rv(o,!1)}):Rv(o,l))},beforeUnmount(o,{value:l}){Rv(o,l)}};function Rv(o,l){o.style.display=l?o._vod:"none"}function X$(){$T.getSSRProps=({value:o})=>{if(!o)return{style:{display:"none"}}}}const ZT=os({patchProp:x$},u$);let tg,gw=!1;function qT(){return tg||(tg=_T(ZT))}function JT(){return tg=gw?tg:ET(ZT),gw=!0,tg}const J4=(...o)=>{qT().render(...o)},QT=(...o)=>{JT().hydrate(...o)},K$=(...o)=>{const l=qT().createApp(...o),{mount:u}=l;return l.mount=s=>{const h=tO(s);if(!h)return;const d=l._component;!ji(d)&&!d.render&&!d.template&&(d.template=h.innerHTML),h.innerHTML="";const v=u(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),v},l},$$=(...o)=>{const l=JT().createApp(...o),{mount:u}=l;return l.mount=s=>{const h=tO(s);if(h)return u(h,!0,h instanceof SVGElement)},l};function tO(o){return Ya(o)?document.querySelector(o):o}let yw=!1;const Z$=()=>{yw||(yw=!0,k$(),X$())},q$=()=>{};var J$=Object.freeze(Object.defineProperty({__proto__:null,compile:q$,EffectScope:b6,ReactiveEffect:Tg,customRef:wX,effect:YH,effectScope:UH,getCurrentScope:kH,isProxy:F6,isReactive:Ed,isReadonly:Jp,isRef:Es,isShallow:N6,markRaw:D6,onScopeDispose:zH,proxyRefs:B6,reactive:d1,readonly:P6,ref:Xv,shallowReactive:zx,shallowReadonly:yX,shallowRef:Vx,stop:HH,toRaw:mo,toRef:Yx,toRefs:xX,triggerRef:_X,unref:$p,camelize:Qu,capitalize:xg,normalizeClass:Sg,normalizeProps:bH,normalizeStyle:Eg,toDisplayString:IH,toHandlerKey:Hv,BaseTransition:$6,Comment:Yl,Fragment:nl,KeepAlive:rK,Static:Sd,Suspense:YX,Teleport:wK,Text:t1,callWithAsyncErrorHandling:Zu,callWithErrorHandling:N0,cloneVNode:mf,compatUtils:s$,computed:e0,createBlock:r8,createCommentVNode:LK,createElementBlock:MK,createElementVNode:n8,createHydrationRenderer:ET,createPropsRestProxy:QK,createRenderer:_T,createSlots:PK,createStaticVNode:bK,createTextVNode:i8,createVNode:Aa,defineAsyncComponent:tK,defineComponent:Ag,defineEmits:XK,defineExpose:KK,defineProps:HK,get devtools(){return Bp},getCurrentInstance:wf,getTransitionRawChildren:Cm,guardReactiveProps:AT,h:Fm,handleError:Rd,initCustomFormatter:r$,inject:qu,isMemoSame:jT,isRuntimeOnly:kK,isVNode:yf,mergeDefaults:JK,mergeProps:MT,nextTick:Mm,onActivated:Z6,onBeforeMount:oT,onBeforeUnmount:Im,onBeforeUpdate:aT,onDeactivated:q6,onErrorCaptured:cT,onMounted:Rg,onRenderTracked:uT,onRenderTriggered:lT,onServerPrefetch:sT,onUnmounted:Cg,onUpdated:Lm,openBlock:Pm,popScopeId:jX,provide:qv,pushScopeId:DX,queuePostFlushCb:z6,registerRuntimeCompiler:UK,renderList:IK,renderSlot:NK,resolveComponent:TK,resolveDirective:AK,resolveDynamicComponent:OK,resolveFilter:a$,resolveTransitionHooks:Qp,setBlockTracking:W4,setDevtoolsHook:Jx,setTransitionHooks:Td,ssrContextKey:DT,ssrUtils:o$,toHandlers:FK,transformVNodeArgs:RK,useAttrs:qK,useSSRContext:e$,useSlots:ZK,useTransitionState:K6,version:GT,warn:Hx,watch:qp,watchEffect:ZX,watchPostEffect:eT,watchSyncEffect:qX,withAsyncContext:t$,withCtx:Y6,withDefaults:$K,withDirectives:pK,withMemo:n$,withScopeId:GX,Transition:s8,TransitionGroup:P$,VueElement:Dm,createApp:K$,createSSRApp:$$,defineCustomElement:UT,defineSSRCustomElement:O$,hydrate:QT,initDirectivesForSSR:Z$,render:J4,useCssModule:M$,useCssVars:R$,vModelCheckbox:l8,vModelDynamic:U$,vModelRadio:u8,vModelSelect:XT,vModelText:sm,vShow:$T,withKeys:H$,withModifiers:W$},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const eO=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",p1=o=>eO?Symbol(o):"_vr_"+o,rO=p1("rvlm"),mw=p1("rvd"),jm=p1("r"),c8=p1("rl"),Q4=p1("rvl"),Up=typeof window!="undefined";function Q$(o){return o.__esModule||eO&&o[Symbol.toStringTag]==="Module"}const ua=Object.assign;function w4(o,l){const u={};for(const s in l){const h=l[s];u[s]=Array.isArray(h)?h.map(o):o(h)}return u}const eg=()=>{},tZ=/\/$/,eZ=o=>o.replace(tZ,"");function x4(o,l,u="/"){let s,h={},d="",v="";const y=l.indexOf("?"),E=l.indexOf("#",y>-1?y:0);return y>-1&&(s=l.slice(0,y),d=l.slice(y+1,E>-1?E:l.length),h=o(d)),E>-1&&(s=s||l.slice(0,E),v=l.slice(E,l.length)),s=oZ(s!=null?s:l,u),{fullPath:s+(d&&"?")+d+v,path:s,query:h,hash:v}}function rZ(o,l){const u=l.query?o(l.query):"";return l.path+(u&&"?")+u+(l.hash||"")}function _w(o,l){return!l||!o.toLowerCase().startsWith(l.toLowerCase())?o:o.slice(l.length)||"/"}function nZ(o,l,u){const s=l.matched.length-1,h=u.matched.length-1;return s>-1&&s===h&&i1(l.matched[s],u.matched[h])&&nO(l.params,u.params)&&o(l.query)===o(u.query)&&l.hash===u.hash}function i1(o,l){return(o.aliasOf||o)===(l.aliasOf||l)}function nO(o,l){if(Object.keys(o).length!==Object.keys(l).length)return!1;for(const u in o)if(!iZ(o[u],l[u]))return!1;return!0}function iZ(o,l){return Array.isArray(o)?Ew(o,l):Array.isArray(l)?Ew(l,o):o===l}function Ew(o,l){return Array.isArray(l)?o.length===l.length&&o.every((u,s)=>u===l[s]):o.length===1&&o[0]===l}function oZ(o,l){if(o.startsWith("/"))return o;if(!o)return l;const u=l.split("/"),s=o.split("/");let h=u.length-1,d,v;for(d=0;d<s.length;d++)if(v=s[d],!(h===1||v==="."))if(v==="..")h--;else break;return u.slice(0,h).join("/")+"/"+s.slice(d-(d===s.length?1:0)).join("/")}var ug;(function(o){o.pop="pop",o.push="push"})(ug||(ug={}));var rg;(function(o){o.back="back",o.forward="forward",o.unknown=""})(rg||(rg={}));function aZ(o){if(!o)if(Up){const l=document.querySelector("base");o=l&&l.getAttribute("href")||"/",o=o.replace(/^\w+:\/\/[^\/]+/,"")}else o="/";return o[0]!=="/"&&o[0]!=="#"&&(o="/"+o),eZ(o)}const sZ=/^[^#]+#/;function lZ(o,l){return o.replace(sZ,"#")+l}function uZ(o,l){const u=document.documentElement.getBoundingClientRect(),s=o.getBoundingClientRect();return{behavior:l.behavior,left:s.left-u.left-(l.left||0),top:s.top-u.top-(l.top||0)}}const Gm=()=>({left:window.pageXOffset,top:window.pageYOffset});function cZ(o){let l;if("el"in o){const u=o.el,s=typeof u=="string"&&u.startsWith("#"),h=typeof u=="string"?s?document.getElementById(u.slice(1)):document.querySelector(u):u;if(!h)return;l=uZ(h,o)}else l=o;"scrollBehavior"in document.documentElement.style?window.scrollTo(l):window.scrollTo(l.left!=null?l.left:window.pageXOffset,l.top!=null?l.top:window.pageYOffset)}function Sw(o,l){return(history.state?history.state.position-l:-1)+o}const t6=new Map;function hZ(o,l){t6.set(o,l)}function fZ(o){const l=t6.get(o);return t6.delete(o),l}let dZ=()=>location.protocol+"//"+location.host;function iO(o,l){const{pathname:u,search:s,hash:h}=l,d=o.indexOf("#");if(d>-1){let y=h.includes(o.slice(d))?o.slice(d).length:1,E=h.slice(y);return E[0]!=="/"&&(E="/"+E),_w(E,"")}return _w(u,o)+s+h}function pZ(o,l,u,s){let h=[],d=[],v=null;const y=({state:I})=>{const K=iO(o,location),z=u.value,X=l.value;let H=0;if(I){if(u.value=K,l.value=I,v&&v===z){v=null;return}H=X?I.position-X.position:0}else s(K);h.forEach(J=>{J(u.value,z,{delta:H,type:ug.pop,direction:H?H>0?rg.forward:rg.back:rg.unknown})})};function E(){v=u.value}function w(I){h.push(I);const K=()=>{const z=h.indexOf(I);z>-1&&h.splice(z,1)};return d.push(K),K}function M(){const{history:I}=window;!I.state||I.replaceState(ua({},I.state,{scroll:Gm()}),"")}function A(){for(const I of d)I();d=[],window.removeEventListener("popstate",y),window.removeEventListener("beforeunload",M)}return window.addEventListener("popstate",y),window.addEventListener("beforeunload",M),{pauseListeners:E,listen:w,destroy:A}}function ww(o,l,u,s=!1,h=!1){return{back:o,current:l,forward:u,replaced:s,position:window.history.length,scroll:h?Gm():null}}function vZ(o){const{history:l,location:u}=window,s={value:iO(o,u)},h={value:l.state};h.value||d(s.value,{back:null,current:s.value,forward:null,position:l.length-1,replaced:!0,scroll:null},!0);function d(E,w,M){const A=o.indexOf("#"),I=A>-1?(u.host&&document.querySelector("base")?o:o.slice(A))+E:dZ()+o+E;try{l[M?"replaceState":"pushState"](w,"",I),h.value=w}catch(K){console.error(K),u[M?"replace":"assign"](I)}}function v(E,w){const M=ua({},l.state,ww(h.value.back,E,h.value.forward,!0),w,{position:h.value.position});d(E,M,!0),s.value=E}function y(E,w){const M=ua({},h.value,l.state,{forward:E,scroll:Gm()});d(M.current,M,!0);const A=ua({},ww(s.value,E,null),{position:M.position+1},w);d(E,A,!1),s.value=E}return{location:s,state:h,push:y,replace:v}}function gZ(o){o=aZ(o);const l=vZ(o),u=pZ(o,l.state,l.location,l.replace);function s(d,v=!0){v||u.pauseListeners(),history.go(d)}const h=ua({location:"",base:o,go:s,createHref:lZ.bind(null,o)},l,u);return Object.defineProperty(h,"location",{enumerable:!0,get:()=>l.location.value}),Object.defineProperty(h,"state",{enumerable:!0,get:()=>l.state.value}),h}function yit(o){return o=location.host?o||location.pathname+location.search:"",o.includes("#")||(o+="#"),gZ(o)}function yZ(o){return typeof o=="string"||o&&typeof o=="object"}function oO(o){return typeof o=="string"||typeof o=="symbol"}const Jh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},aO=p1("nf");var xw;(function(o){o[o.aborted=4]="aborted",o[o.cancelled=8]="cancelled",o[o.duplicated=16]="duplicated"})(xw||(xw={}));function o1(o,l){return ua(new Error,{type:o,[aO]:!0},l)}function Qh(o,l){return o instanceof Error&&aO in o&&(l==null||!!(o.type&l))}const Tw="[^/]+?",mZ={sensitive:!1,strict:!1,start:!0,end:!0},_Z=/[.+*?^${}()[\]/\\]/g;function EZ(o,l){const u=ua({},mZ,l),s=[];let h=u.start?"^":"";const d=[];for(const w of o){const M=w.length?[]:[90];u.strict&&!w.length&&(h+="/");for(let A=0;A<w.length;A++){const I=w[A];let K=40+(u.sensitive?.25:0);if(I.type===0)A||(h+="/"),h+=I.value.replace(_Z,"\\$&"),K+=40;else if(I.type===1){const{value:z,repeatable:X,optional:H,regexp:J}=I;d.push({name:z,repeatable:X,optional:H});const nt=J||Tw;if(nt!==Tw){K+=10;try{new RegExp(`(${nt})`)}catch(it){throw new Error(`Invalid custom RegExp for param "${z}" (${nt}): `+it.message)}}let pt=X?`((?:${nt})(?:/(?:${nt}))*)`:`(${nt})`;A||(pt=H&&w.length<2?`(?:/${pt})`:"/"+pt),H&&(pt+="?"),h+=pt,K+=20,H&&(K+=-8),X&&(K+=-20),nt===".*"&&(K+=-50)}M.push(K)}s.push(M)}if(u.strict&&u.end){const w=s.length-1;s[w][s[w].length-1]+=.7000000000000001}u.strict||(h+="/?"),u.end?h+="$":u.strict&&(h+="(?:/|$)");const v=new RegExp(h,u.sensitive?"":"i");function y(w){const M=w.match(v),A={};if(!M)return null;for(let I=1;I<M.length;I++){const K=M[I]||"",z=d[I-1];A[z.name]=K&&z.repeatable?K.split("/"):K}return A}function E(w){let M="",A=!1;for(const I of o){(!A||!M.endsWith("/"))&&(M+="/"),A=!1;for(const K of I)if(K.type===0)M+=K.value;else if(K.type===1){const{value:z,repeatable:X,optional:H}=K,J=z in w?w[z]:"";if(Array.isArray(J)&&!X)throw new Error(`Provided param "${z}" is an array but it is not repeatable (* or + modifiers)`);const nt=Array.isArray(J)?J.join("/"):J;if(!nt)if(H)I.length<2&&(M.endsWith("/")?M=M.slice(0,-1):A=!0);else throw new Error(`Missing required param "${z}"`);M+=nt}}return M}return{re:v,score:s,keys:d,parse:y,stringify:E}}function SZ(o,l){let u=0;for(;u<o.length&&u<l.length;){const s=l[u]-o[u];if(s)return s;u++}return o.length<l.length?o.length===1&&o[0]===40+40?-1:1:o.length>l.length?l.length===1&&l[0]===40+40?1:-1:0}function wZ(o,l){let u=0;const s=o.score,h=l.score;for(;u<s.length&&u<h.length;){const d=SZ(s[u],h[u]);if(d)return d;u++}return h.length-s.length}const xZ={type:0,value:""},TZ=/[a-zA-Z0-9_]/;function OZ(o){if(!o)return[[]];if(o==="/")return[[xZ]];if(!o.startsWith("/"))throw new Error(`Invalid path "${o}"`);function l(K){throw new Error(`ERR (${u})/"${w}": ${K}`)}let u=0,s=u;const h=[];let d;function v(){d&&h.push(d),d=[]}let y=0,E,w="",M="";function A(){!w||(u===0?d.push({type:0,value:w}):u===1||u===2||u===3?(d.length>1&&(E==="*"||E==="+")&&l(`A repeatable param (${w}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:w,regexp:M,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):l("Invalid state to consume buffer"),w="")}function I(){w+=E}for(;y<o.length;){if(E=o[y++],E==="\\"&&u!==2){s=u,u=4;continue}switch(u){case 0:E==="/"?(w&&A(),v()):E===":"?(A(),u=1):I();break;case 4:I(),u=s;break;case 1:E==="("?u=2:TZ.test(E)?I():(A(),u=0,E!=="*"&&E!=="?"&&E!=="+"&&y--);break;case 2:E===")"?M[M.length-1]=="\\"?M=M.slice(0,-1)+E:u=3:M+=E;break;case 3:A(),u=0,E!=="*"&&E!=="?"&&E!=="+"&&y--,M="";break;default:l("Unknown state");break}}return u===2&&l(`Unfinished custom RegExp for param "${w}"`),A(),v(),h}function AZ(o,l,u){const s=EZ(OZ(o.path),u),h=ua(s,{record:o,parent:l,children:[],alias:[]});return l&&!h.record.aliasOf==!l.record.aliasOf&&l.children.push(h),h}function MZ(o,l){const u=[],s=new Map;l=Aw({strict:!1,end:!0,sensitive:!1},l);function h(M){return s.get(M)}function d(M,A,I){const K=!I,z=CZ(M);z.aliasOf=I&&I.record;const X=Aw(l,M),H=[z];if("alias"in M){const pt=typeof M.alias=="string"?[M.alias]:M.alias;for(const it of pt)H.push(ua({},z,{components:I?I.record.components:z.components,path:it,aliasOf:I?I.record:z}))}let J,nt;for(const pt of H){const{path:it}=pt;if(A&&it[0]!=="/"){const N=A.record.path,_t=N[N.length-1]==="/"?"":"/";pt.path=A.record.path+(it&&_t+it)}if(J=AZ(pt,A,X),I?I.alias.push(J):(nt=nt||J,nt!==J&&nt.alias.push(J),K&&M.name&&!Ow(J)&&v(M.name)),"children"in z){const N=z.children;for(let _t=0;_t<N.length;_t++)d(N[_t],J,I&&I.children[_t])}I=I||J,E(J)}return nt?()=>{v(nt)}:eg}function v(M){if(oO(M)){const A=s.get(M);A&&(s.delete(M),u.splice(u.indexOf(A),1),A.children.forEach(v),A.alias.forEach(v))}else{const A=u.indexOf(M);A>-1&&(u.splice(A,1),M.record.name&&s.delete(M.record.name),M.children.forEach(v),M.alias.forEach(v))}}function y(){return u}function E(M){let A=0;for(;A<u.length&&wZ(M,u[A])>=0&&(M.record.path!==u[A].record.path||!sO(M,u[A]));)A++;u.splice(A,0,M),M.record.name&&!Ow(M)&&s.set(M.record.name,M)}function w(M,A){let I,K={},z,X;if("name"in M&&M.name){if(I=s.get(M.name),!I)throw o1(1,{location:M});X=I.record.name,K=ua(RZ(A.params,I.keys.filter(nt=>!nt.optional).map(nt=>nt.name)),M.params),z=I.stringify(K)}else if("path"in M)z=M.path,I=u.find(nt=>nt.re.test(z)),I&&(K=I.parse(z),X=I.record.name);else{if(I=A.name?s.get(A.name):u.find(nt=>nt.re.test(A.path)),!I)throw o1(1,{location:M,currentLocation:A});X=I.record.name,K=ua({},A.params,M.params),z=I.stringify(K)}const H=[];let J=I;for(;J;)H.unshift(J.record),J=J.parent;return{name:X,path:z,params:K,matched:H,meta:LZ(H)}}return o.forEach(M=>d(M)),{addRoute:d,resolve:w,removeRoute:v,getRoutes:y,getRecordMatcher:h}}function RZ(o,l){const u={};for(const s of l)s in o&&(u[s]=o[s]);return u}function CZ(o){return{path:o.path,redirect:o.redirect,name:o.name,meta:o.meta||{},aliasOf:void 0,beforeEnter:o.beforeEnter,props:bZ(o),children:o.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in o?o.components||{}:{default:o.component}}}function bZ(o){const l={},u=o.props||!1;if("component"in o)l.default=u;else for(const s in o.components)l[s]=typeof u=="boolean"?u:u[s];return l}function Ow(o){for(;o;){if(o.record.aliasOf)return!0;o=o.parent}return!1}function LZ(o){return o.reduce((l,u)=>ua(l,u.meta),{})}function Aw(o,l){const u={};for(const s in o)u[s]=s in l?l[s]:o[s];return u}function sO(o,l){return l.children.some(u=>u===o||sO(o,u))}const lO=/#/g,IZ=/&/g,PZ=/\//g,NZ=/=/g,FZ=/\?/g,uO=/\+/g,DZ=/%5B/g,jZ=/%5D/g,cO=/%5E/g,GZ=/%60/g,hO=/%7B/g,BZ=/%7C/g,fO=/%7D/g,UZ=/%20/g;function h8(o){return encodeURI(""+o).replace(BZ,"|").replace(DZ,"[").replace(jZ,"]")}function kZ(o){return h8(o).replace(hO,"{").replace(fO,"}").replace(cO,"^")}function e6(o){return h8(o).replace(uO,"%2B").replace(UZ,"+").replace(lO,"%23").replace(IZ,"%26").replace(GZ,"`").replace(hO,"{").replace(fO,"}").replace(cO,"^")}function zZ(o){return e6(o).replace(NZ,"%3D")}function VZ(o){return h8(o).replace(lO,"%23").replace(FZ,"%3F")}function WZ(o){return o==null?"":VZ(o).replace(PZ,"%2F")}function lm(o){try{return decodeURIComponent(""+o)}catch{}return""+o}function YZ(o){const l={};if(o===""||o==="?")return l;const s=(o[0]==="?"?o.slice(1):o).split("&");for(let h=0;h<s.length;++h){const d=s[h].replace(uO," "),v=d.indexOf("="),y=lm(v<0?d:d.slice(0,v)),E=v<0?null:lm(d.slice(v+1));if(y in l){let w=l[y];Array.isArray(w)||(w=l[y]=[w]),w.push(E)}else l[y]=E}return l}function Mw(o){let l="";for(let u in o){const s=o[u];if(u=zZ(u),s==null){s!==void 0&&(l+=(l.length?"&":"")+u);continue}(Array.isArray(s)?s.map(d=>d&&e6(d)):[s&&e6(s)]).forEach(d=>{d!==void 0&&(l+=(l.length?"&":"")+u,d!=null&&(l+="="+d))})}return l}function HZ(o){const l={};for(const u in o){const s=o[u];s!==void 0&&(l[u]=Array.isArray(s)?s.map(h=>h==null?null:""+h):s==null?s:""+s)}return l}function Cv(){let o=[];function l(s){return o.push(s),()=>{const h=o.indexOf(s);h>-1&&o.splice(h,1)}}function u(){o=[]}return{add:l,list:()=>o,reset:u}}function XZ(o,l,u){const s=()=>{o[l].delete(u)};Cg(s),q6(s),Z6(()=>{o[l].add(u)}),o[l].add(u)}function mit(o){const l=qu(rO,{}).value;!l||XZ(l,"updateGuards",o)}function lf(o,l,u,s,h){const d=s&&(s.enterCallbacks[h]=s.enterCallbacks[h]||[]);return()=>new Promise((v,y)=>{const E=A=>{A===!1?y(o1(4,{from:u,to:l})):A instanceof Error?y(A):yZ(A)?y(o1(2,{from:l,to:A})):(d&&s.enterCallbacks[h]===d&&typeof A=="function"&&d.push(A),v())},w=o.call(s&&s.instances[h],l,u,E);let M=Promise.resolve(w);o.length<3&&(M=M.then(E)),M.catch(A=>y(A))})}function T4(o,l,u,s){const h=[];for(const d of o)for(const v in d.components){let y=d.components[v];if(!(l!=="beforeRouteEnter"&&!d.instances[v]))if(KZ(y)){const w=(y.__vccOpts||y)[l];w&&h.push(lf(w,u,s,d,v))}else{let E=y();h.push(()=>E.then(w=>{if(!w)return Promise.reject(new Error(`Couldn't resolve component "${v}" at "${d.path}"`));const M=Q$(w)?w.default:w;d.components[v]=M;const I=(M.__vccOpts||M)[l];return I&&lf(I,u,s,d,v)()}))}}return h}function KZ(o){return typeof o=="object"||"displayName"in o||"props"in o||"__vccOpts"in o}function Rw(o){const l=qu(jm),u=qu(c8),s=e0(()=>l.resolve($p(o.to))),h=e0(()=>{const{matched:E}=s.value,{length:w}=E,M=E[w-1],A=u.matched;if(!M||!A.length)return-1;const I=A.findIndex(i1.bind(null,M));if(I>-1)return I;const K=Cw(E[w-2]);return w>1&&Cw(M)===K&&A[A.length-1].path!==K?A.findIndex(i1.bind(null,E[w-2])):I}),d=e0(()=>h.value>-1&&JZ(u.params,s.value.params)),v=e0(()=>h.value>-1&&h.value===u.matched.length-1&&nO(u.params,s.value.params));function y(E={}){return qZ(E)?l[$p(o.replace)?"replace":"push"]($p(o.to)).catch(eg):Promise.resolve()}return{route:s,href:e0(()=>s.value.href),isActive:d,isExactActive:v,navigate:y}}const $Z=Ag({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Rw,setup(o,{slots:l}){const u=d1(Rw(o)),{options:s}=qu(jm),h=e0(()=>({[bw(o.activeClass,s.linkActiveClass,"router-link-active")]:u.isActive,[bw(o.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:u.isExactActive}));return()=>{const d=l.default&&l.default(u);return o.custom?d:Fm("a",{"aria-current":u.isExactActive?o.ariaCurrentValue:null,href:u.href,onClick:u.navigate,class:h.value},d)}}}),ZZ=$Z;function qZ(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const l=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(l))return}return o.preventDefault&&o.preventDefault(),!0}}function JZ(o,l){for(const u in l){const s=l[u],h=o[u];if(typeof s=="string"){if(s!==h)return!1}else if(!Array.isArray(h)||h.length!==s.length||s.some((d,v)=>d!==h[v]))return!1}return!0}function Cw(o){return o?o.aliasOf?o.aliasOf.path:o.path:""}const bw=(o,l,u)=>o!=null?o:l!=null?l:u,QZ=Ag({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(o,{attrs:l,slots:u}){const s=qu(Q4),h=e0(()=>o.route||s.value),d=qu(mw,0),v=e0(()=>h.value.matched[d]);qv(mw,d+1),qv(rO,v),qv(Q4,h);const y=Xv();return qp(()=>[y.value,v.value,o.name],([E,w,M],[A,I,K])=>{w&&(w.instances[M]=E,I&&I!==w&&E&&E===A&&(w.leaveGuards.size||(w.leaveGuards=I.leaveGuards),w.updateGuards.size||(w.updateGuards=I.updateGuards))),E&&w&&(!I||!i1(w,I)||!A)&&(w.enterCallbacks[M]||[]).forEach(z=>z(E))},{flush:"post"}),()=>{const E=h.value,w=v.value,M=w&&w.components[o.name],A=o.name;if(!M)return Lw(u.default,{Component:M,route:E});const I=w.props[o.name],K=I?I===!0?E.params:typeof I=="function"?I(E):I:null,X=Fm(M,ua({},K,l,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(w.instances[A]=null)},ref:y}));return Lw(u.default,{Component:X,route:E})||X}}});function Lw(o,l){if(!o)return null;const u=o(l);return u.length===1?u[0]:u}const tq=QZ;function _it(o){const l=MZ(o.routes,o),u=o.parseQuery||YZ,s=o.stringifyQuery||Mw,h=o.history,d=Cv(),v=Cv(),y=Cv(),E=Vx(Jh);let w=Jh;Up&&o.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const M=w4.bind(null,pe=>""+pe),A=w4.bind(null,WZ),I=w4.bind(null,lm);function K(pe,Qe){let Er,Nr;return oO(pe)?(Er=l.getRecordMatcher(pe),Nr=Qe):Nr=pe,l.addRoute(Nr,Er)}function z(pe){const Qe=l.getRecordMatcher(pe);Qe&&l.removeRoute(Qe)}function X(){return l.getRoutes().map(pe=>pe.record)}function H(pe){return!!l.getRecordMatcher(pe)}function J(pe,Qe){if(Qe=ua({},Qe||E.value),typeof pe=="string"){const Qt=x4(u,pe,Qe.path),At=l.resolve({path:Qt.path},Qe),ht=h.createHref(Qt.fullPath);return ua(Qt,At,{params:I(At.params),hash:lm(Qt.hash),redirectedFrom:void 0,href:ht})}let Er;if("path"in pe)Er=ua({},pe,{path:x4(u,pe.path,Qe.path).path});else{const Qt=ua({},pe.params);for(const At in Qt)Qt[At]==null&&delete Qt[At];Er=ua({},pe,{params:A(pe.params)}),Qe.params=A(Qe.params)}const Nr=l.resolve(Er,Qe),Pn=pe.hash||"";Nr.params=M(I(Nr.params));const Br=rZ(s,ua({},pe,{hash:kZ(Pn),path:Nr.path})),Vt=h.createHref(Br);return ua({fullPath:Br,hash:Pn,query:s===Mw?HZ(pe.query):pe.query||{}},Nr,{redirectedFrom:void 0,href:Vt})}function nt(pe){return typeof pe=="string"?x4(u,pe,E.value.path):ua({},pe)}function pt(pe,Qe){if(w!==pe)return o1(8,{from:Qe,to:pe})}function it(pe){return Rt(pe)}function N(pe){return it(ua(nt(pe),{replace:!0}))}function _t(pe){const Qe=pe.matched[pe.matched.length-1];if(Qe&&Qe.redirect){const{redirect:Er}=Qe;let Nr=typeof Er=="function"?Er(pe):Er;return typeof Nr=="string"&&(Nr=Nr.includes("?")||Nr.includes("#")?Nr=nt(Nr):{path:Nr},Nr.params={}),ua({query:pe.query,hash:pe.hash,params:pe.params},Nr)}}function Rt(pe,Qe){const Er=w=J(pe),Nr=E.value,Pn=pe.state,Br=pe.force,Vt=pe.replace===!0,Qt=_t(Er);if(Qt)return Rt(ua(nt(Qt),{state:Pn,force:Br,replace:Vt}),Qe||Er);const At=Er;At.redirectedFrom=Qe;let ht;return!Br&&nZ(s,Nr,Er)&&(ht=o1(16,{to:At,from:Nr}),ir(Nr,Nr,!0,!1)),(ht?Promise.resolve(ht):St(At,Nr)).catch(Ct=>Qh(Ct)?Qh(Ct,2)?Ct:nr(Ct):Yt(Ct,At,Nr)).then(Ct=>{if(Ct){if(Qh(Ct,2))return Rt(ua(nt(Ct.to),{state:Pn,force:Br,replace:Vt}),Qe||At)}else Ct=It(At,Nr,!0,Vt,Pn);return Xt(At,Nr,Ct),Ct})}function Bt(pe,Qe){const Er=pt(pe,Qe);return Er?Promise.reject(Er):Promise.resolve()}function St(pe,Qe){let Er;const[Nr,Pn,Br]=eq(pe,Qe);Er=T4(Nr.reverse(),"beforeRouteLeave",pe,Qe);for(const Qt of Nr)Qt.leaveGuards.forEach(At=>{Er.push(lf(At,pe,Qe))});const Vt=Bt.bind(null,pe,Qe);return Er.push(Vt),Ip(Er).then(()=>{Er=[];for(const Qt of d.list())Er.push(lf(Qt,pe,Qe));return Er.push(Vt),Ip(Er)}).then(()=>{Er=T4(Pn,"beforeRouteUpdate",pe,Qe);for(const Qt of Pn)Qt.updateGuards.forEach(At=>{Er.push(lf(At,pe,Qe))});return Er.push(Vt),Ip(Er)}).then(()=>{Er=[];for(const Qt of pe.matched)if(Qt.beforeEnter&&!Qe.matched.includes(Qt))if(Array.isArray(Qt.beforeEnter))for(const At of Qt.beforeEnter)Er.push(lf(At,pe,Qe));else Er.push(lf(Qt.beforeEnter,pe,Qe));return Er.push(Vt),Ip(Er)}).then(()=>(pe.matched.forEach(Qt=>Qt.enterCallbacks={}),Er=T4(Br,"beforeRouteEnter",pe,Qe),Er.push(Vt),Ip(Er))).then(()=>{Er=[];for(const Qt of v.list())Er.push(lf(Qt,pe,Qe));return Er.push(Vt),Ip(Er)}).catch(Qt=>Qh(Qt,8)?Qt:Promise.reject(Qt))}function Xt(pe,Qe,Er){for(const Nr of y.list())Nr(pe,Qe,Er)}function It(pe,Qe,Er,Nr,Pn){const Br=pt(pe,Qe);if(Br)return Br;const Vt=Qe===Jh,Qt=Up?history.state:{};Er&&(Nr||Vt?h.replace(pe.fullPath,ua({scroll:Vt&&Qt&&Qt.scroll},Pn)):h.push(pe.fullPath,Pn)),E.value=pe,ir(pe,Qe,Er,Vt),nr()}let Dt;function Jt(){Dt=h.listen((pe,Qe,Er)=>{const Nr=J(pe),Pn=_t(Nr);if(Pn){Rt(ua(Pn,{replace:!0}),Nr).catch(eg);return}w=Nr;const Br=E.value;Up&&hZ(Sw(Br.fullPath,Er.delta),Gm()),St(Nr,Br).catch(Vt=>Qh(Vt,12)?Vt:Qh(Vt,2)?(Rt(Vt.to,Nr).then(Qt=>{Qh(Qt,20)&&!Er.delta&&Er.type===ug.pop&&h.go(-1,!1)}).catch(eg),Promise.reject()):(Er.delta&&h.go(-Er.delta,!1),Yt(Vt,Nr,Br))).then(Vt=>{Vt=Vt||It(Nr,Br,!1),Vt&&(Er.delta?h.go(-Er.delta,!1):Er.type===ug.pop&&Qh(Vt,20)&&h.go(-1,!1)),Xt(Nr,Br,Vt)}).catch(eg)})}let le=Cv(),Ve=Cv(),gt;function Yt(pe,Qe,Er){nr(pe);const Nr=Ve.list();return Nr.length?Nr.forEach(Pn=>Pn(pe,Qe,Er)):console.error(pe),Promise.reject(pe)}function oe(){return gt&&E.value!==Jh?Promise.resolve():new Promise((pe,Qe)=>{le.add([pe,Qe])})}function nr(pe){return gt||(gt=!pe,Jt(),le.list().forEach(([Qe,Er])=>pe?Er(pe):Qe()),le.reset()),pe}function ir(pe,Qe,Er,Nr){const{scrollBehavior:Pn}=o;if(!Up||!Pn)return Promise.resolve();const Br=!Er&&fZ(Sw(pe.fullPath,0))||(Nr||!Er)&&history.state&&history.state.scroll||null;return Mm().then(()=>Pn(pe,Qe,Br)).then(Vt=>Vt&&cZ(Vt)).catch(Vt=>Yt(Vt,pe,Qe))}const Ke=pe=>h.go(pe);let Ge;const Pr=new Set;return{currentRoute:E,addRoute:K,removeRoute:z,hasRoute:H,getRoutes:X,resolve:J,options:o,push:it,replace:N,go:Ke,back:()=>Ke(-1),forward:()=>Ke(1),beforeEach:d.add,beforeResolve:v.add,afterEach:y.add,onError:Ve.add,isReady:oe,install(pe){const Qe=this;pe.component("RouterLink",ZZ),pe.component("RouterView",tq),pe.config.globalProperties.$router=Qe,Object.defineProperty(pe.config.globalProperties,"$route",{enumerable:!0,get:()=>$p(E)}),Up&&!Ge&&E.value===Jh&&(Ge=!0,it(h.location).catch(Pn=>{}));const Er={};for(const Pn in Jh)Er[Pn]=e0(()=>E.value[Pn]);pe.provide(jm,Qe),pe.provide(c8,d1(Er)),pe.provide(Q4,E);const Nr=pe.unmount;Pr.add(pe),pe.unmount=function(){Pr.delete(pe),Pr.size<1&&(w=Jh,Dt&&Dt(),E.value=Jh,Ge=!1,gt=!1),Nr()}}}}function Ip(o){return o.reduce((l,u)=>l.then(()=>u()),Promise.resolve())}function eq(o,l){const u=[],s=[],h=[],d=Math.max(l.matched.length,o.matched.length);for(let v=0;v<d;v++){const y=l.matched[v];y&&(o.matched.find(w=>i1(w,y))?s.push(y):u.push(y));const E=o.matched[v];E&&(l.matched.find(w=>i1(w,E))||h.push(E))}return[u,s,h]}function Eit(){return qu(jm)}function Sit(){return qu(c8)}var rq=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function dO(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function i0(o){if(o.__esModule)return o;var l=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(o).forEach(function(u){var s=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(l,u,s.get?s:{enumerable:!0,get:function(){return o[u]}})}),l}var nq={exports:{}},ph={};/*!
  * @intlify/shared v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const iq=typeof window!="undefined";let oq,aq;const sq=/\{([0-9a-zA-Z]+)\}/g;function pO(o,...l){return l.length===1&&D0(l[0])&&(l=l[0]),(!l||!l.hasOwnProperty)&&(l={}),o.replace(sq,(u,s)=>l.hasOwnProperty(s)?l[s]:"")}const lq=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",uq=o=>lq?Symbol(o):o,vO=(o,l,u)=>gO({l:o,k:l,s:u}),gO=o=>JSON.stringify(o).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Eu=o=>typeof o=="number"&&isFinite(o),yO=o=>Um(o)==="[object Date]",r6=o=>Um(o)==="[object RegExp]",Bm=o=>Oa(o)&&Object.keys(o).length===0;function mO(o,l){typeof console!="undefined"&&(console.warn("[intlify] "+o),l&&console.warn(l.stack))}const xf=Object.assign;let Iw;const _O=()=>Iw||(Iw=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function n6(o){return o.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const cq=Object.prototype.hasOwnProperty;function hq(o,l){return cq.call(o,l)}const uh=Array.isArray,Su=o=>typeof o=="function",Qi=o=>typeof o=="string",wu=o=>typeof o=="boolean",fq=o=>typeof o=="symbol",D0=o=>o!==null&&typeof o=="object",dq=o=>D0(o)&&Su(o.then)&&Su(o.catch),f8=Object.prototype.toString,Um=o=>f8.call(o),Oa=o=>Um(o)==="[object Object]",EO=o=>o==null?"":uh(o)||Oa(o)&&o.toString===f8?JSON.stringify(o,null,2):String(o),Pw=2;function pq(o,l=0,u=o.length){const s=o.split(/\r?\n/);let h=0;const d=[];for(let v=0;v<s.length;v++)if(h+=s[v].length+1,h>=l){for(let y=v-Pw;y<=v+Pw||u>h;y++){if(y<0||y>=s.length)continue;const E=y+1;d.push(`${E}${" ".repeat(3-String(E).length)}|  ${s[y]}`);const w=s[y].length;if(y===v){const M=l-(h-w)+1,A=Math.max(1,u>h?w-M:u-l);d.push("   |  "+" ".repeat(M)+"^".repeat(A))}else if(y>v){if(u>h){const M=Math.max(Math.min(u-h,w),1);d.push("   |  "+"^".repeat(M))}h+=w+1}}break}return d.join(`
`)}function vq(){const o=new Map;return{events:o,on(u,s){const h=o.get(u);h&&h.push(s)||o.set(u,[s])},off(u,s){const h=o.get(u);h&&h.splice(h.indexOf(s)>>>0,1)},emit(u,s){(o.get(u)||[]).slice().map(h=>h(s)),(o.get("*")||[]).slice().map(h=>h(u,s))}}}var gq=Object.freeze(Object.defineProperty({__proto__:null,assign:xf,createEmitter:vq,escapeHtml:n6,format:pO,friendlyJSONstringify:gO,generateCodeFrame:pq,generateFormatCacheKey:vO,getGlobalThis:_O,hasOwn:hq,inBrowser:iq,isArray:uh,isBoolean:wu,isDate:yO,isEmptyObject:Bm,isFunction:Su,isNumber:Eu,isObject:D0,isPlainObject:Oa,isPromise:dq,isRegExp:r6,isString:Qi,isSymbol:fq,makeSymbol:uq,mark:oq,measure:aq,objectToString:f8,toDisplayString:EO,toTypeString:Um,warn:mO},Symbol.toStringTag,{value:"Module"}));/*!
  * @intlify/message-resolver v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const yq=Object.prototype.hasOwnProperty;function mq(o,l){return yq.call(o,l)}const Zy=o=>o!==null&&typeof o=="object",Tf=[];Tf[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Tf[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Tf[2]={w:[2],i:[3,0],["0"]:[3,0]};Tf[3]={i:[3,0],["0"]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Tf[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Tf[5]={["'"]:[4,0],o:8,l:[5,0]};Tf[6]={['"']:[4,0],o:8,l:[6,0]};const _q=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Eq(o){return _q.test(o)}function Sq(o){const l=o.charCodeAt(0),u=o.charCodeAt(o.length-1);return l===u&&(l===34||l===39)?o.slice(1,-1):o}function wq(o){if(o==null)return"o";switch(o.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return o;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function xq(o){const l=o.trim();return o.charAt(0)==="0"&&isNaN(parseInt(o))?!1:Eq(l)?Sq(l):"*"+l}function SO(o){const l=[];let u=-1,s=0,h=0,d,v,y,E,w,M,A;const I=[];I[0]=()=>{v===void 0?v=y:v+=y},I[1]=()=>{v!==void 0&&(l.push(v),v=void 0)},I[2]=()=>{I[0](),h++},I[3]=()=>{if(h>0)h--,s=4,I[0]();else{if(h=0,v===void 0||(v=xq(v),v===!1))return!1;I[1]()}};function K(){const z=o[u+1];if(s===5&&z==="'"||s===6&&z==='"')return u++,y="\\"+z,I[0](),!0}for(;s!==null;)if(u++,d=o[u],!(d==="\\"&&K())){if(E=wq(d),A=Tf[s],w=A[E]||A.l||8,w===8||(s=w[0],w[1]!==void 0&&(M=I[w[1]],M&&(y=d,M()===!1))))return;if(s===7)return l}}const Nw=new Map;function d8(o,l){if(!Zy(o))return null;let u=Nw.get(l);if(u||(u=SO(l),u&&Nw.set(l,u)),!u)return null;const s=u.length;let h=o,d=0;for(;d<s;){const v=h[u[d]];if(v===void 0)return null;h=v,d++}return h}function i6(o){if(!Zy(o))return o;for(const l in o)if(!!mq(o,l))if(!l.includes("."))Zy(o[l])&&i6(o[l]);else{const u=l.split("."),s=u.length-1;let h=o;for(let d=0;d<s;d++)u[d]in h||(h[u[d]]={}),h=h[u[d]];h[u[s]]=o[l],delete o[l],Zy(h[u[s]])&&i6(h[u[s]])}return o}/*!
  * @intlify/runtime v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Tq=o=>o,Oq=o=>"",wO="text",Aq=o=>o.length===0?"":o.join(""),Mq=EO;function Fw(o,l){return o=Math.abs(o),l===2?o?o>1?1:0:1:o?Math.min(o,2):0}function Rq(o){const l=Eu(o.pluralIndex)?o.pluralIndex:-1;return o.named&&(Eu(o.named.count)||Eu(o.named.n))?Eu(o.named.count)?o.named.count:Eu(o.named.n)?o.named.n:l:l}function Cq(o,l){l.count||(l.count=o),l.n||(l.n=o)}function xO(o={}){const l=o.locale,u=Rq(o),s=D0(o.pluralRules)&&Qi(l)&&Su(o.pluralRules[l])?o.pluralRules[l]:Fw,h=D0(o.pluralRules)&&Qi(l)&&Su(o.pluralRules[l])?Fw:void 0,d=H=>H[s(u,H.length,h)],v=o.list||[],y=H=>v[H],E=o.named||{};Eu(o.pluralIndex)&&Cq(u,E);const w=H=>E[H];function M(H){const J=Su(o.messages)?o.messages(H):D0(o.messages)?o.messages[H]:!1;return J||(o.parent?o.parent.message(H):Oq)}const A=H=>o.modifiers?o.modifiers[H]:Tq,I=Oa(o.processor)&&Su(o.processor.normalize)?o.processor.normalize:Aq,K=Oa(o.processor)&&Su(o.processor.interpolate)?o.processor.interpolate:Mq,z=Oa(o.processor)&&Qi(o.processor.type)?o.processor.type:wO,X={list:y,named:w,plural:d,linked:(H,J)=>{const nt=M(H)(X);return Qi(J)?A(J)(nt):nt},message:M,type:z,interpolate:K,normalize:I};return X}/*!
  * @intlify/message-compiler v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */function km(o,l,u={}){const{domain:s,messages:h,args:d}=u,v=o,y=new SyntaxError(String(v));return y.code=o,l&&(y.location=l),y.domain=s,y}function bq(o){throw o}function Lq(o,l,u){return{line:o,column:l,offset:u}}function o6(o,l,u){const s={start:o,end:l};return u!=null&&(s.source=u),s}const Q0=" ",Iq="\r",Wl=`
`,Pq=String.fromCharCode(8232),Nq=String.fromCharCode(8233);function Fq(o){const l=o;let u=0,s=1,h=1,d=0;const v=Rt=>l[Rt]===Iq&&l[Rt+1]===Wl,y=Rt=>l[Rt]===Wl,E=Rt=>l[Rt]===Nq,w=Rt=>l[Rt]===Pq,M=Rt=>v(Rt)||y(Rt)||E(Rt)||w(Rt),A=()=>u,I=()=>s,K=()=>h,z=()=>d,X=Rt=>v(Rt)||E(Rt)||w(Rt)?Wl:l[Rt],H=()=>X(u),J=()=>X(u+d);function nt(){return d=0,M(u)&&(s++,h=0),v(u)&&u++,u++,h++,l[u]}function pt(){return v(u+d)&&d++,d++,l[u+d]}function it(){u=0,s=1,h=1,d=0}function N(Rt=0){d=Rt}function _t(){const Rt=u+d;for(;Rt!==u;)nt();d=0}return{index:A,line:I,column:K,peekOffset:z,charAt:X,currentChar:H,currentPeek:J,next:nt,peek:pt,reset:it,resetPeek:N,skipToPeek:_t}}const tf=void 0,Dw="'",Dq="tokenizer";function jq(o,l={}){const u=l.location!==!1,s=Fq(o),h=()=>s.index(),d=()=>Lq(s.line(),s.column(),s.index()),v=d(),y=h(),E={currentType:14,offset:y,startLoc:v,endLoc:v,lastType:14,lastOffset:y,lastStartLoc:v,lastEndLoc:v,braceNest:0,inLinked:!1,text:""},w=()=>E,{onError:M}=l;function A(Vt,Qt,At,...ht){const Ct=w();if(Qt.column+=At,Qt.offset+=At,M){const te=o6(Ct.startLoc,Qt),qt=km(Vt,te,{domain:Dq,args:ht});M(qt)}}function I(Vt,Qt,At){Vt.endLoc=d(),Vt.currentType=Qt;const ht={type:Qt};return u&&(ht.loc=o6(Vt.startLoc,Vt.endLoc)),At!=null&&(ht.value=At),ht}const K=Vt=>I(Vt,14);function z(Vt,Qt){return Vt.currentChar()===Qt?(Vt.next(),Qt):(A(0,d(),0,Qt),"")}function X(Vt){let Qt="";for(;Vt.currentPeek()===Q0||Vt.currentPeek()===Wl;)Qt+=Vt.currentPeek(),Vt.peek();return Qt}function H(Vt){const Qt=X(Vt);return Vt.skipToPeek(),Qt}function J(Vt){if(Vt===tf)return!1;const Qt=Vt.charCodeAt(0);return Qt>=97&&Qt<=122||Qt>=65&&Qt<=90||Qt===95}function nt(Vt){if(Vt===tf)return!1;const Qt=Vt.charCodeAt(0);return Qt>=48&&Qt<=57}function pt(Vt,Qt){const{currentType:At}=Qt;if(At!==2)return!1;X(Vt);const ht=J(Vt.currentPeek());return Vt.resetPeek(),ht}function it(Vt,Qt){const{currentType:At}=Qt;if(At!==2)return!1;X(Vt);const ht=Vt.currentPeek()==="-"?Vt.peek():Vt.currentPeek(),Ct=nt(ht);return Vt.resetPeek(),Ct}function N(Vt,Qt){const{currentType:At}=Qt;if(At!==2)return!1;X(Vt);const ht=Vt.currentPeek()===Dw;return Vt.resetPeek(),ht}function _t(Vt,Qt){const{currentType:At}=Qt;if(At!==8)return!1;X(Vt);const ht=Vt.currentPeek()===".";return Vt.resetPeek(),ht}function Rt(Vt,Qt){const{currentType:At}=Qt;if(At!==9)return!1;X(Vt);const ht=J(Vt.currentPeek());return Vt.resetPeek(),ht}function Bt(Vt,Qt){const{currentType:At}=Qt;if(!(At===8||At===12))return!1;X(Vt);const ht=Vt.currentPeek()===":";return Vt.resetPeek(),ht}function St(Vt,Qt){const{currentType:At}=Qt;if(At!==10)return!1;const ht=()=>{const te=Vt.currentPeek();return te==="{"?J(Vt.peek()):te==="@"||te==="%"||te==="|"||te===":"||te==="."||te===Q0||!te?!1:te===Wl?(Vt.peek(),ht()):J(te)},Ct=ht();return Vt.resetPeek(),Ct}function Xt(Vt){X(Vt);const Qt=Vt.currentPeek()==="|";return Vt.resetPeek(),Qt}function It(Vt,Qt=!0){const At=(Ct=!1,te="",qt=!1)=>{const fe=Vt.currentPeek();return fe==="{"?te==="%"?!1:Ct:fe==="@"||!fe?te==="%"?!0:Ct:fe==="%"?(Vt.peek(),At(Ct,"%",!0)):fe==="|"?te==="%"||qt?!0:!(te===Q0||te===Wl):fe===Q0?(Vt.peek(),At(!0,Q0,qt)):fe===Wl?(Vt.peek(),At(!0,Wl,qt)):!0},ht=At();return Qt&&Vt.resetPeek(),ht}function Dt(Vt,Qt){const At=Vt.currentChar();return At===tf?tf:Qt(At)?(Vt.next(),At):null}function Jt(Vt){return Dt(Vt,At=>{const ht=At.charCodeAt(0);return ht>=97&&ht<=122||ht>=65&&ht<=90||ht>=48&&ht<=57||ht===95||ht===36})}function le(Vt){return Dt(Vt,At=>{const ht=At.charCodeAt(0);return ht>=48&&ht<=57})}function Ve(Vt){return Dt(Vt,At=>{const ht=At.charCodeAt(0);return ht>=48&&ht<=57||ht>=65&&ht<=70||ht>=97&&ht<=102})}function gt(Vt){let Qt="",At="";for(;Qt=le(Vt);)At+=Qt;return At}function Yt(Vt){let Qt="";for(;;){const At=Vt.currentChar();if(At==="{"||At==="}"||At==="@"||At==="|"||!At)break;if(At==="%")if(It(Vt))Qt+=At,Vt.next();else break;else if(At===Q0||At===Wl)if(It(Vt))Qt+=At,Vt.next();else{if(Xt(Vt))break;Qt+=At,Vt.next()}else Qt+=At,Vt.next()}return Qt}function oe(Vt){H(Vt);let Qt="",At="";for(;Qt=Jt(Vt);)At+=Qt;return Vt.currentChar()===tf&&A(6,d(),0),At}function nr(Vt){H(Vt);let Qt="";return Vt.currentChar()==="-"?(Vt.next(),Qt+=`-${gt(Vt)}`):Qt+=gt(Vt),Vt.currentChar()===tf&&A(6,d(),0),Qt}function ir(Vt){H(Vt),z(Vt,"'");let Qt="",At="";const ht=te=>te!==Dw&&te!==Wl;for(;Qt=Dt(Vt,ht);)Qt==="\\"?At+=Ke(Vt):At+=Qt;const Ct=Vt.currentChar();return Ct===Wl||Ct===tf?(A(2,d(),0),Ct===Wl&&(Vt.next(),z(Vt,"'")),At):(z(Vt,"'"),At)}function Ke(Vt){const Qt=Vt.currentChar();switch(Qt){case"\\":case"'":return Vt.next(),`\\${Qt}`;case"u":return Ge(Vt,Qt,4);case"U":return Ge(Vt,Qt,6);default:return A(3,d(),0,Qt),""}}function Ge(Vt,Qt,At){z(Vt,Qt);let ht="";for(let Ct=0;Ct<At;Ct++){const te=Ve(Vt);if(!te){A(4,d(),0,`\\${Qt}${ht}${Vt.currentChar()}`);break}ht+=te}return`\\${Qt}${ht}`}function Pr(Vt){H(Vt);let Qt="",At="";const ht=Ct=>Ct!=="{"&&Ct!=="}"&&Ct!==Q0&&Ct!==Wl;for(;Qt=Dt(Vt,ht);)At+=Qt;return At}function Kr(Vt){let Qt="",At="";for(;Qt=Jt(Vt);)At+=Qt;return At}function pe(Vt){const Qt=(At=!1,ht)=>{const Ct=Vt.currentChar();return Ct==="{"||Ct==="%"||Ct==="@"||Ct==="|"||!Ct||Ct===Q0?ht:Ct===Wl?(ht+=Ct,Vt.next(),Qt(At,ht)):(ht+=Ct,Vt.next(),Qt(!0,ht))};return Qt(!1,"")}function Qe(Vt){H(Vt);const Qt=z(Vt,"|");return H(Vt),Qt}function Er(Vt,Qt){let At=null;switch(Vt.currentChar()){case"{":return Qt.braceNest>=1&&A(8,d(),0),Vt.next(),At=I(Qt,2,"{"),H(Vt),Qt.braceNest++,At;case"}":return Qt.braceNest>0&&Qt.currentType===2&&A(7,d(),0),Vt.next(),At=I(Qt,3,"}"),Qt.braceNest--,Qt.braceNest>0&&H(Vt),Qt.inLinked&&Qt.braceNest===0&&(Qt.inLinked=!1),At;case"@":return Qt.braceNest>0&&A(6,d(),0),At=Nr(Vt,Qt)||K(Qt),Qt.braceNest=0,At;default:let Ct=!0,te=!0,qt=!0;if(Xt(Vt))return Qt.braceNest>0&&A(6,d(),0),At=I(Qt,1,Qe(Vt)),Qt.braceNest=0,Qt.inLinked=!1,At;if(Qt.braceNest>0&&(Qt.currentType===5||Qt.currentType===6||Qt.currentType===7))return A(6,d(),0),Qt.braceNest=0,Pn(Vt,Qt);if(Ct=pt(Vt,Qt))return At=I(Qt,5,oe(Vt)),H(Vt),At;if(te=it(Vt,Qt))return At=I(Qt,6,nr(Vt)),H(Vt),At;if(qt=N(Vt,Qt))return At=I(Qt,7,ir(Vt)),H(Vt),At;if(!Ct&&!te&&!qt)return At=I(Qt,13,Pr(Vt)),A(1,d(),0,At.value),H(Vt),At;break}return At}function Nr(Vt,Qt){const{currentType:At}=Qt;let ht=null;const Ct=Vt.currentChar();switch((At===8||At===9||At===12||At===10)&&(Ct===Wl||Ct===Q0)&&A(9,d(),0),Ct){case"@":return Vt.next(),ht=I(Qt,8,"@"),Qt.inLinked=!0,ht;case".":return H(Vt),Vt.next(),I(Qt,9,".");case":":return H(Vt),Vt.next(),I(Qt,10,":");default:return Xt(Vt)?(ht=I(Qt,1,Qe(Vt)),Qt.braceNest=0,Qt.inLinked=!1,ht):_t(Vt,Qt)||Bt(Vt,Qt)?(H(Vt),Nr(Vt,Qt)):Rt(Vt,Qt)?(H(Vt),I(Qt,12,Kr(Vt))):St(Vt,Qt)?(H(Vt),Ct==="{"?Er(Vt,Qt)||ht:I(Qt,11,pe(Vt))):(At===8&&A(9,d(),0),Qt.braceNest=0,Qt.inLinked=!1,Pn(Vt,Qt))}}function Pn(Vt,Qt){let At={type:14};if(Qt.braceNest>0)return Er(Vt,Qt)||K(Qt);if(Qt.inLinked)return Nr(Vt,Qt)||K(Qt);const ht=Vt.currentChar();switch(ht){case"{":return Er(Vt,Qt)||K(Qt);case"}":return A(5,d(),0),Vt.next(),I(Qt,3,"}");case"@":return Nr(Vt,Qt)||K(Qt);default:if(Xt(Vt))return At=I(Qt,1,Qe(Vt)),Qt.braceNest=0,Qt.inLinked=!1,At;if(It(Vt))return I(Qt,0,Yt(Vt));if(ht==="%")return Vt.next(),I(Qt,4,"%");break}return At}function Br(){const{currentType:Vt,offset:Qt,startLoc:At,endLoc:ht}=E;return E.lastType=Vt,E.lastOffset=Qt,E.lastStartLoc=At,E.lastEndLoc=ht,E.offset=h(),E.startLoc=d(),s.currentChar()===tf?I(E,14):Pn(s,E)}return{nextToken:Br,currentOffset:h,currentPosition:d,context:w}}const Gq="parser",Bq=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Uq(o,l,u){switch(o){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(l||u,16);return s<=55295||s>=57344?String.fromCodePoint(s):"\uFFFD"}}}function kq(o={}){const l=o.location!==!1,{onError:u}=o;function s(J,nt,pt,it,...N){const _t=J.currentPosition();if(_t.offset+=it,_t.column+=it,u){const Rt=o6(pt,_t),Bt=km(nt,Rt,{domain:Gq,args:N});u(Bt)}}function h(J,nt,pt){const it={type:J,start:nt,end:nt};return l&&(it.loc={start:pt,end:pt}),it}function d(J,nt,pt,it){J.end=nt,it&&(J.type=it),l&&J.loc&&(J.loc.end=pt)}function v(J,nt){const pt=J.context(),it=h(3,pt.offset,pt.startLoc);return it.value=nt,d(it,J.currentOffset(),J.currentPosition()),it}function y(J,nt){const pt=J.context(),{lastOffset:it,lastStartLoc:N}=pt,_t=h(5,it,N);return _t.index=parseInt(nt,10),J.nextToken(),d(_t,J.currentOffset(),J.currentPosition()),_t}function E(J,nt){const pt=J.context(),{lastOffset:it,lastStartLoc:N}=pt,_t=h(4,it,N);return _t.key=nt,J.nextToken(),d(_t,J.currentOffset(),J.currentPosition()),_t}function w(J,nt){const pt=J.context(),{lastOffset:it,lastStartLoc:N}=pt,_t=h(9,it,N);return _t.value=nt.replace(Bq,Uq),J.nextToken(),d(_t,J.currentOffset(),J.currentPosition()),_t}function M(J){const nt=J.nextToken(),pt=J.context(),{lastOffset:it,lastStartLoc:N}=pt,_t=h(8,it,N);return nt.type!==12?(s(J,11,pt.lastStartLoc,0),_t.value="",d(_t,it,N),{nextConsumeToken:nt,node:_t}):(nt.value==null&&s(J,13,pt.lastStartLoc,0,A0(nt)),_t.value=nt.value||"",d(_t,J.currentOffset(),J.currentPosition()),{node:_t})}function A(J,nt){const pt=J.context(),it=h(7,pt.offset,pt.startLoc);return it.value=nt,d(it,J.currentOffset(),J.currentPosition()),it}function I(J){const nt=J.context(),pt=h(6,nt.offset,nt.startLoc);let it=J.nextToken();if(it.type===9){const N=M(J);pt.modifier=N.node,it=N.nextConsumeToken||J.nextToken()}switch(it.type!==10&&s(J,13,nt.lastStartLoc,0,A0(it)),it=J.nextToken(),it.type===2&&(it=J.nextToken()),it.type){case 11:it.value==null&&s(J,13,nt.lastStartLoc,0,A0(it)),pt.key=A(J,it.value||"");break;case 5:it.value==null&&s(J,13,nt.lastStartLoc,0,A0(it)),pt.key=E(J,it.value||"");break;case 6:it.value==null&&s(J,13,nt.lastStartLoc,0,A0(it)),pt.key=y(J,it.value||"");break;case 7:it.value==null&&s(J,13,nt.lastStartLoc,0,A0(it)),pt.key=w(J,it.value||"");break;default:s(J,12,nt.lastStartLoc,0);const N=J.context(),_t=h(7,N.offset,N.startLoc);return _t.value="",d(_t,N.offset,N.startLoc),pt.key=_t,d(pt,N.offset,N.startLoc),{nextConsumeToken:it,node:pt}}return d(pt,J.currentOffset(),J.currentPosition()),{node:pt}}function K(J){const nt=J.context(),pt=nt.currentType===1?J.currentOffset():nt.offset,it=nt.currentType===1?nt.endLoc:nt.startLoc,N=h(2,pt,it);N.items=[];let _t=null;do{const St=_t||J.nextToken();switch(_t=null,St.type){case 0:St.value==null&&s(J,13,nt.lastStartLoc,0,A0(St)),N.items.push(v(J,St.value||""));break;case 6:St.value==null&&s(J,13,nt.lastStartLoc,0,A0(St)),N.items.push(y(J,St.value||""));break;case 5:St.value==null&&s(J,13,nt.lastStartLoc,0,A0(St)),N.items.push(E(J,St.value||""));break;case 7:St.value==null&&s(J,13,nt.lastStartLoc,0,A0(St)),N.items.push(w(J,St.value||""));break;case 8:const Xt=I(J);N.items.push(Xt.node),_t=Xt.nextConsumeToken||null;break}}while(nt.currentType!==14&&nt.currentType!==1);const Rt=nt.currentType===1?nt.lastOffset:J.currentOffset(),Bt=nt.currentType===1?nt.lastEndLoc:J.currentPosition();return d(N,Rt,Bt),N}function z(J,nt,pt,it){const N=J.context();let _t=it.items.length===0;const Rt=h(1,nt,pt);Rt.cases=[],Rt.cases.push(it);do{const Bt=K(J);_t||(_t=Bt.items.length===0),Rt.cases.push(Bt)}while(N.currentType!==14);return _t&&s(J,10,pt,0),d(Rt,J.currentOffset(),J.currentPosition()),Rt}function X(J){const nt=J.context(),{offset:pt,startLoc:it}=nt,N=K(J);return nt.currentType===14?N:z(J,pt,it,N)}function H(J){const nt=jq(J,xf({},o)),pt=nt.context(),it=h(0,pt.offset,pt.startLoc);return l&&it.loc&&(it.loc.source=J),it.body=X(nt),pt.currentType!==14&&s(nt,13,pt.lastStartLoc,0,J[pt.offset]||""),d(it,nt.currentOffset(),nt.currentPosition()),it}return{parse:H}}function A0(o){if(o.type===14)return"EOF";const l=(o.value||"").replace(/\r?\n/gu,"\\n");return l.length>10?l.slice(0,9)+"\u2026":l}function zq(o,l={}){const u={ast:o,helpers:new Set};return{context:()=>u,helper:d=>(u.helpers.add(d),d)}}function jw(o,l){for(let u=0;u<o.length;u++)p8(o[u],l)}function p8(o,l){switch(o.type){case 1:jw(o.cases,l),l.helper("plural");break;case 2:jw(o.items,l);break;case 6:p8(o.key,l),l.helper("linked");break;case 5:l.helper("interpolate"),l.helper("list");break;case 4:l.helper("interpolate"),l.helper("named");break}}function Vq(o,l={}){const u=zq(o);u.helper("normalize"),o.body&&p8(o.body,u);const s=u.context();o.helpers=Array.from(s.helpers)}function Wq(o,l){const{sourceMap:u,filename:s,breakLineCode:h,needIndent:d}=l,v={source:o.loc.source,filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:h,needIndent:d,indentLevel:0},y=()=>v;function E(X,H){v.code+=X}function w(X,H=!0){const J=H?h:"";E(d?J+"  ".repeat(X):J)}function M(X=!0){const H=++v.indentLevel;X&&w(H)}function A(X=!0){const H=--v.indentLevel;X&&w(H)}function I(){w(v.indentLevel)}return{context:y,push:E,indent:M,deindent:A,newline:I,helper:X=>`_${X}`,needIndent:()=>v.needIndent}}function Yq(o,l){const{helper:u}=o;o.push(`${u("linked")}(`),a1(o,l.key),l.modifier&&(o.push(", "),a1(o,l.modifier)),o.push(")")}function Hq(o,l){const{helper:u,needIndent:s}=o;o.push(`${u("normalize")}([`),o.indent(s());const h=l.items.length;for(let d=0;d<h&&(a1(o,l.items[d]),d!==h-1);d++)o.push(", ");o.deindent(s()),o.push("])")}function Xq(o,l){const{helper:u,needIndent:s}=o;if(l.cases.length>1){o.push(`${u("plural")}([`),o.indent(s());const h=l.cases.length;for(let d=0;d<h&&(a1(o,l.cases[d]),d!==h-1);d++)o.push(", ");o.deindent(s()),o.push("])")}}function Kq(o,l){l.body?a1(o,l.body):o.push("null")}function a1(o,l){const{helper:u}=o;switch(l.type){case 0:Kq(o,l);break;case 1:Xq(o,l);break;case 2:Hq(o,l);break;case 6:Yq(o,l);break;case 8:o.push(JSON.stringify(l.value),l);break;case 7:o.push(JSON.stringify(l.value),l);break;case 5:o.push(`${u("interpolate")}(${u("list")}(${l.index}))`,l);break;case 4:o.push(`${u("interpolate")}(${u("named")}(${JSON.stringify(l.key)}))`,l);break;case 9:o.push(JSON.stringify(l.value),l);break;case 3:o.push(JSON.stringify(l.value),l);break}}const $q=(o,l={})=>{const u=Qi(l.mode)?l.mode:"normal",s=Qi(l.filename)?l.filename:"message.intl",h=!!l.sourceMap,d=l.breakLineCode!=null?l.breakLineCode:u==="arrow"?";":`
`,v=l.needIndent?l.needIndent:u!=="arrow",y=o.helpers||[],E=Wq(o,{mode:u,filename:s,sourceMap:h,breakLineCode:d,needIndent:v});E.push(u==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),E.indent(v),y.length>0&&(E.push(`const { ${y.map(A=>`${A}: _${A}`).join(", ")} } = ctx`),E.newline()),E.push("return "),a1(E,o),E.deindent(v),E.push("}");const{code:w,map:M}=E.context();return{ast:o,code:w,map:M?M.toJSON():void 0}};function Zq(o,l={}){const u=xf({},l),h=kq(u).parse(o);return Vq(h,u),$q(h,u)}/*!
  * @intlify/devtools-if v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const TO={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */let s1=null;function qq(o){s1=o}function Jq(){return s1}function OO(o,l,u){s1&&s1.emit(TO.I18nInit,{timestamp:Date.now(),i18n:o,version:l,meta:u})}const AO=Qq(TO.FunctionTranslate);function Qq(o){return l=>s1&&s1.emit(o,l)}const tJ={[0]:"Not found '{key}' key in '{locale}' locale messages.",[1]:"Fall back to translate '{key}' key with '{target}' locale.",[2]:"Cannot format a number value due to not supported Intl.NumberFormat.",[3]:"Fall back to number format '{key}' key with '{target}' locale.",[4]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[5]:"Fall back to datetime format '{key}' key with '{target}' locale."};function eJ(o,...l){return pO(tJ[o],...l)}const MO="9.1.10",zm=-1,rJ="";function nJ(){return{upper:o=>Qi(o)?o.toUpperCase():o,lower:o=>Qi(o)?o.toLowerCase():o,capitalize:o=>Qi(o)?`${o.charAt(0).toLocaleUpperCase()}${o.substr(1)}`:o}}let RO;function iJ(o){RO=o}let CO=null;const oJ=o=>{CO=o},bO=()=>CO;let Gw=0;function aJ(o={}){const l=Qi(o.version)?o.version:MO,u=Qi(o.locale)?o.locale:"en-US",s=uh(o.fallbackLocale)||Oa(o.fallbackLocale)||Qi(o.fallbackLocale)||o.fallbackLocale===!1?o.fallbackLocale:u,h=Oa(o.messages)?o.messages:{[u]:{}},d=Oa(o.datetimeFormats)?o.datetimeFormats:{[u]:{}},v=Oa(o.numberFormats)?o.numberFormats:{[u]:{}},y=xf({},o.modifiers||{},nJ()),E=o.pluralRules||{},w=Su(o.missing)?o.missing:null,M=wu(o.missingWarn)||r6(o.missingWarn)?o.missingWarn:!0,A=wu(o.fallbackWarn)||r6(o.fallbackWarn)?o.fallbackWarn:!0,I=!!o.fallbackFormat,K=!!o.unresolving,z=Su(o.postTranslation)?o.postTranslation:null,X=Oa(o.processor)?o.processor:null,H=wu(o.warnHtmlMessage)?o.warnHtmlMessage:!0,J=!!o.escapeParameter,nt=Su(o.messageCompiler)?o.messageCompiler:RO,pt=Su(o.onWarn)?o.onWarn:mO,it=o,N=D0(it.__datetimeFormatters)?it.__datetimeFormatters:new Map,_t=D0(it.__numberFormatters)?it.__numberFormatters:new Map,Rt=D0(it.__meta)?it.__meta:{};Gw++;const Bt={version:l,cid:Gw,locale:u,fallbackLocale:s,messages:h,datetimeFormats:d,numberFormats:v,modifiers:y,pluralRules:E,missing:w,missingWarn:M,fallbackWarn:A,fallbackFormat:I,unresolving:K,postTranslation:z,processor:X,warnHtmlMessage:H,escapeParameter:J,messageCompiler:nt,onWarn:pt,__datetimeFormatters:N,__numberFormatters:_t,__meta:Rt};return __INTLIFY_PROD_DEVTOOLS__&&OO(Bt,l,Rt),Bt}function sJ(o,l){return o instanceof RegExp?o.test(l):o}function lJ(o,l){return o instanceof RegExp?o.test(l):o}function Vm(o,l,u,s,h){const{missing:d,onWarn:v}=o;if(d!==null){const y=d(o,u,l,h);return Qi(y)?y:l}else return l}function bg(o,l,u){const s=o;s.__localeChainCache||(s.__localeChainCache=new Map);let h=s.__localeChainCache.get(u);if(!h){h=[];let d=[u];for(;uh(d);)d=Bw(h,d,l);const v=uh(l)?l:Oa(l)?l.default?l.default:null:l;d=Qi(v)?[v]:v,uh(d)&&Bw(h,d,!1),s.__localeChainCache.set(u,h)}return h}function Bw(o,l,u){let s=!0;for(let h=0;h<l.length&&wu(s);h++){const d=l[h];Qi(d)&&(s=uJ(o,l[h],u))}return s}function uJ(o,l,u){let s;const h=l.split("-");do{const d=h.join("-");s=cJ(o,d,u),h.splice(-1,1)}while(h.length&&s===!0);return s}function cJ(o,l,u){let s=!1;if(!o.includes(l)&&(s=!0,l)){s=l[l.length-1]!=="!";const h=l.replace(/!/g,"");o.push(h),(uh(u)||Oa(u))&&u[h]&&(s=u[h])}return s}function hJ(o,l,u){const s=o;s.__localeChainCache=new Map,bg(o,u,l)}const fJ=o=>o;let a6=Object.create(null);function dJ(){a6=Object.create(null)}function pJ(o,l={}){{const s=(l.onCacheKey||fJ)(o),h=a6[s];if(h)return h;let d=!1;const v=l.onError||bq;l.onError=w=>{d=!0,v(w)};const{code:y}=Zq(o,l),E=new Function(`return ${y}`)();return d?E:a6[s]=E}}function gd(o){return km(o,null,void 0)}const Uw=()=>"",t0=o=>Su(o);function vJ(o,...l){const{fallbackFormat:u,postTranslation:s,unresolving:h,fallbackLocale:d,messages:v}=o,[y,E]=IO(...l),w=wu(E.missingWarn)?E.missingWarn:o.missingWarn,M=wu(E.fallbackWarn)?E.fallbackWarn:o.fallbackWarn,A=wu(E.escapeParameter)?E.escapeParameter:o.escapeParameter,I=!!E.resolvedMessage,K=Qi(E.default)||wu(E.default)?wu(E.default)?y:E.default:u?y:"",z=u||K!=="",X=Qi(E.locale)?E.locale:o.locale;A&&gJ(E);let[H,J,nt]=I?[y,X,v[X]||{}]:yJ(o,y,X,d,M,w),pt=y;if(!I&&!(Qi(H)||t0(H))&&z&&(H=K,pt=H),!I&&(!(Qi(H)||t0(H))||!Qi(J)))return h?zm:y;let it=!1;const N=()=>{it=!0},_t=t0(H)?H:LO(o,y,J,H,pt,N);if(it)return H;const Rt=EJ(o,J,nt,E),Bt=xO(Rt),St=mJ(o,_t,Bt),Xt=s?s(St):St;if(__INTLIFY_PROD_DEVTOOLS__){const It={timestamp:Date.now(),key:Qi(y)?y:t0(H)?H.key:"",locale:J||(t0(H)?H.locale:""),format:Qi(H)?H:t0(H)?H.source:"",message:Xt};It.meta=xf({},o.__meta,bO()||{}),AO(It)}return Xt}function gJ(o){uh(o.list)?o.list=o.list.map(l=>Qi(l)?n6(l):l):D0(o.named)&&Object.keys(o.named).forEach(l=>{Qi(o.named[l])&&(o.named[l]=n6(o.named[l]))})}function yJ(o,l,u,s,h,d){const{messages:v,onWarn:y}=o,E=bg(o,s,u);let w={},M,A=null;const I="translate";for(let K=0;K<E.length&&(M=E[K],w=v[M]||{},(A=d8(w,l))===null&&(A=w[l]),!(Qi(A)||Su(A)));K++){const z=Vm(o,l,M,d,I);z!==l&&(A=z)}return[A,M,w]}function LO(o,l,u,s,h,d){const{messageCompiler:v,warnHtmlMessage:y}=o;if(t0(s)){const w=s;return w.locale=w.locale||u,w.key=w.key||l,w}const E=v(s,_J(o,u,h,s,y,d));return E.locale=u,E.key=l,E.source=s,E}function mJ(o,l,u){return l(u)}function IO(...o){const[l,u,s]=o,h={};if(!Qi(l)&&!Eu(l)&&!t0(l))throw gd(14);const d=Eu(l)?String(l):(t0(l),l);return Eu(u)?h.plural=u:Qi(u)?h.default=u:Oa(u)&&!Bm(u)?h.named=u:uh(u)&&(h.list=u),Eu(s)?h.plural=s:Qi(s)?h.default=s:Oa(s)&&xf(h,s),[d,h]}function _J(o,l,u,s,h,d){return{warnHtmlMessage:h,onError:v=>{throw d&&d(v),v},onCacheKey:v=>vO(l,u,v)}}function EJ(o,l,u,s){const{modifiers:h,pluralRules:d}=o,y={locale:l,modifiers:h,pluralRules:d,messages:E=>{const w=d8(u,E);if(Qi(w)){let M=!1;const I=LO(o,E,l,w,E,()=>{M=!0});return M?Uw:I}else return t0(w)?w:Uw}};return o.processor&&(y.processor=o.processor),s.list&&(y.list=s.list),s.named&&(y.named=s.named),Eu(s.plural)&&(y.pluralIndex=s.plural),y}function SJ(o,...l){const{datetimeFormats:u,unresolving:s,fallbackLocale:h,onWarn:d}=o,{__datetimeFormatters:v}=o,[y,E,w,M]=PO(...l),A=wu(w.missingWarn)?w.missingWarn:o.missingWarn;wu(w.fallbackWarn)?w.fallbackWarn:o.fallbackWarn;const I=!!w.part,K=Qi(w.locale)?w.locale:o.locale,z=bg(o,h,K);if(!Qi(y)||y==="")return new Intl.DateTimeFormat(K).format(E);let X={},H,J=null;const nt="datetime format";for(let N=0;N<z.length&&(H=z[N],X=u[H]||{},J=X[y],!Oa(J));N++)Vm(o,y,H,A,nt);if(!Oa(J)||!Qi(H))return s?zm:y;let pt=`${H}__${y}`;Bm(M)||(pt=`${pt}__${JSON.stringify(M)}`);let it=v.get(pt);return it||(it=new Intl.DateTimeFormat(H,xf({},J,M)),v.set(pt,it)),I?it.formatToParts(E):it.format(E)}function PO(...o){const[l,u,s,h]=o;let d={},v={},y;if(Qi(l)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(l))throw gd(16);y=new Date(l);try{y.toISOString()}catch{throw gd(16)}}else if(yO(l)){if(isNaN(l.getTime()))throw gd(15);y=l}else if(Eu(l))y=l;else throw gd(14);return Qi(u)?d.key=u:Oa(u)&&(d=u),Qi(s)?d.locale=s:Oa(s)&&(v=s),Oa(h)&&(v=h),[d.key||"",y,d,v]}function wJ(o,l,u){const s=o;for(const h in u){const d=`${l}__${h}`;!s.__datetimeFormatters.has(d)||s.__datetimeFormatters.delete(d)}}function xJ(o,...l){const{numberFormats:u,unresolving:s,fallbackLocale:h,onWarn:d}=o,{__numberFormatters:v}=o,[y,E,w,M]=NO(...l),A=wu(w.missingWarn)?w.missingWarn:o.missingWarn;wu(w.fallbackWarn)?w.fallbackWarn:o.fallbackWarn;const I=!!w.part,K=Qi(w.locale)?w.locale:o.locale,z=bg(o,h,K);if(!Qi(y)||y==="")return new Intl.NumberFormat(K).format(E);let X={},H,J=null;const nt="number format";for(let N=0;N<z.length&&(H=z[N],X=u[H]||{},J=X[y],!Oa(J));N++)Vm(o,y,H,A,nt);if(!Oa(J)||!Qi(H))return s?zm:y;let pt=`${H}__${y}`;Bm(M)||(pt=`${pt}__${JSON.stringify(M)}`);let it=v.get(pt);return it||(it=new Intl.NumberFormat(H,xf({},J,M)),v.set(pt,it)),I?it.formatToParts(E):it.format(E)}function NO(...o){const[l,u,s,h]=o;let d={},v={};if(!Eu(l))throw gd(14);const y=l;return Qi(u)?d.key=u:Oa(u)&&(d=u),Qi(s)?d.locale=s:Oa(s)&&(v=s),Oa(h)&&(v=h),[d.key||"",y,d,v]}function TJ(o,l,u){const s=o;for(const h in u){const d=`${l}__${h}`;!s.__numberFormatters.has(d)||s.__numberFormatters.delete(d)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_O().__INTLIFY_PROD_DEVTOOLS__=!1);var OJ=Object.freeze(Object.defineProperty({__proto__:null,MISSING_RESOLVE_VALUE:rJ,NOT_REOSLVED:zm,VERSION:MO,clearCompileCache:dJ,clearDateTimeFormat:wJ,clearNumberFormat:TJ,compileToFunction:pJ,createCoreContext:aJ,createCoreError:gd,datetime:SJ,getAdditionalMeta:bO,getDevToolsHook:Jq,getLocaleChain:bg,getWarnMessage:eJ,handleMissing:Vm,initI18nDevTools:OO,isMessageFunction:t0,isTranslateFallbackWarn:sJ,isTranslateMissingWarn:lJ,number:xJ,parseDateTimeArgs:PO,parseNumberArgs:NO,parseTranslateArgs:IO,registerMessageCompiler:iJ,setAdditionalMeta:oJ,setDevToolsHook:qq,translate:vJ,translateDevTools:AO,updateFallbackLocale:hJ,createCompileError:km,handleFlatJson:i6,parse:SO,resolveValue:d8,DEFAULT_MESSAGE_DATA_TYPE:wO,createMessageContext:xO},Symbol.toStringTag,{value:"Module"})),AJ=i0(OJ),FO=i0(J$),MJ=i0(gq);/*!
  * vue-i18n v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */Object.defineProperty(ph,"__esModule",{value:!0});var Fo=AJ,Do=FO,br=MJ;const DO="9.1.10";function Al(o,...l){return Fo.createCompileError(o,null,void 0)}const s6=br.makeSymbol("__transrateVNode"),l6=br.makeSymbol("__datetimeParts"),u6=br.makeSymbol("__numberParts");br.makeSymbol("__enableEmitter");br.makeSymbol("__disableEmitter");const jO=br.makeSymbol("__setPluralRules");br.makeSymbol("__intlifyMeta");const GO=br.makeSymbol("__injectWithOption");let kw=0;function zw(o){return(l,u,s,h)=>o(u,s,Do.getCurrentInstance()||void 0,h)}function v8(o,l){const{messages:u,__i18n:s}=l,h=br.isPlainObject(u)?u:br.isArray(s)?{}:{[o]:{}};if(br.isArray(s)&&s.forEach(({locale:d,resource:v})=>{d?(h[d]=h[d]||{},um(v,h[d])):um(v,h)}),l.flatJson)for(const d in h)br.hasOwn(h,d)&&Fo.handleFlatJson(h[d]);return h}const Uy=o=>!br.isObject(o)||br.isArray(o);function um(o,l){if(Uy(o)||Uy(l))throw Al(20);for(const u in o)br.hasOwn(o,u)&&(Uy(o[u])||Uy(l[u])?l[u]=o[u]:um(o[u],l[u]))}function g8(o={}){const{__root:l}=o,u=l===void 0;let s=br.isBoolean(o.inheritLocale)?o.inheritLocale:!0;const h=Do.ref(l&&s?l.locale.value:br.isString(o.locale)?o.locale:"en-US"),d=Do.ref(l&&s?l.fallbackLocale.value:br.isString(o.fallbackLocale)||br.isArray(o.fallbackLocale)||br.isPlainObject(o.fallbackLocale)||o.fallbackLocale===!1?o.fallbackLocale:h.value),v=Do.ref(v8(h.value,o)),y=Do.ref(br.isPlainObject(o.datetimeFormats)?o.datetimeFormats:{[h.value]:{}}),E=Do.ref(br.isPlainObject(o.numberFormats)?o.numberFormats:{[h.value]:{}});let w=l?l.missingWarn:br.isBoolean(o.missingWarn)||br.isRegExp(o.missingWarn)?o.missingWarn:!0,M=l?l.fallbackWarn:br.isBoolean(o.fallbackWarn)||br.isRegExp(o.fallbackWarn)?o.fallbackWarn:!0,A=l?l.fallbackRoot:br.isBoolean(o.fallbackRoot)?o.fallbackRoot:!0,I=!!o.fallbackFormat,K=br.isFunction(o.missing)?o.missing:null,z=br.isFunction(o.missing)?zw(o.missing):null,X=br.isFunction(o.postTranslation)?o.postTranslation:null,H=br.isBoolean(o.warnHtmlMessage)?o.warnHtmlMessage:!0,J=!!o.escapeParameter;const nt=l?l.modifiers:br.isPlainObject(o.modifiers)?o.modifiers:{};let pt=o.pluralRules||l&&l.pluralRules,it;function N(){return Fo.createCoreContext({version:DO,locale:h.value,fallbackLocale:d.value,messages:v.value,datetimeFormats:y.value,numberFormats:E.value,modifiers:nt,pluralRules:pt,missing:z===null?void 0:z,missingWarn:w,fallbackWarn:M,fallbackFormat:I,unresolving:!0,postTranslation:X===null?void 0:X,warnHtmlMessage:H,escapeParameter:J,__datetimeFormatters:br.isPlainObject(it)?it.__datetimeFormatters:void 0,__numberFormatters:br.isPlainObject(it)?it.__numberFormatters:void 0,__v_emitter:br.isPlainObject(it)?it.__v_emitter:void 0,__meta:{framework:"vue"}})}it=N(),Fo.updateFallbackLocale(it,h.value,d.value);function _t(){return[h.value,d.value,v.value,y.value,E.value]}const Rt=Do.computed({get:()=>h.value,set:ue=>{h.value=ue,it.locale=h.value}}),Bt=Do.computed({get:()=>d.value,set:ue=>{d.value=ue,it.fallbackLocale=d.value,Fo.updateFallbackLocale(it,h.value,ue)}}),St=Do.computed(()=>v.value),Xt=Do.computed(()=>y.value),It=Do.computed(()=>E.value);function Dt(){return br.isFunction(X)?X:null}function Jt(ue){X=ue,it.postTranslation=ue}function le(){return K}function Ve(ue){ue!==null&&(z=zw(ue)),K=ue,it.missing=z}function gt(ue,ft,j,W,st,$t){_t();let Ee;if(Ee=ue(it),br.isNumber(Ee)&&Ee===Fo.NOT_REOSLVED){const[Le,Ar]=ft();return l&&A?W(l):st(Le)}else{if($t(Ee))return Ee;throw Al(14)}}function Yt(...ue){return gt(ft=>Fo.translate(ft,...ue),()=>Fo.parseTranslateArgs(...ue),"translate",ft=>ft.t(...ue),ft=>ft,ft=>br.isString(ft))}function oe(...ue){const[ft,j,W]=ue;if(W&&!br.isObject(W))throw Al(15);return Yt(ft,j,br.assign({resolvedMessage:!0},W||{}))}function nr(...ue){return gt(ft=>Fo.datetime(ft,...ue),()=>Fo.parseDateTimeArgs(...ue),"datetime format",ft=>ft.d(...ue),()=>Fo.MISSING_RESOLVE_VALUE,ft=>br.isString(ft))}function ir(...ue){return gt(ft=>Fo.number(ft,...ue),()=>Fo.parseNumberArgs(...ue),"number format",ft=>ft.n(...ue),()=>Fo.MISSING_RESOLVE_VALUE,ft=>br.isString(ft))}function Ke(ue){return ue.map(ft=>br.isString(ft)?Do.createVNode(Do.Text,null,ft,0):ft)}const Pr={normalize:Ke,interpolate:ue=>ue,type:"vnode"};function Kr(...ue){return gt(ft=>{let j;const W=ft;try{W.processor=Pr,j=Fo.translate(W,...ue)}finally{W.processor=null}return j},()=>Fo.parseTranslateArgs(...ue),"translate",ft=>ft[s6](...ue),ft=>[Do.createVNode(Do.Text,null,ft,0)],ft=>br.isArray(ft))}function pe(...ue){return gt(ft=>Fo.number(ft,...ue),()=>Fo.parseNumberArgs(...ue),"number format",ft=>ft[u6](...ue),()=>[],ft=>br.isString(ft)||br.isArray(ft))}function Qe(...ue){return gt(ft=>Fo.datetime(ft,...ue),()=>Fo.parseDateTimeArgs(...ue),"datetime format",ft=>ft[l6](...ue),()=>[],ft=>br.isString(ft)||br.isArray(ft))}function Er(ue){pt=ue,it.pluralRules=pt}function Nr(ue,ft){const j=br.isString(ft)?ft:h.value,W=Vt(j);return Fo.resolveValue(W,ue)!==null}function Pn(ue){let ft=null;const j=Fo.getLocaleChain(it,d.value,h.value);for(let W=0;W<j.length;W++){const st=v.value[j[W]]||{},$t=Fo.resolveValue(st,ue);if($t!=null){ft=$t;break}}return ft}function Br(ue){const ft=Pn(ue);return ft!=null?ft:l?l.tm(ue)||{}:{}}function Vt(ue){return v.value[ue]||{}}function Qt(ue,ft){v.value[ue]=ft,it.messages=v.value}function At(ue,ft){v.value[ue]=v.value[ue]||{},um(ft,v.value[ue]),it.messages=v.value}function ht(ue){return y.value[ue]||{}}function Ct(ue,ft){y.value[ue]=ft,it.datetimeFormats=y.value,Fo.clearDateTimeFormat(it,ue,ft)}function te(ue,ft){y.value[ue]=br.assign(y.value[ue]||{},ft),it.datetimeFormats=y.value,Fo.clearDateTimeFormat(it,ue,ft)}function qt(ue){return E.value[ue]||{}}function fe(ue,ft){E.value[ue]=ft,it.numberFormats=E.value,Fo.clearNumberFormat(it,ue,ft)}function Pe(ue,ft){E.value[ue]=br.assign(E.value[ue]||{},ft),it.numberFormats=E.value,Fo.clearNumberFormat(it,ue,ft)}return kw++,l&&(Do.watch(l.locale,ue=>{s&&(h.value=ue,it.locale=ue,Fo.updateFallbackLocale(it,h.value,d.value))}),Do.watch(l.fallbackLocale,ue=>{s&&(d.value=ue,it.fallbackLocale=ue,Fo.updateFallbackLocale(it,h.value,d.value))})),{id:kw,locale:Rt,fallbackLocale:Bt,get inheritLocale(){return s},set inheritLocale(ue){s=ue,ue&&l&&(h.value=l.locale.value,d.value=l.fallbackLocale.value,Fo.updateFallbackLocale(it,h.value,d.value))},get availableLocales(){return Object.keys(v.value).sort()},messages:St,datetimeFormats:Xt,numberFormats:It,get modifiers(){return nt},get pluralRules(){return pt||{}},get isGlobal(){return u},get missingWarn(){return w},set missingWarn(ue){w=ue,it.missingWarn=w},get fallbackWarn(){return M},set fallbackWarn(ue){M=ue,it.fallbackWarn=M},get fallbackRoot(){return A},set fallbackRoot(ue){A=ue},get fallbackFormat(){return I},set fallbackFormat(ue){I=ue,it.fallbackFormat=I},get warnHtmlMessage(){return H},set warnHtmlMessage(ue){H=ue,it.warnHtmlMessage=ue},get escapeParameter(){return J},set escapeParameter(ue){J=ue,it.escapeParameter=ue},t:Yt,rt:oe,d:nr,n:ir,te:Nr,tm:Br,getLocaleMessage:Vt,setLocaleMessage:Qt,mergeLocaleMessage:At,getDateTimeFormat:ht,setDateTimeFormat:Ct,mergeDateTimeFormat:te,getNumberFormat:qt,setNumberFormat:fe,mergeNumberFormat:Pe,getPostTranslationHandler:Dt,setPostTranslationHandler:Jt,getMissingHandler:le,setMissingHandler:Ve,[s6]:Kr,[u6]:pe,[l6]:Qe,[jO]:Er,[GO]:o.__injectWithOption}}function RJ(o){const l=br.isString(o.locale)?o.locale:"en-US",u=br.isString(o.fallbackLocale)||br.isArray(o.fallbackLocale)||br.isPlainObject(o.fallbackLocale)||o.fallbackLocale===!1?o.fallbackLocale:l,s=br.isFunction(o.missing)?o.missing:void 0,h=br.isBoolean(o.silentTranslationWarn)||br.isRegExp(o.silentTranslationWarn)?!o.silentTranslationWarn:!0,d=br.isBoolean(o.silentFallbackWarn)||br.isRegExp(o.silentFallbackWarn)?!o.silentFallbackWarn:!0,v=br.isBoolean(o.fallbackRoot)?o.fallbackRoot:!0,y=!!o.formatFallbackMessages,E=br.isPlainObject(o.modifiers)?o.modifiers:{},w=o.pluralizationRules,M=br.isFunction(o.postTranslation)?o.postTranslation:void 0,A=br.isString(o.warnHtmlInMessage)?o.warnHtmlInMessage!=="off":!0,I=!!o.escapeParameterHtml,K=br.isBoolean(o.sync)?o.sync:!0;let z=o.messages;if(br.isPlainObject(o.sharedMessages)){const N=o.sharedMessages;z=Object.keys(N).reduce((Rt,Bt)=>{const St=Rt[Bt]||(Rt[Bt]={});return br.assign(St,N[Bt]),Rt},z||{})}const{__i18n:X,__root:H,__injectWithOption:J}=o,nt=o.datetimeFormats,pt=o.numberFormats,it=o.flatJson;return{locale:l,fallbackLocale:u,messages:z,flatJson:it,datetimeFormats:nt,numberFormats:pt,missing:s,missingWarn:h,fallbackWarn:d,fallbackRoot:v,fallbackFormat:y,modifiers:E,pluralRules:w,postTranslation:M,warnHtmlMessage:A,escapeParameter:I,inheritLocale:K,__i18n:X,__root:H,__injectWithOption:J}}function c6(o={}){const l=g8(RJ(o)),u={id:l.id,get locale(){return l.locale.value},set locale(s){l.locale.value=s},get fallbackLocale(){return l.fallbackLocale.value},set fallbackLocale(s){l.fallbackLocale.value=s},get messages(){return l.messages.value},get datetimeFormats(){return l.datetimeFormats.value},get numberFormats(){return l.numberFormats.value},get availableLocales(){return l.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return l.getMissingHandler()},set missing(s){l.setMissingHandler(s)},get silentTranslationWarn(){return br.isBoolean(l.missingWarn)?!l.missingWarn:l.missingWarn},set silentTranslationWarn(s){l.missingWarn=br.isBoolean(s)?!s:s},get silentFallbackWarn(){return br.isBoolean(l.fallbackWarn)?!l.fallbackWarn:l.fallbackWarn},set silentFallbackWarn(s){l.fallbackWarn=br.isBoolean(s)?!s:s},get modifiers(){return l.modifiers},get formatFallbackMessages(){return l.fallbackFormat},set formatFallbackMessages(s){l.fallbackFormat=s},get postTranslation(){return l.getPostTranslationHandler()},set postTranslation(s){l.setPostTranslationHandler(s)},get sync(){return l.inheritLocale},set sync(s){l.inheritLocale=s},get warnHtmlInMessage(){return l.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){l.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return l.escapeParameter},set escapeParameterHtml(s){l.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return l.pluralRules||{}},__composer:l,t(...s){const[h,d,v]=s,y={};let E=null,w=null;if(!br.isString(h))throw Al(15);const M=h;return br.isString(d)?y.locale=d:br.isArray(d)?E=d:br.isPlainObject(d)&&(w=d),br.isArray(v)?E=v:br.isPlainObject(v)&&(w=v),l.t(M,E||w||{},y)},rt(...s){return l.rt(...s)},tc(...s){const[h,d,v]=s,y={plural:1};let E=null,w=null;if(!br.isString(h))throw Al(15);const M=h;return br.isString(d)?y.locale=d:br.isNumber(d)?y.plural=d:br.isArray(d)?E=d:br.isPlainObject(d)&&(w=d),br.isString(v)?y.locale=v:br.isArray(v)?E=v:br.isPlainObject(v)&&(w=v),l.t(M,E||w||{},y)},te(s,h){return l.te(s,h)},tm(s){return l.tm(s)},getLocaleMessage(s){return l.getLocaleMessage(s)},setLocaleMessage(s,h){l.setLocaleMessage(s,h)},mergeLocaleMessage(s,h){l.mergeLocaleMessage(s,h)},d(...s){return l.d(...s)},getDateTimeFormat(s){return l.getDateTimeFormat(s)},setDateTimeFormat(s,h){l.setDateTimeFormat(s,h)},mergeDateTimeFormat(s,h){l.mergeDateTimeFormat(s,h)},n(...s){return l.n(...s)},getNumberFormat(s){return l.getNumberFormat(s)},setNumberFormat(s,h){l.setNumberFormat(s,h)},mergeNumberFormat(s,h){l.mergeNumberFormat(s,h)},getChoiceIndex(s,h){return-1},__onComponentInstanceCreated(s){const{componentInstanceCreatedListener:h}=o;h&&h(s,u)}};return u}const y8={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:o=>o==="parent"||o==="global",default:"parent"},i18n:{type:Object}},h6={name:"i18n-t",props:br.assign({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:o=>br.isNumber(o)||!isNaN(o)}},y8),setup(o,l){const{slots:u,attrs:s}=l,h=o.i18n||Wm({useScope:o.scope,__useComponent:!0}),d=Object.keys(u).filter(v=>v!=="_");return()=>{const v={};o.locale&&(v.locale=o.locale),o.plural!==void 0&&(v.plural=br.isString(o.plural)?+o.plural:o.plural);const y=CJ(l,d),E=h[s6](o.keypath,y,v),w=br.assign({},s);return br.isString(o.tag)||br.isObject(o.tag)?Do.h(o.tag,w,E):Do.h(Do.Fragment,w,E)}}};function CJ({slots:o},l){return l.length===1&&l[0]==="default"?o.default?o.default():[]:l.reduce((u,s)=>{const h=o[s];return h&&(u[s]=h()),u},{})}function BO(o,l,u,s){const{slots:h,attrs:d}=l;return()=>{const v={part:!0};let y={};o.locale&&(v.locale=o.locale),br.isString(o.format)?v.key=o.format:br.isObject(o.format)&&(br.isString(o.format.key)&&(v.key=o.format.key),y=Object.keys(o.format).reduce((A,I)=>u.includes(I)?br.assign({},A,{[I]:o.format[I]}):A,{}));const E=s(o.value,v,y);let w=[v.key];br.isArray(E)?w=E.map((A,I)=>{const K=h[A.type];return K?K({[A.type]:A.value,index:I,parts:E}):[A.value]}):br.isString(E)&&(w=[E]);const M=br.assign({},d);return br.isString(o.tag)||br.isObject(o.tag)?Do.h(o.tag,M,w):Do.h(Do.Fragment,M,w)}}const bJ=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],f6={name:"i18n-n",props:br.assign({value:{type:Number,required:!0},format:{type:[String,Object]}},y8),setup(o,l){const u=o.i18n||Wm({useScope:"parent",__useComponent:!0});return BO(o,l,bJ,(...s)=>u[u6](...s))}},LJ=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],d6={name:"i18n-d",props:br.assign({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},y8),setup(o,l){const u=o.i18n||Wm({useScope:"parent",__useComponent:!0});return BO(o,l,LJ,(...s)=>u[l6](...s))}};function IJ(o,l){const u=o;if(o.mode==="composition")return u.__getInstance(l)||o.global;{const s=u.__getInstance(l);return s!=null?s.__composer:o.global.__composer}}function UO(o){const l=(u,{instance:s,value:h,modifiers:d})=>{if(!s||!s.$)throw Al(22);const v=IJ(o,s.$),y=PJ(h);u.textContent=v.t(...NJ(y))};return{beforeMount:l,beforeUpdate:l}}function PJ(o){if(br.isString(o))return{path:o};if(br.isPlainObject(o)){if(!("path"in o))throw Al(19,"path");return o}else throw Al(20)}function NJ(o){const{path:l,locale:u,args:s,choice:h,plural:d}=o,v={},y=s||{};return br.isString(u)&&(v.locale=u),br.isNumber(h)&&(v.plural=h),br.isNumber(d)&&(v.plural=d),[l,y,v]}function FJ(o,l,...u){const s=br.isPlainObject(u[0])?u[0]:{},h=!!s.useI18nComponentName;(br.isBoolean(s.globalInstall)?s.globalInstall:!0)&&(o.component(h?"i18n":h6.name,h6),o.component(f6.name,f6),o.component(d6.name,d6)),o.directive("t",UO(l))}function DJ(o,l,u){return{beforeCreate(){const s=Do.getCurrentInstance();if(!s)throw Al(22);const h=this.$options;if(h.i18n){const d=h.i18n;h.__i18n&&(d.__i18n=h.__i18n),d.__root=l,this===this.$root?this.$i18n=Vw(o,d):(d.__injectWithOption=!0,this.$i18n=c6(d))}else h.__i18n?this===this.$root?this.$i18n=Vw(o,h):this.$i18n=c6({__i18n:h.__i18n,__injectWithOption:!0,__root:l}):this.$i18n=o;o.__onComponentInstanceCreated(this.$i18n),u.__setInstance(s,this.$i18n),this.$t=(...d)=>this.$i18n.t(...d),this.$rt=(...d)=>this.$i18n.rt(...d),this.$tc=(...d)=>this.$i18n.tc(...d),this.$te=(d,v)=>this.$i18n.te(d,v),this.$d=(...d)=>this.$i18n.d(...d),this.$n=(...d)=>this.$i18n.n(...d),this.$tm=d=>this.$i18n.tm(d)},mounted(){},beforeUnmount(){const s=Do.getCurrentInstance();if(!s)throw Al(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,u.__deleteInstance(s),delete this.$i18n}}}function Vw(o,l){o.locale=l.locale||o.locale,o.fallbackLocale=l.fallbackLocale||o.fallbackLocale,o.missing=l.missing||o.missing,o.silentTranslationWarn=l.silentTranslationWarn||o.silentFallbackWarn,o.silentFallbackWarn=l.silentFallbackWarn||o.silentFallbackWarn,o.formatFallbackMessages=l.formatFallbackMessages||o.formatFallbackMessages,o.postTranslation=l.postTranslation||o.postTranslation,o.warnHtmlInMessage=l.warnHtmlInMessage||o.warnHtmlInMessage,o.escapeParameterHtml=l.escapeParameterHtml||o.escapeParameterHtml,o.sync=l.sync||o.sync,o.__composer[jO](l.pluralizationRules||o.pluralizationRules);const u=v8(o.locale,{messages:l.messages,__i18n:l.__i18n});return Object.keys(u).forEach(s=>o.mergeLocaleMessage(s,u[s])),l.datetimeFormats&&Object.keys(l.datetimeFormats).forEach(s=>o.mergeDateTimeFormat(s,l.datetimeFormats[s])),l.numberFormats&&Object.keys(l.numberFormats).forEach(s=>o.mergeNumberFormat(s,l.numberFormats[s])),o}function jJ(o={}){const l=br.isBoolean(o.legacy)?o.legacy:!0,u=!!o.globalInjection,s=new Map,h=l?c6(o):g8(o),d=br.makeSymbol(""),v={get mode(){return l?"legacy":"composition"},async install(y,...E){y.__VUE_I18N_SYMBOL__=d,y.provide(y.__VUE_I18N_SYMBOL__,v),!l&&u&&zJ(y,v.global),FJ(y,v,...E),l&&y.mixin(DJ(h,h.__composer,v))},get global(){return h},__instances:s,__getInstance(y){return s.get(y)||null},__setInstance(y,E){s.set(y,E)},__deleteInstance(y){s.delete(y)}};return v}function Wm(o={}){const l=Do.getCurrentInstance();if(l==null)throw Al(16);if(!l.appContext.app.__VUE_I18N_SYMBOL__)throw Al(17);const u=Do.inject(l.appContext.app.__VUE_I18N_SYMBOL__);if(!u)throw Al(22);const s=u.mode==="composition"?u.global:u.global.__composer,h=br.isEmptyObject(o)?"__i18n"in l.type?"local":"global":o.useScope?o.useScope:"local";if(h==="global"){let y=br.isObject(o.messages)?o.messages:{};"__i18nGlobal"in l.type&&(y=v8(s.locale.value,{messages:y,__i18n:l.type.__i18nGlobal}));const E=Object.keys(y);if(E.length&&E.forEach(w=>{s.mergeLocaleMessage(w,y[w])}),br.isObject(o.datetimeFormats)){const w=Object.keys(o.datetimeFormats);w.length&&w.forEach(M=>{s.mergeDateTimeFormat(M,o.datetimeFormats[M])})}if(br.isObject(o.numberFormats)){const w=Object.keys(o.numberFormats);w.length&&w.forEach(M=>{s.mergeNumberFormat(M,o.numberFormats[M])})}return s}if(h==="parent"){let y=GJ(u,l,o.__useComponent);return y==null&&(y=s),y}if(u.mode==="legacy")throw Al(18);const d=u;let v=d.__getInstance(l);if(v==null){const y=l.type,E=br.assign({},o);y.__i18n&&(E.__i18n=y.__i18n),s&&(E.__root=s),v=g8(E),BJ(d,l),d.__setInstance(l,v)}return v}function GJ(o,l,u=!1){let s=null;const h=l.root;let d=l.parent;for(;d!=null;){const v=o;if(o.mode==="composition")s=v.__getInstance(d);else{const y=v.__getInstance(d);y!=null&&(s=y.__composer),u&&s&&!s[GO]&&(s=null)}if(s!=null||h===d)break;d=d.parent}return s}function BJ(o,l,u){Do.onMounted(()=>{},l),Do.onUnmounted(()=>{o.__deleteInstance(l)},l)}const UJ=["locale","fallbackLocale","availableLocales"],kJ=["t","rt","d","n","tm"];function zJ(o,l){const u=Object.create(null);UJ.forEach(s=>{const h=Object.getOwnPropertyDescriptor(l,s);if(!h)throw Al(22);const d=Do.isRef(h.value)?{get(){return h.value.value},set(v){h.value.value=v}}:{get(){return h.get&&h.get()}};Object.defineProperty(u,s,d)}),o.config.globalProperties.$i18n=u,kJ.forEach(s=>{const h=Object.getOwnPropertyDescriptor(l,s);if(!h||!h.value)throw Al(22);Object.defineProperty(o.config.globalProperties,`$${s}`,h)})}Fo.registerMessageCompiler(Fo.compileToFunction);ph.DatetimeFormat=d6;ph.NumberFormat=f6;ph.Translation=h6;ph.VERSION=DO;ph.createI18n=jJ;ph.useI18n=Wm;ph.vTDirective=UO;nq.exports=ph;var wo={};/**
    @preserve

    Astronomy library for JavaScript (browser and Node.js).
    https://github.com/cosinekitty/astronomy

    MIT License

    Copyright (c) 2019-2022 Don Cross <cosinekitty@gmail.com>

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
*/(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.HelioDistance=o.HelioVector=o.JupiterMoons=o.JupiterMoonsInfo=o.GeoEmbState=o.GeoMoonState=o.EclipticGeoMoon=o.GeoMoon=o.Ecliptic=o.ObserverGravity=o.VectorObserver=o.ObserverState=o.ObserverVector=o.Equator=o.SunPosition=o.Observer=o.Horizon=o.EclipticCoordinates=o.HorizontalCoordinates=o.MakeRotation=o.RotationMatrix=o.EquatorialCoordinates=o.Spherical=o.StateVector=o.Vector=o.SiderealTime=o.Libration=o.LibrationInfo=o.CalcMoonCount=o.MakeTime=o.AstroTime=o.SetDeltaTFunction=o.DeltaT_JplHorizons=o.DeltaT_EspenakMeeus=o.Body=o.AngleBetween=o.MassProduct=o.CALLISTO_RADIUS_KM=o.GANYMEDE_RADIUS_KM=o.EUROPA_RADIUS_KM=o.IO_RADIUS_KM=o.JUPITER_MEAN_RADIUS_KM=o.JUPITER_POLAR_RADIUS_KM=o.JUPITER_EQUATORIAL_RADIUS_KM=o.RAD2HOUR=o.RAD2DEG=o.HOUR2RAD=o.DEG2RAD=o.KM_PER_AU=o.C_AUDAY=void 0,o.Rotation_EQD_HOR=o.Rotation_EQD_EQJ=o.Rotation_EQJ_EQD=o.Rotation_ECL_EQJ=o.Rotation_EQJ_ECL=o.RotateState=o.RotateVector=o.InverseRefraction=o.Refraction=o.VectorFromHorizon=o.HorizonFromVector=o.SphereFromVector=o.EquatorFromVector=o.VectorFromSphere=o.Pivot=o.IdentityMatrix=o.CombineRotation=o.InverseRotation=o.NextPlanetApsis=o.SearchPlanetApsis=o.NextLunarApsis=o.SearchLunarApsis=o.Apsis=o.ApsisKind=o.SearchPeakMagnitude=o.SearchMaxElongation=o.Elongation=o.ElongationEvent=o.Seasons=o.SeasonInfo=o.SearchHourAngle=o.HourAngleEvent=o.SearchAltitude=o.SearchRiseSet=o.NextMoonQuarter=o.SearchMoonQuarter=o.MoonQuarter=o.SearchMoonPhase=o.MoonPhase=o.SearchRelativeLongitude=o.Illumination=o.IlluminationInfo=o.EclipticLongitude=o.AngleFromSun=o.PairLongitude=o.SearchSunLongitude=o.Search=o.HelioState=o.BaryState=o.GeoVector=void 0,o.LagrangePointFast=o.LagrangePoint=o.RotationAxis=o.AxisInfo=o.NextMoonNode=o.SearchMoonNode=o.NodeEventInfo=o.NodeEventKind=o.NextTransit=o.SearchTransit=o.TransitInfo=o.NextLocalSolarEclipse=o.SearchLocalSolarEclipse=o.LocalSolarEclipseInfo=o.EclipseEvent=o.NextGlobalSolarEclipse=o.SearchGlobalSolarEclipse=o.NextLunarEclipse=o.GlobalSolarEclipseInfo=o.SearchLunarEclipse=o.LunarEclipseInfo=o.EclipseKind=o.Constellation=o.ConstellationInfo=o.Rotation_GAL_EQJ=o.Rotation_EQJ_GAL=o.Rotation_HOR_ECL=o.Rotation_ECL_HOR=o.Rotation_ECL_EQD=o.Rotation_EQD_ECL=o.Rotation_EQJ_HOR=o.Rotation_HOR_EQJ=o.Rotation_HOR_EQD=void 0,o.C_AUDAY=173.1446326846693,o.KM_PER_AU=14959787069098932e-8,o.DEG2RAD=.017453292519943295,o.HOUR2RAD=.26179938779914946,o.RAD2DEG=57.29577951308232,o.RAD2HOUR=3.819718634205488,o.JUPITER_EQUATORIAL_RADIUS_KM=71492,o.JUPITER_POLAR_RADIUS_KM=66854,o.JUPITER_MEAN_RADIUS_KM=69911,o.IO_RADIUS_KM=1821.6,o.EUROPA_RADIUS_KM=1560.8,o.GANYMEDE_RADIUS_KM=2631.2,o.CALLISTO_RADIUS_KM=2410.3;const l=365.24217,u=new Date("2000-01-01T12:00:00Z"),s=2*Math.PI,h=3600*(180/Math.PI),d=484813681109536e-20,v=180*60*60,y=2*v,E=7292115e-11,w=v/Math.PI,M=-.17-5*Math.log10(w),A=29.530588,I=24*3600,K=I*1e3,z=.9972695717592592,X=695700,H=X/o.KM_PER_AU,J=.996647180302104,nt=J*J,pt=6378.1366,it=pt/o.KM_PER_AU,N=pt*J,_t=6371,Bt=_t+88,St=1738.1,Xt=1737.4,It=1736,Dt=St/o.KM_PER_AU,Jt=34/60,le=81.30056,Ve=.0002959122082855911,gt=4912547451450812e-26,Yt=7243452486162703e-25,oe=8887692390113509e-25,nr=9549535105779258e-26,ir=2825345909524226e-22,Ke=8459715185680659e-23,Ge=1292024916781969e-23,Pr=1524358900784276e-23,Kr=218869976542597e-26,pe=oe/le;function Qe(D){switch(D){case ht.Sun:return Ve;case ht.Mercury:return gt;case ht.Venus:return Yt;case ht.Earth:return oe;case ht.Moon:return pe;case ht.EMB:return oe+pe;case ht.Mars:return nr;case ht.Jupiter:return ir;case ht.Saturn:return Ke;case ht.Uranus:return Ge;case ht.Neptune:return Pr;case ht.Pluto:return Kr;default:throw`Do not know mass product for body: ${D}`}}o.MassProduct=Qe;let Er,Nr,Pn;function Br(D){if(D!==!0&&D!==!1)throw console.trace(),`Value is not boolean: ${D}`;return D}function Vt(D){if(!Number.isFinite(D))throw console.trace(),`Value is not a finite number: ${D}`;return D}function Qt(D){return D-Math.floor(D)}function At(D,U){const Q=D.x*D.x+D.y*D.y+D.z*D.z;if(Math.abs(Q)<1e-8)throw"AngleBetween: first vector is too short.";const ut=U.x*U.x+U.y*U.y+U.z*U.z;if(Math.abs(ut)<1e-8)throw"AngleBetween: second vector is too short.";const mt=(D.x*U.x+D.y*U.y+D.z*U.z)/Math.sqrt(Q*ut);return mt<=-1?180:mt>=1?0:o.RAD2DEG*Math.acos(mt)}o.AngleBetween=At;var ht;(function(D){D.Sun="Sun",D.Moon="Moon",D.Mercury="Mercury",D.Venus="Venus",D.Earth="Earth",D.Mars="Mars",D.Jupiter="Jupiter",D.Saturn="Saturn",D.Uranus="Uranus",D.Neptune="Neptune",D.Pluto="Pluto",D.SSB="SSB",D.EMB="EMB"})(ht=o.Body||(o.Body={}));var Ct;(function(D){D[D.From2000=0]="From2000",D[D.Into2000=1]="Into2000"})(Ct||(Ct={}));const te={Mercury:{OrbitalPeriod:87.969},Venus:{OrbitalPeriod:224.701},Earth:{OrbitalPeriod:365.256},Mars:{OrbitalPeriod:686.98},Jupiter:{OrbitalPeriod:4332.589},Saturn:{OrbitalPeriod:10759.22},Uranus:{OrbitalPeriod:30685.4},Neptune:{OrbitalPeriod:60189},Pluto:{OrbitalPeriod:90560}},qt={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function fe(D){var U,Q,ut,mt,Mt,x,T;const R=2e3+(D-14)/l;return R<-500?(U=(R-1820)/100,-20+32*U*U):R<500?(U=R/100,Q=U*U,ut=U*Q,mt=Q*Q,Mt=Q*ut,x=ut*ut,10583.6-1014.41*U+33.78311*Q-5.952053*ut-.1798452*mt+.022174192*Mt+.0090316521*x):R<1600?(U=(R-1e3)/100,Q=U*U,ut=U*Q,mt=Q*Q,Mt=Q*ut,x=ut*ut,1574.2-556.01*U+71.23472*Q+.319781*ut-.8503463*mt-.005050998*Mt+.0083572073*x):R<1700?(U=R-1600,Q=U*U,ut=U*Q,120-.9808*U-.01532*Q+ut/7129):R<1800?(U=R-1700,Q=U*U,ut=U*Q,mt=Q*Q,8.83+.1603*U-.0059285*Q+13336e-8*ut-mt/1174e3):R<1860?(U=R-1800,Q=U*U,ut=U*Q,mt=Q*Q,Mt=Q*ut,x=ut*ut,T=ut*mt,13.72-.332447*U+.0068612*Q+.0041116*ut-37436e-8*mt+121272e-10*Mt-1699e-10*x+875e-12*T):R<1900?(U=R-1860,Q=U*U,ut=U*Q,mt=Q*Q,Mt=Q*ut,7.62+.5737*U-.251754*Q+.01680668*ut-.0004473624*mt+Mt/233174):R<1920?(U=R-1900,Q=U*U,ut=U*Q,mt=Q*Q,-2.79+1.494119*U-.0598939*Q+.0061966*ut-197e-6*mt):R<1941?(U=R-1920,Q=U*U,ut=U*Q,21.2+.84493*U-.0761*Q+.0020936*ut):R<1961?(U=R-1950,Q=U*U,ut=U*Q,29.07+.407*U-Q/233+ut/2547):R<1986?(U=R-1975,Q=U*U,ut=U*Q,45.45+1.067*U-Q/260-ut/718):R<2005?(U=R-2e3,Q=U*U,ut=U*Q,mt=Q*Q,Mt=Q*ut,63.86+.3345*U-.060374*Q+.0017275*ut+651814e-9*mt+2373599e-11*Mt):R<2050?(U=R-2e3,62.92+.32217*U+.005589*U*U):R<2150?(U=(R-1820)/100,-20+32*U*U-.5628*(2150-R)):(U=(R-1820)/100,-20+32*U*U)}o.DeltaT_EspenakMeeus=fe;function Pe(D){return fe(Math.min(D,17*l))}o.DeltaT_JplHorizons=Pe;let Be=fe;function ue(D){Be=D}o.SetDeltaTFunction=ue;function ft(D){return D+Be(D)/86400}class j{constructor(U){if(U instanceof j){this.date=U.date,this.ut=U.ut,this.tt=U.tt;return}const Q=1e3*3600*24;if(U instanceof Date&&Number.isFinite(U.getTime())){this.date=U,this.ut=(U.getTime()-u.getTime())/Q,this.tt=ft(this.ut);return}if(Number.isFinite(U)){this.date=new Date(u.getTime()+U*Q),this.ut=U,this.tt=ft(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(U){let Q=new j(U);for(;;){const ut=U-Q.tt;if(Math.abs(ut)<1e-12)return Q;Q=Q.AddDays(ut)}}toString(){return this.date.toISOString()}AddDays(U){return new j(this.ut+U)}}o.AstroTime=j;function W(D,U,Q){return new j(D.ut+Q*(U.ut-D.ut))}function st(D){return D instanceof j?D:new j(D)}o.MakeTime=st;const $t=[[[0,0,0,0,1],[-172064161,-174666,33386,92052331,9086,15377]],[[0,0,2,-2,2],[-13170906,-1675,-13696,5730336,-3015,-4587]],[[0,0,2,0,2],[-2276413,-234,2796,978459,-485,1374]],[[0,0,0,0,2],[2074554,207,-698,-897492,470,-291]],[[0,1,0,0,0],[1475877,-3633,11817,73871,-184,-1924]],[[0,1,2,-2,2],[-516821,1226,-524,224386,-677,-174]],[[1,0,0,0,0],[711159,73,-872,-6750,0,358]],[[0,0,2,0,1],[-387298,-367,380,200728,18,318]],[[1,0,2,0,2],[-301461,-36,816,129025,-63,367]],[[0,-1,2,-2,2],[215829,-494,111,-95929,299,132]],[[0,0,2,-2,1],[128227,137,181,-68982,-9,39]],[[-1,0,2,0,2],[123457,11,19,-53311,32,-4]],[[-1,0,0,2,0],[156994,10,-168,-1235,0,82]],[[1,0,0,0,1],[63110,63,27,-33228,0,-9]],[[-1,0,0,0,1],[-57976,-63,-189,31429,0,-75]],[[-1,0,2,2,2],[-59641,-11,149,25543,-11,66]],[[1,0,2,0,1],[-51613,-42,129,26366,0,78]],[[-2,0,2,0,1],[45893,50,31,-24236,-10,20]],[[0,0,0,2,0],[63384,11,-150,-1220,0,29]],[[0,0,2,2,2],[-38571,-1,158,16452,-11,68]],[[0,-2,2,-2,2],[32481,0,0,-13870,0,0]],[[-2,0,0,2,0],[-47722,0,-18,477,0,-25]],[[2,0,2,0,2],[-31046,-1,131,13238,-11,59]],[[1,0,2,-2,2],[28593,0,-1,-12338,10,-3]],[[-1,0,2,0,1],[20441,21,10,-10758,0,-3]],[[2,0,0,0,0],[29243,0,-74,-609,0,13]],[[0,0,2,0,0],[25887,0,-66,-550,0,11]],[[0,1,0,0,1],[-14053,-25,79,8551,-2,-45]],[[-1,0,0,2,1],[15164,10,11,-8001,0,-1]],[[0,2,2,-2,2],[-15794,72,-16,6850,-42,-5]],[[0,0,-2,2,0],[21783,0,13,-167,0,13]],[[1,0,0,-2,1],[-12873,-10,-37,6953,0,-14]],[[0,-1,0,0,1],[-12654,11,63,6415,0,26]],[[-1,0,2,2,1],[-10204,0,25,5222,0,15]],[[0,2,0,0,0],[16707,-85,-10,168,-1,10]],[[1,0,2,2,2],[-7691,0,44,3268,0,19]],[[-2,0,2,0,0],[-11024,0,-14,104,0,2]],[[0,1,2,0,2],[7566,-21,-11,-3250,0,-5]],[[0,0,2,2,1],[-6637,-11,25,3353,0,14]],[[0,-1,2,0,2],[-7141,21,8,3070,0,4]],[[0,0,0,2,1],[-6302,-11,2,3272,0,4]],[[1,0,2,-2,1],[5800,10,2,-3045,0,-1]],[[2,0,2,-2,2],[6443,0,-7,-2768,0,-4]],[[-2,0,0,2,1],[-5774,-11,-15,3041,0,-5]],[[2,0,2,0,1],[-5350,0,21,2695,0,12]],[[0,-1,2,-2,1],[-4752,-11,-3,2719,0,-3]],[[0,0,0,-2,1],[-4940,-11,-21,2720,0,-9]],[[-1,-1,0,2,0],[7350,0,-8,-51,0,4]],[[2,0,0,-2,1],[4065,0,6,-2206,0,1]],[[1,0,0,2,0],[6579,0,-24,-199,0,2]],[[0,1,2,-2,1],[3579,0,5,-1900,0,1]],[[1,-1,0,0,0],[4725,0,-6,-41,0,3]],[[-2,0,2,0,2],[-3075,0,-2,1313,0,-1]],[[3,0,2,0,2],[-2904,0,15,1233,0,7]],[[0,-1,0,2,0],[4348,0,-10,-81,0,2]],[[1,-1,2,0,2],[-2878,0,8,1232,0,4]],[[0,0,0,1,0],[-4230,0,5,-20,0,-2]],[[-1,-1,2,2,2],[-2819,0,7,1207,0,3]],[[-1,0,2,0,0],[-4056,0,5,40,0,-2]],[[0,-1,2,2,2],[-2647,0,11,1129,0,5]],[[-2,0,0,0,1],[-2294,0,-10,1266,0,-4]],[[1,1,2,0,2],[2481,0,-7,-1062,0,-3]],[[2,0,0,0,1],[2179,0,-2,-1129,0,-2]],[[-1,1,0,1,0],[3276,0,1,-9,0,0]],[[1,1,0,0,0],[-3389,0,5,35,0,-2]],[[1,0,2,0,0],[3339,0,-13,-107,0,1]],[[-1,0,2,-2,1],[-1987,0,-6,1073,0,-2]],[[1,0,0,0,2],[-1981,0,0,854,0,0]],[[-1,0,0,1,0],[4026,0,-353,-553,0,-139]],[[0,0,2,1,2],[1660,0,-5,-710,0,-2]],[[-1,0,2,4,2],[-1521,0,9,647,0,4]],[[-1,1,0,1,1],[1314,0,0,-700,0,0]],[[0,-2,2,-2,1],[-1283,0,0,672,0,0]],[[1,0,2,2,1],[-1331,0,8,663,0,4]],[[-2,0,2,2,2],[1383,0,-2,-594,0,-2]],[[-1,0,0,0,2],[1405,0,4,-610,0,2]],[[1,1,2,-2,2],[1290,0,0,-556,0,0]]];function Ee(D){var U,Q,ut,mt,Mt,x,T,R,Y,rt,et,dt,Ot,Et;function ie(_e){return _e%y*d}for(Q=D.tt/36525,ut=ie(485868.249036+Q*17179159232178e-4),mt=ie(128710479305e-5+Q*1295965810481e-4),Mt=ie(335779.526232+Q*17395272628478e-4),x=ie(107226070369e-5+Q*1602961601209e-3),T=ie(450160.398036-Q*69628905431e-4),Y=0,rt=0,U=76;U>=0;--U)Ot=$t[U][0],Et=$t[U][1],R=(Ot[0]*ut+Ot[1]*mt+Ot[2]*Mt+Ot[3]*x+Ot[4]*T)%s,et=Math.sin(R),dt=Math.cos(R),Y+=(Et[0]+Et[1]*Q)*et+Et[2]*dt,rt+=(Et[3]+Et[4]*Q)*dt+Et[5]*et;return{dpsi:-135e-6+Y*1e-7,deps:388e-6+rt*1e-7}}function Le(D){var U=D.tt/36525,Q=((((-434e-10*U-576e-9)*U+.0020034)*U-1831e-7)*U-46.836769)*U+84381.406;return Q/3600}var Ar;function Gr(D){if(!Ar||Math.abs(Ar.tt-D.tt)>1e-6){const U=Ee(D),Q=Le(D),ut=Q+U.deps/3600;Ar={tt:D.tt,dpsi:U.dpsi,deps:U.deps,ee:U.dpsi*Math.cos(Q*o.DEG2RAD)/15,mobl:Q,tobl:ut}}return Ar}function zr(D,U){var Q=Le(D)*o.DEG2RAD,ut=Math.cos(Q),mt=Math.sin(Q);return[U[0],U[1]*ut-U[2]*mt,U[1]*mt+U[2]*ut]}o.CalcMoonCount=0;function sn(D){++o.CalcMoonCount;const U=D.tt/36525;function Q(Xe,xr){const Wr=[];let We;for(We=0;We<=xr-Xe;++We)Wr.push(0);return{min:Xe,array:Wr}}function ut(Xe,xr,Wr,We){const bn=[];for(let ei=0;ei<=xr-Xe;++ei)bn.push(Q(Wr,We));return{min:Xe,array:bn}}function mt(Xe,xr,Wr){const We=Xe.array[xr-Xe.min];return We.array[Wr-We.min]}function Mt(Xe,xr,Wr,We){const bn=Xe.array[xr-Xe.min];bn.array[Wr-bn.min]=We}let x,T,R,Y,rt,et,dt,Ot,Et,ie,_e,ce,De,$e,Je,pr,Hr,on,qr,Jr,or,vn,Qn,Ni=ut(-6,6,1,4),xi=ut(-6,6,1,4);function Yi(Xe,xr){return mt(Ni,Xe,xr)}function qi(Xe,xr){return mt(xi,Xe,xr)}function ro(Xe,xr,Wr){return Mt(Ni,Xe,xr,Wr)}function so(Xe,xr,Wr){return Mt(xi,Xe,xr,Wr)}function Sa(Xe,xr,Wr,We,bn){bn(Xe*Wr-xr*We,xr*Wr+Xe*We)}function Ci(Xe){return Math.sin(s*Xe)}dt=U*U,Et=0,Qn=0,_e=0,ce=3422.7;var ra=Ci(.19833+.05611*U),La=Ci(.27869+.04508*U),Ia=Ci(.16827-.36903*U),Po=Ci(.34734-5.37261*U),Za=Ci(.10498-5.37899*U),eo=Ci(.42681-.41855*U),k=Ci(.14943-5.37511*U);for(on=.84*ra+.31*La+14.27*Ia+7.26*Po+.28*Za+.24*eo,qr=2.94*ra+.31*La+14.27*Ia+9.34*Po+1.12*Za+.83*eo,Jr=-6.4*ra-1.89*eo,or=.21*ra+.31*La+14.27*Ia-88.7*Po-15.3*Za+.24*eo-1.86*k,vn=on-Jr,Ot=-3332e-9*Ci(.59734-5.37261*U)-539e-9*Ci(.35498-5.37899*U)-64e-9*Ci(.39943-5.37511*U),De=s*Qt(.60643382+1336.85522467*U-313e-8*dt)+on/h,$e=s*Qt(.37489701+1325.55240982*U+2565e-8*dt)+qr/h,Je=s*Qt(.99312619+99.99735956*U-44e-8*dt)+Jr/h,pr=s*Qt(.25909118+1342.2278298*U-892e-8*dt)+or/h,Hr=s*Qt(.82736186+1236.85308708*U-397e-8*dt)+vn/h,rt=1;rt<=4;++rt){switch(rt){case 1:R=$e,T=4,Y=1.000002208;break;case 2:R=Je,T=3,Y=.997504612-.002495388*U;break;case 3:R=pr,T=4,Y=1.000002708+139.978*Ot;break;case 4:R=Hr,T=6,Y=1;break;default:throw`Internal error: I = ${rt}`}for(ro(0,rt,1),ro(1,rt,Math.cos(R)*Y),so(0,rt,0),so(1,rt,Math.sin(R)*Y),et=2;et<=T;++et)Sa(Yi(et-1,rt),qi(et-1,rt),Yi(1,rt),qi(1,rt),(Xe,xr)=>(ro(et,rt,Xe),so(et,rt,xr)));for(et=1;et<=T;++et)ro(-et,rt,Yi(et,rt)),so(-et,rt,-qi(et,rt))}function xt(Xe,xr,Wr,We){for(var bn={x:1,y:0},ei=[0,Xe,xr,Wr,We],dn=1;dn<=4;++dn)ei[dn]!==0&&Sa(bn.x,bn.y,Yi(ei[dn],dn),qi(ei[dn],dn),(vi,li)=>(bn.x=vi,bn.y=li));return bn}function Pt(Xe,xr,Wr,We,bn,ei,dn,vi){var li=xt(bn,ei,dn,vi);Et+=Xe*li.y,Qn+=xr*li.y,_e+=Wr*li.x,ce+=We*li.x}Pt(13.902,14.06,-.001,.2607,0,0,0,4),Pt(.403,-4.01,.394,.0023,0,0,0,3),Pt(2369.912,2373.36,.601,28.2333,0,0,0,2),Pt(-125.154,-112.79,-.725,-.9781,0,0,0,1),Pt(1.979,6.98,-.445,.0433,1,0,0,4),Pt(191.953,192.72,.029,3.0861,1,0,0,2),Pt(-8.466,-13.51,.455,-.1093,1,0,0,1),Pt(22639.5,22609.07,.079,186.5398,1,0,0,0),Pt(18.609,3.59,-.094,.0118,1,0,0,-1),Pt(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),Pt(3.215,5.44,.192,-.0386,1,0,0,-3),Pt(-38.428,-38.64,.001,.6008,1,0,0,-4),Pt(-.393,-1.43,-.092,.0086,1,0,0,-6),Pt(-.289,-1.59,.123,-.0053,0,1,0,4),Pt(-24.42,-25.1,.04,-.3,0,1,0,2),Pt(18.023,17.93,.007,.1494,0,1,0,1),Pt(-668.146,-126.98,-1.302,-.3997,0,1,0,0),Pt(.56,.32,-.001,-.0037,0,1,0,-1),Pt(-165.145,-165.06,.054,1.9178,0,1,0,-2),Pt(-1.877,-6.46,-.416,.0339,0,1,0,-4),Pt(.213,1.02,-.074,.0054,2,0,0,4),Pt(14.387,14.78,-.017,.2833,2,0,0,2),Pt(-.586,-1.2,.054,-.01,2,0,0,1),Pt(769.016,767.96,.107,10.1657,2,0,0,0),Pt(1.75,2.01,-.018,.0155,2,0,0,-1),Pt(-211.656,-152.53,5.679,-.3039,2,0,0,-2),Pt(1.225,.91,-.03,-.0088,2,0,0,-3),Pt(-30.773,-34.07,-.308,.3722,2,0,0,-4),Pt(-.57,-1.4,-.074,.0109,2,0,0,-6),Pt(-2.921,-11.75,.787,-.0484,1,1,0,2),Pt(1.267,1.52,-.022,.0164,1,1,0,1),Pt(-109.673,-115.18,.461,-.949,1,1,0,0),Pt(-205.962,-182.36,2.056,1.4437,1,1,0,-2),Pt(.233,.36,.012,-.0025,1,1,0,-3),Pt(-4.391,-9.66,-.471,.0673,1,1,0,-4),Pt(.283,1.53,-.111,.006,1,-1,0,4),Pt(14.577,31.7,-1.54,.2302,1,-1,0,2),Pt(147.687,138.76,.679,1.1528,1,-1,0,0),Pt(-1.089,.55,.021,0,1,-1,0,-1),Pt(28.475,23.59,-.443,-.2257,1,-1,0,-2),Pt(-.276,-.38,-.006,-.0036,1,-1,0,-3),Pt(.636,2.27,.146,-.0102,1,-1,0,-4),Pt(-.189,-1.68,.131,-.0028,0,2,0,2),Pt(-7.486,-.66,-.037,-.0086,0,2,0,0),Pt(-8.096,-16.35,-.74,.0918,0,2,0,-2),Pt(-5.741,-.04,0,-9e-4,0,0,2,2),Pt(.255,0,0,0,0,0,2,1),Pt(-411.608,-.2,0,-.0124,0,0,2,0),Pt(.584,.84,0,.0071,0,0,2,-1),Pt(-55.173,-52.14,0,-.1052,0,0,2,-2),Pt(.254,.25,0,-.0017,0,0,2,-3),Pt(.025,-1.67,0,.0031,0,0,2,-4),Pt(1.06,2.96,-.166,.0243,3,0,0,2),Pt(36.124,50.64,-1.3,.6215,3,0,0,0),Pt(-13.193,-16.4,.258,-.1187,3,0,0,-2),Pt(-1.187,-.74,.042,.0074,3,0,0,-4),Pt(-.293,-.31,-.002,.0046,3,0,0,-6),Pt(-.29,-1.45,.116,-.0051,2,1,0,2),Pt(-7.649,-10.56,.259,-.1038,2,1,0,0),Pt(-8.627,-7.59,.078,-.0192,2,1,0,-2),Pt(-2.74,-2.54,.022,.0324,2,1,0,-4),Pt(1.181,3.32,-.212,.0213,2,-1,0,2),Pt(9.703,11.67,-.151,.1268,2,-1,0,0),Pt(-.352,-.37,.001,-.0028,2,-1,0,-1),Pt(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),Pt(.36,.2,-.012,-.0043,2,-1,0,-4),Pt(-1.167,-1.25,.008,-.0106,1,2,0,0),Pt(-7.412,-6.12,.117,.0484,1,2,0,-2),Pt(-.311,-.65,-.032,.0044,1,2,0,-4),Pt(.757,1.82,-.105,.0112,1,-2,0,2),Pt(2.58,2.32,.027,.0196,1,-2,0,0),Pt(2.533,2.4,-.014,-.0212,1,-2,0,-2),Pt(-.344,-.57,-.025,.0036,0,3,0,-2),Pt(-.992,-.02,0,0,1,0,2,2),Pt(-45.099,-.02,0,-.001,1,0,2,0),Pt(-.179,-9.52,0,-.0833,1,0,2,-2),Pt(-.301,-.33,0,.0014,1,0,2,-4),Pt(-6.382,-3.37,0,-.0481,1,0,-2,2),Pt(39.528,85.13,0,-.7136,1,0,-2,0),Pt(9.366,.71,0,-.0112,1,0,-2,-2),Pt(.202,.02,0,0,1,0,-2,-4),Pt(.415,.1,0,.0013,0,1,2,0),Pt(-2.152,-2.26,0,-.0066,0,1,2,-2),Pt(-1.44,-1.3,0,.0014,0,1,-2,2),Pt(.384,-.04,0,0,0,1,-2,-2),Pt(1.938,3.6,-.145,.0401,4,0,0,0),Pt(-.952,-1.58,.052,-.013,4,0,0,-2),Pt(-.551,-.94,.032,-.0097,3,1,0,0),Pt(-.482,-.57,.005,-.0045,3,1,0,-2),Pt(.681,.96,-.026,.0115,3,-1,0,0),Pt(-.297,-.27,.002,-9e-4,2,2,0,-2),Pt(.254,.21,-.003,0,2,-2,0,-2),Pt(-.25,-.22,.004,.0014,1,3,0,-2),Pt(-3.996,0,0,4e-4,2,0,2,0),Pt(.557,-.75,0,-.009,2,0,2,-2),Pt(-.459,-.38,0,-.0053,2,0,-2,2),Pt(-1.298,.74,0,4e-4,2,0,-2,0),Pt(.538,1.14,0,-.0141,2,0,-2,-2),Pt(.263,.02,0,0,1,1,2,0),Pt(.426,.07,0,-6e-4,1,1,-2,-2),Pt(-.304,.03,0,3e-4,1,-1,2,0),Pt(-.372,-.19,0,-.0027,1,-1,-2,2),Pt(.418,0,0,0,0,0,4,0),Pt(-.33,-.04,0,0,3,0,2,0);function xe(Xe,xr,Wr,We,bn){return Xe*xt(xr,Wr,We,bn).y}ie=0,ie+=xe(-526.069,0,0,1,-2),ie+=xe(-3.352,0,0,1,-4),ie+=xe(44.297,1,0,1,-2),ie+=xe(-6,1,0,1,-4),ie+=xe(20.599,-1,0,1,0),ie+=xe(-30.598,-1,0,1,-2),ie+=xe(-24.649,-2,0,1,0),ie+=xe(-2,-2,0,1,-2),ie+=xe(-22.571,0,1,1,-2),ie+=xe(10.985,0,-1,1,-2),Et+=.82*Ci(.7736-62.5512*U)+.31*Ci(.0466-125.1025*U)+.35*Ci(.5785-25.1042*U)+.66*Ci(.4591+1335.8075*U)+.64*Ci(.313-91.568*U)+1.14*Ci(.148+1331.2898*U)+.21*Ci(.5918+1056.5859*U)+.44*Ci(.5784+1322.8595*U)+.24*Ci(.2275-5.7374*U)+.28*Ci(.2965+2.6929*U)+.33*Ci(.3132+6.3368*U),x=pr+Qn/h;let He=(1.000002708+139.978*Ot)*(18518.511+1.189+_e)*Math.sin(x)-6.24*Math.sin(3*x)+ie;return{geo_eclip_lon:s*Qt((De+Et/h)/s),geo_eclip_lat:Math.PI/(180*3600)*He,distance_au:h*it/(.999953253*ce)}}class Nn{constructor(U,Q,ut,mt,Mt,x){this.elat=U,this.elon=Q,this.mlat=ut,this.mlon=mt,this.dist_km=Mt,this.diam_deg=x}}o.LibrationInfo=Nn;function ci(D){const U=st(D),Q=U.tt/36525,ut=Q*Q,mt=ut*Q,Mt=ut*ut,x=sn(U),T=x.geo_eclip_lon,R=x.geo_eclip_lat,Y=x.distance_au*o.KM_PER_AU,rt=o.DEG2RAD*1.543,et=o.DEG2RAD*re(93.272095+483202.0175233*Q-.0036539*ut-mt/3526e3+Mt/86331e4),dt=o.DEG2RAD*re(125.0445479-1934.1362891*Q+.0020754*ut+mt/467441-Mt/60616e3),Ot=o.DEG2RAD*re(357.5291092+35999.0502909*Q-1536e-7*ut+mt/2449e4),Et=o.DEG2RAD*re(134.9633964+477198.8675055*Q+.0087414*ut+mt/69699-Mt/14712e3),ie=o.DEG2RAD*re(297.8501921+445267.1114034*Q-.0018819*ut+mt/545868-Mt/113065e3),_e=1-.002516*Q-74e-7*ut,ce=T-dt,De=Math.atan2(Math.sin(ce)*Math.cos(R)*Math.cos(rt)-Math.sin(R)*Math.sin(rt),Math.cos(ce)*Math.cos(R)),$e=ee(o.RAD2DEG*(De-et)),Je=Math.asin(-Math.sin(ce)*Math.cos(R)*Math.sin(rt)-Math.sin(R)*Math.cos(rt)),pr=o.DEG2RAD*(119.75+131.849*Q),Hr=o.DEG2RAD*(72.56+20.186*Q),on=-.02752*Math.cos(Et)+-.02245*Math.sin(et)+.00684*Math.cos(Et-2*et)+-.00293*Math.cos(2*et)+-85e-5*Math.cos(2*et-2*ie)+-54e-5*Math.cos(Et-2*ie)+-2e-4*Math.sin(Et+et)+-2e-4*Math.cos(Et+2*et)+-2e-4*Math.cos(Et-et)+14e-5*Math.cos(Et+2*et-2*ie),qr=-.02816*Math.sin(Et)+.02244*Math.cos(et)+-.00682*Math.sin(Et-2*et)+-.00279*Math.sin(2*et)+-83e-5*Math.sin(2*et-2*ie)+69e-5*Math.sin(Et-2*ie)+4e-4*Math.cos(Et+et)+-25e-5*Math.sin(2*Et)+-23e-5*Math.sin(Et+2*et)+2e-4*Math.cos(Et-et)+19e-5*Math.sin(Et-et)+13e-5*Math.sin(Et+2*et-2*ie)+-1e-4*Math.cos(Et-3*et),or=-(.0252*_e*Math.sin(Ot)+.00473*Math.sin(2*Et-2*et)+-.00467*Math.sin(Et)+.00396*Math.sin(pr)+.00276*Math.sin(2*Et-2*ie)+.00196*Math.sin(dt)+-.00183*Math.cos(Et-et)+.00115*Math.sin(Et-2*ie)+-96e-5*Math.sin(Et-ie)+46e-5*Math.sin(2*et-2*ie)+-39e-5*Math.sin(Et-et)+-32e-5*Math.sin(Et-Ot-ie)+27e-5*Math.sin(2*Et-Ot-2*ie)+23e-5*Math.sin(Hr)+-14e-5*Math.sin(2*ie)+14e-5*Math.cos(2*Et-2*et)+-12e-5*Math.sin(Et-2*et)+-12e-5*Math.sin(2*Et)+11e-5*Math.sin(2*Et-2*Ot-2*ie))+(on*Math.cos(De)+qr*Math.sin(De))*Math.tan(Je),vn=qr*Math.cos(De)-on*Math.sin(De),Qn=2*o.RAD2DEG*Math.atan(Xt/Math.sqrt(Y*Y-Xt*Xt));return new Nn(o.RAD2DEG*Je+vn,$e+or,o.RAD2DEG*R,o.RAD2DEG*T,Y,Qn)}o.Libration=ci;function ki(D,U){return[D.rot[0][0]*U[0]+D.rot[1][0]*U[1]+D.rot[2][0]*U[2],D.rot[0][1]*U[0]+D.rot[1][1]*U[1]+D.rot[2][1]*U[2],D.rot[0][2]*U[0]+D.rot[1][2]*U[1]+D.rot[2][2]*U[2]]}function Fn(D,U,Q){const ut=Mi(U,Q);return ki(ut,D)}function qn(D,U,Q){const ut=Mi(U,Q);return Ns(ut,D)}function Mi(D,U){const Q=D.tt/36525;let ut=84381.406,mt=((((-951e-10*Q+132851e-9)*Q-.00114045)*Q-1.0790069)*Q+5038.481507)*Q,Mt=((((3337e-10*Q-467e-9)*Q-.00772503)*Q+.0512623)*Q-.025754)*Q+ut,x=((((-56e-9*Q+170663e-9)*Q-.00121197)*Q-2.3814292)*Q+10.556403)*Q;ut*=d,mt*=d,Mt*=d,x*=d;const T=Math.sin(ut),R=Math.cos(ut),Y=Math.sin(-mt),rt=Math.cos(-mt),et=Math.sin(-Mt),dt=Math.cos(-Mt),Ot=Math.sin(x),Et=Math.cos(x),ie=Et*rt-Y*Ot*dt,_e=Et*Y*R+Ot*dt*rt*R-T*Ot*et,ce=Et*Y*T+Ot*dt*rt*T+R*Ot*et,De=-Ot*rt-Y*Et*dt,$e=-Ot*Y*R+Et*dt*rt*R-T*Et*et,Je=-Ot*Y*T+Et*dt*rt*T+R*Et*et,pr=Y*et,Hr=-et*rt*R-T*dt,on=-et*rt*T+dt*R;if(U===Ct.Into2000)return new Un([[ie,_e,ce],[De,$e,Je],[pr,Hr,on]]);if(U===Ct.From2000)return new Un([[ie,De,pr],[_e,$e,Hr],[ce,Je,on]]);throw"Invalid precess direction"}function gn(D){const U=.779057273264+.00273781191135448*D.ut,Q=D.ut%1;let ut=360*((U+Q)%1);return ut<0&&(ut+=360),ut}let ao;function kn(D){if(!ao||ao.tt!==D.tt){const U=D.tt/36525;let Q=15*Gr(D).ee;const ut=gn(D);let Mt=((Q+.014506+((((-368e-10*U-29956e-9)*U-44e-8)*U+1.3915817)*U+4612.156534)*U)/3600+ut)%360/15;Mt<0&&(Mt+=24),ao={tt:D.tt,st:Mt}}return ao.st}function ya(D){const U=st(D);return kn(U)}o.SiderealTime=ya;function Lo(D,U){const Q=D[0]*o.KM_PER_AU,ut=D[1]*o.KM_PER_AU,mt=D[2]*o.KM_PER_AU,Mt=Math.hypot(Q,ut);let x,T,R;if(Mt<1e-6)x=0,T=mt>0?90:-90,R=Math.abs(mt)-N;else{const Y=Math.atan2(ut,Q);for(x=o.RAD2DEG*Y-15*U;x<=-180;)x+=360;for(;x>180;)x-=360;let rt=Math.atan2(mt,Mt),et,dt,Ot;for(;;){et=Math.cos(rt),dt=Math.sin(rt);const ie=(nt-1)*pt,_e=et*et,ce=dt*dt,De=_e+nt*ce;Ot=Math.sqrt(De);const $e=ie*dt*et/Ot-mt*et+Mt*dt;if(Math.abs($e)<1e-12)break;const Je=ie*((_e-ce)/Ot-ce*_e*(nt-1)/(ie*De))+mt*dt+Mt*et;rt-=$e/Je}T=o.RAD2DEG*rt;const Et=pt/Ot;Math.abs(dt)>Math.abs(et)?R=mt/dt-nt*Et:R=Mt/et-Et}return new al(T,x,1e3*R)}function zi(D,U){const Q=D.latitude*o.DEG2RAD,ut=Math.sin(Q),mt=Math.cos(Q),Mt=1/Math.hypot(mt,J*ut),x=nt*Mt,T=D.height/1e3,R=pt*Mt+T,Y=pt*x+T,rt=(15*U+D.longitude)*o.DEG2RAD,et=Math.sin(rt),dt=Math.cos(rt);return{pos:[R*mt*dt/o.KM_PER_AU,R*mt*et/o.KM_PER_AU,Y*ut/o.KM_PER_AU],vel:[-E*R*mt*et*86400/o.KM_PER_AU,E*R*mt*dt*86400/o.KM_PER_AU,0]}}function an(D,U,Q){const ut=rn(U,Q);return ki(ut,D)}function dr(D,U,Q){const ut=rn(U,Q);return Ns(ut,D)}function rn(D,U){const Q=Gr(D),ut=Q.mobl*o.DEG2RAD,mt=Q.tobl*o.DEG2RAD,Mt=Q.dpsi*d,x=Math.cos(ut),T=Math.sin(ut),R=Math.cos(mt),Y=Math.sin(mt),rt=Math.cos(Mt),et=Math.sin(Mt),dt=rt,Ot=-et*x,Et=-et*T,ie=et*R,_e=rt*x*R+T*Y,ce=rt*T*R-x*Y,De=et*Y,$e=rt*x*Y-T*R,Je=rt*T*Y+x*R;if(U===Ct.From2000)return new Un([[dt,ie,De],[Ot,_e,$e],[Et,ce,Je]]);if(U===Ct.Into2000)return new Un([[dt,Ot,Et],[ie,_e,ce],[De,$e,Je]]);throw"Invalid precess direction"}function Mn(D,U,Q){return Q===Ct.Into2000?Fn(an(D,U,Q),U,Q):an(Fn(D,U,Q),U,Q)}function ri(D,U,Q){return Q===Ct.Into2000?qn(dr(D,U,Q),U,Q):dr(qn(D,U,Q),U,Q)}function _i(D,U){const Q=kn(D),ut=zi(U,Q).pos;return Mn(ut,D,Ct.Into2000)}class wn{constructor(U,Q,ut,mt){this.x=U,this.y=Q,this.z=ut,this.t=mt}Length(){return Math.hypot(this.x,this.y,this.z)}}o.Vector=wn;class nn{constructor(U,Q,ut,mt,Mt,x,T){this.x=U,this.y=Q,this.z=ut,this.vx=mt,this.vy=Mt,this.vz=x,this.t=T}}o.StateVector=nn;class Ei{constructor(U,Q,ut){this.lat=Vt(U),this.lon=Vt(Q),this.dist=Vt(ut)}}o.Spherical=Ei;class ho{constructor(U,Q,ut,mt){this.ra=Vt(U),this.dec=Vt(Q),this.dist=Vt(ut),this.vec=mt}}o.EquatorialCoordinates=ho;function zo(D){if(!(D instanceof Array)||D.length!==3)return!1;for(let U=0;U<3;++U){if(!(D[U]instanceof Array)||D[U].length!==3)return!1;for(let Q=0;Q<3;++Q)if(!Number.isFinite(D[U][Q]))return!1}return!0}class Un{constructor(U){this.rot=U}}o.RotationMatrix=Un;function Ss(D){if(!zo(D))throw"Argument must be a [3][3] array of numbers";return new Un(D)}o.MakeRotation=Ss;class Da{constructor(U,Q,ut,mt){this.azimuth=Vt(U),this.altitude=Vt(Q),this.ra=Vt(ut),this.dec=Vt(mt)}}o.HorizontalCoordinates=Da;class Io{constructor(U,Q,ut){this.vec=U,this.elat=Vt(Q),this.elon=Vt(ut)}}o.EclipticCoordinates=Io;function Si(D,U){return new wn(D[0],D[1],D[2],U)}function il(D,U){const Q=Si(D,U),ut=Q.x*Q.x+Q.y*Q.y,mt=Math.sqrt(ut+Q.z*Q.z);if(ut===0){if(Q.z===0)throw"Indeterminate sky coordinates";return new ho(0,Q.z<0?-90:90,mt,Q)}let Mt=o.RAD2HOUR*Math.atan2(Q.y,Q.x);Mt<0&&(Mt+=24);const x=o.RAD2DEG*Math.atan2(D[2],Math.sqrt(ut));return new ho(Mt,x,mt,Q)}function ja(D,U){const Q=D*o.DEG2RAD,ut=Math.cos(Q),mt=Math.sin(Q);return[ut*U[0]+mt*U[1],ut*U[1]-mt*U[0],U[2]]}function Ma(D,U,Q,ut,mt){let Mt=st(D);Ra(U),Vt(Q),Vt(ut);const x=Math.sin(U.latitude*o.DEG2RAD),T=Math.cos(U.latitude*o.DEG2RAD),R=Math.sin(U.longitude*o.DEG2RAD),Y=Math.cos(U.longitude*o.DEG2RAD),rt=Math.sin(ut*o.DEG2RAD),et=Math.cos(ut*o.DEG2RAD),dt=Math.sin(Q*o.HOUR2RAD),Ot=Math.cos(Q*o.HOUR2RAD);let Et=[T*Y,T*R,x],ie=[-x*Y,-x*R,T],_e=[R,-Y,0];const ce=-15*kn(Mt);let De=ja(ce,Et),$e=ja(ce,ie),Je=ja(ce,_e),pr=[et*Ot,et*dt,rt];const Hr=pr[0]*De[0]+pr[1]*De[1]+pr[2]*De[2],on=pr[0]*$e[0]+pr[1]*$e[1]+pr[2]*$e[2],qr=pr[0]*Je[0]+pr[1]*Je[1]+pr[2]*Je[2];let Jr=Math.hypot(on,qr),or;Jr>0?(or=-o.RAD2DEG*Math.atan2(qr,on),or<0&&(or+=360)):or=0;let vn=o.RAD2DEG*Math.atan2(Jr,Hr),Qn=Q,Ni=ut;if(mt){let Yi=vn,qi=xs(mt,90-vn);if(vn-=qi,qi>0&&vn>3e-4){const ro=Math.sin(vn*o.DEG2RAD),so=Math.cos(vn*o.DEG2RAD),Sa=Math.sin(Yi*o.DEG2RAD),Ci=Math.cos(Yi*o.DEG2RAD);var xi=[];for(let ra=0;ra<3;++ra)xi.push((pr[ra]-Ci*De[ra])/Sa*ro+De[ra]*so);Jr=Math.hypot(xi[0],xi[1]),Jr>0?(Qn=o.RAD2HOUR*Math.atan2(xi[1],xi[0]),Qn<0&&(Qn+=24)):Qn=0,Ni=o.RAD2DEG*Math.atan2(xi[2],Jr)}}return new Da(or,90-vn,Qn,Ni)}o.Horizon=Ma;function Ra(D){if(!(D instanceof al))throw`Not an instance of the Observer class: ${D}`;if(Vt(D.latitude),Vt(D.longitude),Vt(D.height),D.latitude<-90||D.latitude>90)throw`Latitude ${D.latitude} is out of range. Must be -90..+90.`;return D}class al{constructor(U,Q,ut){this.latitude=U,this.longitude=Q,this.height=ut,Ra(this)}}o.Observer=al;function rc(D){const U=st(D).AddDays(-1/o.C_AUDAY),Q=ea(qt.Earth,U),ut=[-Q.x,-Q.y,-Q.z],[mt,Mt,x]=Mn(ut,U,Ct.From2000),T=o.DEG2RAD*Gr(U).tobl,R=Math.cos(T),Y=Math.sin(T),rt=new wn(mt,Mt,x,U);return Xl(rt,R,Y)}o.SunPosition=rc;function ia(D,U,Q,ut,mt){Ra(Q),Br(ut),Br(mt);const Mt=st(U),x=_i(Mt,Q),T=Mr(D,Mt,mt),R=[T.x-x[0],T.y-x[1],T.z-x[2]];if(!ut)return il(R,Mt);const Y=Mn(R,Mt,Ct.From2000);return il(Y,Mt)}o.Equator=ia;function Ws(D,U,Q){const ut=st(D),mt=kn(ut);let Mt=zi(U,mt).pos;return Q||(Mt=Mn(Mt,ut,Ct.Into2000)),Si(Mt,ut)}o.ObserverVector=Ws;function sl(D,U,Q){const ut=st(D),mt=kn(ut),Mt=zi(U,mt),x=new nn(Mt.pos[0],Mt.pos[1],Mt.pos[2],Mt.vel[0],Mt.vel[1],Mt.vel[2],ut);return Q?x:ri(x,ut,Ct.Into2000)}o.ObserverState=sl;function o0(D,U){const Q=kn(D.t);let ut=[D.x,D.y,D.z];return U||(ut=Fn(ut,D.t,Ct.From2000),ut=an(ut,D.t,Ct.From2000)),Lo(ut,Q)}o.VectorObserver=o0;function B0(D,U){const Q=Math.sin(D*o.DEG2RAD),ut=Q*Q;return 9.7803253359*(1+.00193185265241*ut)/Math.sqrt(1-.00669437999013*ut)*(1-(315704e-12-210269e-14*ut)*U+737452e-19*U*U)}o.ObserverGravity=B0;function Xl(D,U,Q){const ut=D.x,mt=D.y*U+D.z*Q,Mt=-D.y*Q+D.z*U,x=Math.hypot(ut,mt);let T=0;x>0&&(T=o.RAD2DEG*Math.atan2(mt,ut),T<0&&(T+=360));let R=o.RAD2DEG*Math.atan2(Mt,x),Y=new wn(ut,mt,Mt,D.t);return new Io(Y,R,T)}function Ha(D){return Er===void 0&&(Er=o.DEG2RAD*Gr(st(u)).mobl,Nr=Math.cos(Er),Pn=Math.sin(Er)),Xl(D,Nr,Pn)}o.Ecliptic=Ha;function oa(D){const U=st(D),Q=sn(U),ut=Q.distance_au*Math.cos(Q.geo_eclip_lat),mt=[ut*Math.cos(Q.geo_eclip_lon),ut*Math.sin(Q.geo_eclip_lon),Q.distance_au*Math.sin(Q.geo_eclip_lat)],Mt=zr(U,mt),x=Fn(Mt,U,Ct.Into2000);return new wn(x[0],x[1],x[2],U)}o.GeoMoon=oa;function ll(D){const U=st(D),Q=sn(U);return new Ei(Q.geo_eclip_lat*o.RAD2DEG,Q.geo_eclip_lon*o.RAD2DEG,Q.distance_au)}o.EclipticGeoMoon=ll;function xo(D){const U=st(D),Q=1e-5,ut=U.AddDays(-Q),mt=U.AddDays(+Q),Mt=oa(ut),x=oa(mt);return new nn((Mt.x+x.x)/2,(Mt.y+x.y)/2,(Mt.z+x.z)/2,(x.x-Mt.x)/(2*Q),(x.y-Mt.y)/(2*Q),(x.z-Mt.z)/(2*Q),U)}o.GeoMoonState=xo;function Tu(D){const U=st(D),Q=xo(U),ut=1+le;return new nn(Q.x/ut,Q.y/ut,Q.z/ut,Q.vx/ut,Q.vy/ut,Q.vz/ut,U)}o.GeoEmbState=Tu;function Vo(D,U,Q){let ut=1,mt=0;for(let Mt of D){let x=0;for(let[R,Y,rt]of Mt)x+=R*Math.cos(Y+U*rt);let T=ut*x;Q&&(T%=s),mt+=T,ut*=U}return mt}function ma(D,U){let Q=1,ut=0,mt=0,Mt=0;for(let x of D){let T=0,R=0;for(let[Y,rt,et]of x){let dt=rt+U*et;T+=Y*et*Math.sin(dt),Mt>0&&(R+=Y*Math.cos(dt))}mt+=Mt*ut*R-Q*T,ut=Q,Q*=U,++Mt}return mt}const Ys=365250,nc=0,ss=1,Ou=2;function ic(D){return new hi(D[0]+44036e-11*D[1]-190919e-12*D[2],-479966e-12*D[0]+.917482137087*D[1]-.397776982902*D[2],.397776982902*D[1]+.917482137087*D[2])}function Rc(D,U,Q){const ut=Q*Math.cos(U),mt=Math.cos(D),Mt=Math.sin(D);return[ut*mt,ut*Mt,Q*Math.sin(U)]}function ea(D,U){const Q=U.tt/Ys,ut=Vo(D[nc],Q,!0),mt=Vo(D[ss],Q,!1),Mt=Vo(D[Ou],Q,!1),x=Rc(ut,mt,Mt);return ic(x).ToAstroVector(U)}function _o(D,U){const Q=U/Ys,ut=Vo(D[nc],Q,!0),mt=Vo(D[ss],Q,!1),Mt=Vo(D[Ou],Q,!1),x=ma(D[nc],Q),T=ma(D[ss],Q),R=ma(D[Ou],Q),Y=Math.cos(ut),rt=Math.sin(ut),et=Math.cos(mt),dt=Math.sin(mt),Ot=+(R*et*Y)-Mt*dt*Y*T-Mt*et*rt*x,Et=+(R*et*rt)-Mt*dt*rt*T+Mt*et*Y*x,ie=+(R*dt)+Mt*et*T,_e=Rc(ut,mt,Mt),ce=[Ot/Ys,Et/Ys,ie/Ys],De=ic(_e),$e=ic(ce);return new $r(U,De,$e)}function Vi(D,U,Q,ut){const mt=ut/(ut+Ve),Mt=ea(qt[Q],U);D.x+=mt*Mt.x,D.y+=mt*Mt.y,D.z+=mt*Mt.z}function yn(D){const U=new wn(0,0,0,D);return Vi(U,D,ht.Jupiter,ir),Vi(U,D,ht.Saturn,Ke),Vi(U,D,ht.Uranus,Ge),Vi(U,D,ht.Neptune,Pr),U}const Cc=51,Of=29200,ws=146,hn=201,Go=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class hi{constructor(U,Q,ut){this.x=U,this.y=Q,this.z=ut}ToAstroVector(U){return new wn(this.x,this.y,this.z,U)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(U){return new hi(this.x+U.x,this.y+U.y,this.z+U.z)}sub(U){return new hi(this.x-U.x,this.y-U.y,this.z-U.z)}incr(U){this.x+=U.x,this.y+=U.y,this.z+=U.z}decr(U){this.x-=U.x,this.y-=U.y,this.z-=U.z}mul(U){return new hi(U*this.x,U*this.y,U*this.z)}div(U){return new hi(this.x/U,this.y/U,this.z/U)}mean(U){return new hi((this.x+U.x)/2,(this.y+U.y)/2,(this.z+U.z)/2)}}class $r{constructor(U,Q,ut){this.tt=U,this.r=Q,this.v=ut}}function Af(D){let[U,[Q,ut,mt],[Mt,x,T]]=D;return new $r(U,new hi(Q,ut,mt),new hi(Mt,x,T))}function ls(D,U,Q,ut){const mt=ut/(ut+Ve),Mt=_o(qt[Q],U);return D.r.incr(Mt.r.mul(mt)),D.v.incr(Mt.v.mul(mt)),Mt}function F(D,U,Q){const ut=Q.sub(D),mt=ut.quadrature();return ut.mul(U/(mt*Math.sqrt(mt)))}class C{constructor(U){let Q=new $r(U,new hi(0,0,0),new hi(0,0,0));this.Jupiter=ls(Q,U,ht.Jupiter,ir),this.Saturn=ls(Q,U,ht.Saturn,Ke),this.Uranus=ls(Q,U,ht.Uranus,Ge),this.Neptune=ls(Q,U,ht.Neptune,Pr),this.Jupiter.r.decr(Q.r),this.Jupiter.v.decr(Q.v),this.Saturn.r.decr(Q.r),this.Saturn.v.decr(Q.v),this.Uranus.r.decr(Q.r),this.Uranus.v.decr(Q.v),this.Neptune.r.decr(Q.r),this.Neptune.v.decr(Q.v),this.Sun=new $r(U,Q.r.mul(-1),Q.v.mul(-1))}Acceleration(U){let Q=F(U,Ve,this.Sun.r);return Q.incr(F(U,ir,this.Jupiter.r)),Q.incr(F(U,Ke,this.Saturn.r)),Q.incr(F(U,Ge,this.Uranus.r)),Q.incr(F(U,Pr,this.Neptune.r)),Q}}class b{constructor(U,Q,ut,mt){this.tt=U,this.r=Q,this.v=ut,this.a=mt}}class G{constructor(U,Q){this.bary=U,this.grav=Q}}function Z(D,U,Q,ut){return new hi(U.x+D*(Q.x+D*ut.x/2),U.y+D*(Q.y+D*ut.y/2),U.z+D*(Q.z+D*ut.z/2))}function B(D,U,Q){return new hi(U.x+D*Q.x,U.y+D*Q.y,U.z+D*Q.z)}function tt(D,U){const Q=D-U.tt,ut=new C(D),mt=Z(Q,U.r,U.v,U.a),Mt=ut.Acceleration(mt).mean(U.a),x=Z(Q,U.r,U.v,Mt),T=U.v.add(Mt.mul(Q)),R=ut.Acceleration(x),Y=new b(D,x,T,R);return new G(ut,Y)}const at=[];function lt(D,U){const Q=Math.floor(D);return Q<0?0:Q>=U?U-1:Q}function wt(D){const U=Af(D),Q=new C(U.tt),ut=U.r.add(Q.Sun.r),mt=U.v.add(Q.Sun.v),Mt=Q.Acceleration(ut),x=new b(U.tt,ut,mt,Mt);return new G(Q,x)}function Ut(D,U){const Q=Go[0][0];if(U<Q||U>Go[Cc-1][0])return null;const ut=lt((U-Q)/Of,Cc-1);if(!D[ut]){const Mt=D[ut]=[];Mt[0]=wt(Go[ut]).grav,Mt[hn-1]=wt(Go[ut+1]).grav;let x,T=Mt[0].tt;for(x=1;x<hn-1;++x)Mt[x]=tt(T+=ws,Mt[x-1]).grav;T=Mt[hn-1].tt;var mt=[];for(mt[hn-1]=Mt[hn-1],x=hn-2;x>0;--x)mt[x]=tt(T-=ws,mt[x+1]).grav;for(x=hn-2;x>0;--x){const R=x/(hn-1);Mt[x].r=Mt[x].r.mul(1-R).add(mt[x].r.mul(R)),Mt[x].v=Mt[x].v.mul(1-R).add(mt[x].v.mul(R)),Mt[x].a=Mt[x].a.mul(1-R).add(mt[x].a.mul(R))}}return D[ut]}function kt(D,U,Q){let ut=wt(D);const mt=Math.ceil((U-ut.grav.tt)/Q);for(let Mt=0;Mt<mt;++Mt)ut=tt(Mt+1===mt?U:ut.grav.tt+Q,ut.grav);return ut}function Zt(D,U){let Q,ut,mt;const Mt=Ut(at,D.tt);if(Mt){const x=lt((D.tt-Mt[0].tt)/ws,hn-1),T=Mt[x],R=Mt[x+1],Y=T.a.mean(R.a),rt=Z(D.tt-T.tt,T.r,T.v,Y),et=B(D.tt-T.tt,T.v,Y),dt=Z(D.tt-R.tt,R.r,R.v,Y),Ot=B(D.tt-R.tt,R.v,Y),Et=(D.tt-T.tt)/ws;Q=rt.mul(1-Et).add(dt.mul(Et)),ut=et.mul(1-Et).add(Ot.mul(Et))}else{let x;D.tt<Go[0][0]?x=kt(Go[0],D.tt,-ws):x=kt(Go[Cc-1],D.tt,+ws),Q=x.grav.r,ut=x.grav.v,mt=x.bary}return U&&(mt||(mt=new C(D.tt)),Q=Q.sub(mt.Sun.r),ut=ut.sub(mt.Sun.v)),new nn(Q.x,Q.y,Q.z,ut.x,ut.y,ut.z,D)}const vt=new Un([[.999432765338654,-.0336771074697641,0],[.0303959428906285,.902057912352809,.430543388542295],[-.0144994559663353,-.430299169409101,.902569881273754]]),he=[{mu:282489428433814e-21,al:[1.446213296021224,3.5515522861824],a:[[.0028210960212903,0,0]],l:[[-.0001925258348666,4.9369589722645,.01358483658305],[-970803596076e-16,4.3188796477322,.01303413843243],[-8988174165e-14,1.9080016428617,.00305064867158],[-553101050262e-16,1.4936156681569,.01293892891155]],z:[[.0041510849668155,4.089939635545,-.01290686414666],[.0006260521444113,1.446188898627,3.5515522949802],[352747346169e-16,2.1256287034578,.00012727416567]],zeta:[[.0003142172466014,2.7964219722923,-.002315096098],[904169207946e-16,1.0477061879627,-.00056920638196]]},{mu:282483274392893e-21,al:[-.3735263437471362,1.76932271112347],a:[[.0044871037804314,0,0],[4324367498e-16,1.819645606291,1.7822295777568]],l:[[.0008576433172936,4.3188693178264,.01303413830805],[.0004549582875086,1.4936531751079,.01293892881962],[.0003248939825174,1.8196494533458,1.7822295777568],[-.0003074250079334,4.9377037005911,.01358483286724],[.0001982386144784,1.907986905476,.00305101212869],[.0001834063551804,2.1402853388529,.00145009789338],[-.0001434383188452,5.622214036663,.89111478887838],[-771939140944e-16,4.300272437235,2.6733443704266]],z:[[-.0093589104136341,4.0899396509039,-.01290686414666],[.0002988994545555,5.9097265185595,1.7693227079462],[.000213903639035,2.1256289300016,.00012727418407],[.0001980963564781,2.743516829265,.00067797343009],[.0001210388158965,5.5839943711203,320566149e-13],[837042048393e-16,1.6094538368039,-.90402165808846],[823525166369e-16,1.4461887708689,3.5515522949802]],zeta:[[.0040404917832303,1.0477063169425,-.0005692064054],[.0002200421034564,3.3368857864364,-.00012491307307],[.0001662544744719,2.4134862374711,0],[590282470983e-16,5.9719930968366,-3056160225e-14]]},{mu:282498184184723e-21,al:[.2874089391143348,.878207923589328],a:[[.0071566594572575,0,0],[1393029911e-15,1.1586745884981,2.6733443704266]],l:[[.0002310797886226,2.1402987195942,.00145009784384],[-.0001828635964118,4.3188672736968,.01303413828263],[.0001512378778204,4.9373102372298,.01358483481252],[-.0001163720969778,4.300265986149,2.6733443704266],[-955478069846e-16,1.4936612842567,.01293892879857],[815246854464e-16,5.6222137132535,.89111478887838],[-801219679602e-16,1.2995922951532,1.0034433456729],[-607017260182e-16,.64978769669238,.50172167043264]],z:[[.0014289811307319,2.1256295942739,.00012727413029],[.000771093122676,5.5836330003496,320643411e-13],[.0005925911780766,4.0899396636448,-.01290686414666],[.0002045597496146,5.2713683670372,-.12523544076106],[.0001785118648258,.28743156721063,.8782079244252],[.0001131999784893,1.4462127277818,3.5515522949802],[-65877816921e-15,2.2702423990985,-1.7951364394537],[497058888328e-16,5.9096792204858,1.7693227129285]],zeta:[[.0015932721570848,3.3368862796665,-.00012491307058],[.0008533093128905,2.4133881688166,0],[.0003513347911037,5.9720789850127,-3056101771e-14],[-.0001441929255483,1.0477061764435,-.00056920632124]]},{mu:282492144889909e-21,al:[-.3620341291375704,.376486233433828],a:[[.0125879701715314,0,0],[3595204947e-15,.64965776007116,.50172168165034],[27580210652e-16,1.808423578151,3.1750660413359]],l:[[.0005586040123824,2.1404207189815,.00145009793231],[-.0003805813868176,2.7358844897853,2972965062e-14],[.0002205152863262,.649796525964,.5017216724358],[.0001877895151158,1.8084787604005,3.1750660413359],[766916975242e-16,6.2720114319755,1.3928364636651],[747056855106e-16,1.2995916202344,1.0034433456729]],z:[[.0073755808467977,5.5836071576084,3206509914e-14],[.0002065924169942,5.9209831565786,.37648624194703],[.0001589869764021,.28744006242623,.8782079244252],[-.0001561131605348,2.1257397865089,.00012727441285],[.0001486043380971,1.4462134301023,3.5515522949802],[635073108731e-16,5.9096803285954,1.7693227129285],[599351698525e-16,4.1125517584798,-2.7985797954589],[540660842731e-16,5.5390350845569,.00286834082283],[-489596900866e-16,4.6218149483338,-.62695712529519]],zeta:[[.0038422977898495,2.4133922085557,0],[.0022453891791894,5.9721736773277,-3056125525e-14],[-.0002604479450559,3.3368746306409,-.00012491309972],[33211214323e-15,5.5604137742337,.00290037688507]]}];class ae{constructor(U,Q,ut,mt){this.io=U,this.europa=Q,this.ganymede=ut,this.callisto=mt}}o.JupiterMoonsInfo=ae;function Ae(D,U,Q){const ut=Q[0],mt=Q[1],Mt=Q[2],x=Q[3],T=Q[4],R=Q[5],Y=Math.sqrt(U/(ut*ut*ut));let rt,et,dt,Ot=mt+Mt*Math.sin(mt)-x*Math.cos(mt);do rt=Math.cos(Ot),et=Math.sin(Ot),dt=(mt-Ot+Mt*et-x*rt)/(1-Mt*rt-x*et),Ot+=dt;while(Math.abs(dt)>=1e-12);rt=Math.cos(Ot),et=Math.sin(Ot);const Et=x*rt-Mt*et,ie=-Mt*rt-x*et,_e=1/(1+ie),ce=Math.sqrt(1-Mt*Mt-x*x),De=1/(1+ce),$e=ut*(rt-Mt-De*x*Et),Je=ut*(et-x+De*Mt*Et),pr=Y*_e*ut*(-et-De*x*ie),Hr=Y*_e*ut*(+rt+De*Mt*ie),on=2*Math.sqrt(1-T*T-R*R),qr=1-2*R*R,Jr=1-2*T*T,or=2*R*T;return new nn($e*qr+Je*or,$e*or+Je*Jr,(T*Je-$e*R)*on,pr*qr+Hr*or,pr*or+Hr*Jr,(T*Hr-pr*R)*on,D)}function Kt(D,U){const Q=D.tt+18262.5,ut=[0,U.al[0]+Q*U.al[1],0,0,0,0];for(let[Mt,x,T]of U.a)ut[0]+=Mt*Math.cos(x+Q*T);for(let[Mt,x,T]of U.l)ut[1]+=Mt*Math.sin(x+Q*T);ut[1]%=s,ut[1]<0&&(ut[1]+=s);for(let[Mt,x,T]of U.z){const R=x+Q*T;ut[2]+=Mt*Math.cos(R),ut[3]+=Mt*Math.sin(R)}for(let[Mt,x,T]of U.zeta){const R=x+Q*T;ut[4]+=Mt*Math.cos(R),ut[5]+=Mt*Math.sin(R)}const mt=Ae(D,U.mu,ut);return Ns(vt,mt)}function ge(D){const U=new j(D);return new ae(Kt(U,he[0]),Kt(U,he[1]),Kt(U,he[2]),Kt(U,he[3]))}o.JupiterMoons=ge;function Ye(D,U){var Q=st(U);if(D in qt)return ea(qt[D],Q);if(D===ht.Pluto){const Mt=Zt(Q,!0);return new wn(Mt.x,Mt.y,Mt.z,Q)}if(D===ht.Sun)return new wn(0,0,0,Q);if(D===ht.Moon){var ut=ea(qt.Earth,Q),mt=oa(Q);return new wn(ut.x+mt.x,ut.y+mt.y,ut.z+mt.z,Q)}if(D===ht.EMB){const Mt=ea(qt.Earth,Q),x=oa(Q),T=1+le;return new wn(Mt.x+x.x/T,Mt.y+x.y/T,Mt.z+x.z/T,Q)}if(D===ht.SSB)return yn(Q);throw`HelioVector: Unknown body "${D}"`}o.HelioVector=Ye;function cr(D,U){const Q=st(U);return D in qt?Vo(qt[D][Ou],Q.tt/Ys,!1):Ye(D,Q).Length()}o.HelioDistance=cr;function Mr(D,U,Q){Br(Q);const ut=st(U);if(D===ht.Moon)return oa(ut);if(D===ht.Earth)return new wn(0,0,0,ut);let mt=null,Mt,x,T=0,R=ut;for(let Y=0;Y<10;++Y){Mt=Ye(D,R),Q?mt=ea(qt.Earth,R):mt||(mt=ea(qt.Earth,ut)),x=new wn(Mt.x-mt.x,Mt.y-mt.y,Mt.z-mt.z,ut);let rt=ut.AddDays(-x.Length()/o.C_AUDAY);if(T=Math.abs(rt.tt-R.tt),T<1e-9)return x;R=rt}throw`Light-travel time solver did not converge: dt=${T}`}o.GeoVector=Mr;function Qr(D,U){return new nn(D.r.x,D.r.y,D.r.z,D.v.x,D.v.y,D.v.z,U)}function yr(D,U){const Q=st(U);if(D===ht.SSB)return new nn(0,0,0,0,0,0,Q);if(D===ht.Pluto)return Zt(Q,!1);const ut=new C(Q.tt);switch(D){case ht.Sun:return Qr(ut.Sun,Q);case ht.Jupiter:return Qr(ut.Jupiter,Q);case ht.Saturn:return Qr(ut.Saturn,Q);case ht.Uranus:return Qr(ut.Uranus,Q);case ht.Neptune:return Qr(ut.Neptune,Q);case ht.Moon:case ht.EMB:const mt=_o(qt[ht.Earth],Q.tt),Mt=D===ht.Moon?xo(Q):Tu(Q);return new nn(Mt.x+ut.Sun.r.x+mt.r.x,Mt.y+ut.Sun.r.y+mt.r.y,Mt.z+ut.Sun.r.z+mt.r.z,Mt.vx+ut.Sun.v.x+mt.v.x,Mt.vy+ut.Sun.v.y+mt.v.y,Mt.vz+ut.Sun.v.z+mt.v.z,Q)}if(D in qt){const mt=_o(qt[D],Q.tt);return new nn(ut.Sun.r.x+mt.r.x,ut.Sun.r.y+mt.r.y,ut.Sun.r.z+mt.r.z,ut.Sun.v.x+mt.v.x,ut.Sun.v.y+mt.v.y,ut.Sun.v.z+mt.v.z,Q)}throw`BaryState: Unsupported body "${D}"`}o.BaryState=yr;function Ue(D,U){const Q=st(U);switch(D){case ht.Sun:return new nn(0,0,0,0,0,0,Q);case ht.SSB:const ut=new C(Q.tt);return new nn(-ut.Sun.r.x,-ut.Sun.r.y,-ut.Sun.r.z,-ut.Sun.v.x,-ut.Sun.v.y,-ut.Sun.v.z,Q);case ht.Mercury:case ht.Venus:case ht.Earth:case ht.Mars:case ht.Jupiter:case ht.Saturn:case ht.Uranus:case ht.Neptune:const mt=_o(qt[D],Q.tt);return Qr(mt,Q);case ht.Pluto:return Zt(Q,!0);case ht.Moon:case ht.EMB:const Mt=_o(qt.Earth,Q.tt),x=D==ht.Moon?xo(Q):Tu(Q);return new nn(x.x+Mt.r.x,x.y+Mt.r.y,x.z+Mt.r.z,x.vx+Mt.v.x,x.vy+Mt.v.y,x.vz+Mt.v.z,Q);default:throw`HelioState: Unsupported body "${D}"`}}o.HelioState=Ue;function Lr(D,U,Q,ut,mt){let Mt=(mt+Q)/2-ut,x=(mt-Q)/2,T=ut,R;if(Mt==0){if(x==0||(R=-T/x,R<-1||R>1))return null}else{let et=x*x-4*Mt*T;if(et<=0)return null;let dt=Math.sqrt(et),Ot=(-x+dt)/(2*Mt),Et=(-x-dt)/(2*Mt);if(-1<=Ot&&Ot<=1){if(-1<=Et&&Et<=1)return null;R=Ot}else if(-1<=Et&&Et<=1)R=Et;else return null}let Y=D+R*U,rt=(2*Mt*R+x)/U;return{x:R,t:Y,df_dt:rt}}function mr(D,U,Q,ut){const mt=Vt(ut&&ut.dt_tolerance_seconds||1),Mt=Math.abs(mt/I);let x=ut&&ut.init_f1||D(U),T=ut&&ut.init_f2||D(Q),R=NaN,Y=0,rt=ut&&ut.iter_limit||20,et=!0;for(;;){if(++Y>rt)throw"Excessive iteration in Search()";let dt=W(U,Q,.5),Ot=dt.ut-U.ut;if(Math.abs(Ot)<Mt)return dt;et?R=D(dt):et=!0;let Et=Lr(dt.ut,Q.ut-dt.ut,x,R,T);if(Et){let ie=st(Et.t),_e=D(ie);if(Et.df_dt!==0){if(Math.abs(_e/Et.df_dt)<Mt)return ie;let ce=1.2*Math.abs(_e/Et.df_dt);if(ce<Ot/10){let De=ie.AddDays(-ce),$e=ie.AddDays(+ce);if((De.ut-U.ut)*(De.ut-Q.ut)<0&&($e.ut-U.ut)*($e.ut-Q.ut)<0){let Je=D(De),pr=D($e);if(Je<0&&pr>=0){x=Je,T=pr,U=De,Q=$e,R=_e,et=!1;continue}}}}}if(x<0&&R>=0){Q=dt,T=R;continue}if(R<0&&T>=0){U=dt,x=R;continue}return null}}o.Search=mr;function ee(D){let U=D;for(;U<=-180;)U+=360;for(;U>180;)U-=360;return U}function re(D){for(;D<0;)D+=360;for(;D>=360;)D-=360;return D}function Ne(D,U,Q){function ut(x){let T=rc(x);return ee(T.elon-D)}Vt(D),Vt(Q);let mt=st(U),Mt=mt.AddDays(Q);return mr(ut,mt,Mt,{dt_tolerance_seconds:.01})}o.SearchSunLongitude=Ne;function Te(D,U,Q){if(D===ht.Earth||U===ht.Earth)throw"The Earth does not have a longitude as seen from itself.";const ut=st(Q),mt=Mr(D,ut,!1),Mt=Ha(mt),x=Mr(U,ut,!1),T=Ha(x);return re(Mt.elon-T.elon)}o.PairLongitude=Te;function wr(D,U){if(D==ht.Earth)throw"The Earth does not have an angle as seen from itself.";const Q=st(U),ut=Mr(ht.Sun,Q,!0),mt=Mr(D,Q,!0);return At(ut,mt)}o.AngleFromSun=wr;function gr(D,U){if(D===ht.Sun)throw"Cannot calculate heliocentric longitude of the Sun.";const Q=Ye(D,U);return Ha(Q).elon}o.EclipticLongitude=gr;function Fr(D,U,Q,ut){let mt,Mt=0,x=0,T=0;switch(D){case ht.Mercury:mt=-.6,Mt=4.98,x=-4.88,T=3.02;break;case ht.Venus:U<163.6?(mt=-4.47,Mt=1.03,x=.57,T=.13):(mt=.98,Mt=-1.02);break;case ht.Mars:mt=-1.52,Mt=1.6;break;case ht.Jupiter:mt=-9.4,Mt=.5;break;case ht.Uranus:mt=-7.19,Mt=.25;break;case ht.Neptune:mt=-6.87;break;case ht.Pluto:mt=-1,Mt=4;break;default:throw`VisualMagnitude: unsupported body ${D}`}const R=U/100;let Y=mt+R*(Mt+R*(x+R*T));return Y+=5*Math.log10(Q*ut),Y}function sr(D,U,Q,ut,mt){const Mt=Ha(ut),x=o.DEG2RAD*28.06,T=o.DEG2RAD*(169.51+382e-7*mt.tt),R=o.DEG2RAD*Mt.elat,Y=o.DEG2RAD*Mt.elon,rt=Math.asin(Math.sin(R)*Math.cos(x)-Math.cos(R)*Math.sin(x)*Math.sin(Y-T)),et=Math.sin(Math.abs(rt));let dt=-9+.044*D;return dt+=et*(-2.6+1.2*et),dt+=5*Math.log10(U*Q),{mag:dt,ring_tilt:o.RAD2DEG*rt}}function fr(D,U,Q){let ut=D*o.DEG2RAD,mt=ut*ut,Mt=mt*mt,x=-12.717+1.49*Math.abs(ut)+.0431*Mt;const T=385000.6/o.KM_PER_AU;let R=Q/T;return x+=5*Math.log10(U*R),x}class Or{constructor(U,Q,ut,mt,Mt,x,T,R){this.time=U,this.mag=Q,this.phase_angle=ut,this.helio_dist=mt,this.geo_dist=Mt,this.gc=x,this.hc=T,this.ring_tilt=R,this.phase_fraction=(1+Math.cos(o.DEG2RAD*ut))/2}}o.IlluminationInfo=Or;function On(D,U){if(D===ht.Earth)throw"The illumination of the Earth is not defined.";const Q=st(U),ut=ea(qt.Earth,Q);let mt,Mt,x,T;D===ht.Sun?(x=new wn(-ut.x,-ut.y,-ut.z,Q),Mt=new wn(0,0,0,Q),mt=0):(D===ht.Moon?(x=oa(Q),Mt=new wn(ut.x+x.x,ut.y+x.y,ut.z+x.z,Q)):(Mt=Ye(D,U),x=new wn(Mt.x-ut.x,Mt.y-ut.y,Mt.z-ut.z,Q)),mt=At(x,Mt));let R=x.Length(),Y=Mt.Length(),rt;if(D===ht.Sun)T=M+5*Math.log10(R);else if(D===ht.Moon)T=fr(mt,Y,R);else if(D===ht.Saturn){const et=sr(mt,Y,R,x,Q);T=et.mag,rt=et.ring_tilt}else T=Fr(D,mt,Y,R);return new Or(Q,T,mt,Y,R,x,Mt,rt)}o.Illumination=On;function Ft(D){if(D===ht.Earth)throw"The Earth does not have a synodic period as seen from itself.";if(D===ht.Moon)return A;let U=te[D];if(!U)throw`Not a valid planet name: ${D}`;const Q=te.Earth.OrbitalPeriod,ut=U.OrbitalPeriod;return Math.abs(Q/(Q/ut-1))}function se(D,U,Q){Vt(U);const ut=te[D];if(!ut)throw`Cannot search relative longitude because body is not a planet: ${D}`;if(D===ht.Earth)throw"Cannot search relative longitude for the Earth (it is always 0)";const mt=ut.OrbitalPeriod>te.Earth.OrbitalPeriod?1:-1;function Mt(Y){const rt=gr(D,Y),et=gr(ht.Earth,Y),dt=mt*(et-rt);return ee(dt-U)}let x=Ft(D),T=st(Q),R=Mt(T);R>0&&(R-=360);for(let Y=0;Y<100;++Y){let rt=-R/360*x;if(T=T.AddDays(rt),Math.abs(rt)*I<1)return T;let et=R;if(R=Mt(T),Math.abs(et)<30&&et!==R){let dt=et/(et-R);dt>.5&&dt<2&&(x*=dt)}}throw`Relative longitude search failed to converge for ${D} near ${T.toString()} (error_angle = ${R}).`}o.SearchRelativeLongitude=se;function me(D){return Te(ht.Moon,ht.Sun,D)}o.MoonPhase=me;function Ie(D,U,Q){function ut(dt){let Ot=me(dt);return ee(Ot-D)}Vt(D),Vt(Q);const mt=1.5;let Mt=st(U),x=ut(Mt);x>0&&(x-=360);let T=-(A*x)/360,R=T-mt;if(R>Q)return null;let Y=Math.min(Q,T+mt),rt=Mt.AddDays(R),et=Mt.AddDays(Y);return mr(ut,rt,et)}o.SearchMoonPhase=Ie;class ke{constructor(U,Q){this.quarter=U,this.time=Q}}o.MoonQuarter=ke;function rr(D){let U=me(D),ut=(Math.floor(U/90)+1)%4,mt=Ie(90*ut,D,10);if(!mt)throw"Cannot find moon quarter";return new ke(ut,mt)}o.SearchMoonQuarter=rr;function lr(D){let U=new Date(D.time.date.getTime()+6*K);return rr(U)}o.NextMoonQuarter=lr;function ar(D){switch(D){case ht.Sun:return H;case ht.Moon:return Dt;default:return 0}}function tn(D,U,Q,ut,mt){let Mt=ar(D);function x(T){const R=ia(D,T,U,!0,!0),rt=Ma(T,U,R.ra,R.dec).altitude+o.RAD2DEG*(Mt/R.dist)+Jt;return Q*rt}return pn(D,U,Q,ut,mt,x)}o.SearchRiseSet=tn;function Zr(D,U,Q,ut,mt,Mt){if(!Number.isFinite(Mt)||Mt<-90||Mt>90)throw`Invalid altitude angle: ${Mt}`;function x(T){const R=ia(D,T,U,!0,!0),Y=Ma(T,U,R.ra,R.dec);return Q*(Y.altitude-Mt)}return pn(D,U,Q,ut,mt,x)}o.SearchAltitude=Zr;function pn(D,U,Q,ut,mt,Mt){if(Ra(U),Vt(mt),mt<=0)throw`Invalid value for limitDays: ${mt}`;if(D===ht.Earth)throw"Cannot find altitude event for the Earth.";let x,T;if(Q===1)x=12,T=0;else if(Q===-1)x=0,T=12;else throw`Invalid direction parameter ${Q} -- must be +1 or -1`;let R=st(ut),Y,rt,et,dt=Mt(R),Ot;for(dt>0?(rt=Hn(D,U,x,R),Y=rt.time,dt=Mt(Y)):Y=R,et=Hn(D,U,T,Y),Ot=Mt(et.time);;){if(dt<=0&&Ot>0){let Et=mr(Mt,Y,et.time,{init_f1:dt,init_f2:Ot});if(Et)return Et}if(rt=Hn(D,U,x,et.time),et=Hn(D,U,T,rt.time),rt.time.ut>=R.ut+mt)return null;Y=rt.time,dt=Mt(rt.time),Ot=Mt(et.time)}}class An{constructor(U,Q){this.time=U,this.hor=Q}}o.HourAngleEvent=An;function Hn(D,U,Q,ut){Ra(U);let mt=st(ut),Mt=0;if(D===ht.Earth)throw"Cannot search for hour angle of the Earth.";if(Vt(Q),Q<0||Q>=24)throw`Invalid hour angle ${Q}`;for(;;){++Mt;let x=kn(mt),T=ia(D,mt,U,!0,!0),R=(Q+T.ra-U.longitude/15-x)%24;if(Mt===1?R<0&&(R+=24):R<-12?R+=24:R>12&&(R-=24),Math.abs(R)*3600<.1){const rt=Ma(mt,U,T.ra,T.dec,"normal");return new An(mt,rt)}let Y=R/24*z;mt=mt.AddDays(Y)}}o.SearchHourAngle=Hn;class Sr{constructor(U,Q,ut,mt){this.mar_equinox=U,this.jun_solstice=Q,this.sep_equinox=ut,this.dec_solstice=mt}}o.SeasonInfo=Sr;function de(D){function U(x,T,R){let Y=new Date(Date.UTC(D,T-1,R)),rt=Ne(x,Y,20);if(!rt)throw`Cannot find season change near ${Y.toISOString()}`;return rt}if(D instanceof Date&&Number.isFinite(D.getTime())&&(D=D.getUTCFullYear()),!Number.isSafeInteger(D))throw`Cannot calculate seasons because year argument ${D} is neither a Date nor a safe integer.`;let Q=U(0,3,10),ut=U(90,6,10),mt=U(180,9,10),Mt=U(270,12,10);return new Sr(Q,ut,mt,Mt)}o.Seasons=de;class fi{constructor(U,Q,ut,mt){this.time=U,this.visibility=Q,this.elongation=ut,this.ecliptic_separation=mt}}o.ElongationEvent=fi;function Cn(D,U){let Q=st(U),ut=Te(D,ht.Sun,Q),mt;ut>180?(mt="morning",ut=360-ut):mt="evening";let Mt=wr(D,Q);return new fi(Q,mt,Mt,ut)}o.Elongation=Cn;function Yr(D,U){function ut(R){const Y=R.AddDays(-.005),rt=R.AddDays(.01/2);let et=wr(D,Y),dt=wr(D,rt);return(et-dt)/.01}let mt=st(U);const x={Mercury:{s1:50,s2:85},Venus:{s1:40,s2:50}}[D];if(!x)throw"SearchMaxElongation works for Mercury and Venus only.";let T=0;for(;++T<=2;){let R=gr(D,mt),Y=gr(ht.Earth,mt),rt=ee(R-Y),et,dt,Ot;rt>=-x.s1&&rt<+x.s1?(Ot=0,et=+x.s1,dt=+x.s2):rt>=+x.s2||rt<-x.s2?(Ot=0,et=-x.s2,dt=-x.s1):rt>=0?(Ot=-Ft(D)/4,et=+x.s1,dt=+x.s2):(Ot=-Ft(D)/4,et=-x.s2,dt=-x.s1);let Et=mt.AddDays(Ot),ie=se(D,et,Et),_e=se(D,dt,ie),ce=ut(ie);if(ce>=0)throw`SearchMaxElongation: internal error: m1 = ${ce}`;let De=ut(_e);if(De<=0)throw`SearchMaxElongation: internal error: m2 = ${De}`;let $e=mr(ut,ie,_e,{init_f1:ce,init_f2:De,dt_tolerance_seconds:10});if(!$e)throw`SearchMaxElongation: failed search iter ${T} (t1=${ie.toString()}, t2=${_e.toString()})`;if($e.tt>=mt.tt)return Cn(D,$e);mt=_e.AddDays(1)}throw"SearchMaxElongation: failed to find event after 2 tries."}o.SearchMaxElongation=Yr;function ln(D,U){if(D!==ht.Venus)throw"SearchPeakMagnitude currently works for Venus only.";const Q=.01;function ut(R){const Y=R.AddDays(-Q/2),rt=R.AddDays(+Q/2),et=On(D,Y).mag;return(On(D,rt).mag-et)/Q}let mt=st(U);const Mt=10,x=30;let T=0;for(;++T<=2;){let R=gr(D,mt),Y=gr(ht.Earth,mt),rt=ee(R-Y),et,dt,Ot;rt>=-Mt&&rt<+Mt?(Ot=0,et=+Mt,dt=+x):rt>=+x||rt<-x?(Ot=0,et=-x,dt=-Mt):rt>=0?(Ot=-Ft(D)/4,et=+Mt,dt=+x):(Ot=-Ft(D)/4,et=-x,dt=-Mt);let Et=mt.AddDays(Ot),ie=se(D,et,Et),_e=se(D,dt,ie),ce=ut(ie);if(ce>=0)throw`SearchPeakMagnitude: internal error: m1 = ${ce}`;let De=ut(_e);if(De<=0)throw`SearchPeakMagnitude: internal error: m2 = ${De}`;let $e=mr(ut,ie,_e,{init_f1:ce,init_f2:De,dt_tolerance_seconds:10});if(!$e)throw`SearchPeakMagnitude: failed search iter ${T} (t1=${ie.toString()}, t2=${_e.toString()})`;if($e.tt>=mt.tt)return On(D,$e);mt=_e.AddDays(1)}throw"SearchPeakMagnitude: failed to find event after 2 tries."}o.SearchPeakMagnitude=ln;var cn;(function(D){D[D.Pericenter=0]="Pericenter",D[D.Apocenter=1]="Apocenter"})(cn=o.ApsisKind||(o.ApsisKind={}));class un{constructor(U,Q,ut){this.time=U,this.kind=Q,this.dist_au=ut,this.dist_km=ut*o.KM_PER_AU}}o.Apsis=un;function Vn(D){function Q(R){let Y=R.AddDays(-5e-4),rt=R.AddDays(.001/2),et=sn(Y).distance_au;return(sn(rt).distance_au-et)/.001}function ut(R){return-Q(R)}let mt=st(D),Mt=Q(mt);const x=5;for(var T=0;T*x<2*A;++T){let R=mt.AddDays(x),Y=Q(R);if(Mt*Y<=0){if(Mt<0||Y>0){let rt=mr(Q,mt,R,{init_f1:Mt,init_f2:Y});if(!rt)throw"SearchLunarApsis INTERNAL ERROR: perigee search failed!";let et=sn(rt).distance_au;return new un(rt,0,et)}if(Mt>0||Y<0){let rt=mr(ut,mt,R,{init_f1:-Mt,init_f2:-Y});if(!rt)throw"SearchLunarApsis INTERNAL ERROR: apogee search failed!";let et=sn(rt).distance_au;return new un(rt,1,et)}throw"SearchLunarApsis INTERNAL ERROR: cannot classify apsis event!"}mt=R,Mt=Y}throw"SearchLunarApsis INTERNAL ERROR: could not find apsis within 2 synodic months of start date."}o.SearchLunarApsis=Vn;function pi(D){let Q=Vn(D.time.AddDays(11));if(Q.kind+D.kind!==1)throw`NextLunarApsis INTERNAL ERROR: did not find alternating apogee/perigee: prev=${D.kind} @ ${D.time.toString()}, next=${Q.kind} @ ${Q.time.toString()}`;return Q}o.NextLunarApsis=pi;function si(D,U,Q,ut){const mt=U===cn.Apocenter?1:-1,Mt=10;for(;;){const x=ut/(Mt-1);if(x<1/1440){const Y=Q.AddDays(x/2),rt=cr(D,Y);return new un(Y,U,rt)}let T=-1,R=0;for(let Y=0;Y<Mt;++Y){const rt=Q.AddDays(Y*x),et=mt*cr(D,rt);(Y==0||et>R)&&(T=Y,R=et)}Q=Q.AddDays((T-1)*x),ut=2*x}}function Ri(D,U){const ut=U.AddDays(te[D].OrbitalPeriod*-.08333333333333333),mt=U.AddDays(te[D].OrbitalPeriod*(270/360));let Mt=ut,x=ut,T=-1,R=-1;const Y=(mt.ut-ut.ut)/(100-1);for(let dt=0;dt<100;++dt){const Ot=ut.AddDays(dt*Y),Et=cr(D,Ot);dt===0?R=T=Et:(Et>R&&(R=Et,x=Ot),Et<T&&(T=Et,Mt=Ot))}const rt=si(D,0,Mt.AddDays(-2*Y),4*Y),et=si(D,1,x.AddDays(-2*Y),4*Y);if(rt.time.tt>=U.tt)return et.time.tt>=U.tt&&et.time.tt<rt.time.tt?et:rt;if(et.time.tt>=U.tt)return et;throw"Internal error: failed to find Neptune apsis."}function Hi(D,U){if(U=st(U),D===ht.Neptune||D===ht.Pluto)return Ri(D,U);function Q(R){let rt=R.AddDays(-5e-4),et=R.AddDays(.001/2),dt=cr(D,rt);return(cr(D,et)-dt)/.001}function ut(R){return-Q(R)}const mt=te[D].OrbitalPeriod,Mt=mt/6;let x=U,T=Q(x);for(let R=0;R*Mt<2*mt;++R){const Y=x.AddDays(Mt),rt=Q(Y);if(T*rt<=0){let et,dt;if(T<0||rt>0)et=Q,dt=cn.Pericenter;else if(T>0||rt<0)et=ut,dt=cn.Apocenter;else throw"Internal error with slopes in SearchPlanetApsis";const Ot=mr(et,x,Y);if(!Ot)throw"Failed to find slope transition in planetary apsis search.";const Et=cr(D,Ot);return new un(Ot,dt,Et)}x=Y,T=rt}throw"Internal error: should have found planetary apsis within 2 orbital periods."}o.SearchPlanetApsis=Hi;function ni(D,U){if(U.kind!==cn.Pericenter&&U.kind!==cn.Apocenter)throw`Invalid apsis kind: ${U.kind}`;const Q=.25*te[D].OrbitalPeriod,ut=U.time.AddDays(Q),mt=Hi(D,ut);if(mt.kind+U.kind!==1)throw`Internal error: previous apsis was ${U.kind}, but found ${mt.kind} for next apsis.`;return mt}o.NextPlanetApsis=ni;function Xn(D){return new Un([[D.rot[0][0],D.rot[1][0],D.rot[2][0]],[D.rot[0][1],D.rot[1][1],D.rot[2][1]],[D.rot[0][2],D.rot[1][2],D.rot[2][2]]])}o.InverseRotation=Xn;function wi(D,U){return new Un([[U.rot[0][0]*D.rot[0][0]+U.rot[1][0]*D.rot[0][1]+U.rot[2][0]*D.rot[0][2],U.rot[0][1]*D.rot[0][0]+U.rot[1][1]*D.rot[0][1]+U.rot[2][1]*D.rot[0][2],U.rot[0][2]*D.rot[0][0]+U.rot[1][2]*D.rot[0][1]+U.rot[2][2]*D.rot[0][2]],[U.rot[0][0]*D.rot[1][0]+U.rot[1][0]*D.rot[1][1]+U.rot[2][0]*D.rot[1][2],U.rot[0][1]*D.rot[1][0]+U.rot[1][1]*D.rot[1][1]+U.rot[2][1]*D.rot[1][2],U.rot[0][2]*D.rot[1][0]+U.rot[1][2]*D.rot[1][1]+U.rot[2][2]*D.rot[1][2]],[U.rot[0][0]*D.rot[2][0]+U.rot[1][0]*D.rot[2][1]+U.rot[2][0]*D.rot[2][2],U.rot[0][1]*D.rot[2][0]+U.rot[1][1]*D.rot[2][1]+U.rot[2][1]*D.rot[2][2],U.rot[0][2]*D.rot[2][0]+U.rot[1][2]*D.rot[2][1]+U.rot[2][2]*D.rot[2][2]]])}o.CombineRotation=wi;function mn(){return new Un([[1,0,0],[0,1,0],[0,0,1]])}o.IdentityMatrix=mn;function Xa(D,U,Q){if(U!==0&&U!==1&&U!==2)throw`Invalid axis ${U}. Must be [0, 1, 2].`;const ut=Vt(Q)*o.DEG2RAD,mt=Math.cos(ut),Mt=Math.sin(ut),x=(U+1)%3,T=(U+2)%3,R=U;let Y=[[0,0,0],[0,0,0],[0,0,0]];return Y[x][x]=mt*D.rot[x][x]-Mt*D.rot[x][T],Y[x][T]=Mt*D.rot[x][x]+mt*D.rot[x][T],Y[x][R]=D.rot[x][R],Y[T][x]=mt*D.rot[T][x]-Mt*D.rot[T][T],Y[T][T]=Mt*D.rot[T][x]+mt*D.rot[T][T],Y[T][R]=D.rot[T][R],Y[R][x]=mt*D.rot[R][x]-Mt*D.rot[R][T],Y[R][T]=Mt*D.rot[R][x]+mt*D.rot[R][T],Y[R][R]=D.rot[R][R],new Un(Y)}o.Pivot=Xa;function Bn(D,U){U=st(U);const Q=D.lat*o.DEG2RAD,ut=D.lon*o.DEG2RAD,mt=D.dist*Math.cos(Q);return new wn(mt*Math.cos(ut),mt*Math.sin(ut),D.dist*Math.sin(Q),U)}o.VectorFromSphere=Bn;function _a(D){const U=Xi(D);return new ho(U.lon/15,U.lat,U.dist,D)}o.EquatorFromVector=_a;function Xi(D){const U=D.x*D.x+D.y*D.y,Q=Math.sqrt(U+D.z*D.z);let ut,mt;if(U===0){if(D.z===0)throw"Zero-length vector not allowed.";mt=0,ut=D.z<0?-90:90}else mt=o.RAD2DEG*Math.atan2(D.y,D.x),mt<0&&(mt+=360),ut=o.RAD2DEG*Math.atan2(D.z,Math.sqrt(U));return new Ei(ut,mt,Q)}o.SphereFromVector=Xi;function To(D){return D=360-D,D>=360?D-=360:D<0&&(D+=360),D}function Ps(D,U){const Q=Xi(D);return Q.lon=To(Q.lon),Q.lat+=xs(U,Q.lat),Q}o.HorizonFromVector=Ps;function Ki(D,U,Q){U=st(U);const ut=To(D.lon),mt=D.lat+Wo(Q,D.lat),Mt=new Ei(mt,ut,D.dist);return Bn(Mt,U)}o.VectorFromHorizon=Ki;function xs(D,U){let Q;if(Vt(U),U<-90||U>90)return 0;if(D==="normal"||D==="jplhor"){let ut=U;ut<-1&&(ut=-1),Q=1.02/Math.tan((ut+10.3/(ut+5.11))*o.DEG2RAD)/60,D==="normal"&&U<-1&&(Q*=(U+90)/89)}else if(!D)Q=0;else throw`Invalid refraction option: ${D}`;return Q}o.Refraction=xs;function Wo(D,U){if(U<-90||U>90)return 0;let Q=U-xs(D,U);for(;;){let ut=Q+xs(D,Q)-U;if(Math.abs(ut)<1e-14)return Q-U;Q-=ut}}o.InverseRefraction=Wo;function Ca(D,U){return new wn(D.rot[0][0]*U.x+D.rot[1][0]*U.y+D.rot[2][0]*U.z,D.rot[0][1]*U.x+D.rot[1][1]*U.y+D.rot[2][1]*U.z,D.rot[0][2]*U.x+D.rot[1][2]*U.y+D.rot[2][2]*U.z,U.t)}o.RotateVector=Ca;function Ns(D,U){return new nn(D.rot[0][0]*U.x+D.rot[1][0]*U.y+D.rot[2][0]*U.z,D.rot[0][1]*U.x+D.rot[1][1]*U.y+D.rot[2][1]*U.z,D.rot[0][2]*U.x+D.rot[1][2]*U.y+D.rot[2][2]*U.z,D.rot[0][0]*U.vx+D.rot[1][0]*U.vy+D.rot[2][0]*U.vz,D.rot[0][1]*U.vx+D.rot[1][1]*U.vy+D.rot[2][1]*U.vz,D.rot[0][2]*U.vx+D.rot[1][2]*U.vy+D.rot[2][2]*U.vz,U.t)}o.RotateState=Ns;function Oo(){const D=.9174821430670688,U=.3977769691083922;return new Un([[1,0,0],[0,+D,-U],[0,+U,+D]])}o.Rotation_EQJ_ECL=Oo;function $n(){const D=.9174821430670688,U=.3977769691083922;return new Un([[1,0,0],[0,+D,+U],[0,-U,+D]])}o.Rotation_ECL_EQJ=$n;function _n(D){D=st(D);const U=Mi(D,Ct.From2000),Q=rn(D,Ct.From2000);return wi(U,Q)}o.Rotation_EQJ_EQD=_n;function aa(D){D=st(D);const U=rn(D,Ct.Into2000),Q=Mi(D,Ct.Into2000);return wi(U,Q)}o.Rotation_EQD_EQJ=aa;function ca(D,U){D=st(D);const Q=Math.sin(U.latitude*o.DEG2RAD),ut=Math.cos(U.latitude*o.DEG2RAD),mt=Math.sin(U.longitude*o.DEG2RAD),Mt=Math.cos(U.longitude*o.DEG2RAD),x=[ut*Mt,ut*mt,Q],T=[-Q*Mt,-Q*mt,ut],R=[mt,-Mt,0],Y=-15*kn(D),rt=ja(Y,x),et=ja(Y,T),dt=ja(Y,R);return new Un([[et[0],dt[0],rt[0]],[et[1],dt[1],rt[1]],[et[2],dt[2],rt[2]]])}o.Rotation_EQD_HOR=ca;function Hs(D,U){const Q=ca(D,U);return Xn(Q)}o.Rotation_HOR_EQD=Hs;function Ts(D,U){D=st(D);const Q=Hs(D,U),ut=aa(D);return wi(Q,ut)}o.Rotation_HOR_EQJ=Ts;function Wn(D,U){const Q=Ts(D,U);return Xn(Q)}o.Rotation_EQJ_HOR=Wn;function to(D){const U=aa(D),Q=Oo();return wi(U,Q)}o.Rotation_EQD_ECL=to;function us(D){const U=to(D);return Xn(U)}o.Rotation_ECL_EQD=us;function Ka(D,U){D=st(D);const Q=us(D),ut=ca(D,U);return wi(Q,ut)}o.Rotation_ECL_HOR=Ka;function Ea(D,U){const Q=Ka(D,U);return Xn(Q)}o.Rotation_HOR_ECL=Ea;function fn(){return new Un([[-.0548624779711344,.4941095946388765,-.8676668813529025],[-.8734572784246782,-.4447938112296831,-.1980677870294097],[-.483800052994852,.7470034631630423,.4559861124470794]])}o.Rotation_EQJ_GAL=fn;function ds(){return new Un([[-.0548624779711344,-.8734572784246782,-.483800052994852],[.4941095946388765,-.4447938112296831,.7470034631630423],[-.8676668813529025,-.1980677870294097,.4559861124470794]])}o.Rotation_GAL_EQJ=ds;const Au=[["And","Andromeda"],["Ant","Antila"],["Aps","Apus"],["Aql","Aquila"],["Aqr","Aquarius"],["Ara","Ara"],["Ari","Aries"],["Aur","Auriga"],["Boo","Bootes"],["Cae","Caelum"],["Cam","Camelopardis"],["Cap","Capricornus"],["Car","Carina"],["Cas","Cassiopeia"],["Cen","Centaurus"],["Cep","Cepheus"],["Cet","Cetus"],["Cha","Chamaeleon"],["Cir","Circinus"],["CMa","Canis Major"],["CMi","Canis Minor"],["Cnc","Cancer"],["Col","Columba"],["Com","Coma Berenices"],["CrA","Corona Australis"],["CrB","Corona Borealis"],["Crt","Crater"],["Cru","Crux"],["Crv","Corvus"],["CVn","Canes Venatici"],["Cyg","Cygnus"],["Del","Delphinus"],["Dor","Dorado"],["Dra","Draco"],["Equ","Equuleus"],["Eri","Eridanus"],["For","Fornax"],["Gem","Gemini"],["Gru","Grus"],["Her","Hercules"],["Hor","Horologium"],["Hya","Hydra"],["Hyi","Hydrus"],["Ind","Indus"],["Lac","Lacerta"],["Leo","Leo"],["Lep","Lepus"],["Lib","Libra"],["LMi","Leo Minor"],["Lup","Lupus"],["Lyn","Lynx"],["Lyr","Lyra"],["Men","Mensa"],["Mic","Microscopium"],["Mon","Monoceros"],["Mus","Musca"],["Nor","Norma"],["Oct","Octans"],["Oph","Ophiuchus"],["Ori","Orion"],["Pav","Pavo"],["Peg","Pegasus"],["Per","Perseus"],["Phe","Phoenix"],["Pic","Pictor"],["PsA","Pisces Austrinus"],["Psc","Pisces"],["Pup","Puppis"],["Pyx","Pyxis"],["Ret","Reticulum"],["Scl","Sculptor"],["Sco","Scorpius"],["Sct","Scutum"],["Ser","Serpens"],["Sex","Sextans"],["Sge","Sagitta"],["Sgr","Sagittarius"],["Tau","Taurus"],["Tel","Telescopium"],["TrA","Triangulum Australe"],["Tri","Triangulum"],["Tuc","Tucana"],["UMa","Ursa Major"],["UMi","Ursa Minor"],["Vel","Vela"],["Vir","Virgo"],["Vol","Volans"],["Vul","Vulpecula"]],Ml=[[83,0,8640,2112],[83,2880,5220,2076],[83,7560,8280,2068],[83,6480,7560,2064],[15,0,2880,2040],[10,3300,3840,1968],[15,0,1800,1920],[10,3840,5220,1920],[83,6300,6480,1920],[33,7260,7560,1920],[15,0,1263,1848],[10,4140,4890,1848],[83,5952,6300,1800],[15,7260,7440,1800],[10,2868,3300,1764],[33,3300,4080,1764],[83,4680,5952,1680],[13,1116,1230,1632],[33,7350,7440,1608],[33,4080,4320,1596],[15,0,120,1584],[83,5040,5640,1584],[15,8490,8640,1584],[33,4320,4860,1536],[33,4860,5190,1512],[15,8340,8490,1512],[10,2196,2520,1488],[33,7200,7350,1476],[15,7393.2,7416,1462],[10,2520,2868,1440],[82,2868,3030,1440],[33,7116,7200,1428],[15,7200,7393.2,1428],[15,8232,8340,1418],[13,0,876,1404],[33,6990,7116,1392],[13,612,687,1380],[13,876,1116,1368],[10,1116,1140,1368],[15,8034,8232,1350],[10,1800,2196,1344],[82,5052,5190,1332],[33,5190,6990,1332],[10,1140,1200,1320],[15,7968,8034,1320],[15,7416,7908,1316],[13,0,612,1296],[50,2196,2340,1296],[82,4350,4860,1272],[33,5490,5670,1272],[15,7908,7968,1266],[10,1200,1800,1260],[13,8232,8400,1260],[33,5670,6120,1236],[62,735,906,1212],[33,6120,6564,1212],[13,0,492,1200],[62,492,600,1200],[50,2340,2448,1200],[13,8400,8640,1200],[82,4860,5052,1164],[13,0,402,1152],[13,8490,8640,1152],[39,6543,6564,1140],[33,6564,6870,1140],[30,6870,6900,1140],[62,600,735,1128],[82,3030,3300,1128],[13,60,312,1104],[82,4320,4350,1080],[50,2448,2652,1068],[30,7887,7908,1056],[30,7875,7887,1050],[30,6900,6984,1044],[82,3300,3660,1008],[82,3660,3882,960],[8,5556,5670,960],[39,5670,5880,960],[50,3330,3450,954],[0,0,906,882],[62,906,924,882],[51,6969,6984,876],[62,1620,1689,864],[30,7824,7875,864],[44,7875,7920,864],[7,2352,2652,852],[50,2652,2790,852],[0,0,720,840],[44,7920,8214,840],[44,8214,8232,828],[0,8232,8460,828],[62,924,978,816],[82,3882,3960,816],[29,4320,4440,816],[50,2790,3330,804],[48,3330,3558,804],[0,258,507,792],[8,5466,5556,792],[0,8460,8550,770],[29,4440,4770,768],[0,8550,8640,752],[29,5025,5052,738],[80,870,978,736],[62,978,1620,736],[7,1620,1710,720],[51,6543,6969,720],[82,3960,4320,696],[30,7080,7530,696],[7,1710,2118,684],[48,3558,3780,684],[29,4770,5025,684],[0,0,24,672],[80,507,600,672],[7,2118,2352,672],[37,2838,2880,672],[30,7530,7824,672],[30,6933,7080,660],[80,690,870,654],[25,5820,5880,648],[8,5430,5466,624],[25,5466,5820,624],[51,6612,6792,624],[48,3870,3960,612],[51,6792,6933,612],[80,600,690,600],[66,258,306,570],[48,3780,3870,564],[87,7650,7710,564],[77,2052,2118,548],[0,24,51,528],[73,5730,5772,528],[37,2118,2238,516],[87,7140,7290,510],[87,6792,6930,506],[0,51,306,504],[87,7290,7404,492],[37,2811,2838,480],[87,7404,7650,468],[87,6930,7140,460],[6,1182,1212,456],[75,6792,6840,444],[59,2052,2076,432],[37,2238,2271,420],[75,6840,7140,388],[77,1788,1920,384],[39,5730,5790,384],[75,7140,7290,378],[77,1662,1788,372],[77,1920,2016,372],[23,4620,4860,360],[39,6210,6570,344],[23,4272,4620,336],[37,2700,2811,324],[39,6030,6210,308],[61,0,51,300],[77,2016,2076,300],[37,2520,2700,300],[61,7602,7680,300],[37,2271,2496,288],[39,6570,6792,288],[31,7515,7578,284],[61,7578,7602,284],[45,4146,4272,264],[59,2247,2271,240],[37,2496,2520,240],[21,2811,2853,240],[61,8580,8640,240],[6,600,1182,238],[31,7251,7308,204],[8,4860,5430,192],[61,8190,8580,180],[21,2853,3330,168],[45,3330,3870,168],[58,6570,6718.4,150],[3,6718.4,6792,150],[31,7500,7515,144],[20,2520,2526,132],[73,6570,6633,108],[39,5790,6030,96],[58,6570,6633,72],[61,7728,7800,66],[66,0,720,48],[73,6690,6792,48],[31,7308,7500,48],[34,7500,7680,48],[61,7680,7728,48],[61,7920,8190,48],[61,7800,7920,42],[20,2526,2592,36],[77,1290,1662,0],[59,1662,1680,0],[20,2592,2910,0],[85,5280,5430,0],[58,6420,6570,0],[16,954,1182,-42],[77,1182,1290,-42],[73,5430,5856,-78],[59,1680,1830,-96],[59,2100,2247,-96],[73,6420,6468,-96],[73,6570,6690,-96],[3,6690,6792,-96],[66,8190,8580,-96],[45,3870,4146,-144],[85,4146,4260,-144],[66,0,120,-168],[66,8580,8640,-168],[85,5130,5280,-192],[58,5730,5856,-192],[3,7200,7392,-216],[4,7680,7872,-216],[58,6180,6468,-240],[54,2100,2910,-264],[35,1770,1830,-264],[59,1830,2100,-264],[41,2910,3012,-264],[74,3450,3870,-264],[85,4260,4620,-264],[58,6330,6360,-280],[3,6792,7200,-288.8],[35,1740,1770,-348],[4,7392,7680,-360],[73,6180,6570,-384],[72,6570,6792,-384],[41,3012,3090,-408],[58,5856,5895,-438],[41,3090,3270,-456],[26,3870,3900,-456],[71,5856,5895,-462],[47,5640,5730,-480],[28,4530,4620,-528],[85,4620,5130,-528],[41,3270,3510,-576],[16,600,954,-585.2],[35,954,1350,-585.2],[26,3900,4260,-588],[28,4260,4530,-588],[47,5130,5370,-588],[58,5856,6030,-590],[16,0,600,-612],[11,7680,7872,-612],[4,7872,8580,-612],[16,8580,8640,-612],[41,3510,3690,-636],[35,1692,1740,-654],[46,1740,2202,-654],[11,7200,7680,-672],[41,3690,3810,-700],[41,4530,5370,-708],[47,5370,5640,-708],[71,5640,5760,-708],[35,1650,1692,-720],[58,6030,6336,-720],[76,6336,6420,-720],[41,3810,3900,-748],[19,2202,2652,-792],[41,4410,4530,-792],[41,3900,4410,-840],[36,1260,1350,-864],[68,3012,3372,-882],[35,1536,1650,-888],[76,6420,6900,-888],[65,7680,8280,-888],[70,8280,8400,-888],[36,1080,1260,-950],[1,3372,3960,-954],[70,0,600,-960],[36,600,1080,-960],[35,1392,1536,-960],[70,8400,8640,-960],[14,5100,5370,-1008],[49,5640,5760,-1008],[71,5760,5911.5,-1008],[9,1740,1800,-1032],[22,1800,2370,-1032],[67,2880,3012,-1032],[35,1230,1392,-1056],[71,5911.5,6420,-1092],[24,6420,6900,-1092],[76,6900,7320,-1092],[53,7320,7680,-1092],[35,1080,1230,-1104],[9,1620,1740,-1116],[49,5520,5640,-1152],[63,0,840,-1156],[35,960,1080,-1176],[40,1470,1536,-1176],[9,1536,1620,-1176],[38,7680,7920,-1200],[67,2160,2880,-1218],[84,2880,2940,-1218],[35,870,960,-1224],[40,1380,1470,-1224],[63,0,660,-1236],[12,2160,2220,-1260],[84,2940,3042,-1272],[40,1260,1380,-1276],[32,1380,1440,-1276],[63,0,570,-1284],[35,780,870,-1296],[64,1620,1800,-1296],[49,5418,5520,-1296],[84,3042,3180,-1308],[12,2220,2340,-1320],[14,4260,4620,-1320],[49,5100,5418,-1320],[56,5418,5520,-1320],[32,1440,1560,-1356],[84,3180,3960,-1356],[14,3960,4050,-1356],[5,6300,6480,-1368],[78,6480,7320,-1368],[38,7920,8400,-1368],[40,1152,1260,-1380],[64,1800,1980,-1380],[12,2340,2460,-1392],[63,0,480,-1404],[35,480,780,-1404],[63,8400,8640,-1404],[32,1560,1650,-1416],[56,5520,5911.5,-1440],[43,7320,7680,-1440],[64,1980,2160,-1464],[18,5460,5520,-1464],[5,5911.5,5970,-1464],[18,5370,5460,-1526],[5,5970,6030,-1526],[64,2160,2460,-1536],[12,2460,3252,-1536],[14,4050,4260,-1536],[27,4260,4620,-1536],[14,4620,5232,-1536],[18,4860,4920,-1560],[5,6030,6060,-1560],[40,780,1152,-1620],[69,1152,1650,-1620],[18,5310,5370,-1620],[5,6060,6300,-1620],[60,6300,6480,-1620],[81,7920,8400,-1620],[32,1650,2370,-1680],[18,4920,5310,-1680],[79,5310,6120,-1680],[81,0,480,-1800],[42,1260,1650,-1800],[86,2370,3252,-1800],[12,3252,4050,-1800],[55,4050,4920,-1800],[60,6480,7680,-1800],[43,7680,8400,-1800],[81,8400,8640,-1800],[81,270,480,-1824],[42,0,1260,-1980],[17,2760,4920,-1980],[2,4920,6480,-1980],[52,1260,2760,-2040],[57,0,8640,-2160]];let Os,Se;class Ga{constructor(U,Q,ut,mt){this.symbol=U,this.name=Q,this.ra1875=ut,this.dec1875=mt}}o.ConstellationInfo=Ga;function ha(D,U){if(Vt(D),Vt(U),U<-90||U>90)throw"Invalid declination angle. Must be -90..+90.";D%=24,D<0&&(D+=24),Os||(Os=_n(new j(-45655.74141261017)),Se=new j(0));const Q=new Ei(U,15*D,1),ut=Bn(Q,Se),mt=Ca(Os,ut),Mt=_a(mt),x=10/(4*60),T=x/15;for(let R of Ml){const Y=R[3]*x,rt=R[1]*T,et=R[2]*T;if(Y<=Mt.dec&&rt<=Mt.ra&&Mt.ra<et){const dt=Au[R[0]];return new Ga(dt[0],dt[1],Mt.ra,Mt.dec)}}throw"Unable to find constellation for given coordinates."}o.Constellation=ha;var Zi;(function(D){D.Penumbral="penumbral",D.Partial="partial",D.Annular="annular",D.Total="total"})(Zi=o.EclipseKind||(o.EclipseKind={}));class Wi{constructor(U,Q,ut,mt,Mt){this.kind=U,this.peak=Q,this.sd_penum=ut,this.sd_partial=mt,this.sd_total=Mt}}o.LunarEclipseInfo=Wi;class fa{constructor(U,Q,ut,mt,Mt,x,T){this.time=U,this.u=Q,this.r=ut,this.k=mt,this.p=Mt,this.target=x,this.dir=T}}function ul(D,U,Q,ut){const mt=(ut.x*Q.x+ut.y*Q.y+ut.z*Q.z)/(ut.x*ut.x+ut.y*ut.y+ut.z*ut.z),Mt=mt*ut.x-Q.x,x=mt*ut.y-Q.y,T=mt*ut.z-Q.z,R=o.KM_PER_AU*Math.hypot(Mt,x,T),Y=+X-(1+mt)*(X-D),rt=-X+(1+mt)*(X+D);return new fa(U,mt,R,Y,rt,Q,ut)}function ba(D){const U=ea(qt.Earth,D),Q=oa(D);return ul(Bt,D,Q,U)}function Kl(D){const U=ea(qt.Earth,D),Q=oa(D),ut=new wn(-Q.x,-Q.y,-Q.z,Q.t);return Q.x+=U.x,Q.y+=U.y,Q.z+=U.z,ul(Xt,D,ut,Q)}function $a(D,U){const Q=_i(D,U),ut=ea(qt.Earth,D),mt=oa(D),Mt=new wn(Q[0]-mt.x,Q[1]-mt.y,Q[2]-mt.z,D);return mt.x+=ut.x,mt.y+=ut.y,mt.z+=ut.z,ul(Xt,D,Mt,mt)}function Xs(D,U,Q){const ut=Mr(D,Q,!1),mt=Mr(ht.Sun,Q,!1),Mt=new wn(ut.x-mt.x,ut.y-mt.y,ut.z-mt.z,Q);return mt.x=-ut.x,mt.y=-ut.y,mt.z=-ut.z,ul(U,Q,mt,Mt)}function Fs(D,U){const Q=11574074074074073e-21,ut=U.AddDays(-Q),mt=U.AddDays(+Q),Mt=D(ut);return(D(mt).r-Mt.r)/Q}function Rl(D,U,Q){const ut=11574074074074073e-21,mt=Xs(D,U,Q.AddDays(-ut));return(Xs(D,U,Q.AddDays(+ut)).r-mt.r)/ut}function $l(D){const Q=D.AddDays(-.03),ut=D.AddDays(.03),mt=mr(Mt=>Fs(ba,Mt),Q,ut);if(!mt)throw"Failed to find peak Earth shadow time.";return ba(mt)}function Mu(D){const Q=D.AddDays(-.03),ut=D.AddDays(.03),mt=mr(Mt=>Fs(Kl,Mt),Q,ut);if(!mt)throw"Failed to find peak Moon shadow time.";return Kl(mt)}function Zl(D,U,Q){const mt=Q.AddDays(-1),Mt=Q.AddDays(1),x=mr(T=>Rl(D,U,T),mt,Mt);if(!x)throw"Failed to find peak planet shadow time.";return Xs(D,U,x)}function cl(D,U){const ut=D.AddDays(-.2),mt=D.AddDays(.2);function Mt(T){return $a(T,U)}const x=mr(T=>Fs(Mt,T),ut,mt);if(!x)throw`PeakLocalMoonShadow: search failure for search_center_time = ${D}`;return $a(x,U)}function oc(D,U,Q){const ut=Q/1440,mt=D.AddDays(-ut),Mt=D.AddDays(+ut),x=mr(R=>-(ba(R).r-U),mt,D),T=mr(R=>+(ba(R).r-U),D,Mt);if(!x||!T)throw"Failed to find shadow semiduration";return(T.ut-x.ut)*(24*60/2)}function ac(D){const U=sn(D);return o.RAD2DEG*U.geo_eclip_lat}function a0(D){let Q=st(D);for(let ut=0;ut<12;++ut){const mt=Ie(180,Q,40);if(!mt)throw"Cannot find full moon.";const Mt=ac(mt);if(Math.abs(Mt)<1.8){const x=$l(mt);if(x.r<x.p+Xt){let T=Zi.Penumbral,R=0,Y=0,rt=oc(x.time,x.p+Xt,200);return x.r<x.k+Xt&&(T=Zi.Partial,Y=oc(x.time,x.k+Xt,rt),x.r+Xt<x.k&&(T=Zi.Total,R=oc(x.time,x.k-Xt,Y))),new Wi(T,x.time,rt,Y,R)}}Q=mt.AddDays(10)}throw"Failed to find lunar eclipse within 12 full moons."}o.SearchLunarEclipse=a0;class Ru{constructor(U,Q,ut,mt,Mt){this.kind=U,this.peak=Q,this.distance=ut,this.latitude=mt,this.longitude=Mt}}o.GlobalSolarEclipseInfo=Ru;function sc(D){return D>.014?Zi.Total:Zi.Annular}function Yo(D){let U=Zi.Partial,Q=D.time,ut=D.r,mt,Mt;const x=_n(D.time),T=Ca(x,D.dir),R=Ca(x,D.target);T.x*=o.KM_PER_AU,T.y*=o.KM_PER_AU,T.z*=o.KM_PER_AU/J,R.x*=o.KM_PER_AU,R.y*=o.KM_PER_AU,R.z*=o.KM_PER_AU/J;const Y=pt,rt=T.x*T.x+T.y*T.y+T.z*T.z,et=-2*(T.x*R.x+T.y*R.y+T.z*R.z),dt=R.x*R.x+R.y*R.y+R.z*R.z-Y*Y,Ot=et*et-4*rt*dt;if(Ot>0){const Et=(-et-Math.sqrt(Ot))/(2*rt),ie=Et*T.x-R.x,_e=Et*T.y-R.y,ce=(Et*T.z-R.z)*J,De=Math.hypot(ie,_e)*nt;De==0?mt=ce>0?90:-90:mt=o.RAD2DEG*Math.atan(ce/De);const $e=kn(Q);Mt=(o.RAD2DEG*Math.atan2(_e,ie)-15*$e)%360,Mt<=-180?Mt+=360:Mt>180&&(Mt-=360);const Je=Xn(x);let pr=new wn(ie/o.KM_PER_AU,_e/o.KM_PER_AU,ce/o.KM_PER_AU,D.time);pr=Ca(Je,pr),pr.x+=D.target.x,pr.y+=D.target.y,pr.z+=D.target.z;const Hr=ul(It,D.time,pr,D.dir);if(Hr.r>1e-9||Hr.r<0)throw`Unexpected shadow distance from geoid intersection = ${Hr.r}`;U=sc(Hr.k)}return new Ru(U,Q,ut,mt,Mt)}function bc(D){D=st(D);const U=D.AddDays(10);return a0(U)}o.NextLunarEclipse=bc;function Ds(D){D=st(D);const U=1.8;let Q=D,ut;for(ut=0;ut<12;++ut){const mt=Ie(0,Q,40);if(!mt)throw"Cannot find new moon";const Mt=ac(mt);if(Math.abs(Mt)<U){const x=Mu(mt);if(x.r<x.p+_t)return Yo(x)}Q=mt.AddDays(10)}throw"Failed to find solar eclipse within 12 full moons."}o.SearchGlobalSolarEclipse=Ds;function lc(D){D=st(D);const U=D.AddDays(10);return Ds(U)}o.NextGlobalSolarEclipse=lc;class ql{constructor(U,Q){this.time=U,this.altitude=Q}}o.EclipseEvent=ql;class s0{constructor(U,Q,ut,mt,Mt,x){this.kind=U,this.partial_begin=Q,this.total_begin=ut,this.peak=mt,this.total_end=Mt,this.partial_end=x}}o.LocalSolarEclipseInfo=s0;function As(D){return D.p-D.r}function js(D){return Math.abs(D.k)-D.r}function da(D,U){const mt=Cu(U,D.time);let Mt=D.time.AddDays(-.2),x=D.time.AddDays(.2);const T=hl(U,1,As,Mt,D.time),R=hl(U,-1,As,D.time,x);let Y,rt,et;return D.r<Math.abs(D.k)?(Mt=D.time.AddDays(-.01),x=D.time.AddDays(.01),Y=hl(U,1,js,Mt,D.time),rt=hl(U,-1,js,D.time,x),et=sc(D.k)):et=Zi.Partial,new s0(et,T,Y,mt,rt,R)}function hl(D,U,Q,ut,mt){function Mt(T){const R=$a(T,D);return U*Q(R)}const x=mr(Mt,ut,mt);if(!x)throw"Local eclipse transition search failed.";return Cu(D,x)}function Cu(D,U){const Q=bu(U,D);return new ql(U,Q)}function bu(D,U){const Q=ia(ht.Sun,D,U,!0,!0);return Ma(D,U,Q.ra,Q.dec,"normal").altitude}function Lc(D,U){D=st(D),Ra(U);const Q=1.8;let ut=D;for(;;){const mt=Ie(0,ut,40);if(!mt)throw"Cannot find next new moon";const Mt=ac(mt);if(Math.abs(Mt)<Q){const x=cl(mt,U);if(x.r<x.p){const T=da(x,U);if(T.partial_begin.altitude>0||T.partial_end.altitude>0)return T}}ut=mt.AddDays(10)}}o.SearchLocalSolarEclipse=Lc;function Jl(D,U){D=st(D);const Q=D.AddDays(10);return Lc(Q,U)}o.NextLocalSolarEclipse=Jl;class Cl{constructor(U,Q,ut,mt){this.start=U,this.peak=Q,this.finish=ut,this.separation=mt}}o.TransitInfo=Cl;function l0(D,U,Q,ut){const mt=Xs(U,Q,D);return ut*(mt.r-mt.p)}function Lu(D,U,Q,ut,mt){const Mt=mr(x=>l0(x,D,U,mt),Q,ut);if(!Mt)throw"Planet transit boundary search failed";return Mt}function zn(D,U){U=st(U);const Q=.4,ut=1;let mt;switch(D){case ht.Mercury:mt=2439.7;break;case ht.Venus:mt=6051.8;break;default:throw`Invalid body: ${D}`}let Mt=U;for(;;){const x=se(D,0,Mt);if(wr(D,x)<Q){const R=Zl(D,mt,x);if(R.r<R.p){const Y=R.time.AddDays(-ut),rt=Lu(D,mt,Y,R.time,-1),et=R.time.AddDays(+ut),dt=Lu(D,mt,R.time,et,1),Ot=60*wr(D,R.time);return new Cl(rt,R.time,dt,Ot)}}Mt=x.AddDays(10)}}o.SearchTransit=zn;function Iu(D,U){U=st(U);const Q=U.AddDays(100);return zn(D,Q)}o.NextTransit=Iu;var Ks;(function(D){D[D.Invalid=0]="Invalid",D[D.Ascending=1]="Ascending",D[D.Descending=-1]="Descending"})(Ks=o.NodeEventKind||(o.NodeEventKind={}));class $s{constructor(U,Q){this.kind=U,this.time=Q}}o.NodeEventInfo=$s;const fl=10;function Ql(D){let U=st(D),Q=ll(U);for(;;){const ut=U.AddDays(fl),mt=ll(ut);if(Q.lat*mt.lat<=0){const Mt=mt.lat>Q.lat?Ks.Ascending:Ks.Descending,x=mr(T=>Mt*ll(T).lat,U,ut);if(!x)throw"Could not find moon node.";return new $s(Mt,x)}U=ut,Q=mt}}o.SearchMoonNode=Ql;function dl(D){const U=D.time.AddDays(fl),Q=Ql(U);switch(D.kind){case Ks.Ascending:if(Q.kind!==Ks.Descending)throw`Internal error: previous node was ascending, but this node was: ${Q.kind}`;break;case Ks.Descending:if(Q.kind!==Ks.Ascending)throw`Internal error: previous node was descending, but this node was: ${Q.kind}`;break;default:throw`Previous node has an invalid node kind: ${D.kind}`}return Q}o.NextMoonNode=dl;class Eo{constructor(U,Q,ut,mt){this.ra=U,this.dec=Q,this.spin=ut,this.north=mt}}o.AxisInfo=Eo;function pl(D){const U=an([0,0,1],D,Ct.Into2000),Q=Fn(U,D,Ct.Into2000),ut=new wn(Q[0],Q[1],Q[2],D),mt=_a(ut),Mt=190.41375788700253+360.9856122880876*D.ut;return new Eo(mt.ra,mt.dec,Mt,ut)}function bl(D,U){const Q=st(U),ut=Q.tt,mt=ut/36525;let Mt,x,T;switch(D){case ht.Sun:Mt=286.13,x=63.87,T=84.176+14.1844*ut;break;case ht.Mercury:Mt=281.0103-.0328*mt,x=61.4155-.0049*mt,T=329.5988+6.1385108*ut+.01067257*Math.sin(o.DEG2RAD*(174.7910857+4.092335*ut))-.00112309*Math.sin(o.DEG2RAD*(349.5821714+8.18467*ut))-1104e-7*Math.sin(o.DEG2RAD*(164.3732571+12.277005*ut))-2539e-8*Math.sin(o.DEG2RAD*(339.1643429+16.36934*ut))-571e-8*Math.sin(o.DEG2RAD*(153.9554286+20.461675*ut));break;case ht.Venus:Mt=272.76,x=67.16,T=160.2-1.4813688*ut;break;case ht.Earth:return pl(Q);case ht.Moon:const dt=o.DEG2RAD*(125.045-.0529921*ut),Ot=o.DEG2RAD*(250.089-.1059842*ut),Et=o.DEG2RAD*(260.008+13.0120009*ut),ie=o.DEG2RAD*(176.625+13.3407154*ut),_e=o.DEG2RAD*(357.529+.9856003*ut),ce=o.DEG2RAD*(311.589+26.4057084*ut),De=o.DEG2RAD*(134.963+13.064993*ut),$e=o.DEG2RAD*(276.617+.3287146*ut),Je=o.DEG2RAD*(34.226+1.7484877*ut),pr=o.DEG2RAD*(15.134-.1589763*ut),Hr=o.DEG2RAD*(119.743+.0036096*ut),on=o.DEG2RAD*(239.961+.1643573*ut),qr=o.DEG2RAD*(25.053+12.9590088*ut);Mt=269.9949+.0031*mt-3.8787*Math.sin(dt)-.1204*Math.sin(Ot)+.07*Math.sin(Et)-.0172*Math.sin(ie)+.0072*Math.sin(ce)-.0052*Math.sin(pr)+.0043*Math.sin(qr),x=66.5392+.013*mt+1.5419*Math.cos(dt)+.0239*Math.cos(Ot)-.0278*Math.cos(Et)+.0068*Math.cos(ie)-.0029*Math.cos(ce)+9e-4*Math.cos(De)+8e-4*Math.cos(pr)-9e-4*Math.cos(qr),T=38.3213+(13.17635815-14e-13*ut)*ut+3.561*Math.sin(dt)+.1208*Math.sin(Ot)-.0642*Math.sin(Et)+.0158*Math.sin(ie)+.0252*Math.sin(_e)-.0066*Math.sin(ce)-.0047*Math.sin(De)-.0046*Math.sin($e)+.0028*Math.sin(Je)+.0052*Math.sin(pr)+.004*Math.sin(Hr)+.0019*Math.sin(on)-.0044*Math.sin(qr);break;case ht.Mars:Mt=317.269202-.10927547*mt+68e-6*Math.sin(o.DEG2RAD*(198.991226+19139.4819985*mt))+238e-6*Math.sin(o.DEG2RAD*(226.292679+38280.8511281*mt))+52e-6*Math.sin(o.DEG2RAD*(249.663391+57420.7251593*mt))+9e-6*Math.sin(o.DEG2RAD*(266.18351+76560.636795*mt))+.419057*Math.sin(o.DEG2RAD*(79.398797+.5042615*mt)),x=54.432516-.05827105*mt+51e-6*Math.cos(o.DEG2RAD*(122.433576+19139.9407476*mt))+141e-6*Math.cos(o.DEG2RAD*(43.058401+38280.8753272*mt))+31e-6*Math.cos(o.DEG2RAD*(57.663379+57420.7517205*mt))+5e-6*Math.cos(o.DEG2RAD*(79.476401+76560.6495004*mt))+1.591274*Math.cos(o.DEG2RAD*(166.325722+.5042615*mt)),T=176.049863+350.891982443297*ut+145e-6*Math.sin(o.DEG2RAD*(129.071773+19140.0328244*mt))+157e-6*Math.sin(o.DEG2RAD*(36.352167+38281.0473591*mt))+4e-5*Math.sin(o.DEG2RAD*(56.668646+57420.929536*mt))+1e-6*Math.sin(o.DEG2RAD*(67.364003+76560.2552215*mt))+1e-6*Math.sin(o.DEG2RAD*(104.79268+95700.4387578*mt))+.584542*Math.sin(o.DEG2RAD*(95.391654+.5042615*mt));break;case ht.Jupiter:const Jr=o.DEG2RAD*(99.360714+4850.4046*mt),or=o.DEG2RAD*(175.895369+1191.9605*mt),vn=o.DEG2RAD*(300.323162+262.5475*mt),Qn=o.DEG2RAD*(114.012305+6070.2476*mt),Ni=o.DEG2RAD*(49.511251+64.3*mt);Mt=268.056595-.006499*mt+117e-6*Math.sin(Jr)+938e-6*Math.sin(or)+.001432*Math.sin(vn)+3e-5*Math.sin(Qn)+.00215*Math.sin(Ni),x=64.495303+.002413*mt+5e-5*Math.cos(Jr)+404e-6*Math.cos(or)+617e-6*Math.cos(vn)-13e-6*Math.cos(Qn)+926e-6*Math.cos(Ni),T=284.95+870.536*ut;break;case ht.Saturn:Mt=40.589-.036*mt,x=83.537-.004*mt,T=38.9+810.7939024*ut;break;case ht.Uranus:Mt=257.311,x=-15.175,T=203.81-501.1600928*ut;break;case ht.Neptune:const xi=o.DEG2RAD*(357.85+52.316*mt);Mt=299.36+.7*Math.sin(xi),x=43.46-.51*Math.cos(xi),T=249.978+541.1397757*ut-.48*Math.sin(xi);break;case ht.Pluto:Mt=132.993,x=-6.163,T=302.695+56.3625225*ut;break;default:throw`Invalid body: ${D}`}const R=x*o.DEG2RAD,Y=Mt*o.DEG2RAD,rt=Math.cos(R),et=new wn(rt*Math.cos(Y),rt*Math.sin(Y),Math.sin(R),Q);return new Eo(Mt/15,x,T,et)}o.RotationAxis=bl;function Jn(D,U,Q,ut){const mt=st(U),Mt=Qe(Q),x=Qe(ut);let T,R;return Q===ht.Earth&&ut===ht.Moon?(T=new nn(0,0,0,0,0,0,mt),R=xo(mt)):(T=Ue(Q,mt),R=Ue(ut,mt)),Ll(D,T,Mt,R,x)}o.LagrangePoint=Jn;function Ll(D,U,Q,ut,mt){const x=.8660254037844386;if(D<1||D>5)throw`Invalid lagrange point ${D}`;if(!Number.isFinite(Q)||Q<=0)throw"Major mass must be a positive number.";if(!Number.isFinite(mt)||mt<=0)throw"Minor mass must be a negative number.";let T=ut.x-U.x,R=ut.y-U.y,Y=ut.z-U.z;const rt=T*T+R*R+Y*Y,et=Math.sqrt(rt),dt=ut.vx-U.vx,Ot=ut.vy-U.vy,Et=ut.vz-U.vz;let ie;if(D===4||D===5){const _e=R*Et-Y*Ot,ce=Y*dt-T*Et,De=T*Ot-R*dt;let $e=ce*Y-De*R,Je=De*T-_e*Y,pr=_e*R-ce*T;const Hr=Math.sqrt($e*$e+Je*Je+pr*pr);$e/=Hr,Je/=Hr,pr/=Hr,T/=et,R/=et,Y/=et;const on=D==4?+x:-x,qr=.5*T+on*$e,Jr=.5*R+on*Je,or=.5*Y+on*pr,vn=.5*$e-on*T,Qn=.5*Je-on*R,Ni=.5*pr-on*Y,xi=et*qr,Yi=et*Jr,qi=et*or,ro=dt*T+Ot*R+Et*Y,so=dt*$e+Ot*Je+Et*pr,Sa=ro*qr+so*vn,Ci=ro*Jr+so*Qn,ra=ro*or+so*Ni;ie=new nn(xi,Yi,qi,Sa,Ci,ra,U.t)}else{const _e=-et*(mt/(Q+mt)),ce=+et*(Q/(Q+mt)),De=(Q+mt)/(rt*et);let $e,Je,pr;if(D===1||D===2)$e=Q/(Q+mt)*Math.cbrt(mt/(3*Q)),Je=-Q,D==1?($e=1-$e,pr=+mt):($e=1+$e,pr=-mt);else if(D===3)$e=(7/12*mt-Q)/(mt+Q),Je=+Q,pr=+mt;else throw`Invalid Langrage point ${D}. Must be an integer 1..5.`;let Hr=et*$e-_e,on;do{const qr=Hr-_e,Jr=Hr-ce,or=De*Hr+Je/(qr*qr)+pr/(Jr*Jr),vn=De-2*Je/(qr*qr*qr)-2*pr/(Jr*Jr*Jr);on=or/vn,Hr-=on}while(Math.abs(on/et)>1e-14);$e=(Hr-_e)/et,ie=new nn($e*T,$e*R,$e*Y,$e*dt,$e*Ot,$e*Et,U.t)}return ie}o.LagrangePointFast=Ll})(wo);const bv={},mu=class{constructor(l,u){zs(this,"unixTime");zs(this,"longitude");zs(this,"year");zs(this,"moon");zs(this,"week");zs(this,"weekOfMoon");zs(this,"day");zs(this,"dayOfYear");zs(this,"dayOfMoon");zs(this,"dayOfWeek");zs(this,"isRainbowDay");zs(this,"time");zs(this,"yearStart");zs(this,"yearDuration");zs(this,"nadir");if(l=new Date(l),this.unixTime=l.getTime(),this.longitude=u,Number.isFinite(this.unixTime)){const s=(v,y)=>{let E=`${v}_${y}`;if(bv!=null&&bv[E])return bv[E];let w=wo.Seasons(v).dec_solstice.date,M=wo.Seasons(v+1).dec_solstice.date,A=Date.UTC(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()+(w.getUTCHours()>=12?1:0),12,0,0),I=Date.UTC(M.getUTCFullYear(),M.getUTCMonth(),M.getUTCDate()+(M.getUTCHours()>=12?1:0),12,0,0);return bv[E]={start:parseInt(A+(-y+180)*mu.MILLISECONDS_PER_DAY/360),duration:(I-A)/mu.MILLISECONDS_PER_DAY}};let h=s(l.getUTCFullYear()-1,u);this.unixTime-h.start>=h.duration*mu.MILLISECONDS_PER_DAY&&(h=s(l.getUTCFullYear(),u)),this.yearStart=h.start,this.yearDuration=h.duration;let d=(this.unixTime-this.yearStart)/mu.MILLISECONDS_PER_DAY;this.year=new Date(this.yearStart).getUTCFullYear()-new Date(mu.END_OF_ARTIFICIAL_TIME).getUTCFullYear()+1,this.moon=parseInt(d/28)+1,this.week=parseInt(d/7)+1,this.weekOfMoon=parseInt(d/7)%4+1,this.day=parseInt((this.unixTime-(mu.END_OF_ARTIFICIAL_TIME+(-u+180)*mu.MILLISECONDS_PER_DAY/360))/mu.MILLISECONDS_PER_DAY),this.dayOfYear=parseInt(d)+1,this.dayOfMoon=parseInt(d)%28+1,this.dayOfWeek=parseInt(d)%7+1,this.nadir=this.yearStart+parseInt(d)*mu.MILLISECONDS_PER_DAY,this.time=(this.unixTime-this.nadir)*360/mu.MILLISECONDS_PER_DAY,this.isRainbowDay=this.dayOfYear>13*28;return}throw"Argument must be a Date object or a Unix timestamp"}getTimeOfEvent(l){return l=new Date(l).getTime(),l<this.nadir||l>this.nadir+mu.MILLISECONDS_PER_DAY?!1:(l-this.nadir)*(360/mu.MILLISECONDS_PER_DAY)}toString(){return this.toDateString()+" "+this.toTimeString()+" "+this.toLongitudeString()}toDateString(l=")"){return this.isRainbowDay?`${this.toYearString()}${l}RAINBOW${this.dayOfYear==366?"+":""}`:`${this.toYearString()}${l}${this.toMoonString()}${l}${this.toDayOfMoonString()}`}toTimeString(l=2,u=1){let s=parseInt(this.time),h=parseInt(this.time%1*Math.pow(10,l));return h=Math.floor(h/u)*u,String(s).padStart(3,"0")+"\xB0"+(l?String(h).padStart(l,"0"):"")}toLongitudeString(l=1){return this.longitude==0?"NTZ":"NT"+(this.longitude>0?"+":"")+this.longitude.toFixed(l)}toYearString(){return(this.year<0?"-":"")+String(Math.abs(this.year)).padStart(3,"0")}toMoonString(){return String(this.moon).padStart(2,"0")}toDayOfMoonString(){return String(this.dayOfMoon).padStart(2,"0")}};let O4=mu;zs(O4,"END_OF_ARTIFICIAL_TIME",13560912e5),zs(O4,"MILLISECONDS_PER_DAY",864e5);var VJ={};/**
    @preserve

    Astronomy library for JavaScript (browser and Node.js).
    https://github.com/cosinekitty/astronomy

    MIT License

    Copyright (c) 2019-2022 Don Cross <cosinekitty@gmail.com>

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
*/(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.HelioDistance=o.HelioVector=o.JupiterMoons=o.JupiterMoonsInfo=o.GeoEmbState=o.GeoMoonState=o.EclipticGeoMoon=o.GeoMoon=o.Ecliptic=o.ObserverGravity=o.VectorObserver=o.ObserverState=o.ObserverVector=o.Equator=o.SunPosition=o.Observer=o.Horizon=o.EclipticCoordinates=o.HorizontalCoordinates=o.MakeRotation=o.RotationMatrix=o.EquatorialCoordinates=o.Spherical=o.StateVector=o.Vector=o.SiderealTime=o.Libration=o.LibrationInfo=o.CalcMoonCount=o.MakeTime=o.AstroTime=o.SetDeltaTFunction=o.DeltaT_JplHorizons=o.DeltaT_EspenakMeeus=o.Body=o.AngleBetween=o.MassProduct=o.CALLISTO_RADIUS_KM=o.GANYMEDE_RADIUS_KM=o.EUROPA_RADIUS_KM=o.IO_RADIUS_KM=o.JUPITER_MEAN_RADIUS_KM=o.JUPITER_POLAR_RADIUS_KM=o.JUPITER_EQUATORIAL_RADIUS_KM=o.RAD2HOUR=o.RAD2DEG=o.HOUR2RAD=o.DEG2RAD=o.KM_PER_AU=o.C_AUDAY=void 0,o.Rotation_ECL_EQJ=o.Rotation_EQJ_ECL=o.RotateState=o.RotateVector=o.InverseRefraction=o.Refraction=o.VectorFromHorizon=o.HorizonFromVector=o.SphereFromVector=o.EquatorFromVector=o.VectorFromSphere=o.Pivot=o.IdentityMatrix=o.CombineRotation=o.InverseRotation=o.NextPlanetApsis=o.SearchPlanetApsis=o.NextLunarApsis=o.SearchLunarApsis=o.Apsis=o.ApsisKind=o.SearchPeakMagnitude=o.SearchMaxElongation=o.Elongation=o.ElongationEvent=o.Seasons=o.SeasonInfo=o.SearchHourAngle=o.HourAngleEvent=o.SearchAltitude=o.SearchRiseSet=o.NextMoonQuarter=o.SearchMoonQuarter=o.MoonQuarter=o.SearchMoonPhase=o.MoonPhase=o.SearchRelativeLongitude=o.Illumination=o.IlluminationInfo=o.EclipticLongitude=o.AngleFromSun=o.PairLongitude=o.SearchSunLongitude=o.Search=o.HelioState=o.BaryState=o.GeoVector=o.BackdatePosition=o.CorrectLightTravel=o.PositionFunction=void 0,o.GravitySimulator=o.LagrangePointFast=o.LagrangePoint=o.RotationAxis=o.AxisInfo=o.NextMoonNode=o.SearchMoonNode=o.NodeEventInfo=o.NodeEventKind=o.NextTransit=o.SearchTransit=o.TransitInfo=o.NextLocalSolarEclipse=o.SearchLocalSolarEclipse=o.LocalSolarEclipseInfo=o.EclipseEvent=o.NextGlobalSolarEclipse=o.SearchGlobalSolarEclipse=o.NextLunarEclipse=o.GlobalSolarEclipseInfo=o.SearchLunarEclipse=o.LunarEclipseInfo=o.EclipseKind=o.Constellation=o.ConstellationInfo=o.Rotation_GAL_EQJ=o.Rotation_EQJ_GAL=o.Rotation_HOR_ECL=o.Rotation_ECL_HOR=o.Rotation_ECL_EQD=o.Rotation_EQD_ECL=o.Rotation_EQJ_HOR=o.Rotation_HOR_EQJ=o.Rotation_HOR_EQD=o.Rotation_EQD_HOR=o.Rotation_EQD_EQJ=o.Rotation_EQJ_EQD=void 0,o.C_AUDAY=173.1446326846693,o.KM_PER_AU=14959787069098932e-8,o.DEG2RAD=.017453292519943295,o.HOUR2RAD=.26179938779914946,o.RAD2DEG=57.29577951308232,o.RAD2HOUR=3.819718634205488,o.JUPITER_EQUATORIAL_RADIUS_KM=71492,o.JUPITER_POLAR_RADIUS_KM=66854,o.JUPITER_MEAN_RADIUS_KM=69911,o.IO_RADIUS_KM=1821.6,o.EUROPA_RADIUS_KM=1560.8,o.GANYMEDE_RADIUS_KM=2631.2,o.CALLISTO_RADIUS_KM=2410.3;const l=365.24217,u=new Date("2000-01-01T12:00:00Z"),s=2*Math.PI,h=3600*(180/Math.PI),d=484813681109536e-20,v=180*60*60,y=2*v,E=7292115e-11,w=v/Math.PI,M=-.17-5*Math.log10(w),A=29.530588,I=24*3600,K=I*1e3,z=.9972695717592592,X=695700,H=X/o.KM_PER_AU,J=.996647180302104,nt=J*J,pt=6378.1366,it=pt/o.KM_PER_AU,N=pt*J,_t=6371,Bt=_t+88,St=1738.1,Xt=1737.4,It=1736,Dt=St/o.KM_PER_AU,Jt=34/60,le=81.30056,Ve=.0002959122082855911,gt=4912547451450812e-26,Yt=7243452486162703e-25,oe=8887692390113509e-25,nr=9549535105779258e-26,ir=2825345909524226e-22,Ke=8459715185680659e-23,Ge=1292024916781969e-23,Pr=1524358900784276e-23,Kr=218869976542597e-26,pe=oe/le;function Qe(x){switch(x){case ht.Sun:return Ve;case ht.Mercury:return gt;case ht.Venus:return Yt;case ht.Earth:return oe;case ht.Moon:return pe;case ht.EMB:return oe+pe;case ht.Mars:return nr;case ht.Jupiter:return ir;case ht.Saturn:return Ke;case ht.Uranus:return Ge;case ht.Neptune:return Pr;case ht.Pluto:return Kr;default:throw`Do not know mass product for body: ${x}`}}o.MassProduct=Qe;let Er,Nr,Pn;function Br(x){if(x!==!0&&x!==!1)throw console.trace(),`Value is not boolean: ${x}`;return x}function Vt(x){if(!Number.isFinite(x))throw console.trace(),`Value is not a finite number: ${x}`;return x}function Qt(x){return x-Math.floor(x)}function At(x,T){const R=x.x*x.x+x.y*x.y+x.z*x.z;if(Math.abs(R)<1e-8)throw"AngleBetween: first vector is too short.";const Y=T.x*T.x+T.y*T.y+T.z*T.z;if(Math.abs(Y)<1e-8)throw"AngleBetween: second vector is too short.";const rt=(x.x*T.x+x.y*T.y+x.z*T.z)/Math.sqrt(R*Y);return rt<=-1?180:rt>=1?0:o.RAD2DEG*Math.acos(rt)}o.AngleBetween=At;var ht;(function(x){x.Sun="Sun",x.Moon="Moon",x.Mercury="Mercury",x.Venus="Venus",x.Earth="Earth",x.Mars="Mars",x.Jupiter="Jupiter",x.Saturn="Saturn",x.Uranus="Uranus",x.Neptune="Neptune",x.Pluto="Pluto",x.SSB="SSB",x.EMB="EMB"})(ht=o.Body||(o.Body={}));var Ct;(function(x){x[x.From2000=0]="From2000",x[x.Into2000=1]="Into2000"})(Ct||(Ct={}));const te={Mercury:{OrbitalPeriod:87.969},Venus:{OrbitalPeriod:224.701},Earth:{OrbitalPeriod:365.256},Mars:{OrbitalPeriod:686.98},Jupiter:{OrbitalPeriod:4332.589},Saturn:{OrbitalPeriod:10759.22},Uranus:{OrbitalPeriod:30685.4},Neptune:{OrbitalPeriod:60189},Pluto:{OrbitalPeriod:90560}},qt={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function fe(x){var T,R,Y,rt,et,dt,Ot;const Et=2e3+(x-14)/l;return Et<-500?(T=(Et-1820)/100,-20+32*T*T):Et<500?(T=Et/100,R=T*T,Y=T*R,rt=R*R,et=R*Y,dt=Y*Y,10583.6-1014.41*T+33.78311*R-5.952053*Y-.1798452*rt+.022174192*et+.0090316521*dt):Et<1600?(T=(Et-1e3)/100,R=T*T,Y=T*R,rt=R*R,et=R*Y,dt=Y*Y,1574.2-556.01*T+71.23472*R+.319781*Y-.8503463*rt-.005050998*et+.0083572073*dt):Et<1700?(T=Et-1600,R=T*T,Y=T*R,120-.9808*T-.01532*R+Y/7129):Et<1800?(T=Et-1700,R=T*T,Y=T*R,rt=R*R,8.83+.1603*T-.0059285*R+13336e-8*Y-rt/1174e3):Et<1860?(T=Et-1800,R=T*T,Y=T*R,rt=R*R,et=R*Y,dt=Y*Y,Ot=Y*rt,13.72-.332447*T+.0068612*R+.0041116*Y-37436e-8*rt+121272e-10*et-1699e-10*dt+875e-12*Ot):Et<1900?(T=Et-1860,R=T*T,Y=T*R,rt=R*R,et=R*Y,7.62+.5737*T-.251754*R+.01680668*Y-.0004473624*rt+et/233174):Et<1920?(T=Et-1900,R=T*T,Y=T*R,rt=R*R,-2.79+1.494119*T-.0598939*R+.0061966*Y-197e-6*rt):Et<1941?(T=Et-1920,R=T*T,Y=T*R,21.2+.84493*T-.0761*R+.0020936*Y):Et<1961?(T=Et-1950,R=T*T,Y=T*R,29.07+.407*T-R/233+Y/2547):Et<1986?(T=Et-1975,R=T*T,Y=T*R,45.45+1.067*T-R/260-Y/718):Et<2005?(T=Et-2e3,R=T*T,Y=T*R,rt=R*R,et=R*Y,63.86+.3345*T-.060374*R+.0017275*Y+651814e-9*rt+2373599e-11*et):Et<2050?(T=Et-2e3,62.92+.32217*T+.005589*T*T):Et<2150?(T=(Et-1820)/100,-20+32*T*T-.5628*(2150-Et)):(T=(Et-1820)/100,-20+32*T*T)}o.DeltaT_EspenakMeeus=fe;function Pe(x){return fe(Math.min(x,17*l))}o.DeltaT_JplHorizons=Pe;let Be=fe;function ue(x){Be=x}o.SetDeltaTFunction=ue;function ft(x){return x+Be(x)/86400}class j{constructor(T){if(T instanceof j){this.date=T.date,this.ut=T.ut,this.tt=T.tt;return}const R=1e3*3600*24;if(T instanceof Date&&Number.isFinite(T.getTime())){this.date=T,this.ut=(T.getTime()-u.getTime())/R,this.tt=ft(this.ut);return}if(Number.isFinite(T)){this.date=new Date(u.getTime()+T*R),this.ut=T,this.tt=ft(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(T){let R=new j(T);for(;;){const Y=T-R.tt;if(Math.abs(Y)<1e-12)return R;R=R.AddDays(Y)}}toString(){return this.date.toISOString()}AddDays(T){return new j(this.ut+T)}}o.AstroTime=j;function W(x,T,R){return new j(x.ut+R*(T.ut-x.ut))}function st(x){return x instanceof j?x:new j(x)}o.MakeTime=st;const $t=[[[0,0,0,0,1],[-172064161,-174666,33386,92052331,9086,15377]],[[0,0,2,-2,2],[-13170906,-1675,-13696,5730336,-3015,-4587]],[[0,0,2,0,2],[-2276413,-234,2796,978459,-485,1374]],[[0,0,0,0,2],[2074554,207,-698,-897492,470,-291]],[[0,1,0,0,0],[1475877,-3633,11817,73871,-184,-1924]],[[0,1,2,-2,2],[-516821,1226,-524,224386,-677,-174]],[[1,0,0,0,0],[711159,73,-872,-6750,0,358]],[[0,0,2,0,1],[-387298,-367,380,200728,18,318]],[[1,0,2,0,2],[-301461,-36,816,129025,-63,367]],[[0,-1,2,-2,2],[215829,-494,111,-95929,299,132]],[[0,0,2,-2,1],[128227,137,181,-68982,-9,39]],[[-1,0,2,0,2],[123457,11,19,-53311,32,-4]],[[-1,0,0,2,0],[156994,10,-168,-1235,0,82]],[[1,0,0,0,1],[63110,63,27,-33228,0,-9]],[[-1,0,0,0,1],[-57976,-63,-189,31429,0,-75]],[[-1,0,2,2,2],[-59641,-11,149,25543,-11,66]],[[1,0,2,0,1],[-51613,-42,129,26366,0,78]],[[-2,0,2,0,1],[45893,50,31,-24236,-10,20]],[[0,0,0,2,0],[63384,11,-150,-1220,0,29]],[[0,0,2,2,2],[-38571,-1,158,16452,-11,68]],[[0,-2,2,-2,2],[32481,0,0,-13870,0,0]],[[-2,0,0,2,0],[-47722,0,-18,477,0,-25]],[[2,0,2,0,2],[-31046,-1,131,13238,-11,59]],[[1,0,2,-2,2],[28593,0,-1,-12338,10,-3]],[[-1,0,2,0,1],[20441,21,10,-10758,0,-3]],[[2,0,0,0,0],[29243,0,-74,-609,0,13]],[[0,0,2,0,0],[25887,0,-66,-550,0,11]],[[0,1,0,0,1],[-14053,-25,79,8551,-2,-45]],[[-1,0,0,2,1],[15164,10,11,-8001,0,-1]],[[0,2,2,-2,2],[-15794,72,-16,6850,-42,-5]],[[0,0,-2,2,0],[21783,0,13,-167,0,13]],[[1,0,0,-2,1],[-12873,-10,-37,6953,0,-14]],[[0,-1,0,0,1],[-12654,11,63,6415,0,26]],[[-1,0,2,2,1],[-10204,0,25,5222,0,15]],[[0,2,0,0,0],[16707,-85,-10,168,-1,10]],[[1,0,2,2,2],[-7691,0,44,3268,0,19]],[[-2,0,2,0,0],[-11024,0,-14,104,0,2]],[[0,1,2,0,2],[7566,-21,-11,-3250,0,-5]],[[0,0,2,2,1],[-6637,-11,25,3353,0,14]],[[0,-1,2,0,2],[-7141,21,8,3070,0,4]],[[0,0,0,2,1],[-6302,-11,2,3272,0,4]],[[1,0,2,-2,1],[5800,10,2,-3045,0,-1]],[[2,0,2,-2,2],[6443,0,-7,-2768,0,-4]],[[-2,0,0,2,1],[-5774,-11,-15,3041,0,-5]],[[2,0,2,0,1],[-5350,0,21,2695,0,12]],[[0,-1,2,-2,1],[-4752,-11,-3,2719,0,-3]],[[0,0,0,-2,1],[-4940,-11,-21,2720,0,-9]],[[-1,-1,0,2,0],[7350,0,-8,-51,0,4]],[[2,0,0,-2,1],[4065,0,6,-2206,0,1]],[[1,0,0,2,0],[6579,0,-24,-199,0,2]],[[0,1,2,-2,1],[3579,0,5,-1900,0,1]],[[1,-1,0,0,0],[4725,0,-6,-41,0,3]],[[-2,0,2,0,2],[-3075,0,-2,1313,0,-1]],[[3,0,2,0,2],[-2904,0,15,1233,0,7]],[[0,-1,0,2,0],[4348,0,-10,-81,0,2]],[[1,-1,2,0,2],[-2878,0,8,1232,0,4]],[[0,0,0,1,0],[-4230,0,5,-20,0,-2]],[[-1,-1,2,2,2],[-2819,0,7,1207,0,3]],[[-1,0,2,0,0],[-4056,0,5,40,0,-2]],[[0,-1,2,2,2],[-2647,0,11,1129,0,5]],[[-2,0,0,0,1],[-2294,0,-10,1266,0,-4]],[[1,1,2,0,2],[2481,0,-7,-1062,0,-3]],[[2,0,0,0,1],[2179,0,-2,-1129,0,-2]],[[-1,1,0,1,0],[3276,0,1,-9,0,0]],[[1,1,0,0,0],[-3389,0,5,35,0,-2]],[[1,0,2,0,0],[3339,0,-13,-107,0,1]],[[-1,0,2,-2,1],[-1987,0,-6,1073,0,-2]],[[1,0,0,0,2],[-1981,0,0,854,0,0]],[[-1,0,0,1,0],[4026,0,-353,-553,0,-139]],[[0,0,2,1,2],[1660,0,-5,-710,0,-2]],[[-1,0,2,4,2],[-1521,0,9,647,0,4]],[[-1,1,0,1,1],[1314,0,0,-700,0,0]],[[0,-2,2,-2,1],[-1283,0,0,672,0,0]],[[1,0,2,2,1],[-1331,0,8,663,0,4]],[[-2,0,2,2,2],[1383,0,-2,-594,0,-2]],[[-1,0,0,0,2],[1405,0,4,-610,0,2]],[[1,1,2,-2,2],[1290,0,0,-556,0,0]]];function Ee(x){var T,R,Y,rt,et,dt,Ot,Et,ie,_e,ce,De,$e,Je;function pr(Hr){return Hr%y*d}for(R=x.tt/36525,Y=pr(485868.249036+R*17179159232178e-4),rt=pr(128710479305e-5+R*1295965810481e-4),et=pr(335779.526232+R*17395272628478e-4),dt=pr(107226070369e-5+R*1602961601209e-3),Ot=pr(450160.398036-R*69628905431e-4),ie=0,_e=0,T=76;T>=0;--T)$e=$t[T][0],Je=$t[T][1],Et=($e[0]*Y+$e[1]*rt+$e[2]*et+$e[3]*dt+$e[4]*Ot)%s,ce=Math.sin(Et),De=Math.cos(Et),ie+=(Je[0]+Je[1]*R)*ce+Je[2]*De,_e+=(Je[3]+Je[4]*R)*De+Je[5]*ce;return{dpsi:-135e-6+ie*1e-7,deps:388e-6+_e*1e-7}}function Le(x){var T=x.tt/36525,R=((((-434e-10*T-576e-9)*T+.0020034)*T-1831e-7)*T-46.836769)*T+84381.406;return R/3600}var Ar;function Gr(x){if(!Ar||Math.abs(Ar.tt-x.tt)>1e-6){const T=Ee(x),R=Le(x),Y=R+T.deps/3600;Ar={tt:x.tt,dpsi:T.dpsi,deps:T.deps,ee:T.dpsi*Math.cos(R*o.DEG2RAD)/15,mobl:R,tobl:Y}}return Ar}function zr(x,T){var R=Le(x)*o.DEG2RAD,Y=Math.cos(R),rt=Math.sin(R);return[T[0],T[1]*Y-T[2]*rt,T[1]*rt+T[2]*Y]}o.CalcMoonCount=0;function sn(x){++o.CalcMoonCount;const T=x.tt/36525;function R(dn,vi){const li=[];let $i;for($i=0;$i<=vi-dn;++$i)li.push(0);return{min:dn,array:li}}function Y(dn,vi,li,$i){const Gi=[];for(let Ao=0;Ao<=vi-dn;++Ao)Gi.push(R(li,$i));return{min:dn,array:Gi}}function rt(dn,vi,li){const $i=dn.array[vi-dn.min];return $i.array[li-$i.min]}function et(dn,vi,li,$i){const Gi=dn.array[vi-dn.min];Gi.array[li-Gi.min]=$i}let dt,Ot,Et,ie,_e,ce,De,$e,Je,pr,Hr,on,qr,Jr,or,vn,Qn,Ni,xi,Yi,qi,ro,so,Sa=Y(-6,6,1,4),Ci=Y(-6,6,1,4);function ra(dn,vi){return rt(Sa,dn,vi)}function La(dn,vi){return rt(Ci,dn,vi)}function Ia(dn,vi,li){return et(Sa,dn,vi,li)}function Po(dn,vi,li){return et(Ci,dn,vi,li)}function Za(dn,vi,li,$i,Gi){Gi(dn*li-vi*$i,vi*li+dn*$i)}function eo(dn){return Math.sin(s*dn)}De=T*T,Je=0,so=0,Hr=0,on=3422.7;var k=eo(.19833+.05611*T),xt=eo(.27869+.04508*T),Pt=eo(.16827-.36903*T),xe=eo(.34734-5.37261*T),He=eo(.10498-5.37899*T),Xe=eo(.42681-.41855*T),xr=eo(.14943-5.37511*T);for(Ni=.84*k+.31*xt+14.27*Pt+7.26*xe+.28*He+.24*Xe,xi=2.94*k+.31*xt+14.27*Pt+9.34*xe+1.12*He+.83*Xe,Yi=-6.4*k-1.89*Xe,qi=.21*k+.31*xt+14.27*Pt-88.7*xe-15.3*He+.24*Xe-1.86*xr,ro=Ni-Yi,$e=-3332e-9*eo(.59734-5.37261*T)-539e-9*eo(.35498-5.37899*T)-64e-9*eo(.39943-5.37511*T),qr=s*Qt(.60643382+1336.85522467*T-313e-8*De)+Ni/h,Jr=s*Qt(.37489701+1325.55240982*T+2565e-8*De)+xi/h,or=s*Qt(.99312619+99.99735956*T-44e-8*De)+Yi/h,vn=s*Qt(.25909118+1342.2278298*T-892e-8*De)+qi/h,Qn=s*Qt(.82736186+1236.85308708*T-397e-8*De)+ro/h,_e=1;_e<=4;++_e){switch(_e){case 1:Et=Jr,Ot=4,ie=1.000002208;break;case 2:Et=or,Ot=3,ie=.997504612-.002495388*T;break;case 3:Et=vn,Ot=4,ie=1.000002708+139.978*$e;break;case 4:Et=Qn,Ot=6,ie=1;break;default:throw`Internal error: I = ${_e}`}for(Ia(0,_e,1),Ia(1,_e,Math.cos(Et)*ie),Po(0,_e,0),Po(1,_e,Math.sin(Et)*ie),ce=2;ce<=Ot;++ce)Za(ra(ce-1,_e),La(ce-1,_e),ra(1,_e),La(1,_e),(dn,vi)=>(Ia(ce,_e,dn),Po(ce,_e,vi)));for(ce=1;ce<=Ot;++ce)Ia(-ce,_e,ra(ce,_e)),Po(-ce,_e,-La(ce,_e))}function Wr(dn,vi,li,$i){for(var Gi={x:1,y:0},Ao=[0,dn,vi,li,$i],wa=1;wa<=4;++wa)Ao[wa]!==0&&Za(Gi.x,Gi.y,ra(Ao[wa],wa),La(Ao[wa],wa),(ps,Ms)=>(Gi.x=ps,Gi.y=Ms));return Gi}function We(dn,vi,li,$i,Gi,Ao,wa,ps){var Ms=Wr(Gi,Ao,wa,ps);Je+=dn*Ms.y,so+=vi*Ms.y,Hr+=li*Ms.x,on+=$i*Ms.x}We(13.902,14.06,-.001,.2607,0,0,0,4),We(.403,-4.01,.394,.0023,0,0,0,3),We(2369.912,2373.36,.601,28.2333,0,0,0,2),We(-125.154,-112.79,-.725,-.9781,0,0,0,1),We(1.979,6.98,-.445,.0433,1,0,0,4),We(191.953,192.72,.029,3.0861,1,0,0,2),We(-8.466,-13.51,.455,-.1093,1,0,0,1),We(22639.5,22609.07,.079,186.5398,1,0,0,0),We(18.609,3.59,-.094,.0118,1,0,0,-1),We(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),We(3.215,5.44,.192,-.0386,1,0,0,-3),We(-38.428,-38.64,.001,.6008,1,0,0,-4),We(-.393,-1.43,-.092,.0086,1,0,0,-6),We(-.289,-1.59,.123,-.0053,0,1,0,4),We(-24.42,-25.1,.04,-.3,0,1,0,2),We(18.023,17.93,.007,.1494,0,1,0,1),We(-668.146,-126.98,-1.302,-.3997,0,1,0,0),We(.56,.32,-.001,-.0037,0,1,0,-1),We(-165.145,-165.06,.054,1.9178,0,1,0,-2),We(-1.877,-6.46,-.416,.0339,0,1,0,-4),We(.213,1.02,-.074,.0054,2,0,0,4),We(14.387,14.78,-.017,.2833,2,0,0,2),We(-.586,-1.2,.054,-.01,2,0,0,1),We(769.016,767.96,.107,10.1657,2,0,0,0),We(1.75,2.01,-.018,.0155,2,0,0,-1),We(-211.656,-152.53,5.679,-.3039,2,0,0,-2),We(1.225,.91,-.03,-.0088,2,0,0,-3),We(-30.773,-34.07,-.308,.3722,2,0,0,-4),We(-.57,-1.4,-.074,.0109,2,0,0,-6),We(-2.921,-11.75,.787,-.0484,1,1,0,2),We(1.267,1.52,-.022,.0164,1,1,0,1),We(-109.673,-115.18,.461,-.949,1,1,0,0),We(-205.962,-182.36,2.056,1.4437,1,1,0,-2),We(.233,.36,.012,-.0025,1,1,0,-3),We(-4.391,-9.66,-.471,.0673,1,1,0,-4),We(.283,1.53,-.111,.006,1,-1,0,4),We(14.577,31.7,-1.54,.2302,1,-1,0,2),We(147.687,138.76,.679,1.1528,1,-1,0,0),We(-1.089,.55,.021,0,1,-1,0,-1),We(28.475,23.59,-.443,-.2257,1,-1,0,-2),We(-.276,-.38,-.006,-.0036,1,-1,0,-3),We(.636,2.27,.146,-.0102,1,-1,0,-4),We(-.189,-1.68,.131,-.0028,0,2,0,2),We(-7.486,-.66,-.037,-.0086,0,2,0,0),We(-8.096,-16.35,-.74,.0918,0,2,0,-2),We(-5.741,-.04,0,-9e-4,0,0,2,2),We(.255,0,0,0,0,0,2,1),We(-411.608,-.2,0,-.0124,0,0,2,0),We(.584,.84,0,.0071,0,0,2,-1),We(-55.173,-52.14,0,-.1052,0,0,2,-2),We(.254,.25,0,-.0017,0,0,2,-3),We(.025,-1.67,0,.0031,0,0,2,-4),We(1.06,2.96,-.166,.0243,3,0,0,2),We(36.124,50.64,-1.3,.6215,3,0,0,0),We(-13.193,-16.4,.258,-.1187,3,0,0,-2),We(-1.187,-.74,.042,.0074,3,0,0,-4),We(-.293,-.31,-.002,.0046,3,0,0,-6),We(-.29,-1.45,.116,-.0051,2,1,0,2),We(-7.649,-10.56,.259,-.1038,2,1,0,0),We(-8.627,-7.59,.078,-.0192,2,1,0,-2),We(-2.74,-2.54,.022,.0324,2,1,0,-4),We(1.181,3.32,-.212,.0213,2,-1,0,2),We(9.703,11.67,-.151,.1268,2,-1,0,0),We(-.352,-.37,.001,-.0028,2,-1,0,-1),We(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),We(.36,.2,-.012,-.0043,2,-1,0,-4),We(-1.167,-1.25,.008,-.0106,1,2,0,0),We(-7.412,-6.12,.117,.0484,1,2,0,-2),We(-.311,-.65,-.032,.0044,1,2,0,-4),We(.757,1.82,-.105,.0112,1,-2,0,2),We(2.58,2.32,.027,.0196,1,-2,0,0),We(2.533,2.4,-.014,-.0212,1,-2,0,-2),We(-.344,-.57,-.025,.0036,0,3,0,-2),We(-.992,-.02,0,0,1,0,2,2),We(-45.099,-.02,0,-.001,1,0,2,0),We(-.179,-9.52,0,-.0833,1,0,2,-2),We(-.301,-.33,0,.0014,1,0,2,-4),We(-6.382,-3.37,0,-.0481,1,0,-2,2),We(39.528,85.13,0,-.7136,1,0,-2,0),We(9.366,.71,0,-.0112,1,0,-2,-2),We(.202,.02,0,0,1,0,-2,-4),We(.415,.1,0,.0013,0,1,2,0),We(-2.152,-2.26,0,-.0066,0,1,2,-2),We(-1.44,-1.3,0,.0014,0,1,-2,2),We(.384,-.04,0,0,0,1,-2,-2),We(1.938,3.6,-.145,.0401,4,0,0,0),We(-.952,-1.58,.052,-.013,4,0,0,-2),We(-.551,-.94,.032,-.0097,3,1,0,0),We(-.482,-.57,.005,-.0045,3,1,0,-2),We(.681,.96,-.026,.0115,3,-1,0,0),We(-.297,-.27,.002,-9e-4,2,2,0,-2),We(.254,.21,-.003,0,2,-2,0,-2),We(-.25,-.22,.004,.0014,1,3,0,-2),We(-3.996,0,0,4e-4,2,0,2,0),We(.557,-.75,0,-.009,2,0,2,-2),We(-.459,-.38,0,-.0053,2,0,-2,2),We(-1.298,.74,0,4e-4,2,0,-2,0),We(.538,1.14,0,-.0141,2,0,-2,-2),We(.263,.02,0,0,1,1,2,0),We(.426,.07,0,-6e-4,1,1,-2,-2),We(-.304,.03,0,3e-4,1,-1,2,0),We(-.372,-.19,0,-.0027,1,-1,-2,2),We(.418,0,0,0,0,0,4,0),We(-.33,-.04,0,0,3,0,2,0);function bn(dn,vi,li,$i,Gi){return dn*Wr(vi,li,$i,Gi).y}pr=0,pr+=bn(-526.069,0,0,1,-2),pr+=bn(-3.352,0,0,1,-4),pr+=bn(44.297,1,0,1,-2),pr+=bn(-6,1,0,1,-4),pr+=bn(20.599,-1,0,1,0),pr+=bn(-30.598,-1,0,1,-2),pr+=bn(-24.649,-2,0,1,0),pr+=bn(-2,-2,0,1,-2),pr+=bn(-22.571,0,1,1,-2),pr+=bn(10.985,0,-1,1,-2),Je+=.82*eo(.7736-62.5512*T)+.31*eo(.0466-125.1025*T)+.35*eo(.5785-25.1042*T)+.66*eo(.4591+1335.8075*T)+.64*eo(.313-91.568*T)+1.14*eo(.148+1331.2898*T)+.21*eo(.5918+1056.5859*T)+.44*eo(.5784+1322.8595*T)+.24*eo(.2275-5.7374*T)+.28*eo(.2965+2.6929*T)+.33*eo(.3132+6.3368*T),dt=vn+so/h;let ei=(1.000002708+139.978*$e)*(18518.511+1.189+Hr)*Math.sin(dt)-6.24*Math.sin(3*dt)+pr;return{geo_eclip_lon:s*Qt((qr+Je/h)/s),geo_eclip_lat:Math.PI/(180*3600)*ei,distance_au:h*it/(.999953253*on)}}class Nn{constructor(T,R,Y,rt,et,dt){this.elat=T,this.elon=R,this.mlat=Y,this.mlon=rt,this.dist_km=et,this.diam_deg=dt}}o.LibrationInfo=Nn;function ci(x){const T=st(x),R=T.tt/36525,Y=R*R,rt=Y*R,et=Y*Y,dt=sn(T),Ot=dt.geo_eclip_lon,Et=dt.geo_eclip_lat,ie=dt.distance_au*o.KM_PER_AU,_e=o.DEG2RAD*1.543,ce=o.DEG2RAD*gr(93.272095+483202.0175233*R-.0036539*Y-rt/3526e3+et/86331e4),De=o.DEG2RAD*gr(125.0445479-1934.1362891*R+.0020754*Y+rt/467441-et/60616e3),$e=o.DEG2RAD*gr(357.5291092+35999.0502909*R-1536e-7*Y+rt/2449e4),Je=o.DEG2RAD*gr(134.9633964+477198.8675055*R+.0087414*Y+rt/69699-et/14712e3),pr=o.DEG2RAD*gr(297.8501921+445267.1114034*R-.0018819*Y+rt/545868-et/113065e3),Hr=1-.002516*R-74e-7*Y,on=Ot-De,qr=Math.atan2(Math.sin(on)*Math.cos(Et)*Math.cos(_e)-Math.sin(Et)*Math.sin(_e),Math.cos(on)*Math.cos(Et)),Jr=wr(o.RAD2DEG*(qr-ce)),or=Math.asin(-Math.sin(on)*Math.cos(Et)*Math.sin(_e)-Math.sin(Et)*Math.cos(_e)),vn=o.DEG2RAD*(119.75+131.849*R),Qn=o.DEG2RAD*(72.56+20.186*R),Ni=-.02752*Math.cos(Je)+-.02245*Math.sin(ce)+.00684*Math.cos(Je-2*ce)+-.00293*Math.cos(2*ce)+-85e-5*Math.cos(2*ce-2*pr)+-54e-5*Math.cos(Je-2*pr)+-2e-4*Math.sin(Je+ce)+-2e-4*Math.cos(Je+2*ce)+-2e-4*Math.cos(Je-ce)+14e-5*Math.cos(Je+2*ce-2*pr),xi=-.02816*Math.sin(Je)+.02244*Math.cos(ce)+-.00682*Math.sin(Je-2*ce)+-.00279*Math.sin(2*ce)+-83e-5*Math.sin(2*ce-2*pr)+69e-5*Math.sin(Je-2*pr)+4e-4*Math.cos(Je+ce)+-25e-5*Math.sin(2*Je)+-23e-5*Math.sin(Je+2*ce)+2e-4*Math.cos(Je-ce)+19e-5*Math.sin(Je-ce)+13e-5*Math.sin(Je+2*ce-2*pr)+-1e-4*Math.cos(Je-3*ce),qi=-(.0252*Hr*Math.sin($e)+.00473*Math.sin(2*Je-2*ce)+-.00467*Math.sin(Je)+.00396*Math.sin(vn)+.00276*Math.sin(2*Je-2*pr)+.00196*Math.sin(De)+-.00183*Math.cos(Je-ce)+.00115*Math.sin(Je-2*pr)+-96e-5*Math.sin(Je-pr)+46e-5*Math.sin(2*ce-2*pr)+-39e-5*Math.sin(Je-ce)+-32e-5*Math.sin(Je-$e-pr)+27e-5*Math.sin(2*Je-$e-2*pr)+23e-5*Math.sin(Qn)+-14e-5*Math.sin(2*pr)+14e-5*Math.cos(2*Je-2*ce)+-12e-5*Math.sin(Je-2*ce)+-12e-5*Math.sin(2*Je)+11e-5*Math.sin(2*Je-2*$e-2*pr))+(Ni*Math.cos(qr)+xi*Math.sin(qr))*Math.tan(or),ro=xi*Math.cos(qr)-Ni*Math.sin(qr),so=2*o.RAD2DEG*Math.atan(Xt/Math.sqrt(ie*ie-Xt*Xt));return new Nn(o.RAD2DEG*or+ro,Jr+qi,o.RAD2DEG*Et,o.RAD2DEG*Ot,ie,so)}o.Libration=ci;function ki(x,T){return[x.rot[0][0]*T[0]+x.rot[1][0]*T[1]+x.rot[2][0]*T[2],x.rot[0][1]*T[0]+x.rot[1][1]*T[1]+x.rot[2][1]*T[2],x.rot[0][2]*T[0]+x.rot[1][2]*T[1]+x.rot[2][2]*T[2]]}function Fn(x,T,R){const Y=Mi(T,R);return ki(Y,x)}function qn(x,T,R){const Y=Mi(T,R);return aa(Y,x)}function Mi(x,T){const R=x.tt/36525;let Y=84381.406,rt=((((-951e-10*R+132851e-9)*R-.00114045)*R-1.0790069)*R+5038.481507)*R,et=((((3337e-10*R-467e-9)*R-.00772503)*R+.0512623)*R-.025754)*R+Y,dt=((((-56e-9*R+170663e-9)*R-.00121197)*R-2.3814292)*R+10.556403)*R;Y*=d,rt*=d,et*=d,dt*=d;const Ot=Math.sin(Y),Et=Math.cos(Y),ie=Math.sin(-rt),_e=Math.cos(-rt),ce=Math.sin(-et),De=Math.cos(-et),$e=Math.sin(dt),Je=Math.cos(dt),pr=Je*_e-ie*$e*De,Hr=Je*ie*Et+$e*De*_e*Et-Ot*$e*ce,on=Je*ie*Ot+$e*De*_e*Ot+Et*$e*ce,qr=-$e*_e-ie*Je*De,Jr=-$e*ie*Et+Je*De*_e*Et-Ot*Je*ce,or=-$e*ie*Ot+Je*De*_e*Ot+Et*Je*ce,vn=ie*ce,Qn=-ce*_e*Et-Ot*De,Ni=-ce*_e*Ot+De*Et;if(T===Ct.Into2000)return new Un([[pr,Hr,on],[qr,Jr,or],[vn,Qn,Ni]]);if(T===Ct.From2000)return new Un([[pr,qr,vn],[Hr,Jr,Qn],[on,or,Ni]]);throw"Invalid precess direction"}function gn(x){const T=.779057273264+.00273781191135448*x.ut,R=x.ut%1;let Y=360*((T+R)%1);return Y<0&&(Y+=360),Y}let ao;function kn(x){if(!ao||ao.tt!==x.tt){const T=x.tt/36525;let R=15*Gr(x).ee;const Y=gn(x);let et=((R+.014506+((((-368e-10*T-29956e-9)*T-44e-8)*T+1.3915817)*T+4612.156534)*T)/3600+Y)%360/15;et<0&&(et+=24),ao={tt:x.tt,st:et}}return ao.st}function ya(x){const T=st(x);return kn(T)}o.SiderealTime=ya;function Lo(x,T){const R=x[0]*o.KM_PER_AU,Y=x[1]*o.KM_PER_AU,rt=x[2]*o.KM_PER_AU,et=Math.hypot(R,Y);let dt,Ot,Et;if(et<1e-6)dt=0,Ot=rt>0?90:-90,Et=Math.abs(rt)-N;else{const ie=Math.atan2(Y,R);for(dt=o.RAD2DEG*ie-15*T;dt<=-180;)dt+=360;for(;dt>180;)dt-=360;let _e=Math.atan2(rt,et),ce,De,$e;for(;;){ce=Math.cos(_e),De=Math.sin(_e);const pr=(nt-1)*pt,Hr=ce*ce,on=De*De,qr=Hr+nt*on;$e=Math.sqrt(qr);const Jr=pr*De*ce/$e-rt*ce+et*De;if(Math.abs(Jr)<1e-12)break;const or=pr*((Hr-on)/$e-on*Hr*(nt-1)/(pr*qr))+rt*De+et*ce;_e-=Jr/or}Ot=o.RAD2DEG*_e;const Je=pt/$e;Math.abs(De)>Math.abs(ce)?Et=rt/De-nt*Je:Et=et/ce-Je}return new al(Ot,dt,1e3*Et)}function zi(x,T){const R=x.latitude*o.DEG2RAD,Y=Math.sin(R),rt=Math.cos(R),et=1/Math.hypot(rt,J*Y),dt=nt*et,Ot=x.height/1e3,Et=pt*et+Ot,ie=pt*dt+Ot,_e=(15*T+x.longitude)*o.DEG2RAD,ce=Math.sin(_e),De=Math.cos(_e);return{pos:[Et*rt*De/o.KM_PER_AU,Et*rt*ce/o.KM_PER_AU,ie*Y/o.KM_PER_AU],vel:[-E*Et*rt*ce*86400/o.KM_PER_AU,E*Et*rt*De*86400/o.KM_PER_AU,0]}}function an(x,T,R){const Y=rn(T,R);return ki(Y,x)}function dr(x,T,R){const Y=rn(T,R);return aa(Y,x)}function rn(x,T){const R=Gr(x),Y=R.mobl*o.DEG2RAD,rt=R.tobl*o.DEG2RAD,et=R.dpsi*d,dt=Math.cos(Y),Ot=Math.sin(Y),Et=Math.cos(rt),ie=Math.sin(rt),_e=Math.cos(et),ce=Math.sin(et),De=_e,$e=-ce*dt,Je=-ce*Ot,pr=ce*Et,Hr=_e*dt*Et+Ot*ie,on=_e*Ot*Et-dt*ie,qr=ce*ie,Jr=_e*dt*ie-Ot*Et,or=_e*Ot*ie+dt*Et;if(T===Ct.From2000)return new Un([[De,pr,qr],[$e,Hr,Jr],[Je,on,or]]);if(T===Ct.Into2000)return new Un([[De,$e,Je],[pr,Hr,on],[qr,Jr,or]]);throw"Invalid precess direction"}function Mn(x,T,R){return R===Ct.Into2000?Fn(an(x,T,R),T,R):an(Fn(x,T,R),T,R)}function ri(x,T,R){return R===Ct.Into2000?qn(dr(x,T,R),T,R):dr(qn(x,T,R),T,R)}function _i(x,T){const R=kn(x),Y=zi(T,R).pos;return Mn(Y,x,Ct.Into2000)}class wn{constructor(T,R,Y,rt){this.x=T,this.y=R,this.z=Y,this.t=rt}Length(){return Math.hypot(this.x,this.y,this.z)}}o.Vector=wn;class nn{constructor(T,R,Y,rt,et,dt,Ot){this.x=T,this.y=R,this.z=Y,this.vx=rt,this.vy=et,this.vz=dt,this.t=Ot}}o.StateVector=nn;class Ei{constructor(T,R,Y){this.lat=Vt(T),this.lon=Vt(R),this.dist=Vt(Y)}}o.Spherical=Ei;class ho{constructor(T,R,Y,rt){this.ra=Vt(T),this.dec=Vt(R),this.dist=Vt(Y),this.vec=rt}}o.EquatorialCoordinates=ho;function zo(x){if(!(x instanceof Array)||x.length!==3)return!1;for(let T=0;T<3;++T){if(!(x[T]instanceof Array)||x[T].length!==3)return!1;for(let R=0;R<3;++R)if(!Number.isFinite(x[T][R]))return!1}return!0}class Un{constructor(T){this.rot=T}}o.RotationMatrix=Un;function Ss(x){if(!zo(x))throw"Argument must be a [3][3] array of numbers";return new Un(x)}o.MakeRotation=Ss;class Da{constructor(T,R,Y,rt){this.azimuth=Vt(T),this.altitude=Vt(R),this.ra=Vt(Y),this.dec=Vt(rt)}}o.HorizontalCoordinates=Da;class Io{constructor(T,R,Y){this.vec=T,this.elat=Vt(R),this.elon=Vt(Y)}}o.EclipticCoordinates=Io;function Si(x,T){return new wn(x[0],x[1],x[2],T)}function il(x,T){const R=Si(x,T),Y=R.x*R.x+R.y*R.y,rt=Math.sqrt(Y+R.z*R.z);if(Y===0){if(R.z===0)throw"Indeterminate sky coordinates";return new ho(0,R.z<0?-90:90,rt,R)}let et=o.RAD2HOUR*Math.atan2(R.y,R.x);et<0&&(et+=24);const dt=o.RAD2DEG*Math.atan2(x[2],Math.sqrt(Y));return new ho(et,dt,rt,R)}function ja(x,T){const R=x*o.DEG2RAD,Y=Math.cos(R),rt=Math.sin(R);return[Y*T[0]+rt*T[1],Y*T[1]-rt*T[0],T[2]]}function Ma(x,T,R,Y,rt){let et=st(x);Ra(T),Vt(R),Vt(Y);const dt=Math.sin(T.latitude*o.DEG2RAD),Ot=Math.cos(T.latitude*o.DEG2RAD),Et=Math.sin(T.longitude*o.DEG2RAD),ie=Math.cos(T.longitude*o.DEG2RAD),_e=Math.sin(Y*o.DEG2RAD),ce=Math.cos(Y*o.DEG2RAD),De=Math.sin(R*o.HOUR2RAD),$e=Math.cos(R*o.HOUR2RAD);let Je=[Ot*ie,Ot*Et,dt],pr=[-dt*ie,-dt*Et,Ot],Hr=[Et,-ie,0];const on=-15*kn(et);let qr=ja(on,Je),Jr=ja(on,pr),or=ja(on,Hr),vn=[ce*$e,ce*De,_e];const Qn=vn[0]*qr[0]+vn[1]*qr[1]+vn[2]*qr[2],Ni=vn[0]*Jr[0]+vn[1]*Jr[1]+vn[2]*Jr[2],xi=vn[0]*or[0]+vn[1]*or[1]+vn[2]*or[2];let Yi=Math.hypot(Ni,xi),qi;Yi>0?(qi=-o.RAD2DEG*Math.atan2(xi,Ni),qi<0&&(qi+=360)):qi=0;let ro=o.RAD2DEG*Math.atan2(Yi,Qn),so=R,Sa=Y;if(rt){let ra=ro,La=Oo(rt,90-ro);if(ro-=La,La>0&&ro>3e-4){const Ia=Math.sin(ro*o.DEG2RAD),Po=Math.cos(ro*o.DEG2RAD),Za=Math.sin(ra*o.DEG2RAD),eo=Math.cos(ra*o.DEG2RAD);var Ci=[];for(let k=0;k<3;++k)Ci.push((vn[k]-eo*qr[k])/Za*Ia+qr[k]*Po);Yi=Math.hypot(Ci[0],Ci[1]),Yi>0?(so=o.RAD2HOUR*Math.atan2(Ci[1],Ci[0]),so<0&&(so+=24)):so=0,Sa=o.RAD2DEG*Math.atan2(Ci[2],Yi)}}return new Da(qi,90-ro,so,Sa)}o.Horizon=Ma;function Ra(x){if(!(x instanceof al))throw`Not an instance of the Observer class: ${x}`;if(Vt(x.latitude),Vt(x.longitude),Vt(x.height),x.latitude<-90||x.latitude>90)throw`Latitude ${x.latitude} is out of range. Must be -90..+90.`;return x}class al{constructor(T,R,Y){this.latitude=T,this.longitude=R,this.height=Y,Ra(this)}}o.Observer=al;function rc(x){const T=st(x).AddDays(-1/o.C_AUDAY),R=ea(qt.Earth,T),Y=[-R.x,-R.y,-R.z],[rt,et,dt]=Mn(Y,T,Ct.From2000),Ot=o.DEG2RAD*Gr(T).tobl,Et=Math.cos(Ot),ie=Math.sin(Ot),_e=new wn(rt,et,dt,T);return Xl(_e,Et,ie)}o.SunPosition=rc;function ia(x,T,R,Y,rt){Ra(R),Br(Y),Br(rt);const et=st(T),dt=_i(et,R),Ot=Lr(x,et,rt),Et=[Ot.x-dt[0],Ot.y-dt[1],Ot.z-dt[2]];if(!Y)return il(Et,et);const ie=Mn(Et,et,Ct.From2000);return il(ie,et)}o.Equator=ia;function Ws(x,T,R){const Y=st(x),rt=kn(Y);let et=zi(T,rt).pos;return R||(et=Mn(et,Y,Ct.Into2000)),Si(et,Y)}o.ObserverVector=Ws;function sl(x,T,R){const Y=st(x),rt=kn(Y),et=zi(T,rt),dt=new nn(et.pos[0],et.pos[1],et.pos[2],et.vel[0],et.vel[1],et.vel[2],Y);return R?dt:ri(dt,Y,Ct.Into2000)}o.ObserverState=sl;function o0(x,T){const R=kn(x.t);let Y=[x.x,x.y,x.z];return T||(Y=Fn(Y,x.t,Ct.From2000),Y=an(Y,x.t,Ct.From2000)),Lo(Y,R)}o.VectorObserver=o0;function B0(x,T){const R=Math.sin(x*o.DEG2RAD),Y=R*R;return 9.7803253359*(1+.00193185265241*Y)/Math.sqrt(1-.00669437999013*Y)*(1-(315704e-12-210269e-14*Y)*T+737452e-19*T*T)}o.ObserverGravity=B0;function Xl(x,T,R){const Y=x.x,rt=x.y*T+x.z*R,et=-x.y*R+x.z*T,dt=Math.hypot(Y,rt);let Ot=0;dt>0&&(Ot=o.RAD2DEG*Math.atan2(rt,Y),Ot<0&&(Ot+=360));let Et=o.RAD2DEG*Math.atan2(et,dt),ie=new wn(Y,rt,et,x.t);return new Io(ie,Et,Ot)}function Ha(x){return Er===void 0&&(Er=o.DEG2RAD*Gr(st(u)).mobl,Nr=Math.cos(Er),Pn=Math.sin(Er)),Xl(x,Nr,Pn)}o.Ecliptic=Ha;function oa(x){const T=st(x),R=sn(T),Y=R.distance_au*Math.cos(R.geo_eclip_lat),rt=[Y*Math.cos(R.geo_eclip_lon),Y*Math.sin(R.geo_eclip_lon),R.distance_au*Math.sin(R.geo_eclip_lat)],et=zr(T,rt),dt=Fn(et,T,Ct.Into2000);return new wn(dt[0],dt[1],dt[2],T)}o.GeoMoon=oa;function ll(x){const T=st(x),R=sn(T);return new Ei(R.geo_eclip_lat*o.RAD2DEG,R.geo_eclip_lon*o.RAD2DEG,R.distance_au)}o.EclipticGeoMoon=ll;function xo(x){const T=st(x),R=1e-5,Y=T.AddDays(-R),rt=T.AddDays(+R),et=oa(Y),dt=oa(rt);return new nn((et.x+dt.x)/2,(et.y+dt.y)/2,(et.z+dt.z)/2,(dt.x-et.x)/(2*R),(dt.y-et.y)/(2*R),(dt.z-et.z)/(2*R),T)}o.GeoMoonState=xo;function Tu(x){const T=st(x),R=xo(T),Y=1+le;return new nn(R.x/Y,R.y/Y,R.z/Y,R.vx/Y,R.vy/Y,R.vz/Y,T)}o.GeoEmbState=Tu;function Vo(x,T,R){let Y=1,rt=0;for(let et of x){let dt=0;for(let[Et,ie,_e]of et)dt+=Et*Math.cos(ie+T*_e);let Ot=Y*dt;R&&(Ot%=s),rt+=Ot,Y*=T}return rt}function ma(x,T){let R=1,Y=0,rt=0,et=0;for(let dt of x){let Ot=0,Et=0;for(let[ie,_e,ce]of dt){let De=_e+T*ce;Ot+=ie*ce*Math.sin(De),et>0&&(Et+=ie*Math.cos(De))}rt+=et*Y*Et-R*Ot,Y=R,R*=T,++et}return rt}const Ys=365250,nc=0,ss=1,Ou=2;function ic(x){return new hi(x[0]+44036e-11*x[1]-190919e-12*x[2],-479966e-12*x[0]+.917482137087*x[1]-.397776982902*x[2],.397776982902*x[1]+.917482137087*x[2])}function Rc(x,T,R){const Y=R*Math.cos(T),rt=Math.cos(x),et=Math.sin(x);return[Y*rt,Y*et,R*Math.sin(T)]}function ea(x,T){const R=T.tt/Ys,Y=Vo(x[nc],R,!0),rt=Vo(x[ss],R,!1),et=Vo(x[Ou],R,!1),dt=Rc(Y,rt,et);return ic(dt).ToAstroVector(T)}function _o(x,T){const R=T/Ys,Y=Vo(x[nc],R,!0),rt=Vo(x[ss],R,!1),et=Vo(x[Ou],R,!1),dt=ma(x[nc],R),Ot=ma(x[ss],R),Et=ma(x[Ou],R),ie=Math.cos(Y),_e=Math.sin(Y),ce=Math.cos(rt),De=Math.sin(rt),$e=+(Et*ce*ie)-et*De*ie*Ot-et*ce*_e*dt,Je=+(Et*ce*_e)-et*De*_e*Ot+et*ce*ie*dt,pr=+(Et*De)+et*ce*Ot,Hr=Rc(Y,rt,et),on=[$e/Ys,Je/Ys,pr/Ys],qr=ic(Hr),Jr=ic(on);return new $r(T,qr,Jr)}function Vi(x,T,R,Y){const rt=Y/(Y+Ve),et=ea(qt[R],T);x.x+=rt*et.x,x.y+=rt*et.y,x.z+=rt*et.z}function yn(x){const T=new wn(0,0,0,x);return Vi(T,x,ht.Jupiter,ir),Vi(T,x,ht.Saturn,Ke),Vi(T,x,ht.Uranus,Ge),Vi(T,x,ht.Neptune,Pr),T}const Cc=51,Of=29200,ws=146,hn=201,Go=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class hi{constructor(T,R,Y){this.x=T,this.y=R,this.z=Y}clone(){return new hi(this.x,this.y,this.z)}ToAstroVector(T){return new wn(this.x,this.y,this.z,T)}static zero(){return new hi(0,0,0)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(T){return new hi(this.x+T.x,this.y+T.y,this.z+T.z)}sub(T){return new hi(this.x-T.x,this.y-T.y,this.z-T.z)}incr(T){this.x+=T.x,this.y+=T.y,this.z+=T.z}decr(T){this.x-=T.x,this.y-=T.y,this.z-=T.z}mul(T){return new hi(T*this.x,T*this.y,T*this.z)}div(T){return new hi(this.x/T,this.y/T,this.z/T)}mean(T){return new hi((this.x+T.x)/2,(this.y+T.y)/2,(this.z+T.z)/2)}neg(){return new hi(-this.x,-this.y,-this.z)}}class $r{constructor(T,R,Y){this.tt=T,this.r=R,this.v=Y}clone(){return new $r(this.tt,this.r,this.v)}sub(T){return new $r(this.tt,this.r.sub(T.r),this.v.sub(T.v))}}function Af(x){let[T,[R,Y,rt],[et,dt,Ot]]=x;return new $r(T,new hi(R,Y,rt),new hi(et,dt,Ot))}function ls(x,T,R,Y){const rt=Y/(Y+Ve),et=_o(qt[R],T);return x.r.incr(et.r.mul(rt)),x.v.incr(et.v.mul(rt)),et}function F(x,T,R){const Y=R.sub(x),rt=Y.quadrature();return Y.mul(T/(rt*Math.sqrt(rt)))}class C{constructor(T){let R=new $r(T,new hi(0,0,0),new hi(0,0,0));this.Jupiter=ls(R,T,ht.Jupiter,ir),this.Saturn=ls(R,T,ht.Saturn,Ke),this.Uranus=ls(R,T,ht.Uranus,Ge),this.Neptune=ls(R,T,ht.Neptune,Pr),this.Jupiter.r.decr(R.r),this.Jupiter.v.decr(R.v),this.Saturn.r.decr(R.r),this.Saturn.v.decr(R.v),this.Uranus.r.decr(R.r),this.Uranus.v.decr(R.v),this.Neptune.r.decr(R.r),this.Neptune.v.decr(R.v),this.Sun=new $r(T,R.r.mul(-1),R.v.mul(-1))}Acceleration(T){let R=F(T,Ve,this.Sun.r);return R.incr(F(T,ir,this.Jupiter.r)),R.incr(F(T,Ke,this.Saturn.r)),R.incr(F(T,Ge,this.Uranus.r)),R.incr(F(T,Pr,this.Neptune.r)),R}}class b{constructor(T,R,Y,rt){this.tt=T,this.r=R,this.v=Y,this.a=rt}clone(){return new b(this.tt,this.r.clone(),this.v.clone(),this.a.clone())}}class G{constructor(T,R){this.bary=T,this.grav=R}}function Z(x,T,R,Y){return new hi(T.x+x*(R.x+x*Y.x/2),T.y+x*(R.y+x*Y.y/2),T.z+x*(R.z+x*Y.z/2))}function B(x,T,R){return new hi(T.x+x*R.x,T.y+x*R.y,T.z+x*R.z)}function tt(x,T){const R=x-T.tt,Y=new C(x),rt=Z(R,T.r,T.v,T.a),et=Y.Acceleration(rt).mean(T.a),dt=Z(R,T.r,T.v,et),Ot=T.v.add(et.mul(R)),Et=Y.Acceleration(dt),ie=new b(x,dt,Ot,Et);return new G(Y,ie)}const at=[];function lt(x,T){const R=Math.floor(x);return R<0?0:R>=T?T-1:R}function wt(x){const T=Af(x),R=new C(T.tt),Y=T.r.add(R.Sun.r),rt=T.v.add(R.Sun.v),et=R.Acceleration(Y),dt=new b(T.tt,Y,rt,et);return new G(R,dt)}function Ut(x,T){const R=Go[0][0];if(T<R||T>Go[Cc-1][0])return null;const Y=lt((T-R)/Of,Cc-1);if(!x[Y]){const et=x[Y]=[];et[0]=wt(Go[Y]).grav,et[hn-1]=wt(Go[Y+1]).grav;let dt,Ot=et[0].tt;for(dt=1;dt<hn-1;++dt)et[dt]=tt(Ot+=ws,et[dt-1]).grav;Ot=et[hn-1].tt;var rt=[];for(rt[hn-1]=et[hn-1],dt=hn-2;dt>0;--dt)rt[dt]=tt(Ot-=ws,rt[dt+1]).grav;for(dt=hn-2;dt>0;--dt){const Et=dt/(hn-1);et[dt].r=et[dt].r.mul(1-Et).add(rt[dt].r.mul(Et)),et[dt].v=et[dt].v.mul(1-Et).add(rt[dt].v.mul(Et)),et[dt].a=et[dt].a.mul(1-Et).add(rt[dt].a.mul(Et))}}return x[Y]}function kt(x,T,R){let Y=wt(x);const rt=Math.ceil((T-Y.grav.tt)/R);for(let et=0;et<rt;++et)Y=tt(et+1===rt?T:Y.grav.tt+R,Y.grav);return Y}function Zt(x,T){let R,Y,rt;const et=Ut(at,x.tt);if(et){const dt=lt((x.tt-et[0].tt)/ws,hn-1),Ot=et[dt],Et=et[dt+1],ie=Ot.a.mean(Et.a),_e=Z(x.tt-Ot.tt,Ot.r,Ot.v,ie),ce=B(x.tt-Ot.tt,Ot.v,ie),De=Z(x.tt-Et.tt,Et.r,Et.v,ie),$e=B(x.tt-Et.tt,Et.v,ie),Je=(x.tt-Ot.tt)/ws;R=_e.mul(1-Je).add(De.mul(Je)),Y=ce.mul(1-Je).add($e.mul(Je))}else{let dt;x.tt<Go[0][0]?dt=kt(Go[0],x.tt,-ws):dt=kt(Go[Cc-1],x.tt,+ws),R=dt.grav.r,Y=dt.grav.v,rt=dt.bary}return T&&(rt||(rt=new C(x.tt)),R=R.sub(rt.Sun.r),Y=Y.sub(rt.Sun.v)),new nn(R.x,R.y,R.z,Y.x,Y.y,Y.z,x)}const vt=new Un([[.999432765338654,-.0336771074697641,0],[.0303959428906285,.902057912352809,.430543388542295],[-.0144994559663353,-.430299169409101,.902569881273754]]),he=[{mu:282489428433814e-21,al:[1.446213296021224,3.5515522861824],a:[[.0028210960212903,0,0]],l:[[-.0001925258348666,4.9369589722645,.01358483658305],[-970803596076e-16,4.3188796477322,.01303413843243],[-8988174165e-14,1.9080016428617,.00305064867158],[-553101050262e-16,1.4936156681569,.01293892891155]],z:[[.0041510849668155,4.089939635545,-.01290686414666],[.0006260521444113,1.446188898627,3.5515522949802],[352747346169e-16,2.1256287034578,.00012727416567]],zeta:[[.0003142172466014,2.7964219722923,-.002315096098],[904169207946e-16,1.0477061879627,-.00056920638196]]},{mu:282483274392893e-21,al:[-.3735263437471362,1.76932271112347],a:[[.0044871037804314,0,0],[4324367498e-16,1.819645606291,1.7822295777568]],l:[[.0008576433172936,4.3188693178264,.01303413830805],[.0004549582875086,1.4936531751079,.01293892881962],[.0003248939825174,1.8196494533458,1.7822295777568],[-.0003074250079334,4.9377037005911,.01358483286724],[.0001982386144784,1.907986905476,.00305101212869],[.0001834063551804,2.1402853388529,.00145009789338],[-.0001434383188452,5.622214036663,.89111478887838],[-771939140944e-16,4.300272437235,2.6733443704266]],z:[[-.0093589104136341,4.0899396509039,-.01290686414666],[.0002988994545555,5.9097265185595,1.7693227079462],[.000213903639035,2.1256289300016,.00012727418407],[.0001980963564781,2.743516829265,.00067797343009],[.0001210388158965,5.5839943711203,320566149e-13],[837042048393e-16,1.6094538368039,-.90402165808846],[823525166369e-16,1.4461887708689,3.5515522949802]],zeta:[[.0040404917832303,1.0477063169425,-.0005692064054],[.0002200421034564,3.3368857864364,-.00012491307307],[.0001662544744719,2.4134862374711,0],[590282470983e-16,5.9719930968366,-3056160225e-14]]},{mu:282498184184723e-21,al:[.2874089391143348,.878207923589328],a:[[.0071566594572575,0,0],[1393029911e-15,1.1586745884981,2.6733443704266]],l:[[.0002310797886226,2.1402987195942,.00145009784384],[-.0001828635964118,4.3188672736968,.01303413828263],[.0001512378778204,4.9373102372298,.01358483481252],[-.0001163720969778,4.300265986149,2.6733443704266],[-955478069846e-16,1.4936612842567,.01293892879857],[815246854464e-16,5.6222137132535,.89111478887838],[-801219679602e-16,1.2995922951532,1.0034433456729],[-607017260182e-16,.64978769669238,.50172167043264]],z:[[.0014289811307319,2.1256295942739,.00012727413029],[.000771093122676,5.5836330003496,320643411e-13],[.0005925911780766,4.0899396636448,-.01290686414666],[.0002045597496146,5.2713683670372,-.12523544076106],[.0001785118648258,.28743156721063,.8782079244252],[.0001131999784893,1.4462127277818,3.5515522949802],[-65877816921e-15,2.2702423990985,-1.7951364394537],[497058888328e-16,5.9096792204858,1.7693227129285]],zeta:[[.0015932721570848,3.3368862796665,-.00012491307058],[.0008533093128905,2.4133881688166,0],[.0003513347911037,5.9720789850127,-3056101771e-14],[-.0001441929255483,1.0477061764435,-.00056920632124]]},{mu:282492144889909e-21,al:[-.3620341291375704,.376486233433828],a:[[.0125879701715314,0,0],[3595204947e-15,.64965776007116,.50172168165034],[27580210652e-16,1.808423578151,3.1750660413359]],l:[[.0005586040123824,2.1404207189815,.00145009793231],[-.0003805813868176,2.7358844897853,2972965062e-14],[.0002205152863262,.649796525964,.5017216724358],[.0001877895151158,1.8084787604005,3.1750660413359],[766916975242e-16,6.2720114319755,1.3928364636651],[747056855106e-16,1.2995916202344,1.0034433456729]],z:[[.0073755808467977,5.5836071576084,3206509914e-14],[.0002065924169942,5.9209831565786,.37648624194703],[.0001589869764021,.28744006242623,.8782079244252],[-.0001561131605348,2.1257397865089,.00012727441285],[.0001486043380971,1.4462134301023,3.5515522949802],[635073108731e-16,5.9096803285954,1.7693227129285],[599351698525e-16,4.1125517584798,-2.7985797954589],[540660842731e-16,5.5390350845569,.00286834082283],[-489596900866e-16,4.6218149483338,-.62695712529519]],zeta:[[.0038422977898495,2.4133922085557,0],[.0022453891791894,5.9721736773277,-3056125525e-14],[-.0002604479450559,3.3368746306409,-.00012491309972],[33211214323e-15,5.5604137742337,.00290037688507]]}];class ae{constructor(T,R,Y,rt){this.io=T,this.europa=R,this.ganymede=Y,this.callisto=rt}}o.JupiterMoonsInfo=ae;function Ae(x,T,R){const Y=R[0],rt=R[1],et=R[2],dt=R[3],Ot=R[4],Et=R[5],ie=Math.sqrt(T/(Y*Y*Y));let _e,ce,De,$e=rt+et*Math.sin(rt)-dt*Math.cos(rt);do _e=Math.cos($e),ce=Math.sin($e),De=(rt-$e+et*ce-dt*_e)/(1-et*_e-dt*ce),$e+=De;while(Math.abs(De)>=1e-12);_e=Math.cos($e),ce=Math.sin($e);const Je=dt*_e-et*ce,pr=-et*_e-dt*ce,Hr=1/(1+pr),on=Math.sqrt(1-et*et-dt*dt),qr=1/(1+on),Jr=Y*(_e-et-qr*dt*Je),or=Y*(ce-dt+qr*et*Je),vn=ie*Hr*Y*(-ce-qr*dt*pr),Qn=ie*Hr*Y*(+_e+qr*et*pr),Ni=2*Math.sqrt(1-Ot*Ot-Et*Et),xi=1-2*Et*Et,Yi=1-2*Ot*Ot,qi=2*Et*Ot;return new nn(Jr*xi+or*qi,Jr*qi+or*Yi,(Ot*or-Jr*Et)*Ni,vn*xi+Qn*qi,vn*qi+Qn*Yi,(Ot*Qn-vn*Et)*Ni,x)}function Kt(x,T){const R=x.tt+18262.5,Y=[0,T.al[0]+R*T.al[1],0,0,0,0];for(let[et,dt,Ot]of T.a)Y[0]+=et*Math.cos(dt+R*Ot);for(let[et,dt,Ot]of T.l)Y[1]+=et*Math.sin(dt+R*Ot);Y[1]%=s,Y[1]<0&&(Y[1]+=s);for(let[et,dt,Ot]of T.z){const Et=dt+R*Ot;Y[2]+=et*Math.cos(Et),Y[3]+=et*Math.sin(Et)}for(let[et,dt,Ot]of T.zeta){const Et=dt+R*Ot;Y[4]+=et*Math.cos(Et),Y[5]+=et*Math.sin(Et)}const rt=Ae(x,T.mu,Y);return aa(vt,rt)}function ge(x){const T=new j(x);return new ae(Kt(T,he[0]),Kt(T,he[1]),Kt(T,he[2]),Kt(T,he[3]))}o.JupiterMoons=ge;function Ye(x,T){var R=st(T);if(x in qt)return ea(qt[x],R);if(x===ht.Pluto){const et=Zt(R,!0);return new wn(et.x,et.y,et.z,R)}if(x===ht.Sun)return new wn(0,0,0,R);if(x===ht.Moon){var Y=ea(qt.Earth,R),rt=oa(R);return new wn(Y.x+rt.x,Y.y+rt.y,Y.z+rt.z,R)}if(x===ht.EMB){const et=ea(qt.Earth,R),dt=oa(R),Ot=1+le;return new wn(et.x+dt.x/Ot,et.y+dt.y/Ot,et.z+dt.z/Ot,R)}if(x===ht.SSB)return yn(R);throw`HelioVector: Unknown body "${x}"`}o.HelioVector=Ye;function cr(x,T){const R=st(T);return x in qt?Vo(qt[x][Ou],R.tt/Ys,!1):Ye(x,R).Length()}o.HelioDistance=cr;class Mr{}o.PositionFunction=Mr;function Qr(x,T){let R=T,Y;for(let rt=0;rt<10;++rt){const et=x.Position(R),dt=T.AddDays(-et.Length()/o.C_AUDAY);if(Y=Math.abs(dt.tt-R.tt),Y<1e-9)return et;R=dt}throw"Light-travel time solver did not converge."}o.CorrectLightTravel=Qr;class yr extends Mr{constructor(T,R,Y,rt){super();this.observerBody=T,this.targetBody=R,this.aberration=Y,this.observerPos=rt}Position(T){this.aberration&&(this.observerPos=Ye(this.observerBody,T));const R=Ye(this.targetBody,T);return new wn(R.x-this.observerPos.x,R.y-this.observerPos.y,R.z-this.observerPos.z,T)}}function Ue(x,T,R,Y){Br(Y);const rt=st(x);let et;Y?et=new wn(0,0,0,rt):et=Ye(T,rt);const dt=new yr(T,R,Y,et);return Qr(dt,rt)}o.BackdatePosition=Ue;function Lr(x,T,R){Br(R);const Y=st(T);switch(x){case ht.Earth:return new wn(0,0,0,Y);case ht.Moon:return oa(Y);default:const rt=Ue(Y,ht.Earth,x,R);return rt.t=Y,rt}}o.GeoVector=Lr;function mr(x,T){return new nn(x.r.x,x.r.y,x.r.z,x.v.x,x.v.y,x.v.z,T)}function ee(x,T){const R=st(T);if(x===ht.SSB)return new nn(0,0,0,0,0,0,R);if(x===ht.Pluto)return Zt(R,!1);const Y=new C(R.tt);switch(x){case ht.Sun:return mr(Y.Sun,R);case ht.Jupiter:return mr(Y.Jupiter,R);case ht.Saturn:return mr(Y.Saturn,R);case ht.Uranus:return mr(Y.Uranus,R);case ht.Neptune:return mr(Y.Neptune,R);case ht.Moon:case ht.EMB:const rt=_o(qt[ht.Earth],R.tt),et=x===ht.Moon?xo(R):Tu(R);return new nn(et.x+Y.Sun.r.x+rt.r.x,et.y+Y.Sun.r.y+rt.r.y,et.z+Y.Sun.r.z+rt.r.z,et.vx+Y.Sun.v.x+rt.v.x,et.vy+Y.Sun.v.y+rt.v.y,et.vz+Y.Sun.v.z+rt.v.z,R)}if(x in qt){const rt=_o(qt[x],R.tt);return new nn(Y.Sun.r.x+rt.r.x,Y.Sun.r.y+rt.r.y,Y.Sun.r.z+rt.r.z,Y.Sun.v.x+rt.v.x,Y.Sun.v.y+rt.v.y,Y.Sun.v.z+rt.v.z,R)}throw`BaryState: Unsupported body "${x}"`}o.BaryState=ee;function re(x,T){const R=st(T);switch(x){case ht.Sun:return new nn(0,0,0,0,0,0,R);case ht.SSB:const Y=new C(R.tt);return new nn(-Y.Sun.r.x,-Y.Sun.r.y,-Y.Sun.r.z,-Y.Sun.v.x,-Y.Sun.v.y,-Y.Sun.v.z,R);case ht.Mercury:case ht.Venus:case ht.Earth:case ht.Mars:case ht.Jupiter:case ht.Saturn:case ht.Uranus:case ht.Neptune:const rt=_o(qt[x],R.tt);return mr(rt,R);case ht.Pluto:return Zt(R,!0);case ht.Moon:case ht.EMB:const et=_o(qt.Earth,R.tt),dt=x==ht.Moon?xo(R):Tu(R);return new nn(dt.x+et.r.x,dt.y+et.r.y,dt.z+et.r.z,dt.vx+et.v.x,dt.vy+et.v.y,dt.vz+et.v.z,R);default:throw`HelioState: Unsupported body "${x}"`}}o.HelioState=re;function Ne(x,T,R,Y,rt){let et=(rt+R)/2-Y,dt=(rt-R)/2,Ot=Y,Et;if(et==0){if(dt==0||(Et=-Ot/dt,Et<-1||Et>1))return null}else{let ce=dt*dt-4*et*Ot;if(ce<=0)return null;let De=Math.sqrt(ce),$e=(-dt+De)/(2*et),Je=(-dt-De)/(2*et);if(-1<=$e&&$e<=1){if(-1<=Je&&Je<=1)return null;Et=$e}else if(-1<=Je&&Je<=1)Et=Je;else return null}let ie=x+Et*T,_e=(2*et*Et+dt)/T;return{x:Et,t:ie,df_dt:_e}}function Te(x,T,R,Y){const rt=Vt(Y&&Y.dt_tolerance_seconds||1),et=Math.abs(rt/I);let dt=Y&&Y.init_f1||x(T),Ot=Y&&Y.init_f2||x(R),Et=NaN,ie=0,_e=Y&&Y.iter_limit||20,ce=!0;for(;;){if(++ie>_e)throw"Excessive iteration in Search()";let De=W(T,R,.5),$e=De.ut-T.ut;if(Math.abs($e)<et)return De;ce?Et=x(De):ce=!0;let Je=Ne(De.ut,R.ut-De.ut,dt,Et,Ot);if(Je){let pr=st(Je.t),Hr=x(pr);if(Je.df_dt!==0){if(Math.abs(Hr/Je.df_dt)<et)return pr;let on=1.2*Math.abs(Hr/Je.df_dt);if(on<$e/10){let qr=pr.AddDays(-on),Jr=pr.AddDays(+on);if((qr.ut-T.ut)*(qr.ut-R.ut)<0&&(Jr.ut-T.ut)*(Jr.ut-R.ut)<0){let or=x(qr),vn=x(Jr);if(or<0&&vn>=0){dt=or,Ot=vn,T=qr,R=Jr,Et=Hr,ce=!1;continue}}}}}if(dt<0&&Et>=0){R=De,Ot=Et;continue}if(Et<0&&Ot>=0){T=De,dt=Et;continue}return null}}o.Search=Te;function wr(x){let T=x;for(;T<=-180;)T+=360;for(;T>180;)T-=360;return T}function gr(x){for(;x<0;)x+=360;for(;x>=360;)x-=360;return x}function Fr(x,T,R){function Y(dt){let Ot=rc(dt);return wr(Ot.elon-x)}Vt(x),Vt(R);let rt=st(T),et=rt.AddDays(R);return Te(Y,rt,et,{dt_tolerance_seconds:.01})}o.SearchSunLongitude=Fr;function sr(x,T,R){if(x===ht.Earth||T===ht.Earth)throw"The Earth does not have a longitude as seen from itself.";const Y=st(R),rt=Lr(x,Y,!1),et=Ha(rt),dt=Lr(T,Y,!1),Ot=Ha(dt);return gr(et.elon-Ot.elon)}o.PairLongitude=sr;function fr(x,T){if(x==ht.Earth)throw"The Earth does not have an angle as seen from itself.";const R=st(T),Y=Lr(ht.Sun,R,!0),rt=Lr(x,R,!0);return At(Y,rt)}o.AngleFromSun=fr;function Or(x,T){if(x===ht.Sun)throw"Cannot calculate heliocentric longitude of the Sun.";const R=Ye(x,T);return Ha(R).elon}o.EclipticLongitude=Or;function On(x,T,R,Y){let rt,et=0,dt=0,Ot=0;switch(x){case ht.Mercury:rt=-.6,et=4.98,dt=-4.88,Ot=3.02;break;case ht.Venus:T<163.6?(rt=-4.47,et=1.03,dt=.57,Ot=.13):(rt=.98,et=-1.02);break;case ht.Mars:rt=-1.52,et=1.6;break;case ht.Jupiter:rt=-9.4,et=.5;break;case ht.Uranus:rt=-7.19,et=.25;break;case ht.Neptune:rt=-6.87;break;case ht.Pluto:rt=-1,et=4;break;default:throw`VisualMagnitude: unsupported body ${x}`}const Et=T/100;let ie=rt+Et*(et+Et*(dt+Et*Ot));return ie+=5*Math.log10(R*Y),ie}function Ft(x,T,R,Y,rt){const et=Ha(Y),dt=o.DEG2RAD*28.06,Ot=o.DEG2RAD*(169.51+382e-7*rt.tt),Et=o.DEG2RAD*et.elat,ie=o.DEG2RAD*et.elon,_e=Math.asin(Math.sin(Et)*Math.cos(dt)-Math.cos(Et)*Math.sin(dt)*Math.sin(ie-Ot)),ce=Math.sin(Math.abs(_e));let De=-9+.044*x;return De+=ce*(-2.6+1.2*ce),De+=5*Math.log10(T*R),{mag:De,ring_tilt:o.RAD2DEG*_e}}function se(x,T,R){let Y=x*o.DEG2RAD,rt=Y*Y,et=rt*rt,dt=-12.717+1.49*Math.abs(Y)+.0431*et;const Ot=385000.6/o.KM_PER_AU;let Et=R/Ot;return dt+=5*Math.log10(T*Et),dt}class me{constructor(T,R,Y,rt,et,dt,Ot,Et){this.time=T,this.mag=R,this.phase_angle=Y,this.helio_dist=rt,this.geo_dist=et,this.gc=dt,this.hc=Ot,this.ring_tilt=Et,this.phase_fraction=(1+Math.cos(o.DEG2RAD*Y))/2}}o.IlluminationInfo=me;function Ie(x,T){if(x===ht.Earth)throw"The illumination of the Earth is not defined.";const R=st(T),Y=ea(qt.Earth,R);let rt,et,dt,Ot;x===ht.Sun?(dt=new wn(-Y.x,-Y.y,-Y.z,R),et=new wn(0,0,0,R),rt=0):(x===ht.Moon?(dt=oa(R),et=new wn(Y.x+dt.x,Y.y+dt.y,Y.z+dt.z,R)):(et=Ye(x,T),dt=new wn(et.x-Y.x,et.y-Y.y,et.z-Y.z,R)),rt=At(dt,et));let Et=dt.Length(),ie=et.Length(),_e;if(x===ht.Sun)Ot=M+5*Math.log10(Et);else if(x===ht.Moon)Ot=se(rt,ie,Et);else if(x===ht.Saturn){const ce=Ft(rt,ie,Et,dt,R);Ot=ce.mag,_e=ce.ring_tilt}else Ot=On(x,rt,ie,Et);return new me(R,Ot,rt,ie,Et,dt,et,_e)}o.Illumination=Ie;function ke(x){if(x===ht.Earth)throw"The Earth does not have a synodic period as seen from itself.";if(x===ht.Moon)return A;let T=te[x];if(!T)throw`Not a valid planet name: ${x}`;const R=te.Earth.OrbitalPeriod,Y=T.OrbitalPeriod;return Math.abs(R/(R/Y-1))}function rr(x,T,R){Vt(T);const Y=te[x];if(!Y)throw`Cannot search relative longitude because body is not a planet: ${x}`;if(x===ht.Earth)throw"Cannot search relative longitude for the Earth (it is always 0)";const rt=Y.OrbitalPeriod>te.Earth.OrbitalPeriod?1:-1;function et(ie){const _e=Or(x,ie),ce=Or(ht.Earth,ie),De=rt*(ce-_e);return wr(De-T)}let dt=ke(x),Ot=st(R),Et=et(Ot);Et>0&&(Et-=360);for(let ie=0;ie<100;++ie){let _e=-Et/360*dt;if(Ot=Ot.AddDays(_e),Math.abs(_e)*I<1)return Ot;let ce=Et;if(Et=et(Ot),Math.abs(ce)<30&&ce!==Et){let De=ce/(ce-Et);De>.5&&De<2&&(dt*=De)}}throw`Relative longitude search failed to converge for ${x} near ${Ot.toString()} (error_angle = ${Et}).`}o.SearchRelativeLongitude=rr;function lr(x){return sr(ht.Moon,ht.Sun,x)}o.MoonPhase=lr;function ar(x,T,R){function Y(De){let $e=lr(De);return wr($e-x)}Vt(x),Vt(R);const rt=1.5;let et=st(T),dt=Y(et);dt>0&&(dt-=360);let Ot=-(A*dt)/360,Et=Ot-rt;if(Et>R)return null;let ie=Math.min(R,Ot+rt),_e=et.AddDays(Et),ce=et.AddDays(ie);return Te(Y,_e,ce)}o.SearchMoonPhase=ar;class tn{constructor(T,R){this.quarter=T,this.time=R}}o.MoonQuarter=tn;function Zr(x){let T=lr(x),Y=(Math.floor(T/90)+1)%4,rt=ar(90*Y,x,10);if(!rt)throw"Cannot find moon quarter";return new tn(Y,rt)}o.SearchMoonQuarter=Zr;function pn(x){let T=new Date(x.time.date.getTime()+6*K);return Zr(T)}o.NextMoonQuarter=pn;function An(x){switch(x){case ht.Sun:return H;case ht.Moon:return Dt;default:return 0}}function Hn(x,T,R,Y,rt){let et=An(x);function dt(Ot){const Et=ia(x,Ot,T,!0,!0),_e=Ma(Ot,T,Et.ra,Et.dec).altitude+o.RAD2DEG*(et/Et.dist)+Jt;return R*_e}return de(x,T,R,Y,rt,dt)}o.SearchRiseSet=Hn;function Sr(x,T,R,Y,rt,et){if(!Number.isFinite(et)||et<-90||et>90)throw`Invalid altitude angle: ${et}`;function dt(Ot){const Et=ia(x,Ot,T,!0,!0),ie=Ma(Ot,T,Et.ra,Et.dec);return R*(ie.altitude-et)}return de(x,T,R,Y,rt,dt)}o.SearchAltitude=Sr;function de(x,T,R,Y,rt,et){if(Ra(T),Vt(rt),rt<=0)throw`Invalid value for limitDays: ${rt}`;if(x===ht.Earth)throw"Cannot find altitude event for the Earth.";let dt,Ot;if(R===1)dt=12,Ot=0;else if(R===-1)dt=0,Ot=12;else throw`Invalid direction parameter ${R} -- must be +1 or -1`;let Et=st(Y),ie,_e,ce,De=et(Et),$e;for(De>0?(_e=Cn(x,T,dt,Et),ie=_e.time,De=et(ie)):ie=Et,ce=Cn(x,T,Ot,ie),$e=et(ce.time);;){if(De<=0&&$e>0){let Je=Te(et,ie,ce.time,{init_f1:De,init_f2:$e});if(Je)return Je}if(_e=Cn(x,T,dt,ce.time),ce=Cn(x,T,Ot,_e.time),_e.time.ut>=Et.ut+rt)return null;ie=_e.time,De=et(_e.time),$e=et(ce.time)}}class fi{constructor(T,R){this.time=T,this.hor=R}}o.HourAngleEvent=fi;function Cn(x,T,R,Y){Ra(T);let rt=st(Y),et=0;if(x===ht.Earth)throw"Cannot search for hour angle of the Earth.";if(Vt(R),R<0||R>=24)throw`Invalid hour angle ${R}`;for(;;){++et;let dt=kn(rt),Ot=ia(x,rt,T,!0,!0),Et=(R+Ot.ra-T.longitude/15-dt)%24;if(et===1?Et<0&&(Et+=24):Et<-12?Et+=24:Et>12&&(Et-=24),Math.abs(Et)*3600<.1){const _e=Ma(rt,T,Ot.ra,Ot.dec,"normal");return new fi(rt,_e)}let ie=Et/24*z;rt=rt.AddDays(ie)}}o.SearchHourAngle=Cn;class Yr{constructor(T,R,Y,rt){this.mar_equinox=T,this.jun_solstice=R,this.sep_equinox=Y,this.dec_solstice=rt}}o.SeasonInfo=Yr;function ln(x){function T(dt,Ot,Et){let ie=new Date(Date.UTC(x,Ot-1,Et)),_e=Fr(dt,ie,20);if(!_e)throw`Cannot find season change near ${ie.toISOString()}`;return _e}if(x instanceof Date&&Number.isFinite(x.getTime())&&(x=x.getUTCFullYear()),!Number.isSafeInteger(x))throw`Cannot calculate seasons because year argument ${x} is neither a Date nor a safe integer.`;let R=T(0,3,10),Y=T(90,6,10),rt=T(180,9,10),et=T(270,12,10);return new Yr(R,Y,rt,et)}o.Seasons=ln;class cn{constructor(T,R,Y,rt){this.time=T,this.visibility=R,this.elongation=Y,this.ecliptic_separation=rt}}o.ElongationEvent=cn;function un(x,T){let R=st(T),Y=sr(x,ht.Sun,R),rt;Y>180?(rt="morning",Y=360-Y):rt="evening";let et=fr(x,R);return new cn(R,rt,et,Y)}o.Elongation=un;function Vn(x,T){function Y(Et){const ie=Et.AddDays(-.005),_e=Et.AddDays(.01/2);let ce=fr(x,ie),De=fr(x,_e);return(ce-De)/.01}let rt=st(T);const dt={Mercury:{s1:50,s2:85},Venus:{s1:40,s2:50}}[x];if(!dt)throw"SearchMaxElongation works for Mercury and Venus only.";let Ot=0;for(;++Ot<=2;){let Et=Or(x,rt),ie=Or(ht.Earth,rt),_e=wr(Et-ie),ce,De,$e;_e>=-dt.s1&&_e<+dt.s1?($e=0,ce=+dt.s1,De=+dt.s2):_e>=+dt.s2||_e<-dt.s2?($e=0,ce=-dt.s2,De=-dt.s1):_e>=0?($e=-ke(x)/4,ce=+dt.s1,De=+dt.s2):($e=-ke(x)/4,ce=-dt.s2,De=-dt.s1);let Je=rt.AddDays($e),pr=rr(x,ce,Je),Hr=rr(x,De,pr),on=Y(pr);if(on>=0)throw`SearchMaxElongation: internal error: m1 = ${on}`;let qr=Y(Hr);if(qr<=0)throw`SearchMaxElongation: internal error: m2 = ${qr}`;let Jr=Te(Y,pr,Hr,{init_f1:on,init_f2:qr,dt_tolerance_seconds:10});if(!Jr)throw`SearchMaxElongation: failed search iter ${Ot} (t1=${pr.toString()}, t2=${Hr.toString()})`;if(Jr.tt>=rt.tt)return un(x,Jr);rt=Hr.AddDays(1)}throw"SearchMaxElongation: failed to find event after 2 tries."}o.SearchMaxElongation=Vn;function pi(x,T){if(x!==ht.Venus)throw"SearchPeakMagnitude currently works for Venus only.";const R=.01;function Y(Et){const ie=Et.AddDays(-R/2),_e=Et.AddDays(+R/2),ce=Ie(x,ie).mag;return(Ie(x,_e).mag-ce)/R}let rt=st(T);const et=10,dt=30;let Ot=0;for(;++Ot<=2;){let Et=Or(x,rt),ie=Or(ht.Earth,rt),_e=wr(Et-ie),ce,De,$e;_e>=-et&&_e<+et?($e=0,ce=+et,De=+dt):_e>=+dt||_e<-dt?($e=0,ce=-dt,De=-et):_e>=0?($e=-ke(x)/4,ce=+et,De=+dt):($e=-ke(x)/4,ce=-dt,De=-et);let Je=rt.AddDays($e),pr=rr(x,ce,Je),Hr=rr(x,De,pr),on=Y(pr);if(on>=0)throw`SearchPeakMagnitude: internal error: m1 = ${on}`;let qr=Y(Hr);if(qr<=0)throw`SearchPeakMagnitude: internal error: m2 = ${qr}`;let Jr=Te(Y,pr,Hr,{init_f1:on,init_f2:qr,dt_tolerance_seconds:10});if(!Jr)throw`SearchPeakMagnitude: failed search iter ${Ot} (t1=${pr.toString()}, t2=${Hr.toString()})`;if(Jr.tt>=rt.tt)return Ie(x,Jr);rt=Hr.AddDays(1)}throw"SearchPeakMagnitude: failed to find event after 2 tries."}o.SearchPeakMagnitude=pi;var si;(function(x){x[x.Pericenter=0]="Pericenter",x[x.Apocenter=1]="Apocenter"})(si=o.ApsisKind||(o.ApsisKind={}));class Ri{constructor(T,R,Y){this.time=T,this.kind=R,this.dist_au=Y,this.dist_km=Y*o.KM_PER_AU}}o.Apsis=Ri;function Hi(x){function R(Et){let ie=Et.AddDays(-5e-4),_e=Et.AddDays(.001/2),ce=sn(ie).distance_au;return(sn(_e).distance_au-ce)/.001}function Y(Et){return-R(Et)}let rt=st(x),et=R(rt);const dt=5;for(var Ot=0;Ot*dt<2*A;++Ot){let Et=rt.AddDays(dt),ie=R(Et);if(et*ie<=0){if(et<0||ie>0){let _e=Te(R,rt,Et,{init_f1:et,init_f2:ie});if(!_e)throw"SearchLunarApsis INTERNAL ERROR: perigee search failed!";let ce=sn(_e).distance_au;return new Ri(_e,0,ce)}if(et>0||ie<0){let _e=Te(Y,rt,Et,{init_f1:-et,init_f2:-ie});if(!_e)throw"SearchLunarApsis INTERNAL ERROR: apogee search failed!";let ce=sn(_e).distance_au;return new Ri(_e,1,ce)}throw"SearchLunarApsis INTERNAL ERROR: cannot classify apsis event!"}rt=Et,et=ie}throw"SearchLunarApsis INTERNAL ERROR: could not find apsis within 2 synodic months of start date."}o.SearchLunarApsis=Hi;function ni(x){let R=Hi(x.time.AddDays(11));if(R.kind+x.kind!==1)throw`NextLunarApsis INTERNAL ERROR: did not find alternating apogee/perigee: prev=${x.kind} @ ${x.time.toString()}, next=${R.kind} @ ${R.time.toString()}`;return R}o.NextLunarApsis=ni;function Xn(x,T,R,Y){const rt=T===si.Apocenter?1:-1,et=10;for(;;){const dt=Y/(et-1);if(dt<1/1440){const ie=R.AddDays(dt/2),_e=cr(x,ie);return new Ri(ie,T,_e)}let Ot=-1,Et=0;for(let ie=0;ie<et;++ie){const _e=R.AddDays(ie*dt),ce=rt*cr(x,_e);(ie==0||ce>Et)&&(Ot=ie,Et=ce)}R=R.AddDays((Ot-1)*dt),Y=2*dt}}function wi(x,T){const Y=T.AddDays(te[x].OrbitalPeriod*-.08333333333333333),rt=T.AddDays(te[x].OrbitalPeriod*(270/360));let et=Y,dt=Y,Ot=-1,Et=-1;const ie=(rt.ut-Y.ut)/(100-1);for(let De=0;De<100;++De){const $e=Y.AddDays(De*ie),Je=cr(x,$e);De===0?Et=Ot=Je:(Je>Et&&(Et=Je,dt=$e),Je<Ot&&(Ot=Je,et=$e))}const _e=Xn(x,0,et.AddDays(-2*ie),4*ie),ce=Xn(x,1,dt.AddDays(-2*ie),4*ie);if(_e.time.tt>=T.tt)return ce.time.tt>=T.tt&&ce.time.tt<_e.time.tt?ce:_e;if(ce.time.tt>=T.tt)return ce;throw"Internal error: failed to find Neptune apsis."}function mn(x,T){if(T=st(T),x===ht.Neptune||x===ht.Pluto)return wi(x,T);function R(Et){let _e=Et.AddDays(-5e-4),ce=Et.AddDays(.001/2),De=cr(x,_e);return(cr(x,ce)-De)/.001}function Y(Et){return-R(Et)}const rt=te[x].OrbitalPeriod,et=rt/6;let dt=T,Ot=R(dt);for(let Et=0;Et*et<2*rt;++Et){const ie=dt.AddDays(et),_e=R(ie);if(Ot*_e<=0){let ce,De;if(Ot<0||_e>0)ce=R,De=si.Pericenter;else if(Ot>0||_e<0)ce=Y,De=si.Apocenter;else throw"Internal error with slopes in SearchPlanetApsis";const $e=Te(ce,dt,ie);if(!$e)throw"Failed to find slope transition in planetary apsis search.";const Je=cr(x,$e);return new Ri($e,De,Je)}dt=ie,Ot=_e}throw"Internal error: should have found planetary apsis within 2 orbital periods."}o.SearchPlanetApsis=mn;function Xa(x,T){if(T.kind!==si.Pericenter&&T.kind!==si.Apocenter)throw`Invalid apsis kind: ${T.kind}`;const R=.25*te[x].OrbitalPeriod,Y=T.time.AddDays(R),rt=mn(x,Y);if(rt.kind+T.kind!==1)throw`Internal error: previous apsis was ${T.kind}, but found ${rt.kind} for next apsis.`;return rt}o.NextPlanetApsis=Xa;function Bn(x){return new Un([[x.rot[0][0],x.rot[1][0],x.rot[2][0]],[x.rot[0][1],x.rot[1][1],x.rot[2][1]],[x.rot[0][2],x.rot[1][2],x.rot[2][2]]])}o.InverseRotation=Bn;function _a(x,T){return new Un([[T.rot[0][0]*x.rot[0][0]+T.rot[1][0]*x.rot[0][1]+T.rot[2][0]*x.rot[0][2],T.rot[0][1]*x.rot[0][0]+T.rot[1][1]*x.rot[0][1]+T.rot[2][1]*x.rot[0][2],T.rot[0][2]*x.rot[0][0]+T.rot[1][2]*x.rot[0][1]+T.rot[2][2]*x.rot[0][2]],[T.rot[0][0]*x.rot[1][0]+T.rot[1][0]*x.rot[1][1]+T.rot[2][0]*x.rot[1][2],T.rot[0][1]*x.rot[1][0]+T.rot[1][1]*x.rot[1][1]+T.rot[2][1]*x.rot[1][2],T.rot[0][2]*x.rot[1][0]+T.rot[1][2]*x.rot[1][1]+T.rot[2][2]*x.rot[1][2]],[T.rot[0][0]*x.rot[2][0]+T.rot[1][0]*x.rot[2][1]+T.rot[2][0]*x.rot[2][2],T.rot[0][1]*x.rot[2][0]+T.rot[1][1]*x.rot[2][1]+T.rot[2][1]*x.rot[2][2],T.rot[0][2]*x.rot[2][0]+T.rot[1][2]*x.rot[2][1]+T.rot[2][2]*x.rot[2][2]]])}o.CombineRotation=_a;function Xi(){return new Un([[1,0,0],[0,1,0],[0,0,1]])}o.IdentityMatrix=Xi;function To(x,T,R){if(T!==0&&T!==1&&T!==2)throw`Invalid axis ${T}. Must be [0, 1, 2].`;const Y=Vt(R)*o.DEG2RAD,rt=Math.cos(Y),et=Math.sin(Y),dt=(T+1)%3,Ot=(T+2)%3,Et=T;let ie=[[0,0,0],[0,0,0],[0,0,0]];return ie[dt][dt]=rt*x.rot[dt][dt]-et*x.rot[dt][Ot],ie[dt][Ot]=et*x.rot[dt][dt]+rt*x.rot[dt][Ot],ie[dt][Et]=x.rot[dt][Et],ie[Ot][dt]=rt*x.rot[Ot][dt]-et*x.rot[Ot][Ot],ie[Ot][Ot]=et*x.rot[Ot][dt]+rt*x.rot[Ot][Ot],ie[Ot][Et]=x.rot[Ot][Et],ie[Et][dt]=rt*x.rot[Et][dt]-et*x.rot[Et][Ot],ie[Et][Ot]=et*x.rot[Et][dt]+rt*x.rot[Et][Ot],ie[Et][Et]=x.rot[Et][Et],new Un(ie)}o.Pivot=To;function Ps(x,T){T=st(T);const R=x.lat*o.DEG2RAD,Y=x.lon*o.DEG2RAD,rt=x.dist*Math.cos(R);return new wn(rt*Math.cos(Y),rt*Math.sin(Y),x.dist*Math.sin(R),T)}o.VectorFromSphere=Ps;function Ki(x){const T=xs(x);return new ho(T.lon/15,T.lat,T.dist,x)}o.EquatorFromVector=Ki;function xs(x){const T=x.x*x.x+x.y*x.y,R=Math.sqrt(T+x.z*x.z);let Y,rt;if(T===0){if(x.z===0)throw"Zero-length vector not allowed.";rt=0,Y=x.z<0?-90:90}else rt=o.RAD2DEG*Math.atan2(x.y,x.x),rt<0&&(rt+=360),Y=o.RAD2DEG*Math.atan2(x.z,Math.sqrt(T));return new Ei(Y,rt,R)}o.SphereFromVector=xs;function Wo(x){return x=360-x,x>=360?x-=360:x<0&&(x+=360),x}function Ca(x,T){const R=xs(x);return R.lon=Wo(R.lon),R.lat+=Oo(T,R.lat),R}o.HorizonFromVector=Ca;function Ns(x,T,R){T=st(T);const Y=Wo(x.lon),rt=x.lat+$n(R,x.lat),et=new Ei(rt,Y,x.dist);return Ps(et,T)}o.VectorFromHorizon=Ns;function Oo(x,T){let R;if(Vt(T),T<-90||T>90)return 0;if(x==="normal"||x==="jplhor"){let Y=T;Y<-1&&(Y=-1),R=1.02/Math.tan((Y+10.3/(Y+5.11))*o.DEG2RAD)/60,x==="normal"&&T<-1&&(R*=(T+90)/89)}else if(!x)R=0;else throw`Invalid refraction option: ${x}`;return R}o.Refraction=Oo;function $n(x,T){if(T<-90||T>90)return 0;let R=T-Oo(x,T);for(;;){let Y=R+Oo(x,R)-T;if(Math.abs(Y)<1e-14)return R-T;R-=Y}}o.InverseRefraction=$n;function _n(x,T){return new wn(x.rot[0][0]*T.x+x.rot[1][0]*T.y+x.rot[2][0]*T.z,x.rot[0][1]*T.x+x.rot[1][1]*T.y+x.rot[2][1]*T.z,x.rot[0][2]*T.x+x.rot[1][2]*T.y+x.rot[2][2]*T.z,T.t)}o.RotateVector=_n;function aa(x,T){return new nn(x.rot[0][0]*T.x+x.rot[1][0]*T.y+x.rot[2][0]*T.z,x.rot[0][1]*T.x+x.rot[1][1]*T.y+x.rot[2][1]*T.z,x.rot[0][2]*T.x+x.rot[1][2]*T.y+x.rot[2][2]*T.z,x.rot[0][0]*T.vx+x.rot[1][0]*T.vy+x.rot[2][0]*T.vz,x.rot[0][1]*T.vx+x.rot[1][1]*T.vy+x.rot[2][1]*T.vz,x.rot[0][2]*T.vx+x.rot[1][2]*T.vy+x.rot[2][2]*T.vz,T.t)}o.RotateState=aa;function ca(){const x=.9174821430670688,T=.3977769691083922;return new Un([[1,0,0],[0,+x,-T],[0,+T,+x]])}o.Rotation_EQJ_ECL=ca;function Hs(){const x=.9174821430670688,T=.3977769691083922;return new Un([[1,0,0],[0,+x,+T],[0,-T,+x]])}o.Rotation_ECL_EQJ=Hs;function Ts(x){x=st(x);const T=Mi(x,Ct.From2000),R=rn(x,Ct.From2000);return _a(T,R)}o.Rotation_EQJ_EQD=Ts;function Wn(x){x=st(x);const T=rn(x,Ct.Into2000),R=Mi(x,Ct.Into2000);return _a(T,R)}o.Rotation_EQD_EQJ=Wn;function to(x,T){x=st(x);const R=Math.sin(T.latitude*o.DEG2RAD),Y=Math.cos(T.latitude*o.DEG2RAD),rt=Math.sin(T.longitude*o.DEG2RAD),et=Math.cos(T.longitude*o.DEG2RAD),dt=[Y*et,Y*rt,R],Ot=[-R*et,-R*rt,Y],Et=[rt,-et,0],ie=-15*kn(x),_e=ja(ie,dt),ce=ja(ie,Ot),De=ja(ie,Et);return new Un([[ce[0],De[0],_e[0]],[ce[1],De[1],_e[1]],[ce[2],De[2],_e[2]]])}o.Rotation_EQD_HOR=to;function us(x,T){const R=to(x,T);return Bn(R)}o.Rotation_HOR_EQD=us;function Ka(x,T){x=st(x);const R=us(x,T),Y=Wn(x);return _a(R,Y)}o.Rotation_HOR_EQJ=Ka;function Ea(x,T){const R=Ka(x,T);return Bn(R)}o.Rotation_EQJ_HOR=Ea;function fn(x){const T=Wn(x),R=ca();return _a(T,R)}o.Rotation_EQD_ECL=fn;function ds(x){const T=fn(x);return Bn(T)}o.Rotation_ECL_EQD=ds;function Au(x,T){x=st(x);const R=ds(x),Y=to(x,T);return _a(R,Y)}o.Rotation_ECL_HOR=Au;function Ml(x,T){const R=Au(x,T);return Bn(R)}o.Rotation_HOR_ECL=Ml;function Os(){return new Un([[-.0548624779711344,.4941095946388765,-.8676668813529025],[-.8734572784246782,-.4447938112296831,-.1980677870294097],[-.483800052994852,.7470034631630423,.4559861124470794]])}o.Rotation_EQJ_GAL=Os;function Se(){return new Un([[-.0548624779711344,-.8734572784246782,-.483800052994852],[.4941095946388765,-.4447938112296831,.7470034631630423],[-.8676668813529025,-.1980677870294097,.4559861124470794]])}o.Rotation_GAL_EQJ=Se;const Ga=[["And","Andromeda"],["Ant","Antila"],["Aps","Apus"],["Aql","Aquila"],["Aqr","Aquarius"],["Ara","Ara"],["Ari","Aries"],["Aur","Auriga"],["Boo","Bootes"],["Cae","Caelum"],["Cam","Camelopardis"],["Cap","Capricornus"],["Car","Carina"],["Cas","Cassiopeia"],["Cen","Centaurus"],["Cep","Cepheus"],["Cet","Cetus"],["Cha","Chamaeleon"],["Cir","Circinus"],["CMa","Canis Major"],["CMi","Canis Minor"],["Cnc","Cancer"],["Col","Columba"],["Com","Coma Berenices"],["CrA","Corona Australis"],["CrB","Corona Borealis"],["Crt","Crater"],["Cru","Crux"],["Crv","Corvus"],["CVn","Canes Venatici"],["Cyg","Cygnus"],["Del","Delphinus"],["Dor","Dorado"],["Dra","Draco"],["Equ","Equuleus"],["Eri","Eridanus"],["For","Fornax"],["Gem","Gemini"],["Gru","Grus"],["Her","Hercules"],["Hor","Horologium"],["Hya","Hydra"],["Hyi","Hydrus"],["Ind","Indus"],["Lac","Lacerta"],["Leo","Leo"],["Lep","Lepus"],["Lib","Libra"],["LMi","Leo Minor"],["Lup","Lupus"],["Lyn","Lynx"],["Lyr","Lyra"],["Men","Mensa"],["Mic","Microscopium"],["Mon","Monoceros"],["Mus","Musca"],["Nor","Norma"],["Oct","Octans"],["Oph","Ophiuchus"],["Ori","Orion"],["Pav","Pavo"],["Peg","Pegasus"],["Per","Perseus"],["Phe","Phoenix"],["Pic","Pictor"],["PsA","Pisces Austrinus"],["Psc","Pisces"],["Pup","Puppis"],["Pyx","Pyxis"],["Ret","Reticulum"],["Scl","Sculptor"],["Sco","Scorpius"],["Sct","Scutum"],["Ser","Serpens"],["Sex","Sextans"],["Sge","Sagitta"],["Sgr","Sagittarius"],["Tau","Taurus"],["Tel","Telescopium"],["TrA","Triangulum Australe"],["Tri","Triangulum"],["Tuc","Tucana"],["UMa","Ursa Major"],["UMi","Ursa Minor"],["Vel","Vela"],["Vir","Virgo"],["Vol","Volans"],["Vul","Vulpecula"]],ha=[[83,0,8640,2112],[83,2880,5220,2076],[83,7560,8280,2068],[83,6480,7560,2064],[15,0,2880,2040],[10,3300,3840,1968],[15,0,1800,1920],[10,3840,5220,1920],[83,6300,6480,1920],[33,7260,7560,1920],[15,0,1263,1848],[10,4140,4890,1848],[83,5952,6300,1800],[15,7260,7440,1800],[10,2868,3300,1764],[33,3300,4080,1764],[83,4680,5952,1680],[13,1116,1230,1632],[33,7350,7440,1608],[33,4080,4320,1596],[15,0,120,1584],[83,5040,5640,1584],[15,8490,8640,1584],[33,4320,4860,1536],[33,4860,5190,1512],[15,8340,8490,1512],[10,2196,2520,1488],[33,7200,7350,1476],[15,7393.2,7416,1462],[10,2520,2868,1440],[82,2868,3030,1440],[33,7116,7200,1428],[15,7200,7393.2,1428],[15,8232,8340,1418],[13,0,876,1404],[33,6990,7116,1392],[13,612,687,1380],[13,876,1116,1368],[10,1116,1140,1368],[15,8034,8232,1350],[10,1800,2196,1344],[82,5052,5190,1332],[33,5190,6990,1332],[10,1140,1200,1320],[15,7968,8034,1320],[15,7416,7908,1316],[13,0,612,1296],[50,2196,2340,1296],[82,4350,4860,1272],[33,5490,5670,1272],[15,7908,7968,1266],[10,1200,1800,1260],[13,8232,8400,1260],[33,5670,6120,1236],[62,735,906,1212],[33,6120,6564,1212],[13,0,492,1200],[62,492,600,1200],[50,2340,2448,1200],[13,8400,8640,1200],[82,4860,5052,1164],[13,0,402,1152],[13,8490,8640,1152],[39,6543,6564,1140],[33,6564,6870,1140],[30,6870,6900,1140],[62,600,735,1128],[82,3030,3300,1128],[13,60,312,1104],[82,4320,4350,1080],[50,2448,2652,1068],[30,7887,7908,1056],[30,7875,7887,1050],[30,6900,6984,1044],[82,3300,3660,1008],[82,3660,3882,960],[8,5556,5670,960],[39,5670,5880,960],[50,3330,3450,954],[0,0,906,882],[62,906,924,882],[51,6969,6984,876],[62,1620,1689,864],[30,7824,7875,864],[44,7875,7920,864],[7,2352,2652,852],[50,2652,2790,852],[0,0,720,840],[44,7920,8214,840],[44,8214,8232,828],[0,8232,8460,828],[62,924,978,816],[82,3882,3960,816],[29,4320,4440,816],[50,2790,3330,804],[48,3330,3558,804],[0,258,507,792],[8,5466,5556,792],[0,8460,8550,770],[29,4440,4770,768],[0,8550,8640,752],[29,5025,5052,738],[80,870,978,736],[62,978,1620,736],[7,1620,1710,720],[51,6543,6969,720],[82,3960,4320,696],[30,7080,7530,696],[7,1710,2118,684],[48,3558,3780,684],[29,4770,5025,684],[0,0,24,672],[80,507,600,672],[7,2118,2352,672],[37,2838,2880,672],[30,7530,7824,672],[30,6933,7080,660],[80,690,870,654],[25,5820,5880,648],[8,5430,5466,624],[25,5466,5820,624],[51,6612,6792,624],[48,3870,3960,612],[51,6792,6933,612],[80,600,690,600],[66,258,306,570],[48,3780,3870,564],[87,7650,7710,564],[77,2052,2118,548],[0,24,51,528],[73,5730,5772,528],[37,2118,2238,516],[87,7140,7290,510],[87,6792,6930,506],[0,51,306,504],[87,7290,7404,492],[37,2811,2838,480],[87,7404,7650,468],[87,6930,7140,460],[6,1182,1212,456],[75,6792,6840,444],[59,2052,2076,432],[37,2238,2271,420],[75,6840,7140,388],[77,1788,1920,384],[39,5730,5790,384],[75,7140,7290,378],[77,1662,1788,372],[77,1920,2016,372],[23,4620,4860,360],[39,6210,6570,344],[23,4272,4620,336],[37,2700,2811,324],[39,6030,6210,308],[61,0,51,300],[77,2016,2076,300],[37,2520,2700,300],[61,7602,7680,300],[37,2271,2496,288],[39,6570,6792,288],[31,7515,7578,284],[61,7578,7602,284],[45,4146,4272,264],[59,2247,2271,240],[37,2496,2520,240],[21,2811,2853,240],[61,8580,8640,240],[6,600,1182,238],[31,7251,7308,204],[8,4860,5430,192],[61,8190,8580,180],[21,2853,3330,168],[45,3330,3870,168],[58,6570,6718.4,150],[3,6718.4,6792,150],[31,7500,7515,144],[20,2520,2526,132],[73,6570,6633,108],[39,5790,6030,96],[58,6570,6633,72],[61,7728,7800,66],[66,0,720,48],[73,6690,6792,48],[31,7308,7500,48],[34,7500,7680,48],[61,7680,7728,48],[61,7920,8190,48],[61,7800,7920,42],[20,2526,2592,36],[77,1290,1662,0],[59,1662,1680,0],[20,2592,2910,0],[85,5280,5430,0],[58,6420,6570,0],[16,954,1182,-42],[77,1182,1290,-42],[73,5430,5856,-78],[59,1680,1830,-96],[59,2100,2247,-96],[73,6420,6468,-96],[73,6570,6690,-96],[3,6690,6792,-96],[66,8190,8580,-96],[45,3870,4146,-144],[85,4146,4260,-144],[66,0,120,-168],[66,8580,8640,-168],[85,5130,5280,-192],[58,5730,5856,-192],[3,7200,7392,-216],[4,7680,7872,-216],[58,6180,6468,-240],[54,2100,2910,-264],[35,1770,1830,-264],[59,1830,2100,-264],[41,2910,3012,-264],[74,3450,3870,-264],[85,4260,4620,-264],[58,6330,6360,-280],[3,6792,7200,-288.8],[35,1740,1770,-348],[4,7392,7680,-360],[73,6180,6570,-384],[72,6570,6792,-384],[41,3012,3090,-408],[58,5856,5895,-438],[41,3090,3270,-456],[26,3870,3900,-456],[71,5856,5895,-462],[47,5640,5730,-480],[28,4530,4620,-528],[85,4620,5130,-528],[41,3270,3510,-576],[16,600,954,-585.2],[35,954,1350,-585.2],[26,3900,4260,-588],[28,4260,4530,-588],[47,5130,5370,-588],[58,5856,6030,-590],[16,0,600,-612],[11,7680,7872,-612],[4,7872,8580,-612],[16,8580,8640,-612],[41,3510,3690,-636],[35,1692,1740,-654],[46,1740,2202,-654],[11,7200,7680,-672],[41,3690,3810,-700],[41,4530,5370,-708],[47,5370,5640,-708],[71,5640,5760,-708],[35,1650,1692,-720],[58,6030,6336,-720],[76,6336,6420,-720],[41,3810,3900,-748],[19,2202,2652,-792],[41,4410,4530,-792],[41,3900,4410,-840],[36,1260,1350,-864],[68,3012,3372,-882],[35,1536,1650,-888],[76,6420,6900,-888],[65,7680,8280,-888],[70,8280,8400,-888],[36,1080,1260,-950],[1,3372,3960,-954],[70,0,600,-960],[36,600,1080,-960],[35,1392,1536,-960],[70,8400,8640,-960],[14,5100,5370,-1008],[49,5640,5760,-1008],[71,5760,5911.5,-1008],[9,1740,1800,-1032],[22,1800,2370,-1032],[67,2880,3012,-1032],[35,1230,1392,-1056],[71,5911.5,6420,-1092],[24,6420,6900,-1092],[76,6900,7320,-1092],[53,7320,7680,-1092],[35,1080,1230,-1104],[9,1620,1740,-1116],[49,5520,5640,-1152],[63,0,840,-1156],[35,960,1080,-1176],[40,1470,1536,-1176],[9,1536,1620,-1176],[38,7680,7920,-1200],[67,2160,2880,-1218],[84,2880,2940,-1218],[35,870,960,-1224],[40,1380,1470,-1224],[63,0,660,-1236],[12,2160,2220,-1260],[84,2940,3042,-1272],[40,1260,1380,-1276],[32,1380,1440,-1276],[63,0,570,-1284],[35,780,870,-1296],[64,1620,1800,-1296],[49,5418,5520,-1296],[84,3042,3180,-1308],[12,2220,2340,-1320],[14,4260,4620,-1320],[49,5100,5418,-1320],[56,5418,5520,-1320],[32,1440,1560,-1356],[84,3180,3960,-1356],[14,3960,4050,-1356],[5,6300,6480,-1368],[78,6480,7320,-1368],[38,7920,8400,-1368],[40,1152,1260,-1380],[64,1800,1980,-1380],[12,2340,2460,-1392],[63,0,480,-1404],[35,480,780,-1404],[63,8400,8640,-1404],[32,1560,1650,-1416],[56,5520,5911.5,-1440],[43,7320,7680,-1440],[64,1980,2160,-1464],[18,5460,5520,-1464],[5,5911.5,5970,-1464],[18,5370,5460,-1526],[5,5970,6030,-1526],[64,2160,2460,-1536],[12,2460,3252,-1536],[14,4050,4260,-1536],[27,4260,4620,-1536],[14,4620,5232,-1536],[18,4860,4920,-1560],[5,6030,6060,-1560],[40,780,1152,-1620],[69,1152,1650,-1620],[18,5310,5370,-1620],[5,6060,6300,-1620],[60,6300,6480,-1620],[81,7920,8400,-1620],[32,1650,2370,-1680],[18,4920,5310,-1680],[79,5310,6120,-1680],[81,0,480,-1800],[42,1260,1650,-1800],[86,2370,3252,-1800],[12,3252,4050,-1800],[55,4050,4920,-1800],[60,6480,7680,-1800],[43,7680,8400,-1800],[81,8400,8640,-1800],[81,270,480,-1824],[42,0,1260,-1980],[17,2760,4920,-1980],[2,4920,6480,-1980],[52,1260,2760,-2040],[57,0,8640,-2160]];let Zi,Wi;class fa{constructor(T,R,Y,rt){this.symbol=T,this.name=R,this.ra1875=Y,this.dec1875=rt}}o.ConstellationInfo=fa;function ul(x,T){if(Vt(x),Vt(T),T<-90||T>90)throw"Invalid declination angle. Must be -90..+90.";x%=24,x<0&&(x+=24),Zi||(Zi=Ts(new j(-45655.74141261017)),Wi=new j(0));const R=new Ei(T,15*x,1),Y=Ps(R,Wi),rt=_n(Zi,Y),et=Ki(rt),dt=10/(4*60),Ot=dt/15;for(let Et of ha){const ie=Et[3]*dt,_e=Et[1]*Ot,ce=Et[2]*Ot;if(ie<=et.dec&&_e<=et.ra&&et.ra<ce){const De=Ga[Et[0]];return new fa(De[0],De[1],et.ra,et.dec)}}throw"Unable to find constellation for given coordinates."}o.Constellation=ul;var ba;(function(x){x.Penumbral="penumbral",x.Partial="partial",x.Annular="annular",x.Total="total"})(ba=o.EclipseKind||(o.EclipseKind={}));class Kl{constructor(T,R,Y,rt,et){this.kind=T,this.peak=R,this.sd_penum=Y,this.sd_partial=rt,this.sd_total=et}}o.LunarEclipseInfo=Kl;class $a{constructor(T,R,Y,rt,et,dt,Ot){this.time=T,this.u=R,this.r=Y,this.k=rt,this.p=et,this.target=dt,this.dir=Ot}}function Xs(x,T,R,Y){const rt=(Y.x*R.x+Y.y*R.y+Y.z*R.z)/(Y.x*Y.x+Y.y*Y.y+Y.z*Y.z),et=rt*Y.x-R.x,dt=rt*Y.y-R.y,Ot=rt*Y.z-R.z,Et=o.KM_PER_AU*Math.hypot(et,dt,Ot),ie=+X-(1+rt)*(X-x),_e=-X+(1+rt)*(X+x);return new $a(T,rt,Et,ie,_e,R,Y)}function Fs(x){const T=ea(qt.Earth,x),R=oa(x);return Xs(Bt,x,R,T)}function Rl(x){const T=ea(qt.Earth,x),R=oa(x),Y=new wn(-R.x,-R.y,-R.z,R.t);return R.x+=T.x,R.y+=T.y,R.z+=T.z,Xs(Xt,x,Y,R)}function $l(x,T){const R=_i(x,T),Y=ea(qt.Earth,x),rt=oa(x),et=new wn(R[0]-rt.x,R[1]-rt.y,R[2]-rt.z,x);return rt.x+=Y.x,rt.y+=Y.y,rt.z+=Y.z,Xs(Xt,x,et,rt)}function Mu(x,T,R){const Y=Lr(x,R,!1),rt=Lr(ht.Sun,R,!1),et=new wn(Y.x-rt.x,Y.y-rt.y,Y.z-rt.z,R);return rt.x=-Y.x,rt.y=-Y.y,rt.z=-Y.z,Xs(T,R,rt,et)}function Zl(x,T){const R=11574074074074073e-21,Y=T.AddDays(-R),rt=T.AddDays(+R),et=x(Y);return(x(rt).r-et.r)/R}function cl(x,T,R){const Y=11574074074074073e-21,rt=Mu(x,T,R.AddDays(-Y));return(Mu(x,T,R.AddDays(+Y)).r-rt.r)/Y}function oc(x){const R=x.AddDays(-.03),Y=x.AddDays(.03),rt=Te(et=>Zl(Fs,et),R,Y);if(!rt)throw"Failed to find peak Earth shadow time.";return Fs(rt)}function ac(x){const R=x.AddDays(-.03),Y=x.AddDays(.03),rt=Te(et=>Zl(Rl,et),R,Y);if(!rt)throw"Failed to find peak Moon shadow time.";return Rl(rt)}function a0(x,T,R){const rt=R.AddDays(-1),et=R.AddDays(1),dt=Te(Ot=>cl(x,T,Ot),rt,et);if(!dt)throw"Failed to find peak planet shadow time.";return Mu(x,T,dt)}function Ru(x,T){const Y=x.AddDays(-.2),rt=x.AddDays(.2);function et(Ot){return $l(Ot,T)}const dt=Te(Ot=>Zl(et,Ot),Y,rt);if(!dt)throw`PeakLocalMoonShadow: search failure for search_center_time = ${x}`;return $l(dt,T)}function sc(x,T,R){const Y=R/1440,rt=x.AddDays(-Y),et=x.AddDays(+Y),dt=Te(Et=>-(Fs(Et).r-T),rt,x),Ot=Te(Et=>+(Fs(Et).r-T),x,et);if(!dt||!Ot)throw"Failed to find shadow semiduration";return(Ot.ut-dt.ut)*(24*60/2)}function Yo(x){const T=sn(x);return o.RAD2DEG*T.geo_eclip_lat}function bc(x){let R=st(x);for(let Y=0;Y<12;++Y){const rt=ar(180,R,40);if(!rt)throw"Cannot find full moon.";const et=Yo(rt);if(Math.abs(et)<1.8){const dt=oc(rt);if(dt.r<dt.p+Xt){let Ot=ba.Penumbral,Et=0,ie=0,_e=sc(dt.time,dt.p+Xt,200);return dt.r<dt.k+Xt&&(Ot=ba.Partial,ie=sc(dt.time,dt.k+Xt,_e),dt.r+Xt<dt.k&&(Ot=ba.Total,Et=sc(dt.time,dt.k-Xt,ie))),new Kl(Ot,dt.time,_e,ie,Et)}}R=rt.AddDays(10)}throw"Failed to find lunar eclipse within 12 full moons."}o.SearchLunarEclipse=bc;class Ds{constructor(T,R,Y,rt,et){this.kind=T,this.peak=R,this.distance=Y,this.latitude=rt,this.longitude=et}}o.GlobalSolarEclipseInfo=Ds;function lc(x){return x>.014?ba.Total:ba.Annular}function ql(x){let T=ba.Partial,R=x.time,Y=x.r,rt,et;const dt=Ts(x.time),Ot=_n(dt,x.dir),Et=_n(dt,x.target);Ot.x*=o.KM_PER_AU,Ot.y*=o.KM_PER_AU,Ot.z*=o.KM_PER_AU/J,Et.x*=o.KM_PER_AU,Et.y*=o.KM_PER_AU,Et.z*=o.KM_PER_AU/J;const ie=pt,_e=Ot.x*Ot.x+Ot.y*Ot.y+Ot.z*Ot.z,ce=-2*(Ot.x*Et.x+Ot.y*Et.y+Ot.z*Et.z),De=Et.x*Et.x+Et.y*Et.y+Et.z*Et.z-ie*ie,$e=ce*ce-4*_e*De;if($e>0){const Je=(-ce-Math.sqrt($e))/(2*_e),pr=Je*Ot.x-Et.x,Hr=Je*Ot.y-Et.y,on=(Je*Ot.z-Et.z)*J,qr=Math.hypot(pr,Hr)*nt;qr==0?rt=on>0?90:-90:rt=o.RAD2DEG*Math.atan(on/qr);const Jr=kn(R);et=(o.RAD2DEG*Math.atan2(Hr,pr)-15*Jr)%360,et<=-180?et+=360:et>180&&(et-=360);const or=Bn(dt);let vn=new wn(pr/o.KM_PER_AU,Hr/o.KM_PER_AU,on/o.KM_PER_AU,x.time);vn=_n(or,vn),vn.x+=x.target.x,vn.y+=x.target.y,vn.z+=x.target.z;const Qn=Xs(It,x.time,vn,x.dir);if(Qn.r>1e-9||Qn.r<0)throw`Unexpected shadow distance from geoid intersection = ${Qn.r}`;T=lc(Qn.k)}return new Ds(T,R,Y,rt,et)}function s0(x){x=st(x);const T=x.AddDays(10);return bc(T)}o.NextLunarEclipse=s0;function As(x){x=st(x);const T=1.8;let R=x,Y;for(Y=0;Y<12;++Y){const rt=ar(0,R,40);if(!rt)throw"Cannot find new moon";const et=Yo(rt);if(Math.abs(et)<T){const dt=ac(rt);if(dt.r<dt.p+_t)return ql(dt)}R=rt.AddDays(10)}throw"Failed to find solar eclipse within 12 full moons."}o.SearchGlobalSolarEclipse=As;function js(x){x=st(x);const T=x.AddDays(10);return As(T)}o.NextGlobalSolarEclipse=js;class da{constructor(T,R){this.time=T,this.altitude=R}}o.EclipseEvent=da;class hl{constructor(T,R,Y,rt,et,dt){this.kind=T,this.partial_begin=R,this.total_begin=Y,this.peak=rt,this.total_end=et,this.partial_end=dt}}o.LocalSolarEclipseInfo=hl;function Cu(x){return x.p-x.r}function bu(x){return Math.abs(x.k)-x.r}function Lc(x,T){const rt=Cl(T,x.time);let et=x.time.AddDays(-.2),dt=x.time.AddDays(.2);const Ot=Jl(T,1,Cu,et,x.time),Et=Jl(T,-1,Cu,x.time,dt);let ie,_e,ce;return x.r<Math.abs(x.k)?(et=x.time.AddDays(-.01),dt=x.time.AddDays(.01),ie=Jl(T,1,bu,et,x.time),_e=Jl(T,-1,bu,x.time,dt),ce=lc(x.k)):ce=ba.Partial,new hl(ce,Ot,ie,rt,_e,Et)}function Jl(x,T,R,Y,rt){function et(Ot){const Et=$l(Ot,x);return T*R(Et)}const dt=Te(et,Y,rt);if(!dt)throw"Local eclipse transition search failed.";return Cl(x,dt)}function Cl(x,T){const R=l0(T,x);return new da(T,R)}function l0(x,T){const R=ia(ht.Sun,x,T,!0,!0);return Ma(x,T,R.ra,R.dec,"normal").altitude}function Lu(x,T){x=st(x),Ra(T);const R=1.8;let Y=x;for(;;){const rt=ar(0,Y,40);if(!rt)throw"Cannot find next new moon";const et=Yo(rt);if(Math.abs(et)<R){const dt=Ru(rt,T);if(dt.r<dt.p){const Ot=Lc(dt,T);if(Ot.partial_begin.altitude>0||Ot.partial_end.altitude>0)return Ot}}Y=rt.AddDays(10)}}o.SearchLocalSolarEclipse=Lu;function zn(x,T){x=st(x);const R=x.AddDays(10);return Lu(R,T)}o.NextLocalSolarEclipse=zn;class Iu{constructor(T,R,Y,rt){this.start=T,this.peak=R,this.finish=Y,this.separation=rt}}o.TransitInfo=Iu;function Ks(x,T,R,Y){const rt=Mu(T,R,x);return Y*(rt.r-rt.p)}function $s(x,T,R,Y,rt){const et=Te(dt=>Ks(dt,x,T,rt),R,Y);if(!et)throw"Planet transit boundary search failed";return et}function fl(x,T){T=st(T);const R=.4,Y=1;let rt;switch(x){case ht.Mercury:rt=2439.7;break;case ht.Venus:rt=6051.8;break;default:throw`Invalid body: ${x}`}let et=T;for(;;){const dt=rr(x,0,et);if(fr(x,dt)<R){const Et=a0(x,rt,dt);if(Et.r<Et.p){const ie=Et.time.AddDays(-Y),_e=$s(x,rt,ie,Et.time,-1),ce=Et.time.AddDays(+Y),De=$s(x,rt,Et.time,ce,1),$e=60*fr(x,Et.time);return new Iu(_e,Et.time,De,$e)}}et=dt.AddDays(10)}}o.SearchTransit=fl;function Ql(x,T){T=st(T);const R=T.AddDays(100);return fl(x,R)}o.NextTransit=Ql;var dl;(function(x){x[x.Invalid=0]="Invalid",x[x.Ascending=1]="Ascending",x[x.Descending=-1]="Descending"})(dl=o.NodeEventKind||(o.NodeEventKind={}));class Eo{constructor(T,R){this.kind=T,this.time=R}}o.NodeEventInfo=Eo;const pl=10;function bl(x){let T=st(x),R=ll(T);for(;;){const Y=T.AddDays(pl),rt=ll(Y);if(R.lat*rt.lat<=0){const et=rt.lat>R.lat?dl.Ascending:dl.Descending,dt=Te(Ot=>et*ll(Ot).lat,T,Y);if(!dt)throw"Could not find moon node.";return new Eo(et,dt)}T=Y,R=rt}}o.SearchMoonNode=bl;function Jn(x){const T=x.time.AddDays(pl),R=bl(T);switch(x.kind){case dl.Ascending:if(R.kind!==dl.Descending)throw`Internal error: previous node was ascending, but this node was: ${R.kind}`;break;case dl.Descending:if(R.kind!==dl.Ascending)throw`Internal error: previous node was descending, but this node was: ${R.kind}`;break;default:throw`Previous node has an invalid node kind: ${x.kind}`}return R}o.NextMoonNode=Jn;class Ll{constructor(T,R,Y,rt){this.ra=T,this.dec=R,this.spin=Y,this.north=rt}}o.AxisInfo=Ll;function D(x){const T=an([0,0,1],x,Ct.Into2000),R=Fn(T,x,Ct.Into2000),Y=new wn(R[0],R[1],R[2],x),rt=Ki(Y),et=190.41375788700253+360.9856122880876*x.ut;return new Ll(rt.ra,rt.dec,et,Y)}function U(x,T){const R=st(T),Y=R.tt,rt=Y/36525;let et,dt,Ot;switch(x){case ht.Sun:et=286.13,dt=63.87,Ot=84.176+14.1844*Y;break;case ht.Mercury:et=281.0103-.0328*rt,dt=61.4155-.0049*rt,Ot=329.5988+6.1385108*Y+.01067257*Math.sin(o.DEG2RAD*(174.7910857+4.092335*Y))-.00112309*Math.sin(o.DEG2RAD*(349.5821714+8.18467*Y))-1104e-7*Math.sin(o.DEG2RAD*(164.3732571+12.277005*Y))-2539e-8*Math.sin(o.DEG2RAD*(339.1643429+16.36934*Y))-571e-8*Math.sin(o.DEG2RAD*(153.9554286+20.461675*Y));break;case ht.Venus:et=272.76,dt=67.16,Ot=160.2-1.4813688*Y;break;case ht.Earth:return D(R);case ht.Moon:const De=o.DEG2RAD*(125.045-.0529921*Y),$e=o.DEG2RAD*(250.089-.1059842*Y),Je=o.DEG2RAD*(260.008+13.0120009*Y),pr=o.DEG2RAD*(176.625+13.3407154*Y),Hr=o.DEG2RAD*(357.529+.9856003*Y),on=o.DEG2RAD*(311.589+26.4057084*Y),qr=o.DEG2RAD*(134.963+13.064993*Y),Jr=o.DEG2RAD*(276.617+.3287146*Y),or=o.DEG2RAD*(34.226+1.7484877*Y),vn=o.DEG2RAD*(15.134-.1589763*Y),Qn=o.DEG2RAD*(119.743+.0036096*Y),Ni=o.DEG2RAD*(239.961+.1643573*Y),xi=o.DEG2RAD*(25.053+12.9590088*Y);et=269.9949+.0031*rt-3.8787*Math.sin(De)-.1204*Math.sin($e)+.07*Math.sin(Je)-.0172*Math.sin(pr)+.0072*Math.sin(on)-.0052*Math.sin(vn)+.0043*Math.sin(xi),dt=66.5392+.013*rt+1.5419*Math.cos(De)+.0239*Math.cos($e)-.0278*Math.cos(Je)+.0068*Math.cos(pr)-.0029*Math.cos(on)+9e-4*Math.cos(qr)+8e-4*Math.cos(vn)-9e-4*Math.cos(xi),Ot=38.3213+(13.17635815-14e-13*Y)*Y+3.561*Math.sin(De)+.1208*Math.sin($e)-.0642*Math.sin(Je)+.0158*Math.sin(pr)+.0252*Math.sin(Hr)-.0066*Math.sin(on)-.0047*Math.sin(qr)-.0046*Math.sin(Jr)+.0028*Math.sin(or)+.0052*Math.sin(vn)+.004*Math.sin(Qn)+.0019*Math.sin(Ni)-.0044*Math.sin(xi);break;case ht.Mars:et=317.269202-.10927547*rt+68e-6*Math.sin(o.DEG2RAD*(198.991226+19139.4819985*rt))+238e-6*Math.sin(o.DEG2RAD*(226.292679+38280.8511281*rt))+52e-6*Math.sin(o.DEG2RAD*(249.663391+57420.7251593*rt))+9e-6*Math.sin(o.DEG2RAD*(266.18351+76560.636795*rt))+.419057*Math.sin(o.DEG2RAD*(79.398797+.5042615*rt)),dt=54.432516-.05827105*rt+51e-6*Math.cos(o.DEG2RAD*(122.433576+19139.9407476*rt))+141e-6*Math.cos(o.DEG2RAD*(43.058401+38280.8753272*rt))+31e-6*Math.cos(o.DEG2RAD*(57.663379+57420.7517205*rt))+5e-6*Math.cos(o.DEG2RAD*(79.476401+76560.6495004*rt))+1.591274*Math.cos(o.DEG2RAD*(166.325722+.5042615*rt)),Ot=176.049863+350.891982443297*Y+145e-6*Math.sin(o.DEG2RAD*(129.071773+19140.0328244*rt))+157e-6*Math.sin(o.DEG2RAD*(36.352167+38281.0473591*rt))+4e-5*Math.sin(o.DEG2RAD*(56.668646+57420.929536*rt))+1e-6*Math.sin(o.DEG2RAD*(67.364003+76560.2552215*rt))+1e-6*Math.sin(o.DEG2RAD*(104.79268+95700.4387578*rt))+.584542*Math.sin(o.DEG2RAD*(95.391654+.5042615*rt));break;case ht.Jupiter:const Yi=o.DEG2RAD*(99.360714+4850.4046*rt),qi=o.DEG2RAD*(175.895369+1191.9605*rt),ro=o.DEG2RAD*(300.323162+262.5475*rt),so=o.DEG2RAD*(114.012305+6070.2476*rt),Sa=o.DEG2RAD*(49.511251+64.3*rt);et=268.056595-.006499*rt+117e-6*Math.sin(Yi)+938e-6*Math.sin(qi)+.001432*Math.sin(ro)+3e-5*Math.sin(so)+.00215*Math.sin(Sa),dt=64.495303+.002413*rt+5e-5*Math.cos(Yi)+404e-6*Math.cos(qi)+617e-6*Math.cos(ro)-13e-6*Math.cos(so)+926e-6*Math.cos(Sa),Ot=284.95+870.536*Y;break;case ht.Saturn:et=40.589-.036*rt,dt=83.537-.004*rt,Ot=38.9+810.7939024*Y;break;case ht.Uranus:et=257.311,dt=-15.175,Ot=203.81-501.1600928*Y;break;case ht.Neptune:const Ci=o.DEG2RAD*(357.85+52.316*rt);et=299.36+.7*Math.sin(Ci),dt=43.46-.51*Math.cos(Ci),Ot=249.978+541.1397757*Y-.48*Math.sin(Ci);break;case ht.Pluto:et=132.993,dt=-6.163,Ot=302.695+56.3625225*Y;break;default:throw`Invalid body: ${x}`}const Et=dt*o.DEG2RAD,ie=et*o.DEG2RAD,_e=Math.cos(Et),ce=new wn(_e*Math.cos(ie),_e*Math.sin(ie),Math.sin(Et),R);return new Ll(et/15,dt,Ot,ce)}o.RotationAxis=U;function Q(x,T,R,Y){const rt=st(T),et=Qe(R),dt=Qe(Y);let Ot,Et;return R===ht.Earth&&Y===ht.Moon?(Ot=new nn(0,0,0,0,0,0,rt),Et=xo(rt)):(Ot=re(R,rt),Et=re(Y,rt)),ut(x,Ot,et,Et,dt)}o.LagrangePoint=Q;function ut(x,T,R,Y,rt){const dt=.8660254037844386;if(x<1||x>5)throw`Invalid lagrange point ${x}`;if(!Number.isFinite(R)||R<=0)throw"Major mass must be a positive number.";if(!Number.isFinite(rt)||rt<=0)throw"Minor mass must be a negative number.";let Ot=Y.x-T.x,Et=Y.y-T.y,ie=Y.z-T.z;const _e=Ot*Ot+Et*Et+ie*ie,ce=Math.sqrt(_e),De=Y.vx-T.vx,$e=Y.vy-T.vy,Je=Y.vz-T.vz;let pr;if(x===4||x===5){const Hr=Et*Je-ie*$e,on=ie*De-Ot*Je,qr=Ot*$e-Et*De;let Jr=on*ie-qr*Et,or=qr*Ot-Hr*ie,vn=Hr*Et-on*Ot;const Qn=Math.sqrt(Jr*Jr+or*or+vn*vn);Jr/=Qn,or/=Qn,vn/=Qn,Ot/=ce,Et/=ce,ie/=ce;const Ni=x==4?+dt:-dt,xi=.5*Ot+Ni*Jr,Yi=.5*Et+Ni*or,qi=.5*ie+Ni*vn,ro=.5*Jr-Ni*Ot,so=.5*or-Ni*Et,Sa=.5*vn-Ni*ie,Ci=ce*xi,ra=ce*Yi,La=ce*qi,Ia=De*Ot+$e*Et+Je*ie,Po=De*Jr+$e*or+Je*vn,Za=Ia*xi+Po*ro,eo=Ia*Yi+Po*so,k=Ia*qi+Po*Sa;pr=new nn(Ci,ra,La,Za,eo,k,T.t)}else{const Hr=-ce*(rt/(R+rt)),on=+ce*(R/(R+rt)),qr=(R+rt)/(_e*ce);let Jr,or,vn;if(x===1||x===2)Jr=R/(R+rt)*Math.cbrt(rt/(3*R)),or=-R,x==1?(Jr=1-Jr,vn=+rt):(Jr=1+Jr,vn=-rt);else if(x===3)Jr=(7/12*rt-R)/(rt+R),or=+R,vn=+rt;else throw`Invalid Langrage point ${x}. Must be an integer 1..5.`;let Qn=ce*Jr-Hr,Ni;do{const xi=Qn-Hr,Yi=Qn-on,qi=qr*Qn+or/(xi*xi)+vn/(Yi*Yi),ro=qr-2*or/(xi*xi*xi)-2*vn/(Yi*Yi*Yi);Ni=qi/ro,Qn-=Ni}while(Math.abs(Ni/ce)>1e-14);Jr=(Qn-Hr)/ce,pr=new nn(Jr*Ot,Jr*Et,Jr*ie,Jr*De,Jr*$e,Jr*Je,T.t)}return pr}o.LagrangePointFast=ut;class mt{constructor(T,R,Y){const rt=st(R);this.originBody=T;for(let Et of Y)if(Et.t.tt!==rt.tt)throw"Inconsistent times in bodyStates";const et=[],dt=mt.CalcSolarSystem(rt);this.curr=new Mt(rt,dt,et);const Ot=this.InternalBodyState(T);for(let Et of Y){const ie=new hi(Et.x+Ot.r.x,Et.y+Ot.r.y,Et.z+Ot.r.z),_e=new hi(Et.vx+Ot.v.x,Et.vy+Ot.v.y,Et.vz+Ot.v.z),ce=hi.zero();et.push(new b(rt.tt,ie,_e,ce))}this.CalcBodyAccelerations(),this.prev=this.Duplicate()}get OriginBody(){return this.originBody}get Time(){return this.curr.time}Update(T){const R=st(T),Y=R.tt-this.curr.time.tt;if(Y===0)this.prev=this.Duplicate();else{this.Swap(),this.curr.time=R,this.curr.gravitators=mt.CalcSolarSystem(R);for(let dt=0;dt<this.curr.bodies.length;++dt){const Ot=this.prev.bodies[dt];this.curr.bodies[dt].r=Z(Y,Ot.r,Ot.v,Ot.a)}this.CalcBodyAccelerations();for(let dt=0;dt<this.curr.bodies.length;++dt){const Ot=this.prev.bodies[dt],Et=this.curr.bodies[dt],ie=Ot.a.mean(Et.a);Et.tt=R.tt,Et.r=Z(Y,Ot.r,Ot.v,ie),Et.v=B(Y,Ot.v,ie)}this.CalcBodyAccelerations()}const rt=[],et=this.InternalBodyState(this.originBody);for(let dt of this.curr.bodies)rt.push(new nn(dt.r.x-et.r.x,dt.r.y-et.r.y,dt.r.z-et.r.z,dt.v.x-et.v.x,dt.v.y-et.v.y,dt.v.z-et.v.z,R));return rt}Swap(){const T=this.curr;this.curr=this.prev,this.prev=T}SolarSystemBodyState(T){const R=this.InternalBodyState(T),Y=this.InternalBodyState(this.originBody);return mr(R.sub(Y),this.curr.time)}InternalBodyState(T){if(T===ht.SSB)return new $r(this.curr.time.tt,hi.zero(),hi.zero());const R=this.curr.gravitators[T];if(R)return R;throw`Invalid body: ${T}`}static CalcSolarSystem(T){const R={},Y=new $r(T.tt,hi.zero(),hi.zero());R[ht.Mercury]=ls(Y,T.tt,ht.Mercury,gt),R[ht.Venus]=ls(Y,T.tt,ht.Venus,Yt),R[ht.Earth]=ls(Y,T.tt,ht.Earth,oe+pe),R[ht.Mars]=ls(Y,T.tt,ht.Mars,nr),R[ht.Jupiter]=ls(Y,T.tt,ht.Jupiter,ir),R[ht.Saturn]=ls(Y,T.tt,ht.Saturn,Ke),R[ht.Uranus]=ls(Y,T.tt,ht.Uranus,Ge),R[ht.Neptune]=ls(Y,T.tt,ht.Neptune,Pr);for(let rt in R)R[rt].r.decr(Y.r),R[rt].v.decr(Y.v);return R[ht.Sun]=new $r(T.tt,Y.r.neg(),Y.v.neg()),R}CalcBodyAccelerations(){for(let T of this.curr.bodies)T.a=hi.zero(),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Sun].r,Ve),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Mercury].r,gt),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Venus].r,Yt),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Earth].r,oe+pe),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Mars].r,nr),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Jupiter].r,ir),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Saturn].r,Ke),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Uranus].r,Ge),mt.AddAcceleration(T.a,T.r,this.curr.gravitators[ht.Neptune].r,Pr)}static AddAcceleration(T,R,Y,rt){const et=Y.x-R.x,dt=Y.y-R.y,Ot=Y.z-R.z,Et=et*et+dt*dt+Ot*Ot,ie=rt/(Et*Math.sqrt(Et));T.x+=et*ie,T.y+=dt*ie,T.z+=Ot*ie}Duplicate(){const T={};for(let Y in this.curr.gravitators)T[Y]=this.curr.gravitators[Y].clone();const R=[];for(let Y of this.curr.bodies)R.push(Y.clone());return new Mt(this.curr.time,T,R)}}o.GravitySimulator=mt;class Mt{constructor(T,R,Y){this.time=T,this.gravitators=R,this.bodies=Y}}})(VJ);var n0={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ec={};ec[n0.RADIANS]=6370997/(2*Math.PI);ec[n0.DEGREES]=2*Math.PI*6370997/360;ec[n0.FEET]=.3048;ec[n0.METERS]=1;ec[n0.USFEET]=1200/3937;var WJ=function(){function o(l){this.code_=l.code,this.units_=l.units,this.extent_=l.extent!==void 0?l.extent:null,this.worldExtent_=l.worldExtent!==void 0?l.worldExtent:null,this.axisOrientation_=l.axisOrientation!==void 0?l.axisOrientation:"enu",this.global_=l.global!==void 0?l.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=l.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=l.metersPerUnit}return o.prototype.canWrapX=function(){return this.canWrapX_},o.prototype.getCode=function(){return this.code_},o.prototype.getExtent=function(){return this.extent_},o.prototype.getUnits=function(){return this.units_},o.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ec[this.units_]},o.prototype.getWorldExtent=function(){return this.worldExtent_},o.prototype.getAxisOrientation=function(){return this.axisOrientation_},o.prototype.isGlobal=function(){return this.global_},o.prototype.setGlobal=function(l){this.global_=l,this.canWrapX_=!!(l&&this.extent_)},o.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},o.prototype.setDefaultTileGrid=function(l){this.defaultTileGrid_=l},o.prototype.setExtent=function(l){this.extent_=l,this.canWrapX_=!!(this.global_&&l)},o.prototype.setWorldExtent=function(l){this.worldExtent_=l},o.prototype.setGetPointResolution=function(l){this.getPointResolutionFunc_=l},o.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},o}(),m8=WJ;function ah(o,l,u){return Math.min(Math.max(o,l),u)}var YJ=function(){var o;return"cosh"in Math?o=Math.cosh:o=function(l){var u=Math.exp(l);return(u+1/u)/2},o}();function HJ(o,l,u,s){var h=u-o,d=s-l;return h*h+d*d}function A4(o){return o*Math.PI/180}function XJ(o,l){var u=o%l;return u*l<0?u+l:u}function Pp(o,l,u){return o+u*(l-o)}var KJ=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Lg=6378137,Vp=Math.PI*Lg,$J=[-Vp,-Vp,Vp,Vp],ZJ=[-180,-85,180,85],ky=Lg*Math.log(Math.tan(Math.PI/2)),Np=function(o){KJ(l,o);function l(u){return o.call(this,{code:u,units:n0.METERS,extent:$J,global:!0,worldExtent:ZJ,getPointResolution:function(s,h){return s/YJ(h[1]/Lg)}})||this}return l}(m8),Ww=[new Np("EPSG:3857"),new Np("EPSG:102100"),new Np("EPSG:102113"),new Np("EPSG:900913"),new Np("http://www.opengis.net/def/crs/EPSG/0/3857"),new Np("http://www.opengis.net/gml/srs/epsg.xml#3857")];function qJ(o,l,u){var s=o.length,h=u>1?u:2,d=l;d===void 0&&(h>2?d=o.slice():d=new Array(s));for(var v=0;v<s;v+=h){d[v]=Vp*o[v]/180;var y=Lg*Math.log(Math.tan(Math.PI*(+o[v+1]+90)/360));y>ky?y=ky:y<-ky&&(y=-ky),d[v+1]=y}return d}function JJ(o,l,u){var s=o.length,h=u>1?u:2,d=l;d===void 0&&(h>2?d=o.slice():d=new Array(s));for(var v=0;v<s;v+=h)d[v]=180*o[v]/Vp,d[v+1]=360*Math.atan(Math.exp(o[v+1]/Lg))/Math.PI-90;return d}var QJ=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),tQ=6378137,Yw=[-180,-90,180,90],eQ=Math.PI*tQ/180,hd=function(o){QJ(l,o);function l(u,s){return o.call(this,{code:u,units:n0.DEGREES,extent:Yw,axisOrientation:s,global:!0,metersPerUnit:eQ,worldExtent:Yw})||this}return l}(m8),Hw=[new hd("CRS:84"),new hd("EPSG:4326","neu"),new hd("urn:ogc:def:crs:OGC:1.3:CRS84"),new hd("urn:ogc:def:crs:OGC:2:84"),new hd("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new hd("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new hd("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],cm={};function rQ(){cm={}}function nQ(o){return cm[o]||cm[o.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function iQ(o,l){cm[o]=l}var l1=typeof Object.assign=="function"?Object.assign:function(o,l){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(o),s=1,h=arguments.length;s<h;++s){var d=arguments[s];if(d!=null)for(var v in d)d.hasOwnProperty(v)&&(u[v]=d[v])}return u};function _8(o){for(var l in o)delete o[l]}var oQ=typeof Object.values=="function"?Object.values:function(o){var l=[];for(var u in o)l.push(o[u]);return l};function cg(o){var l;for(l in o)return!1;return!l}var wd={};function aQ(){wd={}}function u1(o,l,u){var s=o.getCode(),h=l.getCode();s in wd||(wd[s]={}),wd[s][h]=u}function sQ(o,l){var u;return o in wd&&l in wd[o]&&(u=wd[o][l]),u}var af={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ko(){return function(){throw new Error("Unimplemented abstract method.")}()}var lQ=0;function Vs(o){return o.ol_uid||(o.ol_uid=String(++lQ))}var uQ="6.14.1",cQ=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),hQ=function(o){cQ(l,o);function l(u){var s=this,h="v"+uQ.split("-")[0],d="Assertion failed. See https://openlayers.org/en/"+h+"/doc/errors/#"+u+" for details.";return s=o.call(this,d)||this,s.code=u,s.name="AssertionError",s.message=d,s}return l}(Error),kO=hQ;function Ju(o,l){if(!o)throw new kO(l)}function fQ(o,l,u){var s=Math.min.apply(null,o),h=Math.min.apply(null,l),d=Math.max.apply(null,o),v=Math.max.apply(null,l);return c1(s,h,d,v,u)}function E8(o,l,u){return u?(u[0]=o[0]-l,u[1]=o[1]-l,u[2]=o[2]+l,u[3]=o[3]+l,u):[o[0]-l,o[1]-l,o[2]+l,o[3]+l]}function dQ(o,l){return l?(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l):o.slice()}function zO(o,l){return VO(o,l[0],l[1])}function Uv(o,l){return o[0]<=l[0]&&l[2]<=o[2]&&o[1]<=l[1]&&l[3]<=o[3]}function VO(o,l,u){return o[0]<=l&&l<=o[2]&&o[1]<=u&&u<=o[3]}function pQ(o,l){var u=o[0],s=o[1],h=o[2],d=o[3],v=l[0],y=l[1],E=af.UNKNOWN;return v<u?E=E|af.LEFT:v>h&&(E=E|af.RIGHT),y<s?E=E|af.BELOW:y>d&&(E=E|af.ABOVE),E===af.UNKNOWN&&(E=af.INTERSECTING),E}function hg(){return[1/0,1/0,-1/0,-1/0]}function c1(o,l,u,s,h){return h?(h[0]=o,h[1]=l,h[2]=u,h[3]=s,h):[o,l,u,s]}function WO(o){return c1(1/0,1/0,-1/0,-1/0,o)}function vQ(o,l){var u=o[0],s=o[1];return c1(u,s,u,s,l)}function gQ(o,l,u,s,h){var d=WO(h);return mQ(d,o,l,u,s)}function YO(o,l){return o[0]==l[0]&&o[2]==l[2]&&o[1]==l[1]&&o[3]==l[3]}function yQ(o,l){l[0]<o[0]&&(o[0]=l[0]),l[0]>o[2]&&(o[2]=l[0]),l[1]<o[1]&&(o[1]=l[1]),l[1]>o[3]&&(o[3]=l[1])}function mQ(o,l,u,s,h){for(;u<s;u+=h)_Q(o,l[u],l[u+1]);return o}function _Q(o,l,u){o[0]=Math.min(o[0],l),o[1]=Math.min(o[1],u),o[2]=Math.max(o[2],l),o[3]=Math.max(o[3],u)}function EQ(o){return[o[0],o[1]]}function SQ(o){return[o[2],o[1]]}function HO(o){return[(o[0]+o[2])/2,(o[1]+o[3])/2]}function hm(o){return o[3]-o[1]}function wQ(o){return[o[0],o[3]]}function xQ(o){return[o[2],o[3]]}function sh(o){return o[2]-o[0]}function R0(o,l){return o[0]<=l[2]&&o[2]>=l[0]&&o[1]<=l[3]&&o[3]>=l[1]}function TQ(o,l){return l?(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l):o}function OQ(o,l,u,s){var h=[];if(s>1)for(var d=o[2]-o[0],v=o[3]-o[1],y=0;y<s;++y)h.push(o[0]+d*y/s,o[1],o[2],o[1]+v*y/s,o[2]-d*y/s,o[3],o[0],o[3]-v*y/s);else h=[o[0],o[1],o[2],o[1],o[2],o[3],o[0],o[3]];l(h,h,2);for(var E=[],w=[],y=0,M=h.length;y<M;y+=2)E.push(h[y]),w.push(h[y+1]);return fQ(E,w,u)}function AQ(o,l){var u=l.getExtent(),s=HO(o);if(l.canWrapX()&&(s[0]<u[0]||s[0]>=u[2])){var h=sh(u),d=Math.floor((s[0]-u[0])/h),v=d*h;o[0]-=v,o[2]-=v}return o}function MQ(o,l){for(var u=!0,s=o.length-1;s>=0;--s)if(o[s]!=l[s]){u=!1;break}return u}function RQ(o,l){if(l.canWrapX()){var u=sh(l.getExtent()),s=XO(o,l,u);s&&(o[0]-=s*u)}return o}function XO(o,l,u){var s=l.getExtent(),h=0;if(l.canWrapX()&&(o[0]<s[0]||o[0]>s[2])){var d=u||sh(s);h=Math.floor((o[0]-s[0])/d)}return h}var ui={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},CQ=63710088e-1;function Xw(o,l,u){var s=u||CQ,h=A4(o[1]),d=A4(l[1]),v=(d-h)/2,y=A4(l[0]-o[0])/2,E=Math.sin(v)*Math.sin(v)+Math.sin(y)*Math.sin(y)*Math.cos(h)*Math.cos(d);return 2*s*Math.atan2(Math.sqrt(E),Math.sqrt(1-E))}var p6=!0;function KO(o){var l=o===void 0?!0:o;p6=!l}function Ym(o,l,u){var s;if(l!==void 0){for(var h=0,d=o.length;h<d;++h)l[h]=o[h];s=l}else s=o.slice();return s}function S8(o,l,u){if(l!==void 0&&o!==l){for(var s=0,h=o.length;s<h;++s)l[s]=o[s];o=l}return o}function $O(o){iQ(o.getCode(),o),u1(o,o,Ym)}function ZO(o){o.forEach($O)}function xu(o){return typeof o=="string"?nQ(o):o||null}function bQ(o,l,u,s){o=xu(o);var h,d=o.getPointResolutionFunc();if(d){if(h=d(l,u),s&&s!==o.getUnits()){var v=o.getMetersPerUnit();v&&(h=h*v/ec[s])}}else{var y=o.getUnits();if(y==n0.DEGREES&&!s||s==n0.DEGREES)h=l;else{var E=v1(o,xu("EPSG:4326"));if(E===S8&&y!==n0.DEGREES)h=l*o.getMetersPerUnit();else{var w=[u[0]-l/2,u[1],u[0]+l/2,u[1],u[0],u[1]-l/2,u[0],u[1]+l/2];w=E(w,w,2);var M=Xw(w.slice(0,2),w.slice(2,4)),A=Xw(w.slice(4,6),w.slice(6,8));h=(M+A)/2}var v=s?ec[s]:o.getMetersPerUnit();v!==void 0&&(h/=v)}}return h}function v6(o){ZO(o),o.forEach(function(l){o.forEach(function(u){l!==u&&u1(l,u,Ym)})})}function qO(o,l,u,s){o.forEach(function(h){l.forEach(function(d){u1(h,d,u),u1(d,h,s)})})}function LQ(){rQ(),aQ()}function IQ(o,l){return o?typeof o=="string"?xu(o):o:xu(l)}function g6(o){return function(l,u,s){for(var h=l.length,d=s!==void 0?s:2,v=u!==void 0?u:new Array(h),y=0;y<h;y+=d){var E=o([l[y],l[y+1]]);v[y]=E[0],v[y+1]=E[1];for(var w=d-1;w>=2;--w)v[y+w]=l[y+w]}return v}}function PQ(o,l,u,s){var h=xu(o),d=xu(l);u1(h,d,g6(u)),u1(d,h,g6(s))}function NQ(o,l){return KO(),Ig(o,"EPSG:4326",l!==void 0?l:"EPSG:3857")}function FQ(o,l){var u=Ig(o,l!==void 0?l:"EPSG:3857","EPSG:4326"),s=u[0];return(s<-180||s>180)&&(u[0]=XJ(s+180,360)-180),u}function DQ(o,l){if(o===l)return!0;var u=o.getUnits()===l.getUnits();if(o.getCode()===l.getCode())return u;var s=v1(o,l);return s===Ym&&u}function v1(o,l){var u=o.getCode(),s=l.getCode(),h=sQ(u,s);return h||(h=S8),h}function fg(o,l){var u=xu(o),s=xu(l);return v1(u,s)}function Ig(o,l,u){var s=fg(l,u);return s(o,void 0,o.length)}function w8(o,l,u,s){var h=fg(l,u);return OQ(o,h,void 0,s)}function jQ(o,l,u){var s=v1(l,u);return s(o)}var Hl=null;function JO(o){Hl=xu(o)}function GQ(){Hl=null}function QO(){return Hl}function BQ(){JO("EPSG:4326")}function UQ(o,l){return Hl?Ig(o,l,Hl):o}function kQ(o,l){return Hl?Ig(o,Hl,l):(p6&&!MQ(o,[0,0])&&o[0]>=-180&&o[0]<=180&&o[1]>=-90&&o[1]<=90&&(p6=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),o)}function y6(o,l){return Hl?w8(o,l,Hl):o}function tA(o,l){return Hl?w8(o,Hl,l):o}function eA(o,l){if(!Hl)return o;var u=xu(l).getUnits(),s=Hl.getUnits();return u&&s?o*ec[u]/ec[s]:o}function zQ(o,l){if(!Hl)return o;var u=xu(l).getUnits(),s=Hl.getUnits();return u&&s?o*ec[s]/ec[u]:o}function VQ(o,l,u){return function(s){var h=s[0],d=s[1],v,y;if(o.canWrapX()){var E=o.getExtent(),w=sh(E);y=XO(s,o,w),y&&(h=h-y*w),h=ah(h,E[0],E[2]),d=ah(d,E[1],E[3]),v=u([h,d])}else v=u(s);return y&&l.canWrapX()&&(v[0]+=y*sh(l.getExtent())),v}}function rA(){v6(Ww),v6(Hw),qO(Hw,Ww,qJ,JJ)}rA();var WQ=Object.freeze(Object.defineProperty({__proto__:null,METERS_PER_UNIT:ec,Projection:m8,disableCoordinateWarning:KO,cloneTransform:Ym,identityTransform:S8,addProjection:$O,addProjections:ZO,get:xu,getPointResolution:bQ,addEquivalentProjections:v6,addEquivalentTransforms:qO,clearAllProjections:LQ,createProjection:IQ,createTransformFromCoordinateTransform:g6,addCoordinateTransforms:PQ,fromLonLat:NQ,toLonLat:FQ,equivalent:DQ,getTransformFromProjections:v1,getTransform:fg,transform:Ig,transformExtent:w8,transformWithProjections:jQ,setUserProjection:JO,clearUserProjection:GQ,getUserProjection:QO,useGeographic:BQ,toUserCoordinate:UQ,fromUserCoordinate:kQ,toUserExtent:y6,fromUserExtent:tA,toUserResolution:eA,fromUserResolution:zQ,createSafeCoordinateTransform:VQ,addCommon:rA},Symbol.toStringTag,{value:"Module"}));const Lv={},Iv={};function wit(o,l){let u=new wo.Observer(l,o.longitude,0),s=new Date(o.unixTime),h=wo.Equator(wo.Body.Sun,s,u,!0,!1),d=Math.max(wo.Horizon(s,u,h.ra,h.dec).altitude,0),v=wo.SearchHourAngle(wo.Body.Sun,u,0,new Date(o.nadir));return{altitude:d,highestAltitude:v.hor.altitude}}function xit(o,l){let u=o.toDateString()+l+o.longitude;if(Lv!=null&&Lv[u])return Lv[u];let s=new wo.Observer(l,o.longitude,0),h=new Date(o.nadir),d=l>=0&&o.dayOfYear>=91&&o.dayOfYear<=273||l<=0&&(o.dayOfYear<=91||o.dayOfYear>=273),v=o.getTimeOfEvent(wo.SearchRiseSet(wo.Body.Sun,s,1,h,1));v||(v=d?0:180);let y=o.getTimeOfEvent(wo.SearchRiseSet(wo.Body.Sun,s,-1,h,1));y||(y=d?360:180);let E=o.getTimeOfEvent(wo.SearchAltitude(wo.Body.Sun,s,-1,h,2,-12));E||(E=d?360:180);let w=o.getTimeOfEvent(wo.SearchAltitude(wo.Body.Sun,s,1,h,2,-12));w||(w=d?0:180);let M=o.getTimeOfEvent(wo.SearchAltitude(wo.Body.Sun,s,1,h,2,6));M||(M=d?0:180);let A=o.getTimeOfEvent(wo.SearchAltitude(wo.Body.Sun,s,-1,h,2,6));return A||(A=d?360:180),Lv[u]={sunrise:v,sunset:y,nightStart:E,nightEnd:w,morningGoldenHour:M,eveningGoldenHour:A}}function Tit(o,l){let u=new wo.Observer(l,o.longitude,0),s=new Date(o.unixTime),h=wo.MoonPhase(s),d=wo.Equator(wo.Body.Moon,s,u,!0,!1),v=Math.max(wo.Horizon(s,u,d.ra,d.dec).altitude,0),y=wo.SearchHourAngle(wo.Body.Moon,u,0,new Date(o.nadir));return{phase:h,altitude:v,highestAltitude:y.hor.altitude}}function Oit(o,l){let u=o.toDateString()+l+o.longitude;if(Iv!=null&&Iv[u])return Iv[u];let s=new wo.Observer(l,o.longitude,0),h=wo.SearchRiseSet(wo.Body.Moon,s,1,new Date(o.nadir),1),d=wo.SearchRiseSet(wo.Body.Moon,s,-1,new Date(o.nadir),1);return Iv[u]={moonrise:o.getTimeOfEvent(h),moonset:o.getTimeOfEvent(d)}}var nA={exports:{}},YQ=function(){function o(l){this.propagationStopped,this.defaultPrevented,this.type=l,this.target=null}return o.prototype.preventDefault=function(){this.defaultPrevented=!0},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o}(),Pg=YQ,iA={PROPERTYCHANGE:"propertychange"},HQ=function(){function o(){this.disposed=!1}return o.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},o.prototype.disposeInternal=function(){},o}(),XQ=HQ;function m6(o,l){return o>l?1:o<l?-1:0}function KQ(o,l,u){for(;l<u;){var s=o[l];o[l]=o[u],o[u]=s,++l,--u}}function $Q(o,l){for(var u=Array.isArray(l)?l:[l],s=u.length,h=0;h<s;h++)o[o.length]=u[h]}function g1(o,l){var u=o.length;if(u!==l.length)return!1;for(var s=0;s<u;s++)if(o[s]!==l[s])return!1;return!0}function ZQ(){return!0}function dg(){}function qQ(o){var l=!1,u,s,h;return function(){var d=Array.prototype.slice.call(arguments);return(!l||this!==h||!g1(d,s))&&(l=!0,h=this,s=d,u=o.apply(this,arguments)),u}}var JQ=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),QQ=function(o){JQ(l,o);function l(u){var s=o.call(this)||this;return s.eventTarget_=u,s.pendingRemovals_=null,s.dispatching_=null,s.listeners_=null,s}return l.prototype.addEventListener=function(u,s){if(!(!u||!s)){var h=this.listeners_||(this.listeners_={}),d=h[u]||(h[u]=[]);d.indexOf(s)===-1&&d.push(s)}},l.prototype.dispatchEvent=function(u){var s=typeof u=="string",h=s?u:u.type,d=this.listeners_&&this.listeners_[h];if(!!d){var v=s?new Pg(u):u;v.target||(v.target=this.eventTarget_||this);var y=this.dispatching_||(this.dispatching_={}),E=this.pendingRemovals_||(this.pendingRemovals_={});h in y||(y[h]=0,E[h]=0),++y[h];for(var w,M=0,A=d.length;M<A;++M)if("handleEvent"in d[M]?w=d[M].handleEvent(v):w=d[M].call(this,v),w===!1||v.propagationStopped){w=!1;break}if(--y[h]===0){var I=E[h];for(delete E[h];I--;)this.removeEventListener(h,dg);delete y[h]}return w}},l.prototype.disposeInternal=function(){this.listeners_&&_8(this.listeners_)},l.prototype.getListeners=function(u){return this.listeners_&&this.listeners_[u]||void 0},l.prototype.hasListener=function(u){return this.listeners_?u?u in this.listeners_:Object.keys(this.listeners_).length>0:!1},l.prototype.removeEventListener=function(u,s){var h=this.listeners_&&this.listeners_[u];if(h){var d=h.indexOf(s);d!==-1&&(this.pendingRemovals_&&u in this.pendingRemovals_?(h[d]=dg,++this.pendingRemovals_[u]):(h.splice(d,1),h.length===0&&delete this.listeners_[u]))}},l}(XQ),Hm=QQ,Mc={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function j0(o,l,u,s,h){if(s&&s!==o&&(u=u.bind(s)),h){var d=u;u=function(){o.removeEventListener(l,u),d.apply(this,arguments)}}var v={target:o,type:l,listener:u};return o.addEventListener(l,u),v}function fm(o,l,u,s){return j0(o,l,u,s,!0)}function G0(o){o&&o.target&&(o.target.removeEventListener(o.type,o.listener),_8(o))}var ttt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Xm=function(o){ttt(l,o);function l(){var u=o.call(this)||this;return u.on=u.onInternal,u.once=u.onceInternal,u.un=u.unInternal,u.revision_=0,u}return l.prototype.changed=function(){++this.revision_,this.dispatchEvent(Mc.CHANGE)},l.prototype.getRevision=function(){return this.revision_},l.prototype.onInternal=function(u,s){if(Array.isArray(u)){for(var h=u.length,d=new Array(h),v=0;v<h;++v)d[v]=j0(this,u[v],s);return d}else return j0(this,u,s)},l.prototype.onceInternal=function(u,s){var h;if(Array.isArray(u)){var d=u.length;h=new Array(d);for(var v=0;v<d;++v)h[v]=fm(this,u[v],s)}else h=fm(this,u,s);return s.ol_key=h,h},l.prototype.unInternal=function(u,s){var h=s.ol_key;if(h)ett(h);else if(Array.isArray(u))for(var d=0,v=u.length;d<v;++d)this.removeEventListener(u[d],s);else this.removeEventListener(u,s)},l}(Hm);Xm.prototype.on;Xm.prototype.once;Xm.prototype.un;function ett(o){if(Array.isArray(o))for(var l=0,u=o.length;l<u;++l)G0(o[l]);else G0(o)}var oA=Xm,aA=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Kw=function(o){aA(l,o);function l(u,s,h){var d=o.call(this,u)||this;return d.key=s,d.oldValue=h,d}return l}(Pg),rtt=function(o){aA(l,o);function l(u){var s=o.call(this)||this;return s.on,s.once,s.un,Vs(s),s.values_=null,u!==void 0&&s.setProperties(u),s}return l.prototype.get=function(u){var s;return this.values_&&this.values_.hasOwnProperty(u)&&(s=this.values_[u]),s},l.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},l.prototype.getProperties=function(){return this.values_&&l1({},this.values_)||{}},l.prototype.hasProperties=function(){return!!this.values_},l.prototype.notify=function(u,s){var h;h="change:".concat(u),this.hasListener(h)&&this.dispatchEvent(new Kw(h,u,s)),h=iA.PROPERTYCHANGE,this.hasListener(h)&&this.dispatchEvent(new Kw(h,u,s))},l.prototype.addChangeListener=function(u,s){this.addEventListener("change:".concat(u),s)},l.prototype.removeChangeListener=function(u,s){this.removeEventListener("change:".concat(u),s)},l.prototype.set=function(u,s,h){var d=this.values_||(this.values_={});if(h)d[u]=s;else{var v=d[u];d[u]=s,v!==s&&this.notify(u,v)}},l.prototype.setProperties=function(u,s){for(var h in u)this.set(h,u[h],s)},l.prototype.applyProperties=function(u){!u.values_||l1(this.values_||(this.values_={}),u.values_)},l.prototype.unset=function(u,s){if(this.values_&&u in this.values_){var h=this.values_[u];delete this.values_[u],cg(this.values_)&&(this.values_=null),s||this.notify(u,h)}},l}(oA),Cd=rtt,ntt={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Sf=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"";Sf.indexOf("firefox");var itt=Sf.indexOf("safari")!==-1&&Sf.indexOf("chrom")==-1;itt&&(Sf.indexOf("version/15.4")>=0||Sf.match(/cpu (os|iphone os) 15_4 like mac os x/));Sf.indexOf("webkit")!==-1&&Sf.indexOf("edge")==-1;Sf.indexOf("macintosh");var Km=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,ott=typeof Image!="undefined"&&Image.prototype.decode;(function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("_",null,l),window.removeEventListener("_",null,l)}catch{}return o})();function fh(o,l,u,s){var h;return u&&u.length?h=u.shift():Km?h=new OffscreenCanvas(o||300,l||300):h=document.createElement("canvas"),o&&(h.width=o),l&&(h.height=l),h.getContext("2d",s)}function $w(o){return o&&o.parentNode?o.parentNode.removeChild(o):null}var att=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),stt=function(o){att(l,o);function l(u){var s=o.call(this)||this,h=u.element;return h&&!u.target&&!h.style.pointerEvents&&(h.style.pointerEvents="auto"),s.element=h||null,s.target_=null,s.map_=null,s.listenerKeys=[],u.render&&(s.render=u.render),u.target&&s.setTarget(u.target),s}return l.prototype.disposeInternal=function(){$w(this.element),o.prototype.disposeInternal.call(this)},l.prototype.getMap=function(){return this.map_},l.prototype.setMap=function(u){this.map_&&$w(this.element);for(var s=0,h=this.listenerKeys.length;s<h;++s)G0(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=u,u){var d=this.target_?this.target_:u.getOverlayContainerStopEvent();d.appendChild(this.element),this.render!==dg&&this.listenerKeys.push(j0(u,ntt.POSTRENDER,this.render,this)),u.render()}},l.prototype.render=function(u){},l.prototype.setTarget=function(u){this.target_=typeof u=="string"?document.getElementById(u):u},l}(Cd),ltt=Object.freeze(Object.defineProperty({__proto__:null,default:stt},Symbol.toStringTag,{value:"Module"})),utt=i0(ltt),ga={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Zw(o,l){return Array.isArray(o)?o:(l===void 0?l=[o,o]:(l[0]=o,l[1]=o),l)}var ctt=function(){function o(l){this.opacity_=l.opacity,this.rotateWithView_=l.rotateWithView,this.rotation_=l.rotation,this.scale_=l.scale,this.scaleArray_=Zw(l.scale),this.displacement_=l.displacement}return o.prototype.clone=function(){var l=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(l)?l.slice():l,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},o.prototype.getOpacity=function(){return this.opacity_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getScaleArray=function(){return this.scaleArray_},o.prototype.getDisplacement=function(){return this.displacement_},o.prototype.getAnchor=function(){return ko()},o.prototype.getImage=function(l){return ko()},o.prototype.getHitDetectionImage=function(){return ko()},o.prototype.getPixelRatio=function(l){return 1},o.prototype.getImageState=function(){return ko()},o.prototype.getImageSize=function(){return ko()},o.prototype.getOrigin=function(){return ko()},o.prototype.getSize=function(){return ko()},o.prototype.setDisplacement=function(l){this.displacement_=l},o.prototype.setOpacity=function(l){this.opacity_=l},o.prototype.setRotateWithView=function(l){this.rotateWithView_=l},o.prototype.setRotation=function(l){this.rotation_=l},o.prototype.setScale=function(l){this.scale_=l,this.scaleArray_=Zw(l)},o.prototype.listenImageChange=function(l){ko()},o.prototype.load=function(){ko()},o.prototype.unlistenImageChange=function(l){ko()},o}(),sA=ctt,htt=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ftt=/^([a-z]*)$|^hsla?\(.*\)$/i;function lA(o){return typeof o=="string"?o:uA(o)}function dtt(o){var l=document.createElement("div");if(l.style.color=o,l.style.color!==""){document.body.appendChild(l);var u=getComputedStyle(l).color;return document.body.removeChild(l),u}else return""}var ptt=function(){var o=1024,l={},u=0;return function(s){var h;if(l.hasOwnProperty(s))h=l[s];else{if(u>=o){var d=0;for(var v in l)(d++&3)===0&&(delete l[v],--u)}h=vtt(s),l[s]=h,++u}return h}}();function dm(o){return Array.isArray(o)?o:ptt(o)}function vtt(o){var l,u,s,h,d;if(ftt.exec(o)&&(o=dtt(o)),htt.exec(o)){var v=o.length-1,y=void 0;v<=4?y=1:y=2;var E=v===4||v===8;l=parseInt(o.substr(1+0*y,y),16),u=parseInt(o.substr(1+1*y,y),16),s=parseInt(o.substr(1+2*y,y),16),E?h=parseInt(o.substr(1+3*y,y),16):h=255,y==1&&(l=(l<<4)+l,u=(u<<4)+u,s=(s<<4)+s,E&&(h=(h<<4)+h)),d=[l,u,s,h/255]}else o.indexOf("rgba(")==0?(d=o.slice(5,-1).split(",").map(Number),qw(d)):o.indexOf("rgb(")==0?(d=o.slice(4,-1).split(",").map(Number),d.push(1),qw(d)):Ju(!1,14);return d}function qw(o){return o[0]=ah(o[0]+.5|0,0,255),o[1]=ah(o[1]+.5|0,0,255),o[2]=ah(o[2]+.5|0,0,255),o[3]=ah(o[3],0,1),o}function uA(o){var l=o[0];l!=(l|0)&&(l=l+.5|0);var u=o[1];u!=(u|0)&&(u=u+.5|0);var s=o[2];s!=(s|0)&&(s=s+.5|0);var h=o[3]===void 0?1:Math.round(o[3]*100)/100;return"rgba("+l+","+u+","+s+","+h+")"}function I0(o){return Array.isArray(o)?uA(o):o}var gtt=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Jw=["style","variant","weight","size","lineHeight","family"],cA=function(o){var l=o.match(gtt);if(!l)return null;for(var u={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},s=0,h=Jw.length;s<h;++s){var d=l[s+1];d!==void 0&&(u[Jw[s]]=d)}return u.families=u.family.split(/,\s?/),u};function ytt(o){return o===1?"":String(Math.round(o*100)/100)}var hA="10px sans-serif",ch="#000",pm="round",pg=[],vg=0,h1="round",gg=10,yg="#000",mg="center",vm="middle",yd=[0,0,0,0],_g=1,ef=new Cd,mtt=new Hm;mtt.setSize=function(){console.warn("labelCache is deprecated.")};var kp=null,_6,E6={},_tt=function(){var o=100,l="32px ",u=["monospace","serif"],s=u.length,h="wmytzilWMYTZIL@#/&?$%10\uF013",d,v;function y(w,M,A){for(var I=!0,K=0;K<s;++K){var z=u[K];if(v=gm(w+" "+M+" "+l+z,h),A!=z){var X=gm(w+" "+M+" "+l+A+","+z,h);I=I&&X!=v}}return!!I}function E(){for(var w=!0,M=ef.getKeys(),A=0,I=M.length;A<I;++A){var K=M[A];ef.get(K)<o&&(y.apply(this,K.split(`
`))?(_8(E6),kp=null,_6=void 0,ef.set(K,o)):(ef.set(K,ef.get(K)+1,!0),w=!1))}w&&(clearInterval(d),d=void 0)}return function(w){var M=cA(w);if(!!M)for(var A=M.families,I=0,K=A.length;I<K;++I){var z=A[I],X=M.style+`
`+M.weight+`
`+z;ef.get(X)===void 0&&(ef.set(X,o,!0),y(M.style,M.weight,z)||(ef.set(X,0,!0),d===void 0&&(d=setInterval(E,32))))}}}(),Ett=function(){var o;return function(l){var u=E6[l];if(u==null){if(Km){var s=cA(l),h=fA(l,"\u017Dg"),d=isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight);u=d*(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)}else o||(o=document.createElement("div"),o.innerHTML="M",o.style.minHeight="0",o.style.maxHeight="none",o.style.height="auto",o.style.padding="0",o.style.border="none",o.style.position="absolute",o.style.display="block",o.style.left="-99999px"),o.style.font=l,document.body.appendChild(o),u=o.offsetHeight,document.body.removeChild(o);E6[l]=u}return u}}();function fA(o,l){return kp||(kp=fh(1,1)),o!=_6&&(kp.font=o,_6=kp.font),kp.measureText(l)}function gm(o,l){return fA(o,l).width}function Qw(o,l,u){if(l in u)return u[l];var s=gm(o,l);return u[l]=s,s}function Stt(o,l){for(var u=[],s=[],h=[],d=0,v=0,y=0,E=0,w=0,M=l.length;w<=M;w+=2){var A=l[w];if(A===`
`||w===M){d=Math.max(d,v),h.push(v),v=0,y+=E;continue}var I=l[w+1]||o.font,K=gm(I,A);u.push(K),v+=K;var z=Ett(I);s.push(z),E=Math.max(E,z)}return{width:d,height:y,widths:u,heights:s,lineWidths:h}}function wtt(o,l,u,s,h,d,v,y,E,w,M){o.save(),u!==1&&(o.globalAlpha*=u),l&&o.setTransform.apply(o,l),s.contextInstructions?(o.translate(E,w),o.scale(M[0],M[1]),xtt(s,o)):M[0]<0||M[1]<0?(o.translate(E,w),o.scale(M[0],M[1]),o.drawImage(s,h,d,v,y,0,0,v,y)):o.drawImage(s,h,d,v,y,E,w,v*M[0],y*M[1]),o.restore()}function xtt(o,l){for(var u=o.contextInstructions,s=0,h=u.length;s<h;s+=2)Array.isArray(u[s+1])?l[u[s]].apply(l,u[s+1]):l[u[s]]=u[s+1]}var Ttt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Ott=function(o){Ttt(l,o);function l(u){var s=this,h=u.rotateWithView!==void 0?u.rotateWithView:!1;return s=o.call(this,{opacity:1,rotateWithView:h,rotation:u.rotation!==void 0?u.rotation:0,scale:u.scale!==void 0?u.scale:1,displacement:u.displacement!==void 0?u.displacement:[0,0]})||this,s.canvas_=void 0,s.hitDetectionCanvas_=null,s.fill_=u.fill!==void 0?u.fill:null,s.origin_=[0,0],s.points_=u.points,s.radius_=u.radius!==void 0?u.radius:u.radius1,s.radius2_=u.radius2,s.angle_=u.angle!==void 0?u.angle:0,s.stroke_=u.stroke!==void 0?u.stroke:null,s.size_=null,s.renderOptions_=null,s.render(),s}return l.prototype.clone=function(){var u=this.getScale(),s=new l({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(u)?u.slice():u,displacement:this.getDisplacement().slice()});return s.setOpacity(this.getOpacity()),s},l.prototype.getAnchor=function(){var u=this.size_;if(!u)return null;var s=this.getDisplacement();return[u[0]/2-s[0],u[1]/2+s[1]]},l.prototype.getAngle=function(){return this.angle_},l.prototype.getFill=function(){return this.fill_},l.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},l.prototype.getImage=function(u){var s=this.canvas_[u];if(!s){var h=this.renderOptions_,d=fh(h.size*u,h.size*u);this.draw_(h,d,u),s=d.canvas,this.canvas_[u]=s}return s},l.prototype.getPixelRatio=function(u){return u},l.prototype.getImageSize=function(){return this.size_},l.prototype.getImageState=function(){return ga.LOADED},l.prototype.getOrigin=function(){return this.origin_},l.prototype.getPoints=function(){return this.points_},l.prototype.getRadius=function(){return this.radius_},l.prototype.getRadius2=function(){return this.radius2_},l.prototype.getSize=function(){return this.size_},l.prototype.getStroke=function(){return this.stroke_},l.prototype.listenImageChange=function(u){},l.prototype.load=function(){},l.prototype.unlistenImageChange=function(u){},l.prototype.calculateLineJoinSize_=function(u,s,h){if(s===0||this.points_===1/0||u!=="bevel"&&u!=="miter")return s;var d=this.radius_,v=this.radius2_===void 0?d:this.radius2_;if(d<v){var y=d;d=v,v=y}var E=this.radius2_===void 0?this.points_:this.points_*2,w=2*Math.PI/E,M=v*Math.sin(w),A=Math.sqrt(v*v-M*M),I=d-A,K=Math.sqrt(M*M+I*I),z=K/M;if(u==="miter"&&z<=h)return z*s;var X=s/2/z,H=s/2*(I/K),J=Math.sqrt((d+X)*(d+X)+H*H),nt=J-d;if(this.radius2_===void 0||u==="bevel")return nt*2;var pt=d*Math.sin(w),it=Math.sqrt(d*d-pt*pt),N=v-it,_t=Math.sqrt(pt*pt+N*N),Rt=_t/pt;if(Rt<=h){var Bt=Rt*s/2-v-d;return 2*Math.max(nt,Bt)}return nt*2},l.prototype.createRenderOptions=function(){var u=h1,s=0,h=null,d=0,v,y=0;this.stroke_&&(v=this.stroke_.getColor(),v===null&&(v=yg),v=I0(v),y=this.stroke_.getWidth(),y===void 0&&(y=_g),h=this.stroke_.getLineDash(),d=this.stroke_.getLineDashOffset(),u=this.stroke_.getLineJoin(),u===void 0&&(u=h1),s=this.stroke_.getMiterLimit(),s===void 0&&(s=gg));var E=this.calculateLineJoinSize_(u,y,s),w=Math.max(this.radius_,this.radius2_||0),M=Math.ceil(2*w+E);return{strokeStyle:v,strokeWidth:y,size:M,lineDash:h,lineDashOffset:d,lineJoin:u,miterLimit:s}},l.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var u=this.renderOptions_.size;this.canvas_={},this.size_=[u,u]},l.prototype.draw_=function(u,s,h){if(s.scale(h,h),s.translate(u.size/2,u.size/2),this.createPath_(s),this.fill_){var d=this.fill_.getColor();d===null&&(d=ch),s.fillStyle=I0(d),s.fill()}this.stroke_&&(s.strokeStyle=u.strokeStyle,s.lineWidth=u.strokeWidth,s.setLineDash&&u.lineDash&&(s.setLineDash(u.lineDash),s.lineDashOffset=u.lineDashOffset),s.lineJoin=u.lineJoin,s.miterLimit=u.miterLimit,s.stroke())},l.prototype.createHitDetectionCanvas_=function(u){if(this.fill_){var s=this.fill_.getColor(),h=0;if(typeof s=="string"&&(s=dm(s)),s===null?h=1:Array.isArray(s)&&(h=s.length===4?s[3]:1),h===0){var d=fh(u.size,u.size);this.hitDetectionCanvas_=d.canvas,this.drawHitDetectionCanvas_(u,d)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},l.prototype.createPath_=function(u){var s=this.points_,h=this.radius_;if(s===1/0)u.arc(0,0,h,0,2*Math.PI);else{var d=this.radius2_===void 0?h:this.radius2_;this.radius2_!==void 0&&(s*=2);for(var v=this.angle_-Math.PI/2,y=2*Math.PI/s,E=0;E<s;E++){var w=v+E*y,M=E%2===0?h:d;u.lineTo(M*Math.cos(w),M*Math.sin(w))}u.closePath()}},l.prototype.drawHitDetectionCanvas_=function(u,s){s.translate(u.size/2,u.size/2),this.createPath_(s),s.fillStyle=ch,s.fill(),this.stroke_&&(s.strokeStyle=u.strokeStyle,s.lineWidth=u.strokeWidth,u.lineDash&&(s.setLineDash(u.lineDash),s.lineDashOffset=u.lineDashOffset),s.lineJoin=u.lineJoin,s.miterLimit=u.miterLimit,s.stroke())},l}(sA),Att=Ott,Mtt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Rtt=function(o){Mtt(l,o);function l(u){var s=u||{};return o.call(this,{points:1/0,fill:s.fill,radius:s.radius,stroke:s.stroke,scale:s.scale!==void 0?s.scale:1,rotation:s.rotation!==void 0?s.rotation:0,rotateWithView:s.rotateWithView!==void 0?s.rotateWithView:!1,displacement:s.displacement!==void 0?s.displacement:[0,0]})||this}return l.prototype.clone=function(){var u=this.getScale(),s=new l({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(u)?u.slice():u,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return s.setOpacity(this.getOpacity()),s},l.prototype.setRadius=function(u){this.radius_=u,this.render()},l}(Att),dA=Rtt,Ctt=function(){function o(l){var u=l||{};this.color_=u.color!==void 0?u.color:null}return o.prototype.clone=function(){var l=this.getColor();return new o({color:Array.isArray(l)?l.slice():l||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(l){this.color_=l},o}(),S6=Ctt,btt=function(){function o(l){var u=l||{};this.color_=u.color!==void 0?u.color:null,this.lineCap_=u.lineCap,this.lineDash_=u.lineDash!==void 0?u.lineDash:null,this.lineDashOffset_=u.lineDashOffset,this.lineJoin_=u.lineJoin,this.miterLimit_=u.miterLimit,this.width_=u.width}return o.prototype.clone=function(){var l=this.getColor();return new o({color:Array.isArray(l)?l.slice():l||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},o.prototype.getColor=function(){return this.color_},o.prototype.getLineCap=function(){return this.lineCap_},o.prototype.getLineDash=function(){return this.lineDash_},o.prototype.getLineDashOffset=function(){return this.lineDashOffset_},o.prototype.getLineJoin=function(){return this.lineJoin_},o.prototype.getMiterLimit=function(){return this.miterLimit_},o.prototype.getWidth=function(){return this.width_},o.prototype.setColor=function(l){this.color_=l},o.prototype.setLineCap=function(l){this.lineCap_=l},o.prototype.setLineDash=function(l){this.lineDash_=l},o.prototype.setLineDashOffset=function(l){this.lineDashOffset_=l},o.prototype.setLineJoin=function(l){this.lineJoin_=l},o.prototype.setMiterLimit=function(l){this.miterLimit_=l},o.prototype.setWidth=function(l){this.width_=l},o}(),qy=btt,Wp=function(){function o(l){var u=l||{};this.geometry_=null,this.geometryFunction_=tx,u.geometry!==void 0&&this.setGeometry(u.geometry),this.fill_=u.fill!==void 0?u.fill:null,this.image_=u.image!==void 0?u.image:null,this.renderer_=u.renderer!==void 0?u.renderer:null,this.hitDetectionRenderer_=u.hitDetectionRenderer!==void 0?u.hitDetectionRenderer:null,this.stroke_=u.stroke!==void 0?u.stroke:null,this.text_=u.text!==void 0?u.text:null,this.zIndex_=u.zIndex}return o.prototype.clone=function(){var l=this.getGeometry();return l&&typeof l=="object"&&(l=l.clone()),new o({geometry:l,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},o.prototype.getRenderer=function(){return this.renderer_},o.prototype.setRenderer=function(l){this.renderer_=l},o.prototype.setHitDetectionRenderer=function(l){this.hitDetectionRenderer_=l},o.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},o.prototype.getGeometry=function(){return this.geometry_},o.prototype.getGeometryFunction=function(){return this.geometryFunction_},o.prototype.getFill=function(){return this.fill_},o.prototype.setFill=function(l){this.fill_=l},o.prototype.getImage=function(){return this.image_},o.prototype.setImage=function(l){this.image_=l},o.prototype.getStroke=function(){return this.stroke_},o.prototype.setStroke=function(l){this.stroke_=l},o.prototype.getText=function(){return this.text_},o.prototype.setText=function(l){this.text_=l},o.prototype.getZIndex=function(){return this.zIndex_},o.prototype.setGeometry=function(l){typeof l=="function"?this.geometryFunction_=l:typeof l=="string"?this.geometryFunction_=function(u){return u.get(l)}:l?l!==void 0&&(this.geometryFunction_=function(){return l}):this.geometryFunction_=tx,this.geometry_=l},o.prototype.setZIndex=function(l){this.zIndex_=l},o}();function pA(o){var l;if(typeof o=="function")l=o;else{var u;if(Array.isArray(o))u=o;else{Ju(typeof o.getZIndex=="function",41);var s=o;u=[s]}l=function(){return u}}return l}var M4=null;function vA(o,l){if(!M4){var u=new S6({color:"rgba(255,255,255,0.4)"}),s=new qy({color:"#3399CC",width:1.25});M4=[new Wp({image:new dA({fill:u,stroke:s,radius:5}),fill:u,stroke:s})]}return M4}function Ltt(){var o={},l=[255,255,255,1],u=[0,153,255,1],s=3;return o[ui.POLYGON]=[new Wp({fill:new S6({color:[255,255,255,.5]})})],o[ui.MULTI_POLYGON]=o[ui.POLYGON],o[ui.LINE_STRING]=[new Wp({stroke:new qy({color:l,width:s+2})}),new Wp({stroke:new qy({color:u,width:s})})],o[ui.MULTI_LINE_STRING]=o[ui.LINE_STRING],o[ui.CIRCLE]=o[ui.POLYGON].concat(o[ui.LINE_STRING]),o[ui.POINT]=[new Wp({image:new dA({radius:s*2,fill:new S6({color:u}),stroke:new qy({color:l,width:s/2})}),zIndex:1/0})],o[ui.MULTI_POINT]=o[ui.POINT],o[ui.GEOMETRY_COLLECTION]=o[ui.POLYGON].concat(o[ui.LINE_STRING],o[ui.POINT]),o}function tx(o){return o.getGeometry()}var Itt=Object.freeze(Object.defineProperty({__proto__:null,toFunction:pA,createDefaultStyle:vA,createEditingStyle:Ltt,default:Wp},Symbol.toStringTag,{value:"Module"})),Ptt=i0(Itt),uf={FRACTION:"fraction",PIXELS:"pixels"},Oc={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ntt=function(){function o(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return o.prototype.clear=function(){this.cache_={},this.cacheSize_=0},o.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},o.prototype.expire=function(){if(this.canExpireCache()){var l=0;for(var u in this.cache_){var s=this.cache_[u];(l++&3)===0&&!s.hasListener()&&(delete this.cache_[u],--this.cacheSize_)}}},o.prototype.get=function(l,u,s){var h=ex(l,u,s);return h in this.cache_?this.cache_[h]:null},o.prototype.set=function(l,u,s,h){var d=ex(l,u,s);this.cache_[d]=h,++this.cacheSize_},o.prototype.setSize=function(l){this.maxCacheSize_=l,this.expire()},o}();function ex(o,l,u){var s=u?lA(u):"null";return l+":"+o+":"+s}var rx=new Ntt,Ftt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Dtt=function(o){Ftt(l,o);function l(u,s,h,d){var v=o.call(this)||this;return v.extent=u,v.pixelRatio_=h,v.resolution=s,v.state=d,v}return l.prototype.changed=function(){this.dispatchEvent(Mc.CHANGE)},l.prototype.getExtent=function(){return this.extent},l.prototype.getImage=function(){return ko()},l.prototype.getPixelRatio=function(){return this.pixelRatio_},l.prototype.getResolution=function(){return this.resolution},l.prototype.getState=function(){return this.state},l.prototype.load=function(){ko()},l}(Hm),jtt=Dtt,Gtt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();(function(o){Gtt(l,o);function l(u,s,h,d,v,y){var E=o.call(this,u,s,h,ga.IDLE)||this;return E.src_=d,E.image_=new Image,v!==null&&(E.image_.crossOrigin=v),E.unlisten_=null,E.state=ga.IDLE,E.imageLoadFunction_=y,E}return l.prototype.getImage=function(){return this.image_},l.prototype.handleImageError_=function(){this.state=ga.ERROR,this.unlistenImage_(),this.changed()},l.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=hm(this.extent)/this.image_.height),this.state=ga.LOADED,this.unlistenImage_(),this.changed()},l.prototype.load=function(){(this.state==ga.IDLE||this.state==ga.ERROR)&&(this.state=ga.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=gA(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},l.prototype.setImage=function(u){this.image_=u,this.resolution=hm(this.extent)/this.image_.height},l.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},l})(jtt);function gA(o,l,u){var s=o,h=!0,d=!1,v=!1,y=[fm(s,Mc.LOAD,function(){v=!0,d||l()})];return s.src&&ott?(d=!0,s.decode().then(function(){h&&l()}).catch(function(E){h&&(v?l():u())})):y.push(fm(s,Mc.ERROR,u)),function(){h=!1,y.forEach(G0)}}var Btt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Pv=null,Utt=function(o){Btt(l,o);function l(u,s,h,d,v,y){var E=o.call(this)||this;return E.hitDetectionImage_=null,E.image_=u||new Image,d!==null&&(E.image_.crossOrigin=d),E.canvas_={},E.color_=y,E.unlisten_=null,E.imageState_=v,E.size_=h,E.src_=s,E.tainted_,E}return l.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ga.LOADED){Pv||(Pv=fh(1,1)),Pv.drawImage(this.image_,0,0);try{Pv.getImageData(0,0,1,1),this.tainted_=!1}catch{Pv=null,this.tainted_=!0}}return this.tainted_===!0},l.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Mc.CHANGE)},l.prototype.handleImageError_=function(){this.imageState_=ga.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},l.prototype.handleImageLoad_=function(){this.imageState_=ga.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},l.prototype.getImage=function(u){return this.replaceColor_(u),this.canvas_[u]?this.canvas_[u]:this.image_},l.prototype.getPixelRatio=function(u){return this.replaceColor_(u),this.canvas_[u]?u:1},l.prototype.getImageState=function(){return this.imageState_},l.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var u=this.size_[0],s=this.size_[1],h=fh(u,s);h.fillRect(0,0,u,s),this.hitDetectionImage_=h.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},l.prototype.getSize=function(){return this.size_},l.prototype.getSrc=function(){return this.src_},l.prototype.load=function(){if(this.imageState_==ga.IDLE){this.imageState_=ga.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=gA(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},l.prototype.replaceColor_=function(u){if(!(!this.color_||this.canvas_[u]||this.imageState_!==ga.LOADED)){var s=document.createElement("canvas");this.canvas_[u]=s,s.width=Math.ceil(this.image_.width*u),s.height=Math.ceil(this.image_.height*u);var h=s.getContext("2d");if(h.scale(u,u),h.drawImage(this.image_,0,0),h.globalCompositeOperation="multiply",h.globalCompositeOperation==="multiply"||this.isTainted_())h.fillStyle=lA(this.color_),h.fillRect(0,0,s.width/u,s.height/u),h.globalCompositeOperation="destination-in",h.drawImage(this.image_,0,0);else{for(var d=h.getImageData(0,0,s.width,s.height),v=d.data,y=this.color_[0]/255,E=this.color_[1]/255,w=this.color_[2]/255,M=this.color_[3],A=0,I=v.length;A<I;A+=4)v[A]*=y,v[A+1]*=E,v[A+2]*=w,v[A+3]*=M;h.putImageData(d,0,0)}}},l.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},l}(Hm);function ktt(o,l,u,s,h,d){var v=rx.get(l,s,d);return v||(v=new Utt(o,l,u,s,h,d),rx.set(l,s,d,v)),v}var ztt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),yA=function(o){ztt(l,o);function l(u){var s=this,h=u||{},d=h.opacity!==void 0?h.opacity:1,v=h.rotation!==void 0?h.rotation:0,y=h.scale!==void 0?h.scale:1,E=h.rotateWithView!==void 0?h.rotateWithView:!1;s=o.call(this,{opacity:d,rotation:v,scale:y,displacement:h.displacement!==void 0?h.displacement:[0,0],rotateWithView:E})||this,s.anchor_=h.anchor!==void 0?h.anchor:[.5,.5],s.normalizedAnchor_=null,s.anchorOrigin_=h.anchorOrigin!==void 0?h.anchorOrigin:Oc.TOP_LEFT,s.anchorXUnits_=h.anchorXUnits!==void 0?h.anchorXUnits:uf.FRACTION,s.anchorYUnits_=h.anchorYUnits!==void 0?h.anchorYUnits:uf.FRACTION,s.crossOrigin_=h.crossOrigin!==void 0?h.crossOrigin:null;var w=h.img!==void 0?h.img:null;s.imgSize_=h.imgSize;var M=h.src;Ju(!(M!==void 0&&w),4),Ju(!w||w&&s.imgSize_,5),(M===void 0||M.length===0)&&w&&(M=w.src||Vs(w)),Ju(M!==void 0&&M.length>0,6);var A=h.src!==void 0?ga.IDLE:ga.LOADED;return s.color_=h.color!==void 0?dm(h.color):null,s.iconImage_=ktt(w,M,s.imgSize_!==void 0?s.imgSize_:null,s.crossOrigin_,A,s.color_),s.offset_=h.offset!==void 0?h.offset:[0,0],s.offsetOrigin_=h.offsetOrigin!==void 0?h.offsetOrigin:Oc.TOP_LEFT,s.origin_=null,s.size_=h.size!==void 0?h.size:null,s}return l.prototype.clone=function(){var u=this.getScale();return new l({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(u)?u.slice():u,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},l.prototype.getAnchor=function(){var u=this.normalizedAnchor_;if(!u){u=this.anchor_;var s=this.getSize();if(this.anchorXUnits_==uf.FRACTION||this.anchorYUnits_==uf.FRACTION){if(!s)return null;u=this.anchor_.slice(),this.anchorXUnits_==uf.FRACTION&&(u[0]*=s[0]),this.anchorYUnits_==uf.FRACTION&&(u[1]*=s[1])}if(this.anchorOrigin_!=Oc.TOP_LEFT){if(!s)return null;u===this.anchor_&&(u=this.anchor_.slice()),(this.anchorOrigin_==Oc.TOP_RIGHT||this.anchorOrigin_==Oc.BOTTOM_RIGHT)&&(u[0]=-u[0]+s[0]),(this.anchorOrigin_==Oc.BOTTOM_LEFT||this.anchorOrigin_==Oc.BOTTOM_RIGHT)&&(u[1]=-u[1]+s[1])}this.normalizedAnchor_=u}var h=this.getDisplacement();return[u[0]-h[0],u[1]+h[1]]},l.prototype.setAnchor=function(u){this.anchor_=u,this.normalizedAnchor_=null},l.prototype.getColor=function(){return this.color_},l.prototype.getImage=function(u){return this.iconImage_.getImage(u)},l.prototype.getPixelRatio=function(u){return this.iconImage_.getPixelRatio(u)},l.prototype.getImageSize=function(){return this.iconImage_.getSize()},l.prototype.getImageState=function(){return this.iconImage_.getImageState()},l.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},l.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var u=this.offset_;if(this.offsetOrigin_!=Oc.TOP_LEFT){var s=this.getSize(),h=this.iconImage_.getSize();if(!s||!h)return null;u=u.slice(),(this.offsetOrigin_==Oc.TOP_RIGHT||this.offsetOrigin_==Oc.BOTTOM_RIGHT)&&(u[0]=h[0]-s[0]-u[0]),(this.offsetOrigin_==Oc.BOTTOM_LEFT||this.offsetOrigin_==Oc.BOTTOM_RIGHT)&&(u[1]=h[1]-s[1]-u[1])}return this.origin_=u,this.origin_},l.prototype.getSrc=function(){return this.iconImage_.getSrc()},l.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},l.prototype.listenImageChange=function(u){this.iconImage_.addEventListener(Mc.CHANGE,u)},l.prototype.load=function(){this.iconImage_.load()},l.prototype.unlistenImageChange=function(u){this.iconImage_.removeEventListener(Mc.CHANGE,u)},l}(sA),Vtt=Object.freeze(Object.defineProperty({__proto__:null,default:yA},Symbol.toStringTag,{value:"Module"})),Wtt=i0(Vtt),ta={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},Ytt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Htt=function(o){Ytt(l,o);function l(u){var s=o.call(this)||this;s.on,s.once,s.un,s.background_=u.background;var h=l1({},u);return typeof u.properties=="object"&&(delete h.properties,l1(h,u.properties)),h[ta.OPACITY]=u.opacity!==void 0?u.opacity:1,Ju(typeof h[ta.OPACITY]=="number",64),h[ta.VISIBLE]=u.visible!==void 0?u.visible:!0,h[ta.Z_INDEX]=u.zIndex,h[ta.MAX_RESOLUTION]=u.maxResolution!==void 0?u.maxResolution:1/0,h[ta.MIN_RESOLUTION]=u.minResolution!==void 0?u.minResolution:0,h[ta.MIN_ZOOM]=u.minZoom!==void 0?u.minZoom:-1/0,h[ta.MAX_ZOOM]=u.maxZoom!==void 0?u.maxZoom:1/0,s.className_=h.className!==void 0?h.className:"ol-layer",delete h.className,s.setProperties(h),s.state_=null,s}return l.prototype.getBackground=function(){return this.background_},l.prototype.getClassName=function(){return this.className_},l.prototype.getLayerState=function(u){var s=this.state_||{layer:this,managed:u===void 0?!0:u},h=this.getZIndex();return s.opacity=ah(Math.round(this.getOpacity()*100)/100,0,1),s.visible=this.getVisible(),s.extent=this.getExtent(),s.zIndex=h===void 0&&!s.managed?1/0:h,s.maxResolution=this.getMaxResolution(),s.minResolution=Math.max(this.getMinResolution(),0),s.minZoom=this.getMinZoom(),s.maxZoom=this.getMaxZoom(),this.state_=s,s},l.prototype.getLayersArray=function(u){return ko()},l.prototype.getLayerStatesArray=function(u){return ko()},l.prototype.getExtent=function(){return this.get(ta.EXTENT)},l.prototype.getMaxResolution=function(){return this.get(ta.MAX_RESOLUTION)},l.prototype.getMinResolution=function(){return this.get(ta.MIN_RESOLUTION)},l.prototype.getMinZoom=function(){return this.get(ta.MIN_ZOOM)},l.prototype.getMaxZoom=function(){return this.get(ta.MAX_ZOOM)},l.prototype.getOpacity=function(){return this.get(ta.OPACITY)},l.prototype.getSourceState=function(){return ko()},l.prototype.getVisible=function(){return this.get(ta.VISIBLE)},l.prototype.getZIndex=function(){return this.get(ta.Z_INDEX)},l.prototype.setBackground=function(u){this.background_=u,this.changed()},l.prototype.setExtent=function(u){this.set(ta.EXTENT,u)},l.prototype.setMaxResolution=function(u){this.set(ta.MAX_RESOLUTION,u)},l.prototype.setMinResolution=function(u){this.set(ta.MIN_RESOLUTION,u)},l.prototype.setMaxZoom=function(u){this.set(ta.MAX_ZOOM,u)},l.prototype.setMinZoom=function(u){this.set(ta.MIN_ZOOM,u)},l.prototype.setOpacity=function(u){Ju(typeof u=="number",64),this.set(ta.OPACITY,u)},l.prototype.setVisible=function(u){this.set(ta.VISIBLE,u)},l.prototype.setZIndex=function(u){this.set(ta.Z_INDEX,u)},l.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),o.prototype.disposeInternal.call(this)},l}(Cd),Xtt=Htt,w6={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},$m={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Ktt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),$tt=function(o){Ktt(l,o);function l(u){var s=this,h=l1({},u);delete h.source,s=o.call(this,h)||this,s.on,s.once,s.un,s.mapPrecomposeKey_=null,s.mapRenderKey_=null,s.sourceChangeKey_=null,s.renderer_=null,s.rendered=!1,u.render&&(s.render=u.render),u.map&&s.setMap(u.map),s.addChangeListener(ta.SOURCE,s.handleSourcePropertyChange_);var d=u.source?u.source:null;return s.setSource(d),s}return l.prototype.getLayersArray=function(u){var s=u||[];return s.push(this),s},l.prototype.getLayerStatesArray=function(u){var s=u||[];return s.push(this.getLayerState()),s},l.prototype.getSource=function(){return this.get(ta.SOURCE)||null},l.prototype.getRenderSource=function(){return this.getSource()},l.prototype.getSourceState=function(){var u=this.getSource();return u?u.getState():$m.UNDEFINED},l.prototype.handleSourceChange_=function(){this.changed()},l.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(G0(this.sourceChangeKey_),this.sourceChangeKey_=null);var u=this.getSource();u&&(this.sourceChangeKey_=j0(u,Mc.CHANGE,this.handleSourceChange_,this)),this.changed()},l.prototype.getFeatures=function(u){return this.renderer_?this.renderer_.getFeatures(u):new Promise(function(s){return s([])})},l.prototype.getData=function(u){return!this.renderer_||!this.rendered?null:this.renderer_.getData(u)},l.prototype.render=function(u,s){var h=this.getRenderer();if(h.prepareFrame(u))return this.rendered=!0,h.renderFrame(u,s)},l.prototype.unrender=function(){this.rendered=!1},l.prototype.setMapInternal=function(u){u||this.unrender(),this.set(ta.MAP,u)},l.prototype.getMapInternal=function(){return this.get(ta.MAP)},l.prototype.setMap=function(u){this.mapPrecomposeKey_&&(G0(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),u||this.changed(),this.mapRenderKey_&&(G0(this.mapRenderKey_),this.mapRenderKey_=null),u&&(this.mapPrecomposeKey_=j0(u,w6.PRECOMPOSE,function(s){var h=s,d=h.frameState.layerStatesArray,v=this.getLayerState(!1);Ju(!d.some(function(y){return y.layer===v.layer}),67),d.push(v)},this),this.mapRenderKey_=j0(this,Mc.CHANGE,u.render,u),this.changed())},l.prototype.setSource=function(u){this.set(ta.SOURCE,u)},l.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},l.prototype.hasRenderer=function(){return!!this.renderer_},l.prototype.createRenderer=function(){return null},l.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),o.prototype.disposeInternal.call(this)},l}(Xtt),Ztt=$tt;function qtt(o,l,u,s,h){mA(o,l,u||0,s||o.length-1,h||Jtt)}function mA(o,l,u,s,h){for(;s>u;){if(s-u>600){var d=s-u+1,v=l-u+1,y=Math.log(d),E=.5*Math.exp(2*y/3),w=.5*Math.sqrt(y*E*(d-E)/d)*(v-d/2<0?-1:1),M=Math.max(u,Math.floor(l-v*E/d+w)),A=Math.min(s,Math.floor(l+(d-v)*E/d+w));mA(o,l,M,A,h)}var I=o[l],K=u,z=s;for(Nv(o,u,l),h(o[s],I)>0&&Nv(o,u,s);K<z;){for(Nv(o,K,z),K++,z--;h(o[K],I)<0;)K++;for(;h(o[z],I)>0;)z--}h(o[u],I)===0?Nv(o,u,z):(z++,Nv(o,z,s)),z<=l&&(u=z+1),l<=z&&(s=z-1)}}function Nv(o,l,u){var s=o[l];o[l]=o[u],o[u]=s}function Jtt(o,l){return o<l?-1:o>l?1:0}class _A{constructor(l=9){this._maxEntries=Math.max(4,l),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(l){let u=this.data;const s=[];if(!Vy(l,u))return s;const h=this.toBBox,d=[];for(;u;){for(let v=0;v<u.children.length;v++){const y=u.children[v],E=u.leaf?h(y):y;Vy(l,E)&&(u.leaf?s.push(y):C4(l,E)?this._all(y,s):d.push(y))}u=d.pop()}return s}collides(l){let u=this.data;if(!Vy(l,u))return!1;const s=[];for(;u;){for(let h=0;h<u.children.length;h++){const d=u.children[h],v=u.leaf?this.toBBox(d):d;if(Vy(l,v)){if(u.leaf||C4(l,v))return!0;s.push(d)}}u=s.pop()}return!1}load(l){if(!(l&&l.length))return this;if(l.length<this._minEntries){for(let s=0;s<l.length;s++)this.insert(l[s]);return this}let u=this._build(l.slice(),0,l.length-1,0);if(!this.data.children.length)this.data=u;else if(this.data.height===u.height)this._splitRoot(this.data,u);else{if(this.data.height<u.height){const s=this.data;this.data=u,u=s}this._insert(u,this.data.height-u.height-1,!0)}return this}insert(l){return l&&this._insert(l,this.data.height-1),this}clear(){return this.data=zp([]),this}remove(l,u){if(!l)return this;let s=this.data;const h=this.toBBox(l),d=[],v=[];let y,E,w;for(;s||d.length;){if(s||(s=d.pop(),E=d[d.length-1],y=v.pop(),w=!0),s.leaf){const M=Qtt(l,s.children,u);if(M!==-1)return s.children.splice(M,1),d.push(s),this._condense(d),this}!w&&!s.leaf&&C4(s,h)?(d.push(s),v.push(y),y=0,E=s,s=s.children[0]):E?(y++,s=E.children[y],w=!1):s=null}return this}toBBox(l){return l}compareMinX(l,u){return l.minX-u.minX}compareMinY(l,u){return l.minY-u.minY}toJSON(){return this.data}fromJSON(l){return this.data=l,this}_all(l,u){const s=[];for(;l;)l.leaf?u.push(...l.children):s.push(...l.children),l=s.pop();return u}_build(l,u,s,h){const d=s-u+1;let v=this._maxEntries,y;if(d<=v)return y=zp(l.slice(u,s+1)),Fp(y,this.toBBox),y;h||(h=Math.ceil(Math.log(d)/Math.log(v)),v=Math.ceil(d/Math.pow(v,h-1))),y=zp([]),y.leaf=!1,y.height=h;const E=Math.ceil(d/v),w=E*Math.ceil(Math.sqrt(v));nx(l,u,s,w,this.compareMinX);for(let M=u;M<=s;M+=w){const A=Math.min(M+w-1,s);nx(l,M,A,E,this.compareMinY);for(let I=M;I<=A;I+=E){const K=Math.min(I+E-1,A);y.children.push(this._build(l,I,K,h-1))}}return Fp(y,this.toBBox),y}_chooseSubtree(l,u,s,h){for(;h.push(u),!(u.leaf||h.length-1===s);){let d=1/0,v=1/0,y;for(let E=0;E<u.children.length;E++){const w=u.children[E],M=R4(w),A=ret(l,w)-M;A<v?(v=A,d=M<d?M:d,y=w):A===v&&M<d&&(d=M,y=w)}u=y||u.children[0]}return u}_insert(l,u,s){const h=s?l:this.toBBox(l),d=[],v=this._chooseSubtree(h,this.data,u,d);for(v.children.push(l),zv(v,h);u>=0&&d[u].children.length>this._maxEntries;)this._split(d,u),u--;this._adjustParentBBoxes(h,d,u)}_split(l,u){const s=l[u],h=s.children.length,d=this._minEntries;this._chooseSplitAxis(s,d,h);const v=this._chooseSplitIndex(s,d,h),y=zp(s.children.splice(v,s.children.length-v));y.height=s.height,y.leaf=s.leaf,Fp(s,this.toBBox),Fp(y,this.toBBox),u?l[u-1].children.push(y):this._splitRoot(s,y)}_splitRoot(l,u){this.data=zp([l,u]),this.data.height=l.height+1,this.data.leaf=!1,Fp(this.data,this.toBBox)}_chooseSplitIndex(l,u,s){let h,d=1/0,v=1/0;for(let y=u;y<=s-u;y++){const E=kv(l,0,y,this.toBBox),w=kv(l,y,s,this.toBBox),M=net(E,w),A=R4(E)+R4(w);M<d?(d=M,h=y,v=A<v?A:v):M===d&&A<v&&(v=A,h=y)}return h||s-u}_chooseSplitAxis(l,u,s){const h=l.leaf?this.compareMinX:tet,d=l.leaf?this.compareMinY:eet,v=this._allDistMargin(l,u,s,h),y=this._allDistMargin(l,u,s,d);v<y&&l.children.sort(h)}_allDistMargin(l,u,s,h){l.children.sort(h);const d=this.toBBox,v=kv(l,0,u,d),y=kv(l,s-u,s,d);let E=zy(v)+zy(y);for(let w=u;w<s-u;w++){const M=l.children[w];zv(v,l.leaf?d(M):M),E+=zy(v)}for(let w=s-u-1;w>=u;w--){const M=l.children[w];zv(y,l.leaf?d(M):M),E+=zy(y)}return E}_adjustParentBBoxes(l,u,s){for(let h=s;h>=0;h--)zv(u[h],l)}_condense(l){for(let u=l.length-1,s;u>=0;u--)l[u].children.length===0?u>0?(s=l[u-1].children,s.splice(s.indexOf(l[u]),1)):this.clear():Fp(l[u],this.toBBox)}}function Qtt(o,l,u){if(!u)return l.indexOf(o);for(let s=0;s<l.length;s++)if(u(o,l[s]))return s;return-1}function Fp(o,l){kv(o,0,o.children.length,l,o)}function kv(o,l,u,s,h){h||(h=zp(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let d=l;d<u;d++){const v=o.children[d];zv(h,o.leaf?s(v):v)}return h}function zv(o,l){return o.minX=Math.min(o.minX,l.minX),o.minY=Math.min(o.minY,l.minY),o.maxX=Math.max(o.maxX,l.maxX),o.maxY=Math.max(o.maxY,l.maxY),o}function tet(o,l){return o.minX-l.minX}function eet(o,l){return o.minY-l.minY}function R4(o){return(o.maxX-o.minX)*(o.maxY-o.minY)}function zy(o){return o.maxX-o.minX+(o.maxY-o.minY)}function ret(o,l){return(Math.max(l.maxX,o.maxX)-Math.min(l.minX,o.minX))*(Math.max(l.maxY,o.maxY)-Math.min(l.minY,o.minY))}function net(o,l){const u=Math.max(o.minX,l.minX),s=Math.max(o.minY,l.minY),h=Math.min(o.maxX,l.maxX),d=Math.min(o.maxY,l.maxY);return Math.max(0,h-u)*Math.max(0,d-s)}function C4(o,l){return o.minX<=l.minX&&o.minY<=l.minY&&l.maxX<=o.maxX&&l.maxY<=o.maxY}function Vy(o,l){return l.minX<=o.maxX&&l.minY<=o.maxY&&l.maxX>=o.minX&&l.maxY>=o.minY}function zp(o){return{children:o,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function nx(o,l,u,s,h){const d=[l,u];for(;d.length;){if(u=d.pop(),l=d.pop(),u-l<=s)continue;const v=l+Math.ceil((u-l)/s/2)*s;qtt(o,v,l,u,h),d.push(l,v,v,u)}}var iet=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),ix={RENDER_ORDER:"renderOrder"},oet=function(o){iet(l,o);function l(u){var s=this,h=u||{},d=l1({},h);return delete d.style,delete d.renderBuffer,delete d.updateWhileAnimating,delete d.updateWhileInteracting,s=o.call(this,d)||this,s.declutter_=h.declutter!==void 0?h.declutter:!1,s.renderBuffer_=h.renderBuffer!==void 0?h.renderBuffer:100,s.style_=null,s.styleFunction_=void 0,s.setStyle(h.style),s.updateWhileAnimating_=h.updateWhileAnimating!==void 0?h.updateWhileAnimating:!1,s.updateWhileInteracting_=h.updateWhileInteracting!==void 0?h.updateWhileInteracting:!1,s}return l.prototype.getDeclutter=function(){return this.declutter_},l.prototype.getFeatures=function(u){return o.prototype.getFeatures.call(this,u)},l.prototype.getRenderBuffer=function(){return this.renderBuffer_},l.prototype.getRenderOrder=function(){return this.get(ix.RENDER_ORDER)},l.prototype.getStyle=function(){return this.style_},l.prototype.getStyleFunction=function(){return this.styleFunction_},l.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},l.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},l.prototype.renderDeclutter=function(u){u.declutterTree||(u.declutterTree=new _A(9)),this.getRenderer().renderDeclutter(u)},l.prototype.setRenderOrder=function(u){this.set(ix.RENDER_ORDER,u)},l.prototype.setStyle=function(u){this.style_=u!==void 0?u:vA,this.styleFunction_=u===null?void 0:pA(this.style_),this.changed()},l}(Ztt),aet=oet,Ng={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Wy=[Ng.FILL],cf=[Ng.STROKE],md=[Ng.BEGIN_PATH],ox=[Ng.CLOSE_PATH],Ai=Ng,set=function(){function o(){}return o.prototype.drawCustom=function(l,u,s,h){},o.prototype.drawGeometry=function(l){},o.prototype.setStyle=function(l){},o.prototype.drawCircle=function(l,u){},o.prototype.drawFeature=function(l,u){},o.prototype.drawGeometryCollection=function(l,u){},o.prototype.drawLineString=function(l,u){},o.prototype.drawMultiLineString=function(l,u){},o.prototype.drawMultiPoint=function(l,u){},o.prototype.drawMultiPolygon=function(l,u){},o.prototype.drawPoint=function(l,u){},o.prototype.drawPolygon=function(l,u){},o.prototype.drawText=function(l,u){},o.prototype.setFillStrokeStyle=function(l,u){},o.prototype.setImageStyle=function(l,u){},o.prototype.setTextStyle=function(l,u){},o}(),EA=set;function Vv(o,l,u,s,h){for(var d=h!==void 0?h:[],v=0,y=l;y<u;y+=s)d[v++]=o.slice(y,y+s);return d.length=v,d}function x6(o,l,u,s,h){for(var d=h!==void 0?h:[],v=0,y=0,E=u.length;y<E;++y){var w=u[y];d[v++]=Vv(o,l,w,s,d[v]),l=w}return d.length=v,d}function ax(o,l,u,s,h){for(var d=h!==void 0?h:[],v=0,y=0,E=u.length;y<E;++y){var w=u[y];d[v++]=x6(o,l,w,s,d[v]),l=w[w.length-1]}return d.length=v,d}var uet=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),cet=function(o){uet(l,o);function l(u,s,h,d){var v=o.call(this)||this;return v.tolerance=u,v.maxExtent=s,v.pixelRatio=d,v.maxLineWidth=0,v.resolution=h,v.beginGeometryInstruction1_=null,v.beginGeometryInstruction2_=null,v.bufferedMaxExtent_=null,v.instructions=[],v.coordinates=[],v.tmpCoordinate_=[],v.hitDetectionInstructions=[],v.state={},v}return l.prototype.applyPixelRatio=function(u){var s=this.pixelRatio;return s==1?u:u.map(function(h){return h*s})},l.prototype.appendFlatPointCoordinates=function(u,s){for(var h=this.getBufferedMaxExtent(),d=this.tmpCoordinate_,v=this.coordinates,y=v.length,E=0,w=u.length;E<w;E+=s)d[0]=u[E],d[1]=u[E+1],zO(h,d)&&(v[y++]=d[0],v[y++]=d[1]);return y},l.prototype.appendFlatLineCoordinates=function(u,s,h,d,v,y){var E=this.coordinates,w=E.length,M=this.getBufferedMaxExtent();y&&(s+=d);var A=u[s],I=u[s+1],K=this.tmpCoordinate_,z=!0,X,H,J;for(X=s+d;X<h;X+=d)K[0]=u[X],K[1]=u[X+1],J=pQ(M,K),J!==H?(z&&(E[w++]=A,E[w++]=I,z=!1),E[w++]=K[0],E[w++]=K[1]):J===af.INTERSECTING?(E[w++]=K[0],E[w++]=K[1],z=!1):z=!0,A=K[0],I=K[1],H=J;return(v&&z||X===s+d)&&(E[w++]=A,E[w++]=I),w},l.prototype.drawCustomCoordinates_=function(u,s,h,d,v){for(var y=0,E=h.length;y<E;++y){var w=h[y],M=this.appendFlatLineCoordinates(u,s,w,d,!1,!1);v.push(M),s=w}return s},l.prototype.drawCustom=function(u,s,h,d){this.beginGeometry(u,s);var v=u.getType(),y=u.getStride(),E=this.coordinates.length,w,M,A,I,K;switch(v){case ui.MULTI_POLYGON:w=u.getOrientedFlatCoordinates(),I=[];var z=u.getEndss();K=0;for(var X=0,H=z.length;X<H;++X){var J=[];K=this.drawCustomCoordinates_(w,K,z[X],y,J),I.push(J)}this.instructions.push([Ai.CUSTOM,E,I,u,h,ax]),this.hitDetectionInstructions.push([Ai.CUSTOM,E,I,u,d||h,ax]);break;case ui.POLYGON:case ui.MULTI_LINE_STRING:A=[],w=v==ui.POLYGON?u.getOrientedFlatCoordinates():u.getFlatCoordinates(),K=this.drawCustomCoordinates_(w,0,u.getEnds(),y,A),this.instructions.push([Ai.CUSTOM,E,A,u,h,x6]),this.hitDetectionInstructions.push([Ai.CUSTOM,E,A,u,d||h,x6]);break;case ui.LINE_STRING:case ui.CIRCLE:w=u.getFlatCoordinates(),M=this.appendFlatLineCoordinates(w,0,w.length,y,!1,!1),this.instructions.push([Ai.CUSTOM,E,M,u,h,Vv]),this.hitDetectionInstructions.push([Ai.CUSTOM,E,M,u,d||h,Vv]);break;case ui.MULTI_POINT:w=u.getFlatCoordinates(),M=this.appendFlatPointCoordinates(w,y),M>E&&(this.instructions.push([Ai.CUSTOM,E,M,u,h,Vv]),this.hitDetectionInstructions.push([Ai.CUSTOM,E,M,u,d||h,Vv]));break;case ui.POINT:w=u.getFlatCoordinates(),this.coordinates.push(w[0],w[1]),M=this.coordinates.length,this.instructions.push([Ai.CUSTOM,E,M,u,h]),this.hitDetectionInstructions.push([Ai.CUSTOM,E,M,u,d||h]);break}this.endGeometry(s)},l.prototype.beginGeometry=function(u,s){this.beginGeometryInstruction1_=[Ai.BEGIN_GEOMETRY,s,0,u],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ai.BEGIN_GEOMETRY,s,0,u],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},l.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},l.prototype.reverseHitDetectionInstructions=function(){var u=this.hitDetectionInstructions;u.reverse();var s,h=u.length,d,v,y=-1;for(s=0;s<h;++s)d=u[s],v=d[0],v==Ai.END_GEOMETRY?y=s:v==Ai.BEGIN_GEOMETRY&&(d[2]=s,KQ(this.hitDetectionInstructions,y,s),y=-1)},l.prototype.setFillStrokeStyle=function(u,s){var h=this.state;if(u){var d=u.getColor();h.fillStyle=I0(d||ch)}else h.fillStyle=void 0;if(s){var v=s.getColor();h.strokeStyle=I0(v||yg);var y=s.getLineCap();h.lineCap=y!==void 0?y:pm;var E=s.getLineDash();h.lineDash=E?E.slice():pg;var w=s.getLineDashOffset();h.lineDashOffset=w||vg;var M=s.getLineJoin();h.lineJoin=M!==void 0?M:h1;var A=s.getWidth();h.lineWidth=A!==void 0?A:_g;var I=s.getMiterLimit();h.miterLimit=I!==void 0?I:gg,h.lineWidth>this.maxLineWidth&&(this.maxLineWidth=h.lineWidth,this.bufferedMaxExtent_=null)}else h.strokeStyle=void 0,h.lineCap=void 0,h.lineDash=null,h.lineDashOffset=void 0,h.lineJoin=void 0,h.lineWidth=void 0,h.miterLimit=void 0},l.prototype.createFill=function(u){var s=u.fillStyle,h=[Ai.SET_FILL_STYLE,s];return typeof s!="string"&&h.push(!0),h},l.prototype.applyStroke=function(u){this.instructions.push(this.createStroke(u))},l.prototype.createStroke=function(u){return[Ai.SET_STROKE_STYLE,u.strokeStyle,u.lineWidth*this.pixelRatio,u.lineCap,u.lineJoin,u.miterLimit,this.applyPixelRatio(u.lineDash),u.lineDashOffset*this.pixelRatio]},l.prototype.updateFillStyle=function(u,s){var h=u.fillStyle;(typeof h!="string"||u.currentFillStyle!=h)&&(h!==void 0&&this.instructions.push(s.call(this,u)),u.currentFillStyle=h)},l.prototype.updateStrokeStyle=function(u,s){var h=u.strokeStyle,d=u.lineCap,v=u.lineDash,y=u.lineDashOffset,E=u.lineJoin,w=u.lineWidth,M=u.miterLimit;(u.currentStrokeStyle!=h||u.currentLineCap!=d||v!=u.currentLineDash&&!g1(u.currentLineDash,v)||u.currentLineDashOffset!=y||u.currentLineJoin!=E||u.currentLineWidth!=w||u.currentMiterLimit!=M)&&(h!==void 0&&s.call(this,u),u.currentStrokeStyle=h,u.currentLineCap=d,u.currentLineDash=v,u.currentLineDashOffset=y,u.currentLineJoin=E,u.currentLineWidth=w,u.currentMiterLimit=M)},l.prototype.endGeometry=function(u){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var s=[Ai.END_GEOMETRY,u];this.instructions.push(s),this.hitDetectionInstructions.push(s)},l.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=dQ(this.maxExtent),this.maxLineWidth>0)){var u=this.resolution*(this.maxLineWidth+1)/2;E8(this.bufferedMaxExtent_,u,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},l}(EA),Fg=cet,het=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),fet=function(o){het(l,o);function l(u,s,h,d){var v=o.call(this,u,s,h,d)||this;return v.hitDetectionImage_=null,v.image_=null,v.imagePixelRatio_=void 0,v.anchorX_=void 0,v.anchorY_=void 0,v.height_=void 0,v.opacity_=void 0,v.originX_=void 0,v.originY_=void 0,v.rotateWithView_=void 0,v.rotation_=void 0,v.scale_=void 0,v.width_=void 0,v.declutterImageWithText_=void 0,v}return l.prototype.drawPoint=function(u,s){if(!!this.image_){this.beginGeometry(u,s);var h=u.getFlatCoordinates(),d=u.getStride(),v=this.coordinates.length,y=this.appendFlatPointCoordinates(h,d);this.instructions.push([Ai.DRAW_IMAGE,v,y,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,v,y,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(s)}},l.prototype.drawMultiPoint=function(u,s){if(!!this.image_){this.beginGeometry(u,s);var h=u.getFlatCoordinates(),d=u.getStride(),v=this.coordinates.length,y=this.appendFlatPointCoordinates(h,d);this.instructions.push([Ai.DRAW_IMAGE,v,y,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,v,y,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(s)}},l.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,o.prototype.finish.call(this)},l.prototype.setImageStyle=function(u,s){var h=u.getAnchor(),d=u.getSize(),v=u.getHitDetectionImage(),y=u.getImage(this.pixelRatio),E=u.getOrigin();this.imagePixelRatio_=u.getPixelRatio(this.pixelRatio),this.anchorX_=h[0],this.anchorY_=h[1],this.hitDetectionImage_=v,this.image_=y,this.height_=d[1],this.opacity_=u.getOpacity(),this.originX_=E[0]*this.imagePixelRatio_,this.originY_=E[1]*this.imagePixelRatio_,this.rotateWithView_=u.getRotateWithView(),this.rotation_=u.getRotation(),this.scale_=u.getScaleArray(),this.width_=d[0],this.declutterImageWithText_=s},l}(Fg),det=fet,pet=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),vet=function(o){pet(l,o);function l(u,s,h,d){return o.call(this,u,s,h,d)||this}return l.prototype.drawFlatCoordinates_=function(u,s,h,d){var v=this.coordinates.length,y=this.appendFlatLineCoordinates(u,s,h,d,!1,!1),E=[Ai.MOVE_TO_LINE_TO,v,y];return this.instructions.push(E),this.hitDetectionInstructions.push(E),h},l.prototype.drawLineString=function(u,s){var h=this.state,d=h.strokeStyle,v=h.lineWidth;if(!(d===void 0||v===void 0)){this.updateStrokeStyle(h,this.applyStroke),this.beginGeometry(u,s),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,h.strokeStyle,h.lineWidth,h.lineCap,h.lineJoin,h.miterLimit,pg,vg],md);var y=u.getFlatCoordinates(),E=u.getStride();this.drawFlatCoordinates_(y,0,y.length,E),this.hitDetectionInstructions.push(cf),this.endGeometry(s)}},l.prototype.drawMultiLineString=function(u,s){var h=this.state,d=h.strokeStyle,v=h.lineWidth;if(!(d===void 0||v===void 0)){this.updateStrokeStyle(h,this.applyStroke),this.beginGeometry(u,s),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,h.strokeStyle,h.lineWidth,h.lineCap,h.lineJoin,h.miterLimit,h.lineDash,h.lineDashOffset],md);for(var y=u.getEnds(),E=u.getFlatCoordinates(),w=u.getStride(),M=0,A=0,I=y.length;A<I;++A)M=this.drawFlatCoordinates_(E,M,y[A],w);this.hitDetectionInstructions.push(cf),this.endGeometry(s)}},l.prototype.finish=function(){var u=this.state;return u.lastStroke!=null&&u.lastStroke!=this.coordinates.length&&this.instructions.push(cf),this.reverseHitDetectionInstructions(),this.state=null,o.prototype.finish.call(this)},l.prototype.applyStroke=function(u){u.lastStroke!=null&&u.lastStroke!=this.coordinates.length&&(this.instructions.push(cf),u.lastStroke=this.coordinates.length),u.lastStroke=0,o.prototype.applyStroke.call(this,u),this.instructions.push(md)},l}(Fg),get=vet;function yet(o,l){return l*Math.round(o/l)}var met=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),_et=function(o){met(l,o);function l(u,s,h,d){return o.call(this,u,s,h,d)||this}return l.prototype.drawFlatCoordinatess_=function(u,s,h,d){var v=this.state,y=v.fillStyle!==void 0,E=v.strokeStyle!==void 0,w=h.length;this.instructions.push(md),this.hitDetectionInstructions.push(md);for(var M=0;M<w;++M){var A=h[M],I=this.coordinates.length,K=this.appendFlatLineCoordinates(u,s,A,d,!0,!E),z=[Ai.MOVE_TO_LINE_TO,I,K];this.instructions.push(z),this.hitDetectionInstructions.push(z),E&&(this.instructions.push(ox),this.hitDetectionInstructions.push(ox)),s=A}return y&&(this.instructions.push(Wy),this.hitDetectionInstructions.push(Wy)),E&&(this.instructions.push(cf),this.hitDetectionInstructions.push(cf)),s},l.prototype.drawCircle=function(u,s){var h=this.state,d=h.fillStyle,v=h.strokeStyle;if(!(d===void 0&&v===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(u,s),h.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,ch]),h.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,h.strokeStyle,h.lineWidth,h.lineCap,h.lineJoin,h.miterLimit,h.lineDash,h.lineDashOffset]);var y=u.getFlatCoordinates(),E=u.getStride(),w=this.coordinates.length;this.appendFlatLineCoordinates(y,0,y.length,E,!1,!1);var M=[Ai.CIRCLE,w];this.instructions.push(md,M),this.hitDetectionInstructions.push(md,M),h.fillStyle!==void 0&&(this.instructions.push(Wy),this.hitDetectionInstructions.push(Wy)),h.strokeStyle!==void 0&&(this.instructions.push(cf),this.hitDetectionInstructions.push(cf)),this.endGeometry(s)}},l.prototype.drawPolygon=function(u,s){var h=this.state,d=h.fillStyle,v=h.strokeStyle;if(!(d===void 0&&v===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(u,s),h.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,ch]),h.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,h.strokeStyle,h.lineWidth,h.lineCap,h.lineJoin,h.miterLimit,h.lineDash,h.lineDashOffset]);var y=u.getEnds(),E=u.getOrientedFlatCoordinates(),w=u.getStride();this.drawFlatCoordinatess_(E,0,y,w),this.endGeometry(s)}},l.prototype.drawMultiPolygon=function(u,s){var h=this.state,d=h.fillStyle,v=h.strokeStyle;if(!(d===void 0&&v===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(u,s),h.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,ch]),h.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,h.strokeStyle,h.lineWidth,h.lineCap,h.lineJoin,h.miterLimit,h.lineDash,h.lineDashOffset]);for(var y=u.getEndss(),E=u.getOrientedFlatCoordinates(),w=u.getStride(),M=0,A=0,I=y.length;A<I;++A)M=this.drawFlatCoordinatess_(E,M,y[A],w);this.endGeometry(s)}},l.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var u=this.tolerance;if(u!==0)for(var s=this.coordinates,h=0,d=s.length;h<d;++h)s[h]=yet(s[h],u);return o.prototype.finish.call(this)},l.prototype.setFillStrokeStyles_=function(){var u=this.state,s=u.fillStyle;s!==void 0&&this.updateFillStyle(u,this.createFill),u.strokeStyle!==void 0&&this.updateStrokeStyle(u,this.applyStroke)},l}(Fg),sx=_et,Eet={POINT:"point",LINE:"line"};function wet(o,l,u,s,h){var d=u,v=u,y=0,E=0,w=u,M,A,I,K,z,X,H,J,nt,pt;for(A=u;A<s;A+=h){var it=l[A],N=l[A+1];z!==void 0&&(nt=it-z,pt=N-X,K=Math.sqrt(nt*nt+pt*pt),H!==void 0&&(E+=I,M=Math.acos((H*nt+J*pt)/(I*K)),M>o&&(E>y&&(y=E,d=w,v=A),E=0,w=A-h)),I=K,H=nt,J=pt),z=it,X=N}return E+=K,E>y?[w,A]:[d,v]}var xet=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),ym={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Tet=function(o){xet(l,o);function l(u,s,h,d){var v=o.call(this,u,s,h,d)||this;return v.labels_=null,v.text_="",v.textOffsetX_=0,v.textOffsetY_=0,v.textRotateWithView_=void 0,v.textRotation_=0,v.textFillState_=null,v.fillStates={},v.textStrokeState_=null,v.strokeStates={},v.textState_={},v.textStates={},v.textKey_="",v.fillKey_="",v.strokeKey_="",v.declutterImageWithText_=void 0,v}return l.prototype.finish=function(){var u=o.prototype.finish.call(this);return u.textStates=this.textStates,u.fillStates=this.fillStates,u.strokeStates=this.strokeStates,u},l.prototype.drawText=function(u,s){var h=this.textFillState_,d=this.textStrokeState_,v=this.textState_;if(!(this.text_===""||!v||!h&&!d)){var y=this.coordinates,E=y.length,w=u.getType(),M=null,A=u.getStride();if(v.placement===Eet.LINE&&(w==ui.LINE_STRING||w==ui.MULTI_LINE_STRING||w==ui.POLYGON||w==ui.MULTI_POLYGON)){if(!R0(this.getBufferedMaxExtent(),u.getExtent()))return;var I=void 0;if(M=u.getFlatCoordinates(),w==ui.LINE_STRING)I=[M.length];else if(w==ui.MULTI_LINE_STRING)I=u.getEnds();else if(w==ui.POLYGON)I=u.getEnds().slice(0,1);else if(w==ui.MULTI_POLYGON){var K=u.getEndss();I=[];for(var z=0,X=K.length;z<X;++z)I.push(K[z][0])}this.beginGeometry(u,s);for(var H=v.textAlign,J=0,nt=void 0,pt=0,it=I.length;pt<it;++pt){if(H==null){var N=wet(v.maxAngle,M,J,I[pt],A);J=N[0],nt=N[1]}else nt=I[pt];for(var z=J;z<nt;z+=A)y.push(M[z],M[z+1]);var _t=y.length;J=I[pt],this.drawChars_(E,_t),E=_t}this.endGeometry(s)}else{var Rt=v.overflow?null:[];switch(w){case ui.POINT:case ui.MULTI_POINT:M=u.getFlatCoordinates();break;case ui.LINE_STRING:M=u.getFlatMidpoint();break;case ui.CIRCLE:M=u.getCenter();break;case ui.MULTI_LINE_STRING:M=u.getFlatMidpoints(),A=2;break;case ui.POLYGON:M=u.getFlatInteriorPoint(),v.overflow||Rt.push(M[2]/this.resolution),A=3;break;case ui.MULTI_POLYGON:var Bt=u.getFlatInteriorPoints();M=[];for(var z=0,X=Bt.length;z<X;z+=3)v.overflow||Rt.push(Bt[z+2]/this.resolution),M.push(Bt[z],Bt[z+1]);if(M.length===0)return;A=2;break}var _t=this.appendFlatPointCoordinates(M,A);if(_t===E)return;if(Rt&&(_t-E)/2!==M.length/A){var St=E/2;Rt=Rt.filter(function(oe,nr){var ir=y[(St+nr)*2]===M[nr*A]&&y[(St+nr)*2+1]===M[nr*A+1];return ir||--St,ir})}this.saveTextStates_(),(v.backgroundFill||v.backgroundStroke)&&(this.setFillStrokeStyle(v.backgroundFill,v.backgroundStroke),v.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),v.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(u,s);var Xt=v.padding;if(Xt!=yd&&(v.scale[0]<0||v.scale[1]<0)){var It=v.padding[0],Dt=v.padding[1],Jt=v.padding[2],le=v.padding[3];v.scale[0]<0&&(Dt=-Dt,le=-le),v.scale[1]<0&&(It=-It,Jt=-Jt),Xt=[It,Dt,Jt,le]}var Ve=this.pixelRatio;this.instructions.push([Ai.DRAW_IMAGE,E,_t,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,Xt==yd?yd:Xt.map(function(oe){return oe*Ve}),!!v.backgroundFill,!!v.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Rt]);var gt=1/Ve;this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,E,_t,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[gt,gt],NaN,this.declutterImageWithText_,Xt,!!v.backgroundFill,!!v.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Rt]),this.endGeometry(s)}}},l.prototype.saveTextStates_=function(){var u=this.textStrokeState_,s=this.textState_,h=this.textFillState_,d=this.strokeKey_;u&&(d in this.strokeStates||(this.strokeStates[d]={strokeStyle:u.strokeStyle,lineCap:u.lineCap,lineDashOffset:u.lineDashOffset,lineWidth:u.lineWidth,lineJoin:u.lineJoin,miterLimit:u.miterLimit,lineDash:u.lineDash}));var v=this.textKey_;v in this.textStates||(this.textStates[v]={font:s.font,textAlign:s.textAlign||mg,textBaseline:s.textBaseline||vm,scale:s.scale});var y=this.fillKey_;h&&(y in this.fillStates||(this.fillStates[y]={fillStyle:h.fillStyle}))},l.prototype.drawChars_=function(u,s){var h=this.textStrokeState_,d=this.textState_,v=this.strokeKey_,y=this.textKey_,E=this.fillKey_;this.saveTextStates_();var w=this.pixelRatio,M=ym[d.textBaseline],A=this.textOffsetY_*w,I=this.text_,K=h?h.lineWidth*Math.abs(d.scale[0])/2:0;this.instructions.push([Ai.DRAW_CHARS,u,s,M,d.overflow,E,d.maxAngle,w,A,v,K*w,I,y,1]),this.hitDetectionInstructions.push([Ai.DRAW_CHARS,u,s,M,d.overflow,E,d.maxAngle,1,A,v,K,I,y,1/w])},l.prototype.setTextStyle=function(u,s){var h,d,v;if(!u)this.text_="";else{var y=u.getFill();y?(d=this.textFillState_,d||(d={},this.textFillState_=d),d.fillStyle=I0(y.getColor()||ch)):(d=null,this.textFillState_=d);var E=u.getStroke();if(!E)v=null,this.textStrokeState_=v;else{v=this.textStrokeState_,v||(v={},this.textStrokeState_=v);var w=E.getLineDash(),M=E.getLineDashOffset(),A=E.getWidth(),I=E.getMiterLimit();v.lineCap=E.getLineCap()||pm,v.lineDash=w?w.slice():pg,v.lineDashOffset=M===void 0?vg:M,v.lineJoin=E.getLineJoin()||h1,v.lineWidth=A===void 0?_g:A,v.miterLimit=I===void 0?gg:I,v.strokeStyle=I0(E.getColor()||yg)}h=this.textState_;var K=u.getFont()||hA;_tt(K);var z=u.getScaleArray();h.overflow=u.getOverflow(),h.font=K,h.maxAngle=u.getMaxAngle(),h.placement=u.getPlacement(),h.textAlign=u.getTextAlign(),h.textBaseline=u.getTextBaseline()||vm,h.backgroundFill=u.getBackgroundFill(),h.backgroundStroke=u.getBackgroundStroke(),h.padding=u.getPadding()||yd,h.scale=z===void 0?[1,1]:z;var X=u.getOffsetX(),H=u.getOffsetY(),J=u.getRotateWithView(),nt=u.getRotation();this.text_=u.getText()||"",this.textOffsetX_=X===void 0?0:X,this.textOffsetY_=H===void 0?0:H,this.textRotateWithView_=J===void 0?!1:J,this.textRotation_=nt===void 0?0:nt,this.strokeKey_=v?(typeof v.strokeStyle=="string"?v.strokeStyle:Vs(v.strokeStyle))+v.lineCap+v.lineDashOffset+"|"+v.lineWidth+v.lineJoin+v.miterLimit+"["+v.lineDash.join()+"]":"",this.textKey_=h.font+h.scale+(h.textAlign||"?")+(h.textBaseline||"?"),this.fillKey_=d?typeof d.fillStyle=="string"?d.fillStyle:"|"+Vs(d.fillStyle):""}this.declutterImageWithText_=s},l}(Fg),Oet=Tet,Aet={Circle:sx,Default:Fg,Image:det,LineString:get,Polygon:sx,Text:Oet},Met=function(){function o(l,u,s,h){this.tolerance_=l,this.maxExtent_=u,this.pixelRatio_=h,this.resolution_=s,this.buildersByZIndex_={}}return o.prototype.finish=function(){var l={};for(var u in this.buildersByZIndex_){l[u]=l[u]||{};var s=this.buildersByZIndex_[u];for(var h in s){var d=s[h].finish();l[u][h]=d}}return l},o.prototype.getBuilder=function(l,u){var s=l!==void 0?l.toString():"0",h=this.buildersByZIndex_[s];h===void 0&&(h={},this.buildersByZIndex_[s]=h);var d=h[u];if(d===void 0){var v=Aet[u];d=new v(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),h[u]=d}return d},o}(),lx=Met,Ret=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Cet=function(o){Ret(l,o);function l(u){var s=o.call(this)||this;return s.ready=!0,s.boundHandleImageChange_=s.handleImageChange_.bind(s),s.layer_=u,s.declutterExecutorGroup=null,s}return l.prototype.getFeatures=function(u){return ko()},l.prototype.getData=function(u){return null},l.prototype.prepareFrame=function(u){return ko()},l.prototype.renderFrame=function(u,s){return ko()},l.prototype.loadedTileCallback=function(u,s,h){u[s]||(u[s]={}),u[s][h.tileCoord.toString()]=h},l.prototype.createLoadedTileFinder=function(u,s,h){return function(d,v){var y=this.loadedTileCallback.bind(this,h,d);return u.forEachLoadedTile(s,d,v,y)}.bind(this)},l.prototype.forEachFeatureAtCoordinate=function(u,s,h,d,v){},l.prototype.getDataAtPixel=function(u,s,h){return null},l.prototype.getLayer=function(){return this.layer_},l.prototype.handleFontsChanged=function(){},l.prototype.handleImageChange_=function(u){var s=u.target;s.getState()===ga.LOADED&&this.renderIfReadyAndVisible()},l.prototype.loadImage=function(u){var s=u.getState();return s!=ga.LOADED&&s!=ga.ERROR&&u.addEventListener(Mc.CHANGE,this.boundHandleImageChange_),s==ga.IDLE&&(u.load(),s=u.getState()),s==ga.LOADED},l.prototype.renderIfReadyAndVisible=function(){var u=this.getLayer();u.getVisible()&&u.getSourceState()==$m.READY&&u.changed()},l.prototype.disposeInternal=function(){delete this.layer_,o.prototype.disposeInternal.call(this)},l}(oA),bet=Cet,Let=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Iet=function(o){Let(l,o);function l(u,s,h,d){var v=o.call(this,u)||this;return v.inversePixelTransform=s,v.frameState=h,v.context=d,v}return l}(Pg),Pet=Iet;new Array(6);function df(){return[1,0,0,1,0,0]}function Net(o,l,u,s,h,d,v){return o[0]=l,o[1]=u,o[2]=s,o[3]=h,o[4]=d,o[5]=v,o}function Fet(o,l){return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],o}function Ol(o,l){var u=l[0],s=l[1];return l[0]=o[0]*u+o[2]*s+o[4],l[1]=o[1]*u+o[3]*s+o[5],l}function Det(o,l,u){return Net(o,l,0,0,u,0,0)}function f1(o,l,u,s,h,d,v,y){var E=Math.sin(d),w=Math.cos(d);return o[0]=s*w,o[1]=h*E,o[2]=-s*E,o[3]=h*w,o[4]=v*s*w-y*s*E+l,o[5]=v*h*E+y*h*w+u,o}function jet(o,l){var u=Get(l);Ju(u!==0,32);var s=l[0],h=l[1],d=l[2],v=l[3],y=l[4],E=l[5];return o[0]=v/u,o[1]=-h/u,o[2]=-d/u,o[3]=s/u,o[4]=(d*E-v*y)/u,o[5]=-(s*E-h*y)/u,o}function Get(o){return o[0]*o[3]-o[1]*o[2]}var ux;function Bet(o){var l="matrix("+o.join(", ")+")";if(Km)return l;var u=ux||(ux=document.createElement("div"));return u.style.transform=l,u.style.transform}var Uet=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Wv=null;function ket(){var o=document.createElement("canvas");o.width=1,o.height=1,Wv=o.getContext("2d")}var zet=function(o){Uet(l,o);function l(u){var s=o.call(this,u)||this;return s.container=null,s.renderedResolution,s.tempTransform=df(),s.pixelTransform=df(),s.inversePixelTransform=df(),s.context=null,s.containerReused=!1,s.pixelContext_=null,s.frameState=null,s}return l.prototype.getImageData=function(u,s,h){Wv||ket(),Wv.clearRect(0,0,1,1);var d;try{Wv.drawImage(u,s,h,1,1,0,0,1,1),d=Wv.getImageData(0,0,1,1).data}catch{return null}return d},l.prototype.getBackground=function(u){var s=this.getLayer(),h=s.getBackground();return typeof h=="function"&&(h=h(u.viewState.resolution)),h||void 0},l.prototype.useContainer=function(u,s,h,d){var v=this.getLayer().getClassName(),y,E;if(u&&u.className===v&&u.style.opacity===""&&h===1&&(!d||u.style.backgroundColor&&g1(dm(u.style.backgroundColor),dm(d)))){var w=u.firstElementChild;w instanceof HTMLCanvasElement&&(E=w.getContext("2d"))}if(E&&E.canvas.style.transform===s?(this.container=u,this.context=E,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){y=document.createElement("div"),y.className=v;var M=y.style;M.position="absolute",M.width="100%",M.height="100%",d&&(M.backgroundColor=d),E=fh();var w=E.canvas;y.appendChild(w),M=w.style,M.position="absolute",M.left="0",M.transformOrigin="top left",this.container=y,this.context=E}},l.prototype.clipUnrotated=function(u,s,h){var d=wQ(h),v=xQ(h),y=SQ(h),E=EQ(h);Ol(s.coordinateToPixelTransform,d),Ol(s.coordinateToPixelTransform,v),Ol(s.coordinateToPixelTransform,y),Ol(s.coordinateToPixelTransform,E);var w=this.inversePixelTransform;Ol(w,d),Ol(w,v),Ol(w,y),Ol(w,E),u.save(),u.beginPath(),u.moveTo(Math.round(d[0]),Math.round(d[1])),u.lineTo(Math.round(v[0]),Math.round(v[1])),u.lineTo(Math.round(y[0]),Math.round(y[1])),u.lineTo(Math.round(E[0]),Math.round(E[1])),u.clip()},l.prototype.dispatchRenderEvent_=function(u,s,h){var d=this.getLayer();if(d.hasListener(u)){var v=new Pet(u,this.inversePixelTransform,h,s);d.dispatchEvent(v)}},l.prototype.preRender=function(u,s){this.frameState=s,this.dispatchRenderEvent_(w6.PRERENDER,u,s)},l.prototype.postRender=function(u,s){this.dispatchRenderEvent_(w6.POSTRENDER,u,s)},l.prototype.getRenderTransform=function(u,s,h,d,v,y,E){var w=v/2,M=y/2,A=d/s,I=-A,K=-u[0]+E,z=-u[1];return f1(this.tempTransform,w,M,A,I,-h,K,z)},l.prototype.getDataAtPixel=function(u,s,h){var d=Ol(this.inversePixelTransform,u.slice()),v=this.context,y=this.getLayer(),E=y.getExtent();if(E){var w=Ol(s.pixelToCoordinateTransform,u.slice());if(!zO(E,w))return null}var M=Math.round(d[0]),A=Math.round(d[1]),I=this.pixelContext_;if(!I){var K=document.createElement("canvas");K.width=1,K.height=1,I=K.getContext("2d"),this.pixelContext_=I}I.clearRect(0,0,1,1);var z;try{I.drawImage(v.canvas,M,A,1,1,0,0,1,1),z=I.getImageData(0,0,1,1).data}catch(X){return X.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):z}return z[3]===0?null:z},l.prototype.disposeInternal=function(){delete this.frameState,o.prototype.disposeInternal.call(this)},l}(bet),Vet=zet,Wa={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function xd(o,l,u,s,h,d){for(var v=d||[],y=0,E=l;E<u;E+=s){var w=o[E],M=o[E+1];v[y++]=h[0]*w+h[2]*M+h[4],v[y++]=h[1]*w+h[3]*M+h[5]}return d&&v.length!=y&&(v.length=y),v}function SA(o,l,u,s,h,d,v){for(var y=v||[],E=Math.cos(h),w=Math.sin(h),M=d[0],A=d[1],I=0,K=l;K<u;K+=s){var z=o[K]-M,X=o[K+1]-A;y[I++]=M+z*E-X*w,y[I++]=A+z*w+X*E;for(var H=K+2;H<K+s;++H)y[I++]=o[H]}return v&&y.length!=I&&(y.length=I),y}function Wet(o,l,u,s,h,d,v,y){for(var E=y||[],w=v[0],M=v[1],A=0,I=l;I<u;I+=s){var K=o[I]-w,z=o[I+1]-M;E[A++]=w+h*K,E[A++]=M+d*z;for(var X=I+2;X<I+s;++X)E[A++]=o[X]}return y&&E.length!=A&&(E.length=A),E}function Yet(o,l,u,s,h,d,v){for(var y=v||[],E=0,w=l;w<u;w+=s){y[E++]=o[w]+h,y[E++]=o[w+1]+d;for(var M=w+2;M<w+s;++M)y[E++]=o[M]}return v&&y.length!=E&&(y.length=E),y}function Het(o,l,u,s,h,d,v,y,E,w,M,A){var I=o[l],K=o[l+1],z=0,X=0,H=0,J=0;function nt(){z=I,X=K,l+=s,I=o[l],K=o[l+1],J+=H,H=Math.sqrt((I-z)*(I-z)+(K-X)*(K-X))}do nt();while(l<u-s&&J+H<d);for(var pt=H===0?0:(d-J)/H,it=Pp(z,I,pt),N=Pp(X,K,pt),_t=l-s,Rt=J,Bt=d+y*E(w,h,M);l<u-s&&J+H<Bt;)nt();pt=H===0?0:(Bt-J)/H;var St=Pp(z,I,pt),Xt=Pp(X,K,pt),It;if(A){var Dt=[it,N,St,Xt];SA(Dt,0,4,2,A,Dt,Dt),It=Dt[0]>Dt[2]}else It=it>St;var Jt=Math.PI,le=[],Ve=_t+s===l;l=_t,H=0,J=Rt,I=o[l],K=o[l+1];var gt;if(Ve){nt(),gt=Math.atan2(K-X,I-z),It&&(gt+=gt>0?-Jt:Jt);var Yt=(St+it)/2,oe=(Xt+N)/2;return le[0]=[Yt,oe,(Bt-d)/2,gt,h],le}for(var nr=0,ir=h.length;nr<ir;){nt();var Ke=Math.atan2(K-X,I-z);if(It&&(Ke+=Ke>0?-Jt:Jt),gt!==void 0){var Ge=Ke-gt;if(Ge+=Ge>Jt?-2*Jt:Ge<-Jt?2*Jt:0,Math.abs(Ge)>v)return null}gt=Ke;for(var Pr=nr,Kr=0;nr<ir;++nr){var pe=It?ir-nr-1:nr,Qe=y*E(w,h[pe],M);if(l+s<u&&J+H<d+Kr+Qe/2)break;Kr+=Qe}if(nr!==Pr){var Er=It?h.substring(ir-Pr,ir-nr):h.substring(Pr,nr);pt=H===0?0:(d+Kr/2-J)/H;var Yt=Pp(z,I,pt),oe=Pp(X,K,pt);le.push([Yt,oe,Kr/2,Ke,Er]),d+=Kr}}return le}function Xet(o,l,u,s){for(var h=o[l],d=o[l+1],v=0,y=l+s;y<u;y+=s){var E=o[y],w=o[y+1];v+=Math.sqrt((E-h)*(E-h)+(w-d)*(w-d)),h=E,d=w}return v}var Dp=hg(),rf=[],th=[],eh=[],nf=[];function cx(o){return o[3].declutterBox}var Ket=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function hx(o,l){return(l==="start"||l==="end")&&!Ket.test(o)&&(l=l==="start"?"left":"right"),ym[l]}function $et(o,l,u){return u>0&&o.push(`
`,""),o.push(l,""),o}var Zet=function(){function o(l,u,s,h){this.overlaps=s,this.pixelRatio=u,this.resolution=l,this.alignFill_,this.instructions=h.instructions,this.coordinates=h.coordinates,this.coordinateCache_={},this.renderedTransform_=df(),this.hitDetectionInstructions=h.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=h.fillStates||{},this.strokeStates=h.strokeStates||{},this.textStates=h.textStates||{},this.widths_={},this.labels_={}}return o.prototype.createLabel=function(l,u,s,h){var d=l+u+s+h;if(this.labels_[d])return this.labels_[d];var v=h?this.strokeStates[h]:null,y=s?this.fillStates[s]:null,E=this.textStates[u],w=this.pixelRatio,M=[E.scale[0]*w,E.scale[1]*w],A=Array.isArray(l),I=hx(A?l[0]:l,E.textAlign||mg),K=h&&v.lineWidth?v.lineWidth:0,z=A?l:l.split(`
`).reduce($et,[]),X=Stt(E,z),H=X.width,J=X.height,nt=X.widths,pt=X.heights,it=X.lineWidths,N=H+K,_t=[],Rt=(N+2)*M[0],Bt=(J+K)*M[1],St={width:Rt<0?Math.floor(Rt):Math.ceil(Rt),height:Bt<0?Math.floor(Bt):Math.ceil(Bt),contextInstructions:_t};if((M[0]!=1||M[1]!=1)&&_t.push("scale",M),h){_t.push("strokeStyle",v.strokeStyle),_t.push("lineWidth",K),_t.push("lineCap",v.lineCap),_t.push("lineJoin",v.lineJoin),_t.push("miterLimit",v.miterLimit);var Xt=Km?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Xt.prototype.setLineDash&&(_t.push("setLineDash",[v.lineDash]),_t.push("lineDashOffset",v.lineDashOffset))}s&&_t.push("fillStyle",y.fillStyle),_t.push("textBaseline","middle"),_t.push("textAlign","center");for(var It=.5-I,Dt=I*N+It*K,Jt=[],le=[],Ve=0,gt=0,Yt=0,oe=0,nr,ir=0,Ke=z.length;ir<Ke;ir+=2){var Ge=z[ir];if(Ge===`
`){gt+=Ve,Ve=0,Dt=I*N+It*K,++oe;continue}var Pr=z[ir+1]||E.font;Pr!==nr&&(h&&Jt.push("font",Pr),s&&le.push("font",Pr),nr=Pr),Ve=Math.max(Ve,pt[Yt]);var Kr=[Ge,Dt+It*nt[Yt]+I*(nt[Yt]-it[oe]),.5*(K+Ve)+gt];Dt+=nt[Yt],h&&Jt.push("strokeText",Kr),s&&le.push("fillText",Kr),++Yt}return Array.prototype.push.apply(_t,Jt),Array.prototype.push.apply(_t,le),this.labels_[d]=St,St},o.prototype.replayTextBackground_=function(l,u,s,h,d,v,y){l.beginPath(),l.moveTo.apply(l,u),l.lineTo.apply(l,s),l.lineTo.apply(l,h),l.lineTo.apply(l,d),l.lineTo.apply(l,u),v&&(this.alignFill_=v[2],this.fill_(l)),y&&(this.setStrokeStyle_(l,y),l.stroke())},o.prototype.calculateImageOrLabelDimensions_=function(l,u,s,h,d,v,y,E,w,M,A,I,K,z,X,H){y*=I[0],E*=I[1];var J=s-y,nt=h-E,pt=d+w>l?l-w:d,it=v+M>u?u-M:v,N=z[3]+pt*I[0]+z[1],_t=z[0]+it*I[1]+z[2],Rt=J-z[3],Bt=nt-z[0];(X||A!==0)&&(rf[0]=Rt,nf[0]=Rt,rf[1]=Bt,th[1]=Bt,th[0]=Rt+N,eh[0]=th[0],eh[1]=Bt+_t,nf[1]=eh[1]);var St;return A!==0?(St=f1(df(),s,h,1,1,A,-s,-h),Ol(St,rf),Ol(St,th),Ol(St,eh),Ol(St,nf),c1(Math.min(rf[0],th[0],eh[0],nf[0]),Math.min(rf[1],th[1],eh[1],nf[1]),Math.max(rf[0],th[0],eh[0],nf[0]),Math.max(rf[1],th[1],eh[1],nf[1]),Dp)):c1(Math.min(Rt,Rt+N),Math.min(Bt,Bt+_t),Math.max(Rt,Rt+N),Math.max(Bt,Bt+_t),Dp),K&&(J=Math.round(J),nt=Math.round(nt)),{drawImageX:J,drawImageY:nt,drawImageW:pt,drawImageH:it,originX:w,originY:M,declutterBox:{minX:Dp[0],minY:Dp[1],maxX:Dp[2],maxY:Dp[3],value:H},canvasTransform:St,scale:I}},o.prototype.replayImageOrLabel_=function(l,u,s,h,d,v,y){var E=!!(v||y),w=h.declutterBox,M=l.canvas,A=y?y[2]*h.scale[0]/2:0,I=w.minX-A<=M.width/u&&w.maxX+A>=0&&w.minY-A<=M.height/u&&w.maxY+A>=0;return I&&(E&&this.replayTextBackground_(l,rf,th,eh,nf,v,y),wtt(l,h.canvasTransform,d,s,h.originX,h.originY,h.drawImageW,h.drawImageH,h.drawImageX,h.drawImageY,h.scale)),!0},o.prototype.fill_=function(l){if(this.alignFill_){var u=Ol(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;l.save(),l.translate(u[0]%s,u[1]%s),l.rotate(this.viewRotation_)}l.fill(),this.alignFill_&&l.restore()},o.prototype.setStrokeStyle_=function(l,u){l.strokeStyle=u[1],l.lineWidth=u[2],l.lineCap=u[3],l.lineJoin=u[4],l.miterLimit=u[5],l.setLineDash&&(l.lineDashOffset=u[7],l.setLineDash(u[6]))},o.prototype.drawLabelWithPointPlacement_=function(l,u,s,h){var d=this.textStates[u],v=this.createLabel(l,u,h,s),y=this.strokeStates[s],E=this.pixelRatio,w=hx(Array.isArray(l)?l[0]:l,d.textAlign||mg),M=ym[d.textBaseline||vm],A=y&&y.lineWidth?y.lineWidth:0,I=v.width/E-2*d.scale[0],K=w*I+2*(.5-w)*A,z=M*v.height/E+2*(.5-M)*A;return{label:v,anchorX:K,anchorY:z}},o.prototype.execute_=function(l,u,s,h,d,v,y,E){var w;this.pixelCoordinates_&&g1(s,this.renderedTransform_)?w=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),w=xd(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),Fet(this.renderedTransform_,s));for(var M=0,A=h.length,I=0,K,z,X,H,J,nt,pt,it,N,_t,Rt,Bt,St=0,Xt=0,It=null,Dt=null,Jt=this.coordinateCache_,le=this.viewRotation_,Ve=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,gt={context:l,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:le},Yt=this.instructions!=h||this.overlaps?0:200,oe,nr,ir,Ke;M<A;){var Ge=h[M],Pr=Ge[0];switch(Pr){case Ai.BEGIN_GEOMETRY:oe=Ge[1],Ke=Ge[3],oe.getGeometry()?y!==void 0&&!R0(y,Ke.getExtent())?M=Ge[2]+1:++M:M=Ge[2];break;case Ai.BEGIN_PATH:St>Yt&&(this.fill_(l),St=0),Xt>Yt&&(l.stroke(),Xt=0),!St&&!Xt&&(l.beginPath(),H=NaN,J=NaN),++M;break;case Ai.CIRCLE:I=Ge[1];var Kr=w[I],pe=w[I+1],Qe=w[I+2],Er=w[I+3],Nr=Qe-Kr,Pn=Er-pe,Br=Math.sqrt(Nr*Nr+Pn*Pn);l.moveTo(Kr+Br,pe),l.arc(Kr,pe,Br,0,2*Math.PI,!0),++M;break;case Ai.CLOSE_PATH:l.closePath(),++M;break;case Ai.CUSTOM:I=Ge[1],K=Ge[2];var Vt=Ge[3],Qt=Ge[4],At=Ge.length==6?Ge[5]:void 0;gt.geometry=Vt,gt.feature=oe,M in Jt||(Jt[M]=[]);var ht=Jt[M];At?At(w,I,K,2,ht):(ht[0]=w[I],ht[1]=w[I+1],ht.length=2),Qt(ht,gt),++M;break;case Ai.DRAW_IMAGE:I=Ge[1],K=Ge[2],it=Ge[3],z=Ge[4],X=Ge[5];var Ct=Ge[6],te=Ge[7],qt=Ge[8],fe=Ge[9],Pe=Ge[10],Be=Ge[11],ue=Ge[12],ft=Ge[13],j=Ge[14];if(!it&&Ge.length>=19){N=Ge[18],_t=Ge[19],Rt=Ge[20],Bt=Ge[21];var W=this.drawLabelWithPointPlacement_(N,_t,Rt,Bt);it=W.label,Ge[3]=it;var st=Ge[22];z=(W.anchorX-st)*this.pixelRatio,Ge[4]=z;var $t=Ge[23];X=(W.anchorY-$t)*this.pixelRatio,Ge[5]=X,Ct=it.height,Ge[6]=Ct,ft=it.width,Ge[13]=ft}var Ee=void 0;Ge.length>24&&(Ee=Ge[24]);var Le=void 0,Ar=void 0,Gr=void 0;Ge.length>16?(Le=Ge[15],Ar=Ge[16],Gr=Ge[17]):(Le=yd,Ar=!1,Gr=!1),Pe&&Ve?Be+=le:!Pe&&!Ve&&(Be-=le);for(var zr=0;I<K;I+=2)if(!(Ee&&Ee[zr++]<ft/this.pixelRatio)){var sn=this.calculateImageOrLabelDimensions_(it.width,it.height,w[I],w[I+1],ft,Ct,z,X,qt,fe,Be,ue,d,Le,Ar||Gr,oe),Nn=[l,u,it,sn,te,Ar?It:null,Gr?Dt:null],ci=void 0,ki=void 0;if(E&&j){var Fn=K-I;if(!j[Fn]){j[Fn]=Nn;continue}if(ci=j[Fn],delete j[Fn],ki=cx(ci),E.collides(ki))continue}E&&E.collides(sn.declutterBox)||(ci&&(E&&E.insert(ki),this.replayImageOrLabel_.apply(this,ci)),E&&E.insert(sn.declutterBox),this.replayImageOrLabel_.apply(this,Nn))}++M;break;case Ai.DRAW_CHARS:var qn=Ge[1],Mi=Ge[2],gn=Ge[3],ao=Ge[4];Bt=Ge[5];var kn=Ge[6],ya=Ge[7],Lo=Ge[8];Rt=Ge[9];var zi=Ge[10];N=Ge[11],_t=Ge[12];var an=[Ge[13],Ge[13]],dr=this.textStates[_t],rn=dr.font,Mn=[dr.scale[0]*ya,dr.scale[1]*ya],ri=void 0;rn in this.widths_?ri=this.widths_[rn]:(ri={},this.widths_[rn]=ri);var _i=Xet(w,qn,Mi,2),wn=Math.abs(Mn[0])*Qw(rn,N,ri);if(ao||wn<=_i){var nn=this.textStates[_t].textAlign,Ei=(_i-wn)*ym[nn],ho=Het(w,qn,Mi,2,N,Ei,kn,Math.abs(Mn[0]),Qw,rn,ri,Ve?0:this.viewRotation_);t:if(ho){var zo=[],Un=void 0,Ss=void 0,Da=void 0,Io=void 0,Si=void 0;if(Rt)for(Un=0,Ss=ho.length;Un<Ss;++Un){Si=ho[Un],Da=Si[4],Io=this.createLabel(Da,_t,"",Rt),z=Si[2]+(Mn[0]<0?-zi:zi),X=gn*Io.height+(.5-gn)*2*zi*Mn[1]/Mn[0]-Lo;var sn=this.calculateImageOrLabelDimensions_(Io.width,Io.height,Si[0],Si[1],Io.width,Io.height,z,X,0,0,Si[3],an,!1,yd,!1,oe);if(E&&E.collides(sn.declutterBox))break t;zo.push([l,u,Io,sn,1,null,null])}if(Bt)for(Un=0,Ss=ho.length;Un<Ss;++Un){Si=ho[Un],Da=Si[4],Io=this.createLabel(Da,_t,Bt,""),z=Si[2],X=gn*Io.height-Lo;var sn=this.calculateImageOrLabelDimensions_(Io.width,Io.height,Si[0],Si[1],Io.width,Io.height,z,X,0,0,Si[3],an,!1,yd,!1,oe);if(E&&E.collides(sn.declutterBox))break t;zo.push([l,u,Io,sn,1,null,null])}E&&E.load(zo.map(cx));for(var il=0,ja=zo.length;il<ja;++il)this.replayImageOrLabel_.apply(this,zo[il])}}++M;break;case Ai.END_GEOMETRY:if(v!==void 0){oe=Ge[1];var Ma=v(oe,Ke);if(Ma)return Ma}++M;break;case Ai.FILL:Yt?St++:this.fill_(l),++M;break;case Ai.MOVE_TO_LINE_TO:for(I=Ge[1],K=Ge[2],nr=w[I],ir=w[I+1],nt=nr+.5|0,pt=ir+.5|0,(nt!==H||pt!==J)&&(l.moveTo(nr,ir),H=nt,J=pt),I+=2;I<K;I+=2)nr=w[I],ir=w[I+1],nt=nr+.5|0,pt=ir+.5|0,(I==K-2||nt!==H||pt!==J)&&(l.lineTo(nr,ir),H=nt,J=pt);++M;break;case Ai.SET_FILL_STYLE:It=Ge,this.alignFill_=Ge[2],St&&(this.fill_(l),St=0,Xt&&(l.stroke(),Xt=0)),l.fillStyle=Ge[1],++M;break;case Ai.SET_STROKE_STYLE:Dt=Ge,Xt&&(l.stroke(),Xt=0),this.setStrokeStyle_(l,Ge),++M;break;case Ai.STROKE:Yt?Xt++:l.stroke(),++M;break;default:++M;break}}St&&this.fill_(l),Xt&&l.stroke()},o.prototype.execute=function(l,u,s,h,d,v){this.viewRotation_=h,this.execute_(l,u,s,this.instructions,d,void 0,void 0,v)},o.prototype.executeHitDetection=function(l,u,s,h,d){return this.viewRotation_=s,this.execute_(l,1,u,this.hitDetectionInstructions,!0,h,d)},o}(),qet=Zet,b4=[Wa.POLYGON,Wa.CIRCLE,Wa.LINE_STRING,Wa.IMAGE,Wa.TEXT,Wa.DEFAULT],Jet=function(){function o(l,u,s,h,d,v){this.maxExtent_=l,this.overlaps_=h,this.pixelRatio_=s,this.resolution_=u,this.renderBuffer_=v,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=df(),this.createExecutors_(d)}return o.prototype.clip=function(l,u){var s=this.getClipCoords(u);l.beginPath(),l.moveTo(s[0],s[1]),l.lineTo(s[2],s[3]),l.lineTo(s[4],s[5]),l.lineTo(s[6],s[7]),l.clip()},o.prototype.createExecutors_=function(l){for(var u in l){var s=this.executorsByZIndex_[u];s===void 0&&(s={},this.executorsByZIndex_[u]=s);var h=l[u];for(var d in h){var v=h[d];s[d]=new qet(this.resolution_,this.pixelRatio_,this.overlaps_,v)}}},o.prototype.hasExecutors=function(l){for(var u in this.executorsByZIndex_)for(var s=this.executorsByZIndex_[u],h=0,d=l.length;h<d;++h)if(l[h]in s)return!0;return!1},o.prototype.forEachFeatureAtCoordinate=function(l,u,s,h,d,v){h=Math.round(h);var y=h*2+1,E=f1(this.hitDetectionTransform_,h+.5,h+.5,1/u,-1/u,-s,-l[0],-l[1]),w=!this.hitDetectionContext_;w&&(this.hitDetectionContext_=fh(y,y));var M=this.hitDetectionContext_;M.canvas.width!==y||M.canvas.height!==y?(M.canvas.width=y,M.canvas.height=y):w||M.clearRect(0,0,y,y);var A;this.renderBuffer_!==void 0&&(A=hg(),yQ(A,l),E8(A,u*(this.renderBuffer_+h),A));var I=Qet(h),K;function z(_t,Rt){for(var Bt=M.getImageData(0,0,y,y).data,St=0,Xt=I.length;St<Xt;St++)if(Bt[I[St]]>0){if(!v||K!==Wa.IMAGE&&K!==Wa.TEXT||v.indexOf(_t)!==-1){var It=(I[St]-3)/4,Dt=h-It%y,Jt=h-(It/y|0),le=d(_t,Rt,Dt*Dt+Jt*Jt);if(le)return le}M.clearRect(0,0,y,y);break}}var X=Object.keys(this.executorsByZIndex_).map(Number);X.sort(m6);var H,J,nt,pt,it;for(H=X.length-1;H>=0;--H){var N=X[H].toString();for(nt=this.executorsByZIndex_[N],J=b4.length-1;J>=0;--J)if(K=b4[J],pt=nt[K],pt!==void 0&&(it=pt.executeHitDetection(M,E,s,z,A),it))return it}},o.prototype.getClipCoords=function(l){var u=this.maxExtent_;if(!u)return null;var s=u[0],h=u[1],d=u[2],v=u[3],y=[s,h,s,v,d,v,d,h];return xd(y,0,8,2,l,y),y},o.prototype.isEmpty=function(){return cg(this.executorsByZIndex_)},o.prototype.execute=function(l,u,s,h,d,v,y){var E=Object.keys(this.executorsByZIndex_).map(Number);E.sort(m6),this.maxExtent_&&(l.save(),this.clip(l,s));var w=v||b4,M,A,I,K,z,X;for(y&&E.reverse(),M=0,A=E.length;M<A;++M){var H=E[M].toString();for(z=this.executorsByZIndex_[H],I=0,K=w.length;I<K;++I){var J=w[I];X=z[J],X!==void 0&&X.execute(l,u,s,h,d,y)}}this.maxExtent_&&l.restore()},o}(),L4={};function Qet(o){if(L4[o]!==void 0)return L4[o];for(var l=o*2+1,u=o*o,s=new Array(u+1),h=0;h<=o;++h)for(var d=0;d<=o;++d){var v=h*h+d*d;if(v>u)break;var y=s[v];y||(y=[],s[v]=y),y.push(((o+h)*l+(o+d))*4+3),h>0&&y.push(((o-h)*l+(o+d))*4+3),d>0&&(y.push(((o+h)*l+(o-d))*4+3),h>0&&y.push(((o-h)*l+(o-d))*4+3))}for(var E=[],h=0,w=s.length;h<w;++h)s[h]&&E.push.apply(E,s[h]);return L4[o]=E,E}var fx=Jet,Yy={ANIMATING:0,INTERACTING:1},trt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),dx=df(),ert=function(o){trt(l,o);function l(){var u=o.call(this)||this;return u.extent_=hg(),u.extentRevision_=-1,u.simplifiedGeometryMaxMinSquaredTolerance=0,u.simplifiedGeometryRevision=0,u.simplifyTransformedInternal=qQ(function(s,h,d){if(!d)return this.getSimplifiedGeometry(h);var v=this.clone();return v.applyTransform(d),v.getSimplifiedGeometry(h)}),u}return l.prototype.simplifyTransformed=function(u,s){return this.simplifyTransformedInternal(this.getRevision(),u,s)},l.prototype.clone=function(){return ko()},l.prototype.closestPointXY=function(u,s,h,d){return ko()},l.prototype.containsXY=function(u,s){var h=this.getClosestPoint([u,s]);return h[0]===u&&h[1]===s},l.prototype.getClosestPoint=function(u,s){var h=s||[NaN,NaN];return this.closestPointXY(u[0],u[1],h,1/0),h},l.prototype.intersectsCoordinate=function(u){return this.containsXY(u[0],u[1])},l.prototype.computeExtent=function(u){return ko()},l.prototype.getExtent=function(u){if(this.extentRevision_!=this.getRevision()){var s=this.computeExtent(this.extent_);(isNaN(s[0])||isNaN(s[1]))&&WO(s),this.extentRevision_=this.getRevision()}return TQ(this.extent_,u)},l.prototype.rotate=function(u,s){ko()},l.prototype.scale=function(u,s,h){ko()},l.prototype.simplify=function(u){return this.getSimplifiedGeometry(u*u)},l.prototype.getSimplifiedGeometry=function(u){return ko()},l.prototype.getType=function(){return ko()},l.prototype.applyTransform=function(u){ko()},l.prototype.intersectsExtent=function(u){return ko()},l.prototype.translate=function(u,s){ko()},l.prototype.transform=function(u,s){var h=xu(u),d=h.getUnits()==n0.TILE_PIXELS?function(v,y,E){var w=h.getExtent(),M=h.getWorldExtent(),A=hm(M)/hm(w);return f1(dx,M[0],M[3],A,-A,0,0,0),xd(v,0,v.length,E,dx,y),fg(h,s)(v,y,E)}:fg(h,s);return this.applyTransform(d),this},l}(Cd),rrt=ert,lh={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},nrt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),irt=function(o){nrt(l,o);function l(){var u=o.call(this)||this;return u.layout=lh.XY,u.stride=2,u.flatCoordinates=null,u}return l.prototype.computeExtent=function(u){return gQ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u)},l.prototype.getCoordinates=function(){return ko()},l.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},l.prototype.getFlatCoordinates=function(){return this.flatCoordinates},l.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},l.prototype.getLayout=function(){return this.layout},l.prototype.getSimplifiedGeometry=function(u){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),u<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&u<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var s=this.getSimplifiedGeometryInternal(u),h=s.getFlatCoordinates();return h.length<this.flatCoordinates.length?s:(this.simplifiedGeometryMaxMinSquaredTolerance=u,this)},l.prototype.getSimplifiedGeometryInternal=function(u){return this},l.prototype.getStride=function(){return this.stride},l.prototype.setFlatCoordinates=function(u,s){this.stride=px(u),this.layout=u,this.flatCoordinates=s},l.prototype.setCoordinates=function(u,s){ko()},l.prototype.setLayout=function(u,s,h){var d;if(u)d=px(u);else{for(var v=0;v<h;++v)if(s.length===0){this.layout=lh.XY,this.stride=2;return}else s=s[0];d=s.length,u=ort(d)}this.layout=u,this.stride=d},l.prototype.applyTransform=function(u){this.flatCoordinates&&(u(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},l.prototype.rotate=function(u,s){var h=this.getFlatCoordinates();if(h){var d=this.getStride();SA(h,0,h.length,d,u,s,h),this.changed()}},l.prototype.scale=function(u,s,h){var d=s;d===void 0&&(d=u);var v=h;v||(v=HO(this.getExtent()));var y=this.getFlatCoordinates();if(y){var E=this.getStride();Wet(y,0,y.length,E,u,d,v,y),this.changed()}},l.prototype.translate=function(u,s){var h=this.getFlatCoordinates();if(h){var d=this.getStride();Yet(h,0,h.length,d,u,s,h),this.changed()}},l}(rrt);function ort(o){var l;return o==2?l=lh.XY:o==3?l=lh.XYZ:o==4&&(l=lh.XYZM),l}function px(o){var l;return o==lh.XY?l=2:o==lh.XYZ||o==lh.XYM?l=3:o==lh.XYZM&&(l=4),l}function art(o,l,u){var s=o.getFlatCoordinates();if(s){var h=o.getStride();return xd(s,0,s.length,h,l,u)}else return null}var srt=irt,lrt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),urt=function(o){lrt(l,o);function l(u,s,h,d,v,y,E){var w=o.call(this)||this;return w.context_=u,w.pixelRatio_=s,w.extent_=h,w.transform_=d,w.viewRotation_=v,w.squaredTolerance_=y,w.userTransform_=E,w.contextFillState_=null,w.contextStrokeState_=null,w.contextTextState_=null,w.fillState_=null,w.strokeState_=null,w.image_=null,w.imageAnchorX_=0,w.imageAnchorY_=0,w.imageHeight_=0,w.imageOpacity_=0,w.imageOriginX_=0,w.imageOriginY_=0,w.imageRotateWithView_=!1,w.imageRotation_=0,w.imageScale_=[0,0],w.imageWidth_=0,w.text_="",w.textOffsetX_=0,w.textOffsetY_=0,w.textRotateWithView_=!1,w.textRotation_=0,w.textScale_=[0,0],w.textFillState_=null,w.textStrokeState_=null,w.textState_=null,w.pixelCoordinates_=[],w.tmpLocalTransform_=df(),w}return l.prototype.drawImages_=function(u,s,h,d){if(!!this.image_){var v=xd(u,s,h,d,this.transform_,this.pixelCoordinates_),y=this.context_,E=this.tmpLocalTransform_,w=y.globalAlpha;this.imageOpacity_!=1&&(y.globalAlpha=w*this.imageOpacity_);var M=this.imageRotation_;this.imageRotateWithView_&&(M+=this.viewRotation_);for(var A=0,I=v.length;A<I;A+=2){var K=v[A]-this.imageAnchorX_,z=v[A+1]-this.imageAnchorY_;if(M!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var X=K+this.imageAnchorX_,H=z+this.imageAnchorY_;f1(E,X,H,1,1,M,-X,-H),y.setTransform.apply(y,E),y.translate(X,H),y.scale(this.imageScale_[0],this.imageScale_[1]),y.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),y.setTransform(1,0,0,1,0,0)}else y.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,K,z,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(y.globalAlpha=w)}},l.prototype.drawText_=function(u,s,h,d){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var v=xd(u,s,h,d,this.transform_,this.pixelCoordinates_),y=this.context_,E=this.textRotation_;for(this.textRotateWithView_&&(E+=this.viewRotation_);s<h;s+=d){var w=v[s]+this.textOffsetX_,M=v[s+1]+this.textOffsetY_;if(E!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var A=f1(this.tmpLocalTransform_,w,M,1,1,E,-w,-M);y.setTransform.apply(y,A),y.translate(w,M),y.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&y.strokeText(this.text_,0,0),this.textFillState_&&y.fillText(this.text_,0,0),y.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&y.strokeText(this.text_,w,M),this.textFillState_&&y.fillText(this.text_,w,M)}}},l.prototype.moveToLineTo_=function(u,s,h,d,v){var y=this.context_,E=xd(u,s,h,d,this.transform_,this.pixelCoordinates_);y.moveTo(E[0],E[1]);var w=E.length;v&&(w-=2);for(var M=2;M<w;M+=2)y.lineTo(E[M],E[M+1]);return v&&y.closePath(),h},l.prototype.drawRings_=function(u,s,h,d){for(var v=0,y=h.length;v<y;++v)s=this.moveToLineTo_(u,s,h[v],d,!0);return s},l.prototype.drawCircle=function(u){if(!!R0(this.extent_,u.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var s=art(u,this.transform_,this.pixelCoordinates_),h=s[2]-s[0],d=s[3]-s[1],v=Math.sqrt(h*h+d*d),y=this.context_;y.beginPath(),y.arc(s[0],s[1],v,0,2*Math.PI),this.fillState_&&y.fill(),this.strokeState_&&y.stroke()}this.text_!==""&&this.drawText_(u.getCenter(),0,2,2)}},l.prototype.setStyle=function(u){this.setFillStrokeStyle(u.getFill(),u.getStroke()),this.setImageStyle(u.getImage()),this.setTextStyle(u.getText())},l.prototype.setTransform=function(u){this.transform_=u},l.prototype.drawGeometry=function(u){var s=u.getType();switch(s){case ui.POINT:this.drawPoint(u);break;case ui.LINE_STRING:this.drawLineString(u);break;case ui.POLYGON:this.drawPolygon(u);break;case ui.MULTI_POINT:this.drawMultiPoint(u);break;case ui.MULTI_LINE_STRING:this.drawMultiLineString(u);break;case ui.MULTI_POLYGON:this.drawMultiPolygon(u);break;case ui.GEOMETRY_COLLECTION:this.drawGeometryCollection(u);break;case ui.CIRCLE:this.drawCircle(u);break}},l.prototype.drawFeature=function(u,s){var h=s.getGeometryFunction()(u);!h||!R0(this.extent_,h.getExtent())||(this.setStyle(s),this.drawGeometry(h))},l.prototype.drawGeometryCollection=function(u){for(var s=u.getGeometriesArray(),h=0,d=s.length;h<d;++h)this.drawGeometry(s[h])},l.prototype.drawPoint=function(u){this.squaredTolerance_&&(u=u.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var s=u.getFlatCoordinates(),h=u.getStride();this.image_&&this.drawImages_(s,0,s.length,h),this.text_!==""&&this.drawText_(s,0,s.length,h)},l.prototype.drawMultiPoint=function(u){this.squaredTolerance_&&(u=u.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var s=u.getFlatCoordinates(),h=u.getStride();this.image_&&this.drawImages_(s,0,s.length,h),this.text_!==""&&this.drawText_(s,0,s.length,h)},l.prototype.drawLineString=function(u){if(this.squaredTolerance_&&(u=u.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!R0(this.extent_,u.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var s=this.context_,h=u.getFlatCoordinates();s.beginPath(),this.moveToLineTo_(h,0,h.length,u.getStride(),!1),s.stroke()}if(this.text_!==""){var d=u.getFlatMidpoint();this.drawText_(d,0,2,2)}}},l.prototype.drawMultiLineString=function(u){this.squaredTolerance_&&(u=u.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var s=u.getExtent();if(!!R0(this.extent_,s)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var h=this.context_,d=u.getFlatCoordinates(),v=0,y=u.getEnds(),E=u.getStride();h.beginPath();for(var w=0,M=y.length;w<M;++w)v=this.moveToLineTo_(d,v,y[w],E,!1);h.stroke()}if(this.text_!==""){var A=u.getFlatMidpoints();this.drawText_(A,0,A.length,2)}}},l.prototype.drawPolygon=function(u){if(this.squaredTolerance_&&(u=u.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!R0(this.extent_,u.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var s=this.context_;s.beginPath(),this.drawRings_(u.getOrientedFlatCoordinates(),0,u.getEnds(),u.getStride()),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}if(this.text_!==""){var h=u.getFlatInteriorPoint();this.drawText_(h,0,2,2)}}},l.prototype.drawMultiPolygon=function(u){if(this.squaredTolerance_&&(u=u.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!R0(this.extent_,u.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var s=this.context_,h=u.getOrientedFlatCoordinates(),d=0,v=u.getEndss(),y=u.getStride();s.beginPath();for(var E=0,w=v.length;E<w;++E){var M=v[E];d=this.drawRings_(h,d,M,y)}this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}if(this.text_!==""){var A=u.getFlatInteriorPoints();this.drawText_(A,0,A.length,2)}}},l.prototype.setContextFillState_=function(u){var s=this.context_,h=this.contextFillState_;h?h.fillStyle!=u.fillStyle&&(h.fillStyle=u.fillStyle,s.fillStyle=u.fillStyle):(s.fillStyle=u.fillStyle,this.contextFillState_={fillStyle:u.fillStyle})},l.prototype.setContextStrokeState_=function(u){var s=this.context_,h=this.contextStrokeState_;h?(h.lineCap!=u.lineCap&&(h.lineCap=u.lineCap,s.lineCap=u.lineCap),s.setLineDash&&(g1(h.lineDash,u.lineDash)||s.setLineDash(h.lineDash=u.lineDash),h.lineDashOffset!=u.lineDashOffset&&(h.lineDashOffset=u.lineDashOffset,s.lineDashOffset=u.lineDashOffset)),h.lineJoin!=u.lineJoin&&(h.lineJoin=u.lineJoin,s.lineJoin=u.lineJoin),h.lineWidth!=u.lineWidth&&(h.lineWidth=u.lineWidth,s.lineWidth=u.lineWidth),h.miterLimit!=u.miterLimit&&(h.miterLimit=u.miterLimit,s.miterLimit=u.miterLimit),h.strokeStyle!=u.strokeStyle&&(h.strokeStyle=u.strokeStyle,s.strokeStyle=u.strokeStyle)):(s.lineCap=u.lineCap,s.setLineDash&&(s.setLineDash(u.lineDash),s.lineDashOffset=u.lineDashOffset),s.lineJoin=u.lineJoin,s.lineWidth=u.lineWidth,s.miterLimit=u.miterLimit,s.strokeStyle=u.strokeStyle,this.contextStrokeState_={lineCap:u.lineCap,lineDash:u.lineDash,lineDashOffset:u.lineDashOffset,lineJoin:u.lineJoin,lineWidth:u.lineWidth,miterLimit:u.miterLimit,strokeStyle:u.strokeStyle})},l.prototype.setContextTextState_=function(u){var s=this.context_,h=this.contextTextState_,d=u.textAlign?u.textAlign:mg;h?(h.font!=u.font&&(h.font=u.font,s.font=u.font),h.textAlign!=d&&(h.textAlign=d,s.textAlign=d),h.textBaseline!=u.textBaseline&&(h.textBaseline=u.textBaseline,s.textBaseline=u.textBaseline)):(s.font=u.font,s.textAlign=d,s.textBaseline=u.textBaseline,this.contextTextState_={font:u.font,textAlign:d,textBaseline:u.textBaseline})},l.prototype.setFillStrokeStyle=function(u,s){var h=this;if(!u)this.fillState_=null;else{var d=u.getColor();this.fillState_={fillStyle:I0(d||ch)}}if(!s)this.strokeState_=null;else{var v=s.getColor(),y=s.getLineCap(),E=s.getLineDash(),w=s.getLineDashOffset(),M=s.getLineJoin(),A=s.getWidth(),I=s.getMiterLimit(),K=E||pg;this.strokeState_={lineCap:y!==void 0?y:pm,lineDash:this.pixelRatio_===1?K:K.map(function(z){return z*h.pixelRatio_}),lineDashOffset:(w||vg)*this.pixelRatio_,lineJoin:M!==void 0?M:h1,lineWidth:(A!==void 0?A:_g)*this.pixelRatio_,miterLimit:I!==void 0?I:gg,strokeStyle:I0(v||yg)}}},l.prototype.setImageStyle=function(u){var s;if(!u||!(s=u.getSize())){this.image_=null;return}var h=u.getAnchor(),d=u.getOrigin();this.image_=u.getImage(this.pixelRatio_),this.imageAnchorX_=h[0]*this.pixelRatio_,this.imageAnchorY_=h[1]*this.pixelRatio_,this.imageHeight_=s[1]*this.pixelRatio_,this.imageOpacity_=u.getOpacity(),this.imageOriginX_=d[0],this.imageOriginY_=d[1],this.imageRotateWithView_=u.getRotateWithView(),this.imageRotation_=u.getRotation(),this.imageScale_=u.getScaleArray(),this.imageWidth_=s[0]*this.pixelRatio_},l.prototype.setTextStyle=function(u){if(!u)this.text_="";else{var s=u.getFill();if(!s)this.textFillState_=null;else{var h=s.getColor();this.textFillState_={fillStyle:I0(h||ch)}}var d=u.getStroke();if(!d)this.textStrokeState_=null;else{var v=d.getColor(),y=d.getLineCap(),E=d.getLineDash(),w=d.getLineDashOffset(),M=d.getLineJoin(),A=d.getWidth(),I=d.getMiterLimit();this.textStrokeState_={lineCap:y!==void 0?y:pm,lineDash:E||pg,lineDashOffset:w||vg,lineJoin:M!==void 0?M:h1,lineWidth:A!==void 0?A:_g,miterLimit:I!==void 0?I:gg,strokeStyle:I0(v||yg)}}var K=u.getFont(),z=u.getOffsetX(),X=u.getOffsetY(),H=u.getRotateWithView(),J=u.getRotation(),nt=u.getScaleArray(),pt=u.getText(),it=u.getTextAlign(),N=u.getTextBaseline();this.textState_={font:K!==void 0?K:hA,textAlign:it!==void 0?it:mg,textBaseline:N!==void 0?N:vm},this.text_=pt!==void 0?Array.isArray(pt)?pt.reduce(function(_t,Rt,Bt){return _t+=Bt%2?" ":Rt},""):pt:"",this.textOffsetX_=z!==void 0?this.pixelRatio_*z:0,this.textOffsetY_=X!==void 0?this.pixelRatio_*X:0,this.textRotateWithView_=H!==void 0?H:!1,this.textRotation_=J!==void 0?J:0,this.textScale_=[this.pixelRatio_*nt[0],this.pixelRatio_*nt[1]]}},l}(EA),crt=urt,b0=.5;function hrt(o,l,u,s,h,d,v){var y=o[0]*b0,E=o[1]*b0,w=fh(y,E);w.imageSmoothingEnabled=!1;for(var M=w.canvas,A=new crt(w,b0,h,null,v),I=u.length,K=Math.floor((256*256*256-1)/I),z={},X=1;X<=I;++X){var H=u[X-1],J=H.getStyleFunction()||s;if(!!s){var nt=J(H,d);if(!!nt){Array.isArray(nt)||(nt=[nt]);for(var pt=X*K,it="#"+("000000"+pt.toString(16)).slice(-6),N=0,_t=nt.length;N<_t;++N){var Rt=nt[N],Bt=Rt.getGeometryFunction()(H);if(!(!Bt||!R0(h,Bt.getExtent()))){var St=Rt.clone(),Xt=St.getFill();Xt&&Xt.setColor(it);var It=St.getStroke();It&&(It.setColor(it),It.setLineDash(null)),St.setText(void 0);var Dt=Rt.getImage();if(Dt&&Dt.getOpacity()!==0){var Jt=Dt.getImageSize();if(!Jt)continue;var le=fh(Jt[0],Jt[1],void 0,{alpha:!1}),Ve=le.canvas;le.fillStyle=it,le.fillRect(0,0,Ve.width,Ve.height),St.setImage(new yA({img:Ve,imgSize:Jt,anchor:Dt.getAnchor(),anchorXUnits:uf.PIXELS,anchorYUnits:uf.PIXELS,offset:Dt.getOrigin(),opacity:1,size:Dt.getSize(),scale:Dt.getScale(),rotation:Dt.getRotation(),rotateWithView:Dt.getRotateWithView()}))}var gt=St.getZIndex()||0,Yt=z[gt];Yt||(Yt={},z[gt]=Yt,Yt[ui.POLYGON]=[],Yt[ui.CIRCLE]=[],Yt[ui.LINE_STRING]=[],Yt[ui.POINT]=[]),Yt[Bt.getType().replace("Multi","")].push(Bt,St)}}}}}for(var oe=Object.keys(z).map(Number).sort(m6),X=0,nr=oe.length;X<nr;++X){var Yt=z[oe[X]];for(var ir in Yt)for(var Ke=Yt[ir],N=0,_t=Ke.length;N<_t;N+=2){A.setStyle(Ke[N+1]);for(var Ge=0,Pr=l.length;Ge<Pr;++Ge)A.setTransform(l[Ge]),A.drawGeometry(Ke[N])}}return w.getImageData(0,0,M.width,M.height)}function frt(o,l,u){var s=[];if(u){var h=Math.floor(Math.round(o[0])*b0),d=Math.floor(Math.round(o[1])*b0),v=(ah(h,0,u.width-1)+ah(d,0,u.height-1)*u.width)*4,y=u.data[v],E=u.data[v+1],w=u.data[v+2],M=w+256*(E+256*y),A=Math.floor((256*256*256-1)/l.length);M&&M%A===0&&s.push(l[M/A-1])}return s}var drt=.5,wA={Point:wrt,LineString:_rt,Polygon:Trt,MultiPoint:xrt,MultiLineString:Ert,MultiPolygon:Srt,GeometryCollection:mrt,Circle:grt};function prt(o,l){return parseInt(Vs(o),10)-parseInt(Vs(l),10)}function vrt(o,l){var u=T6(o,l);return u*u}function T6(o,l){return drt*o/l}function grt(o,l,u,s,h){var d=u.getFill(),v=u.getStroke();if(d||v){var y=o.getBuilder(u.getZIndex(),Wa.CIRCLE);y.setFillStrokeStyle(d,v),y.drawCircle(l,s)}var E=u.getText();if(E&&E.getText()){var w=(h||o).getBuilder(u.getZIndex(),Wa.TEXT);w.setTextStyle(E),w.drawText(l,s)}}function vx(o,l,u,s,h,d,v){var y=!1,E=u.getImage();if(E){var w=E.getImageState();w==ga.LOADED||w==ga.ERROR?E.unlistenImageChange(h):(w==ga.IDLE&&E.load(),w=E.getImageState(),E.listenImageChange(h),y=!0)}return yrt(o,l,u,s,d,v),y}function yrt(o,l,u,s,h,d){var v=u.getGeometryFunction()(l);if(!!v){var y=v.simplifyTransformed(s,h),E=u.getRenderer();if(E)xA(o,y,u,l);else{var w=wA[y.getType()];w(o,y,u,l,d)}}}function xA(o,l,u,s){if(l.getType()==ui.GEOMETRY_COLLECTION){for(var h=l.getGeometries(),d=0,v=h.length;d<v;++d)xA(o,h[d],u,s);return}var y=o.getBuilder(u.getZIndex(),Wa.DEFAULT);y.drawCustom(l,s,u.getRenderer(),u.getHitDetectionRenderer())}function mrt(o,l,u,s,h){var d=l.getGeometriesArray(),v,y;for(v=0,y=d.length;v<y;++v){var E=wA[d[v].getType()];E(o,d[v],u,s,h)}}function _rt(o,l,u,s,h){var d=u.getStroke();if(d){var v=o.getBuilder(u.getZIndex(),Wa.LINE_STRING);v.setFillStrokeStyle(null,d),v.drawLineString(l,s)}var y=u.getText();if(y&&y.getText()){var E=(h||o).getBuilder(u.getZIndex(),Wa.TEXT);E.setTextStyle(y),E.drawText(l,s)}}function Ert(o,l,u,s,h){var d=u.getStroke();if(d){var v=o.getBuilder(u.getZIndex(),Wa.LINE_STRING);v.setFillStrokeStyle(null,d),v.drawMultiLineString(l,s)}var y=u.getText();if(y&&y.getText()){var E=(h||o).getBuilder(u.getZIndex(),Wa.TEXT);E.setTextStyle(y),E.drawText(l,s)}}function Srt(o,l,u,s,h){var d=u.getFill(),v=u.getStroke();if(v||d){var y=o.getBuilder(u.getZIndex(),Wa.POLYGON);y.setFillStrokeStyle(d,v),y.drawMultiPolygon(l,s)}var E=u.getText();if(E&&E.getText()){var w=(h||o).getBuilder(u.getZIndex(),Wa.TEXT);w.setTextStyle(E),w.drawText(l,s)}}function wrt(o,l,u,s,h){var d=u.getImage(),v=u.getText(),y;if(h&&(o=h,y=d&&v&&v.getText()?{}:void 0),d){if(d.getImageState()!=ga.LOADED)return;var E=o.getBuilder(u.getZIndex(),Wa.IMAGE);E.setImageStyle(d,y),E.drawPoint(l,s)}if(v&&v.getText()){var w=o.getBuilder(u.getZIndex(),Wa.TEXT);w.setTextStyle(v,y),w.drawText(l,s)}}function xrt(o,l,u,s,h){var d=u.getImage(),v=u.getText(),y;if(h&&(o=h,y=d&&v&&v.getText()?{}:void 0),d){if(d.getImageState()!=ga.LOADED)return;var E=o.getBuilder(u.getZIndex(),Wa.IMAGE);E.setImageStyle(d,y),E.drawMultiPoint(l,s)}if(v&&v.getText()){var w=(h||o).getBuilder(u.getZIndex(),Wa.TEXT);w.setTextStyle(v,y),w.drawText(l,s)}}function Trt(o,l,u,s,h){var d=u.getFill(),v=u.getStroke();if(d||v){var y=o.getBuilder(u.getZIndex(),Wa.POLYGON);y.setFillStrokeStyle(d,v),y.drawPolygon(l,s)}var E=u.getText();if(E&&E.getText()){var w=(h||o).getBuilder(u.getZIndex(),Wa.TEXT);w.setTextStyle(E),w.drawText(l,s)}}var Ort=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Art=function(o){Ort(l,o);function l(u){var s=o.call(this,u)||this;return s.boundHandleStyleImageChange_=s.handleStyleImageChange_.bind(s),s.animatingOrInteracting_,s.dirty_=!1,s.hitDetectionImageData_=null,s.renderedFeatures_=null,s.renderedRevision_=-1,s.renderedResolution_=NaN,s.renderedExtent_=hg(),s.wrappedRenderedExtent_=hg(),s.renderedRotation_,s.renderedCenter_=null,s.renderedProjection_=null,s.renderedRenderOrder_=null,s.replayGroup_=null,s.replayGroupChanged=!0,s.declutterExecutorGroup=null,s.clipping=!0,s}return l.prototype.renderWorlds=function(u,s,h){var d=s.extent,v=s.viewState,y=v.center,E=v.resolution,w=v.projection,M=v.rotation,A=w.getExtent(),I=this.getLayer().getSource(),K=s.pixelRatio,z=s.viewHints,X=!(z[Yy.ANIMATING]||z[Yy.INTERACTING]),H=this.context,J=Math.round(s.size[0]*K),nt=Math.round(s.size[1]*K),pt=I.getWrapX()&&w.canWrapX(),it=pt?sh(A):null,N=pt?Math.ceil((d[2]-A[2])/it)+1:1,_t=pt?Math.floor((d[0]-A[0])/it):0;do{var Rt=this.getRenderTransform(y,E,M,K,J,nt,_t*it);u.execute(H,1,Rt,M,X,void 0,h)}while(++_t<N)},l.prototype.renderDeclutter=function(u){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,u,u.declutterTree)},l.prototype.renderFrame=function(u,s){var h=u.pixelRatio,d=u.layerStatesArray[u.layerIndex];Det(this.pixelTransform,1/h,1/h),jet(this.inversePixelTransform,this.pixelTransform);var v=Bet(this.pixelTransform);this.useContainer(s,v,d.opacity,this.getBackground(u));var y=this.context,E=y.canvas,w=this.replayGroup_,M=this.declutterExecutorGroup;if((!w||w.isEmpty())&&(!M||M.isEmpty()))return null;var A=Math.round(u.size[0]*h),I=Math.round(u.size[1]*h);E.width!=A||E.height!=I?(E.width=A,E.height=I,E.style.transform!==v&&(E.style.transform=v)):this.containerReused||y.clearRect(0,0,A,I),this.preRender(y,u);var K=u.viewState,z=K.projection,X=!1,H=!0;if(d.extent&&this.clipping){var J=tA(d.extent,z);H=R0(J,u.extent),X=H&&!Uv(J,u.extent),X&&this.clipUnrotated(y,u,J)}H&&this.renderWorlds(w,u),X&&y.restore(),this.postRender(y,u);var nt=ytt(d.opacity),pt=this.container;return nt!==pt.style.opacity&&(pt.style.opacity=nt),this.renderedRotation_!==K.rotation&&(this.renderedRotation_=K.rotation,this.hitDetectionImageData_=null),this.container},l.prototype.getFeatures=function(u){return new Promise(function(s){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var h=[this.context.canvas.width,this.context.canvas.height];Ol(this.pixelTransform,h);var d=this.renderedCenter_,v=this.renderedResolution_,y=this.renderedRotation_,E=this.renderedProjection_,w=this.wrappedRenderedExtent_,M=this.getLayer(),A=[],I=h[0]*b0,K=h[1]*b0;A.push(this.getRenderTransform(d,v,y,b0,I,K,0).slice());var z=M.getSource(),X=E.getExtent();if(z.getWrapX()&&E.canWrapX()&&!Uv(X,w)){for(var H=w[0],J=sh(X),nt=0,pt=void 0;H<X[0];)--nt,pt=J*nt,A.push(this.getRenderTransform(d,v,y,b0,I,K,pt).slice()),H+=J;for(nt=0,H=w[2];H>X[2];)++nt,pt=J*nt,A.push(this.getRenderTransform(d,v,y,b0,I,K,pt).slice()),H-=J}this.hitDetectionImageData_=hrt(h,A,this.renderedFeatures_,M.getStyleFunction(),w,v,y)}s(frt(u,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},l.prototype.forEachFeatureAtCoordinate=function(u,s,h,d,v){var y=this;if(!!this.replayGroup_){var E=s.viewState.resolution,w=s.viewState.rotation,M=this.getLayer(),A={},I=function(X,H,J){var nt=Vs(X),pt=A[nt];if(pt){if(pt!==!0&&J<pt.distanceSq){if(J===0)return A[nt]=!0,v.splice(v.lastIndexOf(pt),1),d(X,M,H);pt.geometry=H,pt.distanceSq=J}}else{if(J===0)return A[nt]=!0,d(X,M,H);v.push(A[nt]={feature:X,layer:M,geometry:H,distanceSq:J,callback:d})}},K,z=[this.replayGroup_];return this.declutterExecutorGroup&&z.push(this.declutterExecutorGroup),z.some(function(X){return K=X.forEachFeatureAtCoordinate(u,E,w,h,I,X===y.declutterExecutorGroup&&s.declutterTree?s.declutterTree.all().map(function(H){return H.value}):null)}),K}},l.prototype.handleFontsChanged=function(){var u=this.getLayer();u.getVisible()&&this.replayGroup_&&u.changed()},l.prototype.handleStyleImageChange_=function(u){this.renderIfReadyAndVisible()},l.prototype.prepareFrame=function(u){var s=this.getLayer(),h=s.getSource();if(!h)return!1;var d=u.viewHints[Yy.ANIMATING],v=u.viewHints[Yy.INTERACTING],y=s.getUpdateWhileAnimating(),E=s.getUpdateWhileInteracting();if(!this.dirty_&&!y&&d||!E&&v)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var w=u.extent,M=u.viewState,A=M.projection,I=M.resolution,K=u.pixelRatio,z=s.getRevision(),X=s.getRenderBuffer(),H=s.getRenderOrder();H===void 0&&(H=prt);var J=M.center.slice(),nt=E8(w,X*I),pt=nt.slice(),it=[nt.slice()],N=A.getExtent();if(h.getWrapX()&&A.canWrapX()&&!Uv(N,u.extent)){var _t=sh(N),Rt=Math.max(sh(nt)/2,_t);nt[0]=N[0]-Rt,nt[2]=N[2]+Rt,RQ(J,A);var Bt=AQ(it[0],A);Bt[0]<N[0]&&Bt[2]<N[2]?it.push([Bt[0]+_t,Bt[1],Bt[2]+_t,Bt[3]]):Bt[0]>N[0]&&Bt[2]>N[2]&&it.push([Bt[0]-_t,Bt[1],Bt[2]-_t,Bt[3]])}if(!this.dirty_&&this.renderedResolution_==I&&this.renderedRevision_==z&&this.renderedRenderOrder_==H&&Uv(this.wrappedRenderedExtent_,nt))return g1(this.renderedExtent_,pt)||(this.hitDetectionImageData_=null,this.renderedExtent_=pt),this.renderedCenter_=J,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var St=new lx(T6(I,K),nt,I,K),Xt;this.getLayer().getDeclutter()&&(Xt=new lx(T6(I,K),nt,I,K));var It=QO(),Dt;if(It){for(var Jt=0,le=it.length;Jt<le;++Jt){var Ve=it[Jt],gt=y6(Ve,A);h.loadFeatures(gt,eA(I,A),It)}Dt=v1(It,A)}else for(var Jt=0,le=it.length;Jt<le;++Jt)h.loadFeatures(it[Jt],I,A);var Yt=vrt(I,K),oe=function(Pr){var Kr,pe=Pr.getStyleFunction()||s.getStyleFunction();if(pe&&(Kr=pe(Pr,I)),Kr){var Qe=this.renderFeature(Pr,Yt,Kr,St,Dt,Xt);this.dirty_=this.dirty_||Qe}}.bind(this),nr=y6(nt,A),ir=h.getFeaturesInExtent(nr);H&&ir.sort(H);for(var Jt=0,le=ir.length;Jt<le;++Jt)oe(ir[Jt]);this.renderedFeatures_=ir;var Ke=St.finish(),Ge=new fx(nt,I,K,h.getOverlaps(),Ke,s.getRenderBuffer());return Xt&&(this.declutterExecutorGroup=new fx(nt,I,K,h.getOverlaps(),Xt.finish(),s.getRenderBuffer())),this.renderedResolution_=I,this.renderedRevision_=z,this.renderedRenderOrder_=H,this.renderedExtent_=pt,this.wrappedRenderedExtent_=nt,this.renderedCenter_=J,this.renderedProjection_=A,this.replayGroup_=Ge,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},l.prototype.renderFeature=function(u,s,h,d,v,y){if(!h)return!1;var E=!1;if(Array.isArray(h))for(var w=0,M=h.length;w<M;++w)E=vx(d,u,h[w],s,this.boundHandleStyleImageChange_,v,y)||E;else E=vx(d,u,h,s,this.boundHandleStyleImageChange_,v,y);return E},l}(Vet),Mrt=Art,Rrt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Crt=function(o){Rrt(l,o);function l(u){return o.call(this,u)||this}return l.prototype.createRenderer=function(){return new Mrt(this)},l}(aet),brt=Object.freeze(Object.defineProperty({__proto__:null,default:Crt},Symbol.toStringTag,{value:"Module"})),Lrt=i0(brt),Yp={ADD:"add",REMOVE:"remove"},TA=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),gx={LENGTH:"length"},Hy=function(o){TA(l,o);function l(u,s,h){var d=o.call(this,u)||this;return d.element=s,d.index=h,d}return l}(Pg),Irt=function(o){TA(l,o);function l(u,s){var h=o.call(this)||this;h.on,h.once,h.un;var d=s||{};if(h.unique_=!!d.unique,h.array_=u||[],h.unique_)for(var v=0,y=h.array_.length;v<y;++v)h.assertUnique_(h.array_[v],v);return h.updateLength_(),h}return l.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},l.prototype.extend=function(u){for(var s=0,h=u.length;s<h;++s)this.push(u[s]);return this},l.prototype.forEach=function(u){for(var s=this.array_,h=0,d=s.length;h<d;++h)u(s[h],h,s)},l.prototype.getArray=function(){return this.array_},l.prototype.item=function(u){return this.array_[u]},l.prototype.getLength=function(){return this.get(gx.LENGTH)},l.prototype.insertAt=function(u,s){this.unique_&&this.assertUnique_(s),this.array_.splice(u,0,s),this.updateLength_(),this.dispatchEvent(new Hy(Yp.ADD,s,u))},l.prototype.pop=function(){return this.removeAt(this.getLength()-1)},l.prototype.push=function(u){this.unique_&&this.assertUnique_(u);var s=this.getLength();return this.insertAt(s,u),this.getLength()},l.prototype.remove=function(u){for(var s=this.array_,h=0,d=s.length;h<d;++h)if(s[h]===u)return this.removeAt(h)},l.prototype.removeAt=function(u){var s=this.array_[u];return this.array_.splice(u,1),this.updateLength_(),this.dispatchEvent(new Hy(Yp.REMOVE,s,u)),s},l.prototype.setAt=function(u,s){var h=this.getLength();if(u<h){this.unique_&&this.assertUnique_(s,u);var d=this.array_[u];this.array_[u]=s,this.dispatchEvent(new Hy(Yp.REMOVE,d,u)),this.dispatchEvent(new Hy(Yp.ADD,s,u))}else{for(var v=h;v<u;++v)this.insertAt(v,void 0);this.insertAt(u,s)}},l.prototype.updateLength_=function(){this.set(gx.LENGTH,this.array_.length)},l.prototype.assertUnique_=function(u,s){for(var h=0,d=this.array_.length;h<d;++h)if(this.array_[h]===u&&h!==s)throw new kO(58)},l}(Cd),Prt=Irt,Nrt=function(){function o(l){this.rbush_=new _A(l),this.items_={}}return o.prototype.insert=function(l,u){var s={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:u};this.rbush_.insert(s),this.items_[Vs(u)]=s},o.prototype.load=function(l,u){for(var s=new Array(u.length),h=0,d=u.length;h<d;h++){var v=l[h],y=u[h],E={minX:v[0],minY:v[1],maxX:v[2],maxY:v[3],value:y};s[h]=E,this.items_[Vs(y)]=E}this.rbush_.load(s)},o.prototype.remove=function(l){var u=Vs(l),s=this.items_[u];return delete this.items_[u],this.rbush_.remove(s)!==null},o.prototype.update=function(l,u){var s=this.items_[Vs(u)],h=[s.minX,s.minY,s.maxX,s.maxY];YO(h,l)||(this.remove(u),this.insert(l,u))},o.prototype.getAll=function(){var l=this.rbush_.all();return l.map(function(u){return u.value})},o.prototype.getInExtent=function(l){var u={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3]},s=this.rbush_.search(u);return s.map(function(h){return h.value})},o.prototype.forEach=function(l){return this.forEach_(this.getAll(),l)},o.prototype.forEachInExtent=function(l,u){return this.forEach_(this.getInExtent(l),u)},o.prototype.forEach_=function(l,u){for(var s,h=0,d=l.length;h<d;h++)if(s=u(l[h]),s)return s;return s},o.prototype.isEmpty=function(){return cg(this.items_)},o.prototype.clear=function(){this.rbush_.clear(),this.items_={}},o.prototype.getExtent=function(l){var u=this.rbush_.toJSON();return c1(u.minX,u.minY,u.maxX,u.maxY,l)},o.prototype.concat=function(l){this.rbush_.load(l.rbush_.all());for(var u in l.items_)this.items_[u]=l.items_[u]},o}(),yx=Nrt,Frt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Drt=function(o){Frt(l,o);function l(u){var s=o.call(this)||this;s.projection=xu(u.projection),s.attributions_=mx(u.attributions),s.attributionsCollapsible_=u.attributionsCollapsible!==void 0?u.attributionsCollapsible:!0,s.loading=!1,s.state_=u.state!==void 0?u.state:$m.READY,s.wrapX_=u.wrapX!==void 0?u.wrapX:!1,s.interpolate_=!!u.interpolate,s.viewResolver=null,s.viewRejector=null;var h=s;return s.viewPromise_=new Promise(function(d,v){h.viewResolver=d,h.viewRejector=v}),s}return l.prototype.getAttributions=function(){return this.attributions_},l.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},l.prototype.getProjection=function(){return this.projection},l.prototype.getResolutions=function(){return ko()},l.prototype.getView=function(){return this.viewPromise_},l.prototype.getState=function(){return this.state_},l.prototype.getWrapX=function(){return this.wrapX_},l.prototype.getInterpolate=function(){return this.interpolate_},l.prototype.refresh=function(){this.changed()},l.prototype.setAttributions=function(u){this.attributions_=mx(u),this.changed()},l.prototype.setState=function(u){this.state_=u,this.changed()},l}(Cd);function mx(o){return o?Array.isArray(o)?function(l){return o}:typeof o=="function"?o:function(l){return[o]}:null}var jrt=Drt,Qc={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Grt(o,l){return[[-1/0,-1/0,1/0,1/0]]}var Fv={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Brt=!1;function Urt(o,l,u,s,h,d,v){var y=new XMLHttpRequest;y.open("GET",typeof o=="function"?o(u,s,h):o,!0),l.getType()==Fv.ARRAY_BUFFER&&(y.responseType="arraybuffer"),y.withCredentials=Brt,y.onload=function(E){if(!y.status||y.status>=200&&y.status<300){var w=l.getType(),M=void 0;w==Fv.JSON||w==Fv.TEXT?M=y.responseText:w==Fv.XML?(M=y.responseXML,M||(M=new DOMParser().parseFromString(y.responseText,"application/xml"))):w==Fv.ARRAY_BUFFER&&(M=y.response),M?d(l.readFeatures(M,{extent:u,featureProjection:h}),l.readProjection(M)):v()}else v()},y.onerror=v,y.send()}function _x(o,l){return function(u,s,h,d,v){var y=this;Urt(o,l,u,s,h,function(E,w){y.addFeatures(E),d!==void 0&&d(E)},v||dg)}}var OA=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),nh=function(o){OA(l,o);function l(u,s,h){var d=o.call(this,u)||this;return d.feature=s,d.features=h,d}return l}(Pg),krt=function(o){OA(l,o);function l(u){var s=this,h=u||{};s=o.call(this,{attributions:h.attributions,interpolate:!0,projection:void 0,state:$m.READY,wrapX:h.wrapX!==void 0?h.wrapX:!0})||this,s.on,s.once,s.un,s.loader_=dg,s.format_=h.format,s.overlaps_=h.overlaps===void 0?!0:h.overlaps,s.url_=h.url,h.loader!==void 0?s.loader_=h.loader:s.url_!==void 0&&(Ju(s.format_,7),s.loader_=_x(s.url_,s.format_)),s.strategy_=h.strategy!==void 0?h.strategy:Grt;var d=h.useSpatialIndex!==void 0?h.useSpatialIndex:!0;s.featuresRtree_=d?new yx:null,s.loadedExtentsRtree_=new yx,s.loadingExtentsCount_=0,s.nullGeometryFeatures_={},s.idIndex_={},s.uidIndex_={},s.featureChangeKeys_={},s.featuresCollection_=null;var v,y;return Array.isArray(h.features)?y=h.features:h.features&&(v=h.features,y=v.getArray()),!d&&v===void 0&&(v=new Prt(y)),y!==void 0&&s.addFeaturesInternal(y),v!==void 0&&s.bindFeaturesCollection_(v),s}return l.prototype.addFeature=function(u){this.addFeatureInternal(u),this.changed()},l.prototype.addFeatureInternal=function(u){var s=Vs(u);if(!this.addToIndex_(s,u)){this.featuresCollection_&&this.featuresCollection_.remove(u);return}this.setupChangeEvents_(s,u);var h=u.getGeometry();if(h){var d=h.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(d,u)}else this.nullGeometryFeatures_[s]=u;this.dispatchEvent(new nh(Qc.ADDFEATURE,u))},l.prototype.setupChangeEvents_=function(u,s){this.featureChangeKeys_[u]=[j0(s,Mc.CHANGE,this.handleFeatureChange_,this),j0(s,iA.PROPERTYCHANGE,this.handleFeatureChange_,this)]},l.prototype.addToIndex_=function(u,s){var h=!0,d=s.getId();return d!==void 0&&(d.toString()in this.idIndex_?h=!1:this.idIndex_[d.toString()]=s),h&&(Ju(!(u in this.uidIndex_),30),this.uidIndex_[u]=s),h},l.prototype.addFeatures=function(u){this.addFeaturesInternal(u),this.changed()},l.prototype.addFeaturesInternal=function(u){for(var s=[],h=[],d=[],v=0,y=u.length;v<y;v++){var E=u[v],w=Vs(E);this.addToIndex_(w,E)&&h.push(E)}for(var v=0,M=h.length;v<M;v++){var E=h[v],w=Vs(E);this.setupChangeEvents_(w,E);var A=E.getGeometry();if(A){var I=A.getExtent();s.push(I),d.push(E)}else this.nullGeometryFeatures_[w]=E}if(this.featuresRtree_&&this.featuresRtree_.load(s,d),this.hasListener(Qc.ADDFEATURE))for(var v=0,K=h.length;v<K;v++)this.dispatchEvent(new nh(Qc.ADDFEATURE,h[v]))},l.prototype.bindFeaturesCollection_=function(u){var s=!1;this.addEventListener(Qc.ADDFEATURE,function(h){s||(s=!0,u.push(h.feature),s=!1)}),this.addEventListener(Qc.REMOVEFEATURE,function(h){s||(s=!0,u.remove(h.feature),s=!1)}),u.addEventListener(Yp.ADD,function(h){s||(s=!0,this.addFeature(h.element),s=!1)}.bind(this)),u.addEventListener(Yp.REMOVE,function(h){s||(s=!0,this.removeFeature(h.element),s=!1)}.bind(this)),this.featuresCollection_=u},l.prototype.clear=function(u){if(u){for(var s in this.featureChangeKeys_){var h=this.featureChangeKeys_[s];h.forEach(G0)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var d=function(E){this.removeFeatureInternal(E)}.bind(this);this.featuresRtree_.forEach(d);for(var v in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[v])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var y=new nh(Qc.CLEAR);this.dispatchEvent(y),this.changed()},l.prototype.forEachFeature=function(u){if(this.featuresRtree_)return this.featuresRtree_.forEach(u);this.featuresCollection_&&this.featuresCollection_.forEach(u)},l.prototype.forEachFeatureAtCoordinateDirect=function(u,s){var h=[u[0],u[1],u[0],u[1]];return this.forEachFeatureInExtent(h,function(d){var v=d.getGeometry();if(v.intersectsCoordinate(u))return s(d)})},l.prototype.forEachFeatureInExtent=function(u,s){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(u,s);this.featuresCollection_&&this.featuresCollection_.forEach(s)},l.prototype.forEachFeatureIntersectingExtent=function(u,s){return this.forEachFeatureInExtent(u,function(h){var d=h.getGeometry();if(d.intersectsExtent(u)){var v=s(h);if(v)return v}})},l.prototype.getFeaturesCollection=function(){return this.featuresCollection_},l.prototype.getFeatures=function(){var u;return this.featuresCollection_?u=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(u=this.featuresRtree_.getAll(),cg(this.nullGeometryFeatures_)||$Q(u,oQ(this.nullGeometryFeatures_))),u},l.prototype.getFeaturesAtCoordinate=function(u){var s=[];return this.forEachFeatureAtCoordinateDirect(u,function(h){s.push(h)}),s},l.prototype.getFeaturesInExtent=function(u){return this.featuresRtree_?this.featuresRtree_.getInExtent(u):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},l.prototype.getClosestFeatureToCoordinate=function(u,s){var h=u[0],d=u[1],v=null,y=[NaN,NaN],E=1/0,w=[-1/0,-1/0,1/0,1/0],M=s||ZQ;return this.featuresRtree_.forEachInExtent(w,function(A){if(M(A)){var I=A.getGeometry(),K=E;if(E=I.closestPointXY(h,d,y,E),E<K){v=A;var z=Math.sqrt(E);w[0]=h-z,w[1]=d-z,w[2]=h+z,w[3]=d+z}}}),v},l.prototype.getExtent=function(u){return this.featuresRtree_.getExtent(u)},l.prototype.getFeatureById=function(u){var s=this.idIndex_[u.toString()];return s!==void 0?s:null},l.prototype.getFeatureByUid=function(u){var s=this.uidIndex_[u];return s!==void 0?s:null},l.prototype.getFormat=function(){return this.format_},l.prototype.getOverlaps=function(){return this.overlaps_},l.prototype.getUrl=function(){return this.url_},l.prototype.handleFeatureChange_=function(u){var s=u.target,h=Vs(s),d=s.getGeometry();if(!d)h in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(s),this.nullGeometryFeatures_[h]=s);else{var v=d.getExtent();h in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[h],this.featuresRtree_&&this.featuresRtree_.insert(v,s)):this.featuresRtree_&&this.featuresRtree_.update(v,s)}var y=s.getId();if(y!==void 0){var E=y.toString();this.idIndex_[E]!==s&&(this.removeFromIdIndex_(s),this.idIndex_[E]=s)}else this.removeFromIdIndex_(s),this.uidIndex_[h]=s;this.changed(),this.dispatchEvent(new nh(Qc.CHANGEFEATURE,s))},l.prototype.hasFeature=function(u){var s=u.getId();return s!==void 0?s in this.idIndex_:Vs(u)in this.uidIndex_},l.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&cg(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},l.prototype.loadFeatures=function(u,s,h){for(var d=this.loadedExtentsRtree_,v=this.strategy_(u,s,h),y=function(A,I){var K=v[A],z=d.forEachInExtent(K,function(X){return Uv(X.extent,K)});z||(++E.loadingExtentsCount_,E.dispatchEvent(new nh(Qc.FEATURESLOADSTART)),E.loader_.call(E,K,s,h,function(X){--this.loadingExtentsCount_,this.dispatchEvent(new nh(Qc.FEATURESLOADEND,void 0,X))}.bind(E),function(){--this.loadingExtentsCount_,this.dispatchEvent(new nh(Qc.FEATURESLOADERROR))}.bind(E)),d.insert(K,{extent:K.slice()}))},E=this,w=0,M=v.length;w<M;++w)y(w);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},l.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),o.prototype.refresh.call(this)},l.prototype.removeLoadedExtent=function(u){var s=this.loadedExtentsRtree_,h;s.forEachInExtent(u,function(d){if(YO(d.extent,u))return h=d,!0}),h&&s.remove(h)},l.prototype.removeFeature=function(u){if(!!u){var s=Vs(u);s in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[s]:this.featuresRtree_&&this.featuresRtree_.remove(u);var h=this.removeFeatureInternal(u);h&&this.changed()}},l.prototype.removeFeatureInternal=function(u){var s=Vs(u),h=this.featureChangeKeys_[s];if(!!h){h.forEach(G0),delete this.featureChangeKeys_[s];var d=u.getId();return d!==void 0&&delete this.idIndex_[d.toString()],delete this.uidIndex_[s],this.dispatchEvent(new nh(Qc.REMOVEFEATURE,u)),u}},l.prototype.removeFromIdIndex_=function(u){var s=!1;for(var h in this.idIndex_)if(this.idIndex_[h]===u){delete this.idIndex_[h],s=!0;break}return s},l.prototype.setLoader=function(u){this.loader_=u},l.prototype.setUrl=function(u){Ju(this.format_,7),this.url_=u,this.setLoader(_x(u,this.format_))},l}(jrt),zrt=Object.freeze(Object.defineProperty({__proto__:null,VectorSourceEvent:nh,default:krt},Symbol.toStringTag,{value:"Module"})),Vrt=i0(zrt);function Wrt(o,l,u,s){for(var h=0,d=u.length;h<d;++h)o[l++]=u[h];return l}var Yrt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Hrt=function(o){Yrt(l,o);function l(u,s){var h=o.call(this)||this;return h.setCoordinates(u,s),h}return l.prototype.clone=function(){var u=new l(this.flatCoordinates.slice(),this.layout);return u.applyProperties(this),u},l.prototype.closestPointXY=function(u,s,h,d){var v=this.flatCoordinates,y=HJ(u,s,v[0],v[1]);if(y<d){for(var E=this.stride,w=0;w<E;++w)h[w]=v[w];return h.length=E,y}else return d},l.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},l.prototype.computeExtent=function(u){return vQ(this.flatCoordinates,u)},l.prototype.getType=function(){return ui.POINT},l.prototype.intersectsExtent=function(u){return VO(u,this.flatCoordinates[0],this.flatCoordinates[1])},l.prototype.setCoordinates=function(u,s){this.setLayout(s,u,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Wrt(this.flatCoordinates,0,u,this.stride),this.changed()},l}(srt),Xrt=Object.freeze(Object.defineProperty({__proto__:null,default:Hrt},Symbol.toStringTag,{value:"Module"})),Krt=i0(Xrt),$rt=globalThis&&globalThis.__extends||function(){var o=function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(s[d]=h[d])},o(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function s(){this.constructor=l}l.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}(),Zrt=function(o){$rt(l,o);function l(u){var s=o.call(this)||this;if(s.on,s.once,s.un,s.id_=void 0,s.geometryName_="geometry",s.style_=null,s.styleFunction_=void 0,s.geometryChangeKey_=null,s.addChangeListener(s.geometryName_,s.handleGeometryChanged_),u)if(typeof u.getSimplifiedGeometry=="function"){var h=u;s.setGeometry(h)}else{var d=u;s.setProperties(d)}return s}return l.prototype.clone=function(){var u=new l(this.hasProperties()?this.getProperties():null);u.setGeometryName(this.getGeometryName());var s=this.getGeometry();s&&u.setGeometry(s.clone());var h=this.getStyle();return h&&u.setStyle(h),u},l.prototype.getGeometry=function(){return this.get(this.geometryName_)},l.prototype.getId=function(){return this.id_},l.prototype.getGeometryName=function(){return this.geometryName_},l.prototype.getStyle=function(){return this.style_},l.prototype.getStyleFunction=function(){return this.styleFunction_},l.prototype.handleGeometryChange_=function(){this.changed()},l.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(G0(this.geometryChangeKey_),this.geometryChangeKey_=null);var u=this.getGeometry();u&&(this.geometryChangeKey_=j0(u,Mc.CHANGE,this.handleGeometryChange_,this)),this.changed()},l.prototype.setGeometry=function(u){this.set(this.geometryName_,u)},l.prototype.setStyle=function(u){this.style_=u,this.styleFunction_=u?AA(u):void 0,this.changed()},l.prototype.setId=function(u){this.id_=u,this.changed()},l.prototype.setGeometryName=function(u){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=u,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},l}(Cd);function AA(o){if(typeof o=="function")return o;var l;if(Array.isArray(o))l=o;else{Ju(typeof o.getZIndex=="function",41);var u=o;l=[u]}return function(){return l}}var qrt=Object.freeze(Object.defineProperty({__proto__:null,createStyleFunction:AA,default:Zrt},Symbol.toStringTag,{value:"Module"})),Jrt=i0(qrt),Qrt=i0(WQ);/*!
 * ol-geocoder - v4.1.2
 * A geocoder extension for OpenLayers.
 * https://github.com/jonataswalker/ol-geocoder
 * Built: Wed Jan 20 2021 10:05:05 GMT-0300 (Brasilia Standard Time)
 */(function(o,l){(function(u,s){o.exports=s(utt,Ptt,Wtt,Lrt,Vrt,Krt,Jrt,Qrt)})(rq,function(u,s,h,d,v,y,E,w){function M(j){return j&&typeof j=="object"&&"default"in j?j:{default:j}}var A=M(u),I=M(s),K=M(h),z=M(d),X=M(v),H=M(y),J=M(E),nt=M(w),pt="gcd-container",it="gcd-button-control",N="gcd-input-query",_t="gcd-input-reset",Rt={namespace:"ol-geocoder",spin:"gcd-pseudo-rotate",hidden:"gcd-hidden",address:"gcd-address",country:"gcd-country",city:"gcd-city",road:"gcd-road",olControl:"ol-control",glass:{container:"gcd-gl-container",control:"gcd-gl-control",button:"gcd-gl-btn",input:"gcd-gl-input",expanded:"gcd-gl-expanded",reset:"gcd-gl-reset",result:"gcd-gl-result"},inputText:{container:"gcd-txt-container",control:"gcd-txt-control",input:"gcd-txt-input",reset:"gcd-txt-reset",icon:"gcd-txt-glass",result:"gcd-txt-result"}},Bt={containerId:pt,buttonControlId:it,inputQueryId:N,inputResetId:_t,cssClasses:Rt},St=Object.freeze({__proto__:null,containerId:pt,buttonControlId:it,inputQueryId:N,inputResetId:_t,cssClasses:Rt,default:Bt}),Xt="addresschosen",It="nominatim",Dt="reverse",Jt="glass-button",le="text-input",Ve="osm",gt="mapquest",Yt="photon",oe="bing",nr="opencage",ir={provider:Ve,placeholder:"Search for an address",featureStyle:null,targetType:Jt,lang:"en-US",limit:5,keepOpen:!1,preventDefault:!1,autoComplete:!1,autoCompleteMinLength:2,autoCompleteTimeout:200,debug:!1};function Ke(j,W){if(W===void 0&&(W="Assertion failed"),!j)throw typeof Error!="undefined"?new Error(W):W}function Ge(j){var W=function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){var st=Date.now();performance.timing&&performance.timing.navigationStart&&(st=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-st}}return window.performance.now()}().toString(36);return j?j+W:W}function Pr(j){return/^[0-9]+$/.test(j)}function Kr(j,W,st){if(Array.isArray(j))j.forEach(function(Le){return Kr(Le,W)});else for(var $t=Array.isArray(W)?W:W.split(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/),Ee=$t.length;Ee--;)Qe(j,$t[Ee])||Br(j,$t[Ee],st)}function pe(j,W,st){if(Array.isArray(j))j.forEach(function(Le){return pe(Le,W,st)});else for(var $t=Array.isArray(W)?W:W.split(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/),Ee=$t.length;Ee--;)Qe(j,$t[Ee])&&Vt(j,$t[Ee],st)}function Qe(j,W){return j.classList?j.classList.contains(W):Pn(W).test(j.className)}function Er(j,W){return j.replace(/\{[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([\x2D0-9A-Z_a-z]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\}/g,function(st,$t){var Ee=W[$t]===void 0?"":W[$t];return String(Ee).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")})}function Nr(j,W){var st;if(Array.isArray(j)){if(st=document.createElement(j[0]),j[1].id&&(st.id=j[1].id),j[1].classname&&(st.className=j[1].classname),j[1].attr){var $t=j[1].attr;if(Array.isArray($t))for(var Ee=-1;++Ee<$t.length;)st.setAttribute($t[Ee].name,$t[Ee].value);else st.setAttribute($t.name,$t.value)}}else st=document.createElement(j);st.innerHTML=W;for(var Le=document.createDocumentFragment();st.childNodes[0];)Le.append(st.childNodes[0]);return st.append(Le),st}function Pn(j){return new RegExp("(^|\\s+) "+j+" (\\s+|$)","u")}function Br(j,W,st){j.classList?j.classList.add(W):j.className=(j.className+" "+W).trim(),st&&Pr(st)&&window.setTimeout(function(){return Vt(j,W)},st)}function Vt(j,W,st){j.classList?j.classList.remove(W):j.className=j.className.replace(Pn(W)," ").trim(),st&&Pr(st)&&window.setTimeout(function(){return Br(j,W)},st)}var Qt=St.cssClasses,At=function(j){this.options=j.options,this.els=this.createControl()};At.prototype.createControl=function(){var j,W,st;return this.options.targetType===le?(W=Qt.namespace+" "+Qt.inputText.container,st={container:j=Nr(["div",{id:St.containerId,classname:W}],At.input),control:j.querySelector("."+Qt.inputText.control),input:j.querySelector("."+Qt.inputText.input),reset:j.querySelector("."+Qt.inputText.reset),result:j.querySelector("."+Qt.inputText.result)}):(W=Qt.namespace+" "+Qt.glass.container,st={container:j=Nr(["div",{id:St.containerId,classname:W}],At.glass),control:j.querySelector("."+Qt.glass.control),button:j.querySelector("."+Qt.glass.button),input:j.querySelector("."+Qt.glass.input),reset:j.querySelector("."+Qt.glass.reset),result:j.querySelector("."+Qt.glass.result)}),st.input.placeholder=this.options.placeholder,st},At.glass=`
  <div class="`+Qt.glass.control+" "+Qt.olControl+`">
    <button type="button" id="`+St.buttonControlId+'" class="'+Qt.glass.button+`"></button>
    <input type="text" id="`+St.inputQueryId+'" class="'+Qt.glass.input+`" autocomplete="off" placeholder="Search ...">
    <a id="`+St.inputResetId+'" class="'+Qt.glass.reset+" "+Qt.hidden+`"></a>
  </div>
  <ul class="`+Qt.glass.result+`"></ul>
`,At.input=`
  <div class="`+Qt.inputText.control+`">
    <input type="text" id="`+St.inputQueryId+'" class="'+Qt.inputText.input+`" autocomplete="off" placeholder="Search ...">
    <span class="`+Qt.inputText.icon+`"></span>
    <button type="button" id="`+St.inputResetId+'" class="'+Qt.inputText.reset+" "+Qt.hidden+`"></button>
  </div>
  <ul class="`+Qt.inputText.result+`"></ul>
`;var ht=function(){this.settings={url:"https://photon.komoot.io/api/",params:{q:"",limit:10,lang:"en"},langs:["de","it","fr","en"]}};ht.prototype.getParameters=function(j){return j.lang=j.lang.toLowerCase(),{url:this.settings.url,params:{q:j.query,limit:j.limit||this.settings.params.limit,lang:this.settings.langs.includes(j.lang)?j.lang:this.settings.params.lang}}},ht.prototype.handleResponse=function(j){return j.features.length===0?[]:j.features.map(function(W){return{lon:W.geometry.coordinates[0],lat:W.geometry.coordinates[1],address:{name:W.properties.name,postcode:W.properties.postcode,city:W.properties.city,state:W.properties.state,country:W.properties.country},original:{formatted:W.properties.name,details:W.properties}}})};var Ct=function(){this.settings={url:"https://nominatim.openstreetmap.org/search/",params:{q:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}};Ct.prototype.getParameters=function(j){return{url:this.settings.url,params:{q:j.query,format:this.settings.params.format,addressdetails:this.settings.params.addressdetails,limit:j.limit||this.settings.params.limit,countrycodes:j.countrycodes||this.settings.params.countrycodes,"accept-language":j.lang||this.settings.params["accept-language"]}}},Ct.prototype.handleResponse=function(j){return j.length===0?[]:j.map(function(W){return{lon:W.lon,lat:W.lat,bbox:W.boundingbox,address:{name:W.display_name,road:W.address.road||"",houseNumber:W.address.house_number||"",postcode:W.address.postcode,city:W.address.city||W.address.town,state:W.address.state,country:W.address.country},original:{formatted:W.display_name,details:W.address}}})};var te=function(){this.settings={url:"https://open.mapquestapi.com/nominatim/v1/search.php",params:{q:"",key:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}};te.prototype.getParameters=function(j){return{url:this.settings.url,params:{q:j.query,key:j.key,format:"json",addressdetails:1,limit:j.limit||this.settings.params.limit,countrycodes:j.countrycodes||this.settings.params.countrycodes,"accept-language":j.lang||this.settings.params["accept-language"]}}},te.prototype.handleResponse=function(j){return j.length===0?[]:j.map(function(W){return{lon:W.lon,lat:W.lat,address:{name:W.address.neighbourhood||"",road:W.address.road||"",postcode:W.address.postcode,city:W.address.city||W.address.town,state:W.address.state,country:W.address.country},original:{formatted:W.display_name,details:W.address}}})};var qt=function(){this.settings={url:"https://dev.virtualearth.net/REST/v1/Locations",callbackName:"jsonp",params:{query:"",key:"",includeNeighborhood:0,maxResults:10}}};qt.prototype.getParameters=function(j){return{url:this.settings.url,callbackName:this.settings.callbackName,params:{query:j.query,key:j.key,includeNeighborhood:j.includeNeighborhood||this.settings.params.includeNeighborhood,maxResults:j.maxResults||this.settings.params.maxResults}}},qt.prototype.handleResponse=function(j){var W=j.resourceSets[0].resources;return W.length===0?[]:W.map(function(st){return{lon:st.point.coordinates[1],lat:st.point.coordinates[0],address:{name:st.name},original:{formatted:st.address.formattedAddress,details:st.address}}})};var fe=function(){this.settings={url:"https://api.opencagedata.com/geocode/v1/json?",params:{q:"",key:"",limit:10,countrycode:"",pretty:1,no_annotations:1}}};function Pe(j){return new Promise(function(W,st){var $t=function(Ee,Le){return Le&&typeof Le=="object"&&(Ee+=(/\?/.test(Ee)?"&":"?")+Be(Le)),Ee}(j.url,j.data);j.jsonp?function(Ee,Le,Ar){var Gr=document.head,zr=document.createElement("script"),sn="f"+Math.round(Math.random()*Date.now());zr.setAttribute("src",Ee+(Ee.indexOf("?")>0?"&":"?")+Le+"="+sn),window[sn]=function(Nn){window[sn]=void 0,setTimeout(function(){return Gr.removeChild(zr)},0),Ar(Nn)},Gr.append(zr)}($t,j.callbackName,W):fetch($t,{method:"GET",mode:"cors",credentials:"same-origin"}).then(function(Ee){return Ee.json()}).then(W).catch(st)})}function Be(j){return Object.keys(j).reduce(function(W,st){return W.push(typeof j[st]=="object"?Be(j[st]):encodeURIComponent(st)+"="+encodeURIComponent(j[st])),W},[]).join("&")}fe.prototype.getParameters=function(j){return{url:this.settings.url,params:{q:j.query,key:j.key,limit:j.limit||this.settings.params.limit,countrycode:j.countrycodes||this.settings.params.countrycodes}}},fe.prototype.handleResponse=function(j){return j.results.length===0?[]:j.results.map(function(W){return{lon:W.geometry.lng,lat:W.geometry.lat,address:{name:W.components.house_number||"",road:W.components.road||"",postcode:W.components.postcode,city:W.components.city||W.components.town,state:W.components.state,country:W.components.country},original:{formatted:W.formatted,details:W.components}}})};var ue=St.cssClasses,ft=function(j,W){this.Base=j,this.layerName=Ge("geocoder-layer-"),this.layer=new z.default({name:this.layerName,source:new X.default}),this.options=j.options,this.options.provider=typeof this.options.provider=="string"?this.options.provider.toLowerCase():this.options.provider,this.provider=this.newProvider(),this.els=W,this.lastQuery="",this.container=this.els.container,this.registeredListeners={mapClick:!1},this.setListeners()};return ft.prototype.setListeners=function(){var j,W,st=this;this.els.input.addEventListener("keypress",function($t){var Ee=$t.target.value.trim();($t.key?$t.key==="Enter":$t.which?$t.which===13:!!$t.keyCode&&$t.keyCode===13)&&($t.preventDefault(),st.query(Ee))},!1),this.els.input.addEventListener("click",function($t){return $t.stopPropagation()},!1),this.els.input.addEventListener("input",function($t){var Ee=$t.target.value.trim();Ee.length!==0?pe(st.els.reset,ue.hidden):Kr(st.els.reset,ue.hidden),st.options.autoComplete&&Ee!==W&&(W=Ee,j&&clearTimeout(j),j=setTimeout(function(){Ee.length>=st.options.autoCompleteMinLength&&st.query(Ee)},st.options.autoCompleteTimeout))},!1),this.els.reset.addEventListener("click",function($t){st.els.input.focus(),st.els.input.value="",st.lastQuery="",Kr(st.els.reset,ue.hidden),st.clearResults()},!1),this.options.targetType===Jt&&this.els.button.addEventListener("click",function($t){$t.stopPropagation(),Qe(st.els.control,ue.glass.expanded)?st.collapse():st.expand()},!1)},ft.prototype.query=function(j){var W=this;this.provider||(this.provider=this.newProvider());var st=this.provider.getParameters({query:j,key:this.options.key,lang:this.options.lang,countrycodes:this.options.countrycodes,limit:this.options.limit});if(this.lastQuery!==j||!this.els.result.firstChild){this.lastQuery=j,this.clearResults(),Kr(this.els.reset,ue.spin);var $t={url:st.url,data:st.params};st.callbackName&&($t.jsonp=!0,$t.callbackName=st.callbackName),Pe($t).then(function(Ee){W.options.debug&&console.info(Ee),pe(W.els.reset,ue.spin);var Le=W.provider.handleResponse(Ee);Le&&(W.createList(Le),W.listenMapClick())}).catch(function(Ee){pe(W.els.reset,ue.spin);var Le=Nr("li","<h5>Error! No internet connection?</h5>");W.els.result.append(Le)})}},ft.prototype.createList=function(j){var W=this,st=this.els.result;j.forEach(function($t){var Ee;switch(W.options.provider){case Ve:Ee='<span class="'+ue.road+'">'+$t.address.name+"</span>";break;default:Ee=W.addressTemplate($t.address)}var Le=Nr("li",'<a href="#">'+Ee+"</a>");Le.addEventListener("click",function(Ar){Ar.preventDefault(),W.chosen($t,Ee,$t.address,$t.original)},!1),st.append(Le)})},ft.prototype.chosen=function(j,W,st,$t){var Ee=this.Base.getMap(),Le=[Number.parseFloat(j.lon),Number.parseFloat(j.lat)],Ar=Ee.getView().getProjection(),Gr=nt.default.transform(Le,"EPSG:4326",Ar),zr=j.bbox;zr&&(zr=nt.default.transformExtent([zr[2],zr[1],zr[3],zr[0]],"EPSG:4326",Ar));var sn={formatted:W,details:st,original:$t};if(this.options.keepOpen===!1&&this.clearResults(!0),this.options.preventDefault===!0)this.Base.dispatchEvent({type:Xt,address:sn,coordinate:Gr,bbox:zr,place:j});else{zr?Ee.getView().fit(zr,{duration:500}):function(ci,ki,Fn,qn){Fn===void 0&&(Fn=500),qn===void 0&&(qn=2.388657133911758),ci.getView().animate({duration:Fn,resolution:qn},{duration:Fn,center:ki})}(Ee,Gr);var Nn=this.createFeature(Gr,sn);this.Base.dispatchEvent({type:Xt,address:sn,feature:Nn,coordinate:Gr,bbox:zr,place:j})}},ft.prototype.createFeature=function(j){var W=new J.default(new H.default(j));return this.addLayer(),W.setStyle(this.options.featureStyle),W.setId(Ge("geocoder-ft-")),this.getSource().addFeature(W),W},ft.prototype.addressTemplate=function(j){var W=[];return j.name&&W.push(['<span class="',ue.road,'">{name}</span>'].join("")),(j.road||j.building||j.house_number)&&W.push(['<span class="',ue.road,'">{building} {road} {house_number}</span>'].join("")),(j.city||j.town||j.village)&&W.push(['<span class="',ue.city,'">{postcode} {city} {town} {village}</span>'].join("")),(j.state||j.country)&&W.push(['<span class="',ue.country,'">{state} {country}</span>'].join("")),Er(W.join("<br>"),j)},ft.prototype.newProvider=function(){switch(this.options.provider){case Ve:return new Ct;case gt:return new te;case Yt:return new ht;case oe:return new qt;case nr:return new fe;default:return this.options.provider}},ft.prototype.expand=function(){var j=this;pe(this.els.input,ue.spin),Kr(this.els.control,ue.glass.expanded),window.setTimeout(function(){return j.els.input.focus()},100),this.listenMapClick()},ft.prototype.collapse=function(){this.els.input.value="",this.els.input.blur(),Kr(this.els.reset,ue.hidden),pe(this.els.control,ue.glass.expanded),this.clearResults()},ft.prototype.listenMapClick=function(){if(!this.registeredListeners.mapClick){var j=this,W=this.Base.getMap().getTargetElement();this.registeredListeners.mapClick=!0,W.addEventListener("click",{handleEvent:function(st){j.clearResults(!0),W.removeEventListener(st.type,this,!1),j.registeredListeners.mapClick=!1}},!1)}},ft.prototype.clearResults=function(j){j&&this.options.targetType===Jt?this.collapse():function(W){for(;W.firstChild;)W.firstChild.remove()}(this.els.result)},ft.prototype.getSource=function(){return this.layer.getSource()},ft.prototype.addLayer=function(){var j=this,W=!1,st=this.Base.getMap();st.getLayers().forEach(function($t){$t===j.layer&&(W=!0)}),W||st.addLayer(this.layer)},function(j){function W(st,$t){if(st===void 0&&(st=It),$t===void 0&&($t={}),!(this instanceof W))return new W;var Ee;Ke(typeof st=="string","@param `type` should be string!"),Ke(st===It||st===Dt,"@param 'type' should be '"+It+`'
      or '`+Dt+"'!"),Ke(typeof $t=="object","@param `options` should be object!"),ir.featureStyle=[new I.default({image:new K.default({scale:.7,src:"//cdn.rawgit.com/jonataswalker/map-utils/master/images/marker.png"})})],this.options=function(Ar,Gr){var zr={};for(var sn in Ar)Object.prototype.hasOwnProperty.call(Ar,sn)&&(zr[sn]=Ar[sn]);for(var Nn in Gr)Object.prototype.hasOwnProperty.call(Gr,Nn)&&(zr[Nn]=Gr[Nn]);return zr}(ir,$t),this.container=void 0;var Le=new At(this);st===It&&(this.container=Le.els.container,Ee=new ft(this,Le.els),this.layer=Ee.layer),j.call(this,{element:this.container})}return j&&(W.__proto__=j),W.prototype=Object.create(j&&j.prototype),W.prototype.constructor=W,W.prototype.getLayer=function(){return this.layer},W.prototype.getSource=function(){return this.getLayer().getSource()},W.prototype.setProvider=function(st){this.options.provider=st},W.prototype.setProviderKey=function(st){this.options.key=st},W}(A.default)})})(nA);var Ait=nA.exports;function Ex(o){return o.type.indexOf("mouse")!==-1?o.clientX:o.touches[0].clientX}function Sx(o){return o.type.indexOf("mouse")!==-1?o.clientY:o.touches[0].clientY}var tnt=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l)}catch{}return o}(),Mit={install:function(o,l){var u=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100},l);function s(X){var H=this.$$touchObj,J=X.type.indexOf("touch")>=0,nt=X.type.indexOf("mouse")>=0,pt=this;J&&(H.lastTouchStartTime=X.timeStamp),!(nt&&H.lastTouchStartTime&&X.timeStamp-H.lastTouchStartTime<350)&&(H.touchStarted||(A(this),H.touchStarted=!0,H.touchMoved=!1,H.swipeOutBounded=!1,H.startX=Ex(X),H.startY=Sx(X),H.currentX=0,H.currentY=0,H.touchStartTime=X.timeStamp,H.hasSwipe=w(this,"swipe")||w(this,"swipe.left")||w(this,"swipe.right")||w(this,"swipe.top")||w(this,"swipe.bottom"),w(this,"hold")&&(H.touchHoldTimer=setTimeout(function(){H.touchHoldTimer=null,M(X,pt,"hold")},H.options.touchHoldTolerance)),M(X,this,"press")))}function h(X){var H=this.$$touchObj,J=Ex(X),nt=Sx(X),pt=H.currentX!=J||H.currentY!=nt;if(H.currentX=J,H.currentY=nt,H.touchMoved){if(H.hasSwipe&&!H.swipeOutBounded){var N=H.options.swipeTolerance;H.swipeOutBounded=Math.abs(H.startX-H.currentX)>N&&Math.abs(H.startY-H.currentY)>N}}else{var it=H.options.tapTolerance;H.touchMoved=Math.abs(H.startX-H.currentX)>it||Math.abs(H.startY-H.currentY)>it,H.touchMoved&&(K(H),M(X,this,"drag.once"))}if(w(this,"rollover")&&pt){var _t=X.timeStamp,Rt=H.options.rollOverFrequency;(H.touchRollTime==null||_t>H.touchRollTime+Rt)&&(H.touchRollTime=_t,M(X,this,"rollover"))}if(w(this,"drag")&&H.touchStarted&&H.touchMoved&&pt){var _t=X.timeStamp,Rt=H.options.dragFrequency;(H.touchDragTime==null||_t>H.touchDragTime+Rt)&&(H.touchDragTime=_t,M(X,this,"drag"))}}function d(){var X=this.$$touchObj;K(X),I(this),X.touchStarted=X.touchMoved=!1,X.startX=X.startY=0}function v(X){var H=this.$$touchObj,J=X.type.indexOf("touch")>=0,nt=X.type.indexOf("mouse")>=0;J&&(H.lastTouchEndTime=X.timeStamp);var pt=J&&!H.touchHoldTimer;if(K(H),H.touchStarted=!1,I(this),!(nt&&H.lastTouchEndTime&&X.timeStamp-H.lastTouchEndTime<350))if(M(X,this,"release"),H.touchMoved){if(H.hasSwipe&&!H.swipeOutBounded){var it=H.options.swipeTolerance,N,_t=Math.abs(H.startY-H.currentY),Rt=Math.abs(H.startX-H.currentX);(_t>it||Rt>it)&&(_t>it?N=H.startY>H.currentY?"top":"bottom":N=H.startX>H.currentX?"left":"right",w(this,"swipe."+N)?M(X,this,"swipe."+N,N):M(X,this,"swipe",N))}}else if(w(this,"longtap")&&X.timeStamp-H.touchStartTime>H.options.longTapTimeInterval)X.cancelable&&X.preventDefault(),M(X,this,"longtap");else if(w(this,"hold")&&pt){X.cancelable&&X.preventDefault();return}else M(X,this,"tap")}function y(){A(this)}function E(){I(this)}function w(X,H){var J=X.$$touchObj.callbacks[H];return J!=null&&J.length>0}function M(X,H,J,nt){var pt=H.$$touchObj,it=pt.callbacks[J];if(it==null||it.length===0)return null;for(var N=0;N<it.length;N++){var _t=it[N];_t.modifiers.stop&&X.stopPropagation(),_t.modifiers.prevent&&X.preventDefault(),!(_t.modifiers.self&&X.target!==X.currentTarget)&&typeof _t.value=="function"&&(nt?_t.value(nt,X):_t.value(X))}}function A(X){var H=X.$$touchObj.options.touchClass;H&&X.classList.add(H)}function I(X){var H=X.$$touchObj.options.touchClass;H&&X.classList.remove(H)}function K(X){X.touchHoldTimer&&(clearTimeout(X.touchHoldTimer),X.touchHoldTimer=null)}function z(X,H){var J=X.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:u};return H&&(J.options=Object.assign({},J.options,H)),X.$$touchObj=J,X.$$touchObj}o.directive("touch",{beforeMount:function(X,H){var J=z(X),nt=tnt?{passive:!0}:!1,pt=H.arg||"tap";switch(pt){case"swipe":var it=H.modifiers;if(it.left||it.right||it.top||it.bottom){for(var N in H.modifiers)if(["left","right","top","bottom"].indexOf(N)>=0){var _t="swipe."+N;J.callbacks[_t]=J.callbacks[_t]||[],J.callbacks[_t].push(H)}}else J.callbacks.swipe=J.callbacks.swipe||[],J.callbacks.swipe.push(H);break;case"press":case"drag":H.modifiers.disablePassive&&(nt=!1);default:J.callbacks[pt]=J.callbacks[pt]||[],J.callbacks[pt].push(H)}J.hasBindTouchEvents||(X.addEventListener("touchstart",s,nt),X.addEventListener("touchmove",h,nt),X.addEventListener("touchcancel",d),X.addEventListener("touchend",v),J.options.disableClick||(X.addEventListener("mousedown",s),X.addEventListener("mousemove",h),X.addEventListener("mouseup",v),X.addEventListener("mouseenter",y),X.addEventListener("mouseleave",E)),J.hasBindTouchEvents=!0)},unmounted:function(X){X.removeEventListener("touchstart",s),X.removeEventListener("touchmove",h),X.removeEventListener("touchcancel",d),X.removeEventListener("touchend",v),X.$$touchObj&&!X.$$touchObj.options.disableClick&&(X.removeEventListener("mousedown",s),X.removeEventListener("mousemove",h),X.removeEventListener("mouseup",v),X.removeEventListener("mouseenter",y),X.removeEventListener("mouseleave",E)),delete X.$$touchObj}}),o.directive("touch-class",{beforeMount:function(X,H){z(X,{touchClass:H.value})}}),o.directive("touch-options",{beforeMount:function(X,H){z(X,H.value)}})}},MA={exports:{}};(function(o){o.exports=function(l){function u(A){for(var I=A[0],K=A[1],z,X,H=0,J=[];H<I.length;H++)X=I[H],Object.prototype.hasOwnProperty.call(h,X)&&h[X]&&J.push(h[X][0]),h[X]=0;for(z in K)Object.prototype.hasOwnProperty.call(K,z)&&(l[z]=K[z]);for(M&&M(A);J.length;)J.shift()()}var s={},h={0:0};function d(A){return v.p+"vue3-openlayers.common."+({}[A]||A)+".js"}function v(A){if(s[A])return s[A].exports;var I=s[A]={i:A,l:!1,exports:{}};return l[A].call(I.exports,I,I.exports,v),I.l=!0,I.exports}v.e=function(I){var K=[],z=h[I];if(z!==0)if(z)K.push(z[2]);else{var X=new Promise(function(it,N){z=h[I]=[it,N]});K.push(z[2]=X);var H=document.createElement("script"),J;H.charset="utf-8",H.timeout=120,v.nc&&H.setAttribute("nonce",v.nc),H.src=d(I);var nt=new Error;J=function(it){H.onerror=H.onload=null,clearTimeout(pt);var N=h[I];if(N!==0){if(N){var _t=it&&(it.type==="load"?"missing":it.type),Rt=it&&it.target&&it.target.src;nt.message="Loading chunk "+I+` failed.
(`+_t+": "+Rt+")",nt.name="ChunkLoadError",nt.type=_t,nt.request=Rt,N[1](nt)}h[I]=void 0}};var pt=setTimeout(function(){J({type:"timeout",target:H})},12e4);H.onerror=H.onload=J,document.head.appendChild(H)}return Promise.all(K)},v.m=l,v.c=s,v.d=function(A,I,K){v.o(A,I)||Object.defineProperty(A,I,{enumerable:!0,get:K})},v.r=function(A){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},v.t=function(A,I){if(I&1&&(A=v(A)),I&8||I&4&&typeof A=="object"&&A&&A.__esModule)return A;var K=Object.create(null);if(v.r(K),Object.defineProperty(K,"default",{enumerable:!0,value:A}),I&2&&typeof A!="string")for(var z in A)v.d(K,z,function(X){return A[X]}.bind(null,z));return K},v.n=function(A){var I=A&&A.__esModule?function(){return A.default}:function(){return A};return v.d(I,"a",I),I},v.o=function(A,I){return Object.prototype.hasOwnProperty.call(A,I)},v.p="",v.oe=function(A){throw console.error(A),A};var y=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers||[],E=y.push.bind(y);y.push=u,y=y.slice();for(var w=0;w<y.length;w++)u(y[w]);var M=E;return v(v.s="fb15")}({"00b4":function(l,u,s){s("ac1f");var h=s("23e7"),d=s("da84"),v=s("c65b"),y=s("e330"),E=s("1626"),w=s("861d"),M=function(){var K=!1,z=/[ac]/;return z.exec=function(){return K=!0,/./.exec.apply(this,arguments)},z.test("abc")===!0&&K}(),A=d.Error,I=y(/./.test);h({target:"RegExp",proto:!0,forced:!M},{test:function(K){var z=this.exec;if(!E(z))return I(this,K);var X=v(z,this,K);if(X!==null&&!w(X))throw new A("RegExp exec method returned something other than an Object or null");return!!X}})},"00ee":function(l,u,s){var h=s("b622"),d=h("toStringTag"),v={};v[d]="z",l.exports=String(v)==="[object z]"},"01d4":function(l,u,s){u.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0366":function(l,u,s){var h=s("e330"),d=s("59ed"),v=s("40d5"),y=h(h.bind);l.exports=function(E,w){return d(E),w===void 0?E:v?y(E,w):function(){return E.apply(w,arguments)}}},"04d1":function(l,u,s){var h=s("342f"),d=h.match(/firefox\/(\d+)/i);l.exports=!!d&&+d[1]},"0538":function(l,u,s){var h=s("da84"),d=s("e330"),v=s("59ed"),y=s("861d"),E=s("1a2d"),w=s("f36a"),M=s("40d5"),A=h.Function,I=d([].concat),K=d([].join),z={},X=function(H,J,nt){if(!E(z,J)){for(var pt=[],it=0;it<J;it++)pt[it]="a["+it+"]";z[J]=A("C,a","return new C("+K(pt,",")+")")}return z[J](H,nt)};l.exports=M?A.bind:function(J){var nt=v(this),pt=nt.prototype,it=w(arguments,1),N=function(){var Rt=I(it,w(arguments));return this instanceof N?X(nt,Rt.length,Rt):nt.apply(J,Rt)};return y(pt)&&(N.prototype=pt),N}},"057f":function(l,u,s){var h=s("c6b6"),d=s("fc6a"),v=s("241c").f,y=s("4dae"),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],w=function(M){try{return v(M)}catch{return y(E)}};l.exports.f=function(A){return E&&h(A)=="Window"?w(A):v(d(A))}},"06cf":function(l,u,s){var h=s("83ab"),d=s("c65b"),v=s("d1e7"),y=s("5c6c"),E=s("fc6a"),w=s("a04b"),M=s("1a2d"),A=s("0cfb"),I=Object.getOwnPropertyDescriptor;u.f=h?I:function(z,X){if(z=E(z),X=w(X),A)try{return I(z,X)}catch{}if(M(z,X))return y(!d(v.f,z,X),z[X])}},"07ac":function(l,u,s){var h=s("23e7"),d=s("6f53").values;h({target:"Object",stat:!0},{values:function(y){return d(y)}})},"07fa":function(l,u,s){var h=s("50c4");l.exports=function(d){return h(d.length)}},"0999":function(l,u,s){s.d(u,"a",function(){return d}),s.d(u,"c",function(){return v}),s.d(u,"b",function(){return y}),s.d(u,"g",function(){return E}),s.d(u,"e",function(){return w}),s.d(u,"d",function(){return M}),s.d(u,"f",function(){return A});var h=s("617d");function d(I,K,z,X){var H;return z&&z.length?H=z.shift():h.g?H=new OffscreenCanvas(I||300,K||300):H=document.createElement("canvas"),I&&(H.width=I),K&&(H.height=K),H.getContext("2d",X)}function v(I){var K=I.offsetWidth,z=getComputedStyle(I);return K+=parseInt(z.marginLeft,10)+parseInt(z.marginRight,10),K}function y(I){var K=I.offsetHeight,z=getComputedStyle(I);return K+=parseInt(z.marginTop,10)+parseInt(z.marginBottom,10),K}function E(I,K){var z=K.parentNode;z&&z.replaceChild(I,K)}function w(I){return I&&I.parentNode?I.parentNode.removeChild(I):null}function M(I){for(;I.lastChild;)I.removeChild(I.lastChild)}function A(I,K){for(var z=I.childNodes,X=0;;++X){var H=z[X],J=K[X];if(!H&&!J)break;if(H!==J){if(!H){I.appendChild(J);continue}if(!J){I.removeChild(H),--X;continue}I.insertBefore(J,H)}}}},"0b42":function(l,u,s){var h=s("da84"),d=s("e8b5"),v=s("68ee"),y=s("861d"),E=s("b622"),w=E("species"),M=h.Array;l.exports=function(A){var I;return d(A)&&(I=A.constructor,v(I)&&(I===M||d(I.prototype))?I=void 0:y(I)&&(I=I[w],I===null&&(I=void 0))),I===void 0?M:I}},"0cb2":function(l,u,s){var h=s("e330"),d=s("7b0b"),v=Math.floor,y=h("".charAt),E=h("".replace),w=h("".slice),M=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;l.exports=function(I,K,z,X,H,J){var nt=z+I.length,pt=X.length,it=A;return H!==void 0&&(H=d(H),it=M),E(J,it,function(N,_t){var Rt;switch(y(_t,0)){case"$":return"$";case"&":return I;case"`":return w(K,0,z);case"'":return w(K,nt);case"<":Rt=H[w(_t,1,-1)];break;default:var Bt=+_t;if(Bt===0)return N;if(Bt>pt){var St=v(Bt/10);return St===0?N:St<=pt?X[St-1]===void 0?y(_t,1):X[St-1]+y(_t,1):N}Rt=X[Bt-1]}return Rt===void 0?"":Rt})}},"0cfb":function(l,u,s){var h=s("83ab"),d=s("d039"),v=s("cc12");l.exports=!h&&!d(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},"0d51":function(l,u,s){var h=s("da84"),d=h.String;l.exports=function(v){try{return d(v)}catch{return"Object"}}},"0ec0":function(l,u,s){var h=s("da5c"),d=s("cef7"),v=s("57cb"),y=s("38f3"),E=function(){var M=function(A,I){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,z){K.__proto__=z}||function(K,z){for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&(K[X]=z[X])},M(A,I)};return function(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");M(A,I);function K(){this.constructor=A}A.prototype=I===null?Object.create(I):(K.prototype=I.prototype,new K)}}(),w=function(M){E(A,M);function A(I){var K=M.call(this)||this;return K.eventTarget_=I,K.pendingRemovals_=null,K.dispatching_=null,K.listeners_=null,K}return A.prototype.addEventListener=function(I,K){if(!(!I||!K)){var z=this.listeners_||(this.listeners_={}),X=z[I]||(z[I]=[]);X.indexOf(K)===-1&&X.push(K)}},A.prototype.dispatchEvent=function(I){var K=typeof I=="string"?new d.a(I):I,z=K.type;K.target||(K.target=this.eventTarget_||this);var X=this.listeners_&&this.listeners_[z],H;if(X){var J=this.dispatching_||(this.dispatching_={}),nt=this.pendingRemovals_||(this.pendingRemovals_={});z in J||(J[z]=0,nt[z]=0),++J[z];for(var pt=0,it=X.length;pt<it;++pt)if("handleEvent"in X[pt]?H=X[pt].handleEvent(K):H=X[pt].call(this,K),H===!1||K.propagationStopped){H=!1;break}if(--J[z],J[z]===0){var N=nt[z];for(delete nt[z];N--;)this.removeEventListener(z,v.c);delete J[z]}return H}},A.prototype.disposeInternal=function(){this.listeners_&&Object(y.b)(this.listeners_)},A.prototype.getListeners=function(I){return this.listeners_&&this.listeners_[I]||void 0},A.prototype.hasListener=function(I){return this.listeners_?I?I in this.listeners_:Object.keys(this.listeners_).length>0:!1},A.prototype.removeEventListener=function(I,K){var z=this.listeners_&&this.listeners_[I];if(z){var X=z.indexOf(K);X!==-1&&(this.pendingRemovals_&&I in this.pendingRemovals_?(z[X]=v.c,++this.pendingRemovals_[I]):(z.splice(X,1),z.length===0&&delete this.listeners_[I]))}},A}(h.a);u.a=w},"107c":function(l,u,s){var h=s("d039"),d=s("da84"),v=d.RegExp;l.exports=h(function(){var y=v("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},"1300":function(l,u,s){s.d(u,"b",function(){return h}),s.d(u,"c",function(){return v}),s.d(u,"a",function(){return y});function h(){return function(){throw new Error("Unimplemented abstract method.")}()}var d=0;function v(E){return E.ol_uid||(E.ol_uid=String(++d))}var y="6.12.0"},"14c3":function(l,u,s){var h=s("da84"),d=s("c65b"),v=s("825a"),y=s("1626"),E=s("c6b6"),w=s("9263"),M=h.TypeError;l.exports=function(A,I){var K=A.exec;if(y(K)){var z=d(K,A,I);return z!==null&&v(z),z}if(E(A)==="RegExp")return d(w,A,I);throw M("RegExp#exec called on incompatible receiver")}},"159b":function(l,u,s){var h=s("da84"),d=s("fdbc"),v=s("785a"),y=s("17c2"),E=s("9112"),w=function(A){if(A&&A.forEach!==y)try{E(A,"forEach",y)}catch{A.forEach=y}};for(var M in d)d[M]&&w(h[M]&&h[M].prototype);w(v)},"1626":function(l,u){l.exports=function(s){return typeof s=="function"}},"17c2":function(l,u,s){var h=s("b727").forEach,d=s("a640"),v=d("forEach");l.exports=v?[].forEach:function(E){return h(this,E,arguments.length>1?arguments[1]:void 0)}},"1a2d":function(l,u,s){var h=s("e330"),d=s("7b0b"),v=h({}.hasOwnProperty);l.exports=Object.hasOwn||function(E,w){return v(d(E),w)}},"1be4":function(l,u,s){var h=s("d066");l.exports=h("document","documentElement")},"1c7e":function(l,u,s){var h=s("b622"),d=h("iterator"),v=!1;try{var y=0,E={next:function(){return{done:!!y++}},return:function(){v=!0}};E[d]=function(){return this},Array.from(E,function(){throw 2})}catch{}l.exports=function(w,M){if(!M&&!v)return!1;var A=!1;try{var I={};I[d]=function(){return{next:function(){return{done:A=!0}}}},w(I)}catch{}return A}},"1d80":function(l,u,s){var h=s("da84"),d=h.TypeError;l.exports=function(v){if(v==null)throw d("Can't call method on "+v);return v}},"1dde":function(l,u,s){var h=s("d039"),d=s("b622"),v=s("2d00"),y=d("species");l.exports=function(E){return v>=51||!h(function(){var w=[],M=w.constructor={};return M[y]=function(){return{foo:1}},w[E](Boolean).foo!==1})}},"1e8d":function(l,u,s){s.d(u,"a",function(){return d}),s.d(u,"b",function(){return v}),s.d(u,"c",function(){return y});var h=s("38f3");function d(E,w,M,A,I){if(A&&A!==E&&(M=M.bind(A)),I){var K=M;M=function(){E.removeEventListener(w,M),K.apply(this,arguments)}}var z={target:E,type:w,listener:M};return E.addEventListener(w,M),z}function v(E,w,M,A){return d(E,w,M,A,!0)}function y(E){E&&E.target&&(E.target.removeEventListener(E.type,E.listener),Object(h.b)(E))}},"1fb5":function(l,u,s){u.byteLength=A,u.toByteArray=K,u.fromByteArray=H;for(var h=[],d=[],v=typeof Uint8Array!="undefined"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,w=y.length;E<w;++E)h[E]=y[E],d[y.charCodeAt(E)]=E;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function M(J){var nt=J.length;if(nt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var pt=J.indexOf("=");pt===-1&&(pt=nt);var it=pt===nt?0:4-pt%4;return[pt,it]}function A(J){var nt=M(J),pt=nt[0],it=nt[1];return(pt+it)*3/4-it}function I(J,nt,pt){return(nt+pt)*3/4-pt}function K(J){var nt,pt=M(J),it=pt[0],N=pt[1],_t=new v(I(J,it,N)),Rt=0,Bt=N>0?it-4:it,St;for(St=0;St<Bt;St+=4)nt=d[J.charCodeAt(St)]<<18|d[J.charCodeAt(St+1)]<<12|d[J.charCodeAt(St+2)]<<6|d[J.charCodeAt(St+3)],_t[Rt++]=nt>>16&255,_t[Rt++]=nt>>8&255,_t[Rt++]=nt&255;return N===2&&(nt=d[J.charCodeAt(St)]<<2|d[J.charCodeAt(St+1)]>>4,_t[Rt++]=nt&255),N===1&&(nt=d[J.charCodeAt(St)]<<10|d[J.charCodeAt(St+1)]<<4|d[J.charCodeAt(St+2)]>>2,_t[Rt++]=nt>>8&255,_t[Rt++]=nt&255),_t}function z(J){return h[J>>18&63]+h[J>>12&63]+h[J>>6&63]+h[J&63]}function X(J,nt,pt){for(var it,N=[],_t=nt;_t<pt;_t+=3)it=(J[_t]<<16&16711680)+(J[_t+1]<<8&65280)+(J[_t+2]&255),N.push(z(it));return N.join("")}function H(J){for(var nt,pt=J.length,it=pt%3,N=[],_t=16383,Rt=0,Bt=pt-it;Rt<Bt;Rt+=_t)N.push(X(J,Rt,Rt+_t>Bt?Bt:Rt+_t));return it===1?(nt=J[pt-1],N.push(h[nt>>2]+h[nt<<4&63]+"==")):it===2&&(nt=(J[pt-2]<<8)+J[pt-1],N.push(h[nt>>10]+h[nt>>4&63]+h[nt<<2&63]+"=")),N.join("")}},"21a6":function(l,u,s){(function(h){var d,v,y;(function(E,w){v=[],d=w,y=typeof d=="function"?d.apply(u,v):d,y!==void 0&&(l.exports=y)})(this,function(){function E(X,H){return typeof H=="undefined"?H={autoBom:!1}:typeof H!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),H={autoBom:!H}),H.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(X.type)?new Blob(["\uFEFF",X],{type:X.type}):X}function w(X,H,J){var nt=new XMLHttpRequest;nt.open("GET",X),nt.responseType="blob",nt.onload=function(){z(nt.response,H,J)},nt.onerror=function(){console.error("could not download file")},nt.send()}function M(X){var H=new XMLHttpRequest;H.open("HEAD",X,!1);try{H.send()}catch{}return 200<=H.status&&299>=H.status}function A(X){try{X.dispatchEvent(new MouseEvent("click"))}catch{var H=document.createEvent("MouseEvents");H.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),X.dispatchEvent(H)}}var I=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof h=="object"&&h.global===h?h:void 0,K=I.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),z=I.saveAs||(typeof window!="object"||window!==I?function(){}:"download"in HTMLAnchorElement.prototype&&!K?function(X,H,J){var nt=I.URL||I.webkitURL,pt=document.createElement("a");H=H||X.name||"download",pt.download=H,pt.rel="noopener",typeof X=="string"?(pt.href=X,pt.origin===location.origin?A(pt):M(pt.href)?w(X,H,J):A(pt,pt.target="_blank")):(pt.href=nt.createObjectURL(X),setTimeout(function(){nt.revokeObjectURL(pt.href)},4e4),setTimeout(function(){A(pt)},0))}:"msSaveOrOpenBlob"in navigator?function(X,H,J){if(H=H||X.name||"download",typeof X!="string")navigator.msSaveOrOpenBlob(E(X,J),H);else if(M(X))w(X,H,J);else{var nt=document.createElement("a");nt.href=X,nt.target="_blank",setTimeout(function(){A(nt)})}}:function(X,H,J,nt){if(nt=nt||open("","_blank"),nt&&(nt.document.title=nt.document.body.innerText="downloading..."),typeof X=="string")return w(X,H,J);var pt=X.type==="application/octet-stream",it=/constructor/i.test(I.HTMLElement)||I.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||pt&&it||K)&&typeof FileReader!="undefined"){var _t=new FileReader;_t.onloadend=function(){var St=_t.result;St=N?St:St.replace(/^data:[^;]*;/,"data:attachment/file;"),nt?nt.location.href=St:location=St,nt=null},_t.readAsDataURL(X)}else{var Rt=I.URL||I.webkitURL,Bt=Rt.createObjectURL(X);nt?nt.location=Bt:location.href=Bt,nt=null,setTimeout(function(){Rt.revokeObjectURL(Bt)},4e4)}});I.saveAs=z.saveAs=z,l.exports=z})}).call(this,s("c8ba"))},"23cb":function(l,u,s){var h=s("5926"),d=Math.max,v=Math.min;l.exports=function(y,E){var w=h(y);return w<0?d(w+E,0):v(w,E)}},"23e7":function(l,u,s){var h=s("da84"),d=s("06cf").f,v=s("9112"),y=s("6eeb"),E=s("ce4e"),w=s("e893"),M=s("94ca");l.exports=function(A,I){var K=A.target,z=A.global,X=A.stat,H,J,nt,pt,it,N;if(z?J=h:X?J=h[K]||E(K,{}):J=(h[K]||{}).prototype,J)for(nt in I){if(it=I[nt],A.noTargetGet?(N=d(J,nt),pt=N&&N.value):pt=J[nt],H=M(z?nt:K+(X?".":"#")+nt,A.forced),!H&&pt!==void 0){if(typeof it==typeof pt)continue;w(it,pt)}(A.sham||pt&&pt.sham)&&v(it,"sham",!0),y(J,nt,it,A)}}},"241c":function(l,u,s){var h=s("ca84"),d=s("7839"),v=d.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(E){return h(E,v)}},"2532":function(l,u,s){var h=s("23e7"),d=s("e330"),v=s("5a34"),y=s("1d80"),E=s("577e"),w=s("ab13"),M=d("".indexOf);h({target:"String",proto:!0,forced:!w("includes")},{includes:function(I){return!!~M(E(y(this)),E(v(I)),arguments.length>1?arguments[1]:void 0)}})},"25a5":function(l,u,s){(function(h,d){l.exports=d()})(this,function(){function h(it,N,_t,Rt,Bt){(function St(Xt,It,Dt,Jt,le){for(;Jt>Dt;){if(Jt-Dt>600){var Ve=Jt-Dt+1,gt=It-Dt+1,Yt=Math.log(Ve),oe=.5*Math.exp(2*Yt/3),nr=.5*Math.sqrt(Yt*oe*(Ve-oe)/Ve)*(gt-Ve/2<0?-1:1),ir=Math.max(Dt,Math.floor(It-gt*oe/Ve+nr)),Ke=Math.min(Jt,Math.floor(It+(Ve-gt)*oe/Ve+nr));St(Xt,It,ir,Ke,le)}var Ge=Xt[It],Pr=Dt,Kr=Jt;for(d(Xt,Dt,It),le(Xt[Jt],Ge)>0&&d(Xt,Dt,Jt);Pr<Kr;){for(d(Xt,Pr,Kr),Pr++,Kr--;le(Xt[Pr],Ge)<0;)Pr++;for(;le(Xt[Kr],Ge)>0;)Kr--}le(Xt[Dt],Ge)===0?d(Xt,Dt,Kr):d(Xt,++Kr,Jt),Kr<=It&&(Dt=Kr+1),It<=Kr&&(Jt=Kr-1)}})(it,N,_t||0,Rt||it.length-1,Bt||v)}function d(it,N,_t){var Rt=it[N];it[N]=it[_t],it[_t]=Rt}function v(it,N){return it<N?-1:it>N?1:0}var y=function(it){it===void 0&&(it=9),this._maxEntries=Math.max(4,it),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function E(it,N,_t){if(!_t)return N.indexOf(it);for(var Rt=0;Rt<N.length;Rt++)if(_t(it,N[Rt]))return Rt;return-1}function w(it,N){M(it,0,it.children.length,N,it)}function M(it,N,_t,Rt,Bt){Bt||(Bt=nt(null)),Bt.minX=1/0,Bt.minY=1/0,Bt.maxX=-1/0,Bt.maxY=-1/0;for(var St=N;St<_t;St++){var Xt=it.children[St];A(Bt,it.leaf?Rt(Xt):Xt)}return Bt}function A(it,N){return it.minX=Math.min(it.minX,N.minX),it.minY=Math.min(it.minY,N.minY),it.maxX=Math.max(it.maxX,N.maxX),it.maxY=Math.max(it.maxY,N.maxY),it}function I(it,N){return it.minX-N.minX}function K(it,N){return it.minY-N.minY}function z(it){return(it.maxX-it.minX)*(it.maxY-it.minY)}function X(it){return it.maxX-it.minX+(it.maxY-it.minY)}function H(it,N){return it.minX<=N.minX&&it.minY<=N.minY&&N.maxX<=it.maxX&&N.maxY<=it.maxY}function J(it,N){return N.minX<=it.maxX&&N.minY<=it.maxY&&N.maxX>=it.minX&&N.maxY>=it.minY}function nt(it){return{children:it,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pt(it,N,_t,Rt,Bt){for(var St=[N,_t];St.length;)if(!((_t=St.pop())-(N=St.pop())<=Rt)){var Xt=N+Math.ceil((_t-N)/Rt/2)*Rt;h(it,Xt,N,_t,Bt),St.push(N,Xt,Xt,_t)}}return y.prototype.all=function(){return this._all(this.data,[])},y.prototype.search=function(it){var N=this.data,_t=[];if(!J(it,N))return _t;for(var Rt=this.toBBox,Bt=[];N;){for(var St=0;St<N.children.length;St++){var Xt=N.children[St],It=N.leaf?Rt(Xt):Xt;J(it,It)&&(N.leaf?_t.push(Xt):H(it,It)?this._all(Xt,_t):Bt.push(Xt))}N=Bt.pop()}return _t},y.prototype.collides=function(it){var N=this.data;if(!J(it,N))return!1;for(var _t=[];N;){for(var Rt=0;Rt<N.children.length;Rt++){var Bt=N.children[Rt],St=N.leaf?this.toBBox(Bt):Bt;if(J(it,St)){if(N.leaf||H(it,St))return!0;_t.push(Bt)}}N=_t.pop()}return!1},y.prototype.load=function(it){if(!it||!it.length)return this;if(it.length<this._minEntries){for(var N=0;N<it.length;N++)this.insert(it[N]);return this}var _t=this._build(it.slice(),0,it.length-1,0);if(this.data.children.length)if(this.data.height===_t.height)this._splitRoot(this.data,_t);else{if(this.data.height<_t.height){var Rt=this.data;this.data=_t,_t=Rt}this._insert(_t,this.data.height-_t.height-1,!0)}else this.data=_t;return this},y.prototype.insert=function(it){return it&&this._insert(it,this.data.height-1),this},y.prototype.clear=function(){return this.data=nt([]),this},y.prototype.remove=function(it,N){if(!it)return this;for(var _t,Rt,Bt,St=this.data,Xt=this.toBBox(it),It=[],Dt=[];St||It.length;){if(St||(St=It.pop(),Rt=It[It.length-1],_t=Dt.pop(),Bt=!0),St.leaf){var Jt=E(it,St.children,N);if(Jt!==-1)return St.children.splice(Jt,1),It.push(St),this._condense(It),this}Bt||St.leaf||!H(St,Xt)?Rt?(_t++,St=Rt.children[_t],Bt=!1):St=null:(It.push(St),Dt.push(_t),_t=0,Rt=St,St=St.children[0])}return this},y.prototype.toBBox=function(it){return it},y.prototype.compareMinX=function(it,N){return it.minX-N.minX},y.prototype.compareMinY=function(it,N){return it.minY-N.minY},y.prototype.toJSON=function(){return this.data},y.prototype.fromJSON=function(it){return this.data=it,this},y.prototype._all=function(it,N){for(var _t=[];it;)it.leaf?N.push.apply(N,it.children):_t.push.apply(_t,it.children),it=_t.pop();return N},y.prototype._build=function(it,N,_t,Rt){var Bt,St=_t-N+1,Xt=this._maxEntries;if(St<=Xt)return w(Bt=nt(it.slice(N,_t+1)),this.toBBox),Bt;Rt||(Rt=Math.ceil(Math.log(St)/Math.log(Xt)),Xt=Math.ceil(St/Math.pow(Xt,Rt-1))),(Bt=nt([])).leaf=!1,Bt.height=Rt;var It=Math.ceil(St/Xt),Dt=It*Math.ceil(Math.sqrt(Xt));pt(it,N,_t,Dt,this.compareMinX);for(var Jt=N;Jt<=_t;Jt+=Dt){var le=Math.min(Jt+Dt-1,_t);pt(it,Jt,le,It,this.compareMinY);for(var Ve=Jt;Ve<=le;Ve+=It){var gt=Math.min(Ve+It-1,le);Bt.children.push(this._build(it,Ve,gt,Rt-1))}}return w(Bt,this.toBBox),Bt},y.prototype._chooseSubtree=function(it,N,_t,Rt){for(;Rt.push(N),!N.leaf&&Rt.length-1!==_t;){for(var Bt=1/0,St=1/0,Xt=void 0,It=0;It<N.children.length;It++){var Dt=N.children[It],Jt=z(Dt),le=(Ve=it,gt=Dt,(Math.max(gt.maxX,Ve.maxX)-Math.min(gt.minX,Ve.minX))*(Math.max(gt.maxY,Ve.maxY)-Math.min(gt.minY,Ve.minY))-Jt);le<St?(St=le,Bt=Jt<Bt?Jt:Bt,Xt=Dt):le===St&&Jt<Bt&&(Bt=Jt,Xt=Dt)}N=Xt||N.children[0]}var Ve,gt;return N},y.prototype._insert=function(it,N,_t){var Rt=_t?it:this.toBBox(it),Bt=[],St=this._chooseSubtree(Rt,this.data,N,Bt);for(St.children.push(it),A(St,Rt);N>=0&&Bt[N].children.length>this._maxEntries;)this._split(Bt,N),N--;this._adjustParentBBoxes(Rt,Bt,N)},y.prototype._split=function(it,N){var _t=it[N],Rt=_t.children.length,Bt=this._minEntries;this._chooseSplitAxis(_t,Bt,Rt);var St=this._chooseSplitIndex(_t,Bt,Rt),Xt=nt(_t.children.splice(St,_t.children.length-St));Xt.height=_t.height,Xt.leaf=_t.leaf,w(_t,this.toBBox),w(Xt,this.toBBox),N?it[N-1].children.push(Xt):this._splitRoot(_t,Xt)},y.prototype._splitRoot=function(it,N){this.data=nt([it,N]),this.data.height=it.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},y.prototype._chooseSplitIndex=function(it,N,_t){for(var Rt,Bt,St,Xt,It,Dt,Jt,le=1/0,Ve=1/0,gt=N;gt<=_t-N;gt++){var Yt=M(it,0,gt,this.toBBox),oe=M(it,gt,_t,this.toBBox),nr=(Bt=Yt,St=oe,Xt=void 0,It=void 0,Dt=void 0,Jt=void 0,Xt=Math.max(Bt.minX,St.minX),It=Math.max(Bt.minY,St.minY),Dt=Math.min(Bt.maxX,St.maxX),Jt=Math.min(Bt.maxY,St.maxY),Math.max(0,Dt-Xt)*Math.max(0,Jt-It)),ir=z(Yt)+z(oe);nr<le?(le=nr,Rt=gt,Ve=ir<Ve?ir:Ve):nr===le&&ir<Ve&&(Ve=ir,Rt=gt)}return Rt||_t-N},y.prototype._chooseSplitAxis=function(it,N,_t){var Rt=it.leaf?this.compareMinX:I,Bt=it.leaf?this.compareMinY:K;this._allDistMargin(it,N,_t,Rt)<this._allDistMargin(it,N,_t,Bt)&&it.children.sort(Rt)},y.prototype._allDistMargin=function(it,N,_t,Rt){it.children.sort(Rt);for(var Bt=this.toBBox,St=M(it,0,N,Bt),Xt=M(it,_t-N,_t,Bt),It=X(St)+X(Xt),Dt=N;Dt<_t-N;Dt++){var Jt=it.children[Dt];A(St,it.leaf?Bt(Jt):Jt),It+=X(St)}for(var le=_t-N-1;le>=N;le--){var Ve=it.children[le];A(Xt,it.leaf?Bt(Ve):Ve),It+=X(Xt)}return It},y.prototype._adjustParentBBoxes=function(it,N,_t){for(var Rt=_t;Rt>=0;Rt--)A(N[Rt],it)},y.prototype._condense=function(it){for(var N=it.length-1,_t=void 0;N>=0;N--)it[N].children.length===0?N>0?(_t=it[N-1].children).splice(_t.indexOf(it[N]),1):this.clear():w(it[N],this.toBBox)},y})},"2a62":function(l,u,s){var h=s("c65b"),d=s("825a"),v=s("dc4a");l.exports=function(y,E,w){var M,A;d(y);try{if(M=v(y,"return"),!M){if(E==="throw")throw w;return w}M=h(M,y)}catch(I){A=!0,M=I}if(E==="throw")throw w;if(A)throw M;return d(M),w}},"2ba4":function(l,u,s){var h=s("40d5"),d=Function.prototype,v=d.apply,y=d.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(h?y.bind(v):function(){return y.apply(v,arguments)})},"2d00":function(l,u,s){var h=s("da84"),d=s("342f"),v=h.process,y=h.Deno,E=v&&v.versions||y&&y.version,w=E&&E.v8,M,A;w&&(M=w.split("."),A=M[0]>0&&M[0]<4?1:+(M[0]+M[1])),!A&&d&&(M=d.match(/Edge\/(\d+)/),(!M||M[1]>=74)&&(M=d.match(/Chrome\/(\d+)/),M&&(A=+M[1]))),l.exports=A},"3410":function(l,u,s){var h=s("23e7"),d=s("d039"),v=s("7b0b"),y=s("e163"),E=s("e177"),w=d(function(){y(1)});h({target:"Object",stat:!0,forced:w,sham:!E},{getPrototypeOf:function(A){return y(v(A))}})},"342f":function(l,u,s){var h=s("d066");l.exports=h("navigator","userAgent")||""},"35a1":function(l,u,s){var h=s("f5df"),d=s("dc4a"),v=s("3f8c"),y=s("b622"),E=y("iterator");l.exports=function(w){if(w!=null)return d(w,E)||d(w,"@@iterator")||v[h(w)]}},"35a7":function(l,u,s){s.d(u,"b",function(){return w});var h=s("0ec0"),d=s("01d4"),v=s("1e8d"),y=function(){var M=function(A,I){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,z){K.__proto__=z}||function(K,z){for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&(K[X]=z[X])},M(A,I)};return function(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");M(A,I);function K(){this.constructor=A}A.prototype=I===null?Object.create(I):(K.prototype=I.prototype,new K)}}(),E=function(M){y(A,M);function A(){var I=M.call(this)||this;return I.on=I.onInternal,I.once=I.onceInternal,I.un=I.unInternal,I.revision_=0,I}return A.prototype.changed=function(){++this.revision_,this.dispatchEvent(d.a.CHANGE)},A.prototype.getRevision=function(){return this.revision_},A.prototype.onInternal=function(I,K){if(Array.isArray(I)){for(var z=I.length,X=new Array(z),H=0;H<z;++H)X[H]=Object(v.a)(this,I[H],K);return X}else return Object(v.a)(this,I,K)},A.prototype.onceInternal=function(I,K){var z;if(Array.isArray(I)){var X=I.length;z=new Array(X);for(var H=0;H<X;++H)z[H]=Object(v.b)(this,I[H],K)}else z=Object(v.b)(this,I,K);return K.ol_key=z,z},A.prototype.unInternal=function(I,K){var z=K.ol_key;if(z)w(z);else if(Array.isArray(I))for(var X=0,H=I.length;X<H;++X)this.removeEventListener(I[X],K);else this.removeEventListener(I,K)},A}(h.a);E.prototype.on,E.prototype.once,E.prototype.un;function w(M){if(Array.isArray(M))for(var A=0,I=M.length;A<I;++A)Object(v.c)(M[A]);else Object(v.c)(M)}u.a=E},"37e8":function(l,u,s){var h=s("83ab"),d=s("aed9"),v=s("9bf2"),y=s("825a"),E=s("fc6a"),w=s("df75");u.f=h&&!d?Object.defineProperties:function(A,I){y(A);for(var K=E(I),z=w(I),X=z.length,H=0,J;X>H;)v.f(A,J=z[H++],K[J]);return A}},"38f3":function(l,u,s){s.d(u,"a",function(){return h}),s.d(u,"b",function(){return d}),s.d(u,"c",function(){return v}),s.d(u,"d",function(){return y});var h=typeof Object.assign=="function"?Object.assign:function(E,w){if(E==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(E),A=1,I=arguments.length;A<I;++A){var K=arguments[A];if(K!=null)for(var z in K)K.hasOwnProperty(z)&&(M[z]=K[z])}return M};function d(E){for(var w in E)delete E[w]}var v=typeof Object.values=="function"?Object.values:function(E){var w=[];for(var M in E)w.push(E[M]);return w};function y(E){var w;for(w in E)return!1;return!w}},"3900":function(l,u,s){s.r(u);var h=s("e269"),d=s("592d"),v=s("57cb"),y=s("1e8d"),E=s("0999"),w=function(){var A=function(I,K){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,X){z.__proto__=X}||function(z,X){for(var H in X)Object.prototype.hasOwnProperty.call(X,H)&&(z[H]=X[H])},A(I,K)};return function(I,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");A(I,K);function z(){this.constructor=I}I.prototype=K===null?Object.create(K):(z.prototype=K.prototype,new z)}}(),M=function(A){w(I,A);function I(K){var z=A.call(this)||this,X=K.element;return X&&!K.target&&!X.style.pointerEvents&&(X.style.pointerEvents="auto"),z.element=X||null,z.target_=null,z.map_=null,z.listenerKeys=[],K.render&&(z.render=K.render),K.target&&z.setTarget(K.target),z}return I.prototype.disposeInternal=function(){Object(E.e)(this.element),A.prototype.disposeInternal.call(this)},I.prototype.getMap=function(){return this.map_},I.prototype.setMap=function(K){this.map_&&Object(E.e)(this.element);for(var z=0,X=this.listenerKeys.length;z<X;++z)Object(y.c)(this.listenerKeys[z]);if(this.listenerKeys.length=0,this.map_=K,this.map_){var H=this.target_?this.target_:K.getOverlayContainerStopEvent();H.appendChild(this.element),this.render!==v.c&&this.listenerKeys.push(Object(y.a)(K,d.a.POSTRENDER,this.render,this)),K.render()}},I.prototype.render=function(K){},I.prototype.setTarget=function(K){this.target_=typeof K=="string"?document.getElementById(K):K},I}(h.a);u.default=M},"3a9b":function(l,u,s){var h=s("e330");l.exports=h({}.isPrototypeOf)},"3bbe":function(l,u,s){var h=s("da84"),d=s("1626"),v=h.String,y=h.TypeError;l.exports=function(E){if(typeof E=="object"||d(E))return E;throw y("Can't set "+v(E)+" as a prototype")}},"3ca3":function(l,u,s){var h=s("6547").charAt,d=s("577e"),v=s("69f3"),y=s("7dd0"),E="String Iterator",w=v.set,M=v.getterFor(E);y(String,"String",function(A){w(this,{type:E,string:d(A),index:0})},function(){var I=M(this),K=I.string,z=I.index,X;return z>=K.length?{value:void 0,done:!0}:(X=h(K,z),I.index+=X.length,{value:X,done:!1})})},"3f8c":function(l,u){l.exports={}},"408a":function(l,u,s){var h=s("e330");l.exports=h(1 .valueOf)},"40d5":function(l,u,s){var h=s("d039");l.exports=!h(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},"428f":function(l,u,s){var h=s("da84");l.exports=h},"44ad":function(l,u,s){var h=s("da84"),d=s("e330"),v=s("d039"),y=s("c6b6"),E=h.Object,w=d("".split);l.exports=v(function(){return!E("z").propertyIsEnumerable(0)})?function(M){return y(M)=="String"?w(M,""):E(M)}:E},"44d2":function(l,u,s){var h=s("b622"),d=s("7c73"),v=s("9bf2"),y=h("unscopables"),E=Array.prototype;E[y]==null&&v.f(E,y,{configurable:!0,value:d(null)}),l.exports=function(w){E[y][w]=!0}},"44e7":function(l,u,s){var h=s("861d"),d=s("c6b6"),v=s("b622"),y=v("match");l.exports=function(E){var w;return h(E)&&((w=E[y])!==void 0?!!w:d(E)=="RegExp")}},"485a":function(l,u,s){var h=s("da84"),d=s("c65b"),v=s("1626"),y=s("861d"),E=h.TypeError;l.exports=function(w,M){var A,I;if(M==="string"&&v(A=w.toString)&&!y(I=d(A,w))||v(A=w.valueOf)&&!y(I=d(A,w))||M!=="string"&&v(A=w.toString)&&!y(I=d(A,w)))return I;throw E("Can't convert object to primitive value")}},"4930":function(l,u,s){var h=s("2d00"),d=s("d039");l.exports=!!Object.getOwnPropertySymbols&&!d(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&h&&h<41})},"4ae1":function(l,u,s){var h=s("23e7"),d=s("d066"),v=s("2ba4"),y=s("0538"),E=s("5087"),w=s("825a"),M=s("861d"),A=s("7c73"),I=s("d039"),K=d("Reflect","construct"),z=Object.prototype,X=[].push,H=I(function(){function pt(){}return!(K(function(){},[],pt)instanceof pt)}),J=!I(function(){K(function(){})}),nt=H||J;h({target:"Reflect",stat:!0,forced:nt,sham:nt},{construct:function(it,N){E(it),w(N);var _t=arguments.length<3?it:E(arguments[2]);if(J&&!H)return K(it,N,_t);if(it==_t){switch(N.length){case 0:return new it;case 1:return new it(N[0]);case 2:return new it(N[0],N[1]);case 3:return new it(N[0],N[1],N[2]);case 4:return new it(N[0],N[1],N[2],N[3])}var Rt=[null];return v(X,Rt,N),new(v(y,it,Rt))}var Bt=_t.prototype,St=A(M(Bt)?Bt:z),Xt=v(it,St,N);return M(Xt)?Xt:St}})},"4d64":function(l,u,s){var h=s("fc6a"),d=s("23cb"),v=s("07fa"),y=function(E){return function(w,M,A){var I=h(w),K=v(I),z=d(A,K),X;if(E&&M!=M){for(;K>z;)if(X=I[z++],X!=X)return!0}else for(;K>z;z++)if((E||z in I)&&I[z]===M)return E||z||0;return!E&&-1}};l.exports={includes:y(!0),indexOf:y(!1)}},"4dae":function(l,u,s){var h=s("da84"),d=s("23cb"),v=s("07fa"),y=s("8418"),E=h.Array,w=Math.max;l.exports=function(M,A,I){for(var K=v(M),z=d(A,K),X=d(I===void 0?K:I,K),H=E(w(X-z,0)),J=0;z<X;z++,J++)y(H,J,M[z]);return H.length=J,H}},"4de4":function(l,u,s){var h=s("23e7"),d=s("b727").filter,v=s("1dde"),y=v("filter");h({target:"Array",proto:!0,forced:!y},{filter:function(w){return d(this,w,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(l,u,s){var h=s("da84"),d=s("0366"),v=s("c65b"),y=s("7b0b"),E=s("9bdd"),w=s("e95a"),M=s("68ee"),A=s("07fa"),I=s("8418"),K=s("9a1f"),z=s("35a1"),X=h.Array;l.exports=function(J){var nt=y(J),pt=M(this),it=arguments.length,N=it>1?arguments[1]:void 0,_t=N!==void 0;_t&&(N=d(N,it>2?arguments[2]:void 0));var Rt=z(nt),Bt=0,St,Xt,It,Dt,Jt,le;if(Rt&&!(this==X&&w(Rt)))for(Dt=K(nt,Rt),Jt=Dt.next,Xt=pt?new this:[];!(It=v(Jt,Dt)).done;Bt++)le=_t?E(Dt,N,[It.value,Bt],!0):It.value,I(Xt,Bt,le);else for(St=A(nt),Xt=pt?new this(St):X(St);St>Bt;Bt++)le=_t?N(nt[Bt],Bt):nt[Bt],I(Xt,Bt,le);return Xt.length=Bt,Xt}},"4e82":function(l,u,s){var h=s("23e7"),d=s("e330"),v=s("59ed"),y=s("7b0b"),E=s("07fa"),w=s("577e"),M=s("d039"),A=s("addb"),I=s("a640"),K=s("04d1"),z=s("d998"),X=s("2d00"),H=s("512c"),J=[],nt=d(J.sort),pt=d(J.push),it=M(function(){J.sort(void 0)}),N=M(function(){J.sort(null)}),_t=I("sort"),Rt=!M(function(){if(X)return X<70;if(!(K&&K>3)){if(z)return!0;if(H)return H<603;var Xt="",It,Dt,Jt,le;for(It=65;It<76;It++){switch(Dt=String.fromCharCode(It),It){case 66:case 69:case 70:case 72:Jt=3;break;case 68:case 71:Jt=4;break;default:Jt=2}for(le=0;le<47;le++)J.push({k:Dt+le,v:Jt})}for(J.sort(function(Ve,gt){return gt.v-Ve.v}),le=0;le<J.length;le++)Dt=J[le].k.charAt(0),Xt.charAt(Xt.length-1)!==Dt&&(Xt+=Dt);return Xt!=="DGBEFHACIJK"}}),Bt=it||!N||!_t||!Rt,St=function(Xt){return function(It,Dt){return Dt===void 0?-1:It===void 0?1:Xt!==void 0?+Xt(It,Dt)||0:w(It)>w(Dt)?1:-1}};h({target:"Array",proto:!0,forced:Bt},{sort:function(It){It!==void 0&&v(It);var Dt=y(this);if(Rt)return It===void 0?nt(Dt):nt(Dt,It);var Jt=[],le=E(Dt),Ve,gt;for(gt=0;gt<le;gt++)gt in Dt&&pt(Jt,Dt[gt]);for(A(Jt,St(It)),Ve=Jt.length,gt=0;gt<Ve;)Dt[gt]=Jt[gt++];for(;gt<le;)delete Dt[gt++];return Dt}})},"5087":function(l,u,s){var h=s("da84"),d=s("68ee"),v=s("0d51"),y=h.TypeError;l.exports=function(E){if(d(E))return E;throw y(v(E)+" is not a constructor")}},"50c4":function(l,u,s){var h=s("5926"),d=Math.min;l.exports=function(v){return v>0?d(h(v),9007199254740991):0}},"512c":function(l,u,s){var h=s("342f"),d=h.match(/AppleWebKit\/(\d+)\./);l.exports=!!d&&+d[1]},"5319":function(l,u,s){var h=s("2ba4"),d=s("c65b"),v=s("e330"),y=s("d784"),E=s("d039"),w=s("825a"),M=s("1626"),A=s("5926"),I=s("50c4"),K=s("577e"),z=s("1d80"),X=s("8aa5"),H=s("dc4a"),J=s("0cb2"),nt=s("14c3"),pt=s("b622"),it=pt("replace"),N=Math.max,_t=Math.min,Rt=v([].concat),Bt=v([].push),St=v("".indexOf),Xt=v("".slice),It=function(Ve){return Ve===void 0?Ve:String(Ve)},Dt=function(){return"a".replace(/./,"$0")==="$0"}(),Jt=function(){return/./[it]?/./[it]("a","$0")==="":!1}(),le=!E(function(){var Ve=/./;return Ve.exec=function(){var gt=[];return gt.groups={a:"7"},gt},"".replace(Ve,"$<a>")!=="7"});y("replace",function(Ve,gt,Yt){var oe=Jt?"$":"$0";return[function(ir,Ke){var Ge=z(this),Pr=ir==null?void 0:H(ir,it);return Pr?d(Pr,ir,Ge,Ke):d(gt,K(Ge),ir,Ke)},function(nr,ir){var Ke=w(this),Ge=K(nr);if(typeof ir=="string"&&St(ir,oe)===-1&&St(ir,"$<")===-1){var Pr=Yt(gt,Ke,Ge,ir);if(Pr.done)return Pr.value}var Kr=M(ir);Kr||(ir=K(ir));var pe=Ke.global;if(pe){var Qe=Ke.unicode;Ke.lastIndex=0}for(var Er=[];;){var Nr=nt(Ke,Ge);if(Nr===null||(Bt(Er,Nr),!pe))break;var Pn=K(Nr[0]);Pn===""&&(Ke.lastIndex=X(Ge,I(Ke.lastIndex),Qe))}for(var Br="",Vt=0,Qt=0;Qt<Er.length;Qt++){Nr=Er[Qt];for(var At=K(Nr[0]),ht=N(_t(A(Nr.index),Ge.length),0),Ct=[],te=1;te<Nr.length;te++)Bt(Ct,It(Nr[te]));var qt=Nr.groups;if(Kr){var fe=Rt([At],Ct,ht,Ge);qt!==void 0&&Bt(fe,qt);var Pe=K(h(ir,void 0,fe))}else Pe=J(At,Ge,ht,Ct,qt,ir);ht>=Vt&&(Br+=Xt(Ge,Vt,ht)+Pe,Vt=ht+At.length)}return Br+Xt(Ge,Vt)}]},!le||!Dt||Jt)},"5692":function(l,u,s){var h=s("c430"),d=s("c6cd");(l.exports=function(v,y){return d[v]||(d[v]=y!==void 0?y:{})})("versions",[]).push({version:"3.20.3",mode:h?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(l,u,s){var h=s("d066"),d=s("e330"),v=s("241c"),y=s("7418"),E=s("825a"),w=d([].concat);l.exports=h("Reflect","ownKeys")||function(A){var I=v.f(E(A)),K=y.f;return K?w(I,K(A)):I}},"577e":function(l,u,s){var h=s("da84"),d=s("f5df"),v=h.String;l.exports=function(y){if(d(y)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(y)}},"57cb":function(l,u,s){s.d(u,"b",function(){return d}),s.d(u,"a",function(){return v}),s.d(u,"c",function(){return y}),s.d(u,"d",function(){return E});var h=s("9f5e");function d(){return!0}function v(){return!1}function y(){}function E(w){var M=!1,A,I,K;return function(){var z=Array.prototype.slice.call(arguments);return(!M||this!==K||!Object(h.b)(z,I))&&(M=!0,K=this,I=z,A=w.apply(this,arguments)),A}}},"5899":function(l,u){l.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"58a8":function(l,u,s){var h=s("e330"),d=s("1d80"),v=s("577e"),y=s("5899"),E=h("".replace),w="["+y+"]",M=RegExp("^"+w+w+"*"),A=RegExp(w+w+"*$"),I=function(K){return function(z){var X=v(d(z));return K&1&&(X=E(X,M,"")),K&2&&(X=E(X,A,"")),X}};l.exports={start:I(1),end:I(2),trim:I(3)}},"5926":function(l,u){var s=Math.ceil,h=Math.floor;l.exports=function(d){var v=+d;return v!==v||v===0?0:(v>0?h:s)(v)}},"592d":function(l,u,s){u.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"59ed":function(l,u,s){var h=s("da84"),d=s("1626"),v=s("0d51"),y=h.TypeError;l.exports=function(E){if(d(E))return E;throw y(v(E)+" is not a function")}},"5a34":function(l,u,s){var h=s("da84"),d=s("44e7"),v=h.TypeError;l.exports=function(y){if(d(y))throw v("The method doesn't accept regular expressions");return y}},"5bc0":function(l,u,s){},"5c6c":function(l,u){l.exports=function(s,h){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:h}}},"5e77":function(l,u,s){var h=s("83ab"),d=s("1a2d"),v=Function.prototype,y=h&&Object.getOwnPropertyDescriptor,E=d(v,"name"),w=E&&function(){}.name==="something",M=E&&(!h||h&&y(v,"name").configurable);l.exports={EXISTS:E,PROPER:w,CONFIGURABLE:M}},"617d":function(l,u,s){s.d(u,"b",function(){return d}),s.d(u,"f",function(){return v}),s.d(u,"d",function(){return y}),s.d(u,"a",function(){return E}),s.d(u,"g",function(){return w}),s.d(u,"c",function(){return M}),s.d(u,"e",function(){return A});var h=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",d=h.indexOf("firefox")!==-1;h.indexOf("safari")!==-1&&h.indexOf("chrom")==-1;var v=h.indexOf("webkit")!==-1&&h.indexOf("edge")==-1,y=h.indexOf("macintosh")!==-1,E=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,w=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,M=typeof Image!="undefined"&&Image.prototype.decode,A=function(){var I=!1;try{var K=Object.defineProperty({},"passive",{get:function(){I=!0}});window.addEventListener("_",null,K),window.removeEventListener("_",null,K)}catch{}return I}()},"6547":function(l,u,s){var h=s("e330"),d=s("5926"),v=s("577e"),y=s("1d80"),E=h("".charAt),w=h("".charCodeAt),M=h("".slice),A=function(I){return function(K,z){var X=v(y(K)),H=d(z),J=X.length,nt,pt;return H<0||H>=J?I?"":void 0:(nt=w(X,H),nt<55296||nt>56319||H+1===J||(pt=w(X,H+1))<56320||pt>57343?I?E(X,H):nt:I?M(X,H,H+2):(nt-55296<<10)+(pt-56320)+65536)}};l.exports={codeAt:A(!1),charAt:A(!0)}},"658f":function(l,u,s){/*!
  * ol-contextmenu - v4.1.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Sat Aug 15 2020 10:43:26 GMT-0300 (Brasilia Standard Time)
  */(function(h,d){l.exports=d(s("3900"))})(this,function(h){function d(It){return It&&typeof It=="object"&&"default"in It?It:{default:It}}var v=d(h),y="ol-ctx-menu",E={namespace:y,container:y+"-container",separator:y+"-separator",submenu:y+"-submenu",hidden:y+"-hidden",icon:y+"-icon",zoomIn:y+"-zoom-in",zoomOut:y+"-zoom-out",unselectable:"ol-unselectable"},w=E,M="beforeopen",A="open",I="close",K="contextmenu",z={width:150,scrollAt:4,eventType:K,defaultItems:!0},X=[{text:"Zoom In",classname:E.zoomIn+" "+E.icon,callback:function(It,Dt){var Jt=Dt.getView();Jt.animate({zoom:+Jt.getZoom()+1,duration:700,center:It.coordinate})}},{text:"Zoom Out",classname:E.zoomOut+" "+E.icon,callback:function(It,Dt){var Jt=Dt.getView();Jt.animate({zoom:+Jt.getZoom()-1,duration:700,center:It.coordinate})}}];function H(It,Dt){if(Dt===void 0&&(Dt="Assertion failed"),!It)throw typeof Error!="undefined"?new Error(Dt):Dt}function J(It){return/^\d+$/.test(It)}function nt(It,Dt){return It.classList?It.classList.contains(Dt):_t(Dt).test(It.className)}function pt(It,Dt,Jt){Dt===void 0&&(Dt=window.document);var le=Array.prototype.slice,Ve=[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(It))switch(It[0]){case"#":Ve=[it(It.substr(1))];break;case".":Ve=le.call(Dt.getElementsByClassName(It.substr(1).replace(/\./g," ")));break;default:Ve=le.call(Dt.getElementsByTagName(It))}else Ve=le.call(Dt.querySelectorAll(It));return Jt?Ve:Ve[0]}function it(It){return It=It[0]==="#"?It.substr(1,It.length):It,document.getElementById(It)}function N(It){var Dt=document.createDocumentFragment(),Jt=document.createElement("div");for(Jt.innerHTML=It;Jt.firstChild;)Dt.appendChild(Jt.firstChild);return Dt}function _t(It){return new RegExp("(^|\\s+) "+It+" (\\s+|$)")}function Rt(It,Dt,Jt){It.classList?It.classList.add(Dt):It.className=(It.className+" "+Dt).trim(),Jt&&J(Jt)&&window.setTimeout(function(){return Bt(It,Dt)},Jt)}function Bt(It,Dt,Jt){It.classList?It.classList.remove(Dt):It.className=It.className.replace(_t(Dt)," ").trim(),Jt&&J(Jt)&&window.setTimeout(function(){return Rt(It,Dt)},Jt)}var St=function(It){return this.Base=It,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:It.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this};St.prototype.init=function(It){this.map=It,this.viewport=It.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},St.prototype.getItemsLength=function(){var It=this,Dt=0;return Object.keys(this.items).forEach(function(Jt){It.items[Jt].submenu||It.items[Jt].separator||Dt++}),Dt},St.prototype.getPixelClicked=function(){return this.pixelClicked},St.prototype.getCoordinateClicked=function(){return this.coordinateClicked},St.prototype.positionContainer=function(It){var Dt=this,Jt=this.Base.container,le=this.map.getSize(),Ve=le[1]-It[1],gt=le[0]-It[0],Yt=Jt.offsetWidth,oe=Math.round(this.lineHeight*this.getItemsLength()),nr=pt("li."+w.submenu+">div",Jt,!0);gt>=Yt?(Jt.style.right="auto",Jt.style.left=It[0]+5+"px"):(Jt.style.left="auto",Jt.style.right="15px"),Ve>=oe?(Jt.style.bottom="auto",Jt.style.top=It[1]-10+"px"):(Jt.style.top="auto",Jt.style.bottom=0),function ir(Ke,Ge,Pr){if(Array.isArray(Ke))Ke.forEach(function(Qe){return ir(Qe,Ge,Pr)});else for(var Kr=Array.isArray(Ge)?Ge:Ge.split(/\s+/),pe=Kr.length;pe--;)nt(Ke,Kr[pe])&&Bt(Ke,Kr[pe],Pr)}(Jt,w.hidden),nr.length&&(this.submenu.lastLeft=gt<2*Yt?"-"+Yt+"px":this.submenu.left,nr.forEach(function(ir){var Ke,Ge,Pr,Kr={w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight},pe=(Ge=(Ke=ir).getBoundingClientRect(),Pr=document.documentElement,{left:Ge.left+window.pageXOffset-Pr.clientLeft,top:Ge.top+window.pageYOffset-Pr.clientTop,width:Ke.offsetWidth,height:Ke.offsetHeight}),Qe=pe.height,Er=Ve-Qe;Er<0&&(Er=Qe-(Kr.h-pe.top),ir.style.top="-"+Er+"px"),ir.style.left=Dt.submenu.lastLeft}))},St.prototype.openMenu=function(It,Dt){this.Base.dispatchEvent({type:A,pixel:It,coordinate:Dt}),this.opened=!0,this.positionContainer(It)},St.prototype.closeMenu=function(){this.opened=!1,function It(Dt,Jt,le){if(Array.isArray(Dt))Dt.forEach(function(Yt){return It(Yt,Jt)});else for(var Ve=Array.isArray(Jt)?Jt:Jt.split(/\s+/),gt=Ve.length;gt--;)nt(Dt,Ve[gt])||Rt(Dt,Ve[gt],le)}(this.Base.container,w.hidden),this.Base.dispatchEvent({type:I})},St.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)},St.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)},St.prototype.handleEvent=function(It){var Dt=this;this.coordinateClicked=this.map.getEventCoordinate(It),this.pixelClicked=this.map.getEventPixel(It),this.Base.dispatchEvent({type:M,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===K&&(It.stopPropagation(),It.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),It.target.addEventListener("pointerdown",{handleEvent:function(Jt){Dt.opened&&(Dt.closeMenu(),Jt.stopPropagation(),It.target.removeEventListener(Jt.type,this,!1))}},!1))},St.prototype.handleMapMoveEvent=function(It){this.closeMenu()},St.prototype.setItemListener=function(It,Dt){var Jt,le=this;It&&typeof this.items[Dt].callback=="function"&&(Jt=this.items[Dt].callback,It.addEventListener("click",function(Ve){Ve.preventDefault();var gt={coordinate:le.getCoordinateClicked(),data:le.items[Dt].data||null};le.closeMenu(),Jt(gt,le.map)},!1))};var Xt=function(It){return this.Base=It,this.Base.container=this.container=this.createContainer(!0),this};return Xt.prototype.createContainer=function(It){var Dt=document.createElement("div"),Jt=document.createElement("ul"),le=[w.container,w.unselectable];return It&&le.push(w.hidden),Dt.className=le.join(" "),Dt.style.width=parseInt(this.Base.options.width,10)+"px",Dt.appendChild(Jt),Dt},Xt.prototype.createMenu=function(){var It=[];if("items"in this.Base.options?It=this.Base.options.defaultItems?this.Base.options.items.concat(X):this.Base.options.items:this.Base.options.defaultItems&&(It=X),It.length===0)return!1;It.forEach(this.addMenuEntry,this)},Xt.prototype.addMenuEntry=function(It){var Dt,Jt=this;if(It.items&&Array.isArray(It.items)){It.classname=It.classname||"",Dt=w.submenu,~It.classname.indexOf(Dt)||(It.classname=It.classname.length?" "+w.submenu:w.submenu);var le=this.generateHtmlAndPublish(this.container,It),Ve=this.createContainer();Ve.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,le.appendChild(Ve),It.items.forEach(function(gt){Jt.generateHtmlAndPublish(Ve,gt,!0)})}else this.generateHtmlAndPublish(this.container,It)},Xt.prototype.generateHtmlAndPublish=function(It,Dt,Jt){var le,Ve,gt="_"+Math.random().toString(36).substr(2,9),Yt=!1;return typeof Dt=="string"&&Dt.trim()==="-"?(le=N('<li id="'+gt+'" class="'+w.separator+'"><hr></li>'),Ve=[].slice.call(le.childNodes,0)[0],It.firstChild.appendChild(le),Yt=!0):(Dt.classname=Dt.classname||"",le=N("<span>"+Dt.text+"</span>"),Ve=document.createElement("li"),Dt.icon&&(Dt.classname===""?Dt.classname=w.icon:Dt.classname.indexOf(w.icon)===-1&&(Dt.classname+=" "+w.icon),Ve.setAttribute("style","background-image:url("+Dt.icon+")")),Ve.id=gt,Ve.className=Dt.classname,Ve.appendChild(le),It.firstChild.appendChild(Ve)),this.Base.Internal.items[gt]={id:gt,submenu:Jt||0,separator:Yt,callback:Dt.callback,data:Dt.data||null},this.Base.Internal.setItemListener(Ve,gt),Ve},Xt.prototype.removeMenuEntry=function(It){var Dt=pt("#"+It,this.container.firstChild);Dt&&this.container.firstChild.removeChild(Dt),delete this.Base.Internal.items[It]},Xt.prototype.cloneAndGetLineHeight=function(){var It=this.container.cloneNode(),Dt=N("<span>Foo</span>"),Jt=N("<span>Foo</span>"),le=document.createElement("li"),Ve=document.createElement("li");le.appendChild(Dt),Ve.appendChild(Jt),It.appendChild(le),It.appendChild(Ve),this.container.parentNode.appendChild(It);var gt=It.offsetHeight/2;return this.container.parentNode.removeChild(It),gt},function(It){function Dt(Jt){Jt===void 0&&(Jt={}),H(typeof Jt=="object","@param `opt_options` should be object type!"),this.options=function(le,Ve){var gt={};for(var Yt in le)gt[Yt]=le[Yt];for(var oe in Ve)gt[oe]=Ve[oe];return gt}(z,Jt),this.disabled=!1,this.Internal=new St(this),this.Html=new Xt(this),It.call(this,{element:this.container})}return It&&(Dt.__proto__=It),Dt.prototype=Object.create(It&&It.prototype),Dt.prototype.constructor=Dt,Dt.prototype.clear=function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)},Dt.prototype.close=function(){this.Internal.closeMenu()},Dt.prototype.enable=function(){this.disabled=!1},Dt.prototype.disable=function(){this.disabled=!0},Dt.prototype.getDefaultItems=function(){return X},Dt.prototype.countItems=function(){return Object.keys(this.Internal.items).length},Dt.prototype.extend=function(Jt){H(Array.isArray(Jt),"@param `arr` should be an Array."),Jt.forEach(this.push,this)},Dt.prototype.isOpen=function(){return this.Internal.opened},Dt.prototype.updatePosition=function(Jt){H(Array.isArray(Jt),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(Jt)},Dt.prototype.pop=function(){var Jt=Object.keys(this.Internal.items);this.Html.removeMenuEntry(Jt[Jt.length-1])},Dt.prototype.push=function(Jt){H(Jt!=null,"@param `item` must be informed."),this.Html.addMenuEntry(Jt)},Dt.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},Dt.prototype.setMap=function(Jt){It.prototype.setMap.call(this,Jt),Jt?this.Internal.init(Jt,this):this.Internal.removeListeners()},Dt}(v.default)})},"65f0":function(l,u,s){var h=s("0b42");l.exports=function(d,v){return new(h(d))(v===0?0:v)}},"68ee":function(l,u,s){var h=s("e330"),d=s("d039"),v=s("1626"),y=s("f5df"),E=s("d066"),w=s("8925"),M=function(){},A=[],I=E("Reflect","construct"),K=/^\s*(?:class|function)\b/,z=h(K.exec),X=!K.exec(M),H=function(pt){if(!v(pt))return!1;try{return I(M,A,pt),!0}catch{return!1}},J=function(pt){if(!v(pt))return!1;switch(y(pt)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X||!!z(K,w(pt))}catch{return!0}};J.sham=!0,l.exports=!I||d(function(){var nt;return H(H.call)||!H(Object)||!H(function(){nt=!0})||nt})?J:H},"69f3":function(l,u,s){var h=s("7f9a"),d=s("da84"),v=s("e330"),y=s("861d"),E=s("9112"),w=s("1a2d"),M=s("c6cd"),A=s("f772"),I=s("d012"),K="Object already initialized",z=d.TypeError,X=d.WeakMap,H,J,nt,pt=function(Xt){return nt(Xt)?J(Xt):H(Xt,{})},it=function(Xt){return function(It){var Dt;if(!y(It)||(Dt=J(It)).type!==Xt)throw z("Incompatible receiver, "+Xt+" required");return Dt}};if(h||M.state){var N=M.state||(M.state=new X),_t=v(N.get),Rt=v(N.has),Bt=v(N.set);H=function(Xt,It){if(Rt(N,Xt))throw new z(K);return It.facade=Xt,Bt(N,Xt,It),It},J=function(Xt){return _t(N,Xt)||{}},nt=function(Xt){return Rt(N,Xt)}}else{var St=A("state");I[St]=!0,H=function(Xt,It){if(w(Xt,St))throw new z(K);return It.facade=Xt,E(Xt,St,It),It},J=function(Xt){return w(Xt,St)?Xt[St]:{}},nt=function(Xt){return w(Xt,St)}}l.exports={set:H,get:J,has:nt,enforce:pt,getterFor:it}},"6b0d":function(l,u,s){Object.defineProperty(u,"__esModule",{value:!0}),u.default=(h,d)=>{const v=h.__vccOpts||h;for(const[y,E]of d)v[y]=E;return v}},"6eeb":function(l,u,s){var h=s("da84"),d=s("1626"),v=s("1a2d"),y=s("9112"),E=s("ce4e"),w=s("8925"),M=s("69f3"),A=s("5e77").CONFIGURABLE,I=M.get,K=M.enforce,z=String(String).split("String");(l.exports=function(X,H,J,nt){var pt=nt?!!nt.unsafe:!1,it=nt?!!nt.enumerable:!1,N=nt?!!nt.noTargetGet:!1,_t=nt&&nt.name!==void 0?nt.name:H,Rt;if(d(J)&&(String(_t).slice(0,7)==="Symbol("&&(_t="["+String(_t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v(J,"name")||A&&J.name!==_t)&&y(J,"name",_t),Rt=K(J),Rt.source||(Rt.source=z.join(typeof _t=="string"?_t:""))),X===h){it?X[H]=J:E(H,J);return}else pt?!N&&X[H]&&(it=!0):delete X[H];it?X[H]=J:y(X,H,J)})(Function.prototype,"toString",function(){return d(this)&&I(this).source||w(this)})},"6f53":function(l,u,s){var h=s("83ab"),d=s("e330"),v=s("df75"),y=s("fc6a"),E=s("d1e7").f,w=d(E),M=d([].push),A=function(I){return function(K){for(var z=y(K),X=v(z),H=X.length,J=0,nt=[],pt;H>J;)pt=X[J++],(!h||w(z,pt))&&M(nt,I?[pt,z[pt]]:z[pt]);return nt}};l.exports={entries:A(!0),values:A(!1)}},"7037":function(l,u,s){s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("e260"),s("3ca3"),s("ddb0");function h(d){return l.exports=h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l.exports.__esModule=!0,l.exports.default=l.exports,h(d)}l.exports=h,l.exports.__esModule=!0,l.exports.default=l.exports},"7156":function(l,u,s){var h=s("1626"),d=s("861d"),v=s("d2bb");l.exports=function(y,E,w){var M,A;return v&&h(M=E.constructor)&&M!==w&&d(A=M.prototype)&&A!==w.prototype&&v(y,A),y}},"72ba":function(l,u,s){s.d(u,"b",function(){return At}),s.d(u,"a",function(){return ht});var h=Uint8Array,d=Uint16Array,v=Uint32Array,y=new h([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E=new h([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w=new h([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=function(Ct,te){for(var qt=new d(31),fe=0;fe<31;++fe)qt[fe]=te+=1<<Ct[fe-1];for(var Pe=new v(qt[30]),fe=1;fe<30;++fe)for(var Be=qt[fe];Be<qt[fe+1];++Be)Pe[Be]=Be-qt[fe]<<5|fe;return[qt,Pe]},A=M(y,2),I=A[0],K=A[1];I[28]=258,K[258]=28;for(var z=M(E,0),X=z[0],H=z[1],J=new d(32768),nt=0;nt<32768;++nt){var pt=(nt&43690)>>>1|(nt&21845)<<1;pt=(pt&52428)>>>2|(pt&13107)<<2,pt=(pt&61680)>>>4|(pt&3855)<<4,J[nt]=((pt&65280)>>>8|(pt&255)<<8)>>>1}for(var it=function(Ct,te,qt){for(var fe=Ct.length,Pe=0,Be=new d(te);Pe<fe;++Pe)++Be[Ct[Pe]-1];var ue=new d(te);for(Pe=0;Pe<te;++Pe)ue[Pe]=ue[Pe-1]+Be[Pe-1]<<1;var ft;if(qt){ft=new d(1<<te);var j=15-te;for(Pe=0;Pe<fe;++Pe)if(Ct[Pe])for(var W=Pe<<4|Ct[Pe],st=te-Ct[Pe],$t=ue[Ct[Pe]-1]++<<st,Ee=$t|(1<<st)-1;$t<=Ee;++$t)ft[J[$t]>>>j]=W}else for(ft=new d(fe),Pe=0;Pe<fe;++Pe)ft[Pe]=J[ue[Ct[Pe]-1]++]>>>15-Ct[Pe];return ft},N=new h(288),nt=0;nt<144;++nt)N[nt]=8;for(var nt=144;nt<256;++nt)N[nt]=9;for(var nt=256;nt<280;++nt)N[nt]=7;for(var nt=280;nt<288;++nt)N[nt]=8;for(var _t=new h(32),nt=0;nt<32;++nt)_t[nt]=5;var Rt=it(N,9,0),Bt=it(N,9,1),St=it(_t,5,0),Xt=it(_t,5,1),It=function(Ct){for(var te=Ct[0],qt=1;qt<Ct.length;++qt)Ct[qt]>te&&(te=Ct[qt]);return te},Dt=function(Ct,te,qt){var fe=te/8>>0;return(Ct[fe]|Ct[fe+1]<<8)>>>(te&7)&qt},Jt=function(Ct,te){var qt=te/8>>0;return(Ct[qt]|Ct[qt+1]<<8|Ct[qt+2]<<16)>>>(te&7)},le=function(Ct){return(Ct/8>>0)+(Ct&7&&1)},Ve=function(Ct,te,qt){(te==null||te<0)&&(te=0),(qt==null||qt>Ct.length)&&(qt=Ct.length);var fe=new(Ct instanceof d?d:Ct instanceof v?v:h)(qt-te);return fe.set(Ct.subarray(te,qt)),fe},gt=function(Ct,te,qt){var fe=Ct.length,Pe=!te||qt,Be=!qt||qt.i;qt||(qt={}),te||(te=new h(fe*3));var ue=function(Ss){var Da=te.length;if(Ss>Da){var Io=new h(Math.max(Da*2,Ss));Io.set(te),te=Io}},ft=qt.f||0,j=qt.p||0,W=qt.b||0,st=qt.l,$t=qt.d,Ee=qt.m,Le=qt.n,Ar=fe*8;do{if(!st){qt.f=ft=Dt(Ct,j,1);var Gr=Dt(Ct,j+1,3);if(j+=3,Gr)if(Gr==1)st=Bt,$t=Xt,Ee=9,Le=5;else if(Gr==2){var ci=Dt(Ct,j,31)+257,ki=Dt(Ct,j+10,15)+4,Fn=ci+Dt(Ct,j+5,31)+1;j+=14;for(var qn=new h(Fn),Mi=new h(19),gn=0;gn<ki;++gn)Mi[w[gn]]=Dt(Ct,j+gn*3,7);j+=ki*3;var ao=It(Mi),kn=(1<<ao)-1;if(!Be&&j+Fn*(ao+7)>Ar)break;for(var ya=it(Mi,ao,1),gn=0;gn<Fn;){var Lo=ya[Dt(Ct,j,kn)];j+=Lo&15;var zr=Lo>>>4;if(zr<16)qn[gn++]=zr;else{var zi=0,an=0;for(zr==16?(an=3+Dt(Ct,j,3),j+=2,zi=qn[gn-1]):zr==17?(an=3+Dt(Ct,j,7),j+=3):zr==18&&(an=11+Dt(Ct,j,127),j+=7);an--;)qn[gn++]=zi}}var dr=qn.subarray(0,ci),rn=qn.subarray(ci);Ee=It(dr),Le=It(rn),st=it(dr,Ee,1),$t=it(rn,Le,1)}else throw"invalid block type";else{var zr=le(j)+4,sn=Ct[zr-4]|Ct[zr-3]<<8,Nn=zr+sn;if(Nn>fe){if(Be)throw"unexpected EOF";break}Pe&&ue(W+sn),te.set(Ct.subarray(zr,Nn),W),qt.b=W+=sn,qt.p=j=Nn*8;continue}if(j>Ar)throw"unexpected EOF"}Pe&&ue(W+131072);for(var Mn=(1<<Ee)-1,ri=(1<<Le)-1,_i=Ee+Le+18;Be||j+_i<Ar;){var zi=st[Jt(Ct,j)&Mn],wn=zi>>>4;if(j+=zi&15,j>Ar)throw"unexpected EOF";if(!zi)throw"invalid length/literal";if(wn<256)te[W++]=wn;else if(wn==256){st=null;break}else{var nn=wn-254;if(wn>264){var gn=wn-257,Ei=y[gn];nn=Dt(Ct,j,(1<<Ei)-1)+I[gn],j+=Ei}var ho=$t[Jt(Ct,j)&ri],zo=ho>>>4;if(!ho)throw"invalid distance";j+=ho&15;var rn=X[zo];if(zo>3){var Ei=E[zo];rn+=Jt(Ct,j)&(1<<Ei)-1,j+=Ei}if(j>Ar)throw"unexpected EOF";Pe&&ue(W+131072);for(var Un=W+nn;W<Un;W+=4)te[W]=te[W-rn],te[W+1]=te[W+1-rn],te[W+2]=te[W+2-rn],te[W+3]=te[W+3-rn];W=Un}}qt.l=st,qt.p=j,qt.b=W,st&&(ft=1,qt.m=Ee,qt.d=$t,qt.n=Le)}while(!ft);return W==te.length?te:Ve(te,0,W)},Yt=function(Ct,te,qt){qt<<=te&7;var fe=te/8>>0;Ct[fe]|=qt,Ct[fe+1]|=qt>>>8},oe=function(Ct,te,qt){qt<<=te&7;var fe=te/8>>0;Ct[fe]|=qt,Ct[fe+1]|=qt>>>8,Ct[fe+2]|=qt>>>16},nr=function(Ct,te){for(var qt=[],fe=0;fe<Ct.length;++fe)Ct[fe]&&qt.push({s:fe,f:Ct[fe]});var Pe=qt.length,Be=qt.slice();if(!Pe)return[new h(0),0];if(Pe==1){var ue=new h(qt[0].s+1);return ue[qt[0].s]=1,[ue,1]}qt.sort(function(Fn,qn){return Fn.f-qn.f}),qt.push({s:-1,f:25001});var ft=qt[0],j=qt[1],W=0,st=1,$t=2;for(qt[0]={s:-1,f:ft.f+j.f,l:ft,r:j};st!=Pe-1;)ft=qt[qt[W].f<qt[$t].f?W++:$t++],j=qt[W!=st&&qt[W].f<qt[$t].f?W++:$t++],qt[st++]={s:-1,f:ft.f+j.f,l:ft,r:j};for(var Ee=Be[0].s,fe=1;fe<Pe;++fe)Be[fe].s>Ee&&(Ee=Be[fe].s);var Le=new d(Ee+1),Ar=ir(qt[st-1],Le,0);if(Ar>te){var fe=0,Gr=0,zr=Ar-te,sn=1<<zr;for(Be.sort(function(qn,Mi){return Le[Mi.s]-Le[qn.s]||qn.f-Mi.f});fe<Pe;++fe){var Nn=Be[fe].s;if(Le[Nn]>te)Gr+=sn-(1<<Ar-Le[Nn]),Le[Nn]=te;else break}for(Gr>>>=zr;Gr>0;){var ci=Be[fe].s;Le[ci]<te?Gr-=1<<te-Le[ci]++-1:++fe}for(;fe>=0&&Gr;--fe){var ki=Be[fe].s;Le[ki]==te&&(--Le[ki],++Gr)}Ar=te}return[new h(Le),Ar]},ir=function(Ct,te,qt){return Ct.s==-1?Math.max(ir(Ct.l,te,qt+1),ir(Ct.r,te,qt+1)):te[Ct.s]=qt},Ke=function(Ct){for(var te=Ct.length;te&&!Ct[--te];);for(var qt=new d(++te),fe=0,Pe=Ct[0],Be=1,ue=function(j){qt[fe++]=j},ft=1;ft<=te;++ft)if(Ct[ft]==Pe&&ft!=te)++Be;else{if(!Pe&&Be>2){for(;Be>138;Be-=138)ue(32754);Be>2&&(ue(Be>10?Be-11<<5|28690:Be-3<<5|12305),Be=0)}else if(Be>3){for(ue(Pe),--Be;Be>6;Be-=6)ue(8304);Be>2&&(ue(Be-3<<5|8208),Be=0)}for(;Be--;)ue(Pe);Be=1,Pe=Ct[ft]}return[qt.subarray(0,fe),te]},Ge=function(Ct,te){for(var qt=0,fe=0;fe<te.length;++fe)qt+=Ct[fe]*te[fe];return qt},Pr=function(Ct,te,qt){var fe=qt.length,Pe=le(te+2);Ct[Pe]=fe&255,Ct[Pe+1]=fe>>>8,Ct[Pe+2]=Ct[Pe]^255,Ct[Pe+3]=Ct[Pe+1]^255;for(var Be=0;Be<fe;++Be)Ct[Pe+Be+4]=qt[Be];return(Pe+4+fe)*8},Kr=function(Ct,te,qt,fe,Pe,Be,ue,ft,j,W,st){Yt(te,st++,qt),++Pe[256];for(var $t=nr(Pe,15),Ee=$t[0],Le=$t[1],Ar=nr(Be,15),Gr=Ar[0],zr=Ar[1],sn=Ke(Ee),Nn=sn[0],ci=sn[1],ki=Ke(Gr),Fn=ki[0],qn=ki[1],Mi=new d(19),gn=0;gn<Nn.length;++gn)Mi[Nn[gn]&31]++;for(var gn=0;gn<Fn.length;++gn)Mi[Fn[gn]&31]++;for(var ao=nr(Mi,7),kn=ao[0],ya=ao[1],Lo=19;Lo>4&&!kn[w[Lo-1]];--Lo);var zi=W+5<<3,an=Ge(Pe,N)+Ge(Be,_t)+ue,dr=Ge(Pe,Ee)+Ge(Be,Gr)+ue+14+3*Lo+Ge(Mi,kn)+(2*Mi[16]+3*Mi[17]+7*Mi[18]);if(zi<=an&&zi<=dr)return Pr(te,st,Ct.subarray(j,j+W));var rn,Mn,ri,_i;if(Yt(te,st,1+(dr<an)),st+=2,dr<an){rn=it(Ee,Le,0),Mn=Ee,ri=it(Gr,zr,0),_i=Gr;var wn=it(kn,ya,0);Yt(te,st,ci-257),Yt(te,st+5,qn-1),Yt(te,st+10,Lo-4),st+=14;for(var gn=0;gn<Lo;++gn)Yt(te,st+3*gn,kn[w[gn]]);st+=3*Lo;for(var nn=[Nn,Fn],Ei=0;Ei<2;++Ei)for(var ho=nn[Ei],gn=0;gn<ho.length;++gn){var zo=ho[gn]&31;Yt(te,st,wn[zo]),st+=kn[zo],zo>15&&(Yt(te,st,ho[gn]>>>5&127),st+=ho[gn]>>>12)}}else rn=Rt,Mn=N,ri=St,_i=_t;for(var gn=0;gn<ft;++gn)if(fe[gn]>255){var zo=fe[gn]>>>18&31;oe(te,st,rn[zo+257]),st+=Mn[zo+257],zo>7&&(Yt(te,st,fe[gn]>>>23&31),st+=y[zo]);var Un=fe[gn]&31;oe(te,st,ri[Un]),st+=_i[Un],Un>3&&(oe(te,st,fe[gn]>>>5&8191),st+=E[Un])}else oe(te,st,rn[fe[gn]]),st+=Mn[fe[gn]];return oe(te,st,rn[256]),st+Mn[256]},pe=new v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qe=new h(0),Er=function(Ct,te,qt,fe,Pe,Be){var ue=Ct.length,ft=new h(fe+ue+5*(1+Math.floor(ue/7e3))+Pe),j=ft.subarray(fe,ft.length-Pe),W=0;if(!te||ue<8)for(var st=0;st<=ue;st+=65535){var $t=st+65535;$t<ue?W=Pr(j,W,Ct.subarray(st,$t)):(j[st]=Be,W=Pr(j,W,Ct.subarray(st,ue)))}else{for(var Ee=pe[te-1],Le=Ee>>>13,Ar=Ee&8191,Gr=(1<<qt)-1,zr=new d(32768),sn=new d(Gr+1),Nn=Math.ceil(qt/3),ci=2*Nn,ki=function(al){return(Ct[al]^Ct[al+1]<<Nn^Ct[al+2]<<ci)&Gr},Fn=new v(25e3),qn=new d(288),Mi=new d(32),gn=0,ao=0,st=0,kn=0,ya=0,Lo=0;st<ue;++st){var zi=ki(st),an=st&32767,dr=sn[zi];if(zr[an]=dr,sn[zi]=an,ya<=st){var rn=ue-st;if((gn>7e3||kn>24576)&&rn>423){W=Kr(Ct,j,0,Fn,qn,Mi,ao,kn,Lo,st-Lo,W),kn=gn=ao=0,Lo=st;for(var Mn=0;Mn<286;++Mn)qn[Mn]=0;for(var Mn=0;Mn<30;++Mn)Mi[Mn]=0}var ri=2,_i=0,wn=Ar,nn=an-dr&32767;if(rn>2&&zi==ki(st-nn))for(var Ei=Math.min(Le,rn)-1,ho=Math.min(32767,st),zo=Math.min(258,rn);nn<=ho&&--wn&&an!=dr;){if(Ct[st+ri]==Ct[st+ri-nn]){for(var Un=0;Un<zo&&Ct[st+Un]==Ct[st+Un-nn];++Un);if(Un>ri){if(ri=Un,_i=nn,Un>Ei)break;for(var Ss=Math.min(nn,Un-2),Da=0,Mn=0;Mn<Ss;++Mn){var Io=st-nn+Mn+32768&32767,Si=zr[Io],il=Io-Si+32768&32767;il>Da&&(Da=il,dr=Io)}}}an=dr,dr=zr[an],nn+=an-dr+32768&32767}if(_i){Fn[kn++]=268435456|K[ri]<<18|H[_i];var ja=K[ri]&31,Ma=H[_i]&31;ao+=y[ja]+E[Ma],++qn[257+ja],++Mi[Ma],ya=st+ri,++gn}else Fn[kn++]=Ct[st],++qn[Ct[st]]}}W=Kr(Ct,j,Be,Fn,qn,Mi,ao,kn,Lo,st-Lo,W),Be||(W=Pr(j,W,Qe))}return Ve(ft,0,fe+le(W)+Pe)},Nr=function(){var Ct=1,te=0;return{p:function(qt){for(var fe=Ct,Pe=te,Be=qt.length,ue=0;ue!=Be;){for(var ft=Math.min(ue+5552,Be);ue<ft;++ue)fe+=qt[ue],Pe+=fe;fe%=65521,Pe%=65521}Ct=fe,te=Pe},d:function(){return(Ct>>>8<<16|(te&255)<<8|te>>>8)+((Ct&255)<<23)*2}}},Pn=function(Ct,te,qt,fe,Pe){return Er(Ct,te.level==null?6:te.level,te.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Ct.length)))*1.5):12+te.mem,qt,fe,!Pe)},Br=function(Ct,te,qt){for(;qt;++te)Ct[te]=qt,qt>>>=8},Vt=function(Ct,te){var qt=te.level,fe=qt==0?0:qt<6?1:qt==9?3:2;Ct[0]=120,Ct[1]=fe<<6|(fe?32-2*fe:1)},Qt=function(Ct){if((Ct[0]&15)!=8||Ct[0]>>>4>7||(Ct[0]<<8|Ct[1])%31)throw"invalid zlib data";if(Ct[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function At(Ct,te){te===void 0&&(te={});var qt=Nr();qt.p(Ct);var fe=Pn(Ct,te,2,4);return Vt(fe,te),Br(fe,fe.length-4,qt.d()),fe}function ht(Ct,te){return gt((Qt(Ct),Ct.subarray(2,-4)),te)}},"7418":function(l,u){u.f=Object.getOwnPropertySymbols},"746f":function(l,u,s){var h=s("428f"),d=s("1a2d"),v=s("e538"),y=s("9bf2").f;l.exports=function(E){var w=h.Symbol||(h.Symbol={});d(w,E)||y(w,E,{value:v.f(E)})}},"7839":function(l,u){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(l,u,s){var h=s("cc12"),d=h("span").classList,v=d&&d.constructor&&d.constructor.prototype;l.exports=v===Object.prototype?void 0:v},"7915":function(l,u,s){l.exports=d;var h=s("9152");function d(gt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(gt)?gt:new Uint8Array(gt||0),this.pos=0,this.type=0,this.length=this.buf.length}d.Varint=0,d.Fixed64=1,d.Bytes=2,d.Fixed32=5;var v=(1<<16)*(1<<16),y=1/v,E=12,w=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");d.prototype={destroy:function(){this.buf=null},readFields:function(gt,Yt,oe){for(oe=oe||this.length;this.pos<oe;){var nr=this.readVarint(),ir=nr>>3,Ke=this.pos;this.type=nr&7,gt(ir,Yt,this),this.pos===Ke&&this.skip(nr)}return Yt},readMessage:function(gt,Yt){return this.readFields(gt,Yt,this.readVarint()+this.pos)},readFixed32:function(){var gt=Xt(this.buf,this.pos);return this.pos+=4,gt},readSFixed32:function(){var gt=Dt(this.buf,this.pos);return this.pos+=4,gt},readFixed64:function(){var gt=Xt(this.buf,this.pos)+Xt(this.buf,this.pos+4)*v;return this.pos+=8,gt},readSFixed64:function(){var gt=Xt(this.buf,this.pos)+Dt(this.buf,this.pos+4)*v;return this.pos+=8,gt},readFloat:function(){var gt=h.read(this.buf,this.pos,!0,23,4);return this.pos+=4,gt},readDouble:function(){var gt=h.read(this.buf,this.pos,!0,52,8);return this.pos+=8,gt},readVarint:function(gt){var Yt=this.buf,oe,nr;return nr=Yt[this.pos++],oe=nr&127,nr<128||(nr=Yt[this.pos++],oe|=(nr&127)<<7,nr<128)||(nr=Yt[this.pos++],oe|=(nr&127)<<14,nr<128)||(nr=Yt[this.pos++],oe|=(nr&127)<<21,nr<128)?oe:(nr=Yt[this.pos],oe|=(nr&15)<<28,M(oe,gt,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var gt=this.readVarint();return gt%2===1?(gt+1)/-2:gt/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var gt=this.readVarint()+this.pos,Yt=this.pos;return this.pos=gt,gt-Yt>=E&&w?le(this.buf,Yt,gt):Jt(this.buf,Yt,gt)},readBytes:function(){var gt=this.readVarint()+this.pos,Yt=this.buf.subarray(this.pos,gt);return this.pos=gt,Yt},readPackedVarint:function(gt,Yt){if(this.type!==d.Bytes)return gt.push(this.readVarint(Yt));var oe=A(this);for(gt=gt||[];this.pos<oe;)gt.push(this.readVarint(Yt));return gt},readPackedSVarint:function(gt){if(this.type!==d.Bytes)return gt.push(this.readSVarint());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readSVarint());return gt},readPackedBoolean:function(gt){if(this.type!==d.Bytes)return gt.push(this.readBoolean());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readBoolean());return gt},readPackedFloat:function(gt){if(this.type!==d.Bytes)return gt.push(this.readFloat());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readFloat());return gt},readPackedDouble:function(gt){if(this.type!==d.Bytes)return gt.push(this.readDouble());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readDouble());return gt},readPackedFixed32:function(gt){if(this.type!==d.Bytes)return gt.push(this.readFixed32());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readFixed32());return gt},readPackedSFixed32:function(gt){if(this.type!==d.Bytes)return gt.push(this.readSFixed32());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readSFixed32());return gt},readPackedFixed64:function(gt){if(this.type!==d.Bytes)return gt.push(this.readFixed64());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readFixed64());return gt},readPackedSFixed64:function(gt){if(this.type!==d.Bytes)return gt.push(this.readSFixed64());var Yt=A(this);for(gt=gt||[];this.pos<Yt;)gt.push(this.readSFixed64());return gt},skip:function(gt){var Yt=gt&7;if(Yt===d.Varint)for(;this.buf[this.pos++]>127;);else if(Yt===d.Bytes)this.pos=this.readVarint()+this.pos;else if(Yt===d.Fixed32)this.pos+=4;else if(Yt===d.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+Yt)},writeTag:function(gt,Yt){this.writeVarint(gt<<3|Yt)},realloc:function(gt){for(var Yt=this.length||16;Yt<this.pos+gt;)Yt*=2;if(Yt!==this.length){var oe=new Uint8Array(Yt);oe.set(this.buf),this.buf=oe,this.length=Yt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(gt){this.realloc(4),It(this.buf,gt,this.pos),this.pos+=4},writeSFixed32:function(gt){this.realloc(4),It(this.buf,gt,this.pos),this.pos+=4},writeFixed64:function(gt){this.realloc(8),It(this.buf,gt&-1,this.pos),It(this.buf,Math.floor(gt*y),this.pos+4),this.pos+=8},writeSFixed64:function(gt){this.realloc(8),It(this.buf,gt&-1,this.pos),It(this.buf,Math.floor(gt*y),this.pos+4),this.pos+=8},writeVarint:function(gt){if(gt=+gt||0,gt>268435455||gt<0){K(gt,this);return}this.realloc(4),this.buf[this.pos++]=gt&127|(gt>127?128:0),!(gt<=127)&&(this.buf[this.pos++]=(gt>>>=7)&127|(gt>127?128:0),!(gt<=127)&&(this.buf[this.pos++]=(gt>>>=7)&127|(gt>127?128:0),!(gt<=127)&&(this.buf[this.pos++]=gt>>>7&127)))},writeSVarint:function(gt){this.writeVarint(gt<0?-gt*2-1:gt*2)},writeBoolean:function(gt){this.writeVarint(Boolean(gt))},writeString:function(gt){gt=String(gt),this.realloc(gt.length*4),this.pos++;var Yt=this.pos;this.pos=Ve(this.buf,gt,this.pos);var oe=this.pos-Yt;oe>=128&&H(Yt,oe,this),this.pos=Yt-1,this.writeVarint(oe),this.pos+=oe},writeFloat:function(gt){this.realloc(4),h.write(this.buf,gt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(gt){this.realloc(8),h.write(this.buf,gt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(gt){var Yt=gt.length;this.writeVarint(Yt),this.realloc(Yt);for(var oe=0;oe<Yt;oe++)this.buf[this.pos++]=gt[oe]},writeRawMessage:function(gt,Yt){this.pos++;var oe=this.pos;gt(Yt,this);var nr=this.pos-oe;nr>=128&&H(oe,nr,this),this.pos=oe-1,this.writeVarint(nr),this.pos+=nr},writeMessage:function(gt,Yt,oe){this.writeTag(gt,d.Bytes),this.writeRawMessage(Yt,oe)},writePackedVarint:function(gt,Yt){Yt.length&&this.writeMessage(gt,J,Yt)},writePackedSVarint:function(gt,Yt){Yt.length&&this.writeMessage(gt,nt,Yt)},writePackedBoolean:function(gt,Yt){Yt.length&&this.writeMessage(gt,N,Yt)},writePackedFloat:function(gt,Yt){Yt.length&&this.writeMessage(gt,pt,Yt)},writePackedDouble:function(gt,Yt){Yt.length&&this.writeMessage(gt,it,Yt)},writePackedFixed32:function(gt,Yt){Yt.length&&this.writeMessage(gt,_t,Yt)},writePackedSFixed32:function(gt,Yt){Yt.length&&this.writeMessage(gt,Rt,Yt)},writePackedFixed64:function(gt,Yt){Yt.length&&this.writeMessage(gt,Bt,Yt)},writePackedSFixed64:function(gt,Yt){Yt.length&&this.writeMessage(gt,St,Yt)},writeBytesField:function(gt,Yt){this.writeTag(gt,d.Bytes),this.writeBytes(Yt)},writeFixed32Field:function(gt,Yt){this.writeTag(gt,d.Fixed32),this.writeFixed32(Yt)},writeSFixed32Field:function(gt,Yt){this.writeTag(gt,d.Fixed32),this.writeSFixed32(Yt)},writeFixed64Field:function(gt,Yt){this.writeTag(gt,d.Fixed64),this.writeFixed64(Yt)},writeSFixed64Field:function(gt,Yt){this.writeTag(gt,d.Fixed64),this.writeSFixed64(Yt)},writeVarintField:function(gt,Yt){this.writeTag(gt,d.Varint),this.writeVarint(Yt)},writeSVarintField:function(gt,Yt){this.writeTag(gt,d.Varint),this.writeSVarint(Yt)},writeStringField:function(gt,Yt){this.writeTag(gt,d.Bytes),this.writeString(Yt)},writeFloatField:function(gt,Yt){this.writeTag(gt,d.Fixed32),this.writeFloat(Yt)},writeDoubleField:function(gt,Yt){this.writeTag(gt,d.Fixed64),this.writeDouble(Yt)},writeBooleanField:function(gt,Yt){this.writeVarintField(gt,Boolean(Yt))}};function M(gt,Yt,oe){var nr=oe.buf,ir,Ke;if(Ke=nr[oe.pos++],ir=(Ke&112)>>4,Ke<128||(Ke=nr[oe.pos++],ir|=(Ke&127)<<3,Ke<128)||(Ke=nr[oe.pos++],ir|=(Ke&127)<<10,Ke<128)||(Ke=nr[oe.pos++],ir|=(Ke&127)<<17,Ke<128)||(Ke=nr[oe.pos++],ir|=(Ke&127)<<24,Ke<128)||(Ke=nr[oe.pos++],ir|=(Ke&1)<<31,Ke<128))return I(gt,ir,Yt);throw new Error("Expected varint not more than 10 bytes")}function A(gt){return gt.type===d.Bytes?gt.readVarint()+gt.pos:gt.pos+1}function I(gt,Yt,oe){return oe?Yt*4294967296+(gt>>>0):(Yt>>>0)*4294967296+(gt>>>0)}function K(gt,Yt){var oe,nr;if(gt>=0?(oe=gt%4294967296|0,nr=gt/4294967296|0):(oe=~(-gt%4294967296),nr=~(-gt/4294967296),oe^4294967295?oe=oe+1|0:(oe=0,nr=nr+1|0)),gt>=18446744073709552e3||gt<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Yt.realloc(10),z(oe,nr,Yt),X(nr,Yt)}function z(gt,Yt,oe){oe.buf[oe.pos++]=gt&127|128,gt>>>=7,oe.buf[oe.pos++]=gt&127|128,gt>>>=7,oe.buf[oe.pos++]=gt&127|128,gt>>>=7,oe.buf[oe.pos++]=gt&127|128,gt>>>=7,oe.buf[oe.pos]=gt&127}function X(gt,Yt){var oe=(gt&7)<<4;Yt.buf[Yt.pos++]|=oe|((gt>>>=3)?128:0),gt&&(Yt.buf[Yt.pos++]=gt&127|((gt>>>=7)?128:0),gt&&(Yt.buf[Yt.pos++]=gt&127|((gt>>>=7)?128:0),gt&&(Yt.buf[Yt.pos++]=gt&127|((gt>>>=7)?128:0),gt&&(Yt.buf[Yt.pos++]=gt&127|((gt>>>=7)?128:0),gt&&(Yt.buf[Yt.pos++]=gt&127)))))}function H(gt,Yt,oe){var nr=Yt<=16383?1:Yt<=2097151?2:Yt<=268435455?3:Math.floor(Math.log(Yt)/(Math.LN2*7));oe.realloc(nr);for(var ir=oe.pos-1;ir>=gt;ir--)oe.buf[ir+nr]=oe.buf[ir]}function J(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeVarint(gt[oe])}function nt(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeSVarint(gt[oe])}function pt(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeFloat(gt[oe])}function it(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeDouble(gt[oe])}function N(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeBoolean(gt[oe])}function _t(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeFixed32(gt[oe])}function Rt(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeSFixed32(gt[oe])}function Bt(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeFixed64(gt[oe])}function St(gt,Yt){for(var oe=0;oe<gt.length;oe++)Yt.writeSFixed64(gt[oe])}function Xt(gt,Yt){return(gt[Yt]|gt[Yt+1]<<8|gt[Yt+2]<<16)+gt[Yt+3]*16777216}function It(gt,Yt,oe){gt[oe]=Yt,gt[oe+1]=Yt>>>8,gt[oe+2]=Yt>>>16,gt[oe+3]=Yt>>>24}function Dt(gt,Yt){return(gt[Yt]|gt[Yt+1]<<8|gt[Yt+2]<<16)+(gt[Yt+3]<<24)}function Jt(gt,Yt,oe){for(var nr="",ir=Yt;ir<oe;){var Ke=gt[ir],Ge=null,Pr=Ke>239?4:Ke>223?3:Ke>191?2:1;if(ir+Pr>oe)break;var Kr,pe,Qe;Pr===1?Ke<128&&(Ge=Ke):Pr===2?(Kr=gt[ir+1],(Kr&192)===128&&(Ge=(Ke&31)<<6|Kr&63,Ge<=127&&(Ge=null))):Pr===3?(Kr=gt[ir+1],pe=gt[ir+2],(Kr&192)===128&&(pe&192)===128&&(Ge=(Ke&15)<<12|(Kr&63)<<6|pe&63,(Ge<=2047||Ge>=55296&&Ge<=57343)&&(Ge=null))):Pr===4&&(Kr=gt[ir+1],pe=gt[ir+2],Qe=gt[ir+3],(Kr&192)===128&&(pe&192)===128&&(Qe&192)===128&&(Ge=(Ke&15)<<18|(Kr&63)<<12|(pe&63)<<6|Qe&63,(Ge<=65535||Ge>=1114112)&&(Ge=null))),Ge===null?(Ge=65533,Pr=1):Ge>65535&&(Ge-=65536,nr+=String.fromCharCode(Ge>>>10&1023|55296),Ge=56320|Ge&1023),nr+=String.fromCharCode(Ge),ir+=Pr}return nr}function le(gt,Yt,oe){return w.decode(gt.subarray(Yt,oe))}function Ve(gt,Yt,oe){for(var nr=0,ir,Ke;nr<Yt.length;nr++){if(ir=Yt.charCodeAt(nr),ir>55295&&ir<57344)if(Ke)if(ir<56320){gt[oe++]=239,gt[oe++]=191,gt[oe++]=189,Ke=ir;continue}else ir=Ke-55296<<10|ir-56320|65536,Ke=null;else{ir>56319||nr+1===Yt.length?(gt[oe++]=239,gt[oe++]=191,gt[oe++]=189):Ke=ir;continue}else Ke&&(gt[oe++]=239,gt[oe++]=191,gt[oe++]=189,Ke=null);ir<128?gt[oe++]=ir:(ir<2048?gt[oe++]=ir>>6|192:(ir<65536?gt[oe++]=ir>>12|224:(gt[oe++]=ir>>18|240,gt[oe++]=ir>>12&63|128),gt[oe++]=ir>>6&63|128),gt[oe++]=ir&63|128)}return oe}},"7b0b":function(l,u,s){var h=s("da84"),d=s("1d80"),v=h.Object;l.exports=function(y){return v(d(y))}},"7b4f":function(l,u,s){u.a={PROPERTYCHANGE:"propertychange"}},"7c73":function(l,u,s){var h=s("825a"),d=s("37e8"),v=s("7839"),y=s("d012"),E=s("1be4"),w=s("cc12"),M=s("f772"),A=">",I="<",K="prototype",z="script",X=M("IE_PROTO"),H=function(){},J=function(_t){return I+z+A+_t+I+"/"+z+A},nt=function(_t){_t.write(J("")),_t.close();var Rt=_t.parentWindow.Object;return _t=null,Rt},pt=function(){var _t=w("iframe"),Rt="java"+z+":",Bt;return _t.style.display="none",E.appendChild(_t),_t.src=String(Rt),Bt=_t.contentWindow.document,Bt.open(),Bt.write(J("document.F=Object")),Bt.close(),Bt.F},it,N=function(){try{it=new ActiveXObject("htmlfile")}catch{}N=typeof document!="undefined"?document.domain&&it?nt(it):pt():nt(it);for(var _t=v.length;_t--;)delete N[K][v[_t]];return N()};y[X]=!0,l.exports=Object.create||function(Rt,Bt){var St;return Rt!==null?(H[K]=h(Rt),St=new H,H[K]=null,St[X]=Rt):St=N(),Bt===void 0?St:d.f(St,Bt)}},"7d05":function(l,u,s){},"7dd0":function(l,u,s){var h=s("23e7"),d=s("c65b"),v=s("c430"),y=s("5e77"),E=s("1626"),w=s("9ed3"),M=s("e163"),A=s("d2bb"),I=s("d44e"),K=s("9112"),z=s("6eeb"),X=s("b622"),H=s("3f8c"),J=s("ae93"),nt=y.PROPER,pt=y.CONFIGURABLE,it=J.IteratorPrototype,N=J.BUGGY_SAFARI_ITERATORS,_t=X("iterator"),Rt="keys",Bt="values",St="entries",Xt=function(){return this};l.exports=function(It,Dt,Jt,le,Ve,gt,Yt){w(Jt,Dt,le);var oe=function(Nr){if(Nr===Ve&&Pr)return Pr;if(!N&&Nr in Ke)return Ke[Nr];switch(Nr){case Rt:return function(){return new Jt(this,Nr)};case Bt:return function(){return new Jt(this,Nr)};case St:return function(){return new Jt(this,Nr)}}return function(){return new Jt(this)}},nr=Dt+" Iterator",ir=!1,Ke=It.prototype,Ge=Ke[_t]||Ke["@@iterator"]||Ve&&Ke[Ve],Pr=!N&&Ge||oe(Ve),Kr=Dt=="Array"&&Ke.entries||Ge,pe,Qe,Er;if(Kr&&(pe=M(Kr.call(new It)),pe!==Object.prototype&&pe.next&&(!v&&M(pe)!==it&&(A?A(pe,it):E(pe[_t])||z(pe,_t,Xt)),I(pe,nr,!0,!0),v&&(H[nr]=Xt))),nt&&Ve==Bt&&Ge&&Ge.name!==Bt&&(!v&&pt?K(Ke,"name",Bt):(ir=!0,Pr=function(){return d(Ge,this)})),Ve)if(Qe={values:oe(Bt),keys:gt?Pr:oe(Rt),entries:oe(St)},Yt)for(Er in Qe)(N||ir||!(Er in Ke))&&z(Ke,Er,Qe[Er]);else h({target:Dt,proto:!0,forced:N||ir},Qe);return(!v||Yt)&&Ke[_t]!==Pr&&z(Ke,_t,Pr,{name:Ve}),H[Dt]=Pr,Qe}},"7f9a":function(l,u,s){var h=s("da84"),d=s("1626"),v=s("8925"),y=h.WeakMap;l.exports=d(y)&&/native code/.test(v(y))},"7fd1":function(l,u,s){(function(h){s.d(u,"a",function(){return d});function d(){var v='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};';return new Worker(typeof Blob=="undefined"?"data:application/javascript;base64,"+h.from(v,"binary").toString("base64"):URL.createObjectURL(new Blob([v],{type:"application/javascript"})))}}).call(this,s("b639").Buffer)},"825a":function(l,u,s){var h=s("da84"),d=s("861d"),v=h.String,y=h.TypeError;l.exports=function(E){if(d(E))return E;throw y(v(E)+" is not an object")}},"83ab":function(l,u,s){var h=s("d039");l.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(l,u,s){var h=s("a04b"),d=s("9bf2"),v=s("5c6c");l.exports=function(y,E,w){var M=h(E);M in y?d.f(y,M,v(0,w)):y[M]=w}},"861d":function(l,u,s){var h=s("1626");l.exports=function(d){return typeof d=="object"?d!==null:h(d)}},"872d":function(l,u,s){},"8875":function(l,u,s){var h,d,v;(function(y,E){d=[],h=E,v=typeof h=="function"?h.apply(u,d):h,v!==void 0&&(l.exports=v)})(typeof self!="undefined"?self:this,function(){function y(){var E=Object.getOwnPropertyDescriptor(document,"currentScript");if(!E&&"currentScript"in document&&document.currentScript||E&&E.get!==y&&document.currentScript)return document.currentScript;try{throw new Error}catch(it){var w=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,M=/@([^@]*):(\d+):(\d+)\s*$/ig,A=w.exec(it.stack)||M.exec(it.stack),I=A&&A[1]||!1,K=A&&A[2]||!1,z=document.location.href.replace(document.location.hash,""),X,H,J,nt=document.getElementsByTagName("script");I===z&&(X=document.documentElement.outerHTML,H=new RegExp("(?:[^\\n]+?\\n){0,"+(K-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),J=X.replace(H,"$1").trim());for(var pt=0;pt<nt.length;pt++)if(nt[pt].readyState==="interactive"||nt[pt].src===I||I===z&&nt[pt].innerHTML&&nt[pt].innerHTML.trim()===J)return nt[pt];return null}}return y})},"8925":function(l,u,s){var h=s("e330"),d=s("1626"),v=s("c6cd"),y=h(Function.toString);d(v.inspectSource)||(v.inspectSource=function(E){return y(E)}),l.exports=v.inspectSource},"8aa5":function(l,u,s){var h=s("6547").charAt;l.exports=function(d,v,y){return v+(y?h(d,v).length:1)}},"8baf":function(l,u,s){(function(h){s.d(u,"a",function(){return pe});var d=s("7037"),v=s.n(d),y=s("72ba");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.0 Built on 2021-12-21T09:44:51.866Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var E=function(){return typeof window!="undefined"?window:typeof h!="undefined"?h:typeof self!="undefined"?self:this}();function w(){E.console&&typeof E.console.log=="function"&&E.console.log.apply(E.console,arguments)}var M={log:w,warn:function(F){E.console&&(typeof E.console.warn=="function"?E.console.warn.apply(E.console,arguments):w.call(null,arguments))},error:function(F){E.console&&(typeof E.console.error=="function"?E.console.error.apply(E.console,arguments):w(F))}};function A(F,C,b){var G=new XMLHttpRequest;G.open("GET",F),G.responseType="blob",G.onload=function(){H(G.response,C,b)},G.onerror=function(){M.error("could not download file")},G.send()}function I(F){var C=new XMLHttpRequest;C.open("HEAD",F,!1);try{C.send()}catch{}return C.status>=200&&C.status<=299}function K(F){try{F.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),F.dispatchEvent(C)}}var z,X,H=E.saveAs||((typeof window=="undefined"?"undefined":v()(window))!=="object"||window!==E?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(F,C,b){var G=E.URL||E.webkitURL,Z=document.createElement("a");C=C||F.name||"download",Z.download=C,Z.rel="noopener",typeof F=="string"?(Z.href=F,Z.origin!==location.origin?I(Z.href)?A(F,C,b):K(Z,Z.target="_blank"):K(Z)):(Z.href=G.createObjectURL(F),setTimeout(function(){G.revokeObjectURL(Z.href)},4e4),setTimeout(function(){K(Z)},0))}:"msSaveOrOpenBlob"in navigator?function(F,C,b){if(C=C||F.name||"download",typeof F=="string")if(I(F))A(F,C,b);else{var G=document.createElement("a");G.href=F,G.target="_blank",setTimeout(function(){K(G)})}else navigator.msSaveOrOpenBlob(function(Z,B){return B===void 0?B={autoBom:!1}:v()(B)!=="object"&&(M.warn("Deprecated: Expected third argument to be a object"),B={autoBom:!B}),B.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Z.type)?new Blob([String.fromCharCode(65279),Z],{type:Z.type}):Z}(F,b),C)}:function(F,C,b,G){if((G=G||open("","_blank"))&&(G.document.title=G.document.body.innerText="downloading..."),typeof F=="string")return A(F,C,b);var Z=F.type==="application/octet-stream",B=/constructor/i.test(E.HTMLElement)||E.safari,tt=/CriOS\/[\d]+/.test(navigator.userAgent);if((tt||Z&&B)&&(typeof FileReader=="undefined"?"undefined":v()(FileReader))==="object"){var at=new FileReader;at.onloadend=function(){var Ut=at.result;Ut=tt?Ut:Ut.replace(/^data:[^;]*;/,"data:attachment/file;"),G?G.location.href=Ut:location=Ut,G=null},at.readAsDataURL(F)}else{var lt=E.URL||E.webkitURL,wt=lt.createObjectURL(F);G?G.location=wt:location.href=wt,G=null,setTimeout(function(){lt.revokeObjectURL(wt)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function J(F){var C;F=F||"",this.ok=!1,F.charAt(0)=="#"&&(F=F.substr(1,6)),F={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[F=(F=F.replace(/ /g,"")).toLowerCase()]||F;for(var b=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(at){return[parseInt(at[1]),parseInt(at[2]),parseInt(at[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(at){return[parseInt(at[1],16),parseInt(at[2],16),parseInt(at[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(at){return[parseInt(at[1]+at[1],16),parseInt(at[2]+at[2],16),parseInt(at[3]+at[3],16)]}}],G=0;G<b.length;G++){var Z=b[G].re,B=b[G].process,tt=Z.exec(F);tt&&(C=B(tt),this.r=C[0],this.g=C[1],this.b=C[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var at=this.r.toString(16),lt=this.g.toString(16),wt=this.b.toString(16);return at.length==1&&(at="0"+at),lt.length==1&&(lt="0"+lt),wt.length==1&&(wt="0"+wt),"#"+at+lt+wt}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function nt(F,C){var b=F[0],G=F[1],Z=F[2],B=F[3];b=it(b,G,Z,B,C[0],7,-680876936),B=it(B,b,G,Z,C[1],12,-389564586),Z=it(Z,B,b,G,C[2],17,606105819),G=it(G,Z,B,b,C[3],22,-1044525330),b=it(b,G,Z,B,C[4],7,-176418897),B=it(B,b,G,Z,C[5],12,1200080426),Z=it(Z,B,b,G,C[6],17,-1473231341),G=it(G,Z,B,b,C[7],22,-45705983),b=it(b,G,Z,B,C[8],7,1770035416),B=it(B,b,G,Z,C[9],12,-1958414417),Z=it(Z,B,b,G,C[10],17,-42063),G=it(G,Z,B,b,C[11],22,-1990404162),b=it(b,G,Z,B,C[12],7,1804603682),B=it(B,b,G,Z,C[13],12,-40341101),Z=it(Z,B,b,G,C[14],17,-1502002290),b=N(b,G=it(G,Z,B,b,C[15],22,1236535329),Z,B,C[1],5,-165796510),B=N(B,b,G,Z,C[6],9,-1069501632),Z=N(Z,B,b,G,C[11],14,643717713),G=N(G,Z,B,b,C[0],20,-373897302),b=N(b,G,Z,B,C[5],5,-701558691),B=N(B,b,G,Z,C[10],9,38016083),Z=N(Z,B,b,G,C[15],14,-660478335),G=N(G,Z,B,b,C[4],20,-405537848),b=N(b,G,Z,B,C[9],5,568446438),B=N(B,b,G,Z,C[14],9,-1019803690),Z=N(Z,B,b,G,C[3],14,-187363961),G=N(G,Z,B,b,C[8],20,1163531501),b=N(b,G,Z,B,C[13],5,-1444681467),B=N(B,b,G,Z,C[2],9,-51403784),Z=N(Z,B,b,G,C[7],14,1735328473),b=_t(b,G=N(G,Z,B,b,C[12],20,-1926607734),Z,B,C[5],4,-378558),B=_t(B,b,G,Z,C[8],11,-2022574463),Z=_t(Z,B,b,G,C[11],16,1839030562),G=_t(G,Z,B,b,C[14],23,-35309556),b=_t(b,G,Z,B,C[1],4,-1530992060),B=_t(B,b,G,Z,C[4],11,1272893353),Z=_t(Z,B,b,G,C[7],16,-155497632),G=_t(G,Z,B,b,C[10],23,-1094730640),b=_t(b,G,Z,B,C[13],4,681279174),B=_t(B,b,G,Z,C[0],11,-358537222),Z=_t(Z,B,b,G,C[3],16,-722521979),G=_t(G,Z,B,b,C[6],23,76029189),b=_t(b,G,Z,B,C[9],4,-640364487),B=_t(B,b,G,Z,C[12],11,-421815835),Z=_t(Z,B,b,G,C[15],16,530742520),b=Rt(b,G=_t(G,Z,B,b,C[2],23,-995338651),Z,B,C[0],6,-198630844),B=Rt(B,b,G,Z,C[7],10,1126891415),Z=Rt(Z,B,b,G,C[14],15,-1416354905),G=Rt(G,Z,B,b,C[5],21,-57434055),b=Rt(b,G,Z,B,C[12],6,1700485571),B=Rt(B,b,G,Z,C[3],10,-1894986606),Z=Rt(Z,B,b,G,C[10],15,-1051523),G=Rt(G,Z,B,b,C[1],21,-2054922799),b=Rt(b,G,Z,B,C[8],6,1873313359),B=Rt(B,b,G,Z,C[15],10,-30611744),Z=Rt(Z,B,b,G,C[6],15,-1560198380),G=Rt(G,Z,B,b,C[13],21,1309151649),b=Rt(b,G,Z,B,C[4],6,-145523070),B=Rt(B,b,G,Z,C[11],10,-1120210379),Z=Rt(Z,B,b,G,C[2],15,718787259),G=Rt(G,Z,B,b,C[9],21,-343485551),F[0]=Ve(b,F[0]),F[1]=Ve(G,F[1]),F[2]=Ve(Z,F[2]),F[3]=Ve(B,F[3])}function pt(F,C,b,G,Z,B){return C=Ve(Ve(C,F),Ve(G,B)),Ve(C<<Z|C>>>32-Z,b)}function it(F,C,b,G,Z,B,tt){return pt(C&b|~C&G,F,C,Z,B,tt)}function N(F,C,b,G,Z,B,tt){return pt(C&G|b&~G,F,C,Z,B,tt)}function _t(F,C,b,G,Z,B,tt){return pt(C^b^G,F,C,Z,B,tt)}function Rt(F,C,b,G,Z,B,tt){return pt(b^(C|~G),F,C,Z,B,tt)}function Bt(F){var C,b=F.length,G=[1732584193,-271733879,-1732584194,271733878];for(C=64;C<=F.length;C+=64)nt(G,St(F.substring(C-64,C)));F=F.substring(C-64);var Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(C=0;C<F.length;C++)Z[C>>2]|=F.charCodeAt(C)<<(C%4<<3);if(Z[C>>2]|=128<<(C%4<<3),C>55)for(nt(G,Z),C=0;C<16;C++)Z[C]=0;return Z[14]=8*b,nt(G,Z),G}function St(F){var C,b=[];for(C=0;C<64;C+=4)b[C>>2]=F.charCodeAt(C)+(F.charCodeAt(C+1)<<8)+(F.charCodeAt(C+2)<<16)+(F.charCodeAt(C+3)<<24);return b}z=E.atob.bind(E),X=E.btoa.bind(E);var Xt="0123456789abcdef".split("");function It(F){for(var C="",b=0;b<4;b++)C+=Xt[F>>8*b+4&15]+Xt[F>>8*b&15];return C}function Dt(F){return String.fromCharCode((255&F)>>0,(65280&F)>>8,(16711680&F)>>16,(4278190080&F)>>24)}function Jt(F){return Bt(F).map(Dt).join("")}var le=function(F){for(var C=0;C<F.length;C++)F[C]=It(F[C]);return F.join("")}(Bt("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ve(F,C){if(le){var b=(65535&F)+(65535&C);return(F>>16)+(C>>16)+(b>>16)<<16|65535&b}return F+C&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gt(F,C){var b,G,Z,B;if(F!==b){for(var tt=(Z=F,B=1+(256/F.length>>0),new Array(B+1).join(Z)),at=[],lt=0;lt<256;lt++)at[lt]=lt;var wt=0;for(lt=0;lt<256;lt++){var Ut=at[lt];wt=(wt+Ut+tt.charCodeAt(lt))%256,at[lt]=at[wt],at[wt]=Ut}b=F,G=at}else at=G;var kt=C.length,Zt=0,vt=0,he="";for(lt=0;lt<kt;lt++)vt=(vt+(Ut=at[Zt=(Zt+1)%256]))%256,at[Zt]=at[vt],at[vt]=Ut,tt=at[(at[Zt]+at[vt])%256],he+=String.fromCharCode(C.charCodeAt(lt)^tt);return he}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Yt={print:4,modify:8,copy:16,"annot-forms":32};function oe(F,C,b,G){this.v=1,this.r=2;var Z=192;F.forEach(function(at){if(Yt.perm!==void 0)throw new Error("Invalid permission: "+at);Z+=Yt[at]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var B=(C+this.padding).substr(0,32),tt=(b+this.padding).substr(0,32);this.O=this.processOwnerPassword(B,tt),this.P=-(1+(255^Z)),this.encryptionKey=Jt(B+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(G)).substr(0,5),this.U=gt(this.encryptionKey,this.padding)}function nr(F){if(/[^\u0000-\u00ff]/.test(F))throw new Error("Invalid PDF Name Object: "+F+", Only accept ASCII characters.");for(var C="",b=F.length,G=0;G<b;G++){var Z=F.charCodeAt(G);Z<33||Z===35||Z===37||Z===40||Z===41||Z===47||Z===60||Z===62||Z===91||Z===93||Z===123||Z===125||Z>126?C+="#"+("0"+Z.toString(16)).slice(-2):C+=F[G]}return C}function ir(F){if(v()(F)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var C={};this.subscribe=function(b,G,Z){if(Z=Z||!1,typeof b!="string"||typeof G!="function"||typeof Z!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");C.hasOwnProperty(b)||(C[b]={});var B=Math.random().toString(35);return C[b][B]=[G,!!Z],B},this.unsubscribe=function(b){for(var G in C)if(C[G][b])return delete C[G][b],Object.keys(C[G]).length===0&&delete C[G],!0;return!1},this.publish=function(b){if(C.hasOwnProperty(b)){var G=Array.prototype.slice.call(arguments,1),Z=[];for(var B in C[b]){var tt=C[b][B];try{tt[0].apply(F,G)}catch(at){E.console&&M.error("jsPDF PubSub Error",at.message,at)}tt[1]&&Z.push(B)}Z.length&&Z.forEach(this.unsubscribe)}},this.getTopics=function(){return C}}function Ke(F){if(!(this instanceof Ke))return new Ke(F);var C="opacity,stroke-opacity".split(",");for(var b in F)F.hasOwnProperty(b)&&C.indexOf(b)>=0&&(this[b]=F[b]);this.id="",this.objectNumber=-1}function Ge(F,C){this.gState=F,this.matrix=C,this.id="",this.objectNumber=-1}function Pr(F,C,b,G,Z){if(!(this instanceof Pr))return new Pr(F,C,b,G,Z);this.type=F==="axial"?2:3,this.coords=C,this.colors=b,Ge.call(this,G,Z)}function Kr(F,C,b,G,Z){if(!(this instanceof Kr))return new Kr(F,C,b,G,Z);this.boundingBox=F,this.xStep=C,this.yStep=b,this.stream="",this.cloneIndex=0,Ge.call(this,G,Z)}function pe(F){var C,b=typeof arguments[0]=="string"?arguments[0]:"p",G=arguments[1],Z=arguments[2],B=arguments[3],tt=[],at=1,lt=16,wt="S",Ut=null;v()(F=F||{})==="object"&&(b=F.orientation,G=F.unit||G,Z=F.format||Z,B=F.compress||F.compressPdf||B,(Ut=F.encryption||null)!==null&&(Ut.userPassword=Ut.userPassword||"",Ut.ownerPassword=Ut.ownerPassword||"",Ut.userPermissions=Ut.userPermissions||[]),at=typeof F.userUnit=="number"?Math.abs(F.userUnit):1,F.precision!==void 0&&(C=F.precision),F.floatPrecision!==void 0&&(lt=F.floatPrecision),wt=F.defaultPathOperation||"S"),tt=F.filters||(B===!0?["FlateEncode"]:tt),G=G||"mm",b=(""+(b||"P")).toLowerCase();var kt=F.putOnlyUsedFonts||!1,Zt={},vt={internal:{},__private__:{}};vt.__private__.PubSub=ir;var he="1.3",ae=vt.__private__.getPdfVersion=function(){return he};vt.__private__.setPdfVersion=function(k){he=k};var Ae={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};vt.__private__.getPageFormats=function(){return Ae};var Kt=vt.__private__.getPageFormat=function(k){return Ae[k]};Z=Z||"a4";var ge={COMPAT:"compat",ADVANCED:"advanced"},Ye=ge.COMPAT;function cr(){this.saveGraphicsState(),de(new Wn(mn,0,0,-mn,0,Za()*mn).toString()+" cm"),this.setFontSize(this.getFontSize()/mn),wt="n",Ye=ge.ADVANCED}function Mr(){this.restoreGraphicsState(),wt="S",Ye=ge.COMPAT}var Qr=vt.__private__.combineFontStyleAndFontWeight=function(k,xt){if(k=="bold"&&xt=="normal"||k=="bold"&&xt==400||k=="normal"&&xt=="italic"||k=="bold"&&xt=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return xt&&(k=xt==400||xt==="normal"?k==="italic"?"italic":"normal":xt!=700&&xt!=="bold"||k!=="normal"?(xt==700?"bold":xt)+""+k:"bold"),k};vt.advancedAPI=function(k){var xt=Ye===ge.COMPAT;return xt&&cr.call(this),typeof k!="function"||(k(this),xt&&Mr.call(this)),this},vt.compatAPI=function(k){var xt=Ye===ge.ADVANCED;return xt&&Mr.call(this),typeof k!="function"||(k(this),xt&&cr.call(this)),this},vt.isAdvancedAPI=function(){return Ye===ge.ADVANCED};var yr,Ue=function(k){if(Ye!==ge.ADVANCED)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Lr=vt.roundToPrecision=vt.__private__.roundToPrecision=function(k,xt){var Pt=C||xt;if(isNaN(k)||isNaN(Pt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Pt).replace(/0+$/,"")};yr=vt.hpf=vt.__private__.hpf=typeof lt=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return Lr(k,lt)}:lt==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return Lr(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return Lr(k,16)};var mr=vt.f2=vt.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return Lr(k,2)},ee=vt.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return Lr(k,3)},re=vt.scale=vt.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return Ye===ge.COMPAT?k*mn:Ye===ge.ADVANCED?k:void 0},Ne=function(k){return Ye===ge.COMPAT?Za()-k:Ye===ge.ADVANCED?k:void 0},Te=function(k){return re(Ne(k))};vt.__private__.setPrecision=vt.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(C=parseInt(k,10))};var wr,gr="00000000000000000000000000000000",Fr=vt.__private__.getFileId=function(){return gr},sr=vt.__private__.setFileId=function(k){return gr=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():gr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ut!==null&&(Eo=new oe(Ut.userPermissions,Ut.userPassword,Ut.ownerPassword,gr)),gr};vt.setFileId=function(k){return sr(k),this},vt.getFileId=function(){return Fr()};var fr=vt.__private__.convertDateToPDFDate=function(k){var xt=k.getTimezoneOffset(),Pt=xt<0?"+":"-",xe=Math.floor(Math.abs(xt/60)),He=Math.abs(xt%60),Xe=[Pt,me(xe),"'",me(He),"'"].join("");return["D:",k.getFullYear(),me(k.getMonth()+1),me(k.getDate()),me(k.getHours()),me(k.getMinutes()),me(k.getSeconds()),Xe].join("")},Or=vt.__private__.convertPDFDateToDate=function(k){var xt=parseInt(k.substr(2,4),10),Pt=parseInt(k.substr(6,2),10)-1,xe=parseInt(k.substr(8,2),10),He=parseInt(k.substr(10,2),10),Xe=parseInt(k.substr(12,2),10),xr=parseInt(k.substr(14,2),10);return new Date(xt,Pt,xe,He,Xe,xr,0)},On=vt.__private__.setCreationDate=function(k){var xt;if(k===void 0&&(k=new Date),k instanceof Date)xt=fr(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");xt=k}return wr=xt},Ft=vt.__private__.getCreationDate=function(k){var xt=wr;return k==="jsDate"&&(xt=Or(wr)),xt};vt.setCreationDate=function(k){return On(k),this},vt.getCreationDate=function(k){return Ft(k)};var se,me=vt.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},Ie=vt.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ke=0,rr=[],lr=[],ar=0,tn=[],Zr=[],pn=!1,An=lr,Hn=function(){ke=0,ar=0,lr=[],rr=[],tn=[],Ml=fn(),Os=fn()};vt.__private__.setCustomOutputDestination=function(k){pn=!0,An=k};var Sr=function(k){pn||(An=k)};vt.__private__.resetCustomOutputDestination=function(){pn=!1,An=lr};var de=vt.__private__.out=function(k){return k=k.toString(),ar+=k.length+1,An.push(k),An},fi=vt.__private__.write=function(k){return de(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},Cn=vt.__private__.getArrayBuffer=function(k){for(var xt=k.length,Pt=new ArrayBuffer(xt),xe=new Uint8Array(Pt);xt--;)xe[xt]=k.charCodeAt(xt);return Pt},Yr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];vt.__private__.getStandardFonts=function(){return Yr};var ln=F.fontSize||16;vt.__private__.setFontSize=vt.setFontSize=function(k){return ln=Ye===ge.ADVANCED?k/mn:k,this};var cn,un=vt.__private__.getFontSize=vt.getFontSize=function(){return Ye===ge.COMPAT?ln:ln*mn},Vn=F.R2L||!1;vt.__private__.setR2L=vt.setR2L=function(k){return Vn=k,this},vt.__private__.getR2L=vt.getR2L=function(){return Vn};var pi,si=vt.__private__.setZoomMode=function(k){var xt=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*%$/.test(k))cn=k;else if(isNaN(k)){if(xt.indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');cn=k}else cn=parseInt(k,10)};vt.__private__.getZoomMode=function(){return cn};var Ri,Hi=vt.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');pi=k};vt.__private__.getPageMode=function(){return pi};var ni=vt.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Ri=k};vt.__private__.getLayoutMode=function(){return Ri},vt.__private__.setDisplayMode=vt.setDisplayMode=function(k,xt,Pt){return si(k),ni(xt),Hi(Pt),this};var Xn={title:"",subject:"",author:"",keywords:"",creator:""};vt.__private__.getDocumentProperty=function(k){if(Object.keys(Xn).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xn[k]},vt.__private__.getDocumentProperties=function(){return Xn},vt.__private__.setDocumentProperties=vt.setProperties=vt.setDocumentProperties=function(k){for(var xt in Xn)Xn.hasOwnProperty(xt)&&k[xt]&&(Xn[xt]=k[xt]);return this},vt.__private__.setDocumentProperty=function(k,xt){if(Object.keys(Xn).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xn[k]=xt};var wi,mn,Xa,Bn,_a,Xi={},To={},Ps=[],Ki={},xs={},Wo={},Ca={},Ns=null,Oo=0,$n=[],_n=new ir(vt),aa=F.hotfixes||[],ca={},Hs={},Ts=[],Wn=function k(xt,Pt,xe,He,Xe,xr){if(!(this instanceof k))return new k(xt,Pt,xe,He,Xe,xr);isNaN(xt)&&(xt=1),isNaN(Pt)&&(Pt=0),isNaN(xe)&&(xe=0),isNaN(He)&&(He=1),isNaN(Xe)&&(Xe=0),isNaN(xr)&&(xr=0),this._matrix=[xt,Pt,xe,He,Xe,xr]};Object.defineProperty(Wn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Wn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Wn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Wn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Wn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Wn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Wn.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Wn.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Wn.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Wn.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Wn.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Wn.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Wn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wn.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(yr).join(k)},Wn.prototype.multiply=function(k){var xt=k.sx*this.sx+k.shy*this.shx,Pt=k.sx*this.shy+k.shy*this.sy,xe=k.shx*this.sx+k.sy*this.shx,He=k.shx*this.shy+k.sy*this.sy,Xe=k.tx*this.sx+k.ty*this.shx+this.tx,xr=k.tx*this.shy+k.ty*this.sy+this.ty;return new Wn(xt,Pt,xe,He,Xe,xr)},Wn.prototype.decompose=function(){var k=this.sx,xt=this.shy,Pt=this.shx,xe=this.sy,He=this.tx,Xe=this.ty,xr=Math.sqrt(k*k+xt*xt),Wr=(k/=xr)*Pt+(xt/=xr)*xe;Pt-=k*Wr,xe-=xt*Wr;var We=Math.sqrt(Pt*Pt+xe*xe);return Wr/=We,k*(xe/=We)<xt*(Pt/=We)&&(k=-k,xt=-xt,Wr=-Wr,xr=-xr),{scale:new Wn(xr,0,0,We,0,0),translate:new Wn(1,0,0,1,He,Xe),rotate:new Wn(k,xt,-xt,k,0,0),skew:new Wn(1,0,Wr,1,0,0)}},Wn.prototype.toString=function(k){return this.join(" ")},Wn.prototype.inversed=function(){var k=this.sx,xt=this.shy,Pt=this.shx,xe=this.sy,He=this.tx,Xe=this.ty,xr=1/(k*xe-xt*Pt),Wr=xe*xr,We=-xt*xr,bn=-Pt*xr,ei=k*xr;return new Wn(Wr,We,bn,ei,-Wr*He-bn*Xe,-We*He-ei*Xe)},Wn.prototype.applyToPoint=function(k){var xt=k.x*this.sx+k.y*this.shx+this.tx,Pt=k.x*this.shy+k.y*this.sy+this.ty;return new ro(xt,Pt)},Wn.prototype.applyToRectangle=function(k){var xt=this.applyToPoint(k),Pt=this.applyToPoint(new ro(k.x+k.w,k.y+k.h));return new so(xt.x,xt.y,Pt.x-xt.x,Pt.y-xt.y)},Wn.prototype.clone=function(){var k=this.sx,xt=this.shy,Pt=this.shx,xe=this.sy,He=this.tx,Xe=this.ty;return new Wn(k,xt,Pt,xe,He,Xe)},vt.Matrix=Wn;var to=vt.matrixMult=function(k,xt){return xt.multiply(k)},us=new Wn(1,0,0,1,0,0);vt.unitMatrix=vt.identityMatrix=us;var Ka=function(k,xt){if(!xs[k]){var Pt=(xt instanceof Pr?"Sh":"P")+(Object.keys(Ki).length+1).toString(10);xt.id=Pt,xs[k]=Pt,Ki[Pt]=xt,_n.publish("addPattern",xt)}};vt.ShadingPattern=Pr,vt.TilingPattern=Kr,vt.addShadingPattern=function(k,xt){return Ue("addShadingPattern()"),Ka(k,xt),this},vt.beginTilingPattern=function(k){Ue("beginTilingPattern()"),Ci(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},vt.endTilingPattern=function(k,xt){Ue("endTilingPattern()"),xt.stream=Zr[se].join(`
`),Ka(k,xt),_n.publish("endTilingPattern",xt),Ts.pop().restore()};var Ea=vt.__private__.newObject=function(){var k=fn();return ds(k,!0),k},fn=vt.__private__.newObjectDeferred=function(){return ke++,rr[ke]=function(){return ar},ke},ds=function(k,xt){return xt=typeof xt=="boolean"&&xt,rr[k]=ar,xt&&de(k+" 0 obj"),k},Au=vt.__private__.newAdditionalObject=function(){var k={objId:fn(),content:""};return tn.push(k),k},Ml=fn(),Os=fn(),Se=vt.__private__.decodeColorString=function(k){var xt=k.split(" ");if(xt.length!==2||xt[1]!=="g"&&xt[1]!=="G")xt.length===5&&(xt[4]==="k"||xt[4]==="K")&&(xt=[(1-xt[0])*(1-xt[3]),(1-xt[1])*(1-xt[3]),(1-xt[2])*(1-xt[3]),"r"]);else{var Pt=parseFloat(xt[0]);xt=[Pt,Pt,Pt,"r"]}for(var xe="#",He=0;He<3;He++)xe+=("0"+Math.floor(255*parseFloat(xt[He])).toString(16)).slice(-2);return xe},Ga=vt.__private__.encodeColorString=function(k){var xt;typeof k=="string"&&(k={ch1:k});var Pt=k.ch1,xe=k.ch2,He=k.ch3,Xe=k.ch4,xr=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Pt=="string"&&Pt.charAt(0)!=="#"){var Wr=new J(Pt);if(Wr.ok)Pt=Wr.toHex();else if(!/^\d*\.?\d*$/.test(Pt))throw new Error('Invalid color "'+Pt+'" passed to jsPDF.encodeColorString.')}if(typeof Pt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Pt)&&(Pt="#"+Pt[1]+Pt[1]+Pt[2]+Pt[2]+Pt[3]+Pt[3]),typeof Pt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Pt)){var We=parseInt(Pt.substr(1),16);Pt=We>>16&255,xe=We>>8&255,He=255&We}if(xe===void 0||Xe===void 0&&Pt===xe&&xe===He)if(typeof Pt=="string")xt=Pt+" "+xr[0];else switch(k.precision){case 2:xt=mr(Pt/255)+" "+xr[0];break;case 3:default:xt=ee(Pt/255)+" "+xr[0]}else if(Xe===void 0||v()(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return xt=["1.","1.","1.",xr[1]].join(" ");if(typeof Pt=="string")xt=[Pt,xe,He,xr[1]].join(" ");else switch(k.precision){case 2:xt=[mr(Pt/255),mr(xe/255),mr(He/255),xr[1]].join(" ");break;default:case 3:xt=[ee(Pt/255),ee(xe/255),ee(He/255),xr[1]].join(" ")}}else if(typeof Pt=="string")xt=[Pt,xe,He,Xe,xr[2]].join(" ");else switch(k.precision){case 2:xt=[mr(Pt),mr(xe),mr(He),mr(Xe),xr[2]].join(" ");break;case 3:default:xt=[ee(Pt),ee(xe),ee(He),ee(Xe),xr[2]].join(" ")}return xt},ha=vt.__private__.getFilters=function(){return tt},Zi=vt.__private__.putStream=function(k){var xt=(k=k||{}).data||"",Pt=k.filters||ha(),xe=k.alreadyAppliedFilters||[],He=k.addLength1||!1,Xe=xt.length,xr=k.objectId,Wr=function(Gi){return Gi};if(Ut!==null&&xr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ut!==null&&(Wr=Eo.encryptor(xr,0));var We={};Pt===!0&&(Pt=["FlateEncode"]);var bn=k.additionalKeyValues||[],ei=(We=pe.API.processDataByFilters!==void 0?pe.API.processDataByFilters(xt,Pt):{data:xt,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(We.data.length!==0&&(bn.push({key:"Length",value:We.data.length}),He===!0&&bn.push({key:"Length1",value:Xe})),ei.length!=0)if(ei.split("/").length-1==1)bn.push({key:"Filter",value:ei});else{bn.push({key:"Filter",value:"["+ei+"]"});for(var dn=0;dn<bn.length;dn+=1)if(bn[dn].key==="DecodeParms"){for(var vi=[],li=0;li<We.reverseChain.split("/").length-1;li+=1)vi.push("null");vi.push(bn[dn].value),bn[dn].value="["+vi.join(" ")+"]"}}de("<<");for(var $i=0;$i<bn.length;$i++)de("/"+bn[$i].key+" "+bn[$i].value);de(">>"),We.data.length!==0&&(de("stream"),de(Wr(We.data)),de("endstream"))},Wi=vt.__private__.putPage=function(k){var xt=k.number,Pt=k.data,xe=k.objId,He=k.contentsObjId;ds(xe,!0),de("<</Type /Page"),de("/Parent "+k.rootDictionaryObjId+" 0 R"),de("/Resources "+k.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(yr(k.mediaBox.bottomLeftX))+" "+parseFloat(yr(k.mediaBox.bottomLeftY))+" "+yr(k.mediaBox.topRightX)+" "+yr(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&de("/CropBox ["+yr(k.cropBox.bottomLeftX)+" "+yr(k.cropBox.bottomLeftY)+" "+yr(k.cropBox.topRightX)+" "+yr(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&de("/BleedBox ["+yr(k.bleedBox.bottomLeftX)+" "+yr(k.bleedBox.bottomLeftY)+" "+yr(k.bleedBox.topRightX)+" "+yr(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&de("/TrimBox ["+yr(k.trimBox.bottomLeftX)+" "+yr(k.trimBox.bottomLeftY)+" "+yr(k.trimBox.topRightX)+" "+yr(k.trimBox.topRightY)+"]"),k.artBox!==null&&de("/ArtBox ["+yr(k.artBox.bottomLeftX)+" "+yr(k.artBox.bottomLeftY)+" "+yr(k.artBox.topRightX)+" "+yr(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&de("/UserUnit "+k.userUnit),_n.publish("putPage",{objId:xe,pageContext:$n[xt],pageNumber:xt,page:Pt}),de("/Contents "+He+" 0 R"),de(">>"),de("endobj");var Xe=Pt.join(`
`);return Ye===ge.ADVANCED&&(Xe+=`
Q`),ds(He,!0),Zi({data:Xe,filters:ha(),objectId:He}),de("endobj"),xe},fa=vt.__private__.putPages=function(){var k,xt,Pt=[];for(k=1;k<=Oo;k++)$n[k].objId=fn(),$n[k].contentsObjId=fn();for(k=1;k<=Oo;k++)Pt.push(Wi({number:k,data:Zr[k],objId:$n[k].objId,contentsObjId:$n[k].contentsObjId,mediaBox:$n[k].mediaBox,cropBox:$n[k].cropBox,bleedBox:$n[k].bleedBox,trimBox:$n[k].trimBox,artBox:$n[k].artBox,userUnit:$n[k].userUnit,rootDictionaryObjId:Ml,resourceDictionaryObjId:Os}));ds(Ml,!0),de("<</Type /Pages");var xe="/Kids [";for(xt=0;xt<Oo;xt++)xe+=Pt[xt]+" 0 R ";de(xe+"]"),de("/Count "+Oo),de(">>"),de("endobj"),_n.publish("postPutPages")},ul=function(k){_n.publish("putFont",{font:k,out:de,newObject:Ea,putStream:Zi}),k.isAlreadyPutted!==!0&&(k.objectNumber=Ea(),de("<<"),de("/Type /Font"),de("/BaseFont /"+nr(k.postScriptName)),de("/Subtype /Type1"),typeof k.encoding=="string"&&de("/Encoding /"+k.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},ba=function(){for(var k in Xi)Xi.hasOwnProperty(k)&&(kt===!1||kt===!0&&Zt.hasOwnProperty(k))&&ul(Xi[k])},Kl=function(k){k.objectNumber=Ea();var xt=[];xt.push({key:"Type",value:"/XObject"}),xt.push({key:"Subtype",value:"/Form"}),xt.push({key:"BBox",value:"["+[yr(k.x),yr(k.y),yr(k.x+k.width),yr(k.y+k.height)].join(" ")+"]"}),xt.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Pt=k.pages[1].join(`
`);Zi({data:Pt,additionalKeyValues:xt,objectId:k.objectNumber}),de("endobj")},$a=function(){for(var k in ca)ca.hasOwnProperty(k)&&Kl(ca[k])},Xs=function(k,xt){var Pt,xe=[],He=1/(xt-1);for(Pt=0;Pt<1;Pt+=He)xe.push(Pt);if(xe.push(1),k[0].offset!=0){var Xe={offset:0,color:k[0].color};k.unshift(Xe)}if(k[k.length-1].offset!=1){var xr={offset:1,color:k[k.length-1].color};k.push(xr)}for(var Wr="",We=0,bn=0;bn<xe.length;bn++){for(Pt=xe[bn];Pt>k[We+1].offset;)We++;var ei=k[We].offset,dn=(Pt-ei)/(k[We+1].offset-ei),vi=k[We].color,li=k[We+1].color;Wr+=Ie(Math.round((1-dn)*vi[0]+dn*li[0]).toString(16))+Ie(Math.round((1-dn)*vi[1]+dn*li[1]).toString(16))+Ie(Math.round((1-dn)*vi[2]+dn*li[2]).toString(16))}return Wr.trim()},Fs=function(k,xt){xt||(xt=21);var Pt=Ea(),xe=Xs(k.colors,xt),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+xt+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zi({data:xe,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Pt}),de("endobj"),k.objectNumber=Ea(),de("<< /ShadingType "+k.type),de("/ColorSpace /DeviceRGB");var Xe="/Coords ["+yr(parseFloat(k.coords[0]))+" "+yr(parseFloat(k.coords[1]))+" ";k.type===2?Xe+=yr(parseFloat(k.coords[2]))+" "+yr(parseFloat(k.coords[3])):Xe+=yr(parseFloat(k.coords[2]))+" "+yr(parseFloat(k.coords[3]))+" "+yr(parseFloat(k.coords[4]))+" "+yr(parseFloat(k.coords[5])),de(Xe+="]"),k.matrix&&de("/Matrix ["+k.matrix.toString()+"]"),de("/Function "+Pt+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Rl=function(k,xt){var Pt=fn(),xe=Ea();xt.push({resourcesOid:Pt,objectOid:xe}),k.objectNumber=xe;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+k.boundingBox.map(yr).join(" ")+"]"}),He.push({key:"XStep",value:yr(k.xStep)}),He.push({key:"YStep",value:yr(k.yStep)}),He.push({key:"Resources",value:Pt+" 0 R"}),k.matrix&&He.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Zi({data:k.stream,additionalKeyValues:He,objectId:k.objectNumber}),de("endobj")},$l=function(k){var xt;for(xt in Ki)Ki.hasOwnProperty(xt)&&(Ki[xt]instanceof Pr?Fs(Ki[xt]):Ki[xt]instanceof Kr&&Rl(Ki[xt],k))},Mu=function(k){for(var xt in k.objectNumber=Ea(),de("<<"),k)switch(xt){case"opacity":de("/ca "+mr(k[xt]));break;case"stroke-opacity":de("/CA "+mr(k[xt]))}de(">>"),de("endobj")},Zl=function(){var k;for(k in Wo)Wo.hasOwnProperty(k)&&Mu(Wo[k])},cl=function(){for(var k in de("/XObject <<"),ca)ca.hasOwnProperty(k)&&ca[k].objectNumber>=0&&de("/"+k+" "+ca[k].objectNumber+" 0 R");_n.publish("putXobjectDict"),de(">>")},oc=function(){Eo.oid=Ea(),de("<<"),de("/Filter /Standard"),de("/V "+Eo.v),de("/R "+Eo.r),de("/U <"+Eo.toHexString(Eo.U)+">"),de("/O <"+Eo.toHexString(Eo.O)+">"),de("/P "+Eo.P),de(">>"),de("endobj")},ac=function(){for(var k in de("/Font <<"),Xi)Xi.hasOwnProperty(k)&&(kt===!1||kt===!0&&Zt.hasOwnProperty(k))&&de("/"+k+" "+Xi[k].objectNumber+" 0 R");de(">>")},a0=function(){if(Object.keys(Ki).length>0){for(var k in de("/Shading <<"),Ki)Ki.hasOwnProperty(k)&&Ki[k]instanceof Pr&&Ki[k].objectNumber>=0&&de("/"+k+" "+Ki[k].objectNumber+" 0 R");_n.publish("putShadingPatternDict"),de(">>")}},Ru=function(k){if(Object.keys(Ki).length>0){for(var xt in de("/Pattern <<"),Ki)Ki.hasOwnProperty(xt)&&Ki[xt]instanceof vt.TilingPattern&&Ki[xt].objectNumber>=0&&Ki[xt].objectNumber<k&&de("/"+xt+" "+Ki[xt].objectNumber+" 0 R");_n.publish("putTilingPatternDict"),de(">>")}},sc=function(){if(Object.keys(Wo).length>0){var k;for(k in de("/ExtGState <<"),Wo)Wo.hasOwnProperty(k)&&Wo[k].objectNumber>=0&&de("/"+k+" "+Wo[k].objectNumber+" 0 R");_n.publish("putGStateDict"),de(">>")}},Yo=function(k){ds(k.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ac(),a0(),Ru(k.objectOid),sc(),cl(),de(">>"),de("endobj")},bc=function(){var k=[];ba(),Zl(),$a(),$l(k),_n.publish("putResources"),k.forEach(Yo),Yo({resourcesOid:Os,objectOid:Number.MAX_SAFE_INTEGER}),_n.publish("postPutResources")},Ds=function(){_n.publish("putAdditionalObjects");for(var k=0;k<tn.length;k++){var xt=tn[k];ds(xt.objId,!0),de(xt.content),de("endobj")}_n.publish("postPutAdditionalObjects")},lc=function(k){To[k.fontName]=To[k.fontName]||{},To[k.fontName][k.fontStyle]=k.id},ql=function(k,xt,Pt,xe,He){var Xe={id:"F"+(Object.keys(Xi).length+1).toString(10),postScriptName:k,fontName:xt,fontStyle:Pt,encoding:xe,isStandardFont:He||!1,metadata:{}};return _n.publish("addFont",{font:Xe,instance:this}),Xi[Xe.id]=Xe,lc(Xe),Xe.id},s0=function(k){for(var xt=0,Pt=Yr.length;xt<Pt;xt++){var xe=ql.call(this,k[xt][0],k[xt][1],k[xt][2],Yr[xt][3],!0);kt===!1&&(Zt[xe]=!0);var He=k[xt][0].split("-");lc({id:xe,fontName:He[0],fontStyle:He[1]||""})}_n.publish("addFonts",{fonts:Xi,dictionary:To})},As=function(k){return k.foo=function(){try{return k.apply(this,arguments)}catch(xe){var xt=xe.stack||"";~xt.indexOf(" at ")&&(xt=xt.split(" at ")[1]);var Pt="Error in function "+xt.split(`
`)[0].split("<")[0]+": "+xe.message;if(!E.console)throw new Error(Pt);E.console.error(Pt,xe),E.alert&&alert(Pt)}},k.foo.bar=k,k.foo},js=function(k,xt){var Pt,xe,He,Xe,xr,Wr,We,bn,ei;if(He=(xt=xt||{}).sourceEncoding||"Unicode",xr=xt.outputEncoding,(xt.autoencode||xr)&&Xi[wi].metadata&&Xi[wi].metadata[He]&&Xi[wi].metadata[He].encoding&&(Xe=Xi[wi].metadata[He].encoding,!xr&&Xi[wi].encoding&&(xr=Xi[wi].encoding),!xr&&Xe.codePages&&(xr=Xe.codePages[0]),typeof xr=="string"&&(xr=Xe[xr]),xr)){for(We=!1,Wr=[],Pt=0,xe=k.length;Pt<xe;Pt++)(bn=xr[k.charCodeAt(Pt)])?Wr.push(String.fromCharCode(bn)):Wr.push(k[Pt]),Wr[Pt].charCodeAt(0)>>8&&(We=!0);k=Wr.join("")}for(Pt=k.length;We===void 0&&Pt!==0;)k.charCodeAt(Pt-1)>>8&&(We=!0),Pt--;if(!We)return k;for(Wr=xt.noBOM?[]:[254,255],Pt=0,xe=k.length;Pt<xe;Pt++){if((ei=(bn=k.charCodeAt(Pt))>>8)>>8)throw new Error("Character at position "+Pt+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wr.push(ei),Wr.push(bn-(ei<<8))}return String.fromCharCode.apply(void 0,Wr)},da=vt.__private__.pdfEscape=vt.pdfEscape=function(k,xt){return js(k,xt).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=vt.__private__.beginPage=function(k){Zr[++Oo]=[],$n[Oo]={objId:0,contentsObjId:0,userUnit:Number(at),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Lc(Oo),Sr(Zr[se])},Cu=function(k,xt){var Pt,xe,He;switch(b=xt||b,typeof k=="string"&&(Pt=Kt(k.toLowerCase()),Array.isArray(Pt)&&(xe=Pt[0],He=Pt[1])),Array.isArray(k)&&(xe=k[0]*mn,He=k[1]*mn),isNaN(xe)&&(xe=Z[0],He=Z[1]),(xe>14400||He>14400)&&(M.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),He=Math.min(14400,He)),Z=[xe,He],b.substr(0,1)){case"l":He>xe&&(Z=[He,xe]);break;case"p":xe>He&&(Z=[He,xe])}hl(Z),_e(Et),de(qr),xi!==0&&de(xi+" J"),Yi!==0&&de(Yi+" j"),_n.publish("addPage",{pageNumber:Oo})},bu=function(k){k>0&&k<=Oo&&(Zr.splice(k,1),$n.splice(k,1),Oo--,se>Oo&&(se=Oo),this.setPage(se))},Lc=function(k){k>0&&k<=Oo&&(se=k)},Jl=vt.__private__.getNumberOfPages=vt.getNumberOfPages=function(){return Zr.length-1},Cl=function(k,xt,Pt){var xe,He=void 0;return Pt=Pt||{},k=k!==void 0?k:Xi[wi].fontName,xt=xt!==void 0?xt:Xi[wi].fontStyle,xe=k.toLowerCase(),To[xe]!==void 0&&To[xe][xt]!==void 0?He=To[xe][xt]:To[k]!==void 0&&To[k][xt]!==void 0?He=To[k][xt]:Pt.disableWarning===!1&&M.warn("Unable to look up font label for font '"+k+"', '"+xt+"'. Refer to getFontList() for available fonts."),He||Pt.noFallback||(He=To.times[xt])==null&&(He=To.times.normal),He},l0=vt.__private__.putInfo=function(){var k=Ea(),xt=function(xe){return xe};for(var Pt in Ut!==null&&(xt=Eo.encryptor(k,0)),de("<<"),de("/Producer ("+da(xt("jsPDF "+pe.version))+")"),Xn)Xn.hasOwnProperty(Pt)&&Xn[Pt]&&de("/"+Pt.substr(0,1).toUpperCase()+Pt.substr(1)+" ("+da(xt(Xn[Pt]))+")");de("/CreationDate ("+da(xt(wr))+")"),de(">>"),de("endobj")},Lu=vt.__private__.putCatalog=function(k){var xt=(k=k||{}).rootDictionaryObjId||Ml;switch(Ea(),de("<<"),de("/Type /Catalog"),de("/Pages "+xt+" 0 R"),cn||(cn="fullwidth"),cn){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Pt=""+cn;Pt.substr(Pt.length-1)==="%"&&(cn=parseInt(cn)/100),typeof cn=="number"&&de("/OpenAction [3 0 R /XYZ null null "+mr(cn)+"]")}switch(Ri||(Ri="continuous"),Ri){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}pi&&de("/PageMode /"+pi),_n.publish("putCatalog"),de(">>"),de("endobj")},zn=vt.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ke+1)),de("/Root "+ke+" 0 R"),de("/Info "+(ke-1)+" 0 R"),Ut!==null&&de("/Encrypt "+Eo.oid+" 0 R"),de("/ID [ <"+gr+"> <"+gr+"> ]"),de(">>")},Iu=vt.__private__.putHeader=function(){de("%PDF-"+he),de("%\xBA\xDF\xAC\xE0")},Ks=vt.__private__.putXRef=function(){var k="0000000000";de("xref"),de("0 "+(ke+1)),de("0000000000 65535 f ");for(var xt=1;xt<=ke;xt++)typeof rr[xt]=="function"?de((k+rr[xt]()).slice(-10)+" 00000 n "):rr[xt]!==void 0?de((k+rr[xt]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},$s=vt.__private__.buildDocument=function(){Hn(),Sr(lr),_n.publish("buildDocument"),Iu(),fa(),Ds(),bc(),Ut!==null&&oc(),l0(),Lu();var k=ar;return Ks(),zn(),de("startxref"),de(""+k),de("%%EOF"),Sr(Zr[se]),lr.join(`
`)},fl=vt.__private__.getBlob=function(k){return new Blob([Cn(k)],{type:"application/pdf"})},Ql=vt.output=vt.__private__.output=As(function(k,xt){switch(typeof(xt=xt||{})=="string"?xt={filename:xt}:xt.filename=xt.filename||"generated.pdf",k){case void 0:return $s();case"save":vt.save(xt.filename);break;case"arraybuffer":return Cn($s());case"blob":return fl($s());case"bloburi":case"bloburl":if(E.URL!==void 0&&typeof E.URL.createObjectURL=="function")return E.URL&&E.URL.createObjectURL(fl($s()))||void 0;M.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Pt="",xe=$s();try{Pt=X(xe)}catch{Pt=X(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+xt.filename+";base64,"+Pt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(E)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(xt.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(xt)+");<\/script></body></html>",Xe=E.open();return Xe!==null&&Xe.document.write(He),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(E)==="[object Window]"){var xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(xt.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+xt.filename+'" width="500px" height="400px" /></body></html>',Wr=E.open();if(Wr!==null){Wr.document.write(xr);var We=this;Wr.document.documentElement.querySelector("#pdfViewer").onload=function(){Wr.document.title=xt.filename,Wr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(We.output("bloburl"))}}return Wr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(E)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",xt)+'"></iframe></body></html>',ei=E.open();if(ei!==null&&(ei.document.write(bn),ei.document.title=xt.filename),ei||typeof safari=="undefined")return ei;break;case"datauri":case"dataurl":return E.document.location.href=this.output("datauristring",xt);default:return null}}),dl=function(k){return Array.isArray(aa)===!0&&aa.indexOf(k)>-1};switch(G){case"pt":mn=1;break;case"mm":mn=72/25.4;break;case"cm":mn=72/2.54;break;case"in":mn=72;break;case"px":mn=dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":mn=12;break;case"ex":mn=6;break;default:if(typeof G!="number")throw new Error("Invalid unit: "+G);mn=G}var Eo=null;On(),sr();var pl=function(k){return Ut!==null?Eo.encryptor(k,0):function(xt){return xt}},bl=vt.__private__.getPageInfo=vt.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$n[k].objId,pageNumber:k,pageContext:$n[k]}},Jn=vt.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var xt in $n)if($n[xt].objId===k)break;return bl(xt)},Ll=vt.__private__.getCurrentPageInfo=vt.getCurrentPageInfo=function(){return{objId:$n[se].objId,pageNumber:se,pageContext:$n[se]}};vt.addPage=function(){return Cu.apply(this,arguments),this},vt.setPage=function(){return Lc.apply(this,arguments),Sr.call(this,Zr[se]),this},vt.insertPage=function(k){return this.addPage(),this.movePage(se,k),this},vt.movePage=function(k,xt){var Pt,xe;if(k>xt){Pt=Zr[k],xe=$n[k];for(var He=k;He>xt;He--)Zr[He]=Zr[He-1],$n[He]=$n[He-1];Zr[xt]=Pt,$n[xt]=xe,this.setPage(xt)}else if(k<xt){Pt=Zr[k],xe=$n[k];for(var Xe=k;Xe<xt;Xe++)Zr[Xe]=Zr[Xe+1],$n[Xe]=$n[Xe+1];Zr[xt]=Pt,$n[xt]=xe,this.setPage(xt)}return this},vt.deletePage=function(){return bu.apply(this,arguments),this},vt.__private__.text=vt.text=function(k,xt,Pt,xe,He){var Xe,xr,Wr,We,bn,ei,dn,vi,li,$i=(xe=xe||{}).scope||this;if(typeof k=="number"&&typeof xt=="number"&&(typeof Pt=="string"||Array.isArray(Pt))){var Gi=Pt;Pt=xt,xt=k,k=Gi}if(arguments[3]instanceof Wn?(Ue("The transform parameter of text() with a Matrix value"),li=He):(Wr=arguments[4],We=arguments[5],v()(dn=arguments[3])==="object"&&dn!==null||(typeof Wr=="string"&&(We=Wr,Wr=null),typeof dn=="string"&&(We=dn,dn=null),typeof dn=="number"&&(Wr=dn,dn=null),xe={flags:dn,angle:Wr,align:We})),isNaN(xt)||isNaN(Pt)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return $i;var Ao="",wa=!1,ps=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Ot,Ms=$i.internal.scaleFactor;function bd(Ho){return Ho=Ho.split("	").join(Array(xe.TabLen||9).join(" ")),da(Ho,dn)}function Mf(Ho){for(var po,Pa=Ho.concat(),qa=[],hc=Pa.length;hc--;)typeof(po=Pa.shift())=="string"?qa.push(po):Array.isArray(Ho)&&(po.length===1||po[1]===void 0&&po[2]===void 0)?qa.push(po[0]):qa.push([po[0],po[1],po[2]]);return qa}function Rf(Ho,po){var Pa;if(typeof Ho=="string")Pa=po(Ho)[0];else if(Array.isArray(Ho)){for(var qa,hc,pa=Ho.concat(),_h=[],If=pa.length;If--;)typeof(qa=pa.shift())=="string"?_h.push(po(qa)[0]):Array.isArray(qa)&&typeof qa[0]=="string"&&(hc=po(qa[0],qa[1],qa[2]),_h.push([hc[0],hc[1],hc[2]]));Pa=_h}return Pa}var Pu=!1,Cf=!0;if(typeof k=="string")Pu=!0;else if(Array.isArray(k)){var bf=k.concat();xr=[];for(var Fi,vl=bf.length;vl--;)(typeof(Fi=bf.shift())!="string"||Array.isArray(Fi)&&typeof Fi[0]!="string")&&(Cf=!1);Pu=Cf}if(Pu===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var tu=ln/$i.internal.scaleFactor,u0=tu*(ps-1);switch(xe.baseline){case"bottom":Pt-=u0;break;case"top":Pt+=tu-u0;break;case"hanging":Pt+=tu-2*u0;break;case"middle":Pt+=tu/2-u0}if((ei=xe.maxWidth||0)>0&&(typeof k=="string"?k=$i.splitTextToSize(k,ei):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Ho,po){return Ho.concat($i.splitTextToSize(po,ei))},[]))),Xe={text:k,x:xt,y:Pt,options:xe,mutex:{pdfEscape:da,activeFontKey:wi,fonts:Xi,activeFontSize:ln}},_n.publish("preProcessText",Xe),k=Xe.text,Wr=(xe=Xe.options).angle,!(li instanceof Wn)&&Wr&&typeof Wr=="number"){Wr*=Math.PI/180,xe.rotationDirection===0&&(Wr=-Wr),Ye===ge.ADVANCED&&(Wr=-Wr);var vh=Math.cos(Wr),U0=Math.sin(Wr);li=new Wn(vh,U0,-U0,vh,0,0)}else Wr&&Wr instanceof Wn&&(li=Wr);Ye!==ge.ADVANCED||li||(li=us),(bn=xe.charSpace||Qn)!==void 0&&(Ao+=yr(re(bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vi=xe.horizontalScale)!==void 0&&(Ao+=yr(100*vi)+` Tz
`),xe.lang;var Zs=-1,Ld=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,c0=$i.internal.getCurrentPageInfo().pageContext;switch(Ld){case 0:case!1:case"fill":Zs=0;break;case 1:case!0:case"stroke":Zs=1;break;case 2:case"fillThenStroke":Zs=2;break;case 3:case"invisible":Zs=3;break;case 4:case"fillAndAddForClipping":Zs=4;break;case 5:case"strokeAndAddPathForClipping":Zs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zs=6;break;case 7:case"addToPathForClipping":Zs=7}var Id=c0.usedRenderingMode!==void 0?c0.usedRenderingMode:-1;Zs!==-1?Ao+=Zs+` Tr
`:Id!==-1&&(Ao+=`0 Tr
`),Zs!==-1&&(c0.usedRenderingMode=Zs),We=xe.align||"left";var Nu,gh=ln*ps,y1=$i.internal.pageSize.getWidth(),m1=Xi[wi];bn=xe.charSpace||Qn,ei=xe.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Fu=[];if(Object.prototype.toString.call(k)==="[object Array]"){var Il;xr=Mf(k),We!=="left"&&(Nu=xr.map(function(Ho){return $i.getStringUnitWidth(Ho,{font:m1,charSpace:bn,fontSize:ln,doKerning:!1})*ln/Ms}));var Du,uc=0;if(We==="right"){xt-=Nu[0],k=[],vl=xr.length;for(var ju=0;ju<vl;ju++)ju===0?(Du=Je(xt),Il=pr(Pt)):(Du=re(uc-Nu[ju]),Il=-gh),k.push([xr[ju],Du,Il]),uc=Nu[ju]}else if(We==="center"){xt-=Nu[0]/2,k=[],vl=xr.length;for(var Ic=0;Ic<vl;Ic++)Ic===0?(Du=Je(xt),Il=pr(Pt)):(Du=re((uc-Nu[Ic])/2),Il=-gh),k.push([xr[Ic],Du,Il]),uc=Nu[Ic]}else if(We==="left"){k=[],vl=xr.length;for(var Pc=0;Pc<vl;Pc++)k.push(xr[Pc])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');k=[],vl=xr.length,ei=ei!==0?ei:y1;for(var fo=0;fo<vl;fo++)Il=fo===0?pr(Pt):-gh,Du=fo===0?Je(xt):0,fo<vl-1?Fu.push(yr(re((ei-Nu[fo])/(xr[fo].split(" ").length-1)))):Fu.push(0),k.push([xr[fo],Du,Il])}}var yh=typeof xe.R2L=="boolean"?xe.R2L:Vn;yh===!0&&(k=Rf(k,function(Ho,po,Pa){return[Ho.split("").reverse().join(""),po,Pa]})),Xe={text:k,x:xt,y:Pt,options:xe,mutex:{pdfEscape:da,activeFontKey:wi,fonts:Xi,activeFontSize:ln}},_n.publish("postProcessText",Xe),k=Xe.text,wa=Xe.mutex.isHex||!1;var eu=Xi[wi].encoding;eu!=="WinAnsiEncoding"&&eu!=="StandardEncoding"||(k=Rf(k,function(Ho,po,Pa){return[bd(Ho),po,Pa]})),xr=Mf(k),k=[];for(var Nc,Gu,Fc,Dc=0,mh=1,cc=Array.isArray(xr[0])?mh:Dc,h0="",Lf=function(Ho,po,Pa){var qa="";return Pa instanceof Wn?(Pa=typeof xe.angle=="number"?to(Pa,new Wn(1,0,0,1,Ho,po)):to(new Wn(1,0,0,1,Ho,po),Pa),Ye===ge.ADVANCED&&(Pa=to(new Wn(1,0,0,-1,0,0),Pa)),qa=Pa.join(" ")+` Tm
`):qa=yr(Ho)+" "+yr(po)+` Td
`,qa},ru=0;ru<xr.length;ru++){switch(h0="",cc){case mh:Fc=(wa?"<":"(")+xr[ru][0]+(wa?">":")"),Nc=parseFloat(xr[ru][1]),Gu=parseFloat(xr[ru][2]);break;case Dc:Fc=(wa?"<":"(")+xr[ru]+(wa?">":")"),Nc=Je(xt),Gu=pr(Pt)}Fu!==void 0&&Fu[ru]!==void 0&&(h0=Fu[ru]+` Tw
`),ru===0?k.push(h0+Lf(Nc,Gu,li)+Fc):cc===Dc?k.push(h0+Fc):cc===mh&&k.push(h0+Lf(Nc,Gu,li)+Fc)}k=cc===Dc?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var jc=`BT
/`;return jc+=wi+" "+ln+` Tf
`,jc+=yr(ln*ps)+` TL
`,jc+=or+`
`,jc+=Ao,jc+=k,de(jc+="ET"),Zt[wi]=!0,$i};var D=vt.__private__.clip=vt.clip=function(k){return de(k==="evenodd"?"W*":"W"),this};vt.clipEvenOdd=function(){return D("evenodd")},vt.__private__.discardPath=vt.discardPath=function(){return de("n"),this};var U=vt.__private__.isValidStyle=function(k){var xt=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(xt=!0),xt};vt.__private__.setDefaultPathOperation=vt.setDefaultPathOperation=function(k){return U(k)&&(wt=k),this};var Q=vt.__private__.getStyle=vt.getStyle=function(k){var xt=wt;switch(k){case"D":case"S":xt="S";break;case"F":xt="f";break;case"FD":case"DF":xt="B";break;case"f":case"f*":case"B":case"B*":xt=k}return xt},ut=vt.close=function(){return de("h"),this};vt.stroke=function(){return de("S"),this},vt.fill=function(k){return mt("f",k),this},vt.fillEvenOdd=function(k){return mt("f*",k),this},vt.fillStroke=function(k){return mt("B",k),this},vt.fillStrokeEvenOdd=function(k){return mt("B*",k),this};var mt=function(k,xt){v()(xt)==="object"?T(xt,k):de(k)},Mt=function(k){k===null||Ye===ge.ADVANCED&&k===void 0||(k=Q(k),de(k))};function x(k,xt,Pt,xe,He){var Xe=new Kr(xt||this.boundingBox,Pt||this.xStep,xe||this.yStep,this.gState,He||this.matrix);Xe.stream=this.stream;var xr=k+"$$"+this.cloneIndex+++"$$";return Ka(xr,Xe),Xe}var T=function(k,xt){var Pt=xs[k.key],xe=Ki[Pt];if(xe instanceof Pr)de("q"),de(R(xt)),xe.gState&&vt.setGState(xe.gState),de(k.matrix.toString()+" cm"),de("/"+Pt+" sh"),de("Q");else if(xe instanceof Kr){var He=new Wn(1,0,0,-1,0,Za());k.matrix&&(He=He.multiply(k.matrix||us),Pt=x.call(xe,k.key,k.boundingBox,k.xStep,k.yStep,He).id),de("q"),de("/Pattern cs"),de("/"+Pt+" scn"),xe.gState&&vt.setGState(xe.gState),de(xt),de("Q")}},R=function(k){switch(k){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Y=vt.moveTo=function(k,xt){return de(yr(re(k))+" "+yr(Te(xt))+" m"),this},rt=vt.lineTo=function(k,xt){return de(yr(re(k))+" "+yr(Te(xt))+" l"),this},et=vt.curveTo=function(k,xt,Pt,xe,He,Xe){return de([yr(re(k)),yr(Te(xt)),yr(re(Pt)),yr(Te(xe)),yr(re(He)),yr(Te(Xe)),"c"].join(" ")),this};vt.__private__.line=vt.line=function(k,xt,Pt,xe,He){if(isNaN(k)||isNaN(xt)||isNaN(Pt)||isNaN(xe)||!U(He))throw new Error("Invalid arguments passed to jsPDF.line");return Ye===ge.COMPAT?this.lines([[Pt-k,xe-xt]],k,xt,[1,1],He||"S"):this.lines([[Pt-k,xe-xt]],k,xt,[1,1]).stroke()},vt.__private__.lines=vt.lines=function(k,xt,Pt,xe,He,Xe){var xr,Wr,We,bn,ei,dn,vi,li,$i,Gi,Ao,wa;if(typeof k=="number"&&(wa=Pt,Pt=xt,xt=k,k=wa),xe=xe||[1,1],Xe=Xe||!1,isNaN(xt)||isNaN(Pt)||!Array.isArray(k)||!Array.isArray(xe)||!U(He)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Y(xt,Pt),xr=xe[0],Wr=xe[1],bn=k.length,Gi=xt,Ao=Pt,We=0;We<bn;We++)(ei=k[We]).length===2?(Gi=ei[0]*xr+Gi,Ao=ei[1]*Wr+Ao,rt(Gi,Ao)):(dn=ei[0]*xr+Gi,vi=ei[1]*Wr+Ao,li=ei[2]*xr+Gi,$i=ei[3]*Wr+Ao,Gi=ei[4]*xr+Gi,Ao=ei[5]*Wr+Ao,et(dn,vi,li,$i,Gi,Ao));return Xe&&ut(),Mt(He),this},vt.path=function(k){for(var xt=0;xt<k.length;xt++){var Pt=k[xt],xe=Pt.c;switch(Pt.op){case"m":Y(xe[0],xe[1]);break;case"l":rt(xe[0],xe[1]);break;case"c":et.apply(this,xe);break;case"h":ut()}}return this},vt.__private__.rect=vt.rect=function(k,xt,Pt,xe,He){if(isNaN(k)||isNaN(xt)||isNaN(Pt)||isNaN(xe)||!U(He))throw new Error("Invalid arguments passed to jsPDF.rect");return Ye===ge.COMPAT&&(xe=-xe),de([yr(re(k)),yr(Te(xt)),yr(re(Pt)),yr(re(xe)),"re"].join(" ")),Mt(He),this},vt.__private__.triangle=vt.triangle=function(k,xt,Pt,xe,He,Xe,xr){if(isNaN(k)||isNaN(xt)||isNaN(Pt)||isNaN(xe)||isNaN(He)||isNaN(Xe)||!U(xr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Pt-k,xe-xt],[He-Pt,Xe-xe],[k-He,xt-Xe]],k,xt,[1,1],xr,!0),this},vt.__private__.roundedRect=vt.roundedRect=function(k,xt,Pt,xe,He,Xe,xr){if(isNaN(k)||isNaN(xt)||isNaN(Pt)||isNaN(xe)||isNaN(He)||isNaN(Xe)||!U(xr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wr=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*Pt),Xe=Math.min(Xe,.5*xe),this.lines([[Pt-2*He,0],[He*Wr,0,He,Xe-Xe*Wr,He,Xe],[0,xe-2*Xe],[0,Xe*Wr,-He*Wr,Xe,-He,Xe],[2*He-Pt,0],[-He*Wr,0,-He,-Xe*Wr,-He,-Xe],[0,2*Xe-xe],[0,-Xe*Wr,He*Wr,-Xe,He,-Xe]],k+He,xt,[1,1],xr,!0),this},vt.__private__.ellipse=vt.ellipse=function(k,xt,Pt,xe,He){if(isNaN(k)||isNaN(xt)||isNaN(Pt)||isNaN(xe)||!U(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*Pt,xr=4/3*(Math.SQRT2-1)*xe;return Y(k+Pt,xt),et(k+Pt,xt-xr,k+Xe,xt-xe,k,xt-xe),et(k-Xe,xt-xe,k-Pt,xt-xr,k-Pt,xt),et(k-Pt,xt+xr,k-Xe,xt+xe,k,xt+xe),et(k+Xe,xt+xe,k+Pt,xt+xr,k+Pt,xt),Mt(He),this},vt.__private__.circle=vt.circle=function(k,xt,Pt,xe){if(isNaN(k)||isNaN(xt)||isNaN(Pt)||!U(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,xt,Pt,Pt,xe)},vt.setFont=function(k,xt,Pt){return Pt&&(xt=Qr(xt,Pt)),wi=Cl(k,xt,{disableWarning:!1}),this};var dt=vt.__private__.getFont=vt.getFont=function(){return Xi[Cl.apply(vt,arguments)]};vt.__private__.getFontList=vt.getFontList=function(){var k,xt,Pt={};for(k in To)if(To.hasOwnProperty(k))for(xt in Pt[k]=[],To[k])To[k].hasOwnProperty(xt)&&Pt[k].push(xt);return Pt},vt.addFont=function(k,xt,Pt,xe,He){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(Pt=Qr(Pt,xe)),He=He||"Identity-H",ql.call(this,k,xt,Pt,He)};var Ot,Et=F.lineWidth||.200025,ie=vt.__private__.getLineWidth=vt.getLineWidth=function(){return Et},_e=vt.__private__.setLineWidth=vt.setLineWidth=function(k){return Et=k,de(yr(re(k))+" w"),this};vt.__private__.setLineDash=pe.API.setLineDash=pe.API.setLineDashPattern=function(k,xt){if(k=k||[],xt=xt||0,isNaN(xt)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Pt){return yr(re(Pt))}).join(" "),xt=yr(re(xt)),de("["+k+"] "+xt+" d"),this};var ce=vt.__private__.getLineHeight=vt.getLineHeight=function(){return ln*Ot};vt.__private__.getLineHeight=vt.getLineHeight=function(){return ln*Ot};var De=vt.__private__.setLineHeightFactor=vt.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(Ot=k),this},$e=vt.__private__.getLineHeightFactor=vt.getLineHeightFactor=function(){return Ot};De(F.lineHeight);var Je=vt.__private__.getHorizontalCoordinate=function(k){return re(k)},pr=vt.__private__.getVerticalCoordinate=function(k){return Ye===ge.ADVANCED?k:$n[se].mediaBox.topRightY-$n[se].mediaBox.bottomLeftY-re(k)},Hr=vt.__private__.getHorizontalCoordinateString=vt.getHorizontalCoordinateString=function(k){return yr(Je(k))},on=vt.__private__.getVerticalCoordinateString=vt.getVerticalCoordinateString=function(k){return yr(pr(k))},qr=F.strokeColor||"0 G";vt.__private__.getStrokeColor=vt.getDrawColor=function(){return Se(qr)},vt.__private__.setStrokeColor=vt.setDrawColor=function(k,xt,Pt,xe){return qr=Ga({ch1:k,ch2:xt,ch3:Pt,ch4:xe,pdfColorType:"draw",precision:2}),de(qr),this};var Jr=F.fillColor||"0 g";vt.__private__.getFillColor=vt.getFillColor=function(){return Se(Jr)},vt.__private__.setFillColor=vt.setFillColor=function(k,xt,Pt,xe){return Jr=Ga({ch1:k,ch2:xt,ch3:Pt,ch4:xe,pdfColorType:"fill",precision:2}),de(Jr),this};var or=F.textColor||"0 g",vn=vt.__private__.getTextColor=vt.getTextColor=function(){return Se(or)};vt.__private__.setTextColor=vt.setTextColor=function(k,xt,Pt,xe){return or=Ga({ch1:k,ch2:xt,ch3:Pt,ch4:xe,pdfColorType:"text",precision:3}),this};var Qn=F.charSpace,Ni=vt.__private__.getCharSpace=vt.getCharSpace=function(){return parseFloat(Qn||0)};vt.__private__.setCharSpace=vt.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qn=k,this};var xi=0;vt.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},vt.__private__.setLineCap=vt.setLineCap=function(k){var xt=vt.CapJoinStyles[k];if(xt===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=xt,de(xt+" J"),this};var Yi=0;vt.__private__.setLineJoin=vt.setLineJoin=function(k){var xt=vt.CapJoinStyles[k];if(xt===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yi=xt,de(xt+" j"),this},vt.__private__.setLineMiterLimit=vt.__private__.setMiterLimit=vt.setLineMiterLimit=vt.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(yr(re(k))+" M"),this},vt.GState=Ke,vt.setGState=function(k){(k=typeof k=="string"?Wo[Ca[k]]:qi(null,k)).equals(Ns)||(de("/"+k.id+" gs"),Ns=k)};var qi=function(k,xt){if(!k||!Ca[k]){var Pt=!1;for(var xe in Wo)if(Wo.hasOwnProperty(xe)&&Wo[xe].equals(xt)){Pt=!0;break}if(Pt)xt=Wo[xe];else{var He="GS"+(Object.keys(Wo).length+1).toString(10);Wo[He]=xt,xt.id=He}return k&&(Ca[k]=xt.id),_n.publish("addGState",xt),xt}};vt.addGState=function(k,xt){return qi(k,xt),this},vt.saveGraphicsState=function(){return de("q"),Ps.push({key:wi,size:ln,color:or}),this},vt.restoreGraphicsState=function(){de("Q");var k=Ps.pop();return wi=k.key,ln=k.size,or=k.color,Ns=null,this},vt.setCurrentTransformationMatrix=function(k){return de(k.toString()+" cm"),this},vt.comment=function(k){return de("#"+k),this};var ro=function(k,xt){var Pt=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pt},set:function(Xe){isNaN(Xe)||(Pt=parseFloat(Xe))}});var xe=xt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Xe){isNaN(Xe)||(xe=parseFloat(Xe))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(Xe){He=Xe.toString()}}),this},so=function(k,xt,Pt,xe){ro.call(this,k,xt),this.type="rect";var He=Pt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(xr){isNaN(xr)||(He=parseFloat(xr))}});var Xe=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(xr){isNaN(xr)||(Xe=parseFloat(xr))}}),this},Sa=function(){this.page=Oo,this.currentPage=se,this.pages=Zr.slice(0),this.pagesContext=$n.slice(0),this.x=Xa,this.y=Bn,this.matrix=_a,this.width=Ia(se),this.height=Za(se),this.outputDestination=An,this.id="",this.objectNumber=-1};Sa.prototype.restore=function(){Oo=this.page,se=this.currentPage,$n=this.pagesContext,Zr=this.pages,Xa=this.x,Bn=this.y,_a=this.matrix,Po(se,this.width),eo(se,this.height),An=this.outputDestination};var Ci=function(k,xt,Pt,xe,He){Ts.push(new Sa),Oo=se=0,Zr=[],Xa=k,Bn=xt,_a=He,hl([Pt,xe])},ra=function(k){if(Hs[k])Ts.pop().restore();else{var xt=new Sa,Pt="Xo"+(Object.keys(ca).length+1).toString(10);xt.id=Pt,Hs[k]=Pt,ca[Pt]=xt,_n.publish("addFormObject",xt),Ts.pop().restore()}};for(var La in vt.beginFormObject=function(k,xt,Pt,xe,He){return Ci(k,xt,Pt,xe,He),this},vt.endFormObject=function(k){return ra(k),this},vt.doFormObject=function(k,xt){var Pt=ca[Hs[k]];return de("q"),de(xt.toString()+" cm"),de("/"+Pt.id+" Do"),de("Q"),this},vt.getFormObject=function(k){var xt=ca[Hs[k]];return{x:xt.x,y:xt.y,width:xt.width,height:xt.height,matrix:xt.matrix}},vt.save=function(k,xt){return k=k||"generated.pdf",(xt=xt||{}).returnPromise=xt.returnPromise||!1,xt.returnPromise===!1?(H(fl($s()),k),typeof H.unload=="function"&&E.setTimeout&&setTimeout(H.unload,911),this):new Promise(function(Pt,xe){try{var He=H(fl($s()),k);typeof H.unload=="function"&&E.setTimeout&&setTimeout(H.unload,911),Pt(He)}catch(Xe){xe(Xe.message)}})},pe.API)pe.API.hasOwnProperty(La)&&(La==="events"&&pe.API.events.length?function(k,xt){var Pt,xe,He;for(He=xt.length-1;He!==-1;He--)Pt=xt[He][0],xe=xt[He][1],k.subscribe.apply(k,[Pt].concat(typeof xe=="function"?[xe]:xe))}(_n,pe.API.events):vt[La]=pe.API[La]);var Ia=vt.getPageWidth=function(k){return($n[k=k||se].mediaBox.topRightX-$n[k].mediaBox.bottomLeftX)/mn},Po=vt.setPageWidth=function(k,xt){$n[k].mediaBox.topRightX=xt*mn+$n[k].mediaBox.bottomLeftX},Za=vt.getPageHeight=function(k){return($n[k=k||se].mediaBox.topRightY-$n[k].mediaBox.bottomLeftY)/mn},eo=vt.setPageHeight=function(k,xt){$n[k].mediaBox.topRightY=xt*mn+$n[k].mediaBox.bottomLeftY};return vt.internal={pdfEscape:da,getStyle:Q,getFont:dt,getFontSize:un,getCharSpace:Ni,getTextColor:vn,getLineHeight:ce,getLineHeightFactor:$e,getLineWidth:ie,write:fi,getHorizontalCoordinate:Je,getVerticalCoordinate:pr,getCoordinateString:Hr,getVerticalCoordinateString:on,collections:{},newObject:Ea,newAdditionalObject:Au,newObjectDeferred:fn,newObjectDeferredBegin:ds,getFilters:ha,putStream:Zi,events:_n,scaleFactor:mn,pageSize:{getWidth:function(){return Ia(se)},setWidth:function(k){Po(se,k)},getHeight:function(){return Za(se)},setHeight:function(k){eo(se,k)}},encryptionOptions:Ut,encryption:Eo,getEncryptor:pl,output:Ql,getNumberOfPages:Jl,pages:Zr,out:de,f2:mr,f3:ee,getPageInfo:bl,getPageInfoByObjId:Jn,getCurrentPageInfo:Ll,getPDFVersion:ae,Point:ro,Rectangle:so,Matrix:Wn,hasHotfix:dl},Object.defineProperty(vt.internal.pageSize,"width",{get:function(){return Ia(se)},set:function(k){Po(se,k)},enumerable:!0,configurable:!0}),Object.defineProperty(vt.internal.pageSize,"height",{get:function(){return Za(se)},set:function(k){eo(se,k)},enumerable:!0,configurable:!0}),s0.call(vt,Yr),wi="F1",Cu(Z,b),_n.publish("initialized"),vt}oe.prototype.lsbFirstWord=function(F){return String.fromCharCode(F>>0&255,F>>8&255,F>>16&255,F>>24&255)},oe.prototype.toHexString=function(F){return F.split("").map(function(C){return("0"+(255&C.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oe.prototype.hexToBytes=function(F){for(var C=[],b=0;b<F.length;b+=2)C.push(String.fromCharCode(parseInt(F.substr(b,2),16)));return C.join("")},oe.prototype.processOwnerPassword=function(F,C){return gt(Jt(C).substr(0,5),F)},oe.prototype.encryptor=function(F,C){var b=Jt(this.encryptionKey+String.fromCharCode(255&F,F>>8&255,F>>16&255,255&C,C>>8&255)).substr(0,10);return function(G){return gt(b,G)}},Ke.prototype.equals=function(F){var C,b="id,objectNumber,equals";if(!F||v()(F)!==v()(this))return!1;var G=0;for(C in this)if(!(b.indexOf(C)>=0)){if(this.hasOwnProperty(C)&&!F.hasOwnProperty(C)||this[C]!==F[C])return!1;G++}for(C in F)F.hasOwnProperty(C)&&b.indexOf(C)<0&&G--;return G===0},pe.API={events:[]},pe.version="2.5.0";var Qe=pe.API,Er=1,Nr=function(F){return F.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pn=function(F){return F.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Br=function(F){return F.toFixed(2)},Vt=function(F){return F.toFixed(5)};Qe.__acroform__={};var Qt=function(F,C){F.prototype=Object.create(C.prototype),F.prototype.constructor=F},At=function(F){return F*Er},ht=function(F){var C=new sn,b=dr.internal.getHeight(F)||0,G=dr.internal.getWidth(F)||0;return C.BBox=[0,0,Number(Br(G)),Number(Br(b))],C},Ct=Qe.__acroform__.setBit=function(F,C){if(F=F||0,C=C||0,isNaN(F)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return F|=1<<C},te=Qe.__acroform__.clearBit=function(F,C){if(F=F||0,C=C||0,isNaN(F)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return F&=~(1<<C)},qt=Qe.__acroform__.getBit=function(F,C){if(isNaN(F)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(F&1<<C)==0?0:1},fe=Qe.__acroform__.getBitForPdf=function(F,C){if(isNaN(F)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qt(F,C-1)},Pe=Qe.__acroform__.setBitForPdf=function(F,C){if(isNaN(F)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ct(F,C-1)},Be=Qe.__acroform__.clearBitForPdf=function(F,C){if(isNaN(F)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return te(F,C-1)},ue=Qe.__acroform__.calculateCoordinates=function(F,C){var b=C.internal.getHorizontalCoordinate,G=C.internal.getVerticalCoordinate,Z=F[0],B=F[1],tt=F[2],at=F[3],lt={};return lt.lowerLeft_X=b(Z)||0,lt.lowerLeft_Y=G(B+at)||0,lt.upperRight_X=b(Z+tt)||0,lt.upperRight_Y=G(B)||0,[Number(Br(lt.lowerLeft_X)),Number(Br(lt.lowerLeft_Y)),Number(Br(lt.upperRight_X)),Number(Br(lt.upperRight_Y))]},ft=function(F){if(F.appearanceStreamContent)return F.appearanceStreamContent;if(F.V||F.DV){var C=[],b=F._V||F.DV,G=j(F,b),Z=F.scope.internal.getFont(F.fontName,F.fontStyle).id;C.push("/Tx BMC"),C.push("q"),C.push("BT"),C.push(F.scope.__private__.encodeColorString(F.color)),C.push("/"+Z+" "+Br(G.fontSize)+" Tf"),C.push("1 0 0 1 0 0 Tm"),C.push(G.text),C.push("ET"),C.push("Q"),C.push("EMC");var B=ht(F);return B.scope=F.scope,B.stream=C.join(`
`),B}},j=function(F,C){var b=F.fontSize===0?F.maxFontSize:F.fontSize,G={text:"",fontSize:""},Z=(C=(C=C.substr(0,1)=="("?C.substr(1):C).substr(C.length-1)==")"?C.substr(0,C.length-1):C).split(" ");Z=F.multiline?Z.map(function(ee){return ee.split(`
`)}):Z.map(function(ee){return[ee]});var B=b,tt=dr.internal.getHeight(F)||0;tt=tt<0?-tt:tt;var at=dr.internal.getWidth(F)||0;at=at<0?-at:at;var lt=function(ee,re,Ne){if(ee+1<Z.length){var Te=re+" "+Z[ee+1][0];return W(Te,F,Ne).width<=at-4}return!1};B++;t:for(;B>0;){C="",B--;var wt,Ut,kt=W("3",F,B).height,Zt=F.multiline?tt-B:(tt-kt)/2,vt=Zt+=2,he=0,ae=0,Ae=0;if(B<=0){C=`(...) Tj
`,C+="% Width of Text: "+W(C,F,B=12).width+", FieldWidth:"+at+`
`;break}for(var Kt="",ge=0,Ye=0;Ye<Z.length;Ye++)if(Z.hasOwnProperty(Ye)){var cr=!1;if(Z[Ye].length!==1&&Ae!==Z[Ye].length-1){if((kt+2)*(ge+2)+2>tt)continue t;Kt+=Z[Ye][Ae],cr=!0,ae=Ye,Ye--}else{Kt=(Kt+=Z[Ye][Ae]+" ").substr(Kt.length-1)==" "?Kt.substr(0,Kt.length-1):Kt;var Mr=parseInt(Ye),Qr=lt(Mr,Kt,B),yr=Ye>=Z.length-1;if(Qr&&!yr){Kt+=" ",Ae=0;continue}if(Qr||yr){if(yr)ae=Mr;else if(F.multiline&&(kt+2)*(ge+2)+2>tt)continue t}else{if(!F.multiline||(kt+2)*(ge+2)+2>tt)continue t;ae=Mr}}for(var Ue="",Lr=he;Lr<=ae;Lr++){var mr=Z[Lr];if(F.multiline){if(Lr===ae){Ue+=mr[Ae]+" ",Ae=(Ae+1)%mr.length;continue}if(Lr===he){Ue+=mr[mr.length-1]+" ";continue}}Ue+=mr[0]+" "}switch(Ue=Ue.substr(Ue.length-1)==" "?Ue.substr(0,Ue.length-1):Ue,Ut=W(Ue,F,B).width,F.textAlign){case"right":wt=at-Ut-2;break;case"center":wt=(at-Ut)/2;break;case"left":default:wt=2}C+=Br(wt)+" "+Br(vt)+` Td
`,C+="("+Nr(Ue)+`) Tj
`,C+=-Br(wt)+` 0 Td
`,vt=-(B+2),Ut=0,he=cr?ae:ae+1,ge++,Kt=""}break}return G.text=C,G.fontSize=B,G},W=function(F,C,b){var G=C.scope.internal.getFont(C.fontName,C.fontStyle),Z=C.scope.getStringUnitWidth(F,{font:G,fontSize:parseFloat(b),charSpace:0})*parseFloat(b);return{height:C.scope.getStringUnitWidth("3",{font:G,fontSize:parseFloat(b),charSpace:0})*parseFloat(b)*1.5,width:Z}},st={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$t=function(F,C){var b={type:"reference",object:F};C.internal.getPageInfo(F.page).pageContext.annotations.find(function(G){return G.type===b.type&&G.object===b.object})===void 0&&C.internal.getPageInfo(F.page).pageContext.annotations.push(b)},Ee=function(F,C){for(var b in F)if(F.hasOwnProperty(b)){var G=b,Z=F[b];C.internal.newObjectDeferredBegin(Z.objId,!0),v()(Z)==="object"&&typeof Z.putStream=="function"&&Z.putStream(),delete F[G]}},Le=function(F,C){if(C.scope=F,F.internal!==void 0&&(F.internal.acroformPlugin===void 0||F.internal.acroformPlugin.isInitialized===!1)){if(ci.FieldNum=0,F.internal.acroformPlugin=JSON.parse(JSON.stringify(st)),F.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Er=F.internal.scaleFactor,F.internal.acroformPlugin.acroFormDictionaryRoot=new Nn,F.internal.acroformPlugin.acroFormDictionaryRoot.scope=F,F.internal.acroformPlugin.acroFormDictionaryRoot._eventID=F.internal.events.subscribe("postPutResources",function(){(function(b){b.internal.events.unsubscribe(b.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete b.internal.acroformPlugin.acroFormDictionaryRoot._eventID,b.internal.acroformPlugin.printedOut=!0})(F)}),F.internal.events.subscribe("buildDocument",function(){(function(b){b.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var G=b.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Z in G)if(G.hasOwnProperty(Z)){var B=G[Z];B.objId=void 0,B.hasAnnotation&&$t(B,b)}})(F)}),F.internal.events.subscribe("putCatalog",function(){(function(b){if(b.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");b.internal.write("/AcroForm "+b.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(F)}),F.internal.events.subscribe("postPutPages",function(b){(function(G,Z){var B=!G;for(var tt in G||(Z.internal.newObjectDeferredBegin(Z.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Z.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),G=G||Z.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(G.hasOwnProperty(tt)){var at=G[tt],lt=[],wt=at.Rect;if(at.Rect&&(at.Rect=ue(at.Rect,Z)),Z.internal.newObjectDeferredBegin(at.objId,!0),at.DA=dr.createDefaultAppearanceStream(at),v()(at)==="object"&&typeof at.getKeyValueListForStream=="function"&&(lt=at.getKeyValueListForStream()),at.Rect=wt,at.hasAppearanceStream&&!at.appearanceStreamContent){var Ut=ft(at);lt.push({key:"AP",value:"<</N "+Ut+">>"}),Z.internal.acroformPlugin.xForms.push(Ut)}if(at.appearanceStreamContent){var kt="";for(var Zt in at.appearanceStreamContent)if(at.appearanceStreamContent.hasOwnProperty(Zt)){var vt=at.appearanceStreamContent[Zt];if(kt+="/"+Zt+" ",kt+="<<",Object.keys(vt).length>=1||Array.isArray(vt)){for(var tt in vt)if(vt.hasOwnProperty(tt)){var he=vt[tt];typeof he=="function"&&(he=he.call(Z,at)),kt+="/"+tt+" "+he+" ",Z.internal.acroformPlugin.xForms.indexOf(he)>=0||Z.internal.acroformPlugin.xForms.push(he)}}else typeof(he=vt)=="function"&&(he=he.call(Z,at)),kt+="/"+tt+" "+he,Z.internal.acroformPlugin.xForms.indexOf(he)>=0||Z.internal.acroformPlugin.xForms.push(he);kt+=">>"}lt.push({key:"AP",value:`<<
`+kt+">>"})}Z.internal.putStream({additionalKeyValues:lt,objectId:at.objId}),Z.internal.out("endobj")}B&&Ee(Z.internal.acroformPlugin.xForms,Z)})(b,F)}),F.internal.acroformPlugin.isInitialized=!0}},Ar=Qe.__acroform__.arrayToPdfArray=function(F,C,b){var G=function(tt){return tt};if(Array.isArray(F)){for(var Z="[",B=0;B<F.length;B++)switch(B!==0&&(Z+=" "),v()(F[B])){case"boolean":case"number":case"object":Z+=F[B].toString();break;case"string":F[B].substr(0,1)!=="/"?(C!==void 0&&b&&(G=b.internal.getEncryptor(C)),Z+="("+Nr(G(F[B].toString()))+")"):Z+=F[B].toString()}return Z+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gr=function(F,C,b){var G=function(Z){return Z};return C!==void 0&&b&&(G=b.internal.getEncryptor(C)),(F=F||"").toString(),F="("+Nr(G(F))+")"},zr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(F){this._objId=F}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zr.prototype.toString=function(){return this.objId+" 0 R"},zr.prototype.putStream=function(){var F=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:F,objectId:this.objId}),this.scope.internal.out("endobj")},zr.prototype.getKeyValueListForStream=function(){var F=[],C=Object.getOwnPropertyNames(this).filter(function(B){return B!="content"&&B!="appearanceStreamContent"&&B!="scope"&&B!="objId"&&B.substring(0,1)!="_"});for(var b in C)if(Object.getOwnPropertyDescriptor(this,C[b]).configurable===!1){var G=C[b],Z=this[G];Z&&(Array.isArray(Z)?F.push({key:G,value:Ar(Z,this.objId,this.scope)}):Z instanceof zr?(Z.scope=this.scope,F.push({key:G,value:Z.objId+" 0 R"})):typeof Z!="function"&&F.push({key:G,value:Z}))}return F};var sn=function(){zr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var F,C=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return C},set:function(b){C=b}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(b){F=b.trim()},get:function(){return F||null}})};Qt(sn,zr);var Nn=function(){zr.call(this);var F,C=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return C.length>0?C:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return C}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(F){var b=function(G){return G};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Nr(b(F))+")"}},set:function(b){F=b}})};Qt(Nn,zr);var ci=function F(){zr.call(this);var C=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return C},set:function(Kt){if(isNaN(Kt))throw new Error('Invalid value "'+Kt+'" for attribute F supplied.');C=Kt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(C,3))},set:function(Kt){Boolean(Kt)===!0?this.F=Pe(C,3):this.F=Be(C,3)}});var b=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return b},set:function(Kt){if(isNaN(Kt))throw new Error('Invalid value "'+Kt+'" for attribute Ff supplied.');b=Kt}});var G=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(G.length!==0)return G},set:function(Kt){G=Kt!==void 0?Kt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[0])?0:G[0]},set:function(Kt){G[0]=Kt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[1])?0:G[1]},set:function(Kt){G[1]=Kt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[2])?0:G[2]},set:function(Kt){G[2]=Kt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[3])?0:G[3]},set:function(Kt){G[3]=Kt}});var Z="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Z},set:function(Kt){switch(Kt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Z=Kt;break;default:throw new Error('Invalid value "'+Kt+'" for attribute FT supplied.')}}});var B=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!B||B.length<1){if(this instanceof ya)return;B="FieldObject"+F.FieldNum++}var Kt=function(ge){return ge};return this.scope&&(Kt=this.scope.internal.getEncryptor(this.objId)),"("+Nr(Kt(B))+")"},set:function(Kt){B=Kt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return B},set:function(Kt){B=Kt}});var tt="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return tt},set:function(Kt){tt=Kt}});var at="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return at},set:function(Kt){at=Kt}});var lt=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return lt},set:function(Kt){lt=Kt}});var wt=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return wt===void 0?50/Er:wt},set:function(Kt){wt=Kt}});var Ut="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ut},set:function(Kt){Ut=Kt}});var kt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!kt||this instanceof ya||this instanceof zi))return Gr(kt,this.objId,this.scope)},set:function(Kt){Kt=Kt.toString(),kt=Kt}});var Zt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Zt)return this instanceof gn?Zt:Gr(Zt,this.objId,this.scope)},set:function(Kt){Kt=Kt.toString(),Zt=this instanceof gn?Kt:Kt.substr(0,1)==="("?Pn(Kt.substr(1,Kt.length-2)):Pn(Kt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gn?Pn(Zt.substr(1,Zt.length-1)):Zt},set:function(Kt){Kt=Kt.toString(),Zt=this instanceof gn?"/"+Kt:Kt}});var vt=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(vt)return vt},set:function(Kt){this.V=Kt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(vt)return this instanceof gn?vt:Gr(vt,this.objId,this.scope)},set:function(Kt){Kt=Kt.toString(),vt=this instanceof gn?Kt:Kt.substr(0,1)==="("?Pn(Kt.substr(1,Kt.length-2)):Pn(Kt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gn?Pn(vt.substr(1,vt.length-1)):vt},set:function(Kt){Kt=Kt.toString(),vt=this instanceof gn?"/"+Kt:Kt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var he,ae=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ae},set:function(Kt){Kt=Boolean(Kt),ae=Kt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(he)return he},set:function(Kt){he=Kt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,1))},set:function(Kt){Boolean(Kt)===!0?this.Ff=Pe(this.Ff,1):this.Ff=Be(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,2))},set:function(Kt){Boolean(Kt)===!0?this.Ff=Pe(this.Ff,2):this.Ff=Be(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,3))},set:function(Kt){Boolean(Kt)===!0?this.Ff=Pe(this.Ff,3):this.Ff=Be(this.Ff,3)}});var Ae=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Ae!==null)return Ae},set:function(Kt){if([0,1,2].indexOf(Kt)===-1)throw new Error('Invalid value "'+Kt+'" for attribute Q supplied.');Ae=Kt}}),Object.defineProperty(this,"textAlign",{get:function(){var Kt;switch(Ae){case 0:default:Kt="left";break;case 1:Kt="center";break;case 2:Kt="right"}return Kt},configurable:!0,enumerable:!0,set:function(Kt){switch(Kt){case"right":case 2:Ae=2;break;case"center":case 1:Ae=1;break;case"left":case 0:default:Ae=0}}})};Qt(ci,zr);var ki=function(){ci.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var F=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return F},set:function(b){F=b}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return F},set:function(b){F=b}});var C=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ar(C,this.objId,this.scope)},set:function(b){var G,Z;Z=[],typeof(G=b)=="string"&&(Z=function(B,tt,at){at||(at=1);for(var lt,wt=[];lt=tt.exec(B);)wt.push(lt[at]);return wt}(G,/\((.*?)\)/g)),C=Z}}),this.getOptions=function(){return C},this.setOptions=function(b){C=b,this.sort&&C.sort()},this.addOption=function(b){b=(b=b||"").toString(),C.push(b),this.sort&&C.sort()},this.removeOption=function(b,G){for(G=G||!1,b=(b=b||"").toString();C.indexOf(b)!==-1&&(C.splice(C.indexOf(b),1),G!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,18))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,18):this.Ff=Be(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,19))},set:function(b){this.combo===!0&&(Boolean(b)===!0?this.Ff=Pe(this.Ff,19):this.Ff=Be(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,20))},set:function(b){Boolean(b)===!0?(this.Ff=Pe(this.Ff,20),C.sort()):this.Ff=Be(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,22))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,22):this.Ff=Be(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,23))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,23):this.Ff=Be(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,27))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,27):this.Ff=Be(this.Ff,27)}}),this.hasAppearanceStream=!1};Qt(ki,ci);var Fn=function(){ki.call(this),this.fontName="helvetica",this.combo=!1};Qt(Fn,ki);var qn=function(){Fn.call(this),this.combo=!0};Qt(qn,Fn);var Mi=function(){qn.call(this),this.edit=!0};Qt(Mi,qn);var gn=function(){ci.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,15))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,15):this.Ff=Be(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,16))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,16):this.Ff=Be(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,17))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,17):this.Ff=Be(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,26))},set:function(b){Boolean(b)===!0?this.Ff=Pe(this.Ff,26):this.Ff=Be(this.Ff,26)}});var F,C={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var b=function(B){return B};if(this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),Object.keys(C).length!==0){var G,Z=[];for(G in Z.push("<<"),C)Z.push("/"+G+" ("+Nr(b(C[G]))+")");return Z.push(">>"),Z.join(`
`)}},set:function(b){v()(b)==="object"&&(C=b)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return C.CA||""},set:function(b){typeof b=="string"&&(C.CA=b)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return F},set:function(b){F=b}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return F.substr(1,F.length-1)},set:function(b){F="/"+b}})};Qt(gn,ci);var ao=function(){gn.call(this),this.pushButton=!0};Qt(ao,gn);var kn=function(){gn.call(this),this.radio=!0,this.pushButton=!1;var F=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return F},set:function(C){F=C!==void 0?C:[]}})};Qt(kn,gn);var ya=function(){var F,C;ci.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return F},set:function(Z){F=Z}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return C},set:function(Z){C=Z}});var b,G={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Z=function(at){return at};this.scope&&(Z=this.scope.internal.getEncryptor(this.objId));var B,tt=[];for(B in tt.push("<<"),G)tt.push("/"+B+" ("+Nr(Z(G[B]))+")");return tt.push(">>"),tt.join(`
`)},set:function(Z){v()(Z)==="object"&&(G=Z)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return G.CA||""},set:function(Z){typeof Z=="string"&&(G.CA=Z)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return b},set:function(Z){b=Z}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return b.substr(1,b.length-1)},set:function(Z){b="/"+Z}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qt(ya,ci),kn.prototype.setAppearance=function(F){if(!("createAppearanceStream"in F)||!("getCA"in F))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var C in this.Kids)if(this.Kids.hasOwnProperty(C)){var b=this.Kids[C];b.appearanceStreamContent=F.createAppearanceStream(b.optionName),b.caption=F.getCA()}},kn.prototype.createOption=function(F){var C=new ya;return C.Parent=this,C.optionName=F,this.Kids.push(C),rn.call(this.scope,C),C};var Lo=function(){gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dr.CheckBox.createAppearanceStream()};Qt(Lo,gn);var zi=function(){ci.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,13))},set:function(C){Boolean(C)===!0?this.Ff=Pe(this.Ff,13):this.Ff=Be(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,21))},set:function(C){Boolean(C)===!0?this.Ff=Pe(this.Ff,21):this.Ff=Be(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,23))},set:function(C){Boolean(C)===!0?this.Ff=Pe(this.Ff,23):this.Ff=Be(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,24))},set:function(C){Boolean(C)===!0?this.Ff=Pe(this.Ff,24):this.Ff=Be(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,25))},set:function(C){Boolean(C)===!0?this.Ff=Pe(this.Ff,25):this.Ff=Be(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,26))},set:function(C){Boolean(C)===!0?this.Ff=Pe(this.Ff,26):this.Ff=Be(this.Ff,26)}});var F=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return F},set:function(C){F=C}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return F},set:function(C){Number.isInteger(C)&&(F=C)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qt(zi,ci);var an=function(){zi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(fe(this.Ff,14))},set:function(F){Boolean(F)===!0?this.Ff=Pe(this.Ff,14):this.Ff=Be(this.Ff,14)}}),this.password=!0};Qt(an,zi);var dr={CheckBox:{createAppearanceStream:function(){return{N:{On:dr.CheckBox.YesNormal},D:{On:dr.CheckBox.YesPushDown,Off:dr.CheckBox.OffPushDown}}},YesPushDown:function(F){var C=ht(F);C.scope=F.scope;var b=[],G=F.scope.internal.getFont(F.fontName,F.fontStyle).id,Z=F.scope.__private__.encodeColorString(F.color),B=j(F,F.caption);return b.push("0.749023 g"),b.push("0 0 "+Br(dr.internal.getWidth(F))+" "+Br(dr.internal.getHeight(F))+" re"),b.push("f"),b.push("BMC"),b.push("q"),b.push("0 0 1 rg"),b.push("/"+G+" "+Br(B.fontSize)+" Tf "+Z),b.push("BT"),b.push(B.text),b.push("ET"),b.push("Q"),b.push("EMC"),C.stream=b.join(`
`),C},YesNormal:function(F){var C=ht(F);C.scope=F.scope;var b=F.scope.internal.getFont(F.fontName,F.fontStyle).id,G=F.scope.__private__.encodeColorString(F.color),Z=[],B=dr.internal.getHeight(F),tt=dr.internal.getWidth(F),at=j(F,F.caption);return Z.push("1 g"),Z.push("0 0 "+Br(tt)+" "+Br(B)+" re"),Z.push("f"),Z.push("q"),Z.push("0 0 1 rg"),Z.push("0 0 "+Br(tt-1)+" "+Br(B-1)+" re"),Z.push("W"),Z.push("n"),Z.push("0 g"),Z.push("BT"),Z.push("/"+b+" "+Br(at.fontSize)+" Tf "+G),Z.push(at.text),Z.push("ET"),Z.push("Q"),C.stream=Z.join(`
`),C},OffPushDown:function(F){var C=ht(F);C.scope=F.scope;var b=[];return b.push("0.749023 g"),b.push("0 0 "+Br(dr.internal.getWidth(F))+" "+Br(dr.internal.getHeight(F))+" re"),b.push("f"),C.stream=b.join(`
`),C}},RadioButton:{Circle:{createAppearanceStream:function(F){var C={D:{Off:dr.RadioButton.Circle.OffPushDown},N:{}};return C.N[F]=dr.RadioButton.Circle.YesNormal,C.D[F]=dr.RadioButton.Circle.YesPushDown,C},getCA:function(){return"l"},YesNormal:function(F){var C=ht(F);C.scope=F.scope;var b=[],G=dr.internal.getWidth(F)<=dr.internal.getHeight(F)?dr.internal.getWidth(F)/4:dr.internal.getHeight(F)/4;G=Number((.9*G).toFixed(5));var Z=dr.internal.Bezier_C,B=Number((G*Z).toFixed(5));return b.push("q"),b.push("1 0 0 1 "+Vt(dr.internal.getWidth(F)/2)+" "+Vt(dr.internal.getHeight(F)/2)+" cm"),b.push(G+" 0 m"),b.push(G+" "+B+" "+B+" "+G+" 0 "+G+" c"),b.push("-"+B+" "+G+" -"+G+" "+B+" -"+G+" 0 c"),b.push("-"+G+" -"+B+" -"+B+" -"+G+" 0 -"+G+" c"),b.push(B+" -"+G+" "+G+" -"+B+" "+G+" 0 c"),b.push("f"),b.push("Q"),C.stream=b.join(`
`),C},YesPushDown:function(F){var C=ht(F);C.scope=F.scope;var b=[],G=dr.internal.getWidth(F)<=dr.internal.getHeight(F)?dr.internal.getWidth(F)/4:dr.internal.getHeight(F)/4;G=Number((.9*G).toFixed(5));var Z=Number((2*G).toFixed(5)),B=Number((Z*dr.internal.Bezier_C).toFixed(5)),tt=Number((G*dr.internal.Bezier_C).toFixed(5));return b.push("0.749023 g"),b.push("q"),b.push("1 0 0 1 "+Vt(dr.internal.getWidth(F)/2)+" "+Vt(dr.internal.getHeight(F)/2)+" cm"),b.push(Z+" 0 m"),b.push(Z+" "+B+" "+B+" "+Z+" 0 "+Z+" c"),b.push("-"+B+" "+Z+" -"+Z+" "+B+" -"+Z+" 0 c"),b.push("-"+Z+" -"+B+" -"+B+" -"+Z+" 0 -"+Z+" c"),b.push(B+" -"+Z+" "+Z+" -"+B+" "+Z+" 0 c"),b.push("f"),b.push("Q"),b.push("0 g"),b.push("q"),b.push("1 0 0 1 "+Vt(dr.internal.getWidth(F)/2)+" "+Vt(dr.internal.getHeight(F)/2)+" cm"),b.push(G+" 0 m"),b.push(G+" "+tt+" "+tt+" "+G+" 0 "+G+" c"),b.push("-"+tt+" "+G+" -"+G+" "+tt+" -"+G+" 0 c"),b.push("-"+G+" -"+tt+" -"+tt+" -"+G+" 0 -"+G+" c"),b.push(tt+" -"+G+" "+G+" -"+tt+" "+G+" 0 c"),b.push("f"),b.push("Q"),C.stream=b.join(`
`),C},OffPushDown:function(F){var C=ht(F);C.scope=F.scope;var b=[],G=dr.internal.getWidth(F)<=dr.internal.getHeight(F)?dr.internal.getWidth(F)/4:dr.internal.getHeight(F)/4;G=Number((.9*G).toFixed(5));var Z=Number((2*G).toFixed(5)),B=Number((Z*dr.internal.Bezier_C).toFixed(5));return b.push("0.749023 g"),b.push("q"),b.push("1 0 0 1 "+Vt(dr.internal.getWidth(F)/2)+" "+Vt(dr.internal.getHeight(F)/2)+" cm"),b.push(Z+" 0 m"),b.push(Z+" "+B+" "+B+" "+Z+" 0 "+Z+" c"),b.push("-"+B+" "+Z+" -"+Z+" "+B+" -"+Z+" 0 c"),b.push("-"+Z+" -"+B+" -"+B+" -"+Z+" 0 -"+Z+" c"),b.push(B+" -"+Z+" "+Z+" -"+B+" "+Z+" 0 c"),b.push("f"),b.push("Q"),C.stream=b.join(`
`),C}},Cross:{createAppearanceStream:function(F){var C={D:{Off:dr.RadioButton.Cross.OffPushDown},N:{}};return C.N[F]=dr.RadioButton.Cross.YesNormal,C.D[F]=dr.RadioButton.Cross.YesPushDown,C},getCA:function(){return"8"},YesNormal:function(F){var C=ht(F);C.scope=F.scope;var b=[],G=dr.internal.calculateCross(F);return b.push("q"),b.push("1 1 "+Br(dr.internal.getWidth(F)-2)+" "+Br(dr.internal.getHeight(F)-2)+" re"),b.push("W"),b.push("n"),b.push(Br(G.x1.x)+" "+Br(G.x1.y)+" m"),b.push(Br(G.x2.x)+" "+Br(G.x2.y)+" l"),b.push(Br(G.x4.x)+" "+Br(G.x4.y)+" m"),b.push(Br(G.x3.x)+" "+Br(G.x3.y)+" l"),b.push("s"),b.push("Q"),C.stream=b.join(`
`),C},YesPushDown:function(F){var C=ht(F);C.scope=F.scope;var b=dr.internal.calculateCross(F),G=[];return G.push("0.749023 g"),G.push("0 0 "+Br(dr.internal.getWidth(F))+" "+Br(dr.internal.getHeight(F))+" re"),G.push("f"),G.push("q"),G.push("1 1 "+Br(dr.internal.getWidth(F)-2)+" "+Br(dr.internal.getHeight(F)-2)+" re"),G.push("W"),G.push("n"),G.push(Br(b.x1.x)+" "+Br(b.x1.y)+" m"),G.push(Br(b.x2.x)+" "+Br(b.x2.y)+" l"),G.push(Br(b.x4.x)+" "+Br(b.x4.y)+" m"),G.push(Br(b.x3.x)+" "+Br(b.x3.y)+" l"),G.push("s"),G.push("Q"),C.stream=G.join(`
`),C},OffPushDown:function(F){var C=ht(F);C.scope=F.scope;var b=[];return b.push("0.749023 g"),b.push("0 0 "+Br(dr.internal.getWidth(F))+" "+Br(dr.internal.getHeight(F))+" re"),b.push("f"),C.stream=b.join(`
`),C}}},createDefaultAppearanceStream:function(F){var C=F.scope.internal.getFont(F.fontName,F.fontStyle).id,b=F.scope.__private__.encodeColorString(F.color);return"/"+C+" "+F.fontSize+" Tf "+b}};dr.internal={Bezier_C:.551915024494,calculateCross:function(F){var C=dr.internal.getWidth(F),b=dr.internal.getHeight(F),G=Math.min(C,b);return{x1:{x:(C-G)/2,y:(b-G)/2+G},x2:{x:(C-G)/2+G,y:(b-G)/2},x3:{x:(C-G)/2,y:(b-G)/2},x4:{x:(C-G)/2+G,y:(b-G)/2+G}}}},dr.internal.getWidth=function(F){var C=0;return v()(F)==="object"&&(C=At(F.Rect[2])),C},dr.internal.getHeight=function(F){var C=0;return v()(F)==="object"&&(C=At(F.Rect[3])),C};var rn=Qe.addField=function(F){if(Le(this,F),!(F instanceof ci))throw new Error("Invalid argument passed to jsPDF.addField.");var C;return(C=F).scope.internal.acroformPlugin.printedOut&&(C.scope.internal.acroformPlugin.printedOut=!1,C.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),C.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(C),F.page=F.scope.internal.getCurrentPageInfo().pageNumber,this};Qe.AcroFormChoiceField=ki,Qe.AcroFormListBox=Fn,Qe.AcroFormComboBox=qn,Qe.AcroFormEditBox=Mi,Qe.AcroFormButton=gn,Qe.AcroFormPushButton=ao,Qe.AcroFormRadioButton=kn,Qe.AcroFormCheckBox=Lo,Qe.AcroFormTextField=zi,Qe.AcroFormPasswordField=an,Qe.AcroFormAppearance=dr,Qe.AcroForm={ChoiceField:ki,ListBox:Fn,ComboBox:qn,EditBox:Mi,Button:gn,PushButton:ao,RadioButton:kn,CheckBox:Lo,TextField:zi,PasswordField:an,Appearance:dr},pe.AcroForm={ChoiceField:ki,ListBox:Fn,ComboBox:qn,EditBox:Mi,Button:gn,PushButton:ao,RadioButton:kn,CheckBox:Lo,TextField:zi,PasswordField:an,Appearance:dr},pe.AcroForm;function Mn(F){return F.reduce(function(C,b,G){return C[b]=G,C},{})}(function(F){F.__addimage__={};var C="UNKNOWN",b={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},G=F.__addimage__.getImageFileTypeByImageData=function(ee,re){var Ne,Te,wr,gr,Fr,sr=C;if((re=re||C)==="RGBA"||ee.data!==void 0&&ee.data instanceof Uint8ClampedArray&&"height"in ee&&"width"in ee)return"RGBA";if(Qr(ee))for(Fr in b)for(wr=b[Fr],Ne=0;Ne<wr.length;Ne+=1){for(gr=!0,Te=0;Te<wr[Ne].length;Te+=1)if(wr[Ne][Te]!==void 0&&wr[Ne][Te]!==ee[Te]){gr=!1;break}if(gr===!0){sr=Fr;break}}else for(Fr in b)for(wr=b[Fr],Ne=0;Ne<wr.length;Ne+=1){for(gr=!0,Te=0;Te<wr[Ne].length;Te+=1)if(wr[Ne][Te]!==void 0&&wr[Ne][Te]!==ee.charCodeAt(Te)){gr=!1;break}if(gr===!0){sr=Fr;break}}return sr===C&&re!==C&&(sr=re),sr},Z=function ee(re){for(var Ne=this.internal.write,Te=this.internal.putStream,wr=(0,this.internal.getFilters)();wr.indexOf("FlateEncode")!==-1;)wr.splice(wr.indexOf("FlateEncode"),1);re.objectId=this.internal.newObject();var gr=[];if(gr.push({key:"Type",value:"/XObject"}),gr.push({key:"Subtype",value:"/Image"}),gr.push({key:"Width",value:re.width}),gr.push({key:"Height",value:re.height}),re.colorSpace===Ae.INDEXED?gr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(re.palette.length/3-1)+" "+("sMask"in re&&re.sMask!==void 0?re.objectId+2:re.objectId+1)+" 0 R]"}):(gr.push({key:"ColorSpace",value:"/"+re.colorSpace}),re.colorSpace===Ae.DEVICE_CMYK&&gr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),gr.push({key:"BitsPerComponent",value:re.bitsPerComponent}),"decodeParameters"in re&&re.decodeParameters!==void 0&&gr.push({key:"DecodeParms",value:"<<"+re.decodeParameters+">>"}),"transparency"in re&&Array.isArray(re.transparency)){for(var Fr="",sr=0,fr=re.transparency.length;sr<fr;sr++)Fr+=re.transparency[sr]+" "+re.transparency[sr]+" ";gr.push({key:"Mask",value:"["+Fr+"]"})}re.sMask!==void 0&&gr.push({key:"SMask",value:re.objectId+1+" 0 R"});var Or=re.filter!==void 0?["/"+re.filter]:void 0;if(Te({data:re.data,additionalKeyValues:gr,alreadyAppliedFilters:Or,objectId:re.objectId}),Ne("endobj"),"sMask"in re&&re.sMask!==void 0){var On="/Predictor "+re.predictor+" /Colors 1 /BitsPerComponent "+re.bitsPerComponent+" /Columns "+re.width,Ft={width:re.width,height:re.height,colorSpace:"DeviceGray",bitsPerComponent:re.bitsPerComponent,decodeParameters:On,data:re.sMask};"filter"in re&&(Ft.filter=re.filter),ee.call(this,Ft)}if(re.colorSpace===Ae.INDEXED){var se=this.internal.newObject();Te({data:Ue(new Uint8Array(re.palette)),objectId:se}),Ne("endobj")}},B=function(){var ee=this.internal.collections.addImage_images;for(var re in ee)Z.call(this,ee[re])},tt=function(){var ee,re=this.internal.collections.addImage_images,Ne=this.internal.write;for(var Te in re)Ne("/I"+(ee=re[Te]).index,ee.objectId,"0","R")},at=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",B),this.internal.events.subscribe("putXobjectDict",tt))},lt=function(){var ee=this.internal.collections.addImage_images;return at.call(this),ee},wt=function(){return Object.keys(this.internal.collections.addImage_images).length},Ut=function(ee){return typeof F["process"+ee.toUpperCase()]=="function"},kt=function(ee){return v()(ee)==="object"&&ee.nodeType===1},Zt=function(ee,re){if(ee.nodeName==="IMG"&&ee.hasAttribute("src")){var Ne=""+ee.getAttribute("src");if(Ne.indexOf("data:image/")===0)return z(unescape(Ne).split("base64,").pop());var Te=F.loadFile(Ne,!0);if(Te!==void 0)return Te}if(ee.nodeName==="CANVAS"){if(ee.width===0||ee.height===0)throw new Error("Given canvas must have data. Canvas width: "+ee.width+", height: "+ee.height);var wr;switch(re){case"PNG":wr="image/png";break;case"WEBP":wr="image/webp";break;case"JPEG":case"JPG":default:wr="image/jpeg"}return z(ee.toDataURL(wr,1).split("base64,").pop())}},vt=function(ee){var re=this.internal.collections.addImage_images;if(re){for(var Ne in re)if(ee===re[Ne].alias)return re[Ne]}},he=function(ee,re,Ne){return ee||re||(ee=-96,re=-96),ee<0&&(ee=-1*Ne.width*72/ee/this.internal.scaleFactor),re<0&&(re=-1*Ne.height*72/re/this.internal.scaleFactor),ee===0&&(ee=re*Ne.width/Ne.height),re===0&&(re=ee*Ne.height/Ne.width),[ee,re]},ae=function(ee,re,Ne,Te,wr,gr){var Fr=he.call(this,Ne,Te,wr),sr=this.internal.getCoordinateString,fr=this.internal.getVerticalCoordinateString,Or=lt.call(this);if(Ne=Fr[0],Te=Fr[1],Or[wr.index]=wr,gr){gr*=Math.PI/180;var On=Math.cos(gr),Ft=Math.sin(gr),se=function(Ie){return Ie.toFixed(4)},me=[se(On),se(Ft),se(-1*Ft),se(On),0,0,"cm"]}this.internal.write("q"),gr?(this.internal.write([1,"0","0",1,sr(ee),fr(re+Te),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([sr(Ne),"0","0",sr(Te),"0","0","cm"].join(" "))):this.internal.write([sr(Ne),"0","0",sr(Te),sr(ee),fr(re+Te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wr.index+" Do"),this.internal.write("Q")},Ae=F.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};F.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Kt=F.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ge=F.__addimage__.sHashCode=function(ee){var re,Ne,Te=0;if(typeof ee=="string")for(Ne=ee.length,re=0;re<Ne;re++)Te=(Te<<5)-Te+ee.charCodeAt(re),Te|=0;else if(Qr(ee))for(Ne=ee.byteLength/2,re=0;re<Ne;re++)Te=(Te<<5)-Te+ee[re],Te|=0;return Te},Ye=F.__addimage__.validateStringAsBase64=function(ee){(ee=ee||"").toString().trim();var re=!0;return ee.length===0&&(re=!1),ee.length%4!=0&&(re=!1),/^[A-Za-z0-9+/]+$/.test(ee.substr(0,ee.length-2))===!1&&(re=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ee.substr(-2))===!1&&(re=!1),re},cr=F.__addimage__.extractImageFromDataUrl=function(ee){var re=(ee=ee||"").split("base64,"),Ne=null;if(re.length===2){var Te=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(re[0]);Array.isArray(Te)&&(Ne={mimeType:Te[1],charset:Te[2],data:re[1]})}return Ne},Mr=F.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};F.__addimage__.isArrayBuffer=function(ee){return Mr()&&ee instanceof ArrayBuffer};var Qr=F.__addimage__.isArrayBufferView=function(ee){return Mr()&&typeof Uint32Array!="undefined"&&(ee instanceof Int8Array||ee instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&ee instanceof Uint8ClampedArray||ee instanceof Int16Array||ee instanceof Uint16Array||ee instanceof Int32Array||ee instanceof Uint32Array||ee instanceof Float32Array||ee instanceof Float64Array)},yr=F.__addimage__.binaryStringToUint8Array=function(ee){for(var re=ee.length,Ne=new Uint8Array(re),Te=0;Te<re;Te++)Ne[Te]=ee.charCodeAt(Te);return Ne},Ue=F.__addimage__.arrayBufferToBinaryString=function(ee){for(var re="",Ne=Qr(ee)?ee:new Uint8Array(ee),Te=0;Te<Ne.length;Te+=8192)re+=String.fromCharCode.apply(null,Ne.subarray(Te,Te+8192));return re};F.addImage=function(){var ee,re,Ne,Te,wr,gr,Fr,sr,fr;if(typeof arguments[1]=="number"?(re=C,Ne=arguments[1],Te=arguments[2],wr=arguments[3],gr=arguments[4],Fr=arguments[5],sr=arguments[6],fr=arguments[7]):(re=arguments[1],Ne=arguments[2],Te=arguments[3],wr=arguments[4],gr=arguments[5],Fr=arguments[6],sr=arguments[7],fr=arguments[8]),v()(ee=arguments[0])==="object"&&!kt(ee)&&"imageData"in ee){var Or=ee;ee=Or.imageData,re=Or.format||re||C,Ne=Or.x||Ne||0,Te=Or.y||Te||0,wr=Or.w||Or.width||wr,gr=Or.h||Or.height||gr,Fr=Or.alias||Fr,sr=Or.compression||sr,fr=Or.rotation||Or.angle||fr}var On=this.internal.getFilters();if(sr===void 0&&On.indexOf("FlateEncode")!==-1&&(sr="SLOW"),isNaN(Ne)||isNaN(Te))throw new Error("Invalid coordinates passed to jsPDF.addImage");at.call(this);var Ft=Lr.call(this,ee,re,Fr,sr);return ae.call(this,Ne,Te,wr,gr,Ft,fr),this};var Lr=function(ee,re,Ne,Te){var wr,gr,Fr;if(typeof ee=="string"&&G(ee)===C){ee=unescape(ee);var sr=mr(ee,!1);(sr!==""||(sr=F.loadFile(ee,!0))!==void 0)&&(ee=sr)}if(kt(ee)&&(ee=Zt(ee,re)),re=G(ee,re),!Ut(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(((Fr=Ne)==null||Fr.length===0)&&(Ne=function(fr){return typeof fr=="string"||Qr(fr)?ge(fr):Qr(fr.data)?ge(fr.data):null}(ee)),(wr=vt.call(this,Ne))||(Mr()&&(ee instanceof Uint8Array||re==="RGBA"||(gr=ee,ee=yr(ee))),wr=this["process"+re.toUpperCase()](ee,wt.call(this),Ne,function(fr){return fr&&typeof fr=="string"&&(fr=fr.toUpperCase()),fr in F.image_compression?fr:Kt.NONE}(Te),gr)),!wr)throw new Error("An unknown error occurred whilst processing the image.");return wr},mr=F.__addimage__.convertBase64ToBinaryString=function(ee,re){var Ne;re=typeof re!="boolean"||re;var Te,wr="";if(typeof ee=="string"){Te=(Ne=cr(ee))!==null?Ne.data:ee;try{wr=z(Te)}catch(gr){if(re)throw Ye(Te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+gr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return wr};F.getImageProperties=function(ee){var re,Ne,Te="";if(kt(ee)&&(ee=Zt(ee)),typeof ee=="string"&&G(ee)===C&&((Te=mr(ee,!1))===""&&(Te=F.loadFile(ee)||""),ee=Te),Ne=G(ee),!Ut(Ne))throw new Error("addImage does not support files of type '"+Ne+"', please ensure that a plugin for '"+Ne+"' support is added.");if(!Mr()||ee instanceof Uint8Array||(ee=yr(ee)),!(re=this["process"+Ne.toUpperCase()](ee)))throw new Error("An unknown error occurred whilst processing the image");return re.fileType=Ne,re}})(pe.API),function(F){var C=function(b){if(b!==void 0&&b!="")return!0};pe.API.events.push(["addPage",function(b){this.internal.getPageInfo(b.pageNumber).pageContext.annotations=[]}]),F.events.push(["putPage",function(b){for(var G,Z,B,tt=this.internal.getCoordinateString,at=this.internal.getVerticalCoordinateString,lt=this.internal.getPageInfoByObjId(b.objId),wt=b.pageContext.annotations,Ut=!1,kt=0;kt<wt.length&&!Ut;kt++)switch((G=wt[kt]).type){case"link":(C(G.options.url)||C(G.options.pageNumber))&&(Ut=!0);break;case"reference":case"text":case"freetext":Ut=!0}if(Ut!=0){this.internal.write("/Annots [");for(var Zt=0;Zt<wt.length;Zt++){G=wt[Zt];var vt=this.internal.pdfEscape,he=this.internal.getEncryptor(b.objId);switch(G.type){case"reference":this.internal.write(" "+G.object.objId+" 0 R ");break;case"text":var ae=this.internal.newAdditionalObject(),Ae=this.internal.newAdditionalObject(),Kt=this.internal.getEncryptor(ae.objId),ge=G.title||"Note";B="<</Type /Annot /Subtype /Text "+(Z="/Rect ["+tt(G.bounds.x)+" "+at(G.bounds.y+G.bounds.h)+" "+tt(G.bounds.x+G.bounds.w)+" "+at(G.bounds.y)+"] ")+"/Contents ("+vt(Kt(G.contents))+")",B+=" /Popup "+Ae.objId+" 0 R",B+=" /P "+lt.objId+" 0 R",B+=" /T ("+vt(Kt(ge))+") >>",ae.content=B;var Ye=ae.objId+" 0 R";B="<</Type /Annot /Subtype /Popup "+(Z="/Rect ["+tt(G.bounds.x+30)+" "+at(G.bounds.y+G.bounds.h)+" "+tt(G.bounds.x+G.bounds.w+30)+" "+at(G.bounds.y)+"] ")+" /Parent "+Ye,G.open&&(B+=" /Open true"),B+=" >>",Ae.content=B,this.internal.write(ae.objId,"0 R",Ae.objId,"0 R");break;case"freetext":Z="/Rect ["+tt(G.bounds.x)+" "+at(G.bounds.y)+" "+tt(G.bounds.x+G.bounds.w)+" "+at(G.bounds.y+G.bounds.h)+"] ";var cr=G.color||"#000000";B="<</Type /Annot /Subtype /FreeText "+Z+"/Contents ("+vt(he(G.contents))+")",B+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+cr+")",B+=" /Border [0 0 0]",B+=" >>",this.internal.write(B);break;case"link":if(G.options.name){var Mr=this.annotations._nameMap[G.options.name];G.options.pageNumber=Mr.page,G.options.top=Mr.y}else G.options.top||(G.options.top=0);if(Z="/Rect ["+G.finalBounds.x+" "+G.finalBounds.y+" "+G.finalBounds.w+" "+G.finalBounds.h+"] ",B="",G.options.url)B="<</Type /Annot /Subtype /Link "+Z+"/Border [0 0 0] /A <</S /URI /URI ("+vt(he(G.options.url))+") >>";else if(G.options.pageNumber)switch(B="<</Type /Annot /Subtype /Link "+Z+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(G.options.pageNumber).objId+" 0 R",G.options.magFactor=G.options.magFactor||"XYZ",G.options.magFactor){case"Fit":B+=" /Fit]";break;case"FitH":B+=" /FitH "+G.options.top+"]";break;case"FitV":G.options.left=G.options.left||0,B+=" /FitV "+G.options.left+"]";break;case"XYZ":default:var Qr=at(G.options.top);G.options.left=G.options.left||0,G.options.zoom===void 0&&(G.options.zoom=0),B+=" /XYZ "+G.options.left+" "+Qr+" "+G.options.zoom+"]"}B!=""&&(B+=" >>",this.internal.write(B))}}this.internal.write("]")}}]),F.createAnnotation=function(b){var G=this.internal.getCurrentPageInfo();switch(b.type){case"link":this.link(b.bounds.x,b.bounds.y,b.bounds.w,b.bounds.h,b);break;case"text":case"freetext":G.pageContext.annotations.push(b)}},F.link=function(b,G,Z,B,tt){var at=this.internal.getCurrentPageInfo(),lt=this.internal.getCoordinateString,wt=this.internal.getVerticalCoordinateString;at.pageContext.annotations.push({finalBounds:{x:lt(b),y:wt(G),w:lt(b+Z),h:wt(G+B)},options:tt,type:"link"})},F.textWithLink=function(b,G,Z,B){var tt,at,lt=this.getTextWidth(b),wt=this.internal.getLineHeight()/this.internal.scaleFactor;if(B.maxWidth!==void 0){at=B.maxWidth;var Ut=this.splitTextToSize(b,at).length;tt=Math.ceil(wt*Ut)}else at=lt,tt=wt;return this.text(b,G,Z,B),Z+=.2*wt,B.align==="center"&&(G-=lt/2),B.align==="right"&&(G-=lt),this.link(G,Z-wt,at,tt,B),lt},F.getTextWidth=function(b){var G=this.internal.getFontSize();return this.getStringUnitWidth(b)*G/this.internal.scaleFactor}}(pe.API),function(F){var C={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},b={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},G={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Z=[1570,1571,1573,1575];F.__arabicParser__={};var B=F.__arabicParser__.isInArabicSubstitutionA=function(ae){return C[ae.charCodeAt(0)]!==void 0},tt=F.__arabicParser__.isArabicLetter=function(ae){return typeof ae=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ae)},at=F.__arabicParser__.isArabicEndLetter=function(ae){return tt(ae)&&B(ae)&&C[ae.charCodeAt(0)].length<=2},lt=F.__arabicParser__.isArabicAlfLetter=function(ae){return tt(ae)&&Z.indexOf(ae.charCodeAt(0))>=0};F.__arabicParser__.arabicLetterHasIsolatedForm=function(ae){return tt(ae)&&B(ae)&&C[ae.charCodeAt(0)].length>=1};var wt=F.__arabicParser__.arabicLetterHasFinalForm=function(ae){return tt(ae)&&B(ae)&&C[ae.charCodeAt(0)].length>=2};F.__arabicParser__.arabicLetterHasInitialForm=function(ae){return tt(ae)&&B(ae)&&C[ae.charCodeAt(0)].length>=3};var Ut=F.__arabicParser__.arabicLetterHasMedialForm=function(ae){return tt(ae)&&B(ae)&&C[ae.charCodeAt(0)].length==4},kt=F.__arabicParser__.resolveLigatures=function(ae){var Ae=0,Kt=b,ge="",Ye=0;for(Ae=0;Ae<ae.length;Ae+=1)Kt[ae.charCodeAt(Ae)]!==void 0?(Ye++,typeof(Kt=Kt[ae.charCodeAt(Ae)])=="number"&&(ge+=String.fromCharCode(Kt),Kt=b,Ye=0),Ae===ae.length-1&&(Kt=b,ge+=ae.charAt(Ae-(Ye-1)),Ae-=Ye-1,Ye=0)):(Kt=b,ge+=ae.charAt(Ae-Ye),Ae-=Ye,Ye=0);return ge};F.__arabicParser__.isArabicDiacritic=function(ae){return ae!==void 0&&G[ae.charCodeAt(0)]!==void 0};var Zt=F.__arabicParser__.getCorrectForm=function(ae,Ae,Kt){return tt(ae)?B(ae)===!1?-1:!wt(ae)||!tt(Ae)&&!tt(Kt)||!tt(Kt)&&at(Ae)||at(ae)&&!tt(Ae)||at(ae)&&lt(Ae)||at(ae)&&at(Ae)?0:Ut(ae)&&tt(Ae)&&!at(Ae)&&tt(Kt)&&wt(Kt)?3:at(ae)||!tt(Kt)?1:2:-1},vt=function(ae){var Ae=0,Kt=0,ge=0,Ye="",cr="",Mr="",Qr=(ae=ae||"").split("\\s+"),yr=[];for(Ae=0;Ae<Qr.length;Ae+=1){for(yr.push(""),Kt=0;Kt<Qr[Ae].length;Kt+=1)Ye=Qr[Ae][Kt],cr=Qr[Ae][Kt-1],Mr=Qr[Ae][Kt+1],tt(Ye)?(ge=Zt(Ye,cr,Mr),yr[Ae]+=ge!==-1?String.fromCharCode(C[Ye.charCodeAt(0)][ge]):Ye):yr[Ae]+=Ye;yr[Ae]=kt(yr[Ae])}return yr.join(" ")},he=F.__arabicParser__.processArabic=F.processArabic=function(){var ae,Ae=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Kt=[];if(Array.isArray(Ae)){var ge=0;for(Kt=[],ge=0;ge<Ae.length;ge+=1)Array.isArray(Ae[ge])?Kt.push([vt(Ae[ge][0]),Ae[ge][1],Ae[ge][2]]):Kt.push([vt(Ae[ge])]);ae=Kt}else ae=vt(Ae);return typeof arguments[0]=="string"?ae:(arguments[0].text=ae,arguments[0])};F.events.push(["preProcessText",he])}(pe.API),pe.API.autoPrint=function(F){var C;switch((F=F||{}).variant=F.variant||"non-conform",F.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){C=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+C+" 0 R")})}return this},function(F){var C=function(){var b=void 0;Object.defineProperty(this,"pdf",{get:function(){return b},set:function(at){b=at}});var G=150;Object.defineProperty(this,"width",{get:function(){return G},set:function(at){G=isNaN(at)||Number.isInteger(at)===!1||at<0?150:at,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=G+1)}});var Z=300;Object.defineProperty(this,"height",{get:function(){return Z},set:function(at){Z=isNaN(at)||Number.isInteger(at)===!1||at<0?300:at,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Z+1)}});var B=[];Object.defineProperty(this,"childNodes",{get:function(){return B},set:function(at){B=at}});var tt={};Object.defineProperty(this,"style",{get:function(){return tt},set:function(at){tt=at}}),Object.defineProperty(this,"parentNode",{})};C.prototype.getContext=function(b,G){var Z;if((b=b||"2d")!=="2d")return null;for(Z in G)this.pdf.context2d.hasOwnProperty(Z)&&(this.pdf.context2d[Z]=G[Z]);return this.pdf.context2d._canvas=this,this.pdf.context2d},C.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},F.events.push(["initialized",function(){this.canvas=new C,this.canvas.pdf=this}])}(pe.API),function(F){var C={left:0,top:0,bottom:0,right:0},b=!1,G=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},C),this.internal.__cell__.margins.width=this.getPageWidth(),Z.call(this))},Z=function(){this.internal.__cell__.lastCell=new B,this.internal.__cell__.pages=1},B=function(){var lt=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return lt},set:function(ae){lt=ae}});var wt=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return wt},set:function(ae){wt=ae}});var Ut=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ut},set:function(ae){Ut=ae}});var kt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return kt},set:function(ae){kt=ae}});var Zt=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Zt},set:function(ae){Zt=ae}});var vt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return vt},set:function(ae){vt=ae}});var he=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return he},set:function(ae){he=ae}}),this};B.prototype.clone=function(){return new B(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},B.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},F.setHeaderFunction=function(lt){return G.call(this),this.internal.__cell__.headerFunction=typeof lt=="function"?lt:void 0,this},F.getTextDimensions=function(lt,wt){G.call(this);var Ut=(wt=wt||{}).fontSize||this.getFontSize(),kt=wt.font||this.getFont(),Zt=wt.scaleFactor||this.internal.scaleFactor,vt=0,he=0,ae=0,Ae=this;if(!Array.isArray(lt)&&typeof lt!="string"){if(typeof lt!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");lt=String(lt)}var Kt=wt.maxWidth;Kt>0?typeof lt=="string"?lt=this.splitTextToSize(lt,Kt):Object.prototype.toString.call(lt)==="[object Array]"&&(lt=lt.reduce(function(Ye,cr){return Ye.concat(Ae.splitTextToSize(cr,Kt))},[])):lt=Array.isArray(lt)?lt:[lt];for(var ge=0;ge<lt.length;ge++)vt<(ae=this.getStringUnitWidth(lt[ge],{font:kt})*Ut)&&(vt=ae);return vt!==0&&(he=lt.length),{w:vt/=Zt,h:Math.max((he*Ut*this.getLineHeightFactor()-Ut*(this.getLineHeightFactor()-1))/Zt,0)}},F.cellAddPage=function(){G.call(this),this.addPage();var lt=this.internal.__cell__.margins||C;return this.internal.__cell__.lastCell=new B(lt.left,lt.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var tt=F.cell=function(){var lt;lt=arguments[0]instanceof B?arguments[0]:new B(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),G.call(this);var wt=this.internal.__cell__.lastCell,Ut=this.internal.__cell__.padding,kt=this.internal.__cell__.margins||C,Zt=this.internal.__cell__.tableHeaderRow,vt=this.internal.__cell__.printHeaders;return wt.lineNumber!==void 0&&(wt.lineNumber===lt.lineNumber?(lt.x=(wt.x||0)+(wt.width||0),lt.y=wt.y||0):wt.y+wt.height+lt.height+kt.bottom>this.getPageHeight()?(this.cellAddPage(),lt.y=kt.top,vt&&Zt&&(this.printHeaderRow(lt.lineNumber,!0),lt.y+=Zt[0].height)):lt.y=wt.y+wt.height||lt.y),lt.text[0]!==void 0&&(this.rect(lt.x,lt.y,lt.width,lt.height,b===!0?"FD":void 0),lt.align==="right"?this.text(lt.text,lt.x+lt.width-Ut,lt.y+Ut,{align:"right",baseline:"top"}):lt.align==="center"?this.text(lt.text,lt.x+lt.width/2,lt.y+Ut,{align:"center",baseline:"top",maxWidth:lt.width-Ut-Ut}):this.text(lt.text,lt.x+Ut,lt.y+Ut,{align:"left",baseline:"top",maxWidth:lt.width-Ut-Ut})),this.internal.__cell__.lastCell=lt,this};F.table=function(lt,wt,Ut,kt,Zt){if(G.call(this),!Ut)throw new Error("No data for PDF table.");var vt,he,ae,Ae,Kt=[],ge=[],Ye=[],cr={},Mr={},Qr=[],yr=[],Ue=(Zt=Zt||{}).autoSize||!1,Lr=Zt.printHeaders!==!1,mr=Zt.css&&Zt.css["font-size"]!==void 0?16*Zt.css["font-size"]:Zt.fontSize||12,ee=Zt.margins||Object.assign({width:this.getPageWidth()},C),re=typeof Zt.padding=="number"?Zt.padding:3,Ne=Zt.headerBackgroundColor||"#c8c8c8",Te=Zt.headerTextColor||"#000";if(Z.call(this),this.internal.__cell__.printHeaders=Lr,this.internal.__cell__.margins=ee,this.internal.__cell__.table_font_size=mr,this.internal.__cell__.padding=re,this.internal.__cell__.headerBackgroundColor=Ne,this.internal.__cell__.headerTextColor=Te,this.setFontSize(mr),kt==null)ge=Kt=Object.keys(Ut[0]),Ye=Kt.map(function(){return"left"});else if(Array.isArray(kt)&&v()(kt[0])==="object")for(Kt=kt.map(function(Or){return Or.name}),ge=kt.map(function(Or){return Or.prompt||Or.name||""}),Ye=kt.map(function(Or){return Or.align||"left"}),vt=0;vt<kt.length;vt+=1)Mr[kt[vt].name]=kt[vt].width*(19.049976/25.4);else Array.isArray(kt)&&typeof kt[0]=="string"&&(ge=Kt=kt,Ye=Kt.map(function(){return"left"}));if(Ue||Array.isArray(kt)&&typeof kt[0]=="string")for(vt=0;vt<Kt.length;vt+=1){for(cr[Ae=Kt[vt]]=Ut.map(function(Or){return Or[Ae]}),this.setFont(void 0,"bold"),Qr.push(this.getTextDimensions(ge[vt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),he=cr[Ae],this.setFont(void 0,"normal"),ae=0;ae<he.length;ae+=1)Qr.push(this.getTextDimensions(he[ae],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Mr[Ae]=Math.max.apply(null,Qr)+re+re,Qr=[]}if(Lr){var wr={};for(vt=0;vt<Kt.length;vt+=1)wr[Kt[vt]]={},wr[Kt[vt]].text=ge[vt],wr[Kt[vt]].align=Ye[vt];var gr=at.call(this,wr,Mr);yr=Kt.map(function(Or){return new B(lt,wt,Mr[Or],gr,wr[Or].text,void 0,wr[Or].align)}),this.setTableHeaderRow(yr),this.printHeaderRow(1,!1)}var Fr=kt.reduce(function(Or,On){return Or[On.name]=On.align,Or},{});for(vt=0;vt<Ut.length;vt+=1){"rowStart"in Zt&&Zt.rowStart instanceof Function&&Zt.rowStart({row:vt,data:Ut[vt]},this);var sr=at.call(this,Ut[vt],Mr);for(ae=0;ae<Kt.length;ae+=1){var fr=Ut[vt][Kt[ae]];"cellStart"in Zt&&Zt.cellStart instanceof Function&&Zt.cellStart({row:vt,col:ae,data:fr},this),tt.call(this,new B(lt,wt,Mr[Kt[ae]],sr,fr,vt+2,Fr[Kt[ae]]))}}return this.internal.__cell__.table_x=lt,this.internal.__cell__.table_y=wt,this};var at=function(lt,wt){var Ut=this.internal.__cell__.padding,kt=this.internal.__cell__.table_font_size,Zt=this.internal.scaleFactor;return Object.keys(lt).map(function(vt){var he=lt[vt];return this.splitTextToSize(he.hasOwnProperty("text")?he.text:he,wt[vt]-Ut-Ut)},this).map(function(vt){return this.getLineHeightFactor()*vt.length*kt/Zt+Ut+Ut},this).reduce(function(vt,he){return Math.max(vt,he)},0)};F.setTableHeaderRow=function(lt){G.call(this),this.internal.__cell__.tableHeaderRow=lt},F.printHeaderRow=function(lt,wt){if(G.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ut;if(b=!0,typeof this.internal.__cell__.headerFunction=="function"){var kt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new B(kt[0],kt[1],kt[2],kt[3],void 0,-1)}this.setFont(void 0,"bold");for(var Zt=[],vt=0;vt<this.internal.__cell__.tableHeaderRow.length;vt+=1){Ut=this.internal.__cell__.tableHeaderRow[vt].clone(),wt&&(Ut.y=this.internal.__cell__.margins.top||0,Zt.push(Ut)),Ut.lineNumber=lt;var he=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),tt.call(this,Ut),this.setTextColor(he)}Zt.length>0&&this.setTableHeaderRow(Zt),this.setFont(void 0,"normal"),b=!1}}(pe.API);var ri={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_i=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wn=Mn(_i),nn=[100,200,300,400,500,600,700,800,900],Ei=Mn(nn);function ho(F){var C=F.family.replace(/"|'/g,"").toLowerCase(),b=function(B){return ri[B=B||"normal"]?B:"normal"}(F.style),G=function(B){if(!B)return 400;if(typeof B=="number")return B>=100&&B<=900&&B%100==0?B:400;if(/^\d00$/.test(B))return parseInt(B);switch(B){case"bold":return 700;case"normal":default:return 400}}(F.weight),Z=function(B){return typeof wn[B=B||"normal"]=="number"?B:"normal"}(F.stretch);return{family:C,style:b,weight:G,stretch:Z,src:F.src||[],ref:F.ref||{name:C,style:[Z,b,G].join(" ")}}}function zo(F,C,b,G){var Z;for(Z=b;Z>=0&&Z<C.length;Z+=G)if(F[C[Z]])return F[C[Z]];for(Z=b;Z>=0&&Z<C.length;Z-=G)if(F[C[Z]])return F[C[Z]]}var Un={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ss={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Da(F){return[F.stretch,F.style,F.weight,F.family].join(" ")}function Io(F,C,b){for(var G=(b=b||{}).defaultFontFamily||"times",Z=Object.assign({},Un,b.genericFontFamilies||{}),B=null,tt=null,at=0;at<C.length;++at)if(Z[(B=ho(C[at])).family]&&(B.family=Z[B.family]),F.hasOwnProperty(B.family)){tt=F[B.family];break}if(!(tt=tt||F[G]))throw new Error("Could not find a font-family for the rule '"+Da(B)+"' and default family '"+G+"'.");if(tt=function(lt,wt){if(wt[lt])return wt[lt];var Ut=wn[lt],kt=Ut<=wn.normal?-1:1,Zt=zo(wt,_i,Ut,kt);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+lt);return Zt}(B.stretch,tt),tt=function(lt,wt){if(wt[lt])return wt[lt];for(var Ut=ri[lt],kt=0;kt<Ut.length;++kt)if(wt[Ut[kt]])return wt[Ut[kt]];throw new Error("Could not find a matching font-style for "+lt)}(B.style,tt),!(tt=function(lt,wt){if(wt[lt])return wt[lt];if(lt===400&&wt[500])return wt[500];if(lt===500&&wt[400])return wt[400];var Ut=Ei[lt],kt=zo(wt,nn,Ut,lt<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+lt);return kt}(B.weight,tt)))throw new Error("Failed to resolve a font for the rule '"+Da(B)+"'.");return tt}function Si(F){return F.trimLeft()}function il(F,C){for(var b=0;b<F.length;){if(F.charAt(b)===C)return[F.substring(0,b),F.substring(b+1)];b+=1}return null}function ja(F){var C=F.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return C===null?null:[C[0],F.substring(C[0].length)]}var Ma,Ra,al,rc=["times"];(function(F){var C,b,G,Z,B,tt,at,lt,wt,Ut=function(Ft){return Ft=Ft||{},this.isStrokeTransparent=Ft.isStrokeTransparent||!1,this.strokeOpacity=Ft.strokeOpacity||1,this.strokeStyle=Ft.strokeStyle||"#000000",this.fillStyle=Ft.fillStyle||"#000000",this.isFillTransparent=Ft.isFillTransparent||!1,this.fillOpacity=Ft.fillOpacity||1,this.font=Ft.font||"10px sans-serif",this.textBaseline=Ft.textBaseline||"alphabetic",this.textAlign=Ft.textAlign||"left",this.lineWidth=Ft.lineWidth||1,this.lineJoin=Ft.lineJoin||"miter",this.lineCap=Ft.lineCap||"butt",this.path=Ft.path||[],this.transform=Ft.transform!==void 0?Ft.transform.clone():new lt,this.globalCompositeOperation=Ft.globalCompositeOperation||"normal",this.globalAlpha=Ft.globalAlpha||1,this.clip_path=Ft.clip_path||[],this.currentPoint=Ft.currentPoint||new tt,this.miterLimit=Ft.miterLimit||10,this.lastPoint=Ft.lastPoint||new tt,this.lineDashOffset=Ft.lineDashOffset||0,this.lineDash=Ft.lineDash||[],this.margin=Ft.margin||[0,0,0,0],this.prevPageLastElemOffset=Ft.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ft.ignoreClearRect!="boolean"||Ft.ignoreClearRect,this};F.events.push(["initialized",function(){this.context2d=new kt(this),C=this.internal.f2,b=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,Z=this.internal.getHorizontalCoordinate,B=this.internal.getVerticalCoordinate,tt=this.internal.Point,at=this.internal.Rectangle,lt=this.internal.Matrix,wt=new Ut}]);var kt=function(Ft){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var se=Ft;Object.defineProperty(this,"pdf",{get:function(){return se}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(Sr){me=Boolean(Sr)}});var Ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ie},set:function(Sr){Ie=Boolean(Sr)}});var ke=0;Object.defineProperty(this,"posX",{get:function(){return ke},set:function(Sr){isNaN(Sr)||(ke=Sr)}});var rr=0;Object.defineProperty(this,"posY",{get:function(){return rr},set:function(Sr){isNaN(Sr)||(rr=Sr)}}),Object.defineProperty(this,"margin",{get:function(){return wt.margin},set:function(Sr){var de;typeof Sr=="number"?de=[Sr,Sr,Sr,Sr]:((de=new Array(4))[0]=Sr[0],de[1]=Sr.length>=2?Sr[1]:de[0],de[2]=Sr.length>=3?Sr[2]:de[0],de[3]=Sr.length>=4?Sr[3]:de[1]),wt.margin=de}});var lr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return lr},set:function(Sr){lr=Sr}});var ar=0;Object.defineProperty(this,"lastBreak",{get:function(){return ar},set:function(Sr){ar=Sr}});var tn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return tn},set:function(Sr){tn=Sr}}),Object.defineProperty(this,"ctx",{get:function(){return wt},set:function(Sr){Sr instanceof Ut&&(wt=Sr)}}),Object.defineProperty(this,"path",{get:function(){return wt.path},set:function(Sr){wt.path=Sr}});var Zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Zr},set:function(Sr){Zr=Sr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Sr){var de;de=Zt(Sr),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Sr){var de=Zt(Sr);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Sr){["butt","round","square"].indexOf(Sr)!==-1&&(this.ctx.lineCap=Sr,this.pdf.setLineCap(Sr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Sr){isNaN(Sr)||(this.ctx.lineWidth=Sr,this.pdf.setLineWidth(Sr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Sr){["bevel","round","miter"].indexOf(Sr)!==-1&&(this.ctx.lineJoin=Sr,this.pdf.setLineJoin(Sr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Sr){isNaN(Sr)||(this.ctx.miterLimit=Sr,this.pdf.setMiterLimit(Sr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Sr){this.ctx.textBaseline=Sr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Sr){["right","end","center","left","start"].indexOf(Sr)!==-1&&(this.ctx.textAlign=Sr)}});var pn=null;function An(Sr,de){if(pn===null){var fi=function(Cn){var Yr=[];return Object.keys(Cn).forEach(function(ln){Cn[ln].forEach(function(cn){var un=null;switch(cn){case"bold":un={family:ln,weight:"bold"};break;case"italic":un={family:ln,style:"italic"};break;case"bolditalic":un={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":un={family:ln}}un!==null&&(un.ref={name:ln,style:cn},Yr.push(un))})}),Yr}(Sr.getFontList());pn=function(Cn){for(var Yr={},ln=0;ln<Cn.length;++ln){var cn=ho(Cn[ln]),un=cn.family,Vn=cn.stretch,pi=cn.style,si=cn.weight;Yr[un]=Yr[un]||{},Yr[un][Vn]=Yr[un][Vn]||{},Yr[un][Vn][pi]=Yr[un][Vn][pi]||{},Yr[un][Vn][pi][si]=cn}return Yr}(fi.concat(de))}return pn}var Hn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Hn},set:function(Sr){pn=null,Hn=Sr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Sr){var de;if(this.ctx.font=Sr,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Sr))!==null){var fi=de[1],Cn=(de[2],de[3]),Yr=de[4],ln=(de[5],de[6]),cn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Yr)[2];Yr=Math.floor(cn==="px"?parseFloat(Yr)*this.pdf.internal.scaleFactor:cn==="em"?parseFloat(Yr)*this.pdf.getFontSize():parseFloat(Yr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Yr);var un=function(Xn){var wi,mn,Xa=[],Bn=Xn.trim();if(Bn==="")return rc;if(Bn in Ss)return[Ss[Bn]];for(;Bn!=="";){switch(mn=null,wi=(Bn=Si(Bn)).charAt(0)){case'"':case"'":mn=il(Bn.substring(1),wi);break;default:mn=ja(Bn)}if(mn===null||(Xa.push(mn[0]),(Bn=Si(mn[1]))!==""&&Bn.charAt(0)!==","))return rc;Bn=Bn.replace(/^,/,"")}return Xa}(ln);if(this.fontFaces){var Vn=Io(An(this.pdf,this.fontFaces),un.map(function(Xn){return{family:Xn,stretch:"normal",weight:Cn,style:fi}}));this.pdf.setFont(Vn.ref.name,Vn.ref.style)}else{var pi="";(Cn==="bold"||parseInt(Cn,10)>=700||fi==="bold")&&(pi="bold"),fi==="italic"&&(pi+="italic"),pi.length===0&&(pi="normal");for(var si="",Ri={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Hi=0;Hi<un.length;Hi++){if(this.pdf.internal.getFont(un[Hi],pi,{noFallback:!0,disableWarning:!0})!==void 0){si=un[Hi];break}if(pi==="bolditalic"&&this.pdf.internal.getFont(un[Hi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)si=un[Hi],pi="bold";else if(this.pdf.internal.getFont(un[Hi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){si=un[Hi],pi="normal";break}}if(si===""){for(var ni=0;ni<un.length;ni++)if(Ri[un[ni]]){si=Ri[un[ni]];break}}si=si===""?"Times":si,this.pdf.setFont(si,pi)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Sr){this.ctx.globalCompositeOperation=Sr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Sr){this.ctx.globalAlpha=Sr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Sr){this.ctx.lineDashOffset=Sr,On.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Sr){this.ctx.lineDash=Sr,On.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Sr){this.ctx.ignoreClearRect=Boolean(Sr)}})};kt.prototype.setLineDash=function(Ft){this.lineDash=Ft},kt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},kt.prototype.fill=function(){cr.call(this,"fill",!1)},kt.prototype.stroke=function(){cr.call(this,"stroke",!1)},kt.prototype.beginPath=function(){this.path=[{type:"begin"}]},kt.prototype.moveTo=function(Ft,se){if(isNaN(Ft)||isNaN(se))throw M.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new tt(Ft,se));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new tt(Ft,se)},kt.prototype.closePath=function(){var Ft=new tt(0,0),se=0;for(se=this.path.length-1;se!==-1;se--)if(this.path[se].type==="begin"&&v()(this.path[se+1])==="object"&&typeof this.path[se+1].x=="number"){Ft=new tt(this.path[se+1].x,this.path[se+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new tt(Ft.x,Ft.y)},kt.prototype.lineTo=function(Ft,se){if(isNaN(Ft)||isNaN(se))throw M.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new tt(Ft,se));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new tt(me.x,me.y)},kt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),cr.call(this,null,!0)},kt.prototype.quadraticCurveTo=function(Ft,se,me,Ie){if(isNaN(me)||isNaN(Ie)||isNaN(Ft)||isNaN(se))throw M.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ke=this.ctx.transform.applyToPoint(new tt(me,Ie)),rr=this.ctx.transform.applyToPoint(new tt(Ft,se));this.path.push({type:"qct",x1:rr.x,y1:rr.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new tt(ke.x,ke.y)},kt.prototype.bezierCurveTo=function(Ft,se,me,Ie,ke,rr){if(isNaN(ke)||isNaN(rr)||isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie))throw M.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var lr=this.ctx.transform.applyToPoint(new tt(ke,rr)),ar=this.ctx.transform.applyToPoint(new tt(Ft,se)),tn=this.ctx.transform.applyToPoint(new tt(me,Ie));this.path.push({type:"bct",x1:ar.x,y1:ar.y,x2:tn.x,y2:tn.y,x:lr.x,y:lr.y}),this.ctx.lastPoint=new tt(lr.x,lr.y)},kt.prototype.arc=function(Ft,se,me,Ie,ke,rr){if(isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie)||isNaN(ke))throw M.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(rr=Boolean(rr),!this.ctx.transform.isIdentity){var lr=this.ctx.transform.applyToPoint(new tt(Ft,se));Ft=lr.x,se=lr.y;var ar=this.ctx.transform.applyToPoint(new tt(0,me)),tn=this.ctx.transform.applyToPoint(new tt(0,0));me=Math.sqrt(Math.pow(ar.x-tn.x,2)+Math.pow(ar.y-tn.y,2))}Math.abs(ke-Ie)>=2*Math.PI&&(Ie=0,ke=2*Math.PI),this.path.push({type:"arc",x:Ft,y:se,radius:me,startAngle:Ie,endAngle:ke,counterclockwise:rr})},kt.prototype.arcTo=function(Ft,se,me,Ie,ke){throw new Error("arcTo not implemented.")},kt.prototype.rect=function(Ft,se,me,Ie){if(isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie))throw M.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ft,se),this.lineTo(Ft+me,se),this.lineTo(Ft+me,se+Ie),this.lineTo(Ft,se+Ie),this.lineTo(Ft,se),this.lineTo(Ft+me,se),this.lineTo(Ft,se)},kt.prototype.fillRect=function(Ft,se,me,Ie){if(isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie))throw M.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!vt.call(this)){var ke={};this.lineCap!=="butt"&&(ke.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ke.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ft,se,me,Ie),this.fill(),ke.hasOwnProperty("lineCap")&&(this.lineCap=ke.lineCap),ke.hasOwnProperty("lineJoin")&&(this.lineJoin=ke.lineJoin)}},kt.prototype.strokeRect=function(Ft,se,me,Ie){if(isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie))throw M.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");he.call(this)||(this.beginPath(),this.rect(Ft,se,me,Ie),this.stroke())},kt.prototype.clearRect=function(Ft,se,me,Ie){if(isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie))throw M.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ft,se,me,Ie))},kt.prototype.save=function(Ft){Ft=typeof Ft!="boolean"||Ft;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(se),Ft){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ie=new Ut(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ie}},kt.prototype.restore=function(Ft){Ft=typeof Ft!="boolean"||Ft;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(se),Ft&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},kt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Zt=function(Ft){var se,me,Ie,ke;if(Ft.isCanvasGradient===!0&&(Ft=Ft.getColor()),!Ft)return{r:0,g:0,b:0,a:0,style:Ft};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ft))se=0,me=0,Ie=0,ke=0;else{var rr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ft);if(rr!==null)se=parseInt(rr[1]),me=parseInt(rr[2]),Ie=parseInt(rr[3]),ke=1;else if((rr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ft))!==null)se=parseInt(rr[1]),me=parseInt(rr[2]),Ie=parseInt(rr[3]),ke=parseFloat(rr[4]);else{if(ke=1,typeof Ft=="string"&&Ft.charAt(0)!=="#"){var lr=new J(Ft);Ft=lr.ok?lr.toHex():"#000000"}Ft.length===4?(se=Ft.substring(1,2),se+=se,me=Ft.substring(2,3),me+=me,Ie=Ft.substring(3,4),Ie+=Ie):(se=Ft.substring(1,3),me=Ft.substring(3,5),Ie=Ft.substring(5,7)),se=parseInt(se,16),me=parseInt(me,16),Ie=parseInt(Ie,16)}}return{r:se,g:me,b:Ie,a:ke,style:Ft}},vt=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},he=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};kt.prototype.fillText=function(Ft,se,me,Ie){if(isNaN(se)||isNaN(me)||typeof Ft!="string")throw M.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ie=isNaN(Ie)?void 0:Ie,!vt.call(this)){var ke=sr(this.ctx.transform.rotation),rr=this.ctx.transform.scaleX;re.call(this,{text:Ft,x:se,y:me,scale:rr,angle:ke,align:this.textAlign,maxWidth:Ie})}},kt.prototype.strokeText=function(Ft,se,me,Ie){if(isNaN(se)||isNaN(me)||typeof Ft!="string")throw M.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!he.call(this)){Ie=isNaN(Ie)?void 0:Ie;var ke=sr(this.ctx.transform.rotation),rr=this.ctx.transform.scaleX;re.call(this,{text:Ft,x:se,y:me,scale:rr,renderingMode:"stroke",angle:ke,align:this.textAlign,maxWidth:Ie})}},kt.prototype.measureText=function(Ft){if(typeof Ft!="string")throw M.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var se=this.pdf,me=this.pdf.internal.scaleFactor,Ie=se.internal.getFontSize(),ke=se.getStringUnitWidth(Ft)*Ie/se.internal.scaleFactor,rr=function(lr){var ar=(lr=lr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ar}}),this};return new rr({width:ke*=Math.round(96*me/72*1e4)/1e4})},kt.prototype.scale=function(Ft,se){if(isNaN(Ft)||isNaN(se))throw M.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new lt(Ft,0,0,se,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},kt.prototype.rotate=function(Ft){if(isNaN(Ft))throw M.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var se=new lt(Math.cos(Ft),Math.sin(Ft),-Math.sin(Ft),Math.cos(Ft),0,0);this.ctx.transform=this.ctx.transform.multiply(se)},kt.prototype.translate=function(Ft,se){if(isNaN(Ft)||isNaN(se))throw M.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new lt(1,0,0,1,Ft,se);this.ctx.transform=this.ctx.transform.multiply(me)},kt.prototype.transform=function(Ft,se,me,Ie,ke,rr){if(isNaN(Ft)||isNaN(se)||isNaN(me)||isNaN(Ie)||isNaN(ke)||isNaN(rr))throw M.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var lr=new lt(Ft,se,me,Ie,ke,rr);this.ctx.transform=this.ctx.transform.multiply(lr)},kt.prototype.setTransform=function(Ft,se,me,Ie,ke,rr){Ft=isNaN(Ft)?1:Ft,se=isNaN(se)?0:se,me=isNaN(me)?0:me,Ie=isNaN(Ie)?1:Ie,ke=isNaN(ke)?0:ke,rr=isNaN(rr)?0:rr,this.ctx.transform=new lt(Ft,se,me,Ie,ke,rr)};var ae=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};kt.prototype.drawImage=function(Ft,se,me,Ie,ke,rr,lr,ar,tn){var Zr=this.pdf.getImageProperties(Ft),pn=1,An=1,Hn=1,Sr=1;Ie!==void 0&&ar!==void 0&&(Hn=ar/Ie,Sr=tn/ke,pn=Zr.width/Ie*ar/Ie,An=Zr.height/ke*tn/ke),rr===void 0&&(rr=se,lr=me,se=0,me=0),Ie!==void 0&&ar===void 0&&(ar=Ie,tn=ke),Ie===void 0&&ar===void 0&&(ar=Zr.width,tn=Zr.height);for(var de,fi=this.ctx.transform.decompose(),Cn=sr(fi.rotate.shx),Yr=new lt,ln=(Yr=(Yr=(Yr=Yr.multiply(fi.translate)).multiply(fi.skew)).multiply(fi.scale)).applyToRectangle(new at(rr-se*Hn,lr-me*Sr,Ie*pn,ke*An)),cn=Ae.call(this,ln),un=[],Vn=0;Vn<cn.length;Vn+=1)un.indexOf(cn[Vn])===-1&&un.push(cn[Vn]);if(Ye(un),this.autoPaging)for(var pi=un[0],si=un[un.length-1],Ri=pi;Ri<si+1;Ri++){this.pdf.setPage(Ri);var Hi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ni=Ri===1?this.posY+this.margin[0]:this.margin[0],Xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mn=Ri===1?0:Xn+(Ri-2)*wi;if(this.ctx.clip_path.length!==0){var Xa=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ge(de,this.posX+this.margin[3],-mn+ni+this.ctx.prevPageLastElemOffset),Mr.call(this,"fill",!0),this.path=Xa}var Bn=JSON.parse(JSON.stringify(ln));Bn=ge([Bn],this.posX+this.margin[3],-mn+ni+this.ctx.prevPageLastElemOffset)[0];var _a=(Ri>pi||Ri<si)&&ae.call(this);_a&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hi,wi,null).clip().discardPath()),this.pdf.addImage(Ft,"JPEG",Bn.x,Bn.y,Bn.w,Bn.h,null,null,Cn),_a&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Ft,"JPEG",ln.x,ln.y,ln.w,ln.h,null,null,Cn)};var Ae=function(Ft,se,me){var Ie=[];se=se||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ke=this.posY+this.ctx.prevPageLastElemOffset;switch(Ft.type){default:case"mt":case"lt":Ie.push(Math.floor((Ft.y+ke)/me)+1);break;case"arc":Ie.push(Math.floor((Ft.y+ke-Ft.radius)/me)+1),Ie.push(Math.floor((Ft.y+ke+Ft.radius)/me)+1);break;case"qct":var rr=fr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ft.x1,Ft.y1,Ft.x,Ft.y);Ie.push(Math.floor((rr.y+ke)/me)+1),Ie.push(Math.floor((rr.y+rr.h+ke)/me)+1);break;case"bct":var lr=Or(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ft.x1,Ft.y1,Ft.x2,Ft.y2,Ft.x,Ft.y);Ie.push(Math.floor((lr.y+ke)/me)+1),Ie.push(Math.floor((lr.y+lr.h+ke)/me)+1);break;case"rect":Ie.push(Math.floor((Ft.y+ke)/me)+1),Ie.push(Math.floor((Ft.y+Ft.h+ke)/me)+1)}for(var ar=0;ar<Ie.length;ar+=1)for(;this.pdf.internal.getNumberOfPages()<Ie[ar];)Kt.call(this);return Ie},Kt=function(){var Ft=this.fillStyle,se=this.strokeStyle,me=this.font,Ie=this.lineCap,ke=this.lineWidth,rr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ft,this.strokeStyle=se,this.font=me,this.lineCap=Ie,this.lineWidth=ke,this.lineJoin=rr},ge=function(Ft,se,me){for(var Ie=0;Ie<Ft.length;Ie++)switch(Ft[Ie].type){case"bct":Ft[Ie].x2+=se,Ft[Ie].y2+=me;case"qct":Ft[Ie].x1+=se,Ft[Ie].y1+=me;case"mt":case"lt":case"arc":default:Ft[Ie].x+=se,Ft[Ie].y+=me}return Ft},Ye=function(Ft){return Ft.sort(function(se,me){return se-me})},cr=function(Ft,se){for(var me,Ie,ke=this.fillStyle,rr=this.strokeStyle,lr=this.lineCap,ar=this.lineWidth,tn=Math.abs(ar*this.ctx.transform.scaleX),Zr=this.lineJoin,pn=JSON.parse(JSON.stringify(this.path)),An=JSON.parse(JSON.stringify(this.path)),Hn=[],Sr=0;Sr<An.length;Sr++)if(An[Sr].x!==void 0)for(var de=Ae.call(this,An[Sr]),fi=0;fi<de.length;fi+=1)Hn.indexOf(de[fi])===-1&&Hn.push(de[fi]);for(var Cn=0;Cn<Hn.length;Cn++)for(;this.pdf.internal.getNumberOfPages()<Hn[Cn];)Kt.call(this);if(Ye(Hn),this.autoPaging)for(var Yr=Hn[0],ln=Hn[Hn.length-1],cn=Yr;cn<ln+1;cn++){this.pdf.setPage(cn),this.fillStyle=ke,this.strokeStyle=rr,this.lineCap=lr,this.lineWidth=tn,this.lineJoin=Zr;var un=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vn=cn===1?this.posY+this.margin[0]:this.margin[0],pi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],si=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ri=cn===1?0:pi+(cn-2)*si;if(this.ctx.clip_path.length!==0){var Hi=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ge(me,this.posX+this.margin[3],-Ri+Vn+this.ctx.prevPageLastElemOffset),Mr.call(this,Ft,!0),this.path=Hi}if(Ie=JSON.parse(JSON.stringify(pn)),this.path=ge(Ie,this.posX+this.margin[3],-Ri+Vn+this.ctx.prevPageLastElemOffset),se===!1||cn===0){var ni=(cn>Yr||cn<ln)&&ae.call(this);ni&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],un,si,null).clip().discardPath()),Mr.call(this,Ft,se),ni&&this.pdf.restoreGraphicsState()}this.lineWidth=ar}else this.lineWidth=tn,Mr.call(this,Ft,se),this.lineWidth=ar;this.path=pn},Mr=function(Ft,se){if((Ft!=="stroke"||se||!he.call(this))&&(Ft==="stroke"||se||!vt.call(this))){for(var me,Ie,ke=[],rr=this.path,lr=0;lr<rr.length;lr++){var ar=rr[lr];switch(ar.type){case"begin":ke.push({begin:!0});break;case"close":ke.push({close:!0});break;case"mt":ke.push({start:ar,deltas:[],abs:[]});break;case"lt":var tn=ke.length;if(rr[lr-1]&&!isNaN(rr[lr-1].x)&&(me=[ar.x-rr[lr-1].x,ar.y-rr[lr-1].y],tn>0)){for(;tn>=0;tn--)if(ke[tn-1].close!==!0&&ke[tn-1].begin!==!0){ke[tn-1].deltas.push(me),ke[tn-1].abs.push(ar);break}}break;case"bct":me=[ar.x1-rr[lr-1].x,ar.y1-rr[lr-1].y,ar.x2-rr[lr-1].x,ar.y2-rr[lr-1].y,ar.x-rr[lr-1].x,ar.y-rr[lr-1].y],ke[ke.length-1].deltas.push(me);break;case"qct":var Zr=rr[lr-1].x+2/3*(ar.x1-rr[lr-1].x),pn=rr[lr-1].y+2/3*(ar.y1-rr[lr-1].y),An=ar.x+2/3*(ar.x1-ar.x),Hn=ar.y+2/3*(ar.y1-ar.y),Sr=ar.x,de=ar.y;me=[Zr-rr[lr-1].x,pn-rr[lr-1].y,An-rr[lr-1].x,Hn-rr[lr-1].y,Sr-rr[lr-1].x,de-rr[lr-1].y],ke[ke.length-1].deltas.push(me);break;case"arc":ke.push({deltas:[],abs:[],arc:!0}),Array.isArray(ke[ke.length-1].abs)&&ke[ke.length-1].abs.push(ar)}}Ie=se?null:Ft==="stroke"?"stroke":"fill";for(var fi=!1,Cn=0;Cn<ke.length;Cn++)if(ke[Cn].arc)for(var Yr=ke[Cn].abs,ln=0;ln<Yr.length;ln++){var cn=Yr[ln];cn.type==="arc"?Ue.call(this,cn.x,cn.y,cn.radius,cn.startAngle,cn.endAngle,cn.counterclockwise,void 0,se,!fi):Ne.call(this,cn.x,cn.y),fi=!0}else if(ke[Cn].close===!0)this.pdf.internal.out("h"),fi=!1;else if(ke[Cn].begin!==!0){var un=ke[Cn].start.x,Vn=ke[Cn].start.y;Te.call(this,ke[Cn].deltas,un,Vn),fi=!0}Ie&&Lr.call(this,Ie),se&&mr.call(this)}},Qr=function(Ft){var se=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=se*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ft-me;case"top":return Ft+se-me;case"hanging":return Ft+se-2*me;case"middle":return Ft+se/2-me;case"ideographic":return Ft;case"alphabetic":default:return Ft}},yr=function(Ft){return Ft+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};kt.prototype.createLinearGradient=function(){var Ft=function(){};return Ft.colorStops=[],Ft.addColorStop=function(se,me){this.colorStops.push([se,me])},Ft.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ft.isCanvasGradient=!0,Ft},kt.prototype.createPattern=function(){return this.createLinearGradient()},kt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ue=function(Ft,se,me,Ie,ke,rr,lr,ar,tn){for(var Zr=gr.call(this,me,Ie,ke,rr),pn=0;pn<Zr.length;pn++){var An=Zr[pn];pn===0&&(tn?ee.call(this,An.x1+Ft,An.y1+se):Ne.call(this,An.x1+Ft,An.y1+se)),wr.call(this,Ft,se,An.x2,An.y2,An.x3,An.y3,An.x4,An.y4)}ar?mr.call(this):Lr.call(this,lr)},Lr=function(Ft){switch(Ft){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},mr=function(){this.pdf.clip(),this.pdf.discardPath()},ee=function(Ft,se){this.pdf.internal.out(b(Ft)+" "+G(se)+" m")},re=function(Ft){var se;switch(Ft.align){case"right":case"end":se="right";break;case"center":se="center";break;case"left":case"start":default:se="left"}var me=this.pdf.getTextDimensions(Ft.text),Ie=Qr.call(this,Ft.y),ke=yr.call(this,Ie)-me.h,rr=this.ctx.transform.applyToPoint(new tt(Ft.x,Ie)),lr=this.ctx.transform.decompose(),ar=new lt;ar=(ar=(ar=ar.multiply(lr.translate)).multiply(lr.skew)).multiply(lr.scale);for(var tn,Zr,pn,An=this.ctx.transform.applyToRectangle(new at(Ft.x,Ie,me.w,me.h)),Hn=ar.applyToRectangle(new at(Ft.x,ke,me.w,me.h)),Sr=Ae.call(this,Hn),de=[],fi=0;fi<Sr.length;fi+=1)de.indexOf(Sr[fi])===-1&&de.push(Sr[fi]);if(Ye(de),this.autoPaging)for(var Cn=de[0],Yr=de[de.length-1],ln=Cn;ln<Yr+1;ln++){this.pdf.setPage(ln);var cn=ln===1?this.posY+this.margin[0]:this.margin[0],un=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vn=this.pdf.internal.pageSize.height-this.margin[2],pi=Vn-this.margin[0],si=this.pdf.internal.pageSize.width-this.margin[1],Ri=si-this.margin[3],Hi=ln===1?0:un+(ln-2)*pi;if(this.ctx.clip_path.length!==0){var ni=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ge(tn,this.posX+this.margin[3],-1*Hi+cn),Mr.call(this,"fill",!0),this.path=ni}var Xn=ge([JSON.parse(JSON.stringify(Hn))],this.posX+this.margin[3],-Hi+cn+this.ctx.prevPageLastElemOffset)[0];Ft.scale>=.01&&(Zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zr*Ft.scale),pn=this.lineWidth,this.lineWidth=pn*Ft.scale);var wi=this.autoPaging!=="text";if(wi||Xn.y+Xn.h<=Vn){if(wi||Xn.y>=cn&&Xn.x<=si){var mn=wi?Ft.text:this.pdf.splitTextToSize(Ft.text,Ft.maxWidth||si-Xn.x)[0],Xa=ge([JSON.parse(JSON.stringify(An))],this.posX+this.margin[3],-Hi+cn+this.ctx.prevPageLastElemOffset)[0],Bn=wi&&(ln>Cn||ln<Yr)&&ae.call(this);Bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ri,pi,null).clip().discardPath()),this.pdf.text(mn,Xa.x,Xa.y,{angle:Ft.angle,align:se,renderingMode:Ft.renderingMode}),Bn&&this.pdf.restoreGraphicsState()}}else Xn.y<Vn&&(this.ctx.prevPageLastElemOffset+=Vn-Xn.y);Ft.scale>=.01&&(this.pdf.setFontSize(Zr),this.lineWidth=pn)}else Ft.scale>=.01&&(Zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zr*Ft.scale),pn=this.lineWidth,this.lineWidth=pn*Ft.scale),this.pdf.text(Ft.text,rr.x+this.posX,rr.y+this.posY,{angle:Ft.angle,align:se,renderingMode:Ft.renderingMode,maxWidth:Ft.maxWidth}),Ft.scale>=.01&&(this.pdf.setFontSize(Zr),this.lineWidth=pn)},Ne=function(Ft,se,me,Ie){me=me||0,Ie=Ie||0,this.pdf.internal.out(b(Ft+me)+" "+G(se+Ie)+" l")},Te=function(Ft,se,me){return this.pdf.lines(Ft,se,me,null,null)},wr=function(Ft,se,me,Ie,ke,rr,lr,ar){this.pdf.internal.out([C(Z(me+Ft)),C(B(Ie+se)),C(Z(ke+Ft)),C(B(rr+se)),C(Z(lr+Ft)),C(B(ar+se)),"c"].join(" "))},gr=function(Ft,se,me,Ie){for(var ke=2*Math.PI,rr=Math.PI/2;se>me;)se-=ke;var lr=Math.abs(me-se);lr<ke&&Ie&&(lr=ke-lr);for(var ar=[],tn=Ie?-1:1,Zr=se;lr>1e-5;){var pn=Zr+tn*Math.min(lr,rr);ar.push(Fr.call(this,Ft,Zr,pn)),lr-=Math.abs(pn-Zr),Zr=pn}return ar},Fr=function(Ft,se,me){var Ie=(me-se)/2,ke=Ft*Math.cos(Ie),rr=Ft*Math.sin(Ie),lr=ke,ar=-rr,tn=lr*lr+ar*ar,Zr=tn+lr*ke+ar*rr,pn=4/3*(Math.sqrt(2*tn*Zr)-Zr)/(lr*rr-ar*ke),An=lr-pn*ar,Hn=ar+pn*lr,Sr=An,de=-Hn,fi=Ie+se,Cn=Math.cos(fi),Yr=Math.sin(fi);return{x1:Ft*Math.cos(se),y1:Ft*Math.sin(se),x2:An*Cn-Hn*Yr,y2:An*Yr+Hn*Cn,x3:Sr*Cn-de*Yr,y3:Sr*Yr+de*Cn,x4:Ft*Math.cos(me),y4:Ft*Math.sin(me)}},sr=function(Ft){return 180*Ft/Math.PI},fr=function(Ft,se,me,Ie,ke,rr){var lr=Ft+.5*(me-Ft),ar=se+.5*(Ie-se),tn=ke+.5*(me-ke),Zr=rr+.5*(Ie-rr),pn=Math.min(Ft,ke,lr,tn),An=Math.max(Ft,ke,lr,tn),Hn=Math.min(se,rr,ar,Zr),Sr=Math.max(se,rr,ar,Zr);return new at(pn,Hn,An-pn,Sr-Hn)},Or=function(Ft,se,me,Ie,ke,rr,lr,ar){var tn,Zr,pn,An,Hn,Sr,de,fi,Cn,Yr,ln,cn,un,Vn,pi=me-Ft,si=Ie-se,Ri=ke-me,Hi=rr-Ie,ni=lr-ke,Xn=ar-rr;for(Zr=0;Zr<41;Zr++)Cn=(de=(pn=Ft+(tn=Zr/40)*pi)+tn*((Hn=me+tn*Ri)-pn))+tn*(Hn+tn*(ke+tn*ni-Hn)-de),Yr=(fi=(An=se+tn*si)+tn*((Sr=Ie+tn*Hi)-An))+tn*(Sr+tn*(rr+tn*Xn-Sr)-fi),Zr==0?(ln=Cn,cn=Yr,un=Cn,Vn=Yr):(ln=Math.min(ln,Cn),cn=Math.min(cn,Yr),un=Math.max(un,Cn),Vn=Math.max(Vn,Yr));return new at(Math.round(ln),Math.round(cn),Math.round(un-ln),Math.round(Vn-cn))},On=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ft,se,me=(Ft=this.ctx.lineDash,se=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ft,lineDashOffset:se}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(pe.API),function(F){var C=function(B){var tt,at,lt,wt,Ut,kt,Zt,vt,he,ae;for(/[^\x00-\xFF]/.test(B),at=[],lt=0,wt=(B+=tt="\0\0\0\0".slice(B.length%4||4)).length;wt>lt;lt+=4)(Ut=(B.charCodeAt(lt)<<24)+(B.charCodeAt(lt+1)<<16)+(B.charCodeAt(lt+2)<<8)+B.charCodeAt(lt+3))!==0?(kt=(Ut=((Ut=((Ut=((Ut=(Ut-(ae=Ut%85))/85)-(he=Ut%85))/85)-(vt=Ut%85))/85)-(Zt=Ut%85))/85)%85,at.push(kt+33,Zt+33,vt+33,he+33,ae+33)):at.push(122);return function(Ae,Kt){for(var ge=Kt;ge>0;ge--)Ae.pop()}(at,tt.length),String.fromCharCode.apply(String,at)+"~>"},b=function(B){var tt,at,lt,wt,Ut,kt=String,Zt="length",vt=255,he="charCodeAt",ae="slice",Ae="replace";for(B[ae](-2),B=B[ae](0,-2)[Ae](/\s/g,"")[Ae]("z","!!!!!"),lt=[],wt=0,Ut=(B+=tt="uuuuu"[ae](B[Zt]%5||5))[Zt];Ut>wt;wt+=5)at=52200625*(B[he](wt)-33)+614125*(B[he](wt+1)-33)+7225*(B[he](wt+2)-33)+85*(B[he](wt+3)-33)+(B[he](wt+4)-33),lt.push(vt&at>>24,vt&at>>16,vt&at>>8,vt&at);return function(Kt,ge){for(var Ye=ge;Ye>0;Ye--)Kt.pop()}(lt,tt[Zt]),kt.fromCharCode.apply(kt,lt)},G=function(B){var tt=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((B=B.replace(/\s/g,"")).indexOf(">")!==-1&&(B=B.substr(0,B.indexOf(">"))),B.length%2&&(B+="0"),tt.test(B)===!1)return"";for(var at="",lt=0;lt<B.length;lt+=2)at+=String.fromCharCode("0x"+(B[lt]+B[lt+1]));return at},Z=function(B){for(var tt=new Uint8Array(B.length),at=B.length;at--;)tt[at]=B.charCodeAt(at);return B=(tt=Object(y.b)(tt)).reduce(function(lt,wt){return lt+String.fromCharCode(wt)},"")};F.processDataByFilters=function(B,tt){var at=0,lt=B||"",wt=[];for(typeof(tt=tt||[])=="string"&&(tt=[tt]),at=0;at<tt.length;at+=1)switch(tt[at]){case"ASCII85Decode":case"/ASCII85Decode":lt=b(lt),wt.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":lt=C(lt),wt.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":lt=G(lt),wt.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":lt=lt.split("").map(function(Ut){return("0"+Ut.charCodeAt().toString(16)).slice(-2)}).join("")+">",wt.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":lt=Z(lt),wt.push("/FlateDecode");break;default:throw new Error('The filter: "'+tt[at]+'" is not implemented')}return{data:lt,reverseChain:wt.reverse().join(" ")}}}(pe.API),function(F){F.loadFile=function(C,b,G){return function(Z,B,tt){B=B!==!1,tt=typeof tt=="function"?tt:function(){};var at=void 0;try{at=function(lt,wt,Ut){var kt=new XMLHttpRequest,Zt=0,vt=function(he){var ae=he.length,Ae=[],Kt=String.fromCharCode;for(Zt=0;Zt<ae;Zt+=1)Ae.push(Kt(255&he.charCodeAt(Zt)));return Ae.join("")};if(kt.open("GET",lt,!wt),kt.overrideMimeType("text/plain; charset=x-user-defined"),wt===!1&&(kt.onload=function(){kt.status===200?Ut(vt(this.responseText)):Ut(void 0)}),kt.send(null),wt&&kt.status===200)return vt(kt.responseText)}(Z,B,tt)}catch{}return at}(C,b,G)},F.loadImageFile=F.loadFile}(pe.API),function(F){function C(){return(E.html2canvas?Promise.resolve(E.html2canvas):s.e(3).then(s.t.bind(null,"c0e9",7))).catch(function(tt){return Promise.reject(new Error("Could not load html2canvas: "+tt))}).then(function(tt){return tt.default?tt.default:tt})}function b(){return(E.DOMPurify?Promise.resolve(E.DOMPurify):s.e(2).then(s.t.bind(null,"c0c4",7))).catch(function(tt){return Promise.reject(new Error("Could not load dompurify: "+tt))}).then(function(tt){return tt.default?tt.default:tt})}var G=function(tt){var at=v()(tt);return at==="undefined"?"undefined":at==="string"||tt instanceof String?"string":at==="number"||tt instanceof Number?"number":at==="function"||tt instanceof Function?"function":tt&&tt.constructor===Array?"array":tt&&tt.nodeType===1?"element":at==="object"?"object":"unknown"},Z=function(tt,at){var lt=document.createElement(tt);for(var wt in at.className&&(lt.className=at.className),at.innerHTML&&at.dompurify&&(lt.innerHTML=at.dompurify.sanitize(at.innerHTML)),at.style)lt.style[wt]=at.style[wt];return lt},B=function tt(at){var lt=Object.assign(tt.convert(Promise.resolve()),JSON.parse(JSON.stringify(tt.template))),wt=tt.convert(Promise.resolve(),lt);return wt=(wt=wt.setProgress(1,tt,1,[tt])).set(at)};(B.prototype=Object.create(Promise.prototype)).constructor=B,B.convert=function(tt,at){return tt.__proto__=at||B.prototype,tt},B.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},B.prototype.from=function(tt,at){return this.then(function(){switch(at=at||function(lt){switch(G(lt)){case"string":return"string";case"element":return lt.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(tt)){case"string":return this.then(b).then(function(lt){return this.set({src:Z("div",{innerHTML:tt,dompurify:lt})})});case"element":return this.set({src:tt});case"canvas":return this.set({canvas:tt});case"img":return this.set({img:tt});default:return this.error("Unknown source type.")}})},B.prototype.to=function(tt){switch(tt){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},B.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var tt={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},at=function lt(wt,Ut){for(var kt=wt.nodeType===3?document.createTextNode(wt.nodeValue):wt.cloneNode(!1),Zt=wt.firstChild;Zt;Zt=Zt.nextSibling)Ut!==!0&&Zt.nodeType===1&&Zt.nodeName==="SCRIPT"||kt.appendChild(lt(Zt,Ut));return wt.nodeType===1&&(wt.nodeName==="CANVAS"?(kt.width=wt.width,kt.height=wt.height,kt.getContext("2d").drawImage(wt,0,0)):wt.nodeName!=="TEXTAREA"&&wt.nodeName!=="SELECT"||(kt.value=wt.value),kt.addEventListener("load",function(){kt.scrollTop=wt.scrollTop,kt.scrollLeft=wt.scrollLeft},!0)),kt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);at.tagName==="BODY"&&(tt.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Z("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Z("div",{className:"html2pdf__container",style:tt}),this.prop.container.appendChild(at),this.prop.container.firstChild.appendChild(Z("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},B.prototype.toCanvas=function(){var tt=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(tt).then(C).then(function(at){var lt=Object.assign({},this.opt.html2canvas);return delete lt.onrendered,at(this.prop.container,lt)}).then(function(at){(this.opt.html2canvas.onrendered||function(){})(at),this.prop.canvas=at,document.body.removeChild(this.prop.overlay)})},B.prototype.toContext2d=function(){var tt=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(tt).then(C).then(function(at){var lt=this.opt.jsPDF,wt=this.opt.fontFaces,Ut=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,kt=Object.assign({async:!0,allowTaint:!0,scale:Ut,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete kt.onrendered,lt.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,lt.context2d.posX=this.opt.x,lt.context2d.posY=this.opt.y,lt.context2d.margin=this.opt.margin,lt.context2d.fontFaces=wt,wt)for(var Zt=0;Zt<wt.length;++Zt){var vt=wt[Zt],he=vt.src.find(function(ae){return ae.format==="truetype"});he&&lt.addFont(he.url,vt.ref.name,vt.ref.style)}return kt.windowHeight=kt.windowHeight||0,kt.windowHeight=kt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):kt.windowHeight,lt.context2d.save(!0),at(this.prop.container,kt)}).then(function(at){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(at),this.prop.canvas=at,document.body.removeChild(this.prop.overlay)})},B.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var tt=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=tt})},B.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},B.prototype.output=function(tt,at,lt){return(lt=lt||"pdf").toLowerCase()==="img"||lt.toLowerCase()==="image"?this.outputImg(tt,at):this.outputPdf(tt,at)},B.prototype.outputPdf=function(tt,at){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(tt,at)})},B.prototype.outputImg=function(tt){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(tt){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+tt+'" is not supported.'}})},B.prototype.save=function(tt){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(tt?{filename:tt}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},B.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},B.prototype.set=function(tt){if(G(tt)!=="object")return this;var at=Object.keys(tt||{}).map(function(lt){if(lt in B.template.prop)return function(){this.prop[lt]=tt[lt]};switch(lt){case"margin":return this.setMargin.bind(this,tt.margin);case"jsPDF":return function(){return this.opt.jsPDF=tt.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,tt.pageSize);default:return function(){this.opt[lt]=tt[lt]}}},this);return this.then(function(){return this.thenList(at)})},B.prototype.get=function(tt,at){return this.then(function(){var lt=tt in B.template.prop?this.prop[tt]:this.opt[tt];return at?at(lt):lt})},B.prototype.setMargin=function(tt){return this.then(function(){switch(G(tt)){case"number":tt=[tt,tt,tt,tt];case"array":if(tt.length===2&&(tt=[tt[0],tt[1],tt[0],tt[1]]),tt.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=tt}).then(this.setPageSize)},B.prototype.setPageSize=function(tt){function at(lt,wt){return Math.floor(lt*wt/72*96)}return this.then(function(){(tt=tt||pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(tt.inner={width:tt.width-this.opt.margin[1]-this.opt.margin[3],height:tt.height-this.opt.margin[0]-this.opt.margin[2]},tt.inner.px={width:at(tt.inner.width,tt.k),height:at(tt.inner.height,tt.k)},tt.inner.ratio=tt.inner.height/tt.inner.width),this.prop.pageSize=tt})},B.prototype.setProgress=function(tt,at,lt,wt){return tt!=null&&(this.progress.val=tt),at!=null&&(this.progress.state=at),lt!=null&&(this.progress.n=lt),wt!=null&&(this.progress.stack=wt),this.progress.ratio=this.progress.val/this.progress.state,this},B.prototype.updateProgress=function(tt,at,lt,wt){return this.setProgress(tt?this.progress.val+tt:null,at||null,lt?this.progress.n+lt:null,wt?this.progress.stack.concat(wt):null)},B.prototype.then=function(tt,at){var lt=this;return this.thenCore(tt,at,function(wt,Ut){return lt.updateProgress(null,null,1,[wt]),Promise.prototype.then.call(this,function(kt){return lt.updateProgress(null,wt),kt}).then(wt,Ut).then(function(kt){return lt.updateProgress(1),kt})})},B.prototype.thenCore=function(tt,at,lt){lt=lt||Promise.prototype.then,tt&&(tt=tt.bind(this)),at&&(at=at.bind(this));var wt=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:B.convert(Object.assign({},this),Promise.prototype),Ut=lt.call(wt,tt,at);return B.convert(Ut,this.__proto__)},B.prototype.thenExternal=function(tt,at){return Promise.prototype.then.call(this,tt,at)},B.prototype.thenList=function(tt){var at=this;return tt.forEach(function(lt){at=at.thenCore(lt)}),at},B.prototype.catch=function(tt){tt&&(tt=tt.bind(this));var at=Promise.prototype.catch.call(this,tt);return B.convert(at,this)},B.prototype.catchExternal=function(tt){return Promise.prototype.catch.call(this,tt)},B.prototype.error=function(tt){return this.then(function(){throw new Error(tt)})},B.prototype.using=B.prototype.set,B.prototype.saveAs=B.prototype.save,B.prototype.export=B.prototype.output,B.prototype.run=B.prototype.then,pe.getPageSize=function(tt,at,lt){if(v()(tt)==="object"){var wt=tt;tt=wt.orientation,at=wt.unit||at,lt=wt.format||lt}at=at||"mm",lt=lt||"a4",tt=(""+(tt||"P")).toLowerCase();var Ut,kt=(""+lt).toLowerCase(),Zt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(at){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=.75;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:throw"Invalid unit: "+at}var vt,he=0,ae=0;if(Zt.hasOwnProperty(kt))he=Zt[kt][1]/Ut,ae=Zt[kt][0]/Ut;else try{he=lt[1],ae=lt[0]}catch{throw new Error("Invalid format: "+lt)}if(tt==="p"||tt==="portrait")tt="p",ae>he&&(vt=ae,ae=he,he=vt);else{if(tt!=="l"&&tt!=="landscape")throw"Invalid orientation: "+tt;tt="l",he>ae&&(vt=ae,ae=he,he=vt)}return{width:ae,height:he,unit:at,k:Ut,orientation:tt}},F.html=function(tt,at){(at=at||{}).callback=at.callback||function(){},at.html2canvas=at.html2canvas||{},at.html2canvas.canvas=at.html2canvas.canvas||this.canvas,at.jsPDF=at.jsPDF||this,at.fontFaces=at.fontFaces?at.fontFaces.map(ho):null;var lt=new B(at);return at.worker?lt:lt.from(tt).doCallback()}}(pe.API),pe.API.addJS=function(F){return al=F,this.internal.events.subscribe("postPutResources",function(){Ma=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ma+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ra=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+al+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ma!==void 0&&Ra!==void 0&&this.internal.out("/Names <</JavaScript "+Ma+" 0 R>>")}),this},function(F){var C;F.events.push(["postPutResources",function(){var b=this,G=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Z=b.outline.render().split(/\r\n/),B=0;B<Z.length;B++){var tt=Z[B],at=G.exec(tt);if(at!=null){var lt=at[1];b.internal.newObjectDeferredBegin(lt,!1)}b.internal.write(tt)}if(this.outline.createNamedDestinations){var wt=this.internal.pages.length,Ut=[];for(B=0;B<wt;B++){var kt=b.internal.newObject();Ut.push(kt);var Zt=b.internal.getPageInfo(B+1);b.internal.write("<< /D["+Zt.objId+" 0 R /XYZ null null null]>> endobj")}var vt=b.internal.newObject();for(b.internal.write("<< /Names [ "),B=0;B<Ut.length;B++)b.internal.write("(page_"+(B+1)+")"+Ut[B]+" 0 R");b.internal.write(" ] >>","endobj"),C=b.internal.newObject(),b.internal.write("<< /Dests "+vt+" 0 R"),b.internal.write(">>","endobj")}}]),F.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+C+" 0 R"))}]),F.events.push(["initialized",function(){var b=this;b.outline={createNamedDestinations:!1,root:{children:[]}},b.outline.add=function(G,Z,B){var tt={title:Z,options:B,children:[]};return G==null&&(G=this.root),G.children.push(tt),tt},b.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=b,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},b.outline.genIds_r=function(G){G.id=b.internal.newObjectDeferred();for(var Z=0;Z<G.children.length;Z++)this.genIds_r(G.children[Z])},b.outline.renderRoot=function(G){this.objStart(G),this.line("/Type /Outlines"),G.children.length>0&&(this.line("/First "+this.makeRef(G.children[0])),this.line("/Last "+this.makeRef(G.children[G.children.length-1]))),this.line("/Count "+this.count_r({count:0},G)),this.objEnd()},b.outline.renderItems=function(G){for(var Z=this.ctx.pdf.internal.getVerticalCoordinateString,B=0;B<G.children.length;B++){var tt=G.children[B];this.objStart(tt),this.line("/Title "+this.makeString(tt.title)),this.line("/Parent "+this.makeRef(G)),B>0&&this.line("/Prev "+this.makeRef(G.children[B-1])),B<G.children.length-1&&this.line("/Next "+this.makeRef(G.children[B+1])),tt.children.length>0&&(this.line("/First "+this.makeRef(tt.children[0])),this.line("/Last "+this.makeRef(tt.children[tt.children.length-1])));var at=this.count=this.count_r({count:0},tt);if(at>0&&this.line("/Count "+at),tt.options&&tt.options.pageNumber){var lt=b.internal.getPageInfo(tt.options.pageNumber);this.line("/Dest ["+lt.objId+" 0 R /XYZ 0 "+Z(0)+" 0]")}this.objEnd()}for(var wt=0;wt<G.children.length;wt++)this.renderItems(G.children[wt])},b.outline.line=function(G){this.ctx.val+=G+`\r
`},b.outline.makeRef=function(G){return G.id+" 0 R"},b.outline.makeString=function(G){return"("+b.internal.pdfEscape(G)+")"},b.outline.objStart=function(G){this.ctx.val+=`\r
`+G.id+` 0 obj\r
<<\r
`},b.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},b.outline.count_r=function(G,Z){for(var B=0;B<Z.children.length;B++)G.count++,this.count_r(G,Z.children[B]);return G.count}}])}(pe.API),function(F){var C=[192,193,194,195,196,197,198,199];F.processJPEG=function(b,G,Z,B,tt,at){var lt,wt=this.decode.DCT_DECODE,Ut=null;if(typeof b=="string"||this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b)){switch(b=tt||b,b=this.__addimage__.isArrayBuffer(b)?new Uint8Array(b):b,(lt=function(kt){for(var Zt,vt=256*kt.charCodeAt(4)+kt.charCodeAt(5),he=kt.length,ae={width:0,height:0,numcomponents:1},Ae=4;Ae<he;Ae+=2){if(Ae+=vt,C.indexOf(kt.charCodeAt(Ae+1))!==-1){Zt=256*kt.charCodeAt(Ae+5)+kt.charCodeAt(Ae+6),ae={width:256*kt.charCodeAt(Ae+7)+kt.charCodeAt(Ae+8),height:Zt,numcomponents:kt.charCodeAt(Ae+9)};break}vt=256*kt.charCodeAt(Ae+2)+kt.charCodeAt(Ae+3)}return ae}(b=this.__addimage__.isArrayBufferView(b)?this.__addimage__.arrayBufferToBinaryString(b):b)).numcomponents){case 1:at=this.color_spaces.DEVICE_GRAY;break;case 4:at=this.color_spaces.DEVICE_CMYK;break;case 3:at=this.color_spaces.DEVICE_RGB}Ut={data:b,width:lt.width,height:lt.height,colorSpace:at,bitsPerComponent:8,filter:wt,index:G,alias:Z}}return Ut}}(pe.API);var ia,Ws,sl,o0,B0,Xl=function(){var F,C,b;function G(B){var tt,at,lt,wt,Ut,kt,Zt,vt,he,ae,Ae,Kt,ge,Ye;for(this.data=B,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},kt=null;;){switch(tt=this.readUInt32(),he=function(){var cr,Mr;for(Mr=[],cr=0;cr<4;++cr)Mr.push(String.fromCharCode(this.data[this.pos++]));return Mr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(tt);break;case"fcTL":kt&&this.animation.frames.push(kt),this.pos+=4,kt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ut=this.readUInt16(),wt=this.readUInt16()||100,kt.delay=1e3*Ut/wt,kt.disposeOp=this.data[this.pos++],kt.blendOp=this.data[this.pos++],kt.data=[];break;case"IDAT":case"fdAT":for(he==="fdAT"&&(this.pos+=4,tt-=4),B=(kt!=null?kt.data:void 0)||this.imgData,Kt=0;0<=tt?Kt<tt:Kt>tt;0<=tt?++Kt:--Kt)B.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(lt=this.palette.length/3,this.transparency.indexed=this.read(tt),this.transparency.indexed.length>lt)throw new Error("More transparent colors than palette size");if((ae=lt-this.transparency.indexed.length)>0)for(ge=0;0<=ae?ge<ae:ge>ae;0<=ae?++ge:--ge)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(tt)[0];break;case 2:this.transparency.rgb=this.read(tt)}break;case"tEXt":Zt=(Ae=this.read(tt)).indexOf(0),vt=String.fromCharCode.apply(String,Ae.slice(0,Zt)),this.text[vt]=String.fromCharCode.apply(String,Ae.slice(Zt+1));break;case"IEND":return kt&&this.animation.frames.push(kt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Ye=this.colorType)===4||Ye===6,at=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*at,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=tt}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}G.prototype.read=function(B){var tt,at;for(at=[],tt=0;0<=B?tt<B:tt>B;0<=B?++tt:--tt)at.push(this.data[this.pos++]);return at},G.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},G.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},G.prototype.decodePixels=function(B){var tt=this.pixelBitlength/8,at=new Uint8Array(this.width*this.height*tt),lt=0,wt=this;if(B==null&&(B=this.imgData),B.length===0)return new Uint8Array(0);function Ut(kt,Zt,vt,he){var ae,Ae,Kt,ge,Ye,cr,Mr,Qr,yr,Ue,Lr,mr,ee,re,Ne,Te,wr,gr,Fr,sr,fr,Or=Math.ceil((wt.width-kt)/vt),On=Math.ceil((wt.height-Zt)/he),Ft=wt.width==Or&&wt.height==On;for(re=tt*Or,mr=Ft?at:new Uint8Array(re*On),cr=B.length,ee=0,Ae=0;ee<On&&lt<cr;){switch(B[lt++]){case 0:for(ge=wr=0;wr<re;ge=wr+=1)mr[Ae++]=B[lt++];break;case 1:for(ge=gr=0;gr<re;ge=gr+=1)ae=B[lt++],Ye=ge<tt?0:mr[Ae-tt],mr[Ae++]=(ae+Ye)%256;break;case 2:for(ge=Fr=0;Fr<re;ge=Fr+=1)ae=B[lt++],Kt=(ge-ge%tt)/tt,Ne=ee&&mr[(ee-1)*re+Kt*tt+ge%tt],mr[Ae++]=(Ne+ae)%256;break;case 3:for(ge=sr=0;sr<re;ge=sr+=1)ae=B[lt++],Kt=(ge-ge%tt)/tt,Ye=ge<tt?0:mr[Ae-tt],Ne=ee&&mr[(ee-1)*re+Kt*tt+ge%tt],mr[Ae++]=(ae+Math.floor((Ye+Ne)/2))%256;break;case 4:for(ge=fr=0;fr<re;ge=fr+=1)ae=B[lt++],Kt=(ge-ge%tt)/tt,Ye=ge<tt?0:mr[Ae-tt],ee===0?Ne=Te=0:(Ne=mr[(ee-1)*re+Kt*tt+ge%tt],Te=Kt&&mr[(ee-1)*re+(Kt-1)*tt+ge%tt]),Mr=Ye+Ne-Te,Qr=Math.abs(Mr-Ye),Ue=Math.abs(Mr-Ne),Lr=Math.abs(Mr-Te),yr=Qr<=Ue&&Qr<=Lr?Ye:Ue<=Lr?Ne:Te,mr[Ae++]=(ae+yr)%256;break;default:throw new Error("Invalid filter algorithm: "+B[lt-1])}if(!Ft){var se=((Zt+ee*he)*wt.width+kt)*tt,me=ee*re;for(ge=0;ge<Or;ge+=1){for(var Ie=0;Ie<tt;Ie+=1)at[se++]=mr[me++];se+=(vt-1)*tt}}ee++}}return B=Object(y.a)(B),wt.interlaceMethod==1?(Ut(0,0,8,8),Ut(4,0,8,8),Ut(0,4,4,8),Ut(2,0,4,4),Ut(0,2,2,4),Ut(1,0,2,2),Ut(0,1,1,2)):Ut(0,0,1,1),at},G.prototype.decodePalette=function(){var B,tt,at,lt,wt,Ut,kt,Zt,vt;for(at=this.palette,Ut=this.transparency.indexed||[],wt=new Uint8Array((Ut.length||0)+at.length),lt=0,B=0,tt=kt=0,Zt=at.length;kt<Zt;tt=kt+=3)wt[lt++]=at[tt],wt[lt++]=at[tt+1],wt[lt++]=at[tt+2],wt[lt++]=(vt=Ut[B++])!=null?vt:255;return wt},G.prototype.copyToImageData=function(B,tt){var at,lt,wt,Ut,kt,Zt,vt,he,ae,Ae,Kt;if(lt=this.colors,ae=null,at=this.hasAlphaChannel,this.palette.length&&(ae=(Kt=this._decodedPalette)!=null?Kt:this._decodedPalette=this.decodePalette(),lt=4,at=!0),he=(wt=B.data||B).length,kt=ae||tt,Ut=Zt=0,lt===1)for(;Ut<he;)vt=ae?4*tt[Ut/4]:Zt,Ae=kt[vt++],wt[Ut++]=Ae,wt[Ut++]=Ae,wt[Ut++]=Ae,wt[Ut++]=at?kt[vt++]:255,Zt=vt;else for(;Ut<he;)vt=ae?4*tt[Ut/4]:Zt,wt[Ut++]=kt[vt++],wt[Ut++]=kt[vt++],wt[Ut++]=kt[vt++],wt[Ut++]=at?kt[vt++]:255,Zt=vt},G.prototype.decode=function(){var B;return B=new Uint8Array(this.width*this.height*4),this.copyToImageData(B,this.decodePixels()),B};var Z=function(){if(Object.prototype.toString.call(E)==="[object Window]"){try{C=E.document.createElement("canvas"),b=C.getContext("2d")}catch{return!1}return!0}return!1};return Z(),F=function(B){var tt;if(Z()===!0)return b.width=B.width,b.height=B.height,b.clearRect(0,0,B.width,B.height),b.putImageData(B,0,0),(tt=new Image).src=C.toDataURL(),tt;throw new Error("This method requires a Browser with Canvas-capability.")},G.prototype.decodeFrames=function(B){var tt,at,lt,wt,Ut,kt,Zt,vt;if(this.animation){for(vt=[],at=Ut=0,kt=(Zt=this.animation.frames).length;Ut<kt;at=++Ut)tt=Zt[at],lt=B.createImageData(tt.width,tt.height),wt=this.decodePixels(new Uint8Array(tt.data)),this.copyToImageData(lt,wt),tt.imageData=lt,vt.push(tt.image=F(lt));return vt}},G.prototype.renderFrame=function(B,tt){var at,lt,wt;return at=(lt=this.animation.frames)[tt],wt=lt[tt-1],tt===0&&B.clearRect(0,0,this.width,this.height),(wt!=null?wt.disposeOp:void 0)===1?B.clearRect(wt.xOffset,wt.yOffset,wt.width,wt.height):(wt!=null?wt.disposeOp:void 0)===2&&B.putImageData(wt.imageData,wt.xOffset,wt.yOffset),at.blendOp===0&&B.clearRect(at.xOffset,at.yOffset,at.width,at.height),B.drawImage(at.image,at.xOffset,at.yOffset)},G.prototype.animate=function(B){var tt,at,lt,wt,Ut,kt,Zt=this;return at=0,kt=this.animation,wt=kt.numFrames,lt=kt.frames,Ut=kt.numPlays,(tt=function(){var vt,he;if(vt=at++%wt,he=lt[vt],Zt.renderFrame(B,vt),wt>1&&at/wt<Ut)return Zt.animation._timeout=setTimeout(tt,he.delay)})()},G.prototype.stopAnimation=function(){var B;return clearTimeout((B=this.animation)!=null?B._timeout:void 0)},G.prototype.render=function(B){var tt,at;return B._png&&B._png.stopAnimation(),B._png=this,B.width=this.width,B.height=this.height,tt=B.getContext("2d"),this.animation?(this.decodeFrames(tt),this.animate(tt)):(at=tt.createImageData(this.width,this.height),this.copyToImageData(at,this.decodePixels()),tt.putImageData(at,0,0))},G}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ha(F){var C=0;if(F[C++]!==71||F[C++]!==73||F[C++]!==70||F[C++]!==56||(F[C++]+1&253)!=56||F[C++]!==97)throw new Error("Invalid GIF 87a/89a header.");var b=F[C++]|F[C++]<<8,G=F[C++]|F[C++]<<8,Z=F[C++],B=Z>>7,tt=1<<(7&Z)+1;F[C++],F[C++];var at=null,lt=null;B&&(at=C,lt=tt,C+=3*tt);var wt=!0,Ut=[],kt=0,Zt=null,vt=0,he=null;for(this.width=b,this.height=G;wt&&C<F.length;)switch(F[C++]){case 33:switch(F[C++]){case 255:if(F[C]!==11||F[C+1]==78&&F[C+2]==69&&F[C+3]==84&&F[C+4]==83&&F[C+5]==67&&F[C+6]==65&&F[C+7]==80&&F[C+8]==69&&F[C+9]==50&&F[C+10]==46&&F[C+11]==48&&F[C+12]==3&&F[C+13]==1&&F[C+16]==0)C+=14,he=F[C++]|F[C++]<<8,C++;else for(C+=12;;){if(!((ee=F[C++])>=0))throw Error("Invalid block size");if(ee===0)break;C+=ee}break;case 249:if(F[C++]!==4||F[C+4]!==0)throw new Error("Invalid graphics extension block.");var ae=F[C++];kt=F[C++]|F[C++]<<8,Zt=F[C++],(1&ae)==0&&(Zt=null),vt=ae>>2&7,C++;break;case 254:for(;;){if(!((ee=F[C++])>=0))throw Error("Invalid block size");if(ee===0)break;C+=ee}break;default:throw new Error("Unknown graphic control label: 0x"+F[C-1].toString(16))}break;case 44:var Ae=F[C++]|F[C++]<<8,Kt=F[C++]|F[C++]<<8,ge=F[C++]|F[C++]<<8,Ye=F[C++]|F[C++]<<8,cr=F[C++],Mr=cr>>6&1,Qr=1<<(7&cr)+1,yr=at,Ue=lt,Lr=!1;cr>>7&&(Lr=!0,yr=C,Ue=Qr,C+=3*Qr);var mr=C;for(C++;;){var ee;if(!((ee=F[C++])>=0))throw Error("Invalid block size");if(ee===0)break;C+=ee}Ut.push({x:Ae,y:Kt,width:ge,height:Ye,has_local_palette:Lr,palette_offset:yr,palette_size:Ue,data_offset:mr,data_length:C-mr,transparent_index:Zt,interlaced:!!Mr,delay:kt,disposal:vt});break;case 59:wt=!1;break;default:throw new Error("Unknown gif block: 0x"+F[C-1].toString(16))}this.numFrames=function(){return Ut.length},this.loopCount=function(){return he},this.frameInfo=function(re){if(re<0||re>=Ut.length)throw new Error("Frame index out of range.");return Ut[re]},this.decodeAndBlitFrameBGRA=function(re,Ne){var Te=this.frameInfo(re),wr=Te.width*Te.height,gr=new Uint8Array(wr);oa(F,Te.data_offset,gr,wr);var Fr=Te.palette_offset,sr=Te.transparent_index;sr===null&&(sr=256);var fr=Te.width,Or=b-fr,On=fr,Ft=4*(Te.y*b+Te.x),se=4*((Te.y+Te.height)*b+Te.x),me=Ft,Ie=4*Or;Te.interlaced===!0&&(Ie+=4*b*7);for(var ke=8,rr=0,lr=gr.length;rr<lr;++rr){var ar=gr[rr];if(On===0&&(On=fr,(me+=Ie)>=se&&(Ie=4*Or+4*b*(ke-1),me=Ft+(fr+Or)*(ke<<1),ke>>=1)),ar===sr)me+=4;else{var tn=F[Fr+3*ar],Zr=F[Fr+3*ar+1],pn=F[Fr+3*ar+2];Ne[me++]=pn,Ne[me++]=Zr,Ne[me++]=tn,Ne[me++]=255}--On}},this.decodeAndBlitFrameRGBA=function(re,Ne){var Te=this.frameInfo(re),wr=Te.width*Te.height,gr=new Uint8Array(wr);oa(F,Te.data_offset,gr,wr);var Fr=Te.palette_offset,sr=Te.transparent_index;sr===null&&(sr=256);var fr=Te.width,Or=b-fr,On=fr,Ft=4*(Te.y*b+Te.x),se=4*((Te.y+Te.height)*b+Te.x),me=Ft,Ie=4*Or;Te.interlaced===!0&&(Ie+=4*b*7);for(var ke=8,rr=0,lr=gr.length;rr<lr;++rr){var ar=gr[rr];if(On===0&&(On=fr,(me+=Ie)>=se&&(Ie=4*Or+4*b*(ke-1),me=Ft+(fr+Or)*(ke<<1),ke>>=1)),ar===sr)me+=4;else{var tn=F[Fr+3*ar],Zr=F[Fr+3*ar+1],pn=F[Fr+3*ar+2];Ne[me++]=tn,Ne[me++]=Zr,Ne[me++]=pn,Ne[me++]=255}--On}}}function oa(F,C,b,G){for(var Z=F[C++],B=1<<Z,tt=B+1,at=tt+1,lt=Z+1,wt=(1<<lt)-1,Ut=0,kt=0,Zt=0,vt=F[C++],he=new Int32Array(4096),ae=null;;){for(;Ut<16&&vt!==0;)kt|=F[C++]<<Ut,Ut+=8,vt===1?vt=F[C++]:--vt;if(Ut<lt)break;var Ae=kt&wt;if(kt>>=lt,Ut-=lt,Ae!==B){if(Ae===tt)break;for(var Kt=Ae<at?Ae:ae,ge=0,Ye=Kt;Ye>B;)Ye=he[Ye]>>8,++ge;var cr=Ye;if(Zt+ge+(Kt!==Ae?1:0)>G)return void M.log("Warning, gif stream longer than expected.");b[Zt++]=cr;var Mr=Zt+=ge;for(Kt!==Ae&&(b[Zt++]=cr),Ye=Kt;ge--;)Ye=he[Ye],b[--Mr]=255&Ye,Ye>>=8;ae!==null&&at<4096&&(he[at++]=ae<<8|cr,at>=wt+1&&lt<12&&(++lt,wt=wt<<1|1)),ae=Ae}else at=tt+1,wt=(1<<(lt=Z+1))-1,ae=null}return Zt!==G&&M.log("Warning, gif stream shorter than expected."),b}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ll(F){var C,b,G,Z,B,tt=Math.floor,at=new Array(64),lt=new Array(64),wt=new Array(64),Ut=new Array(64),kt=new Array(65535),Zt=new Array(65535),vt=new Array(64),he=new Array(64),ae=[],Ae=0,Kt=7,ge=new Array(64),Ye=new Array(64),cr=new Array(64),Mr=new Array(256),Qr=new Array(2048),yr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ue=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Lr=[0,1,2,3,4,5,6,7,8,9,10,11],mr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ee=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],re=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ne=[0,1,2,3,4,5,6,7,8,9,10,11],Te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function gr(Ft,se){for(var me=0,Ie=0,ke=new Array,rr=1;rr<=16;rr++){for(var lr=1;lr<=Ft[rr];lr++)ke[se[Ie]]=[],ke[se[Ie]][0]=me,ke[se[Ie]][1]=rr,Ie++,me++;me*=2}return ke}function Fr(Ft){for(var se=Ft[0],me=Ft[1]-1;me>=0;)se&1<<me&&(Ae|=1<<Kt),me--,--Kt<0&&(Ae==255?(sr(255),sr(0)):sr(Ae),Kt=7,Ae=0)}function sr(Ft){ae.push(Ft)}function fr(Ft){sr(Ft>>8&255),sr(255&Ft)}function Or(Ft,se,me,Ie,ke){for(var rr,lr=ke[0],ar=ke[240],tn=function(Yr,ln){var cn,un,Vn,pi,si,Ri,Hi,ni,Xn,wi,mn=0;for(Xn=0;Xn<8;++Xn){cn=Yr[mn],un=Yr[mn+1],Vn=Yr[mn+2],pi=Yr[mn+3],si=Yr[mn+4],Ri=Yr[mn+5],Hi=Yr[mn+6];var Xa=cn+(ni=Yr[mn+7]),Bn=cn-ni,_a=un+Hi,Xi=un-Hi,To=Vn+Ri,Ps=Vn-Ri,Ki=pi+si,xs=pi-si,Wo=Xa+Ki,Ca=Xa-Ki,Ns=_a+To,Oo=_a-To;Yr[mn]=Wo+Ns,Yr[mn+4]=Wo-Ns;var $n=.707106781*(Oo+Ca);Yr[mn+2]=Ca+$n,Yr[mn+6]=Ca-$n;var _n=.382683433*((Wo=xs+Ps)-(Oo=Xi+Bn)),aa=.5411961*Wo+_n,ca=1.306562965*Oo+_n,Hs=.707106781*(Ns=Ps+Xi),Ts=Bn+Hs,Wn=Bn-Hs;Yr[mn+5]=Wn+aa,Yr[mn+3]=Wn-aa,Yr[mn+1]=Ts+ca,Yr[mn+7]=Ts-ca,mn+=8}for(mn=0,Xn=0;Xn<8;++Xn){cn=Yr[mn],un=Yr[mn+8],Vn=Yr[mn+16],pi=Yr[mn+24],si=Yr[mn+32],Ri=Yr[mn+40],Hi=Yr[mn+48];var to=cn+(ni=Yr[mn+56]),us=cn-ni,Ka=un+Hi,Ea=un-Hi,fn=Vn+Ri,ds=Vn-Ri,Au=pi+si,Ml=pi-si,Os=to+Au,Se=to-Au,Ga=Ka+fn,ha=Ka-fn;Yr[mn]=Os+Ga,Yr[mn+32]=Os-Ga;var Zi=.707106781*(ha+Se);Yr[mn+16]=Se+Zi,Yr[mn+48]=Se-Zi;var Wi=.382683433*((Os=Ml+ds)-(ha=Ea+us)),fa=.5411961*Os+Wi,ul=1.306562965*ha+Wi,ba=.707106781*(Ga=ds+Ea),Kl=us+ba,$a=us-ba;Yr[mn+40]=$a+fa,Yr[mn+24]=$a-fa,Yr[mn+8]=Kl+ul,Yr[mn+56]=Kl-ul,mn++}for(Xn=0;Xn<64;++Xn)wi=Yr[Xn]*ln[Xn],vt[Xn]=wi>0?wi+.5|0:wi-.5|0;return vt}(Ft,se),Zr=0;Zr<64;++Zr)he[yr[Zr]]=tn[Zr];var pn=he[0]-me;me=he[0],pn==0?Fr(Ie[0]):(Fr(Ie[Zt[rr=32767+pn]]),Fr(kt[rr]));for(var An=63;An>0&&he[An]==0;)An--;if(An==0)return Fr(lr),me;for(var Hn,Sr=1;Sr<=An;){for(var de=Sr;he[Sr]==0&&Sr<=An;)++Sr;var fi=Sr-de;if(fi>=16){Hn=fi>>4;for(var Cn=1;Cn<=Hn;++Cn)Fr(ar);fi&=15}rr=32767+he[Sr],Fr(ke[(fi<<4)+Zt[rr]]),Fr(kt[rr]),Sr++}return An!=63&&Fr(lr),me}function On(Ft){Ft=Math.min(Math.max(Ft,1),100),B!=Ft&&(function(se){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ie=0;Ie<64;Ie++){var ke=tt((me[Ie]*se+50)/100);ke=Math.min(Math.max(ke,1),255),at[yr[Ie]]=ke}for(var rr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],lr=0;lr<64;lr++){var ar=tt((rr[lr]*se+50)/100);ar=Math.min(Math.max(ar,1),255),lt[yr[lr]]=ar}for(var tn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zr=0,pn=0;pn<8;pn++)for(var An=0;An<8;An++)wt[Zr]=1/(at[yr[Zr]]*tn[pn]*tn[An]*8),Ut[Zr]=1/(lt[yr[Zr]]*tn[pn]*tn[An]*8),Zr++}(Ft<50?Math.floor(5e3/Ft):Math.floor(200-2*Ft)),B=Ft)}this.encode=function(Ft,se){se&&On(se),ae=new Array,Ae=0,Kt=7,fr(65496),fr(65504),fr(16),sr(74),sr(70),sr(73),sr(70),sr(0),sr(1),sr(1),sr(0),fr(1),fr(1),sr(0),sr(0),function(){fr(65499),fr(132),sr(0);for(var un=0;un<64;un++)sr(at[un]);sr(1);for(var Vn=0;Vn<64;Vn++)sr(lt[Vn])}(),function(un,Vn){fr(65472),fr(17),sr(8),fr(Vn),fr(un),sr(3),sr(1),sr(17),sr(0),sr(2),sr(17),sr(1),sr(3),sr(17),sr(1)}(Ft.width,Ft.height),function(){fr(65476),fr(418),sr(0);for(var un=0;un<16;un++)sr(Ue[un+1]);for(var Vn=0;Vn<=11;Vn++)sr(Lr[Vn]);sr(16);for(var pi=0;pi<16;pi++)sr(mr[pi+1]);for(var si=0;si<=161;si++)sr(ee[si]);sr(1);for(var Ri=0;Ri<16;Ri++)sr(re[Ri+1]);for(var Hi=0;Hi<=11;Hi++)sr(Ne[Hi]);sr(17);for(var ni=0;ni<16;ni++)sr(Te[ni+1]);for(var Xn=0;Xn<=161;Xn++)sr(wr[Xn])}(),fr(65498),fr(12),sr(3),sr(1),sr(0),sr(2),sr(17),sr(3),sr(17),sr(0),sr(63),sr(0);var me=0,Ie=0,ke=0;Ae=0,Kt=7,this.encode.displayName="_encode_";for(var rr,lr,ar,tn,Zr,pn,An,Hn,Sr,de=Ft.data,fi=Ft.width,Cn=Ft.height,Yr=4*fi,ln=0;ln<Cn;){for(rr=0;rr<Yr;){for(Zr=Yr*ln+rr,An=-1,Hn=0,Sr=0;Sr<64;Sr++)pn=Zr+(Hn=Sr>>3)*Yr+(An=4*(7&Sr)),ln+Hn>=Cn&&(pn-=Yr*(ln+1+Hn-Cn)),rr+An>=Yr&&(pn-=rr+An-Yr+4),lr=de[pn++],ar=de[pn++],tn=de[pn++],ge[Sr]=(Qr[lr]+Qr[ar+256>>0]+Qr[tn+512>>0]>>16)-128,Ye[Sr]=(Qr[lr+768>>0]+Qr[ar+1024>>0]+Qr[tn+1280>>0]>>16)-128,cr[Sr]=(Qr[lr+1280>>0]+Qr[ar+1536>>0]+Qr[tn+1792>>0]>>16)-128;me=Or(ge,wt,me,C,G),Ie=Or(Ye,Ut,Ie,b,Z),ke=Or(cr,Ut,ke,b,Z),rr+=32}ln+=8}if(Kt>=0){var cn=[];cn[1]=Kt+1,cn[0]=(1<<Kt+1)-1,Fr(cn)}return fr(65497),new Uint8Array(ae)},F=F||50,function(){for(var Ft=String.fromCharCode,se=0;se<256;se++)Mr[se]=Ft(se)}(),C=gr(Ue,Lr),b=gr(re,Ne),G=gr(mr,ee),Z=gr(Te,wr),function(){for(var Ft=1,se=2,me=1;me<=15;me++){for(var Ie=Ft;Ie<se;Ie++)Zt[32767+Ie]=me,kt[32767+Ie]=[],kt[32767+Ie][1]=me,kt[32767+Ie][0]=Ie;for(var ke=-(se-1);ke<=-Ft;ke++)Zt[32767+ke]=me,kt[32767+ke]=[],kt[32767+ke][1]=me,kt[32767+ke][0]=se-1+ke;Ft<<=1,se<<=1}}(),function(){for(var Ft=0;Ft<256;Ft++)Qr[Ft]=19595*Ft,Qr[Ft+256>>0]=38470*Ft,Qr[Ft+512>>0]=7471*Ft+32768,Qr[Ft+768>>0]=-11059*Ft,Qr[Ft+1024>>0]=-21709*Ft,Qr[Ft+1280>>0]=32768*Ft+8421375,Qr[Ft+1536>>0]=-27439*Ft,Qr[Ft+1792>>0]=-5329*Ft}(),On(F)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xo(F,C){if(this.pos=0,this.buffer=F,this.datav=new DataView(F.buffer),this.is_with_alpha=!!C,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Tu(F){function C(Ue){if(!Ue)throw Error("assert :P")}function b(Ue,Lr,mr){for(var ee=0;4>ee;ee++)if(Ue[Lr+ee]!=mr.charCodeAt(ee))return!0;return!1}function G(Ue,Lr,mr,ee,re){for(var Ne=0;Ne<re;Ne++)Ue[Lr+Ne]=mr[ee+Ne]}function Z(Ue,Lr,mr,ee){for(var re=0;re<ee;re++)Ue[Lr+re]=mr}function B(Ue){return new Int32Array(Ue)}function tt(Ue,Lr){for(var mr=[],ee=0;ee<Ue;ee++)mr.push(new Lr);return mr}function at(Ue,Lr){var mr=[];return function ee(re,Ne,Te){for(var wr=Te[Ne],gr=0;gr<wr&&(re.push(Te.length>Ne+1?[]:new Lr),!(Te.length<Ne+1));gr++)ee(re[gr],Ne+1,Te)}(mr,0,Ue),mr}var lt=function(){var Ue=this;function Lr(S,L){for(var q=1<<L-1>>>0;S&q;)q>>>=1;return q?(S&q-1)+q:S}function mr(S,L,q,ct,Tt){C(!(ct%q));do S[L+(ct-=q)]=Tt;while(0<ct)}function ee(S,L,q,ct,Tt){if(C(2328>=Tt),512>=Tt)var bt=B(512);else if((bt=B(Tt))==null)return 0;return function(Nt,Gt,Wt,ne,Ce,tr){var er,ze,Ir=Gt,_r=1<<Wt,be=B(16),Fe=B(16);for(C(Ce!=0),C(ne!=null),C(Nt!=null),C(0<Wt),ze=0;ze<Ce;++ze){if(15<ne[ze])return 0;++be[ne[ze]]}if(be[0]==Ce)return 0;for(Fe[1]=0,er=1;15>er;++er){if(be[er]>1<<er)return 0;Fe[er+1]=Fe[er]+be[er]}for(ze=0;ze<Ce;++ze)er=ne[ze],0<ne[ze]&&(tr[Fe[er]++]=ze);if(Fe[15]==1)return(ne=new re).g=0,ne.value=tr[0],mr(Nt,Ir,1,_r,ne),_r;var Cr,jr=-1,ur=_r-1,Ur=0,En=1,ii=1,hr=1<<Wt;for(ze=0,er=1,Ce=2;er<=Wt;++er,Ce<<=1){if(En+=ii<<=1,0>(ii-=be[er]))return 0;for(;0<be[er];--be[er])(ne=new re).g=er,ne.value=tr[ze++],mr(Nt,Ir+Ur,Ce,hr,ne),Ur=Lr(Ur,er)}for(er=Wt+1,Ce=2;15>=er;++er,Ce<<=1){if(En+=ii<<=1,0>(ii-=be[er]))return 0;for(;0<be[er];--be[er]){if(ne=new re,(Ur&ur)!=jr){for(Ir+=hr,Cr=1<<(jr=er)-Wt;15>jr&&!(0>=(Cr-=be[jr]));)++jr,Cr<<=1;_r+=hr=1<<(Cr=jr-Wt),Nt[Gt+(jr=Ur&ur)].g=Cr+Wt,Nt[Gt+jr].value=Ir-Gt-jr}ne.g=er-Wt,ne.value=tr[ze++],mr(Nt,Ir+(Ur>>Wt),Ce,hr,ne),Ur=Lr(Ur,er)}}return En!=2*Fe[15]-1?0:_r}(S,L,q,ct,Tt,bt)}function re(){this.value=this.g=0}function Ne(){this.value=this.g=0}function Te(){this.G=tt(5,re),this.H=B(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=tt(vl,Ne)}function wr(S,L,q,ct){C(S!=null),C(L!=null),C(2147483648>ct),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=L,S.pa=q,S.Jd=L,S.Yc=q+ct,S.Zc=4<=ct?q+ct-4+1:q,rr(S)}function gr(S,L){for(var q=0;0<L--;)q|=ar(S,128)<<L;return q}function Fr(S,L){var q=gr(S,L);return lr(S)?-q:q}function sr(S,L,q,ct){var Tt,bt=0;for(C(S!=null),C(L!=null),C(4294967288>ct),S.Sb=ct,S.Ra=0,S.u=0,S.h=0,4<ct&&(ct=4),Tt=0;Tt<ct;++Tt)bt+=L[q+Tt]<<8*Tt;S.Ra=bt,S.bb=ct,S.oa=L,S.pa=q}function fr(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<vh-8>>>0,++S.bb,S.u-=8;me(S)&&(S.h=1,S.u=0)}function Or(S,L){if(C(0<=L),!S.h&&L<=u0){var q=se(S)&tu[L];return S.u+=L,fr(S),q}return S.h=1,S.u=0}function On(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ft(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(S){return S.Ra>>>(S.u&vh-1)>>>0}function me(S){return C(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>vh}function Ie(S,L){S.u=L,S.h=me(S)}function ke(S){S.u>=U0&&(C(S.u>=U0),fr(S))}function rr(S){C(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(C(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function lr(S){return gr(S,1)}function ar(S,L){var q=S.Ca;0>S.b&&rr(S);var ct=S.b,Tt=q*L>>>8,bt=(S.I>>>ct>Tt)+0;for(bt?(q-=Tt,S.I-=Tt+1<<ct>>>0):q=Tt+1,ct=q,Tt=0;256<=ct;)Tt+=8,ct>>=8;return ct=7^Tt+Zs[ct],S.b-=ct,S.Ca=(q<<ct)-1,bt}function tn(S,L,q){S[L+0]=q>>24&255,S[L+1]=q>>16&255,S[L+2]=q>>8&255,S[L+3]=q>>0&255}function Zr(S,L){return S[L+0]<<0|S[L+1]<<8}function pn(S,L){return Zr(S,L)|S[L+2]<<16}function An(S,L){return Zr(S,L)|Zr(S,L+2)<<16}function Hn(S,L){var q=1<<L;return C(S!=null),C(0<L),S.X=B(q),S.X==null?0:(S.Mb=32-L,S.Xa=L,1)}function Sr(S,L){C(S!=null),C(L!=null),C(S.Xa==L.Xa),G(L.X,0,S.X,0,1<<L.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function fi(S,L,q,ct){C(q!=null),C(ct!=null);var Tt=q[0],bt=ct[0];return Tt==0&&(Tt=(S*bt+L/2)/L),bt==0&&(bt=(L*Tt+S/2)/S),0>=Tt||0>=bt?0:(q[0]=Tt,ct[0]=bt,1)}function Cn(S,L){return S+(1<<L)-1>>>L}function Yr(S,L){return((4278255360&S)+(4278255360&L)>>>0&4278255360)+((16711935&S)+(16711935&L)>>>0&16711935)>>>0}function ln(S,L){Ue[L]=function(q,ct,Tt,bt,Nt,Gt,Wt){var ne;for(ne=0;ne<Nt;++ne){var Ce=Ue[S](Gt[Wt+ne-1],Tt,bt+ne);Gt[Wt+ne]=Yr(q[ct+ne],Ce)}}}function cn(){this.ud=this.hd=this.jd=0}function un(S,L){return((4278124286&(S^L))>>>1)+(S&L)>>>0}function Vn(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function pi(S,L){return Vn(S+(S-L+.5>>1))}function si(S,L,q){return Math.abs(L-q)-Math.abs(S-q)}function Ri(S,L,q,ct,Tt,bt,Nt){for(ct=bt[Nt-1],q=0;q<Tt;++q)bt[Nt+q]=ct=Yr(S[L+q],ct)}function Hi(S,L,q,ct,Tt){var bt;for(bt=0;bt<q;++bt){var Nt=S[L+bt],Gt=Nt>>8&255,Wt=16711935&(Wt=(Wt=16711935&Nt)+((Gt<<16)+Gt));ct[Tt+bt]=(4278255360&Nt)+Wt>>>0}}function ni(S,L){L.jd=S>>0&255,L.hd=S>>8&255,L.ud=S>>16&255}function Xn(S,L,q,ct,Tt,bt){var Nt;for(Nt=0;Nt<ct;++Nt){var Gt=L[q+Nt],Wt=Gt>>>8,ne=Gt,Ce=255&(Ce=(Ce=Gt>>>16)+((S.jd<<24>>24)*(Wt<<24>>24)>>>5));ne=255&(ne=(ne=ne+((S.hd<<24>>24)*(Wt<<24>>24)>>>5))+((S.ud<<24>>24)*(Ce<<24>>24)>>>5)),Tt[bt+Nt]=(4278255360&Gt)+(Ce<<16)+ne}}function wi(S,L,q,ct,Tt){Ue[L]=function(bt,Nt,Gt,Wt,ne,Ce,tr,er,ze){for(Wt=tr;Wt<er;++Wt)for(tr=0;tr<ze;++tr)ne[Ce++]=Tt(Gt[ct(bt[Nt++])])},Ue[S]=function(bt,Nt,Gt,Wt,ne,Ce,tr){var er=8>>bt.b,ze=bt.Ea,Ir=bt.K[0],_r=bt.w;if(8>er)for(bt=(1<<bt.b)-1,_r=(1<<er)-1;Nt<Gt;++Nt){var be,Fe=0;for(be=0;be<ze;++be)be&bt||(Fe=ct(Wt[ne++])),Ce[tr++]=Tt(Ir[Fe&_r]),Fe>>=er}else Ue["VP8LMapColor"+q](Wt,ne,Ir,_r,Ce,tr,Nt,Gt,ze)}}function mn(S,L,q,ct,Tt){for(q=L+q;L<q;){var bt=S[L++];ct[Tt++]=bt>>16&255,ct[Tt++]=bt>>8&255,ct[Tt++]=bt>>0&255}}function Xa(S,L,q,ct,Tt){for(q=L+q;L<q;){var bt=S[L++];ct[Tt++]=bt>>16&255,ct[Tt++]=bt>>8&255,ct[Tt++]=bt>>0&255,ct[Tt++]=bt>>24&255}}function Bn(S,L,q,ct,Tt){for(q=L+q;L<q;){var bt=(Nt=S[L++])>>16&240|Nt>>12&15,Nt=Nt>>0&240|Nt>>28&15;ct[Tt++]=bt,ct[Tt++]=Nt}}function _a(S,L,q,ct,Tt){for(q=L+q;L<q;){var bt=(Nt=S[L++])>>16&248|Nt>>13&7,Nt=Nt>>5&224|Nt>>3&31;ct[Tt++]=bt,ct[Tt++]=Nt}}function Xi(S,L,q,ct,Tt){for(q=L+q;L<q;){var bt=S[L++];ct[Tt++]=bt>>0&255,ct[Tt++]=bt>>8&255,ct[Tt++]=bt>>16&255}}function To(S,L,q,ct,Tt,bt){if(bt==0)for(q=L+q;L<q;)tn(ct,((bt=S[L++])[0]>>24|bt[1]>>8&65280|bt[2]<<8&16711680|bt[3]<<24)>>>0),Tt+=32;else G(ct,Tt,S,L,q)}function Ps(S,L){Ue[L][0]=Ue[S+"0"],Ue[L][1]=Ue[S+"1"],Ue[L][2]=Ue[S+"2"],Ue[L][3]=Ue[S+"3"],Ue[L][4]=Ue[S+"4"],Ue[L][5]=Ue[S+"5"],Ue[L][6]=Ue[S+"6"],Ue[L][7]=Ue[S+"7"],Ue[L][8]=Ue[S+"8"],Ue[L][9]=Ue[S+"9"],Ue[L][10]=Ue[S+"10"],Ue[L][11]=Ue[S+"11"],Ue[L][12]=Ue[S+"12"],Ue[L][13]=Ue[S+"13"],Ue[L][14]=Ue[S+"0"],Ue[L][15]=Ue[S+"0"]}function Ki(S){return S==w1||S==x1||S==Eh||S==f0}function xs(){this.eb=[],this.size=this.A=this.fb=0}function Wo(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xs,this.f.kb=new Wo,this.sd=null}function Ns(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Oo(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $n(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function _n(S,L){var q=S.T,ct=L.ba.f.RGBA,Tt=ct.eb,bt=ct.fb+S.ka*ct.A,Nt=vs[L.ba.S],Gt=S.y,Wt=S.O,ne=S.f,Ce=S.N,tr=S.ea,er=S.W,ze=L.cc,Ir=L.dc,_r=L.Mc,be=L.Nc,Fe=S.ka,Cr=S.ka+S.T,jr=S.U,ur=jr+1>>1;for(Fe==0?Nt(Gt,Wt,null,null,ne,Ce,tr,er,ne,Ce,tr,er,Tt,bt,null,null,jr):(Nt(L.ec,L.fc,Gt,Wt,ze,Ir,_r,be,ne,Ce,tr,er,Tt,bt-ct.A,Tt,bt,jr),++q);Fe+2<Cr;Fe+=2)ze=ne,Ir=Ce,_r=tr,be=er,Ce+=S.Rc,er+=S.Rc,bt+=2*ct.A,Nt(Gt,(Wt+=2*S.fa)-S.fa,Gt,Wt,ze,Ir,_r,be,ne,Ce,tr,er,Tt,bt-ct.A,Tt,bt,jr);return Wt+=S.fa,S.j+Cr<S.o?(G(L.ec,L.fc,Gt,Wt,jr),G(L.cc,L.dc,ne,Ce,ur),G(L.Mc,L.Nc,tr,er,ur),q--):1&Cr||Nt(Gt,Wt,null,null,ne,Ce,tr,er,ne,Ce,tr,er,Tt,bt+ct.A,null,null,jr),q}function aa(S,L,q){var ct=S.F,Tt=[S.J];if(ct!=null){var bt=S.U,Nt=L.ba.S,Gt=Nt==Nd||Nt==Eh;L=L.ba.f.RGBA;var Wt=[0],ne=S.ka;Wt[0]=S.T,S.Kb&&(ne==0?--Wt[0]:(--ne,Tt[0]-=S.width),S.j+S.ka+S.T==S.o&&(Wt[0]=S.o-S.j-ne));var Ce=L.eb;ne=L.fb+ne*L.A,S=If(ct,Tt[0],S.width,bt,Wt,Ce,ne+(Gt?0:3),L.A),C(q==Wt),S&&Ki(Nt)&&pa(Ce,ne,Gt,bt,Wt,L.A)}return 0}function ca(S){var L=S.ma,q=L.ba.S,ct=11>q,Tt=q==Pd||q==Ff||q==Nd||q==Df||q==12||Ki(q);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Cf(L.Oa,S,Tt?11:12))return 0;if(Tt&&Ki(q)&&xr(),S.da)alert("todo:use_scaling");else{if(ct){if(L.Ib=$n,S.Kb){if(q=S.U+1>>1,L.memory=B(S.U+2*q),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+S.U,L.Mc=L.cc,L.Nc=L.dc+q,L.Ib=_n,xr()}}else alert("todo:EmitYUV");Tt&&(L.Jb=aa,ct&&He())}if(ct&&!Bf){for(S=0;256>S;++S)C1[S]=89858*(S-128)+Gd>>jd,u5[S]=-22014*(S-128)+Gd,l5[S]=-45773*(S-128),s5[S]=113618*(S-128)+Gd>>jd;for(S=Gf;S<R1;++S)L=76283*(S-16)+Gd>>jd,c5[S-Gf]=ps(L,255),h5[S-Gf]=ps(L+8>>4,15);Bf=1}return 1}function Hs(S){var L=S.ma,q=S.U,ct=S.T;return C(!(1&S.ka)),0>=q||0>=ct?0:(q=L.Ib(S,L),L.Jb!=null&&L.Jb(S,L,q),L.Dc+=q,1)}function Ts(S){S.ma.memory=null}function Wn(S,L,q,ct){return Or(S,8)!=47?0:(L[0]=Or(S,14)+1,q[0]=Or(S,14)+1,ct[0]=Or(S,1),Or(S,3)!=0?0:!S.h)}function to(S,L){if(4>S)return S+1;var q=S-2>>1;return(2+(1&S)<<q)+Or(L,q)+1}function us(S,L){return 120<L?L-120:1<=(q=((q=T1[L-1])>>4)*S+(8-(15&q)))?q:1;var q}function Ka(S,L,q){var ct=se(q),Tt=S[L+=255&ct].g-8;return 0<Tt&&(Ie(q,q.u+8),ct=se(q),L+=S[L].value,L+=ct&(1<<Tt)-1),Ie(q,q.u+S[L].g),S[L].value}function Ea(S,L,q){return q.g+=S.g,q.value+=S.value<<L>>>0,C(8>=q.g),S.g}function fn(S,L,q){var ct=S.xc;return C((L=ct==0?0:S.vc[S.md*(q>>ct)+(L>>ct)])<S.Wb),S.Ya[L]}function ds(S,L,q,ct){var Tt=S.ab,bt=S.c*L,Nt=S.C;L=Nt+L;var Gt=q,Wt=ct;for(ct=S.Ta,q=S.Ua;0<Tt--;){var ne=S.gc[Tt],Ce=Nt,tr=L,er=Gt,ze=Wt,Ir=(Wt=ct,Gt=q,ne.Ea);switch(C(Ce<tr),C(tr<=ne.nc),ne.hc){case 2:Id(er,ze,(tr-Ce)*Ir,Wt,Gt);break;case 0:var _r=Ce,be=tr,Fe=Wt,Cr=Gt,jr=(hr=ne).Ea;_r==0&&(Ld(er,ze,null,null,1,Fe,Cr),Ri(er,ze+1,0,0,jr-1,Fe,Cr+1),ze+=jr,Cr+=jr,++_r);for(var ur=1<<hr.b,Ur=ur-1,En=Cn(jr,hr.b),ii=hr.K,hr=hr.w+(_r>>hr.b)*En;_r<be;){var No=ii,Mo=hr,vo=1;for(c0(er,ze,Fe,Cr-jr,1,Fe,Cr);vo<jr;){var uo=(vo&~Ur)+ur;uo>jr&&(uo=jr),(0,Fu[No[Mo++]>>8&15])(er,ze+ +vo,Fe,Cr+vo-jr,uo-vo,Fe,Cr+vo),vo=uo}ze+=jr,Cr+=jr,++_r&Ur||(hr+=En)}tr!=ne.nc&&G(Wt,Gt-Ir,Wt,Gt+(tr-Ce-1)*Ir,Ir);break;case 1:for(Ir=er,be=ze,jr=(er=ne.Ea)-(Cr=er&~(Fe=(ze=1<<ne.b)-1)),_r=Cn(er,ne.b),ur=ne.K,ne=ne.w+(Ce>>ne.b)*_r;Ce<tr;){for(Ur=ur,En=ne,ii=new cn,hr=be+Cr,No=be+er;be<hr;)ni(Ur[En++],ii),Il(ii,Ir,be,ze,Wt,Gt),be+=ze,Gt+=ze;be<No&&(ni(Ur[En++],ii),Il(ii,Ir,be,jr,Wt,Gt),be+=jr,Gt+=jr),++Ce&Fe||(ne+=_r)}break;case 3:if(er==Wt&&ze==Gt&&0<ne.b){for(be=Wt,er=Ir=Gt+(tr-Ce)*Ir-(Cr=(tr-Ce)*Cn(ne.Ea,ne.b)),ze=Wt,Fe=Gt,_r=[],Cr=(jr=Cr)-1;0<=Cr;--Cr)_r[Cr]=ze[Fe+Cr];for(Cr=jr-1;0<=Cr;--Cr)be[er+Cr]=_r[Cr];Nu(ne,Ce,tr,Wt,Ir,Wt,Gt)}else Nu(ne,Ce,tr,er,ze,Wt,Gt)}Gt=ct,Wt=q}Wt!=q&&G(ct,q,Gt,Wt,bt)}function Au(S,L){var q=S.V,ct=S.Ba+S.c*S.C,Tt=L-S.C;if(C(L<=S.l.o),C(16>=Tt),0<Tt){var bt=S.l,Nt=S.Ta,Gt=S.Ua,Wt=bt.width;if(ds(S,Tt,q,ct),Tt=Gt=[Gt],C((q=S.C)<(ct=L)),C(bt.v<bt.va),ct>bt.o&&(ct=bt.o),q<bt.j){var ne=bt.j-q;q=bt.j,Tt[0]+=ne*Wt}if(q>=ct?q=0:(Tt[0]+=4*bt.v,bt.ka=q-bt.j,bt.U=bt.va-bt.v,bt.T=ct-q,q=1),q){if(Gt=Gt[0],11>(q=S.ca).S){var Ce=q.f.RGBA,tr=(ct=q.S,Tt=bt.U,bt=bt.T,ne=Ce.eb,Ce.A),er=bt;for(Ce=Ce.fb+S.Ma*Ce.A;0<er--;){var ze=Nt,Ir=Gt,_r=Tt,be=ne,Fe=Ce;switch(ct){case Nf:Du(ze,Ir,_r,be,Fe);break;case Pd:uc(ze,Ir,_r,be,Fe);break;case w1:uc(ze,Ir,_r,be,Fe),pa(be,Fe,0,_r,1,0);break;case Bg:Pc(ze,Ir,_r,be,Fe);break;case Ff:To(ze,Ir,_r,be,Fe,1);break;case x1:To(ze,Ir,_r,be,Fe,1),pa(be,Fe,0,_r,1,0);break;case Nd:To(ze,Ir,_r,be,Fe,0);break;case Eh:To(ze,Ir,_r,be,Fe,0),pa(be,Fe,1,_r,1,0);break;case Df:ju(ze,Ir,_r,be,Fe);break;case f0:ju(ze,Ir,_r,be,Fe),_h(be,Fe,_r,1,0);break;case Ug:Ic(ze,Ir,_r,be,Fe);break;default:C(0)}Gt+=Wt,Ce+=tr}S.Ma+=bt}else alert("todo:EmitRescaledRowsYUVA");C(S.Ma<=q.height)}}S.C=L,C(S.C<=S.i)}function Ml(S){var L;if(0<S.ua)return 0;for(L=0;L<S.Wb;++L){var q=S.Ya[L].G,ct=S.Ya[L].H;if(0<q[1][ct[1]+0].g||0<q[2][ct[2]+0].g||0<q[3][ct[3]+0].g)return 0}return 1}function Os(S,L,q,ct,Tt,bt){if(S.Z!=0){var Nt=S.qd,Gt=S.rd;for(C(fc[S.Z]!=null);L<q;++L)fc[S.Z](Nt,Gt,ct,Tt,ct,Tt,bt),Nt=ct,Gt=Tt,Tt+=bt;S.qd=Nt,S.rd=Gt}}function Se(S,L){var q=S.l.ma,ct=q.Z==0||q.Z==1?S.l.j:S.C;if(ct=S.C<ct?ct:S.C,C(L<=S.l.o),L>ct){var Tt=S.l.width,bt=q.ca,Nt=q.tb+Tt*ct,Gt=S.V,Wt=S.Ba+S.c*ct,ne=S.gc;C(S.ab==1),C(ne[0].hc==3),y1(ne[0],ct,L,Gt,Wt,bt,Nt),Os(q,ct,L,bt,Nt,Tt)}S.C=S.Ma=L}function Ga(S,L,q,ct,Tt,bt,Nt){var Gt=S.$/ct,Wt=S.$%ct,ne=S.m,Ce=S.s,tr=q+S.$,er=tr;Tt=q+ct*Tt;var ze=q+ct*bt,Ir=280+Ce.ua,_r=S.Pb?Gt:16777216,be=0<Ce.ua?Ce.Wa:null,Fe=Ce.wc,Cr=tr<ze?fn(Ce,Wt,Gt):null;C(S.C<bt),C(ze<=Tt);var jr=!1;t:for(;;){for(;jr||tr<ze;){var ur=0;if(Gt>=_r){var Ur=tr-q;C((_r=S).Pb),_r.wd=_r.m,_r.xd=Ur,0<_r.s.ua&&Sr(_r.s.Wa,_r.s.vb),_r=Gt+Nl}if(Wt&Fe||(Cr=fn(Ce,Wt,Gt)),C(Cr!=null),Cr.Qb&&(L[tr]=Cr.qb,jr=!0),!jr)if(ke(ne),Cr.jc){ur=ne,Ur=L;var En=tr,ii=Cr.pd[se(ur)&vl-1];C(Cr.jc),256>ii.g?(Ie(ur,ur.u+ii.g),Ur[En]=ii.value,ur=0):(Ie(ur,ur.u+ii.g-256),C(256<=ii.value),ur=ii.value),ur==0&&(jr=!0)}else ur=Ka(Cr.G[0],Cr.H[0],ne);if(ne.h)break;if(jr||256>ur){if(!jr)if(Cr.nd)L[tr]=(Cr.qb|ur<<8)>>>0;else{if(ke(ne),jr=Ka(Cr.G[1],Cr.H[1],ne),ke(ne),Ur=Ka(Cr.G[2],Cr.H[2],ne),En=Ka(Cr.G[3],Cr.H[3],ne),ne.h)break;L[tr]=(En<<24|jr<<16|ur<<8|Ur)>>>0}if(jr=!1,++tr,++Wt>=ct&&(Wt=0,++Gt,Nt!=null&&Gt<=bt&&!(Gt%16)&&Nt(S,Gt),be!=null))for(;er<tr;)ur=L[er++],be.X[(506832829*ur&4294967295)>>>be.Mb]=ur}else if(280>ur){if(ur=to(ur-256,ne),Ur=Ka(Cr.G[4],Cr.H[4],ne),ke(ne),Ur=us(ct,Ur=to(Ur,ne)),ne.h)break;if(tr-q<Ur||Tt-tr<ur)break t;for(En=0;En<ur;++En)L[tr+En]=L[tr+En-Ur];for(tr+=ur,Wt+=ur;Wt>=ct;)Wt-=ct,++Gt,Nt!=null&&Gt<=bt&&!(Gt%16)&&Nt(S,Gt);if(C(tr<=Tt),Wt&Fe&&(Cr=fn(Ce,Wt,Gt)),be!=null)for(;er<tr;)ur=L[er++],be.X[(506832829*ur&4294967295)>>>be.Mb]=ur}else{if(!(ur<Ir))break t;for(jr=ur-280,C(be!=null);er<tr;)ur=L[er++],be.X[(506832829*ur&4294967295)>>>be.Mb]=ur;ur=tr,C(!(jr>>>(Ur=be).Xa)),L[ur]=Ur.X[jr],jr=!0}jr||C(ne.h==me(ne))}if(S.Pb&&ne.h&&tr<Tt)C(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Sr(S.s.vb,S.s.Wa);else{if(ne.h)break t;Nt!=null&&Nt(S,Gt>bt?bt:Gt),S.a=0,S.$=tr-q}return 1}return S.a=3,0}function ha(S){C(S!=null),S.vc=null,S.yc=null,S.Ya=null;var L=S.Wa;L!=null&&(L.X=null),S.vb=null,C(S!=null)}function Zi(){var S=new ra;return S==null?null:(S.a=0,S.xb=xh,Ps("Predictor","VP8LPredictors"),Ps("Predictor","VP8LPredictors_C"),Ps("PredictorAdd","VP8LPredictorsAdd"),Ps("PredictorAdd","VP8LPredictorsAdd_C"),Id=Hi,Il=Xn,Du=mn,uc=Xa,ju=Bn,Ic=_a,Pc=Xi,Ue.VP8LMapColor32b=gh,Ue.VP8LMapColor8b=m1,S)}function Wi(S,L,q,ct,Tt){var bt=1,Nt=[S],Gt=[L],Wt=ct.m,ne=ct.s,Ce=null,tr=0;t:for(;;){if(q)for(;bt&&Or(Wt,1);){var er=Nt,ze=Gt,Ir=ct,_r=1,be=Ir.m,Fe=Ir.gc[Ir.ab],Cr=Or(be,2);if(Ir.Oc&1<<Cr)bt=0;else{switch(Ir.Oc|=1<<Cr,Fe.hc=Cr,Fe.Ea=er[0],Fe.nc=ze[0],Fe.K=[null],++Ir.ab,C(4>=Ir.ab),Cr){case 0:case 1:Fe.b=Or(be,3)+2,_r=Wi(Cn(Fe.Ea,Fe.b),Cn(Fe.nc,Fe.b),0,Ir,Fe.K),Fe.K=Fe.K[0];break;case 3:var jr,ur=Or(be,8)+1,Ur=16<ur?0:4<ur?1:2<ur?2:3;if(er[0]=Cn(Fe.Ea,Ur),Fe.b=Ur,jr=_r=Wi(ur,1,0,Ir,Fe.K)){var En,ii=ur,hr=Fe,No=1<<(8>>hr.b),Mo=B(No);if(Mo==null)jr=0;else{var vo=hr.K[0],uo=hr.w;for(Mo[0]=hr.K[0][0],En=1;En<1*ii;++En)Mo[En]=Yr(vo[uo+En],Mo[En-1]);for(;En<4*No;++En)Mo[En]=0;hr.K[0]=null,hr.K[0]=Mo,jr=1}}_r=jr;break;case 2:break;default:C(0)}bt=_r}}if(Nt=Nt[0],Gt=Gt[0],bt&&Or(Wt,1)&&!(bt=1<=(tr=Or(Wt,4))&&11>=tr)){ct.a=3;break t}var Zo;if(Zo=bt)e:{var qo,Li,Ja,gl=ct,Qa=Nt,yl=Gt,In=tr,Fl=q,ou=gl.m,ts=gl.s,Rs=[null],qs=1,sa=0,dc=t5[In];r:for(;;){if(Fl&&Or(ou,1)){var go=Or(ou,3)+2,Gc=Cn(Qa,go),p0=Cn(yl,go),Th=Gc*p0;if(!Wi(Gc,p0,0,gl,Rs))break r;for(Rs=Rs[0],ts.xc=go,qo=0;qo<Th;++qo){var v0=Rs[qo]>>8&65535;Rs[qo]=v0,v0>=qs&&(qs=v0+1)}}if(ou.h)break r;for(Li=0;5>Li;++Li){var Ba=kg[Li];!Li&&0<In&&(Ba+=1<<In),sa<Ba&&(sa=Ba)}var Uf=tt(qs*dc,re),$g=qs,b1=tt($g,Te);if(b1==null)var na=null;else C(65536>=$g),na=b1;var kf=B(sa);if(na==null||kf==null||Uf==null){gl.a=1;break r}var Ud=Uf;for(qo=Ja=0;qo<qs;++qo){var ku=na[qo],Oh=ku.G,zf=ku.H,kd=0,zd=1,Zg=0;for(Li=0;5>Li;++Li){Ba=kg[Li],Oh[Li]=Ud,zf[Li]=Ja,!Li&&0<In&&(Ba+=1<<In);i:{var pc,Bc=Ba,k0=gl,Vf=kf,L1=Ud,qg=Ja,I1=0,Uc=k0.m,Wf=Or(Uc,1);if(Z(Vf,0,0,Bc),Wf){var en=Or(Uc,1)+1,p5=Or(Uc,1),Jg=Or(Uc,p5==0?1:8);Vf[Jg]=1,en==2&&(Vf[Jg=Or(Uc,8)]=1);var Vd=1}else{var xn=B(19),gs=Or(Uc,4)+4;if(19<gs){k0.a=3;var Dl=0;break i}for(pc=0;pc<gs;++pc)xn[Qm[pc]]=Or(Uc,3);var So=void 0,kc=void 0,Na=k0,ml=xn,Wd=Bc,P1=Vf,vc=0,gc=Na.m,Qg=8,Ah=tt(128,re);n:for(;ee(Ah,0,7,ml,19);){if(Or(gc,1)){var t2=2+2*Or(gc,3);if((So=2+Or(gc,t2))>Wd)break n}else So=Wd;for(kc=0;kc<Wd&&So--;){ke(gc);var N1=Ah[0+(127&se(gc))];Ie(gc,gc.u+N1.g);var zc=N1.value;if(16>zc)P1[kc++]=zc,zc!=0&&(Qg=zc);else{var e2=zc==16,Yd=zc-16,v5=qm[Yd],r2=Or(gc,Zm[Yd])+v5;if(kc+r2>Wd)break n;for(var g5=e2?Qg:0;0<r2--;)P1[kc++]=g5}}vc=1;break n}vc||(Na.a=3),Vd=vc}(Vd=Vd&&!Uc.h)&&(I1=ee(L1,qg,8,Vf,Bc)),Vd&&I1!=0?Dl=I1:(k0.a=3,Dl=0)}if(Dl==0)break r;if(zd&&Jm[Li]==1&&(zd=Ud[Ja].g==0),kd+=Ud[Ja].g,Ja+=Dl,3>=Li){var g0,Hd=kf[0];for(g0=1;g0<Ba;++g0)kf[g0]>Hd&&(Hd=kf[g0]);Zg+=Hd}}if(ku.nd=zd,ku.Qb=0,zd&&(ku.qb=(Oh[3][zf[3]+0].value<<24|Oh[1][zf[1]+0].value<<16|Oh[2][zf[2]+0].value)>>>0,kd==0&&256>Oh[0][zf[0]+0].value&&(ku.Qb=1,ku.qb+=Oh[0][zf[0]+0].value<<8)),ku.jc=!ku.Qb&&6>Zg,ku.jc){var au,Vc=ku;for(au=0;au<vl;++au){var Wc=au,jl=Vc.pd[Wc],Xd=Vc.G[0][Vc.H[0]+Wc];256<=Xd.value?(jl.g=Xd.g+256,jl.value=Xd.value):(jl.g=0,jl.value=0,Wc>>=Ea(Xd,8,jl),Wc>>=Ea(Vc.G[1][Vc.H[1]+Wc],16,jl),Wc>>=Ea(Vc.G[2][Vc.H[2]+Wc],0,jl),Ea(Vc.G[3][Vc.H[3]+Wc],24,jl))}}}ts.vc=Rs,ts.Wb=qs,ts.Ya=na,ts.yc=Uf,Zo=1;break e}Zo=0}if(!(bt=Zo)){ct.a=3;break t}if(0<tr){if(ne.ua=1<<tr,!Hn(ne.Wa,tr)){ct.a=1,bt=0;break t}}else ne.ua=0;var F1=ct,yc=Nt,y5=Gt,Kd=F1.s,_l=Kd.xc;if(F1.c=yc,F1.i=y5,Kd.md=Cn(yc,_l),Kd.wc=_l==0?-1:(1<<_l)-1,q){ct.xb=n5;break t}if((Ce=B(Nt*Gt))==null){ct.a=1,bt=0;break t}bt=(bt=Ga(ct,Ce,0,Nt,Gt,Gt,null))&&!Wt.h;break t}return bt?(Tt!=null?Tt[0]=Ce:(C(Ce==null),C(q)),ct.$=0,q||ha(ne)):ha(ne),bt}function fa(S,L){var q=S.c*S.i,ct=q+L+16*L;return C(S.c<=L),S.V=B(ct),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+q+L,1)}function ul(S,L){var q=S.C,ct=L-q,Tt=S.V,bt=S.Ba+S.c*q;for(C(L<=S.l.o);0<ct;){var Nt=16<ct?16:ct,Gt=S.l.ma,Wt=S.l.width,ne=Wt*Nt,Ce=Gt.ca,tr=Gt.tb+Wt*q,er=S.Ta,ze=S.Ua;ds(S,Nt,Tt,bt),_1(er,ze,Ce,tr,ne),Os(Gt,q,q+Nt,Ce,tr,Wt),ct-=Nt,Tt+=Nt*S.c,q+=Nt}C(q==L),S.C=S.Ma=L}function ba(){this.ub=this.yd=this.td=this.Rb=0}function Kl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $a(){this.Fb=this.Bb=this.Cb=0,this.Zb=B(4),this.Lb=B(4)}function Xs(){this.Yb=function(){var S=[];return function L(q,ct,Tt){for(var bt=Tt[ct],Nt=0;Nt<bt&&(q.push(Tt.length>ct+1?[]:0),!(Tt.length<ct+1));Nt++)L(q[Nt],ct+1,Tt)}(S,0,[3,11]),S}()}function Fs(){this.jb=B(3),this.Wc=at([4,8],Xs),this.Xc=at([4,17],Xs)}function Rl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new B(4),this.od=new B(4)}function $l(){this.ld=this.La=this.dd=this.tc=0}function Mu(){this.Na=this.la=0}function Zl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cl(){this.ad=B(384),this.Za=0,this.Ob=B(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function oc(){this.uc=this.M=this.Nb=0,this.wa=Array(new $l),this.Y=0,this.ya=Array(new cl),this.aa=0,this.l=new Ru}function ac(){this.y=B(16),this.f=B(8),this.ea=B(8)}function a0(){this.cb=this.a=0,this.sc="",this.m=new On,this.Od=new ba,this.Kc=new Kl,this.ed=new Rl,this.Qa=new $a,this.Ic=this.$c=this.Aa=0,this.D=new oc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=tt(8,On),this.ia=0,this.pb=tt(4,Zl),this.Pa=new Fs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ac),this.Hd=0,this.rb=Array(new Mu),this.sb=0,this.wa=Array(new $l),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cl),this.L=this.aa=0,this.gd=at([4,2],$l),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ru(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sc(){var S=new a0;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,wh||(wh=lc)),S}function Yo(S,L,q){return S.a==0&&(S.a=L,S.sc=q,S.cb=0),0}function bc(S,L,q){return 3<=q&&S[L+0]==157&&S[L+1]==1&&S[L+2]==42}function Ds(S,L){if(S==null)return 0;if(S.a=0,S.sc="OK",L==null)return Yo(S,2,"null VP8Io passed to VP8GetHeaders()");var q=L.data,ct=L.w,Tt=L.ha;if(4>Tt)return Yo(S,7,"Truncated header.");var bt=q[ct+0]|q[ct+1]<<8|q[ct+2]<<16,Nt=S.Od;if(Nt.Rb=!(1&bt),Nt.td=bt>>1&7,Nt.yd=bt>>4&1,Nt.ub=bt>>5,3<Nt.td)return Yo(S,3,"Incorrect keyframe parameters.");if(!Nt.yd)return Yo(S,4,"Frame not displayable.");ct+=3,Tt-=3;var Gt=S.Kc;if(Nt.Rb){if(7>Tt)return Yo(S,7,"cannot parse picture header");if(!bc(q,ct,Tt))return Yo(S,3,"Bad code word");Gt.c=16383&(q[ct+4]<<8|q[ct+3]),Gt.Td=q[ct+4]>>6,Gt.i=16383&(q[ct+6]<<8|q[ct+5]),Gt.Ud=q[ct+6]>>6,ct+=7,Tt-=7,S.za=Gt.c+15>>4,S.Ub=Gt.i+15>>4,L.width=Gt.c,L.height=Gt.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,Z((bt=S.Pa).jb,0,255,bt.jb.length),C((bt=S.Qa)!=null),bt.Cb=0,bt.Bb=0,bt.Fb=1,Z(bt.Zb,0,0,bt.Zb.length),Z(bt.Lb,0,0,bt.Lb)}if(Nt.ub>Tt)return Yo(S,7,"bad partition length");wr(bt=S.m,q,ct,Nt.ub),ct+=Nt.ub,Tt-=Nt.ub,Nt.Rb&&(Gt.Ld=lr(bt),Gt.Kd=lr(bt)),Gt=S.Qa;var Wt,ne=S.Pa;if(C(bt!=null),C(Gt!=null),Gt.Cb=lr(bt),Gt.Cb){if(Gt.Bb=lr(bt),lr(bt)){for(Gt.Fb=lr(bt),Wt=0;4>Wt;++Wt)Gt.Zb[Wt]=lr(bt)?Fr(bt,7):0;for(Wt=0;4>Wt;++Wt)Gt.Lb[Wt]=lr(bt)?Fr(bt,6):0}if(Gt.Bb)for(Wt=0;3>Wt;++Wt)ne.jb[Wt]=lr(bt)?gr(bt,8):255}else Gt.Bb=0;if(bt.Ka)return Yo(S,3,"cannot parse segment header");if((Gt=S.ed).zd=lr(bt),Gt.Tb=gr(bt,6),Gt.wb=gr(bt,3),Gt.Pc=lr(bt),Gt.Pc&&lr(bt)){for(ne=0;4>ne;++ne)lr(bt)&&(Gt.vd[ne]=Fr(bt,6));for(ne=0;4>ne;++ne)lr(bt)&&(Gt.od[ne]=Fr(bt,6))}if(S.L=Gt.Tb==0?0:Gt.zd?1:2,bt.Ka)return Yo(S,3,"cannot parse filter header");var Ce=Tt;if(Tt=Wt=ct,ct=Wt+Ce,Gt=Ce,S.Xb=(1<<gr(S.m,2))-1,Ce<3*(ne=S.Xb))q=7;else{for(Wt+=3*ne,Gt-=3*ne,Ce=0;Ce<ne;++Ce){var tr=q[Tt+0]|q[Tt+1]<<8|q[Tt+2]<<16;tr>Gt&&(tr=Gt),wr(S.Jc[+Ce],q,Wt,tr),Wt+=tr,Gt-=tr,Tt+=3}wr(S.Jc[+ne],q,Wt,Gt),q=Wt<ct?0:5}if(q!=0)return Yo(S,q,"cannot parse partitions");for(q=gr(Wt=S.m,7),Tt=lr(Wt)?Fr(Wt,4):0,ct=lr(Wt)?Fr(Wt,4):0,Gt=lr(Wt)?Fr(Wt,4):0,ne=lr(Wt)?Fr(Wt,4):0,Wt=lr(Wt)?Fr(Wt,4):0,Ce=S.Qa,tr=0;4>tr;++tr){if(Ce.Cb){var er=Ce.Zb[tr];Ce.Fb||(er+=q)}else{if(0<tr){S.pb[tr]=S.pb[0];continue}er=q}var ze=S.pb[tr];ze.Sc[0]=Sh[ps(er+Tt,127)],ze.Sc[1]=Fd[ps(er+0,127)],ze.Eb[0]=2*Sh[ps(er+ct,127)],ze.Eb[1]=101581*Fd[ps(er+Gt,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=Sh[ps(er+ne,117)],ze.Qc[1]=Fd[ps(er+Wt,127)],ze.lc=er+Wt}if(!Nt.Rb)return Yo(S,4,"Not a key frame.");for(lr(bt),Nt=S.Pa,q=0;4>q;++q){for(Tt=0;8>Tt;++Tt)for(ct=0;3>ct;++ct)for(Gt=0;11>Gt;++Gt)ne=ar(bt,M1[q][Tt][ct][Gt])?gr(bt,8):e5[q][Tt][ct][Gt],Nt.Wc[q][Tt].Yb[ct][Gt]=ne;for(Tt=0;17>Tt;++Tt)Nt.Xc[q][Tt]=Nt.Wc[q][r5[Tt]]}return S.kc=lr(bt),S.kc&&(S.Bd=gr(bt,8)),S.cb=1}function lc(S,L,q,ct,Tt,bt,Nt){var Gt=L[Tt].Yb[q];for(q=0;16>Tt;++Tt){if(!ar(S,Gt[q+0]))return Tt;for(;!ar(S,Gt[q+1]);)if(Gt=L[++Tt].Yb[0],q=0,Tt==16)return 16;var Wt=L[Tt+1].Yb;if(ar(S,Gt[q+2])){var ne=S,Ce=0;if(ar(ne,(er=Gt)[(tr=q)+3]))if(ar(ne,er[tr+6])){for(Gt=0,tr=2*(Ce=ar(ne,er[tr+8]))+(er=ar(ne,er[tr+9+Ce])),Ce=0,er=zg[tr];er[Gt];++Gt)Ce+=Ce+ar(ne,er[Gt]);Ce+=3+(8<<tr)}else ar(ne,er[tr+7])?(Ce=7+2*ar(ne,165),Ce+=ar(ne,145)):Ce=5+ar(ne,159);else Ce=ar(ne,er[tr+4])?3+ar(ne,er[tr+5]):2;Gt=Wt[2]}else Ce=1,Gt=Wt[1];Wt=Nt+O1[Tt],0>(ne=S).b&&rr(ne);var tr,er=ne.b,ze=(tr=ne.Ca>>1)-(ne.I>>er)>>31;--ne.b,ne.Ca+=ze,ne.Ca|=1,ne.I-=(tr+1&ze)<<er,bt[Wt]=((Ce^ze)-ze)*ct[(0<Tt)+0]}return 16}function ql(S){var L=S.rb[S.sb-1];L.la=0,L.Na=0,Z(S.zc,0,0,S.zc.length),S.ja=0}function s0(S,L){if(S==null)return 0;if(L==null)return Yo(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!Ds(S,L))return 0;if(C(S.cb),L.ac==null||L.ac(L)){L.ob&&(S.L=0);var q=Bd[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=L.v-q>>4,S.zb=L.j-q>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=L.o+15+q>>4,S.Hb=L.va+15+q>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var ct=S.ed;for(q=0;4>q;++q){var Tt;if(S.Qa.Cb){var bt=S.Qa.Lb[q];S.Qa.Fb||(bt+=ct.Tb)}else bt=ct.Tb;for(Tt=0;1>=Tt;++Tt){var Nt=S.gd[q][Tt],Gt=bt;if(ct.Pc&&(Gt+=ct.vd[0],Tt&&(Gt+=ct.od[0])),0<(Gt=0>Gt?0:63<Gt?63:Gt)){var Wt=Gt;0<ct.wb&&(Wt=4<ct.wb?Wt>>2:Wt>>1)>9-ct.wb&&(Wt=9-ct.wb),1>Wt&&(Wt=1),Nt.dd=Wt,Nt.tc=2*Gt+Wt,Nt.ld=40<=Gt?2:15<=Gt?1:0}else Nt.tc=0;Nt.La=Tt}}}q=0}else Yo(S,6,"Frame setup failed"),q=S.a;if(q=q==0){if(q){S.$c=0,0<S.Aa||(S.Ic=d5);t:{q=S.Ic,ct=4*(Wt=S.za);var ne=32*Wt,Ce=Wt+1,tr=0<S.L?Wt*(0<S.Aa?2:1):0,er=(S.Aa==2?2:1)*Wt;if((Nt=ct+832+(Tt=3*(16*q+Bd[S.L])/2*ne)+(bt=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=Nt)q=0;else{if(Nt>S.Vb){if(S.Vb=0,S.Ec=B(Nt),S.Fc=0,S.Ec==null){q=Yo(S,1,"no memory during frame initialization.");break t}S.Vb=Nt}Nt=S.Ec,Gt=S.Fc,S.Ac=Nt,S.Bc=Gt,Gt+=ct,S.Gd=tt(ne,ac),S.Hd=0,S.rb=tt(Ce+1,Mu),S.sb=1,S.wa=tr?tt(tr,$l):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=Wt),C(!0),S.oc=Nt,S.pc=Gt,Gt+=832,S.ya=tt(er,cl),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=Wt),S.R=16*Wt,S.B=8*Wt,Wt=(ne=Bd[S.L])*S.R,ne=ne/2*S.B,S.sa=Nt,S.ta=Gt+Wt,S.qa=S.sa,S.ra=S.ta+16*q*S.R+ne,S.Ha=S.qa,S.Ia=S.ra+8*q*S.B+ne,S.$c=0,Gt+=Tt,S.mb=bt?Nt:null,S.nb=bt?Gt:null,C(Gt+bt<=S.Fc+S.Vb),ql(S),Z(S.Ac,S.Bc,0,ct),q=1}}if(q){if(L.ka=0,L.y=S.sa,L.O=S.ta,L.f=S.qa,L.N=S.ra,L.ea=S.Ha,L.Vd=S.Ia,L.fa=S.R,L.Rc=S.B,L.F=null,L.J=0,!Gg){for(q=-255;255>=q;++q)Dg[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)jg[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)E1[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)lo[255+q]=0>q?0:255<q?255:q;Gg=1}fo=l0,yh=bu,Nc=Lc,Gu=Jl,Fc=Cl,eu=Cu,Dc=Jr,mh=or,cc=Ni,h0=xi,Lf=vn,ru=Qn,jc=Yi,Ho=qi,po=$e,Pa=Je,qa=pr,hc=Hr,Uu[0]=U,Uu[1]=zn,Uu[2]=Ll,Uu[3]=D,Uu[4]=Q,Uu[5]=mt,Uu[6]=ut,Uu[7]=Mt,Uu[8]=T,Uu[9]=x,Bu[0]=dl,Bu[1]=Ks,Bu[2]=$s,Bu[3]=fl,Bu[4]=Eo,Bu[5]=pl,Bu[6]=bl,iu[0]=et,iu[1]=Iu,iu[2]=R,iu[3]=Y,iu[4]=Ot,iu[5]=dt,iu[6]=Et,q=1}else q=0}q&&(q=function(ze,Ir){for(ze.M=0;ze.M<ze.Va;++ze.M){var _r,be=ze.Jc[ze.M&ze.Xb],Fe=ze.m,Cr=ze;for(_r=0;_r<Cr.za;++_r){var jr=Fe,ur=Cr,Ur=ur.Ac,En=ur.Bc+4*_r,ii=ur.zc,hr=ur.ya[ur.aa+_r];if(ur.Qa.Bb?hr.$b=ar(jr,ur.Pa.jb[0])?2+ar(jr,ur.Pa.jb[2]):ar(jr,ur.Pa.jb[1]):hr.$b=0,ur.kc&&(hr.Ad=ar(jr,ur.Bd)),hr.Za=!ar(jr,145)+0,hr.Za){var No=hr.Ob,Mo=0;for(ur=0;4>ur;++ur){var vo,uo=ii[0+ur];for(vo=0;4>vo;++vo){uo=A1[Ur[En+vo]][uo];for(var Zo=jf[ar(jr,uo[0])];0<Zo;)Zo=jf[2*Zo+ar(jr,uo[Zo])];uo=-Zo,Ur[En+vo]=uo}G(No,Mo,Ur,En,4),Mo+=4,ii[0+ur]=uo}}else uo=ar(jr,156)?ar(jr,128)?1:3:ar(jr,163)?2:0,hr.Ob[0]=uo,Z(Ur,En,uo,4),Z(ii,0,uo,4);hr.Dd=ar(jr,142)?ar(jr,114)?ar(jr,183)?1:3:2:0}if(Cr.m.Ka)return Yo(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(Cr=be,jr=(Fe=ze).rb[Fe.sb-1],Ur=Fe.rb[Fe.sb+Fe.ja],_r=Fe.ya[Fe.aa+Fe.ja],En=Fe.kc?_r.Ad:0)jr.la=Ur.la=0,_r.Za||(jr.Na=Ur.Na=0),_r.Hc=0,_r.Gc=0,_r.ia=0;else{var qo,Li;if(jr=Ur,Ur=Cr,En=Fe.Pa.Xc,ii=Fe.ya[Fe.aa+Fe.ja],hr=Fe.pb[ii.$b],ur=ii.ad,No=0,Mo=Fe.rb[Fe.sb-1],uo=vo=0,Z(ur,No,0,384),ii.Za)var Ja=0,gl=En[3];else{Zo=B(16);var Qa=jr.Na+Mo.Na;if(Qa=wh(Ur,En[1],Qa,hr.Eb,0,Zo,0),jr.Na=Mo.Na=(0<Qa)+0,1<Qa)fo(Zo,0,ur,No);else{var yl=Zo[0]+3>>3;for(Zo=0;256>Zo;Zo+=16)ur[No+Zo]=yl}Ja=1,gl=En[0]}var In=15&jr.la,Fl=15&Mo.la;for(Zo=0;4>Zo;++Zo){var ou=1&Fl;for(yl=Li=0;4>yl;++yl)In=In>>1|(ou=(Qa=wh(Ur,gl,Qa=ou+(1&In),hr.Sc,Ja,ur,No))>Ja)<<7,Li=Li<<2|(3<Qa?3:1<Qa?2:ur[No+0]!=0),No+=16;In>>=4,Fl=Fl>>1|ou<<7,vo=(vo<<8|Li)>>>0}for(gl=In,Ja=Fl>>4,qo=0;4>qo;qo+=2){for(Li=0,In=jr.la>>4+qo,Fl=Mo.la>>4+qo,Zo=0;2>Zo;++Zo){for(ou=1&Fl,yl=0;2>yl;++yl)Qa=ou+(1&In),In=In>>1|(ou=0<(Qa=wh(Ur,En[2],Qa,hr.Qc,0,ur,No)))<<3,Li=Li<<2|(3<Qa?3:1<Qa?2:ur[No+0]!=0),No+=16;In>>=2,Fl=Fl>>1|ou<<5}uo|=Li<<4*qo,gl|=In<<4<<qo,Ja|=(240&Fl)<<qo}jr.la=gl,Mo.la=Ja,ii.Hc=vo,ii.Gc=uo,ii.ia=43690&uo?0:hr.ia,En=!(vo|uo)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[_r.$b][_r.Za],Fe.wa[Fe.Y+Fe.ja].La|=!En),Cr.Ka)return Yo(ze,7,"Premature end-of-file encountered.")}if(ql(ze),Fe=Ir,Cr=1,_r=(be=ze).D,jr=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)t:{if(_r.M=be.M,_r.uc=jr,Rf(be,_r),Cr=1,_r=(Li=be.D).Nb,jr=(uo=Bd[be.L])*be.R,Ur=uo/2*be.B,Zo=16*_r*be.R,yl=8*_r*be.B,En=be.sa,ii=be.ta-jr+Zo,hr=be.qa,ur=be.ra-Ur+yl,No=be.Ha,Mo=be.Ia-Ur+yl,Fl=(In=Li.M)==0,vo=In>=be.Va-1,be.Aa==2&&Rf(be,Li),Li.uc)for(ou=(Qa=be).D.M,C(Qa.D.uc),Li=Qa.yb;Li<Qa.Hb;++Li){Ja=Li,gl=ou;var ts=(Rs=(Ba=Qa).D).Nb;qo=Ba.R;var Rs=Rs.wa[Rs.Y+Ja],qs=Ba.sa,sa=Ba.ta+16*ts*qo+16*Ja,dc=Rs.dd,go=Rs.tc;if(go!=0)if(C(3<=go),Ba.L==1)0<Ja&&Pa(qs,sa,qo,go+4),Rs.La&&hc(qs,sa,qo,go),0<gl&&po(qs,sa,qo,go+4),Rs.La&&qa(qs,sa,qo,go);else{var Gc=Ba.B,p0=Ba.qa,Th=Ba.ra+8*ts*Gc+8*Ja,v0=Ba.Ha,Ba=Ba.Ia+8*ts*Gc+8*Ja;ts=Rs.ld,0<Ja&&(mh(qs,sa,qo,go+4,dc,ts),h0(p0,Th,v0,Ba,Gc,go+4,dc,ts)),Rs.La&&(ru(qs,sa,qo,go,dc,ts),Ho(p0,Th,v0,Ba,Gc,go,dc,ts)),0<gl&&(Dc(qs,sa,qo,go+4,dc,ts),cc(p0,Th,v0,Ba,Gc,go+4,dc,ts)),Rs.La&&(Lf(qs,sa,qo,go,dc,ts),jc(p0,Th,v0,Ba,Gc,go,dc,ts))}}if(be.ia&&alert("todo:DitherRow"),Fe.put!=null){if(Li=16*In,In=16*(In+1),Fl?(Fe.y=be.sa,Fe.O=be.ta+Zo,Fe.f=be.qa,Fe.N=be.ra+yl,Fe.ea=be.Ha,Fe.W=be.Ia+yl):(Li-=uo,Fe.y=En,Fe.O=ii,Fe.f=hr,Fe.N=ur,Fe.ea=No,Fe.W=Mo),vo||(In-=uo),In>Fe.o&&(In=Fe.o),Fe.F=null,Fe.J=null,be.Fa!=null&&0<be.Fa.length&&Li<In&&(Fe.J=eo(be,Fe,Li,In-Li),Fe.F=be.mb,Fe.F==null&&Fe.F.length==0)){Cr=Yo(be,3,"Could not decode alpha data.");break t}Li<Fe.j&&(uo=Fe.j-Li,Li=Fe.j,C(!(1&uo)),Fe.O+=be.R*uo,Fe.N+=be.B*(uo>>1),Fe.W+=be.B*(uo>>1),Fe.F!=null&&(Fe.J+=Fe.width*uo)),Li<In&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=Li-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=In-Li,Cr=Fe.put(Fe))}_r+1!=be.Ic||vo||(G(be.sa,be.ta-jr,En,ii+16*be.R,jr),G(be.qa,be.ra-Ur,hr,ur+8*be.B,Ur),G(be.Ha,be.Ia-Ur,No,Mo+8*be.B,Ur))}if(!Cr)return Yo(ze,6,"Output aborted.")}return 1}(S,L)),L.bc!=null&&L.bc(L),q&=1}return q?(S.cb=0,q):0}function As(S,L,q,ct,Tt){Tt=S[L+q+32*ct]+(Tt>>3),S[L+q+32*ct]=-256&Tt?0>Tt?0:255:Tt}function js(S,L,q,ct,Tt,bt){As(S,L,0,q,ct+Tt),As(S,L,1,q,ct+bt),As(S,L,2,q,ct-bt),As(S,L,3,q,ct-Tt)}function da(S){return(20091*S>>16)+S}function hl(S,L,q,ct){var Tt,bt=0,Nt=B(16);for(Tt=0;4>Tt;++Tt){var Gt=S[L+0]+S[L+8],Wt=S[L+0]-S[L+8],ne=(35468*S[L+4]>>16)-da(S[L+12]),Ce=da(S[L+4])+(35468*S[L+12]>>16);Nt[bt+0]=Gt+Ce,Nt[bt+1]=Wt+ne,Nt[bt+2]=Wt-ne,Nt[bt+3]=Gt-Ce,bt+=4,L++}for(Tt=bt=0;4>Tt;++Tt)Gt=(S=Nt[bt+0]+4)+Nt[bt+8],Wt=S-Nt[bt+8],ne=(35468*Nt[bt+4]>>16)-da(Nt[bt+12]),As(q,ct,0,0,Gt+(Ce=da(Nt[bt+4])+(35468*Nt[bt+12]>>16))),As(q,ct,1,0,Wt+ne),As(q,ct,2,0,Wt-ne),As(q,ct,3,0,Gt-Ce),bt++,ct+=32}function Cu(S,L,q,ct){var Tt=S[L+0]+4,bt=35468*S[L+4]>>16,Nt=da(S[L+4]),Gt=35468*S[L+1]>>16;js(q,ct,0,Tt+Nt,S=da(S[L+1]),Gt),js(q,ct,1,Tt+bt,S,Gt),js(q,ct,2,Tt-bt,S,Gt),js(q,ct,3,Tt-Nt,S,Gt)}function bu(S,L,q,ct,Tt){hl(S,L,q,ct),Tt&&hl(S,L+16,q,ct+4)}function Lc(S,L,q,ct){yh(S,L+0,q,ct,1),yh(S,L+32,q,ct+128,1)}function Jl(S,L,q,ct){var Tt;for(S=S[L+0]+4,Tt=0;4>Tt;++Tt)for(L=0;4>L;++L)As(q,ct,L,Tt,S)}function Cl(S,L,q,ct){S[L+0]&&Gu(S,L+0,q,ct),S[L+16]&&Gu(S,L+16,q,ct+4),S[L+32]&&Gu(S,L+32,q,ct+128),S[L+48]&&Gu(S,L+48,q,ct+128+4)}function l0(S,L,q,ct){var Tt,bt=B(16);for(Tt=0;4>Tt;++Tt){var Nt=S[L+0+Tt]+S[L+12+Tt],Gt=S[L+4+Tt]+S[L+8+Tt],Wt=S[L+4+Tt]-S[L+8+Tt],ne=S[L+0+Tt]-S[L+12+Tt];bt[0+Tt]=Nt+Gt,bt[8+Tt]=Nt-Gt,bt[4+Tt]=ne+Wt,bt[12+Tt]=ne-Wt}for(Tt=0;4>Tt;++Tt)Nt=(S=bt[0+4*Tt]+3)+bt[3+4*Tt],Gt=bt[1+4*Tt]+bt[2+4*Tt],Wt=bt[1+4*Tt]-bt[2+4*Tt],ne=S-bt[3+4*Tt],q[ct+0]=Nt+Gt>>3,q[ct+16]=ne+Wt>>3,q[ct+32]=Nt-Gt>>3,q[ct+48]=ne-Wt>>3,ct+=64}function Lu(S,L,q){var ct,Tt=L-32,bt=Pl,Nt=255-S[Tt-1];for(ct=0;ct<q;++ct){var Gt,Wt=bt,ne=Nt+S[L-1];for(Gt=0;Gt<q;++Gt)S[L+Gt]=Wt[ne+S[Tt+Gt]];L+=32}}function zn(S,L){Lu(S,L,4)}function Iu(S,L){Lu(S,L,8)}function Ks(S,L){Lu(S,L,16)}function $s(S,L){var q;for(q=0;16>q;++q)G(S,L+32*q,S,L-32,16)}function fl(S,L){var q;for(q=16;0<q;--q)Z(S,L,S[L-1],16),L+=32}function Ql(S,L,q){var ct;for(ct=0;16>ct;++ct)Z(L,q+32*ct,S,16)}function dl(S,L){var q,ct=16;for(q=0;16>q;++q)ct+=S[L-1+32*q]+S[L+q-32];Ql(ct>>5,S,L)}function Eo(S,L){var q,ct=8;for(q=0;16>q;++q)ct+=S[L-1+32*q];Ql(ct>>4,S,L)}function pl(S,L){var q,ct=8;for(q=0;16>q;++q)ct+=S[L+q-32];Ql(ct>>4,S,L)}function bl(S,L){Ql(128,S,L)}function Jn(S,L,q){return S+2*L+q+2>>2}function Ll(S,L){var q,ct=L-32;for(ct=new Uint8Array([Jn(S[ct-1],S[ct+0],S[ct+1]),Jn(S[ct+0],S[ct+1],S[ct+2]),Jn(S[ct+1],S[ct+2],S[ct+3]),Jn(S[ct+2],S[ct+3],S[ct+4])]),q=0;4>q;++q)G(S,L+32*q,ct,0,ct.length)}function D(S,L){var q=S[L-1],ct=S[L-1+32],Tt=S[L-1+64],bt=S[L-1+96];tn(S,L+0,16843009*Jn(S[L-1-32],q,ct)),tn(S,L+32,16843009*Jn(q,ct,Tt)),tn(S,L+64,16843009*Jn(ct,Tt,bt)),tn(S,L+96,16843009*Jn(Tt,bt,bt))}function U(S,L){var q,ct=4;for(q=0;4>q;++q)ct+=S[L+q-32]+S[L-1+32*q];for(ct>>=3,q=0;4>q;++q)Z(S,L+32*q,ct,4)}function Q(S,L){var q=S[L-1+0],ct=S[L-1+32],Tt=S[L-1+64],bt=S[L-1-32],Nt=S[L+0-32],Gt=S[L+1-32],Wt=S[L+2-32],ne=S[L+3-32];S[L+0+96]=Jn(ct,Tt,S[L-1+96]),S[L+1+96]=S[L+0+64]=Jn(q,ct,Tt),S[L+2+96]=S[L+1+64]=S[L+0+32]=Jn(bt,q,ct),S[L+3+96]=S[L+2+64]=S[L+1+32]=S[L+0+0]=Jn(Nt,bt,q),S[L+3+64]=S[L+2+32]=S[L+1+0]=Jn(Gt,Nt,bt),S[L+3+32]=S[L+2+0]=Jn(Wt,Gt,Nt),S[L+3+0]=Jn(ne,Wt,Gt)}function ut(S,L){var q=S[L+1-32],ct=S[L+2-32],Tt=S[L+3-32],bt=S[L+4-32],Nt=S[L+5-32],Gt=S[L+6-32],Wt=S[L+7-32];S[L+0+0]=Jn(S[L+0-32],q,ct),S[L+1+0]=S[L+0+32]=Jn(q,ct,Tt),S[L+2+0]=S[L+1+32]=S[L+0+64]=Jn(ct,Tt,bt),S[L+3+0]=S[L+2+32]=S[L+1+64]=S[L+0+96]=Jn(Tt,bt,Nt),S[L+3+32]=S[L+2+64]=S[L+1+96]=Jn(bt,Nt,Gt),S[L+3+64]=S[L+2+96]=Jn(Nt,Gt,Wt),S[L+3+96]=Jn(Gt,Wt,Wt)}function mt(S,L){var q=S[L-1+0],ct=S[L-1+32],Tt=S[L-1+64],bt=S[L-1-32],Nt=S[L+0-32],Gt=S[L+1-32],Wt=S[L+2-32],ne=S[L+3-32];S[L+0+0]=S[L+1+64]=bt+Nt+1>>1,S[L+1+0]=S[L+2+64]=Nt+Gt+1>>1,S[L+2+0]=S[L+3+64]=Gt+Wt+1>>1,S[L+3+0]=Wt+ne+1>>1,S[L+0+96]=Jn(Tt,ct,q),S[L+0+64]=Jn(ct,q,bt),S[L+0+32]=S[L+1+96]=Jn(q,bt,Nt),S[L+1+32]=S[L+2+96]=Jn(bt,Nt,Gt),S[L+2+32]=S[L+3+96]=Jn(Nt,Gt,Wt),S[L+3+32]=Jn(Gt,Wt,ne)}function Mt(S,L){var q=S[L+0-32],ct=S[L+1-32],Tt=S[L+2-32],bt=S[L+3-32],Nt=S[L+4-32],Gt=S[L+5-32],Wt=S[L+6-32],ne=S[L+7-32];S[L+0+0]=q+ct+1>>1,S[L+1+0]=S[L+0+64]=ct+Tt+1>>1,S[L+2+0]=S[L+1+64]=Tt+bt+1>>1,S[L+3+0]=S[L+2+64]=bt+Nt+1>>1,S[L+0+32]=Jn(q,ct,Tt),S[L+1+32]=S[L+0+96]=Jn(ct,Tt,bt),S[L+2+32]=S[L+1+96]=Jn(Tt,bt,Nt),S[L+3+32]=S[L+2+96]=Jn(bt,Nt,Gt),S[L+3+64]=Jn(Nt,Gt,Wt),S[L+3+96]=Jn(Gt,Wt,ne)}function x(S,L){var q=S[L-1+0],ct=S[L-1+32],Tt=S[L-1+64],bt=S[L-1+96];S[L+0+0]=q+ct+1>>1,S[L+2+0]=S[L+0+32]=ct+Tt+1>>1,S[L+2+32]=S[L+0+64]=Tt+bt+1>>1,S[L+1+0]=Jn(q,ct,Tt),S[L+3+0]=S[L+1+32]=Jn(ct,Tt,bt),S[L+3+32]=S[L+1+64]=Jn(Tt,bt,bt),S[L+3+64]=S[L+2+64]=S[L+0+96]=S[L+1+96]=S[L+2+96]=S[L+3+96]=bt}function T(S,L){var q=S[L-1+0],ct=S[L-1+32],Tt=S[L-1+64],bt=S[L-1+96],Nt=S[L-1-32],Gt=S[L+0-32],Wt=S[L+1-32],ne=S[L+2-32];S[L+0+0]=S[L+2+32]=q+Nt+1>>1,S[L+0+32]=S[L+2+64]=ct+q+1>>1,S[L+0+64]=S[L+2+96]=Tt+ct+1>>1,S[L+0+96]=bt+Tt+1>>1,S[L+3+0]=Jn(Gt,Wt,ne),S[L+2+0]=Jn(Nt,Gt,Wt),S[L+1+0]=S[L+3+32]=Jn(q,Nt,Gt),S[L+1+32]=S[L+3+64]=Jn(ct,q,Nt),S[L+1+64]=S[L+3+96]=Jn(Tt,ct,q),S[L+1+96]=Jn(bt,Tt,ct)}function R(S,L){var q;for(q=0;8>q;++q)G(S,L+32*q,S,L-32,8)}function Y(S,L){var q;for(q=0;8>q;++q)Z(S,L,S[L-1],8),L+=32}function rt(S,L,q){var ct;for(ct=0;8>ct;++ct)Z(L,q+32*ct,S,8)}function et(S,L){var q,ct=8;for(q=0;8>q;++q)ct+=S[L+q-32]+S[L-1+32*q];rt(ct>>4,S,L)}function dt(S,L){var q,ct=4;for(q=0;8>q;++q)ct+=S[L+q-32];rt(ct>>3,S,L)}function Ot(S,L){var q,ct=4;for(q=0;8>q;++q)ct+=S[L-1+32*q];rt(ct>>3,S,L)}function Et(S,L){rt(128,S,L)}function ie(S,L,q){var ct=S[L-q],Tt=S[L+0],bt=3*(Tt-ct)+S1[1020+S[L-2*q]-S[L+q]],Nt=Pf[112+(bt+4>>3)];S[L-q]=Pl[255+ct+Pf[112+(bt+3>>3)]],S[L+0]=Pl[255+Tt-Nt]}function _e(S,L,q,ct){var Tt=S[L+0],bt=S[L+q];return nu[255+S[L-2*q]-S[L-q]]>ct||nu[255+bt-Tt]>ct}function ce(S,L,q,ct){return 4*nu[255+S[L-q]-S[L+0]]+nu[255+S[L-2*q]-S[L+q]]<=ct}function De(S,L,q,ct,Tt){var bt=S[L-3*q],Nt=S[L-2*q],Gt=S[L-q],Wt=S[L+0],ne=S[L+q],Ce=S[L+2*q],tr=S[L+3*q];return 4*nu[255+Gt-Wt]+nu[255+Nt-ne]>ct?0:nu[255+S[L-4*q]-bt]<=Tt&&nu[255+bt-Nt]<=Tt&&nu[255+Nt-Gt]<=Tt&&nu[255+tr-Ce]<=Tt&&nu[255+Ce-ne]<=Tt&&nu[255+ne-Wt]<=Tt}function $e(S,L,q,ct){var Tt=2*ct+1;for(ct=0;16>ct;++ct)ce(S,L+ct,q,Tt)&&ie(S,L+ct,q)}function Je(S,L,q,ct){var Tt=2*ct+1;for(ct=0;16>ct;++ct)ce(S,L+ct*q,1,Tt)&&ie(S,L+ct*q,1)}function pr(S,L,q,ct){var Tt;for(Tt=3;0<Tt;--Tt)$e(S,L+=4*q,q,ct)}function Hr(S,L,q,ct){var Tt;for(Tt=3;0<Tt;--Tt)Je(S,L+=4,q,ct)}function on(S,L,q,ct,Tt,bt,Nt,Gt){for(bt=2*bt+1;0<Tt--;){if(De(S,L,q,bt,Nt))if(_e(S,L,q,Gt))ie(S,L,q);else{var Wt=S,ne=L,Ce=q,tr=Wt[ne-2*Ce],er=Wt[ne-Ce],ze=Wt[ne+0],Ir=Wt[ne+Ce],_r=Wt[ne+2*Ce],be=27*(Cr=S1[1020+3*(ze-er)+S1[1020+tr-Ir]])+63>>7,Fe=18*Cr+63>>7,Cr=9*Cr+63>>7;Wt[ne-3*Ce]=Pl[255+Wt[ne-3*Ce]+Cr],Wt[ne-2*Ce]=Pl[255+tr+Fe],Wt[ne-Ce]=Pl[255+er+be],Wt[ne+0]=Pl[255+ze-be],Wt[ne+Ce]=Pl[255+Ir-Fe],Wt[ne+2*Ce]=Pl[255+_r-Cr]}L+=ct}}function qr(S,L,q,ct,Tt,bt,Nt,Gt){for(bt=2*bt+1;0<Tt--;){if(De(S,L,q,bt,Nt))if(_e(S,L,q,Gt))ie(S,L,q);else{var Wt=S,ne=L,Ce=q,tr=Wt[ne-Ce],er=Wt[ne+0],ze=Wt[ne+Ce],Ir=Pf[112+((_r=3*(er-tr))+4>>3)],_r=Pf[112+(_r+3>>3)],be=Ir+1>>1;Wt[ne-2*Ce]=Pl[255+Wt[ne-2*Ce]+be],Wt[ne-Ce]=Pl[255+tr+_r],Wt[ne+0]=Pl[255+er-Ir],Wt[ne+Ce]=Pl[255+ze-be]}L+=ct}}function Jr(S,L,q,ct,Tt,bt){on(S,L,q,1,16,ct,Tt,bt)}function or(S,L,q,ct,Tt,bt){on(S,L,1,q,16,ct,Tt,bt)}function vn(S,L,q,ct,Tt,bt){var Nt;for(Nt=3;0<Nt;--Nt)qr(S,L+=4*q,q,1,16,ct,Tt,bt)}function Qn(S,L,q,ct,Tt,bt){var Nt;for(Nt=3;0<Nt;--Nt)qr(S,L+=4,1,q,16,ct,Tt,bt)}function Ni(S,L,q,ct,Tt,bt,Nt,Gt){on(S,L,Tt,1,8,bt,Nt,Gt),on(q,ct,Tt,1,8,bt,Nt,Gt)}function xi(S,L,q,ct,Tt,bt,Nt,Gt){on(S,L,1,Tt,8,bt,Nt,Gt),on(q,ct,1,Tt,8,bt,Nt,Gt)}function Yi(S,L,q,ct,Tt,bt,Nt,Gt){qr(S,L+4*Tt,Tt,1,8,bt,Nt,Gt),qr(q,ct+4*Tt,Tt,1,8,bt,Nt,Gt)}function qi(S,L,q,ct,Tt,bt,Nt,Gt){qr(S,L+4,1,Tt,8,bt,Nt,Gt),qr(q,ct+4,1,Tt,8,bt,Nt,Gt)}function ro(){this.ba=new Ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Oo,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function so(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ci(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Te,this.yc=new re}function ra(){this.xb=this.a=0,this.l=new Ru,this.ca=new Ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ft,this.Pb=0,this.wd=new Ft,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ci,this.ab=0,this.gc=tt(4,Sa),this.Oc=0}function La(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ru,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ia(S,L,q,ct,Tt,bt,Nt){for(S=S==null?0:S[L+0],L=0;L<Nt;++L)Tt[bt+L]=S+q[ct+L]&255,S=Tt[bt+L]}function Po(S,L,q,ct,Tt,bt,Nt){var Gt;if(S==null)Ia(null,null,q,ct,Tt,bt,Nt);else for(Gt=0;Gt<Nt;++Gt)Tt[bt+Gt]=S[L+Gt]+q[ct+Gt]&255}function Za(S,L,q,ct,Tt,bt,Nt){if(S==null)Ia(null,null,q,ct,Tt,bt,Nt);else{var Gt,Wt=S[L+0],ne=Wt,Ce=Wt;for(Gt=0;Gt<Nt;++Gt)ne=Ce+(Wt=S[L+Gt])-ne,Ce=q[ct+Gt]+(-256&ne?0>ne?0:255:ne)&255,ne=Wt,Tt[bt+Gt]=Ce}}function eo(S,L,q,ct){var Tt=L.width,bt=L.o;if(C(S!=null&&L!=null),0>q||0>=ct||q+ct>bt)return null;if(!S.Cc){if(S.ga==null){var Nt;if(S.ga=new La,(Nt=S.ga==null)||(Nt=L.width*L.o,C(S.Gb.length==0),S.Gb=B(Nt),S.Uc=0,S.Gb==null?Nt=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,Nt=1),Nt=!Nt),!Nt){Nt=S.ga;var Gt=S.Fa,Wt=S.P,ne=S.qc,Ce=S.mb,tr=S.nb,er=Wt+1,ze=ne-1,Ir=Nt.l;if(C(Gt!=null&&Ce!=null&&L!=null),fc[0]=null,fc[1]=Ia,fc[2]=Po,fc[3]=Za,Nt.ca=Ce,Nt.tb=tr,Nt.c=L.width,Nt.i=L.height,C(0<Nt.c&&0<Nt.i),1>=ne)L=0;else if(Nt.$a=Gt[Wt+0]>>0&3,Nt.Z=Gt[Wt+0]>>2&3,Nt.Lc=Gt[Wt+0]>>4&3,Wt=Gt[Wt+0]>>6&3,0>Nt.$a||1<Nt.$a||4<=Nt.Z||1<Nt.Lc||Wt)L=0;else if(Ir.put=Hs,Ir.ac=ca,Ir.bc=Ts,Ir.ma=Nt,Ir.width=L.width,Ir.height=L.height,Ir.Da=L.Da,Ir.v=L.v,Ir.va=L.va,Ir.j=L.j,Ir.o=L.o,Nt.$a)t:{C(Nt.$a==1),L=Zi();e:for(;;){if(L==null){L=0;break t}if(C(Nt!=null),Nt.mc=L,L.c=Nt.c,L.i=Nt.i,L.l=Nt.l,L.l.ma=Nt,L.l.width=Nt.c,L.l.height=Nt.i,L.a=0,sr(L.m,Gt,er,ze),!Wi(Nt.c,Nt.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&Ml(L.s)?(Nt.ic=1,Gt=L.c*L.i,L.Ta=null,L.Ua=0,L.V=B(Gt),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(Nt.ic=0,L=fa(L,Nt.c)),!L))break e;L=1;break t}Nt.mc=null,L=0}else L=ze>=Nt.c*Nt.i;Nt=!L}if(Nt)return null;S.ga.Lc!=1?S.Ga=0:ct=bt-q}C(S.ga!=null),C(q+ct<=bt);t:{if(L=(Gt=S.ga).c,bt=Gt.l.o,Gt.$a==0){if(er=S.rc,ze=S.Vc,Ir=S.Fa,Wt=S.P+1+q*L,ne=S.mb,Ce=S.nb+q*L,C(Wt<=S.P+S.qc),Gt.Z!=0)for(C(fc[Gt.Z]!=null),Nt=0;Nt<ct;++Nt)fc[Gt.Z](er,ze,Ir,Wt,ne,Ce,L),er=ne,ze=Ce,Ce+=L,Wt+=L;else for(Nt=0;Nt<ct;++Nt)G(ne,Ce,Ir,Wt,L),er=ne,ze=Ce,Ce+=L,Wt+=L;S.rc=er,S.Vc=ze}else{if(C(Gt.mc!=null),L=q+ct,C((Nt=Gt.mc)!=null),C(L<=Nt.i),Nt.C>=L)L=1;else if(Gt.ic||He(),Gt.ic){Gt=Nt.V,er=Nt.Ba,ze=Nt.c;var _r=Nt.i,be=(Ir=1,Wt=Nt.$/ze,ne=Nt.$%ze,Ce=Nt.m,tr=Nt.s,Nt.$),Fe=ze*_r,Cr=ze*L,jr=tr.wc,ur=be<Cr?fn(tr,ne,Wt):null;C(be<=Fe),C(L<=_r),C(Ml(tr));e:for(;;){for(;!Ce.h&&be<Cr;){if(ne&jr||(ur=fn(tr,ne,Wt)),C(ur!=null),ke(Ce),256>(_r=Ka(ur.G[0],ur.H[0],Ce)))Gt[er+be]=_r,++be,++ne>=ze&&(ne=0,++Wt<=L&&!(Wt%16)&&Se(Nt,Wt));else{if(!(280>_r)){Ir=0;break e}_r=to(_r-256,Ce);var Ur,En=Ka(ur.G[4],ur.H[4],Ce);if(ke(Ce),!(be>=(En=us(ze,En=to(En,Ce)))&&Fe-be>=_r)){Ir=0;break e}for(Ur=0;Ur<_r;++Ur)Gt[er+be+Ur]=Gt[er+be+Ur-En];for(be+=_r,ne+=_r;ne>=ze;)ne-=ze,++Wt<=L&&!(Wt%16)&&Se(Nt,Wt);be<Cr&&ne&jr&&(ur=fn(tr,ne,Wt))}C(Ce.h==me(Ce))}Se(Nt,Wt>L?L:Wt);break e}!Ir||Ce.h&&be<Fe?(Ir=0,Nt.a=Ce.h?5:3):Nt.$=be,L=Ir}else L=Ga(Nt,Nt.V,Nt.Ba,Nt.c,Nt.i,L,ul);if(!L){ct=0;break t}}q+ct>=bt&&(S.Cc=1),ct=1}if(!ct)return null;if(S.Cc&&((ct=S.ga)!=null&&(ct.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+q*Tt}function k(S,L,q,ct,Tt,bt){for(;0<Tt--;){var Nt,Gt=S,Wt=L+(q?1:0),ne=S,Ce=L+(q?0:3);for(Nt=0;Nt<ct;++Nt){var tr=ne[Ce+4*Nt];tr!=255&&(tr*=32897,Gt[Wt+4*Nt+0]=Gt[Wt+4*Nt+0]*tr>>23,Gt[Wt+4*Nt+1]=Gt[Wt+4*Nt+1]*tr>>23,Gt[Wt+4*Nt+2]=Gt[Wt+4*Nt+2]*tr>>23)}L+=bt}}function xt(S,L,q,ct,Tt){for(;0<ct--;){var bt;for(bt=0;bt<q;++bt){var Nt=S[L+2*bt+0],Gt=15&(ne=S[L+2*bt+1]),Wt=4369*Gt,ne=(240&ne|ne>>4)*Wt>>16;S[L+2*bt+0]=(240&Nt|Nt>>4)*Wt>>16&240|(15&Nt|Nt<<4)*Wt>>16>>4&15,S[L+2*bt+1]=240&ne|Gt}L+=Tt}}function Pt(S,L,q,ct,Tt,bt,Nt,Gt){var Wt,ne,Ce=255;for(ne=0;ne<Tt;++ne){for(Wt=0;Wt<ct;++Wt){var tr=S[L+Wt];bt[Nt+4*Wt]=tr,Ce&=tr}L+=q,Nt+=Gt}return Ce!=255}function xe(S,L,q,ct,Tt){var bt;for(bt=0;bt<Tt;++bt)q[ct+bt]=S[L+bt]>>8}function He(){pa=k,_h=xt,If=Pt,_1=xe}function Xe(S,L,q){Ue[S]=function(ct,Tt,bt,Nt,Gt,Wt,ne,Ce,tr,er,ze,Ir,_r,be,Fe,Cr,jr){var ur,Ur=jr-1>>1,En=Gt[Wt+0]|ne[Ce+0]<<16,ii=tr[er+0]|ze[Ir+0]<<16;C(ct!=null);var hr=3*En+ii+131074>>2;for(L(ct[Tt+0],255&hr,hr>>16,_r,be),bt!=null&&(hr=3*ii+En+131074>>2,L(bt[Nt+0],255&hr,hr>>16,Fe,Cr)),ur=1;ur<=Ur;++ur){var No=Gt[Wt+ur]|ne[Ce+ur]<<16,Mo=tr[er+ur]|ze[Ir+ur]<<16,vo=En+No+ii+Mo+524296,uo=vo+2*(No+ii)>>3;hr=uo+En>>1,En=(vo=vo+2*(En+Mo)>>3)+No>>1,L(ct[Tt+2*ur-1],255&hr,hr>>16,_r,be+(2*ur-1)*q),L(ct[Tt+2*ur-0],255&En,En>>16,_r,be+(2*ur-0)*q),bt!=null&&(hr=vo+ii>>1,En=uo+Mo>>1,L(bt[Nt+2*ur-1],255&hr,hr>>16,Fe,Cr+(2*ur-1)*q),L(bt[Nt+2*ur+0],255&En,En>>16,Fe,Cr+(2*ur+0)*q)),En=No,ii=Mo}1&jr||(hr=3*En+ii+131074>>2,L(ct[Tt+jr-1],255&hr,hr>>16,_r,be+(jr-1)*q),bt!=null&&(hr=3*ii+En+131074>>2,L(bt[Nt+jr-1],255&hr,hr>>16,Fe,Cr+(jr-1)*q)))}}function xr(){vs[Nf]=i5,vs[Pd]=Dd,vs[Bg]=o5,vs[Ff]=Vg,vs[Nd]=Wg,vs[Df]=Yg,vs[Ug]=a5,vs[w1]=Dd,vs[x1]=Vg,vs[Eh]=Wg,vs[f0]=Yg}function Wr(S){return S&~Xg?0>S?0:255:S>>Hg}function We(S,L){return Wr((19077*S>>8)+(26149*L>>8)-14234)}function bn(S,L,q){return Wr((19077*S>>8)-(6419*L>>8)-(13320*q>>8)+8708)}function ei(S,L){return Wr((19077*S>>8)+(33050*L>>8)-17685)}function dn(S,L,q,ct,Tt){ct[Tt+0]=We(S,q),ct[Tt+1]=bn(S,L,q),ct[Tt+2]=ei(S,L)}function vi(S,L,q,ct,Tt){ct[Tt+0]=ei(S,L),ct[Tt+1]=bn(S,L,q),ct[Tt+2]=We(S,q)}function li(S,L,q,ct,Tt){var bt=bn(S,L,q);L=bt<<3&224|ei(S,L)>>3,ct[Tt+0]=248&We(S,q)|bt>>5,ct[Tt+1]=L}function $i(S,L,q,ct,Tt){var bt=240&ei(S,L)|15;ct[Tt+0]=240&We(S,q)|bn(S,L,q)>>4,ct[Tt+1]=bt}function Gi(S,L,q,ct,Tt){ct[Tt+0]=255,dn(S,L,q,ct,Tt+1)}function Ao(S,L,q,ct,Tt){vi(S,L,q,ct,Tt),ct[Tt+3]=255}function wa(S,L,q,ct,Tt){dn(S,L,q,ct,Tt),ct[Tt+3]=255}function ps(S,L){return 0>S?0:S>L?L:S}function Ms(S,L,q){Ue[S]=function(ct,Tt,bt,Nt,Gt,Wt,ne,Ce,tr){for(var er=Ce+(-2&tr)*q;Ce!=er;)L(ct[Tt+0],bt[Nt+0],Gt[Wt+0],ne,Ce),L(ct[Tt+1],bt[Nt+0],Gt[Wt+0],ne,Ce+q),Tt+=2,++Nt,++Wt,Ce+=2*q;1&tr&&L(ct[Tt+0],bt[Nt+0],Gt[Wt+0],ne,Ce)}}function bd(S,L,q){return q==0?S==0?L==0?6:5:L==0?4:0:q}function Mf(S,L,q,ct,Tt){switch(S>>>30){case 3:yh(L,q,ct,Tt,0);break;case 2:eu(L,q,ct,Tt);break;case 1:Gu(L,q,ct,Tt)}}function Rf(S,L){var q,ct,Tt=L.M,bt=L.Nb,Nt=S.oc,Gt=S.pc+40,Wt=S.oc,ne=S.pc+584,Ce=S.oc,tr=S.pc+600;for(q=0;16>q;++q)Nt[Gt+32*q-1]=129;for(q=0;8>q;++q)Wt[ne+32*q-1]=129,Ce[tr+32*q-1]=129;for(0<Tt?Nt[Gt-1-32]=Wt[ne-1-32]=Ce[tr-1-32]=129:(Z(Nt,Gt-32-1,127,21),Z(Wt,ne-32-1,127,9),Z(Ce,tr-32-1,127,9)),ct=0;ct<S.za;++ct){var er=L.ya[L.aa+ct];if(0<ct){for(q=-1;16>q;++q)G(Nt,Gt+32*q-4,Nt,Gt+32*q+12,4);for(q=-1;8>q;++q)G(Wt,ne+32*q-4,Wt,ne+32*q+4,4),G(Ce,tr+32*q-4,Ce,tr+32*q+4,4)}var ze=S.Gd,Ir=S.Hd+ct,_r=er.ad,be=er.Hc;if(0<Tt&&(G(Nt,Gt-32,ze[Ir].y,0,16),G(Wt,ne-32,ze[Ir].f,0,8),G(Ce,tr-32,ze[Ir].ea,0,8)),er.Za){var Fe=Nt,Cr=Gt-32+16;for(0<Tt&&(ct>=S.za-1?Z(Fe,Cr,ze[Ir].y[15],4):G(Fe,Cr,ze[Ir+1].y,0,4)),q=0;4>q;q++)Fe[Cr+128+q]=Fe[Cr+256+q]=Fe[Cr+384+q]=Fe[Cr+0+q];for(q=0;16>q;++q,be<<=2)Fe=Nt,Cr=Gt+d0[q],Uu[er.Ob[q]](Fe,Cr),Mf(be,_r,16*+q,Fe,Cr)}else if(Fe=bd(ct,Tt,er.Ob[0]),Bu[Fe](Nt,Gt),be!=0)for(q=0;16>q;++q,be<<=2)Mf(be,_r,16*+q,Nt,Gt+d0[q]);for(q=er.Gc,Fe=bd(ct,Tt,er.Dd),iu[Fe](Wt,ne),iu[Fe](Ce,tr),be=_r,Fe=Wt,Cr=ne,255&(er=q>>0)&&(170&er?Nc(be,256,Fe,Cr):Fc(be,256,Fe,Cr)),er=Ce,be=tr,255&(q>>=8)&&(170&q?Nc(_r,320,er,be):Fc(_r,320,er,be)),Tt<S.Ub-1&&(G(ze[Ir].y,0,Nt,Gt+480,16),G(ze[Ir].f,0,Wt,ne+224,8),G(ze[Ir].ea,0,Ce,tr+224,8)),q=8*bt*S.B,ze=S.sa,Ir=S.ta+16*ct+16*bt*S.R,_r=S.qa,er=S.ra+8*ct+q,be=S.Ha,Fe=S.Ia+8*ct+q,q=0;16>q;++q)G(ze,Ir+q*S.R,Nt,Gt+32*q,16);for(q=0;8>q;++q)G(_r,er+q*S.B,Wt,ne+32*q,8),G(be,Fe+q*S.B,Ce,tr+32*q,8)}}function Pu(S,L,q,ct,Tt,bt,Nt,Gt,Wt){var ne=[0],Ce=[0],tr=0,er=Wt!=null?Wt.kd:0,ze=Wt!=null?Wt:new so;if(S==null||12>q)return 7;ze.data=S,ze.w=L,ze.ha=q,L=[L],q=[q],ze.gb=[ze.gb];t:{var Ir=L,_r=q,be=ze.gb;if(C(S!=null),C(_r!=null),C(be!=null),be[0]=0,12<=_r[0]&&!b(S,Ir[0],"RIFF")){if(b(S,Ir[0]+8,"WEBP")){be=3;break t}var Fe=An(S,Ir[0]+4);if(12>Fe||4294967286<Fe){be=3;break t}if(er&&Fe>_r[0]-8){be=7;break t}be[0]=Fe,Ir[0]+=12,_r[0]-=12}be=0}if(be!=0)return be;for(Fe=0<ze.gb[0],q=q[0];;){t:{var Cr=S;_r=L,be=q;var jr=ne,ur=Ce,Ur=Ir=[0];if((hr=tr=[tr])[0]=0,8>be[0])be=7;else{if(!b(Cr,_r[0],"VP8X")){if(An(Cr,_r[0]+4)!=10){be=3;break t}if(18>be[0]){be=7;break t}var En=An(Cr,_r[0]+8),ii=1+pn(Cr,_r[0]+12);if(2147483648<=ii*(Cr=1+pn(Cr,_r[0]+15))){be=3;break t}Ur!=null&&(Ur[0]=En),jr!=null&&(jr[0]=ii),ur!=null&&(ur[0]=Cr),_r[0]+=18,be[0]-=18,hr[0]=1}be=0}}if(tr=tr[0],Ir=Ir[0],be!=0)return be;if(_r=!!(2&Ir),!Fe&&tr)return 3;if(bt!=null&&(bt[0]=!!(16&Ir)),Nt!=null&&(Nt[0]=_r),Gt!=null&&(Gt[0]=0),Nt=ne[0],Ir=Ce[0],tr&&_r&&Wt==null){be=0;break}if(4>q){be=7;break}if(Fe&&tr||!Fe&&!tr&&!b(S,L[0],"ALPH")){q=[q],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];t:{En=S,be=L,Fe=q;var hr=ze.gb;jr=ze.na,ur=ze.P,Ur=ze.Sa,ii=22,C(En!=null),C(Fe!=null),Cr=be[0];var No=Fe[0];for(C(jr!=null),C(Ur!=null),jr[0]=null,ur[0]=null,Ur[0]=0;;){if(be[0]=Cr,Fe[0]=No,8>No){be=7;break t}var Mo=An(En,Cr+4);if(4294967286<Mo){be=3;break t}var vo=8+Mo+1&-2;if(ii+=vo,0<hr&&ii>hr){be=3;break t}if(!b(En,Cr,"VP8 ")||!b(En,Cr,"VP8L")){be=0;break t}if(No[0]<vo){be=7;break t}b(En,Cr,"ALPH")||(jr[0]=En,ur[0]=Cr+8,Ur[0]=Mo),Cr+=vo,No-=vo}}if(q=q[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],be!=0)break}q=[q],ze.Ja=[ze.Ja],ze.xa=[ze.xa];t:if(hr=S,be=L,Fe=q,jr=ze.gb[0],ur=ze.Ja,Ur=ze.xa,En=be[0],Cr=!b(hr,En,"VP8 "),ii=!b(hr,En,"VP8L"),C(hr!=null),C(Fe!=null),C(ur!=null),C(Ur!=null),8>Fe[0])be=7;else{if(Cr||ii){if(hr=An(hr,En+4),12<=jr&&hr>jr-12){be=3;break t}if(er&&hr>Fe[0]-8){be=7;break t}ur[0]=hr,be[0]+=8,Fe[0]-=8,Ur[0]=ii}else Ur[0]=5<=Fe[0]&&hr[En+0]==47&&!(hr[En+4]>>5),ur[0]=Fe[0];be=0}if(q=q[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],L=L[0],be!=0)break;if(4294967286<ze.Ja)return 3;if(Gt==null||_r||(Gt[0]=ze.xa?2:1),Nt=[Nt],Ir=[Ir],ze.xa){if(5>q){be=7;break}Gt=Nt,er=Ir,_r=bt,S==null||5>q?S=0:5<=q&&S[L+0]==47&&!(S[L+4]>>5)?(Fe=[0],hr=[0],jr=[0],sr(ur=new Ft,S,L,q),Wn(ur,Fe,hr,jr)?(Gt!=null&&(Gt[0]=Fe[0]),er!=null&&(er[0]=hr[0]),_r!=null&&(_r[0]=jr[0]),S=1):S=0):S=0}else{if(10>q){be=7;break}Gt=Ir,S==null||10>q||!bc(S,L+3,q-3)?S=0:(er=S[L+0]|S[L+1]<<8|S[L+2]<<16,_r=16383&(S[L+7]<<8|S[L+6]),S=16383&(S[L+9]<<8|S[L+8]),1&er||3<(er>>1&7)||!(er>>4&1)||er>>5>=ze.Ja||!_r||!S?S=0:(Nt&&(Nt[0]=_r),Gt&&(Gt[0]=S),S=1))}if(!S||(Nt=Nt[0],Ir=Ir[0],tr&&(ne[0]!=Nt||Ce[0]!=Ir)))return 3;Wt!=null&&(Wt[0]=ze,Wt.offset=L-Wt.w,C(4294967286>L-Wt.w),C(Wt.offset==Wt.ha-q));break}return be==0||be==7&&tr&&Wt==null?(bt!=null&&(bt[0]|=ze.na!=null&&0<ze.na.length),ct!=null&&(ct[0]=Nt),Tt!=null&&(Tt[0]=Ir),0):be}function Cf(S,L,q){var ct=L.width,Tt=L.height,bt=0,Nt=0,Gt=ct,Wt=Tt;if(L.Da=S!=null&&0<S.Da,L.Da&&(Gt=S.cd,Wt=S.bd,bt=S.v,Nt=S.j,11>q||(bt&=-2,Nt&=-2),0>bt||0>Nt||0>=Gt||0>=Wt||bt+Gt>ct||Nt+Wt>Tt))return 0;if(L.v=bt,L.j=Nt,L.va=bt+Gt,L.o=Nt+Wt,L.U=Gt,L.T=Wt,L.da=S!=null&&0<S.da,L.da){if(!fi(Gt,Wt,q=[S.ib],bt=[S.hb]))return 0;L.ib=q[0],L.hb=bt[0]}return L.ob=S!=null&&S.ob,L.Kb=S==null||!S.Sd,L.da&&(L.ob=L.ib<3*ct/4&&L.hb<3*Tt/4,L.Kb=0),1}function bf(S){if(S==null)return 2;if(11>S.S){var L=S.f.RGBA;L.fb+=(S.height-1)*L.A,L.A=-L.A}else L=S.f.kb,S=S.height,L.O+=(S-1)*L.fa,L.fa=-L.fa,L.N+=(S-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(S-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(S-1)*L.lb,L.lb=-L.lb);return 0}function Fi(S,L,q,ct){if(ct==null||0>=S||0>=L)return 2;if(q!=null){if(q.Da){var Tt=q.cd,bt=q.bd,Nt=-2&q.v,Gt=-2&q.j;if(0>Nt||0>Gt||0>=Tt||0>=bt||Nt+Tt>S||Gt+bt>L)return 2;S=Tt,L=bt}if(q.da){if(!fi(S,L,Tt=[q.ib],bt=[q.hb]))return 2;S=Tt[0],L=bt[0]}}ct.width=S,ct.height=L;t:{var Wt=ct.width,ne=ct.height;if(S=ct.S,0>=Wt||0>=ne||!(S>=Nf&&13>S))S=2;else{if(0>=ct.Rd&&ct.sd==null){Nt=bt=Tt=L=0;var Ce=(Gt=Wt*Kg[S])*ne;if(11>S||(bt=(ne+1)/2*(L=(Wt+1)/2),S==12&&(Nt=(Tt=Wt)*ne)),(ne=B(Ce+2*bt+Nt))==null){S=1;break t}ct.sd=ne,11>S?((Wt=ct.f.RGBA).eb=ne,Wt.fb=0,Wt.A=Gt,Wt.size=Ce):((Wt=ct.f.kb).y=ne,Wt.O=0,Wt.fa=Gt,Wt.Fd=Ce,Wt.f=ne,Wt.N=0+Ce,Wt.Ab=L,Wt.Cd=bt,Wt.ea=ne,Wt.W=0+Ce+bt,Wt.Db=L,Wt.Ed=bt,S==12&&(Wt.F=ne,Wt.J=0+Ce+2*bt),Wt.Tc=Nt,Wt.lb=Tt)}if(L=1,Tt=ct.S,bt=ct.width,Nt=ct.height,Tt>=Nf&&13>Tt)if(11>Tt)S=ct.f.RGBA,L&=(Gt=Math.abs(S.A))*(Nt-1)+bt<=S.size,L&=Gt>=bt*Kg[Tt],L&=S.eb!=null;else{S=ct.f.kb,Gt=(bt+1)/2,Ce=(Nt+1)/2,Wt=Math.abs(S.fa),ne=Math.abs(S.Ab);var tr=Math.abs(S.Db),er=Math.abs(S.lb),ze=er*(Nt-1)+bt;L&=Wt*(Nt-1)+bt<=S.Fd,L&=ne*(Ce-1)+Gt<=S.Cd,L=(L&=tr*(Ce-1)+Gt<=S.Ed)&Wt>=bt&ne>=Gt&tr>=Gt,L&=S.y!=null,L&=S.f!=null,L&=S.ea!=null,Tt==12&&(L&=er>=bt,L&=ze<=S.Tc,L&=S.F!=null)}else L=0;S=L?0:2}}return S!=0||q!=null&&q.fd&&(S=bf(ct)),S}var vl=64,tu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],u0=24,vh=32,U0=8,Zs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ln("Predictor0","PredictorAdd0"),Ue.Predictor0=function(){return 4278190080},Ue.Predictor1=function(S){return S},Ue.Predictor2=function(S,L,q){return L[q+0]},Ue.Predictor3=function(S,L,q){return L[q+1]},Ue.Predictor4=function(S,L,q){return L[q-1]},Ue.Predictor5=function(S,L,q){return un(un(S,L[q+1]),L[q+0])},Ue.Predictor6=function(S,L,q){return un(S,L[q-1])},Ue.Predictor7=function(S,L,q){return un(S,L[q+0])},Ue.Predictor8=function(S,L,q){return un(L[q-1],L[q+0])},Ue.Predictor9=function(S,L,q){return un(L[q+0],L[q+1])},Ue.Predictor10=function(S,L,q){return un(un(S,L[q-1]),un(L[q+0],L[q+1]))},Ue.Predictor11=function(S,L,q){var ct=L[q+0];return 0>=si(ct>>24&255,S>>24&255,(L=L[q-1])>>24&255)+si(ct>>16&255,S>>16&255,L>>16&255)+si(ct>>8&255,S>>8&255,L>>8&255)+si(255&ct,255&S,255&L)?ct:S},Ue.Predictor12=function(S,L,q){var ct=L[q+0];return(Vn((S>>24&255)+(ct>>24&255)-((L=L[q-1])>>24&255))<<24|Vn((S>>16&255)+(ct>>16&255)-(L>>16&255))<<16|Vn((S>>8&255)+(ct>>8&255)-(L>>8&255))<<8|Vn((255&S)+(255&ct)-(255&L)))>>>0},Ue.Predictor13=function(S,L,q){var ct=L[q-1];return(pi((S=un(S,L[q+0]))>>24&255,ct>>24&255)<<24|pi(S>>16&255,ct>>16&255)<<16|pi(S>>8&255,ct>>8&255)<<8|pi(S>>0&255,ct>>0&255))>>>0};var Ld=Ue.PredictorAdd0;Ue.PredictorAdd1=Ri,ln("Predictor2","PredictorAdd2"),ln("Predictor3","PredictorAdd3"),ln("Predictor4","PredictorAdd4"),ln("Predictor5","PredictorAdd5"),ln("Predictor6","PredictorAdd6"),ln("Predictor7","PredictorAdd7"),ln("Predictor8","PredictorAdd8"),ln("Predictor9","PredictorAdd9"),ln("Predictor10","PredictorAdd10"),ln("Predictor11","PredictorAdd11"),ln("Predictor12","PredictorAdd12"),ln("Predictor13","PredictorAdd13");var c0=Ue.PredictorAdd2;wi("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),wi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Id,Nu=Ue.ColorIndexInverseTransform,gh=Ue.MapARGB,y1=Ue.VP8LColorIndexInverseTransformAlpha,m1=Ue.MapAlpha,Fu=Ue.VP8LPredictorsAdd=[];Fu.length=16,(Ue.VP8LPredictors=[]).length=16,(Ue.VP8LPredictorsAdd_C=[]).length=16,(Ue.VP8LPredictors_C=[]).length=16;var Il,Du,uc,ju,Ic,Pc,fo,yh,eu,Nc,Gu,Fc,Dc,mh,cc,h0,Lf,ru,jc,Ho,po,Pa,qa,hc,pa,_h,If,_1,Dg=B(511),jg=B(2041),E1=B(225),lo=B(767),Gg=0,S1=jg,Pf=E1,Pl=lo,nu=Dg,Nf=0,Pd=1,Bg=2,Ff=3,Nd=4,Df=5,Ug=6,w1=7,x1=8,Eh=9,f0=10,Zm=[2,3,7],qm=[3,3,11],kg=[280,256,256,256,40],Jm=[0,1,1,1,0],Qm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T1=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],t5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nl=8,Sh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wh=null,zg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],O1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],e5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],A1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],M1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],r5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bu=[],Uu=[],iu=[],n5=1,xh=2,fc=[],vs=[];Xe("UpsampleRgbLinePair",dn,3),Xe("UpsampleBgrLinePair",vi,3),Xe("UpsampleRgbaLinePair",wa,4),Xe("UpsampleBgraLinePair",Ao,4),Xe("UpsampleArgbLinePair",Gi,4),Xe("UpsampleRgba4444LinePair",$i,2),Xe("UpsampleRgb565LinePair",li,2);var i5=Ue.UpsampleRgbLinePair,o5=Ue.UpsampleBgrLinePair,Dd=Ue.UpsampleRgbaLinePair,Vg=Ue.UpsampleBgraLinePair,Wg=Ue.UpsampleArgbLinePair,Yg=Ue.UpsampleRgba4444LinePair,a5=Ue.UpsampleRgb565LinePair,jd=16,Gd=1<<jd-1,Gf=-227,R1=482,Hg=6,Xg=(256<<Hg)-1,Bf=0,C1=B(256),s5=B(256),l5=B(256),u5=B(256),c5=B(R1-Gf),h5=B(R1-Gf);Ms("YuvToRgbRow",dn,3),Ms("YuvToBgrRow",vi,3),Ms("YuvToRgbaRow",wa,4),Ms("YuvToBgraRow",Ao,4),Ms("YuvToArgbRow",Gi,4),Ms("YuvToRgba4444Row",$i,2),Ms("YuvToRgb565Row",li,2);var d0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bd=[0,2,8],f5=[8,7,6,4,4,2,2,2,1,1,1,1],d5=1;this.WebPDecodeRGBA=function(S,L,q,ct,Tt){var bt=Pd,Nt=new ro,Gt=new Ca;Nt.ba=Gt,Gt.S=bt,Gt.width=[Gt.width],Gt.height=[Gt.height];var Wt=Gt.width,ne=Gt.height,Ce=new Ns;if(Ce==null||S==null)var tr=2;else C(Ce!=null),tr=Pu(S,L,q,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(tr!=0?Wt=0:(Wt!=null&&(Wt[0]=Ce.width[0]),ne!=null&&(ne[0]=Ce.height[0]),Wt=1),Wt){Gt.width=Gt.width[0],Gt.height=Gt.height[0],ct!=null&&(ct[0]=Gt.width),Tt!=null&&(Tt[0]=Gt.height);t:{if(ct=new Ru,(Tt=new so).data=S,Tt.w=L,Tt.ha=q,Tt.kd=1,L=[0],C(Tt!=null),((S=Pu(Tt.data,Tt.w,Tt.ha,null,null,null,L,null,Tt))==0||S==7)&&L[0]&&(S=4),(L=S)==0){if(C(Nt!=null),ct.data=Tt.data,ct.w=Tt.w+Tt.offset,ct.ha=Tt.ha-Tt.offset,ct.put=Hs,ct.ac=ca,ct.bc=Ts,ct.ma=Nt,Tt.xa){if((S=Zi())==null){Nt=1;break t}if(function(er,ze){var Ir=[0],_r=[0],be=[0];e:for(;;){if(er==null)return 0;if(ze==null)return er.a=2,0;if(er.l=ze,er.a=0,sr(er.m,ze.data,ze.w,ze.ha),!Wn(er.m,Ir,_r,be)){er.a=3;break e}if(er.xb=xh,ze.width=Ir[0],ze.height=_r[0],!Wi(Ir[0],_r[0],1,er,null))break e;return 1}return C(er.a!=0),0}(S,ct)){if(ct=(L=Fi(ct.width,ct.height,Nt.Oa,Nt.ba))==0){e:{ct=S;r:for(;;){if(ct==null){ct=0;break e}if(C(ct.s.yc!=null),C(ct.s.Ya!=null),C(0<ct.s.Wb),C((q=ct.l)!=null),C((Tt=q.ma)!=null),ct.xb!=0){if(ct.ca=Tt.ba,ct.tb=Tt.tb,C(ct.ca!=null),!Cf(Tt.Oa,q,Ff)){ct.a=2;break r}if(!fa(ct,q.width)||q.da)break r;if((q.da||Ki(ct.ca.S))&&He(),11>ct.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ct.ca.f.kb.F!=null&&He()),ct.Pb&&0<ct.s.ua&&ct.s.vb.X==null&&!Hn(ct.s.vb,ct.s.Wa.Xa)){ct.a=1;break r}ct.xb=0}if(!Ga(ct,ct.V,ct.Ba,ct.c,ct.i,q.o,Au))break r;Tt.Dc=ct.Ma,ct=1;break e}C(ct.a!=0),ct=0}ct=!ct}ct&&(L=S.a)}else L=S.a}else{if((S=new sc)==null){Nt=1;break t}if(S.Fa=Tt.na,S.P=Tt.P,S.qc=Tt.Sa,Ds(S,ct)){if((L=Fi(ct.width,ct.height,Nt.Oa,Nt.ba))==0){if(S.Aa=0,q=Nt.Oa,C((Tt=S)!=null),q!=null){if(0<(Wt=0>(Wt=q.Md)?0:100<Wt?255:255*Wt/100)){for(ne=Ce=0;4>ne;++ne)12>(tr=Tt.pb[ne]).lc&&(tr.ia=Wt*f5[0>tr.lc?0:tr.lc]>>3),Ce|=tr.ia;Ce&&(alert("todo:VP8InitRandom"),Tt.ia=1)}Tt.Ga=q.Id,100<Tt.Ga?Tt.Ga=100:0>Tt.Ga&&(Tt.Ga=0)}s0(S,ct)||(L=S.a)}}else L=S.a}L==0&&Nt.Oa!=null&&Nt.Oa.fd&&(L=bf(Nt.ba))}Nt=L}bt=Nt!=0?null:11>bt?Gt.f.RGBA.eb:Gt.f.kb.y}else bt=null;return bt};var Kg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function wt(Ue,Lr){for(var mr="",ee=0;ee<4;ee++)mr+=String.fromCharCode(Ue[Lr++]);return mr}function Ut(Ue,Lr){return(Ue[Lr+0]<<0|Ue[Lr+1]<<8|Ue[Lr+2]<<16)>>>0}function kt(Ue,Lr){return(Ue[Lr+0]<<0|Ue[Lr+1]<<8|Ue[Lr+2]<<16|Ue[Lr+3]<<24)>>>0}new lt;var Zt=[0],vt=[0],he=[],ae=new lt,Ae=F,Kt=function(Ue,Lr){var mr={},ee=0,re=!1,Ne=0,Te=0;if(mr.frames=[],!function(se,me,Ie,ke){for(var rr=0;rr<ke;rr++)if(se[me+rr]!=Ie.charCodeAt(rr))return!0;return!1}(Ue,Lr,"RIFF",4)){var wr,gr;for(kt(Ue,Lr+=4),Lr+=8;Lr<Ue.length;){var Fr=wt(Ue,Lr),sr=kt(Ue,Lr+=4);Lr+=4;var fr=sr+(1&sr);switch(Fr){case"VP8 ":case"VP8L":mr.frames[ee]===void 0&&(mr.frames[ee]={}),(Ft=mr.frames[ee]).src_off=re?Te:Lr-8,Ft.src_size=Ne+sr+8,ee++,re&&(re=!1,Ne=0,Te=0);break;case"VP8X":(Ft=mr.header={}).feature_flags=Ue[Lr];var Or=Lr+4;Ft.canvas_width=1+Ut(Ue,Or),Or+=3,Ft.canvas_height=1+Ut(Ue,Or),Or+=3;break;case"ALPH":re=!0,Ne=fr+8,Te=Lr-8;break;case"ANIM":(Ft=mr.header).bgcolor=kt(Ue,Lr),Or=Lr+4,Ft.loop_count=(wr=Ue)[(gr=Or)+0]<<0|wr[gr+1]<<8,Or+=2;break;case"ANMF":var On,Ft;(Ft=mr.frames[ee]={}).offset_x=2*Ut(Ue,Lr),Lr+=3,Ft.offset_y=2*Ut(Ue,Lr),Lr+=3,Ft.width=1+Ut(Ue,Lr),Lr+=3,Ft.height=1+Ut(Ue,Lr),Lr+=3,Ft.duration=Ut(Ue,Lr),Lr+=3,On=Ue[Lr++],Ft.dispose=1&On,Ft.blend=On>>1&1}Fr!="ANMF"&&(Lr+=fr)}return mr}}(Ae,0);Kt.response=Ae,Kt.rgbaoutput=!0,Kt.dataurl=!1;var ge=Kt.header?Kt.header:null,Ye=Kt.frames?Kt.frames:null;if(ge){ge.loop_counter=ge.loop_count,Zt=[ge.canvas_height],vt=[ge.canvas_width];for(var cr=0;cr<Ye.length&&Ye[cr].blend!=0;cr++);}var Mr=Ye[0],Qr=ae.WebPDecodeRGBA(Ae,Mr.src_off,Mr.src_size,vt,Zt);Mr.rgba=Qr,Mr.imgwidth=vt[0],Mr.imgheight=Zt[0];for(var yr=0;yr<vt[0]*Zt[0]*4;yr++)he[yr]=Qr[yr];return this.width=vt,this.height=Zt,this.data=he,this}(function(F){var C=function(){return typeof y.b=="function"},b=function(Zt,vt,he,ae){var Ae=4,Kt=tt;switch(ae){case F.image_compression.FAST:Ae=1,Kt=B;break;case F.image_compression.MEDIUM:Ae=6,Kt=at;break;case F.image_compression.SLOW:Ae=9,Kt=lt}Zt=G(Zt,vt,he,Kt);var ge=Object(y.b)(Zt,{level:Ae});return F.__addimage__.arrayBufferToBinaryString(ge)},G=function(Zt,vt,he,ae){for(var Ae,Kt,ge,Ye=Zt.length/vt,cr=new Uint8Array(Zt.length+Ye),Mr=Ut(),Qr=0;Qr<Ye;Qr+=1){if(ge=Qr*vt,Ae=Zt.subarray(ge,ge+vt),ae)cr.set(ae(Ae,he,Kt),ge+Qr);else{for(var yr,Ue=Mr.length,Lr=[];yr<Ue;yr+=1)Lr[yr]=Mr[yr](Ae,he,Kt);var mr=kt(Lr.concat());cr.set(Lr[mr],ge+Qr)}Kt=Ae}return cr},Z=function(Zt){var vt=Array.apply([],Zt);return vt.unshift(0),vt},B=function(Zt,vt){var he,ae=[],Ae=Zt.length;ae[0]=1;for(var Kt=0;Kt<Ae;Kt+=1)he=Zt[Kt-vt]||0,ae[Kt+1]=Zt[Kt]-he+256&255;return ae},tt=function(Zt,vt,he){var ae,Ae=[],Kt=Zt.length;Ae[0]=2;for(var ge=0;ge<Kt;ge+=1)ae=he&&he[ge]||0,Ae[ge+1]=Zt[ge]-ae+256&255;return Ae},at=function(Zt,vt,he){var ae,Ae,Kt=[],ge=Zt.length;Kt[0]=3;for(var Ye=0;Ye<ge;Ye+=1)ae=Zt[Ye-vt]||0,Ae=he&&he[Ye]||0,Kt[Ye+1]=Zt[Ye]+256-(ae+Ae>>>1)&255;return Kt},lt=function(Zt,vt,he){var ae,Ae,Kt,ge,Ye=[],cr=Zt.length;Ye[0]=4;for(var Mr=0;Mr<cr;Mr+=1)ae=Zt[Mr-vt]||0,Ae=he&&he[Mr]||0,Kt=he&&he[Mr-vt]||0,ge=wt(ae,Ae,Kt),Ye[Mr+1]=Zt[Mr]-ge+256&255;return Ye},wt=function(Zt,vt,he){if(Zt===vt&&vt===he)return Zt;var ae=Math.abs(vt-he),Ae=Math.abs(Zt-he),Kt=Math.abs(Zt+vt-he-he);return ae<=Ae&&ae<=Kt?Zt:Ae<=Kt?vt:he},Ut=function(){return[Z,B,tt,at,lt]},kt=function(Zt){var vt=Zt.map(function(he){return he.reduce(function(ae,Ae){return ae+Math.abs(Ae)},0)});return vt.indexOf(Math.min.apply(null,vt))};F.processPNG=function(Zt,vt,he,ae){var Ae,Kt,ge,Ye,cr,Mr,Qr,yr,Ue,Lr,mr,ee,re,Ne,Te,wr=this.decode.FLATE_DECODE,gr="";if(this.__addimage__.isArrayBuffer(Zt)&&(Zt=new Uint8Array(Zt)),this.__addimage__.isArrayBufferView(Zt)){if(Zt=(ge=new Xl(Zt)).imgData,Kt=ge.bits,Ae=ge.colorSpace,cr=ge.colors,[4,6].indexOf(ge.colorType)!==-1){if(ge.bits===8){Ue=(yr=ge.pixelBitlength==32?new Uint32Array(ge.decodePixels().buffer):ge.pixelBitlength==16?new Uint16Array(ge.decodePixels().buffer):new Uint8Array(ge.decodePixels().buffer)).length,mr=new Uint8Array(Ue*ge.colors),Lr=new Uint8Array(Ue);var Fr,sr=ge.pixelBitlength-ge.bits;for(Ne=0,Te=0;Ne<Ue;Ne++){for(re=yr[Ne],Fr=0;Fr<sr;)mr[Te++]=re>>>Fr&255,Fr+=ge.bits;Lr[Ne]=re>>>Fr&255}}if(ge.bits===16){Ue=(yr=new Uint32Array(ge.decodePixels().buffer)).length,mr=new Uint8Array(Ue*(32/ge.pixelBitlength)*ge.colors),Lr=new Uint8Array(Ue*(32/ge.pixelBitlength)),ee=ge.colors>1,Ne=0,Te=0;for(var fr=0;Ne<Ue;)re=yr[Ne++],mr[Te++]=re>>>0&255,ee&&(mr[Te++]=re>>>16&255,re=yr[Ne++],mr[Te++]=re>>>0&255),Lr[fr++]=re>>>16&255;Kt=8}ae!==F.image_compression.NONE&&C()?(Zt=b(mr,ge.width*ge.colors,ge.colors,ae),Qr=b(Lr,ge.width,1,ae)):(Zt=mr,Qr=Lr,wr=void 0)}if(ge.colorType===3&&(Ae=this.color_spaces.INDEXED,Mr=ge.palette,ge.transparency.indexed)){var Or=ge.transparency.indexed,On=0;for(Ne=0,Ue=Or.length;Ne<Ue;++Ne)On+=Or[Ne];if((On/=255)===Ue-1&&Or.indexOf(0)!==-1)Ye=[Or.indexOf(0)];else if(On!==Ue){for(yr=ge.decodePixels(),Lr=new Uint8Array(yr.length),Ne=0,Ue=yr.length;Ne<Ue;Ne++)Lr[Ne]=Or[yr[Ne]];Qr=b(Lr,ge.width,1)}}var Ft=function(se){var me;switch(se){case F.image_compression.FAST:me=11;break;case F.image_compression.MEDIUM:me=13;break;case F.image_compression.SLOW:me=14;break;default:me=12}return me}(ae);return wr===this.decode.FLATE_DECODE&&(gr="/Predictor "+Ft+" "),gr+="/Colors "+cr+" /BitsPerComponent "+Kt+" /Columns "+ge.width,(this.__addimage__.isArrayBuffer(Zt)||this.__addimage__.isArrayBufferView(Zt))&&(Zt=this.__addimage__.arrayBufferToBinaryString(Zt)),(Qr&&this.__addimage__.isArrayBuffer(Qr)||this.__addimage__.isArrayBufferView(Qr))&&(Qr=this.__addimage__.arrayBufferToBinaryString(Qr)),{alias:he,data:Zt,index:vt,filter:wr,decodeParameters:gr,transparency:Ye,palette:Mr,sMask:Qr,predictor:Ft,width:ge.width,height:ge.height,bitsPerComponent:Kt,colorSpace:Ae}}}})(pe.API),function(F){F.processGIF89A=function(C,b,G,Z){var B=new Ha(C),tt=B.width,at=B.height,lt=[];B.decodeAndBlitFrameRGBA(0,lt);var wt={data:lt,width:tt,height:at},Ut=new ll(100).encode(wt,100);return F.processJPEG.call(this,Ut,b,G,Z)},F.processGIF87A=F.processGIF89A}(pe.API),xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var F=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(F);for(var C=0;C<F;C++){var b=this.datav.getUint8(this.pos++,!0),G=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),B=this.datav.getUint8(this.pos++,!0);this.palette[C]={red:Z,green:G,blue:b,quad:B}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xo.prototype.parseBGR=function(){this.pos=this.offset;try{var F="bit"+this.bitPP,C=this.width*this.height*4;this.data=new Uint8Array(C),this[F]()}catch(b){M.log("bit decode error:"+b)}},xo.prototype.bit1=function(){var F,C=Math.ceil(this.width/8),b=C%4;for(F=this.height-1;F>=0;F--){for(var G=this.bottom_up?F:this.height-1-F,Z=0;Z<C;Z++)for(var B=this.datav.getUint8(this.pos++,!0),tt=G*this.width*4+8*Z*4,at=0;at<8&&8*Z+at<this.width;at++){var lt=this.palette[B>>7-at&1];this.data[tt+4*at]=lt.blue,this.data[tt+4*at+1]=lt.green,this.data[tt+4*at+2]=lt.red,this.data[tt+4*at+3]=255}b!==0&&(this.pos+=4-b)}},xo.prototype.bit4=function(){for(var F=Math.ceil(this.width/2),C=F%4,b=this.height-1;b>=0;b--){for(var G=this.bottom_up?b:this.height-1-b,Z=0;Z<F;Z++){var B=this.datav.getUint8(this.pos++,!0),tt=G*this.width*4+2*Z*4,at=B>>4,lt=15&B,wt=this.palette[at];if(this.data[tt]=wt.blue,this.data[tt+1]=wt.green,this.data[tt+2]=wt.red,this.data[tt+3]=255,2*Z+1>=this.width)break;wt=this.palette[lt],this.data[tt+4]=wt.blue,this.data[tt+4+1]=wt.green,this.data[tt+4+2]=wt.red,this.data[tt+4+3]=255}C!==0&&(this.pos+=4-C)}},xo.prototype.bit8=function(){for(var F=this.width%4,C=this.height-1;C>=0;C--){for(var b=this.bottom_up?C:this.height-1-C,G=0;G<this.width;G++){var Z=this.datav.getUint8(this.pos++,!0),B=b*this.width*4+4*G;if(Z<this.palette.length){var tt=this.palette[Z];this.data[B]=tt.red,this.data[B+1]=tt.green,this.data[B+2]=tt.blue,this.data[B+3]=255}else this.data[B]=255,this.data[B+1]=255,this.data[B+2]=255,this.data[B+3]=255}F!==0&&(this.pos+=4-F)}},xo.prototype.bit15=function(){for(var F=this.width%3,C=parseInt("11111",2),b=this.height-1;b>=0;b--){for(var G=this.bottom_up?b:this.height-1-b,Z=0;Z<this.width;Z++){var B=this.datav.getUint16(this.pos,!0);this.pos+=2;var tt=(B&C)/C*255|0,at=(B>>5&C)/C*255|0,lt=(B>>10&C)/C*255|0,wt=B>>15?255:0,Ut=G*this.width*4+4*Z;this.data[Ut]=lt,this.data[Ut+1]=at,this.data[Ut+2]=tt,this.data[Ut+3]=wt}this.pos+=F}},xo.prototype.bit16=function(){for(var F=this.width%3,C=parseInt("11111",2),b=parseInt("111111",2),G=this.height-1;G>=0;G--){for(var Z=this.bottom_up?G:this.height-1-G,B=0;B<this.width;B++){var tt=this.datav.getUint16(this.pos,!0);this.pos+=2;var at=(tt&C)/C*255|0,lt=(tt>>5&b)/b*255|0,wt=(tt>>11)/C*255|0,Ut=Z*this.width*4+4*B;this.data[Ut]=wt,this.data[Ut+1]=lt,this.data[Ut+2]=at,this.data[Ut+3]=255}this.pos+=F}},xo.prototype.bit24=function(){for(var F=this.height-1;F>=0;F--){for(var C=this.bottom_up?F:this.height-1-F,b=0;b<this.width;b++){var G=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),B=this.datav.getUint8(this.pos++,!0),tt=C*this.width*4+4*b;this.data[tt]=B,this.data[tt+1]=Z,this.data[tt+2]=G,this.data[tt+3]=255}this.pos+=this.width%4}},xo.prototype.bit32=function(){for(var F=this.height-1;F>=0;F--)for(var C=this.bottom_up?F:this.height-1-F,b=0;b<this.width;b++){var G=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),B=this.datav.getUint8(this.pos++,!0),tt=this.datav.getUint8(this.pos++,!0),at=C*this.width*4+4*b;this.data[at]=B,this.data[at+1]=Z,this.data[at+2]=G,this.data[at+3]=tt}},xo.prototype.getData=function(){return this.data},function(F){F.processBMP=function(C,b,G,Z){var B=new xo(C,!1),tt=B.width,at=B.height,lt={data:B.getData(),width:tt,height:at},wt=new ll(100).encode(lt,100);return F.processJPEG.call(this,wt,b,G,Z)}}(pe.API),Tu.prototype.getData=function(){return this.data},function(F){F.processWEBP=function(C,b,G,Z){var B=new Tu(C),tt=B.width,at=B.height,lt={data:B.getData(),width:tt,height:at},wt=new ll(100).encode(lt,100);return F.processJPEG.call(this,wt,b,G,Z)}}(pe.API),pe.API.processRGBA=function(F,C,b){for(var G=F.data,Z=G.length,B=new Uint8Array(Z/4*3),tt=new Uint8Array(Z/4),at=0,lt=0,wt=0;wt<Z;wt+=4){var Ut=G[wt],kt=G[wt+1],Zt=G[wt+2],vt=G[wt+3];B[at++]=Ut,B[at++]=kt,B[at++]=Zt,tt[lt++]=vt}var he=this.__addimage__.arrayBufferToBinaryString(B);return{alpha:this.__addimage__.arrayBufferToBinaryString(tt),data:he,index:C,alias:b,colorSpace:"DeviceRGB",bitsPerComponent:8,width:F.width,height:F.height}},pe.API.setLanguage=function(F){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[F]!==void 0&&(this.internal.languageSettings.languageCode=F,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ia=pe.API,Ws=ia.getCharWidthsArray=function(F,C){var b,G,Z=(C=C||{}).font||this.internal.getFont(),B=C.fontSize||this.internal.getFontSize(),tt=C.charSpace||this.internal.getCharSpace(),at=C.widths?C.widths:Z.metadata.Unicode.widths,lt=at.fof?at.fof:1,wt=C.kerning?C.kerning:Z.metadata.Unicode.kerning,Ut=wt.fof?wt.fof:1,kt=C.doKerning!==!1,Zt=0,vt=F.length,he=0,ae=at[0]||lt,Ae=[];for(b=0;b<vt;b++)G=F.charCodeAt(b),typeof Z.metadata.widthOfString=="function"?Ae.push((Z.metadata.widthOfGlyph(Z.metadata.characterToGlyph(G))+tt*(1e3/B)||0)/1e3):(Zt=kt&&v()(wt[G])==="object"&&!isNaN(parseInt(wt[G][he],10))?wt[G][he]/Ut:0,Ae.push((at[G]||ae)/lt+Zt)),he=G;return Ae},sl=ia.getStringUnitWidth=function(F,C){var b=(C=C||{}).fontSize||this.internal.getFontSize(),G=C.font||this.internal.getFont(),Z=C.charSpace||this.internal.getCharSpace();return ia.processArabic&&(F=ia.processArabic(F)),typeof G.metadata.widthOfString=="function"?G.metadata.widthOfString(F,b,Z)/b:Ws.apply(this,arguments).reduce(function(B,tt){return B+tt},0)},o0=function(F,C,b,G){for(var Z=[],B=0,tt=F.length,at=0;B!==tt&&at+C[B]<b;)at+=C[B],B++;Z.push(F.slice(0,B));var lt=B;for(at=0;B!==tt;)at+C[B]>G&&(Z.push(F.slice(lt,B)),at=0,lt=B),at+=C[B],B++;return lt!==B&&Z.push(F.slice(lt,B)),Z},B0=function(F,C,b){b||(b={});var G,Z,B,tt,at,lt,wt,Ut=[],kt=[Ut],Zt=b.textIndent||0,vt=0,he=0,ae=F.split(" "),Ae=Ws.apply(this,[" ",b])[0];if(lt=b.lineIndent===-1?ae[0].length+2:b.lineIndent||0){var Kt=Array(lt).join(" "),ge=[];ae.map(function(cr){(cr=cr.split(/\s*\n/)).length>1?ge=ge.concat(cr.map(function(Mr,Qr){return(Qr&&Mr.length?`
`:"")+Mr})):ge.push(cr[0])}),ae=ge,lt=sl.apply(this,[Kt,b])}for(B=0,tt=ae.length;B<tt;B++){var Ye=0;if(G=ae[B],lt&&G[0]==`
`&&(G=G.substr(1),Ye=1),Zt+vt+(he=(Z=Ws.apply(this,[G,b])).reduce(function(cr,Mr){return cr+Mr},0))>C||Ye){if(he>C){for(at=o0.apply(this,[G,Z,C-(Zt+vt),C]),Ut.push(at.shift()),Ut=[at.pop()];at.length;)kt.push([at.shift()]);he=Z.slice(G.length-(Ut[0]?Ut[0].length:0)).reduce(function(cr,Mr){return cr+Mr},0)}else Ut=[G];kt.push(Ut),Zt=he+lt,vt=Ae}else Ut.push(G),Zt+=vt+he,vt=Ae}return wt=lt?function(cr,Mr){return(Mr?Kt:"")+cr.join(" ")}:function(cr){return cr.join(" ")},kt.map(wt)},ia.splitTextToSize=function(F,C,b){var G,Z=(b=b||{}).fontSize||this.internal.getFontSize(),B=function(Ut){if(Ut.widths&&Ut.kerning)return{widths:Ut.widths,kerning:Ut.kerning};var kt=this.internal.getFont(Ut.fontName,Ut.fontStyle);return kt.metadata.Unicode?{widths:kt.metadata.Unicode.widths||{0:1},kerning:kt.metadata.Unicode.kerning||{}}:{font:kt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,b);G=Array.isArray(F)?F:String(F).split(/\r?\n/);var tt=1*this.internal.scaleFactor*C/Z;B.textIndent=b.textIndent?1*b.textIndent*this.internal.scaleFactor/Z:0,B.lineIndent=b.lineIndent;var at,lt,wt=[];for(at=0,lt=G.length;at<lt;at++)wt=wt.concat(B0.apply(this,[G[at],tt,B]));return wt},function(F){F.__fontmetrics__=F.__fontmetrics__||{};for(var C="klmnopqrstuvwxyz",b={},G={},Z=0;Z<C.length;Z++)b[C[Z]]="0123456789abcdef"[Z],G["0123456789abcdef"[Z]]=C[Z];var B=function(kt){return"0x"+parseInt(kt,10).toString(16)},tt=F.__fontmetrics__.compress=function(kt){var Zt,vt,he,ae,Ae=["{"];for(var Kt in kt){if(Zt=kt[Kt],isNaN(parseInt(Kt,10))?vt="'"+Kt+"'":(Kt=parseInt(Kt,10),vt=(vt=B(Kt).slice(2)).slice(0,-1)+G[vt.slice(-1)]),typeof Zt=="number")Zt<0?(he=B(Zt).slice(3),ae="-"):(he=B(Zt).slice(2),ae=""),he=ae+he.slice(0,-1)+G[he.slice(-1)];else{if(v()(Zt)!=="object")throw new Error("Don't know what to do with value type "+v()(Zt)+".");he=tt(Zt)}Ae.push(vt+he)}return Ae.push("}"),Ae.join("")},at=F.__fontmetrics__.uncompress=function(kt){if(typeof kt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Zt,vt,he,ae,Ae={},Kt=1,ge=Ae,Ye=[],cr="",Mr="",Qr=kt.length-1,yr=1;yr<Qr;yr+=1)(ae=kt[yr])=="'"?Zt?(he=Zt.join(""),Zt=void 0):Zt=[]:Zt?Zt.push(ae):ae=="{"?(Ye.push([ge,he]),ge={},he=void 0):ae=="}"?((vt=Ye.pop())[0][vt[1]]=ge,he=void 0,ge=vt[0]):ae=="-"?Kt=-1:he===void 0?b.hasOwnProperty(ae)?(cr+=b[ae],he=parseInt(cr,16)*Kt,Kt=1,cr=""):cr+=ae:b.hasOwnProperty(ae)?(Mr+=b[ae],ge[he]=parseInt(Mr,16)*Kt,Kt=1,he=void 0,Mr=""):Mr+=ae;return Ae},lt={codePages:["WinAnsiEncoding"],WinAnsiEncoding:at("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},wt={Unicode:{Courier:lt,"Courier-Bold":lt,"Courier-BoldOblique":lt,"Courier-Oblique":lt,Helvetica:lt,"Helvetica-Bold":lt,"Helvetica-BoldOblique":lt,"Helvetica-Oblique":lt,"Times-Roman":lt,"Times-Bold":lt,"Times-BoldItalic":lt,"Times-Italic":lt}},Ut={Unicode:{"Courier-Oblique":at("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":at("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":at("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:at("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":at("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":at("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:at("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:at("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":at("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:at("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":at("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":at("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":at("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":at("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};F.events.push(["addFont",function(kt){var Zt=kt.font,vt=Ut.Unicode[Zt.postScriptName];vt&&(Zt.metadata.Unicode={},Zt.metadata.Unicode.widths=vt.widths,Zt.metadata.Unicode.kerning=vt.kerning);var he=wt.Unicode[Zt.postScriptName];he&&(Zt.metadata.Unicode.encoding=he,Zt.encoding=he.codePages[0])}])}(pe.API),function(F){var C=function(b){for(var G=b.length,Z=new Uint8Array(G),B=0;B<G;B++)Z[B]=b.charCodeAt(B);return Z};F.API.events.push(["addFont",function(b){var G=void 0,Z=b.font,B=b.instance;if(!Z.isStandardFont){if(B===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Z.postScriptName+"').");if(typeof(G=B.existsFileInVFS(Z.postScriptName)===!1?B.loadFile(Z.postScriptName):B.getFileFromVFS(Z.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Z.postScriptName+"').");(function(tt,at){at=/^\x00\x01\x00\x00/.test(at)?C(at):C(z(at)),tt.metadata=F.API.TTFFont.open(at),tt.metadata.Unicode=tt.metadata.Unicode||{encoding:{},kerning:{},widths:[]},tt.metadata.glyIdsUsed=[0]})(Z,G)}}])}(pe),function(F){function C(){return(E.canvg?Promise.resolve(E.canvg):s.e(1).then(s.bind(null,"0d73"))).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b})}pe.API.addSvgAsImage=function(b,G,Z,B,tt,at,lt,wt){if(isNaN(G)||isNaN(Z))throw M.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(B)||isNaN(tt))throw M.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ut=document.createElement("canvas");Ut.width=B,Ut.height=tt;var kt=Ut.getContext("2d");kt.fillStyle="#fff",kt.fillRect(0,0,Ut.width,Ut.height);var Zt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},vt=this;return C().then(function(he){return he.fromString(kt,b,Zt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(he){return he.render(Zt)}).then(function(){vt.addImage(Ut.toDataURL("image/jpeg",1),G,Z,B,tt,lt,wt)})}}(),pe.API.putTotalPages=function(F){var C,b=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(C=new RegExp(F,"g"),b=this.internal.getNumberOfPages()):(C=new RegExp(this.pdfEscape16(F,this.internal.getFont()),"g"),b=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var G=1;G<=this.internal.getNumberOfPages();G++)for(var Z=0;Z<this.internal.pages[G].length;Z++)this.internal.pages[G][Z]=this.internal.pages[G][Z].replace(C,b);return this},pe.API.viewerPreferences=function(F,C){var b;F=F||{},C=C||!1;var G,Z,B,tt={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},at=Object.keys(tt),lt=[],wt=0,Ut=0,kt=0;function Zt(he,ae){var Ae,Kt=!1;for(Ae=0;Ae<he.length;Ae+=1)he[Ae]===ae&&(Kt=!0);return Kt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(tt)),this.internal.viewerpreferences.isSubscribed=!1),b=this.internal.viewerpreferences.configuration,F==="reset"||C===!0){var vt=at.length;for(kt=0;kt<vt;kt+=1)b[at[kt]].value=b[at[kt]].defaultValue,b[at[kt]].explicitSet=!1}if(v()(F)==="object"){for(Z in F)if(B=F[Z],Zt(at,Z)&&B!==void 0){if(b[Z].type==="boolean"&&typeof B=="boolean")b[Z].value=B;else if(b[Z].type==="name"&&Zt(b[Z].valueSet,B))b[Z].value=B;else if(b[Z].type==="integer"&&Number.isInteger(B))b[Z].value=B;else if(b[Z].type==="array"){for(wt=0;wt<B.length;wt+=1)if(G=!0,B[wt].length===1&&typeof B[wt][0]=="number")lt.push(String(B[wt]-1));else if(B[wt].length>1){for(Ut=0;Ut<B[wt].length;Ut+=1)typeof B[wt][Ut]!="number"&&(G=!1);G===!0&&lt.push([B[wt][0]-1,B[wt][1]-1].join(" "))}b[Z].value="["+lt.join(" ")+"]"}else b[Z].value=b[Z].defaultValue;b[Z].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var he,ae=[];for(he in b)b[he].explicitSet===!0&&(b[he].type==="name"?ae.push("/"+he+" /"+b[he].value):ae.push("/"+he+" "+b[he].value));ae.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ae.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=b,this},function(F){var C=function(){var G='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Z=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),B=unescape(encodeURIComponent(G)),tt=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),at=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),lt=unescape(encodeURIComponent("</x:xmpmeta>")),wt=B.length+tt.length+at.length+Z.length+lt.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+wt+" >>"),this.internal.write("stream"),this.internal.write(Z+B+tt+at+lt),this.internal.write("endstream"),this.internal.write("endobj")},b=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};F.addMetadata=function(G,Z){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:G,namespaceuri:Z||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",b),this.internal.events.subscribe("postPutResources",C)),this}}(pe.API),function(F){var C=F.API,b=C.pdfEscape16=function(B,tt){for(var at,lt=tt.metadata.Unicode.widths,wt=["","0","00","000","0000"],Ut=[""],kt=0,Zt=B.length;kt<Zt;++kt){if(at=tt.metadata.characterToGlyph(B.charCodeAt(kt)),tt.metadata.glyIdsUsed.push(at),tt.metadata.toUnicode[at]=B.charCodeAt(kt),lt.indexOf(at)==-1&&(lt.push(at),lt.push([parseInt(tt.metadata.widthOfGlyph(at),10)])),at=="0")return Ut.join("");at=at.toString(16),Ut.push(wt[4-at.length],at)}return Ut.join("")},G=function(B){var tt,at,lt,wt,Ut,kt,Zt;for(Ut=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,lt=[],kt=0,Zt=(at=Object.keys(B).sort(function(vt,he){return vt-he})).length;kt<Zt;kt++)tt=at[kt],lt.length>=100&&(Ut+=`
`+lt.length+` beginbfchar
`+lt.join(`
`)+`
endbfchar`,lt=[]),B[tt]!==void 0&&B[tt]!==null&&typeof B[tt].toString=="function"&&(wt=("0000"+B[tt].toString(16)).slice(-4),tt=("0000"+(+tt).toString(16)).slice(-4),lt.push("<"+tt+"><"+wt+">"));return lt.length&&(Ut+=`
`+lt.length+` beginbfchar
`+lt.join(`
`)+`
endbfchar
`),Ut+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};C.events.push(["putFont",function(B){(function(tt){var at=tt.font,lt=tt.out,wt=tt.newObject,Ut=tt.putStream;if(at.metadata instanceof F.API.TTFFont&&at.encoding==="Identity-H"){for(var kt=at.metadata.Unicode.widths,Zt=at.metadata.subset.encode(at.metadata.glyIdsUsed,1),vt="",he=0;he<Zt.length;he++)vt+=String.fromCharCode(Zt[he]);var ae=wt();Ut({data:vt,addLength1:!0,objectId:ae}),lt("endobj");var Ae=wt();Ut({data:G(at.metadata.toUnicode),addLength1:!0,objectId:Ae}),lt("endobj");var Kt=wt();lt("<<"),lt("/Type /FontDescriptor"),lt("/FontName /"+nr(at.fontName)),lt("/FontFile2 "+ae+" 0 R"),lt("/FontBBox "+F.API.PDFObject.convert(at.metadata.bbox)),lt("/Flags "+at.metadata.flags),lt("/StemV "+at.metadata.stemV),lt("/ItalicAngle "+at.metadata.italicAngle),lt("/Ascent "+at.metadata.ascender),lt("/Descent "+at.metadata.decender),lt("/CapHeight "+at.metadata.capHeight),lt(">>"),lt("endobj");var ge=wt();lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+nr(at.fontName)),lt("/FontDescriptor "+Kt+" 0 R"),lt("/W "+F.API.PDFObject.convert(kt)),lt("/CIDToGIDMap /Identity"),lt("/DW 1000"),lt("/Subtype /CIDFontType2"),lt("/CIDSystemInfo"),lt("<<"),lt("/Supplement 0"),lt("/Registry (Adobe)"),lt("/Ordering ("+at.encoding+")"),lt(">>"),lt(">>"),lt("endobj"),at.objectNumber=wt(),lt("<<"),lt("/Type /Font"),lt("/Subtype /Type0"),lt("/ToUnicode "+Ae+" 0 R"),lt("/BaseFont /"+nr(at.fontName)),lt("/Encoding /"+at.encoding),lt("/DescendantFonts ["+ge+" 0 R]"),lt(">>"),lt("endobj"),at.isAlreadyPutted=!0}})(B)}]),C.events.push(["putFont",function(B){(function(tt){var at=tt.font,lt=tt.out,wt=tt.newObject,Ut=tt.putStream;if(at.metadata instanceof F.API.TTFFont&&at.encoding==="WinAnsiEncoding"){for(var kt=at.metadata.rawData,Zt="",vt=0;vt<kt.length;vt++)Zt+=String.fromCharCode(kt[vt]);var he=wt();Ut({data:Zt,addLength1:!0,objectId:he}),lt("endobj");var ae=wt();Ut({data:G(at.metadata.toUnicode),addLength1:!0,objectId:ae}),lt("endobj");var Ae=wt();lt("<<"),lt("/Descent "+at.metadata.decender),lt("/CapHeight "+at.metadata.capHeight),lt("/StemV "+at.metadata.stemV),lt("/Type /FontDescriptor"),lt("/FontFile2 "+he+" 0 R"),lt("/Flags 96"),lt("/FontBBox "+F.API.PDFObject.convert(at.metadata.bbox)),lt("/FontName /"+nr(at.fontName)),lt("/ItalicAngle "+at.metadata.italicAngle),lt("/Ascent "+at.metadata.ascender),lt(">>"),lt("endobj"),at.objectNumber=wt();for(var Kt=0;Kt<at.metadata.hmtx.widths.length;Kt++)at.metadata.hmtx.widths[Kt]=parseInt(at.metadata.hmtx.widths[Kt]*(1e3/at.metadata.head.unitsPerEm));lt("<</Subtype/TrueType/Type/Font/ToUnicode "+ae+" 0 R/BaseFont/"+nr(at.fontName)+"/FontDescriptor "+Ae+" 0 R/Encoding/"+at.encoding+" /FirstChar 29 /LastChar 255 /Widths "+F.API.PDFObject.convert(at.metadata.hmtx.widths)+">>"),lt("endobj"),at.isAlreadyPutted=!0}})(B)}]);var Z=function(B){var tt,at=B.text||"",lt=B.x,wt=B.y,Ut=B.options||{},kt=B.mutex||{},Zt=kt.pdfEscape,vt=kt.activeFontKey,he=kt.fonts,ae=vt,Ae="",Kt=0,ge="",Ye=he[ae].encoding;if(he[ae].encoding!=="Identity-H")return{text:at,x:lt,y:wt,options:Ut,mutex:kt};for(ge=at,ae=vt,Array.isArray(at)&&(ge=at[0]),Kt=0;Kt<ge.length;Kt+=1)he[ae].metadata.hasOwnProperty("cmap")&&(tt=he[ae].metadata.cmap.unicode.codeMap[ge[Kt].charCodeAt(0)]),tt||ge[Kt].charCodeAt(0)<256&&he[ae].metadata.hasOwnProperty("Unicode")?Ae+=ge[Kt]:Ae+="";var cr="";return parseInt(ae.slice(1))<14||Ye==="WinAnsiEncoding"?cr=Zt(Ae,ae).split("").map(function(Mr){return Mr.charCodeAt(0).toString(16)}).join(""):Ye==="Identity-H"&&(cr=b(Ae,he[ae])),kt.isHex=!0,{text:cr,x:lt,y:wt,options:Ut,mutex:kt}};C.events.push(["postProcessText",function(B){var tt=B.text||"",at=[],lt={text:tt,x:B.x,y:B.y,options:B.options,mutex:B.mutex};if(Array.isArray(tt)){var wt=0;for(wt=0;wt<tt.length;wt+=1)Array.isArray(tt[wt])&&tt[wt].length===3?at.push([Z(Object.assign({},lt,{text:tt[wt][0]})).text,tt[wt][1],tt[wt][2]]):at.push(Z(Object.assign({},lt,{text:tt[wt]})).text);B.text=at}else B.text=Z(Object.assign({},lt,{text:tt})).text}])}(pe),function(F){var C=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};F.existsFileInVFS=function(b){return C.call(this),this.internal.vFS[b]!==void 0},F.addFileToVFS=function(b,G){return C.call(this),this.internal.vFS[b]=G,this},F.getFileFromVFS=function(b){return C.call(this),this.internal.vFS[b]!==void 0?this.internal.vFS[b]:null}}(pe.API),function(F){F.__bidiEngine__=F.prototype.__bidiEngine__=function(G){var Z,B,tt,at,lt,wt,Ut,kt=C,Zt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],vt=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],he={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ae={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Ae=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Kt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ge=!1,Ye=0;this.__bidiEngine__={};var cr=function(ee){var re=ee.charCodeAt(),Ne=re>>8,Te=ae[Ne];return Te!==void 0?kt[256*Te+(255&re)]:Ne===252||Ne===253?"AL":Kt.test(Ne)?"L":Ne===8?"R":"N"},Mr=function(ee){for(var re,Ne=0;Ne<ee.length;Ne++){if((re=cr(ee.charAt(Ne)))==="L")return!1;if(re==="R")return!0}return!1},Qr=function(ee,re,Ne,Te){var wr,gr,Fr,sr,fr=re[Te];switch(fr){case"L":case"R":ge=!1;break;case"N":case"AN":break;case"EN":ge&&(fr="AN");break;case"AL":ge=!0,fr="R";break;case"WS":fr="N";break;case"CS":Te<1||Te+1>=re.length||(wr=Ne[Te-1])!=="EN"&&wr!=="AN"||(gr=re[Te+1])!=="EN"&&gr!=="AN"?fr="N":ge&&(gr="AN"),fr=gr===wr?gr:"N";break;case"ES":fr=(wr=Te>0?Ne[Te-1]:"B")==="EN"&&Te+1<re.length&&re[Te+1]==="EN"?"EN":"N";break;case"ET":if(Te>0&&Ne[Te-1]==="EN"){fr="EN";break}if(ge){fr="N";break}for(Fr=Te+1,sr=re.length;Fr<sr&&re[Fr]==="ET";)Fr++;fr=Fr<sr&&re[Fr]==="EN"?"EN":"N";break;case"NSM":if(tt&&!at){for(sr=re.length,Fr=Te+1;Fr<sr&&re[Fr]==="NSM";)Fr++;if(Fr<sr){var Or=ee[Te],On=Or>=1425&&Or<=2303||Or===64286;if(wr=re[Fr],On&&(wr==="R"||wr==="AL")){fr="R";break}}}fr=Te<1||(wr=re[Te-1])==="B"?"N":Ne[Te-1];break;case"B":ge=!1,Z=!0,fr=Ye;break;case"S":B=!0,fr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ge=!1;break;case"BN":fr="N"}return fr},yr=function(ee,re,Ne){var Te=ee.split("");return Ne&&Ue(Te,Ne,{hiLevel:Ye}),Te.reverse(),re&&re.reverse(),Te.join("")},Ue=function(ee,re,Ne){var Te,wr,gr,Fr,sr,fr=-1,Or=ee.length,On=0,Ft=[],se=Ye?vt:Zt,me=[];for(ge=!1,Z=!1,B=!1,wr=0;wr<Or;wr++)me[wr]=cr(ee[wr]);for(gr=0;gr<Or;gr++){if(sr=On,Ft[gr]=Qr(ee,me,Ft,gr),Te=240&(On=se[sr][he[Ft[gr]]]),On&=15,re[gr]=Fr=se[On][5],Te>0)if(Te===16){for(wr=fr;wr<gr;wr++)re[wr]=1;fr=-1}else fr=-1;if(se[On][6])fr===-1&&(fr=gr);else if(fr>-1){for(wr=fr;wr<gr;wr++)re[wr]=Fr;fr=-1}me[gr]==="B"&&(re[gr]=0),Ne.hiLevel|=Fr}B&&function(Ie,ke,rr){for(var lr=0;lr<rr;lr++)if(Ie[lr]==="S"){ke[lr]=Ye;for(var ar=lr-1;ar>=0&&Ie[ar]==="WS";ar--)ke[ar]=Ye}}(me,re,Or)},Lr=function(ee,re,Ne,Te,wr){if(!(wr.hiLevel<ee)){if(ee===1&&Ye===1&&!Z)return re.reverse(),void(Ne&&Ne.reverse());for(var gr,Fr,sr,fr,Or=re.length,On=0;On<Or;){if(Te[On]>=ee){for(sr=On+1;sr<Or&&Te[sr]>=ee;)sr++;for(fr=On,Fr=sr-1;fr<Fr;fr++,Fr--)gr=re[fr],re[fr]=re[Fr],re[Fr]=gr,Ne&&(gr=Ne[fr],Ne[fr]=Ne[Fr],Ne[Fr]=gr);On=sr}On++}}},mr=function(ee,re,Ne){var Te=ee.split(""),wr={hiLevel:Ye};return Ne||(Ne=[]),Ue(Te,Ne,wr),function(gr,Fr,sr){if(sr.hiLevel!==0&&Ut)for(var fr,Or=0;Or<gr.length;Or++)Fr[Or]===1&&(fr=Ae.indexOf(gr[Or]))>=0&&(gr[Or]=Ae[fr+1])}(Te,Ne,wr),Lr(2,Te,re,Ne,wr),Lr(1,Te,re,Ne,wr),Te.join("")};return this.__bidiEngine__.doBidiReorder=function(ee,re,Ne){if(function(wr,gr){if(gr)for(var Fr=0;Fr<wr.length;Fr++)gr[Fr]=Fr;at===void 0&&(at=Mr(wr)),wt===void 0&&(wt=Mr(wr))}(ee,re),tt||!lt||wt)if(tt&&lt&&at^wt)Ye=at?1:0,ee=yr(ee,re,Ne);else if(!tt&&lt&&wt)Ye=at?1:0,ee=mr(ee,re,Ne),ee=yr(ee,re);else if(!tt||at||lt||wt){if(tt&&!lt&&at^wt)ee=yr(ee,re),at?(Ye=0,ee=mr(ee,re,Ne)):(Ye=1,ee=mr(ee,re,Ne),ee=yr(ee,re));else if(tt&&at&&!lt&&wt)Ye=1,ee=mr(ee,re,Ne),ee=yr(ee,re);else if(!tt&&!lt&&at^wt){var Te=Ut;at?(Ye=1,ee=mr(ee,re,Ne),Ye=0,Ut=!1,ee=mr(ee,re,Ne),Ut=Te):(Ye=0,ee=mr(ee,re,Ne),ee=yr(ee,re),Ye=1,Ut=!1,ee=mr(ee,re,Ne),Ut=Te,ee=yr(ee,re))}}else Ye=0,ee=mr(ee,re,Ne);else Ye=at?1:0,ee=mr(ee,re,Ne);return ee},this.__bidiEngine__.setOptions=function(ee){ee&&(tt=ee.isInputVisual,lt=ee.isOutputVisual,at=ee.isInputRtl,wt=ee.isOutputRtl,Ut=ee.isSymmetricSwapping)},this.__bidiEngine__.setOptions(G),this.__bidiEngine__};var C=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],b=new F.__bidiEngine__({isInputVisual:!0});F.API.events.push(["postProcessText",function(G){var Z=G.text,B=(G.x,G.y,G.options||{}),tt=(G.mutex,B.lang,[]);if(B.isInputVisual=typeof B.isInputVisual!="boolean"||B.isInputVisual,b.setOptions(B),Object.prototype.toString.call(Z)==="[object Array]"){var at=0;for(tt=[],at=0;at<Z.length;at+=1)Object.prototype.toString.call(Z[at])==="[object Array]"?tt.push([b.doBidiReorder(Z[at][0]),Z[at][1],Z[at][2]]):tt.push([b.doBidiReorder(Z[at])]);G.text=tt}else G.text=b.doBidiReorder(Z);b.setOptions({isInputVisual:!0})}])}(pe),pe.API.TTFFont=function(){function F(C){var b;if(this.rawData=C,b=this.contents=new ma(C),this.contents.pos=4,b.readString(4)==="ttcf")throw new Error("TTCF not supported.");b.pos=0,this.parse(),this.subset=new ls(this),this.registerTTF()}return F.open=function(C){return new F(C)},F.prototype.parse=function(){return this.directory=new Ys(this.contents),this.head=new Ou(this),this.name=new Cc(this),this.cmap=new Rc(this),this.toUnicode={},this.hhea=new ea(this),this.maxp=new Of(this),this.hmtx=new ws(this),this.post=new Vi(this),this.os2=new _o(this),this.loca=new Af(this),this.glyf=new Go(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},F.prototype.registerTTF=function(){var C,b,G,Z,B;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var tt,at,lt,wt;for(wt=[],tt=0,at=(lt=this.bbox).length;tt<at;tt++)C=lt[tt],wt.push(Math.round(C*this.scaleFactor));return wt}.call(this),this.stemV=0,this.post.exists?(G=255&(Z=this.post.italic_angle),(32768&(b=Z>>16))!=0&&(b=-(1+(65535^b))),this.italicAngle=+(b+"."+G)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(B=this.familyClass)===1||B===2||B===3||B===4||B===5||B===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},F.prototype.characterToGlyph=function(C){var b;return((b=this.cmap.unicode)!=null?b.codeMap[C]:void 0)||0},F.prototype.widthOfGlyph=function(C){var b;return b=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(C).advance*b},F.prototype.widthOfString=function(C,b,G){var Z,B,tt,at;for(tt=0,B=0,at=(C=""+C).length;0<=at?B<at:B>at;B=0<=at?++B:--B)Z=C.charCodeAt(B),tt+=this.widthOfGlyph(this.characterToGlyph(Z))+G*(1e3/b)||0;return tt*(b/1e3)},F.prototype.lineHeight=function(C,b){var G;return b==null&&(b=!1),G=b?this.lineGap:0,(this.ascender+G-this.decender)/1e3*C},F}();var Vo,ma=function(){function F(C){this.data=C!=null?C:[],this.pos=0,this.length=this.data.length}return F.prototype.readByte=function(){return this.data[this.pos++]},F.prototype.writeByte=function(C){return this.data[this.pos++]=C},F.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},F.prototype.writeUInt32=function(C){return this.writeByte(C>>>24&255),this.writeByte(C>>16&255),this.writeByte(C>>8&255),this.writeByte(255&C)},F.prototype.readInt32=function(){var C;return(C=this.readUInt32())>=2147483648?C-4294967296:C},F.prototype.writeInt32=function(C){return C<0&&(C+=4294967296),this.writeUInt32(C)},F.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},F.prototype.writeUInt16=function(C){return this.writeByte(C>>8&255),this.writeByte(255&C)},F.prototype.readInt16=function(){var C;return(C=this.readUInt16())>=32768?C-65536:C},F.prototype.writeInt16=function(C){return C<0&&(C+=65536),this.writeUInt16(C)},F.prototype.readString=function(C){var b,G;for(G=[],b=0;0<=C?b<C:b>C;b=0<=C?++b:--b)G[b]=String.fromCharCode(this.readByte());return G.join("")},F.prototype.writeString=function(C){var b,G,Z;for(Z=[],b=0,G=C.length;0<=G?b<G:b>G;b=0<=G?++b:--b)Z.push(this.writeByte(C.charCodeAt(b)));return Z},F.prototype.readShort=function(){return this.readInt16()},F.prototype.writeShort=function(C){return this.writeInt16(C)},F.prototype.readLongLong=function(){var C,b,G,Z,B,tt,at,lt;return C=this.readByte(),b=this.readByte(),G=this.readByte(),Z=this.readByte(),B=this.readByte(),tt=this.readByte(),at=this.readByte(),lt=this.readByte(),128&C?-1*(72057594037927940*(255^C)+281474976710656*(255^b)+1099511627776*(255^G)+4294967296*(255^Z)+16777216*(255^B)+65536*(255^tt)+256*(255^at)+(255^lt)+1):72057594037927940*C+281474976710656*b+1099511627776*G+4294967296*Z+16777216*B+65536*tt+256*at+lt},F.prototype.writeLongLong=function(C){var b,G;return b=Math.floor(C/4294967296),G=4294967295&C,this.writeByte(b>>24&255),this.writeByte(b>>16&255),this.writeByte(b>>8&255),this.writeByte(255&b),this.writeByte(G>>24&255),this.writeByte(G>>16&255),this.writeByte(G>>8&255),this.writeByte(255&G)},F.prototype.readInt=function(){return this.readInt32()},F.prototype.writeInt=function(C){return this.writeInt32(C)},F.prototype.read=function(C){var b,G;for(b=[],G=0;0<=C?G<C:G>C;G=0<=C?++G:--G)b.push(this.readByte());return b},F.prototype.write=function(C){var b,G,Z,B;for(B=[],G=0,Z=C.length;G<Z;G++)b=C[G],B.push(this.writeByte(b));return B},F}(),Ys=function(){var F;function C(b){var G,Z,B;for(this.scalarType=b.readInt(),this.tableCount=b.readShort(),this.searchRange=b.readShort(),this.entrySelector=b.readShort(),this.rangeShift=b.readShort(),this.tables={},Z=0,B=this.tableCount;0<=B?Z<B:Z>B;Z=0<=B?++Z:--Z)G={tag:b.readString(4),checksum:b.readInt(),offset:b.readInt(),length:b.readInt()},this.tables[G.tag]=G}return C.prototype.encode=function(b){var G,Z,B,tt,at,lt,wt,Ut,kt,Zt,vt,he,ae;for(ae in vt=Object.keys(b).length,lt=Math.log(2),kt=16*Math.floor(Math.log(vt)/lt),tt=Math.floor(kt/lt),Ut=16*vt-kt,(Z=new ma).writeInt(this.scalarType),Z.writeShort(vt),Z.writeShort(kt),Z.writeShort(tt),Z.writeShort(Ut),B=16*vt,wt=Z.pos+B,at=null,he=[],b)for(Zt=b[ae],Z.writeString(ae),Z.writeInt(F(Zt)),Z.writeInt(wt),Z.writeInt(Zt.length),he=he.concat(Zt),ae==="head"&&(at=wt),wt+=Zt.length;wt%4;)he.push(0),wt++;return Z.write(he),G=2981146554-F(Z.data),Z.pos=at+8,Z.writeUInt32(G),Z.data},F=function(b){var G,Z,B,tt;for(b=hn.call(b);b.length%4;)b.push(0);for(B=new ma(b),Z=0,G=0,tt=b.length;G<tt;G=G+=4)Z+=B.readUInt32();return 4294967295&Z},C}(),nc={}.hasOwnProperty,ss=function(F,C){for(var b in C)nc.call(C,b)&&(F[b]=C[b]);function G(){this.constructor=F}return G.prototype=C.prototype,F.prototype=new G,F.__super__=C.prototype,F};Vo=function(){function F(C){var b;this.file=C,b=this.file.directory.tables[this.tag],this.exists=!!b,b&&(this.offset=b.offset,this.length=b.length,this.parse(this.file.contents))}return F.prototype.parse=function(){},F.prototype.encode=function(){},F.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},F}();var Ou=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="head",C.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.revision=b.readInt(),this.checkSumAdjustment=b.readInt(),this.magicNumber=b.readInt(),this.flags=b.readShort(),this.unitsPerEm=b.readShort(),this.created=b.readLongLong(),this.modified=b.readLongLong(),this.xMin=b.readShort(),this.yMin=b.readShort(),this.xMax=b.readShort(),this.yMax=b.readShort(),this.macStyle=b.readShort(),this.lowestRecPPEM=b.readShort(),this.fontDirectionHint=b.readShort(),this.indexToLocFormat=b.readShort(),this.glyphDataFormat=b.readShort()},C.prototype.encode=function(b){var G;return(G=new ma).writeInt(this.version),G.writeInt(this.revision),G.writeInt(this.checkSumAdjustment),G.writeInt(this.magicNumber),G.writeShort(this.flags),G.writeShort(this.unitsPerEm),G.writeLongLong(this.created),G.writeLongLong(this.modified),G.writeShort(this.xMin),G.writeShort(this.yMin),G.writeShort(this.xMax),G.writeShort(this.yMax),G.writeShort(this.macStyle),G.writeShort(this.lowestRecPPEM),G.writeShort(this.fontDirectionHint),G.writeShort(b),G.writeShort(this.glyphDataFormat),G.data},C}(),ic=function(){function F(C,b){var G,Z,B,tt,at,lt,wt,Ut,kt,Zt,vt,he,ae,Ae,Kt,ge,Ye;switch(this.platformID=C.readUInt16(),this.encodingID=C.readShort(),this.offset=b+C.readInt(),kt=C.pos,C.pos=this.offset,this.format=C.readUInt16(),this.length=C.readUInt16(),this.language=C.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(lt=0;lt<256;++lt)this.codeMap[lt]=C.readByte();break;case 4:for(vt=C.readUInt16(),Zt=vt/2,C.pos+=6,B=function(){var cr,Mr;for(Mr=[],lt=cr=0;0<=Zt?cr<Zt:cr>Zt;lt=0<=Zt?++cr:--cr)Mr.push(C.readUInt16());return Mr}(),C.pos+=2,ae=function(){var cr,Mr;for(Mr=[],lt=cr=0;0<=Zt?cr<Zt:cr>Zt;lt=0<=Zt?++cr:--cr)Mr.push(C.readUInt16());return Mr}(),wt=function(){var cr,Mr;for(Mr=[],lt=cr=0;0<=Zt?cr<Zt:cr>Zt;lt=0<=Zt?++cr:--cr)Mr.push(C.readUInt16());return Mr}(),Ut=function(){var cr,Mr;for(Mr=[],lt=cr=0;0<=Zt?cr<Zt:cr>Zt;lt=0<=Zt?++cr:--cr)Mr.push(C.readUInt16());return Mr}(),Z=(this.length-C.pos+this.offset)/2,at=function(){var cr,Mr;for(Mr=[],lt=cr=0;0<=Z?cr<Z:cr>Z;lt=0<=Z?++cr:--cr)Mr.push(C.readUInt16());return Mr}(),lt=Kt=0,Ye=B.length;Kt<Ye;lt=++Kt)for(Ae=B[lt],G=ge=he=ae[lt];he<=Ae?ge<=Ae:ge>=Ae;G=he<=Ae?++ge:--ge)Ut[lt]===0?tt=G+wt[lt]:(tt=at[Ut[lt]/2+(G-he)-(Zt-lt)]||0)!==0&&(tt+=wt[lt]),this.codeMap[G]=65535&tt}C.pos=kt}return F.encode=function(C,b){var G,Z,B,tt,at,lt,wt,Ut,kt,Zt,vt,he,ae,Ae,Kt,ge,Ye,cr,Mr,Qr,yr,Ue,Lr,mr,ee,re,Ne,Te,wr,gr,Fr,sr,fr,Or,On,Ft,se,me,Ie,ke,rr,lr,ar,tn,Zr,pn;switch(Te=new ma,tt=Object.keys(C).sort(function(An,Hn){return An-Hn}),b){case"macroman":for(ae=0,Ae=function(){var An=[];for(he=0;he<256;++he)An.push(0);return An}(),ge={0:0},B={},wr=0,fr=tt.length;wr<fr;wr++)ge[ar=C[Z=tt[wr]]]==null&&(ge[ar]=++ae),B[Z]={old:C[Z],new:ge[C[Z]]},Ae[Z]=ge[C[Z]];return Te.writeUInt16(1),Te.writeUInt16(0),Te.writeUInt32(12),Te.writeUInt16(0),Te.writeUInt16(262),Te.writeUInt16(0),Te.write(Ae),{charMap:B,subtable:Te.data,maxGlyphID:ae+1};case"unicode":for(re=[],kt=[],Ye=0,ge={},G={},Kt=wt=null,gr=0,Or=tt.length;gr<Or;gr++)ge[Mr=C[Z=tt[gr]]]==null&&(ge[Mr]=++Ye),G[Z]={old:Mr,new:ge[Mr]},at=ge[Mr]-Z,Kt!=null&&at===wt||(Kt&&kt.push(Kt),re.push(Z),wt=at),Kt=Z;for(Kt&&kt.push(Kt),kt.push(65535),re.push(65535),mr=2*(Lr=re.length),Ue=2*Math.pow(Math.log(Lr)/Math.LN2,2),Zt=Math.log(Ue/2)/Math.LN2,yr=2*Lr-Ue,lt=[],Qr=[],vt=[],he=Fr=0,On=re.length;Fr<On;he=++Fr){if(ee=re[he],Ut=kt[he],ee===65535){lt.push(0),Qr.push(0);break}if(ee-(Ne=G[ee].new)>=32768)for(lt.push(0),Qr.push(2*(vt.length+Lr-he)),Z=sr=ee;ee<=Ut?sr<=Ut:sr>=Ut;Z=ee<=Ut?++sr:--sr)vt.push(G[Z].new);else lt.push(Ne-ee),Qr.push(0)}for(Te.writeUInt16(3),Te.writeUInt16(1),Te.writeUInt32(12),Te.writeUInt16(4),Te.writeUInt16(16+8*Lr+2*vt.length),Te.writeUInt16(0),Te.writeUInt16(mr),Te.writeUInt16(Ue),Te.writeUInt16(Zt),Te.writeUInt16(yr),rr=0,Ft=kt.length;rr<Ft;rr++)Z=kt[rr],Te.writeUInt16(Z);for(Te.writeUInt16(0),lr=0,se=re.length;lr<se;lr++)Z=re[lr],Te.writeUInt16(Z);for(tn=0,me=lt.length;tn<me;tn++)at=lt[tn],Te.writeUInt16(at);for(Zr=0,Ie=Qr.length;Zr<Ie;Zr++)cr=Qr[Zr],Te.writeUInt16(cr);for(pn=0,ke=vt.length;pn<ke;pn++)ae=vt[pn],Te.writeUInt16(ae);return{charMap:G,subtable:Te.data,maxGlyphID:Ye+1}}},F}(),Rc=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="cmap",C.prototype.parse=function(b){var G,Z,B;for(b.pos=this.offset,this.version=b.readUInt16(),B=b.readUInt16(),this.tables=[],this.unicode=null,Z=0;0<=B?Z<B:Z>B;Z=0<=B?++Z:--Z)G=new ic(b,this.offset),this.tables.push(G),G.isUnicode&&this.unicode==null&&(this.unicode=G);return!0},C.encode=function(b,G){var Z,B;return G==null&&(G="macroman"),Z=ic.encode(b,G),(B=new ma).writeUInt16(0),B.writeUInt16(1),Z.table=B.data.concat(Z.subtable),Z},C}(),ea=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="hhea",C.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.ascender=b.readShort(),this.decender=b.readShort(),this.lineGap=b.readShort(),this.advanceWidthMax=b.readShort(),this.minLeftSideBearing=b.readShort(),this.minRightSideBearing=b.readShort(),this.xMaxExtent=b.readShort(),this.caretSlopeRise=b.readShort(),this.caretSlopeRun=b.readShort(),this.caretOffset=b.readShort(),b.pos+=8,this.metricDataFormat=b.readShort(),this.numberOfMetrics=b.readUInt16()},C}(),_o=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="OS/2",C.prototype.parse=function(b){if(b.pos=this.offset,this.version=b.readUInt16(),this.averageCharWidth=b.readShort(),this.weightClass=b.readUInt16(),this.widthClass=b.readUInt16(),this.type=b.readShort(),this.ySubscriptXSize=b.readShort(),this.ySubscriptYSize=b.readShort(),this.ySubscriptXOffset=b.readShort(),this.ySubscriptYOffset=b.readShort(),this.ySuperscriptXSize=b.readShort(),this.ySuperscriptYSize=b.readShort(),this.ySuperscriptXOffset=b.readShort(),this.ySuperscriptYOffset=b.readShort(),this.yStrikeoutSize=b.readShort(),this.yStrikeoutPosition=b.readShort(),this.familyClass=b.readShort(),this.panose=function(){var G,Z;for(Z=[],G=0;G<10;++G)Z.push(b.readByte());return Z}(),this.charRange=function(){var G,Z;for(Z=[],G=0;G<4;++G)Z.push(b.readInt());return Z}(),this.vendorID=b.readString(4),this.selection=b.readShort(),this.firstCharIndex=b.readShort(),this.lastCharIndex=b.readShort(),this.version>0&&(this.ascent=b.readShort(),this.descent=b.readShort(),this.lineGap=b.readShort(),this.winAscent=b.readShort(),this.winDescent=b.readShort(),this.codePageRange=function(){var G,Z;for(Z=[],G=0;G<2;G=++G)Z.push(b.readInt());return Z}(),this.version>1))return this.xHeight=b.readShort(),this.capHeight=b.readShort(),this.defaultChar=b.readShort(),this.breakChar=b.readShort(),this.maxContext=b.readShort()},C}(),Vi=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="post",C.prototype.parse=function(b){var G,Z,B;switch(b.pos=this.offset,this.format=b.readInt(),this.italicAngle=b.readInt(),this.underlinePosition=b.readShort(),this.underlineThickness=b.readShort(),this.isFixedPitch=b.readInt(),this.minMemType42=b.readInt(),this.maxMemType42=b.readInt(),this.minMemType1=b.readInt(),this.maxMemType1=b.readInt(),this.format){case 65536:break;case 131072:var tt;for(Z=b.readUInt16(),this.glyphNameIndex=[],tt=0;0<=Z?tt<Z:tt>Z;tt=0<=Z?++tt:--tt)this.glyphNameIndex.push(b.readUInt16());for(this.names=[],B=[];b.pos<this.offset+this.length;)G=b.readByte(),B.push(this.names.push(b.readString(G)));return B;case 151552:return Z=b.readUInt16(),this.offsets=b.read(Z);case 196608:break;case 262144:return this.map=function(){var at,lt,wt;for(wt=[],tt=at=0,lt=this.file.maxp.numGlyphs;0<=lt?at<lt:at>lt;tt=0<=lt?++at:--at)wt.push(b.readUInt32());return wt}.call(this)}},C}(),yn=function(F,C){this.raw=F,this.length=F.length,this.platformID=C.platformID,this.encodingID=C.encodingID,this.languageID=C.languageID},Cc=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="name",C.prototype.parse=function(b){var G,Z,B,tt,at,lt,wt,Ut,kt,Zt,vt;for(b.pos=this.offset,b.readShort(),G=b.readShort(),lt=b.readShort(),Z=[],tt=0;0<=G?tt<G:tt>G;tt=0<=G?++tt:--tt)Z.push({platformID:b.readShort(),encodingID:b.readShort(),languageID:b.readShort(),nameID:b.readShort(),length:b.readShort(),offset:this.offset+lt+b.readShort()});for(wt={},tt=kt=0,Zt=Z.length;kt<Zt;tt=++kt)B=Z[tt],b.pos=B.offset,Ut=b.readString(B.length),at=new yn(Ut,B),wt[vt=B.nameID]==null&&(wt[vt]=[]),wt[B.nameID].push(at);this.strings=wt,this.copyright=wt[0],this.fontFamily=wt[1],this.fontSubfamily=wt[2],this.uniqueSubfamily=wt[3],this.fontName=wt[4],this.version=wt[5];try{this.postscriptName=wt[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=wt[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=wt[7],this.manufacturer=wt[8],this.designer=wt[9],this.description=wt[10],this.vendorUrl=wt[11],this.designerUrl=wt[12],this.license=wt[13],this.licenseUrl=wt[14],this.preferredFamily=wt[15],this.preferredSubfamily=wt[17],this.compatibleFull=wt[18],this.sampleText=wt[19]},C}(),Of=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="maxp",C.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.numGlyphs=b.readUInt16(),this.maxPoints=b.readUInt16(),this.maxContours=b.readUInt16(),this.maxCompositePoints=b.readUInt16(),this.maxComponentContours=b.readUInt16(),this.maxZones=b.readUInt16(),this.maxTwilightPoints=b.readUInt16(),this.maxStorage=b.readUInt16(),this.maxFunctionDefs=b.readUInt16(),this.maxInstructionDefs=b.readUInt16(),this.maxStackElements=b.readUInt16(),this.maxSizeOfInstructions=b.readUInt16(),this.maxComponentElements=b.readUInt16(),this.maxComponentDepth=b.readUInt16()},C}(),ws=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="hmtx",C.prototype.parse=function(b){var G,Z,B,tt,at,lt,wt;for(b.pos=this.offset,this.metrics=[],G=0,lt=this.file.hhea.numberOfMetrics;0<=lt?G<lt:G>lt;G=0<=lt?++G:--G)this.metrics.push({advance:b.readUInt16(),lsb:b.readInt16()});for(B=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ut,kt;for(kt=[],G=Ut=0;0<=B?Ut<B:Ut>B;G=0<=B?++Ut:--Ut)kt.push(b.readInt16());return kt}(),this.widths=function(){var Ut,kt,Zt,vt;for(vt=[],Ut=0,kt=(Zt=this.metrics).length;Ut<kt;Ut++)tt=Zt[Ut],vt.push(tt.advance);return vt}.call(this),Z=this.widths[this.widths.length-1],wt=[],G=at=0;0<=B?at<B:at>B;G=0<=B?++at:--at)wt.push(this.widths.push(Z));return wt},C.prototype.forGlyph=function(b){return b in this.metrics?this.metrics[b]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[b-this.metrics.length]}},C}(),hn=[].slice,Go=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="glyf",C.prototype.parse=function(){return this.cache={}},C.prototype.glyphFor=function(b){var G,Z,B,tt,at,lt,wt,Ut,kt,Zt;return b in this.cache?this.cache[b]:(tt=this.file.loca,G=this.file.contents,Z=tt.indexOf(b),(B=tt.lengthOf(b))===0?this.cache[b]=null:(G.pos=this.offset+Z,at=(lt=new ma(G.read(B))).readShort(),Ut=lt.readShort(),Zt=lt.readShort(),wt=lt.readShort(),kt=lt.readShort(),this.cache[b]=at===-1?new $r(lt,Ut,Zt,wt,kt):new hi(lt,at,Ut,Zt,wt,kt),this.cache[b]))},C.prototype.encode=function(b,G,Z){var B,tt,at,lt,wt;for(at=[],tt=[],lt=0,wt=G.length;lt<wt;lt++)B=b[G[lt]],tt.push(at.length),B&&(at=at.concat(B.encode(Z)));return tt.push(at.length),{table:at,offsets:tt}},C}(),hi=function(){function F(C,b,G,Z,B,tt){this.raw=C,this.numberOfContours=b,this.xMin=G,this.yMin=Z,this.xMax=B,this.yMax=tt,this.compound=!1}return F.prototype.encode=function(){return this.raw.data},F}(),$r=function(){function F(C,b,G,Z,B){var tt,at;for(this.raw=C,this.xMin=b,this.yMin=G,this.xMax=Z,this.yMax=B,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],tt=this.raw;at=tt.readShort(),this.glyphOffsets.push(tt.pos),this.glyphIDs.push(tt.readUInt16()),32&at;)tt.pos+=1&at?4:2,128&at?tt.pos+=8:64&at?tt.pos+=4:8&at&&(tt.pos+=2)}return F.prototype.encode=function(){var C,b,G;for(b=new ma(hn.call(this.raw.data)),C=0,G=this.glyphIDs.length;C<G;++C)b.pos=this.glyphOffsets[C];return b.data},F}(),Af=function(F){function C(){return C.__super__.constructor.apply(this,arguments)}return ss(C,Vo),C.prototype.tag="loca",C.prototype.parse=function(b){var G,Z;return b.pos=this.offset,G=this.file.head.indexToLocFormat,this.offsets=G===0?function(){var B,tt;for(tt=[],Z=0,B=this.length;Z<B;Z+=2)tt.push(2*b.readUInt16());return tt}.call(this):function(){var B,tt;for(tt=[],Z=0,B=this.length;Z<B;Z+=4)tt.push(b.readUInt32());return tt}.call(this)},C.prototype.indexOf=function(b){return this.offsets[b]},C.prototype.lengthOf=function(b){return this.offsets[b+1]-this.offsets[b]},C.prototype.encode=function(b,G){for(var Z=new Uint32Array(this.offsets.length),B=0,tt=0,at=0;at<Z.length;++at)if(Z[at]=B,tt<G.length&&G[tt]==at){++tt,Z[at]=B;var lt=this.offsets[at],wt=this.offsets[at+1]-lt;wt>0&&(B+=wt)}for(var Ut=new Array(4*Z.length),kt=0;kt<Z.length;++kt)Ut[4*kt+3]=255&Z[kt],Ut[4*kt+2]=(65280&Z[kt])>>8,Ut[4*kt+1]=(16711680&Z[kt])>>16,Ut[4*kt]=(4278190080&Z[kt])>>24;return Ut},C}(),ls=function(){function F(C){this.font=C,this.subset={},this.unicodes={},this.next=33}return F.prototype.generateCmap=function(){var C,b,G,Z,B;for(b in Z=this.font.cmap.tables[0].codeMap,C={},B=this.subset)G=B[b],C[b]=Z[G];return C},F.prototype.glyphsFor=function(C){var b,G,Z,B,tt,at,lt;for(Z={},tt=0,at=C.length;tt<at;tt++)Z[B=C[tt]]=this.font.glyf.glyphFor(B);for(B in b=[],Z)(G=Z[B])!=null&&G.compound&&b.push.apply(b,G.glyphIDs);if(b.length>0)for(B in lt=this.glyphsFor(b))G=lt[B],Z[B]=G;return Z},F.prototype.encode=function(C,b){var G,Z,B,tt,at,lt,wt,Ut,kt,Zt,vt,he,ae,Ae,Kt;for(Z in G=Rc.encode(this.generateCmap(),"unicode"),tt=this.glyphsFor(C),vt={0:0},Kt=G.charMap)vt[(lt=Kt[Z]).old]=lt.new;for(he in Zt=G.maxGlyphID,tt)he in vt||(vt[he]=Zt++);return Ut=function(ge){var Ye,cr;for(Ye in cr={},ge)cr[ge[Ye]]=Ye;return cr}(vt),kt=Object.keys(Ut).sort(function(ge,Ye){return ge-Ye}),ae=function(){var ge,Ye,cr;for(cr=[],ge=0,Ye=kt.length;ge<Ye;ge++)at=kt[ge],cr.push(Ut[at]);return cr}(),B=this.font.glyf.encode(tt,ae,vt),wt=this.font.loca.encode(B.offsets,ae),Ae={cmap:this.font.cmap.raw(),glyf:B.table,loca:wt,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(b)},this.font.os2.exists&&(Ae["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Ae)},F}();pe.API.PDFObject=function(){var F;function C(){}return F=function(b,G){return(Array(G+1).join("0")+b).slice(-G)},C.convert=function(b){var G,Z,B,tt;if(Array.isArray(b))return"["+function(){var at,lt,wt;for(wt=[],at=0,lt=b.length;at<lt;at++)G=b[at],wt.push(C.convert(G));return wt}().join(" ")+"]";if(typeof b=="string")return"/"+b;if(b!=null&&b.isString)return"("+b+")";if(b instanceof Date)return"(D:"+F(b.getUTCFullYear(),4)+F(b.getUTCMonth(),2)+F(b.getUTCDate(),2)+F(b.getUTCHours(),2)+F(b.getUTCMinutes(),2)+F(b.getUTCSeconds(),2)+"Z)";if({}.toString.call(b)==="[object Object]"){for(Z in B=["<<"],b)tt=b[Z],B.push("/"+Z+" "+C.convert(tt));return B.push(">>"),B.join(`
`)}return""+b},C}()}).call(this,s("c8ba"))},"8bbf":function(l,u){l.exports=FO},"90e3":function(l,u,s){var h=s("e330"),d=0,v=Math.random(),y=h(1 .toString);l.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+y(++d+v,36)}},"9112":function(l,u,s){var h=s("83ab"),d=s("9bf2"),v=s("5c6c");l.exports=h?function(y,E,w){return d.f(y,E,v(1,w))}:function(y,E,w){return y[E]=w,y}},"9152":function(l,u){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(s,h,d,v,y){var E,w,M=y*8-v-1,A=(1<<M)-1,I=A>>1,K=-7,z=d?y-1:0,X=d?-1:1,H=s[h+z];for(z+=X,E=H&(1<<-K)-1,H>>=-K,K+=M;K>0;E=E*256+s[h+z],z+=X,K-=8);for(w=E&(1<<-K)-1,E>>=-K,K+=v;K>0;w=w*256+s[h+z],z+=X,K-=8);if(E===0)E=1-I;else{if(E===A)return w?NaN:(H?-1:1)*(1/0);w=w+Math.pow(2,v),E=E-I}return(H?-1:1)*w*Math.pow(2,E-v)},u.write=function(s,h,d,v,y,E){var w,M,A,I=E*8-y-1,K=(1<<I)-1,z=K>>1,X=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=v?0:E-1,J=v?1:-1,nt=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(M=isNaN(h)?1:0,w=K):(w=Math.floor(Math.log(h)/Math.LN2),h*(A=Math.pow(2,-w))<1&&(w--,A*=2),w+z>=1?h+=X/A:h+=X*Math.pow(2,1-z),h*A>=2&&(w++,A/=2),w+z>=K?(M=0,w=K):w+z>=1?(M=(h*A-1)*Math.pow(2,y),w=w+z):(M=h*Math.pow(2,z-1)*Math.pow(2,y),w=0));y>=8;s[d+H]=M&255,H+=J,M/=256,y-=8);for(w=w<<y|M,I+=y;I>0;s[d+H]=w&255,H+=J,w/=256,I-=8);s[d+H-J]|=nt*128}},"9263":function(l,u,s){var h=s("c65b"),d=s("e330"),v=s("577e"),y=s("ad6d"),E=s("9f7f"),w=s("5692"),M=s("7c73"),A=s("69f3").get,I=s("fce3"),K=s("107c"),z=w("native-string-replace",String.prototype.replace),X=RegExp.prototype.exec,H=X,J=d("".charAt),nt=d("".indexOf),pt=d("".replace),it=d("".slice),N=function(){var St=/a/,Xt=/b*/g;return h(X,St,"a"),h(X,Xt,"a"),St.lastIndex!==0||Xt.lastIndex!==0}(),_t=E.BROKEN_CARET,Rt=/()??/.exec("")[1]!==void 0,Bt=N||Rt||_t||I||K;Bt&&(H=function(Xt){var It=this,Dt=A(It),Jt=v(Xt),le=Dt.raw,Ve,gt,Yt,oe,nr,ir,Ke;if(le)return le.lastIndex=It.lastIndex,Ve=h(H,le,Jt),It.lastIndex=le.lastIndex,Ve;var Ge=Dt.groups,Pr=_t&&It.sticky,Kr=h(y,It),pe=It.source,Qe=0,Er=Jt;if(Pr&&(Kr=pt(Kr,"y",""),nt(Kr,"g")===-1&&(Kr+="g"),Er=it(Jt,It.lastIndex),It.lastIndex>0&&(!It.multiline||It.multiline&&J(Jt,It.lastIndex-1)!==`
`)&&(pe="(?: "+pe+")",Er=" "+Er,Qe++),gt=new RegExp("^(?:"+pe+")",Kr)),Rt&&(gt=new RegExp("^"+pe+"$(?!\\s)",Kr)),N&&(Yt=It.lastIndex),oe=h(X,Pr?gt:It,Er),Pr?oe?(oe.input=it(oe.input,Qe),oe[0]=it(oe[0],Qe),oe.index=It.lastIndex,It.lastIndex+=oe[0].length):It.lastIndex=0:N&&oe&&(It.lastIndex=It.global?oe.index+oe[0].length:Yt),Rt&&oe&&oe.length>1&&h(z,oe[0],gt,function(){for(nr=1;nr<arguments.length-2;nr++)arguments[nr]===void 0&&(oe[nr]=void 0)}),oe&&Ge)for(oe.groups=ir=M(null),nr=0;nr<Ge.length;nr++)Ke=Ge[nr],ir[Ke[0]]=oe[Ke[1]];return oe}),l.exports=H},"94ca":function(l,u,s){var h=s("d039"),d=s("1626"),v=/#|\.prototype\./,y=function(I,K){var z=w[E(I)];return z==A?!0:z==M?!1:d(K)?h(K):!!K},E=y.normalize=function(I){return String(I).replace(v,".").toLowerCase()},w=y.data={},M=y.NATIVE="N",A=y.POLYFILL="P";l.exports=y},"99af":function(l,u,s){var h=s("23e7"),d=s("da84"),v=s("d039"),y=s("e8b5"),E=s("861d"),w=s("7b0b"),M=s("07fa"),A=s("8418"),I=s("65f0"),K=s("1dde"),z=s("b622"),X=s("2d00"),H=z("isConcatSpreadable"),J=9007199254740991,nt="Maximum allowed index exceeded",pt=d.TypeError,it=X>=51||!v(function(){var Bt=[];return Bt[H]=!1,Bt.concat()[0]!==Bt}),N=K("concat"),_t=function(Bt){if(!E(Bt))return!1;var St=Bt[H];return St!==void 0?!!St:y(Bt)},Rt=!it||!N;h({target:"Array",proto:!0,forced:Rt},{concat:function(St){var Xt=w(this),It=I(Xt,0),Dt=0,Jt,le,Ve,gt,Yt;for(Jt=-1,Ve=arguments.length;Jt<Ve;Jt++)if(Yt=Jt===-1?Xt:arguments[Jt],_t(Yt)){if(gt=M(Yt),Dt+gt>J)throw pt(nt);for(le=0;le<gt;le++,Dt++)le in Yt&&A(It,Dt,Yt[le])}else{if(Dt>=J)throw pt(nt);A(It,Dt++,Yt)}return It.length=Dt,It}})},"9a1f":function(l,u,s){var h=s("da84"),d=s("c65b"),v=s("59ed"),y=s("825a"),E=s("0d51"),w=s("35a1"),M=h.TypeError;l.exports=function(A,I){var K=arguments.length<2?w(A):I;if(v(K))return y(d(K,A));throw M(E(A)+" is not iterable")}},"9bdd":function(l,u,s){var h=s("825a"),d=s("2a62");l.exports=function(v,y,E,w){try{return w?y(h(E)[0],E[1]):y(E)}catch(M){d(v,"throw",M)}}},"9bf2":function(l,u,s){var h=s("da84"),d=s("83ab"),v=s("0cfb"),y=s("aed9"),E=s("825a"),w=s("a04b"),M=h.TypeError,A=Object.defineProperty,I=Object.getOwnPropertyDescriptor,K="enumerable",z="configurable",X="writable";u.f=d?y?function(J,nt,pt){if(E(J),nt=w(nt),E(pt),typeof J=="function"&&nt==="prototype"&&"value"in pt&&X in pt&&!pt[X]){var it=I(J,nt);it&&it[X]&&(J[nt]=pt.value,pt={configurable:z in pt?pt[z]:it[z],enumerable:K in pt?pt[K]:it[K],writable:!1})}return A(J,nt,pt)}:A:function(J,nt,pt){if(E(J),nt=w(nt),E(pt),v)try{return A(J,nt,pt)}catch{}if("get"in pt||"set"in pt)throw M("Accessors not supported");return"value"in pt&&(J[nt]=pt.value),J}},"9ed3":function(l,u,s){var h=s("ae93").IteratorPrototype,d=s("7c73"),v=s("5c6c"),y=s("d44e"),E=s("3f8c"),w=function(){return this};l.exports=function(M,A,I,K){var z=A+" Iterator";return M.prototype=d(h,{next:v(+!K,I)}),y(M,z,!1,!0),E[z]=w,M}},"9f5e":function(l,u,s){s.d(u,"a",function(){return h}),s.d(u,"i",function(){return d}),s.d(u,"f",function(){return v}),s.d(u,"h",function(){return y}),s.d(u,"j",function(){return E}),s.d(u,"c",function(){return w}),s.d(u,"d",function(){return M}),s.d(u,"b",function(){return A}),s.d(u,"e",function(){return I}),s.d(u,"g",function(){return K});function h(z,X,H){for(var J,nt,pt=H||d,it=0,N=z.length,_t=!1;it<N;)J=it+(N-it>>1),nt=+pt(z[J],X),nt<0?it=J+1:(N=J,_t=!nt);return _t?it:~it}function d(z,X){return z>X?1:z<X?-1:0}function v(z,X){return z.indexOf(X)>=0}function y(z,X,H){var J=z.length;if(z[0]<=X)return 0;if(X<=z[J-1])return J-1;var nt=void 0;if(H>0){for(nt=1;nt<J;++nt)if(z[nt]<X)return nt-1}else if(H<0){for(nt=1;nt<J;++nt)if(z[nt]<=X)return nt}else for(nt=1;nt<J;++nt){if(z[nt]==X)return nt;if(z[nt]<X)return typeof H=="function"?H(X,z[nt-1],z[nt])>0?nt-1:nt:z[nt-1]-X<X-z[nt]?nt-1:nt}return J-1}function E(z,X,H){for(;X<H;){var J=z[X];z[X]=z[H],z[H]=J,++X,--H}}function w(z,X){for(var H=Array.isArray(X)?X:[X],J=H.length,nt=0;nt<J;nt++)z[z.length]=H[nt]}function M(z,X){for(var H=z.length>>>0,J,nt=0;nt<H;nt++)if(J=z[nt],X(J,nt,z))return J;return null}function A(z,X){var H=z.length;if(H!==X.length)return!1;for(var J=0;J<H;J++)if(z[J]!==X[J])return!1;return!0}function I(z,X){var H,J=!z.every(function(nt,pt){return H=pt,!X(nt,pt,z)});return J?H:-1}function K(z,X,H){var J=X||d;return z.every(function(nt,pt){if(pt===0)return!0;var it=J(z[pt-1],nt);return!(it>0||H&&it===0)})}},"9f7f":function(l,u,s){var h=s("d039"),d=s("da84"),v=d.RegExp,y=h(function(){var M=v("a","y");return M.lastIndex=2,M.exec("abcd")!=null}),E=y||h(function(){return!v("a","y").sticky}),w=y||h(function(){var M=v("^r","gy");return M.lastIndex=2,M.exec("str")!=null});l.exports={BROKEN_CARET:w,MISSED_STICKY:E,UNSUPPORTED_Y:y}},a04b:function(l,u,s){var h=s("c04e"),d=s("d9b5");l.exports=function(v){var y=h(v,"string");return d(y)?y:y+""}},a434:function(l,u,s){var h=s("23e7"),d=s("da84"),v=s("23cb"),y=s("5926"),E=s("07fa"),w=s("7b0b"),M=s("65f0"),A=s("8418"),I=s("1dde"),K=I("splice"),z=d.TypeError,X=Math.max,H=Math.min,J=9007199254740991,nt="Maximum allowed length exceeded";h({target:"Array",proto:!0,forced:!K},{splice:function(it,N){var _t=w(this),Rt=E(_t),Bt=v(it,Rt),St=arguments.length,Xt,It,Dt,Jt,le,Ve;if(St===0?Xt=It=0:St===1?(Xt=0,It=Rt-Bt):(Xt=St-2,It=H(X(y(N),0),Rt-Bt)),Rt+Xt-It>J)throw z(nt);for(Dt=M(_t,It),Jt=0;Jt<It;Jt++)le=Bt+Jt,le in _t&&A(Dt,Jt,_t[le]);if(Dt.length=It,Xt<It){for(Jt=Bt;Jt<Rt-It;Jt++)le=Jt+It,Ve=Jt+Xt,le in _t?_t[Ve]=_t[le]:delete _t[Ve];for(Jt=Rt;Jt>Rt-It+Xt;Jt--)delete _t[Jt-1]}else if(Xt>It)for(Jt=Rt-It;Jt>Bt;Jt--)le=Jt+It-1,Ve=Jt+Xt-1,le in _t?_t[Ve]=_t[le]:delete _t[Ve];for(Jt=0;Jt<Xt;Jt++)_t[Jt+Bt]=arguments[Jt+2];return _t.length=Rt-It+Xt,Dt}})},a4d3:function(l,u,s){var h=s("23e7"),d=s("da84"),v=s("d066"),y=s("2ba4"),E=s("c65b"),w=s("e330"),M=s("c430"),A=s("83ab"),I=s("4930"),K=s("d039"),z=s("1a2d"),X=s("e8b5"),H=s("1626"),J=s("861d"),nt=s("3a9b"),pt=s("d9b5"),it=s("825a"),N=s("7b0b"),_t=s("fc6a"),Rt=s("a04b"),Bt=s("577e"),St=s("5c6c"),Xt=s("7c73"),It=s("df75"),Dt=s("241c"),Jt=s("057f"),le=s("7418"),Ve=s("06cf"),gt=s("9bf2"),Yt=s("37e8"),oe=s("d1e7"),nr=s("f36a"),ir=s("6eeb"),Ke=s("5692"),Ge=s("f772"),Pr=s("d012"),Kr=s("90e3"),pe=s("b622"),Qe=s("e538"),Er=s("746f"),Nr=s("d44e"),Pn=s("69f3"),Br=s("b727").forEach,Vt=Ge("hidden"),Qt="Symbol",At="prototype",ht=pe("toPrimitive"),Ct=Pn.set,te=Pn.getterFor(Qt),qt=Object[At],fe=d.Symbol,Pe=fe&&fe[At],Be=d.TypeError,ue=d.QObject,ft=v("JSON","stringify"),j=Ve.f,W=gt.f,st=Jt.f,$t=oe.f,Ee=w([].push),Le=Ke("symbols"),Ar=Ke("op-symbols"),Gr=Ke("string-to-symbol-registry"),zr=Ke("symbol-to-string-registry"),sn=Ke("wks"),Nn=!ue||!ue[At]||!ue[At].findChild,ci=A&&K(function(){return Xt(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a!=7})?function(an,dr,rn){var Mn=j(qt,dr);Mn&&delete qt[dr],W(an,dr,rn),Mn&&an!==qt&&W(qt,dr,Mn)}:W,ki=function(an,dr){var rn=Le[an]=Xt(Pe);return Ct(rn,{type:Qt,tag:an,description:dr}),A||(rn.description=dr),rn},Fn=function(dr,rn,Mn){dr===qt&&Fn(Ar,rn,Mn),it(dr);var ri=Rt(rn);return it(Mn),z(Le,ri)?(Mn.enumerable?(z(dr,Vt)&&dr[Vt][ri]&&(dr[Vt][ri]=!1),Mn=Xt(Mn,{enumerable:St(0,!1)})):(z(dr,Vt)||W(dr,Vt,St(1,{})),dr[Vt][ri]=!0),ci(dr,ri,Mn)):W(dr,ri,Mn)},qn=function(dr,rn){it(dr);var Mn=_t(rn),ri=It(Mn).concat(ya(Mn));return Br(ri,function(_i){(!A||E(gn,Mn,_i))&&Fn(dr,_i,Mn[_i])}),dr},Mi=function(dr,rn){return rn===void 0?Xt(dr):qn(Xt(dr),rn)},gn=function(dr){var rn=Rt(dr),Mn=E($t,this,rn);return this===qt&&z(Le,rn)&&!z(Ar,rn)?!1:Mn||!z(this,rn)||!z(Le,rn)||z(this,Vt)&&this[Vt][rn]?Mn:!0},ao=function(dr,rn){var Mn=_t(dr),ri=Rt(rn);if(!(Mn===qt&&z(Le,ri)&&!z(Ar,ri))){var _i=j(Mn,ri);return _i&&z(Le,ri)&&!(z(Mn,Vt)&&Mn[Vt][ri])&&(_i.enumerable=!0),_i}},kn=function(dr){var rn=st(_t(dr)),Mn=[];return Br(rn,function(ri){!z(Le,ri)&&!z(Pr,ri)&&Ee(Mn,ri)}),Mn},ya=function(dr){var rn=dr===qt,Mn=st(rn?Ar:_t(dr)),ri=[];return Br(Mn,function(_i){z(Le,_i)&&(!rn||z(qt,_i))&&Ee(ri,Le[_i])}),ri};if(I||(fe=function(){if(nt(Pe,this))throw Be("Symbol is not a constructor");var dr=!arguments.length||arguments[0]===void 0?void 0:Bt(arguments[0]),rn=Kr(dr),Mn=function(ri){this===qt&&E(Mn,Ar,ri),z(this,Vt)&&z(this[Vt],rn)&&(this[Vt][rn]=!1),ci(this,rn,St(1,ri))};return A&&Nn&&ci(qt,rn,{configurable:!0,set:Mn}),ki(rn,dr)},Pe=fe[At],ir(Pe,"toString",function(){return te(this).tag}),ir(fe,"withoutSetter",function(an){return ki(Kr(an),an)}),oe.f=gn,gt.f=Fn,Yt.f=qn,Ve.f=ao,Dt.f=Jt.f=kn,le.f=ya,Qe.f=function(an){return ki(pe(an),an)},A&&(W(Pe,"description",{configurable:!0,get:function(){return te(this).description}}),M||ir(qt,"propertyIsEnumerable",gn,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!I,sham:!I},{Symbol:fe}),Br(It(sn),function(an){Er(an)}),h({target:Qt,stat:!0,forced:!I},{for:function(an){var dr=Bt(an);if(z(Gr,dr))return Gr[dr];var rn=fe(dr);return Gr[dr]=rn,zr[rn]=dr,rn},keyFor:function(dr){if(!pt(dr))throw Be(dr+" is not a symbol");if(z(zr,dr))return zr[dr]},useSetter:function(){Nn=!0},useSimple:function(){Nn=!1}}),h({target:"Object",stat:!0,forced:!I,sham:!A},{create:Mi,defineProperty:Fn,defineProperties:qn,getOwnPropertyDescriptor:ao}),h({target:"Object",stat:!0,forced:!I},{getOwnPropertyNames:kn,getOwnPropertySymbols:ya}),h({target:"Object",stat:!0,forced:K(function(){le.f(1)})},{getOwnPropertySymbols:function(dr){return le.f(N(dr))}}),ft){var Lo=!I||K(function(){var an=fe();return ft([an])!="[null]"||ft({a:an})!="{}"||ft(Object(an))!="{}"});h({target:"JSON",stat:!0,forced:Lo},{stringify:function(dr,rn,Mn){var ri=nr(arguments),_i=rn;if(!(!J(rn)&&dr===void 0||pt(dr)))return X(rn)||(rn=function(wn,nn){if(H(_i)&&(nn=E(_i,this,wn,nn)),!pt(nn))return nn}),ri[1]=rn,y(ft,null,ri)}})}if(!Pe[ht]){var zi=Pe.valueOf;ir(Pe,ht,function(an){return E(zi,this)})}Nr(fe,Qt),Pr[Vt]=!0},a630:function(l,u,s){var h=s("23e7"),d=s("4df4"),v=s("1c7e"),y=!v(function(E){Array.from(E)});h({target:"Array",stat:!0,forced:y},{from:d})},a640:function(l,u,s){var h=s("d039");l.exports=function(d,v){var y=[][d];return!!y&&h(function(){y.call(null,v||function(){throw 1},1)})}},a9e3:function(l,u,s){var h=s("83ab"),d=s("da84"),v=s("e330"),y=s("94ca"),E=s("6eeb"),w=s("1a2d"),M=s("7156"),A=s("3a9b"),I=s("d9b5"),K=s("c04e"),z=s("d039"),X=s("241c").f,H=s("06cf").f,J=s("9bf2").f,nt=s("408a"),pt=s("58a8").trim,it="Number",N=d[it],_t=N.prototype,Rt=d.TypeError,Bt=v("".slice),St=v("".charCodeAt),Xt=function(gt){var Yt=K(gt,"number");return typeof Yt=="bigint"?Yt:It(Yt)},It=function(gt){var Yt=K(gt,"number"),oe,nr,ir,Ke,Ge,Pr,Kr,pe;if(I(Yt))throw Rt("Cannot convert a Symbol value to a number");if(typeof Yt=="string"&&Yt.length>2){if(Yt=pt(Yt),oe=St(Yt,0),oe===43||oe===45){if(nr=St(Yt,2),nr===88||nr===120)return NaN}else if(oe===48){switch(St(Yt,1)){case 66:case 98:ir=2,Ke=49;break;case 79:case 111:ir=8,Ke=55;break;default:return+Yt}for(Ge=Bt(Yt,2),Pr=Ge.length,Kr=0;Kr<Pr;Kr++)if(pe=St(Ge,Kr),pe<48||pe>Ke)return NaN;return parseInt(Ge,ir)}}return+Yt};if(y(it,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var Dt=function(Yt){var oe=arguments.length<1?0:N(Xt(Yt)),nr=this;return A(_t,nr)&&z(function(){nt(nr)})?M(Object(oe),nr,Dt):oe},Jt=h?X(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),le=0,Ve;Jt.length>le;le++)w(N,Ve=Jt[le])&&!w(Dt,Ve)&&J(Dt,Ve,H(N,Ve));Dt.prototype=_t,_t.constructor=Dt,E(d,it,Dt)}},ab13:function(l,u,s){var h=s("b622"),d=h("match");l.exports=function(v){var y=/./;try{"/./"[v](y)}catch{try{return y[d]=!1,"/./"[v](y)}catch{}}return!1}},ab36:function(l,u,s){var h=s("861d"),d=s("9112");l.exports=function(v,y){h(y)&&"cause"in y&&d(v,"cause",y.cause)}},ac1f:function(l,u,s){var h=s("23e7"),d=s("9263");h({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},ad6d:function(l,u,s){var h=s("825a");l.exports=function(){var d=h(this),v="";return d.global&&(v+="g"),d.ignoreCase&&(v+="i"),d.multiline&&(v+="m"),d.dotAll&&(v+="s"),d.unicode&&(v+="u"),d.sticky&&(v+="y"),v}},addb:function(l,u,s){var h=s("4dae"),d=Math.floor,v=function(w,M){var A=w.length,I=d(A/2);return A<8?y(w,M):E(w,v(h(w,0,I),M),v(h(w,I),M),M)},y=function(w,M){for(var A=w.length,I=1,K,z;I<A;){for(z=I,K=w[I];z&&M(w[z-1],K)>0;)w[z]=w[--z];z!==I++&&(w[z]=K)}return w},E=function(w,M,A,I){for(var K=M.length,z=A.length,X=0,H=0;X<K||H<z;)w[X+H]=X<K&&H<z?I(M[X],A[H])<=0?M[X++]:A[H++]:X<K?M[X++]:A[H++];return w};l.exports=v},ae93:function(l,u,s){var h=s("d039"),d=s("1626"),v=s("7c73"),y=s("e163"),E=s("6eeb"),w=s("b622"),M=s("c430"),A=w("iterator"),I=!1,K,z,X;[].keys&&(X=[].keys(),"next"in X?(z=y(y(X)),z!==Object.prototype&&(K=z)):I=!0);var H=K==null||h(function(){var J={};return K[A].call(J)!==J});H?K={}:M&&(K=v(K)),d(K[A])||E(K,A,function(){return this}),l.exports={IteratorPrototype:K,BUGGY_SAFARI_ITERATORS:I}},aed9:function(l,u,s){var h=s("83ab"),d=s("d039");l.exports=h&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},b041:function(l,u,s){var h=s("00ee"),d=s("f5df");l.exports=h?{}.toString:function(){return"[object "+d(this)+"]"}},b0c0:function(l,u,s){var h=s("83ab"),d=s("5e77").EXISTS,v=s("e330"),y=s("9bf2").f,E=Function.prototype,w=v(E.toString),M=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=v(M.exec),I="name";h&&!d&&y(E,I,{configurable:!0,get:function(){try{return A(M,w(this))[1]}catch{return""}}})},b622:function(l,u,s){var h=s("da84"),d=s("5692"),v=s("1a2d"),y=s("90e3"),E=s("4930"),w=s("fdbf"),M=d("wks"),A=h.Symbol,I=A&&A.for,K=w?A:A&&A.withoutSetter||y;l.exports=function(z){if(!v(M,z)||!(E||typeof M[z]=="string")){var X="Symbol."+z;E&&v(A,z)?M[z]=A[z]:w&&I?M[z]=I(X):M[z]=K(X)}return M[z]}},b639:function(l,u,s){(function(h){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var d=s("1fb5"),v=s("9152"),y=s("e3db");u.Buffer=A,u.SlowBuffer=N,u.INSPECT_MAX_BYTES=50,A.TYPED_ARRAY_SUPPORT=h.TYPED_ARRAY_SUPPORT!==void 0?h.TYPED_ARRAY_SUPPORT:E(),u.kMaxLength=w();function E(){try{var ft=new Uint8Array(1);return ft.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ft.foo()===42&&typeof ft.subarray=="function"&&ft.subarray(1,1).byteLength===0}catch{return!1}}function w(){return A.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function M(ft,j){if(w()<j)throw new RangeError("Invalid typed array length");return A.TYPED_ARRAY_SUPPORT?(ft=new Uint8Array(j),ft.__proto__=A.prototype):(ft===null&&(ft=new A(j)),ft.length=j),ft}function A(ft,j,W){if(!A.TYPED_ARRAY_SUPPORT&&!(this instanceof A))return new A(ft,j,W);if(typeof ft=="number"){if(typeof j=="string")throw new Error("If encoding is specified then the first argument must be a string");return X(this,ft)}return I(this,ft,j,W)}A.poolSize=8192,A._augment=function(ft){return ft.__proto__=A.prototype,ft};function I(ft,j,W,st){if(typeof j=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&j instanceof ArrayBuffer?nt(ft,j,W,st):typeof j=="string"?H(ft,j,W):pt(ft,j)}A.from=function(ft,j,W){return I(null,ft,j,W)},A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0}));function K(ft){if(typeof ft!="number")throw new TypeError('"size" argument must be a number');if(ft<0)throw new RangeError('"size" argument must not be negative')}function z(ft,j,W,st){return K(j),j<=0?M(ft,j):W!==void 0?typeof st=="string"?M(ft,j).fill(W,st):M(ft,j).fill(W):M(ft,j)}A.alloc=function(ft,j,W){return z(null,ft,j,W)};function X(ft,j){if(K(j),ft=M(ft,j<0?0:it(j)|0),!A.TYPED_ARRAY_SUPPORT)for(var W=0;W<j;++W)ft[W]=0;return ft}A.allocUnsafe=function(ft){return X(null,ft)},A.allocUnsafeSlow=function(ft){return X(null,ft)};function H(ft,j,W){if((typeof W!="string"||W==="")&&(W="utf8"),!A.isEncoding(W))throw new TypeError('"encoding" must be a valid string encoding');var st=_t(j,W)|0;ft=M(ft,st);var $t=ft.write(j,W);return $t!==st&&(ft=ft.slice(0,$t)),ft}function J(ft,j){var W=j.length<0?0:it(j.length)|0;ft=M(ft,W);for(var st=0;st<W;st+=1)ft[st]=j[st]&255;return ft}function nt(ft,j,W,st){if(j.byteLength,W<0||j.byteLength<W)throw new RangeError("'offset' is out of bounds");if(j.byteLength<W+(st||0))throw new RangeError("'length' is out of bounds");return W===void 0&&st===void 0?j=new Uint8Array(j):st===void 0?j=new Uint8Array(j,W):j=new Uint8Array(j,W,st),A.TYPED_ARRAY_SUPPORT?(ft=j,ft.__proto__=A.prototype):ft=J(ft,j),ft}function pt(ft,j){if(A.isBuffer(j)){var W=it(j.length)|0;return ft=M(ft,W),ft.length===0||j.copy(ft,0,0,W),ft}if(j){if(typeof ArrayBuffer!="undefined"&&j.buffer instanceof ArrayBuffer||"length"in j)return typeof j.length!="number"||ue(j.length)?M(ft,0):J(ft,j);if(j.type==="Buffer"&&y(j.data))return J(ft,j.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function it(ft){if(ft>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return ft|0}function N(ft){return+ft!=ft&&(ft=0),A.alloc(+ft)}A.isBuffer=function(j){return!!(j!=null&&j._isBuffer)},A.compare=function(j,W){if(!A.isBuffer(j)||!A.isBuffer(W))throw new TypeError("Arguments must be Buffers");if(j===W)return 0;for(var st=j.length,$t=W.length,Ee=0,Le=Math.min(st,$t);Ee<Le;++Ee)if(j[Ee]!==W[Ee]){st=j[Ee],$t=W[Ee];break}return st<$t?-1:$t<st?1:0},A.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(j,W){if(!y(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return A.alloc(0);var st;if(W===void 0)for(W=0,st=0;st<j.length;++st)W+=j[st].length;var $t=A.allocUnsafe(W),Ee=0;for(st=0;st<j.length;++st){var Le=j[st];if(!A.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy($t,Ee),Ee+=Le.length}return $t};function _t(ft,j){if(A.isBuffer(ft))return ft.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ft)||ft instanceof ArrayBuffer))return ft.byteLength;typeof ft!="string"&&(ft=""+ft);var W=ft.length;if(W===0)return 0;for(var st=!1;;)switch(j){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":case void 0:return te(ft).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return Pe(ft).length;default:if(st)return te(ft).length;j=(""+j).toLowerCase(),st=!0}}A.byteLength=_t;function Rt(ft,j,W){var st=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,j>>>=0,W<=j))return"";for(ft||(ft="utf8");;)switch(ft){case"hex":return Pr(this,j,W);case"utf8":case"utf-8":return oe(this,j,W);case"ascii":return Ke(this,j,W);case"latin1":case"binary":return Ge(this,j,W);case"base64":return Yt(this,j,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kr(this,j,W);default:if(st)throw new TypeError("Unknown encoding: "+ft);ft=(ft+"").toLowerCase(),st=!0}}A.prototype._isBuffer=!0;function Bt(ft,j,W){var st=ft[j];ft[j]=ft[W],ft[W]=st}A.prototype.swap16=function(){var j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var W=0;W<j;W+=2)Bt(this,W,W+1);return this},A.prototype.swap32=function(){var j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var W=0;W<j;W+=4)Bt(this,W,W+3),Bt(this,W+1,W+2);return this},A.prototype.swap64=function(){var j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var W=0;W<j;W+=8)Bt(this,W,W+7),Bt(this,W+1,W+6),Bt(this,W+2,W+5),Bt(this,W+3,W+4);return this},A.prototype.toString=function(){var j=this.length|0;return j===0?"":arguments.length===0?oe(this,0,j):Rt.apply(this,arguments)},A.prototype.equals=function(j){if(!A.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:A.compare(this,j)===0},A.prototype.inspect=function(){var j="",W=u.INSPECT_MAX_BYTES;return this.length>0&&(j=this.toString("hex",0,W).match(/.{2}/g).join(" "),this.length>W&&(j+=" ... ")),"<Buffer "+j+">"},A.prototype.compare=function(j,W,st,$t,Ee){if(!A.isBuffer(j))throw new TypeError("Argument must be a Buffer");if(W===void 0&&(W=0),st===void 0&&(st=j?j.length:0),$t===void 0&&($t=0),Ee===void 0&&(Ee=this.length),W<0||st>j.length||$t<0||Ee>this.length)throw new RangeError("out of range index");if($t>=Ee&&W>=st)return 0;if($t>=Ee)return-1;if(W>=st)return 1;if(W>>>=0,st>>>=0,$t>>>=0,Ee>>>=0,this===j)return 0;for(var Le=Ee-$t,Ar=st-W,Gr=Math.min(Le,Ar),zr=this.slice($t,Ee),sn=j.slice(W,st),Nn=0;Nn<Gr;++Nn)if(zr[Nn]!==sn[Nn]){Le=zr[Nn],Ar=sn[Nn];break}return Le<Ar?-1:Ar<Le?1:0};function St(ft,j,W,st,$t){if(ft.length===0)return-1;if(typeof W=="string"?(st=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,isNaN(W)&&(W=$t?0:ft.length-1),W<0&&(W=ft.length+W),W>=ft.length){if($t)return-1;W=ft.length-1}else if(W<0)if($t)W=0;else return-1;if(typeof j=="string"&&(j=A.from(j,st)),A.isBuffer(j))return j.length===0?-1:Xt(ft,j,W,st,$t);if(typeof j=="number")return j=j&255,A.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?$t?Uint8Array.prototype.indexOf.call(ft,j,W):Uint8Array.prototype.lastIndexOf.call(ft,j,W):Xt(ft,[j],W,st,$t);throw new TypeError("val must be string, number or Buffer")}function Xt(ft,j,W,st,$t){var Ee=1,Le=ft.length,Ar=j.length;if(st!==void 0&&(st=String(st).toLowerCase(),st==="ucs2"||st==="ucs-2"||st==="utf16le"||st==="utf-16le")){if(ft.length<2||j.length<2)return-1;Ee=2,Le/=2,Ar/=2,W/=2}function Gr(ki,Fn){return Ee===1?ki[Fn]:ki.readUInt16BE(Fn*Ee)}var zr;if($t){var sn=-1;for(zr=W;zr<Le;zr++)if(Gr(ft,zr)===Gr(j,sn===-1?0:zr-sn)){if(sn===-1&&(sn=zr),zr-sn+1===Ar)return sn*Ee}else sn!==-1&&(zr-=zr-sn),sn=-1}else for(W+Ar>Le&&(W=Le-Ar),zr=W;zr>=0;zr--){for(var Nn=!0,ci=0;ci<Ar;ci++)if(Gr(ft,zr+ci)!==Gr(j,ci)){Nn=!1;break}if(Nn)return zr}return-1}A.prototype.includes=function(j,W,st){return this.indexOf(j,W,st)!==-1},A.prototype.indexOf=function(j,W,st){return St(this,j,W,st,!0)},A.prototype.lastIndexOf=function(j,W,st){return St(this,j,W,st,!1)};function It(ft,j,W,st){W=Number(W)||0;var $t=ft.length-W;st?(st=Number(st),st>$t&&(st=$t)):st=$t;var Ee=j.length;if(Ee%2!==0)throw new TypeError("Invalid hex string");st>Ee/2&&(st=Ee/2);for(var Le=0;Le<st;++Le){var Ar=parseInt(j.substr(Le*2,2),16);if(isNaN(Ar))return Le;ft[W+Le]=Ar}return Le}function Dt(ft,j,W,st){return Be(te(j,ft.length-W),ft,W,st)}function Jt(ft,j,W,st){return Be(qt(j),ft,W,st)}function le(ft,j,W,st){return Jt(ft,j,W,st)}function Ve(ft,j,W,st){return Be(Pe(j),ft,W,st)}function gt(ft,j,W,st){return Be(fe(j,ft.length-W),ft,W,st)}A.prototype.write=function(j,W,st,$t){if(W===void 0)$t="utf8",st=this.length,W=0;else if(st===void 0&&typeof W=="string")$t=W,st=this.length,W=0;else if(isFinite(W))W=W|0,isFinite(st)?(st=st|0,$t===void 0&&($t="utf8")):($t=st,st=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ee=this.length-W;if((st===void 0||st>Ee)&&(st=Ee),j.length>0&&(st<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");$t||($t="utf8");for(var Le=!1;;)switch($t){case"hex":return It(this,j,W,st);case"utf8":case"utf-8":return Dt(this,j,W,st);case"ascii":return Jt(this,j,W,st);case"latin1":case"binary":return le(this,j,W,st);case"base64":return Ve(this,j,W,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,j,W,st);default:if(Le)throw new TypeError("Unknown encoding: "+$t);$t=(""+$t).toLowerCase(),Le=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Yt(ft,j,W){return j===0&&W===ft.length?d.fromByteArray(ft):d.fromByteArray(ft.slice(j,W))}function oe(ft,j,W){W=Math.min(ft.length,W);for(var st=[],$t=j;$t<W;){var Ee=ft[$t],Le=null,Ar=Ee>239?4:Ee>223?3:Ee>191?2:1;if($t+Ar<=W){var Gr,zr,sn,Nn;switch(Ar){case 1:Ee<128&&(Le=Ee);break;case 2:Gr=ft[$t+1],(Gr&192)===128&&(Nn=(Ee&31)<<6|Gr&63,Nn>127&&(Le=Nn));break;case 3:Gr=ft[$t+1],zr=ft[$t+2],(Gr&192)===128&&(zr&192)===128&&(Nn=(Ee&15)<<12|(Gr&63)<<6|zr&63,Nn>2047&&(Nn<55296||Nn>57343)&&(Le=Nn));break;case 4:Gr=ft[$t+1],zr=ft[$t+2],sn=ft[$t+3],(Gr&192)===128&&(zr&192)===128&&(sn&192)===128&&(Nn=(Ee&15)<<18|(Gr&63)<<12|(zr&63)<<6|sn&63,Nn>65535&&Nn<1114112&&(Le=Nn))}}Le===null?(Le=65533,Ar=1):Le>65535&&(Le-=65536,st.push(Le>>>10&1023|55296),Le=56320|Le&1023),st.push(Le),$t+=Ar}return ir(st)}var nr=4096;function ir(ft){var j=ft.length;if(j<=nr)return String.fromCharCode.apply(String,ft);for(var W="",st=0;st<j;)W+=String.fromCharCode.apply(String,ft.slice(st,st+=nr));return W}function Ke(ft,j,W){var st="";W=Math.min(ft.length,W);for(var $t=j;$t<W;++$t)st+=String.fromCharCode(ft[$t]&127);return st}function Ge(ft,j,W){var st="";W=Math.min(ft.length,W);for(var $t=j;$t<W;++$t)st+=String.fromCharCode(ft[$t]);return st}function Pr(ft,j,W){var st=ft.length;(!j||j<0)&&(j=0),(!W||W<0||W>st)&&(W=st);for(var $t="",Ee=j;Ee<W;++Ee)$t+=Ct(ft[Ee]);return $t}function Kr(ft,j,W){for(var st=ft.slice(j,W),$t="",Ee=0;Ee<st.length;Ee+=2)$t+=String.fromCharCode(st[Ee]+st[Ee+1]*256);return $t}A.prototype.slice=function(j,W){var st=this.length;j=~~j,W=W===void 0?st:~~W,j<0?(j+=st,j<0&&(j=0)):j>st&&(j=st),W<0?(W+=st,W<0&&(W=0)):W>st&&(W=st),W<j&&(W=j);var $t;if(A.TYPED_ARRAY_SUPPORT)$t=this.subarray(j,W),$t.__proto__=A.prototype;else{var Ee=W-j;$t=new A(Ee,void 0);for(var Le=0;Le<Ee;++Le)$t[Le]=this[Le+j]}return $t};function pe(ft,j,W){if(ft%1!==0||ft<0)throw new RangeError("offset is not uint");if(ft+j>W)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUIntLE=function(j,W,st){j=j|0,W=W|0,st||pe(j,W,this.length);for(var $t=this[j],Ee=1,Le=0;++Le<W&&(Ee*=256);)$t+=this[j+Le]*Ee;return $t},A.prototype.readUIntBE=function(j,W,st){j=j|0,W=W|0,st||pe(j,W,this.length);for(var $t=this[j+--W],Ee=1;W>0&&(Ee*=256);)$t+=this[j+--W]*Ee;return $t},A.prototype.readUInt8=function(j,W){return W||pe(j,1,this.length),this[j]},A.prototype.readUInt16LE=function(j,W){return W||pe(j,2,this.length),this[j]|this[j+1]<<8},A.prototype.readUInt16BE=function(j,W){return W||pe(j,2,this.length),this[j]<<8|this[j+1]},A.prototype.readUInt32LE=function(j,W){return W||pe(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},A.prototype.readUInt32BE=function(j,W){return W||pe(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},A.prototype.readIntLE=function(j,W,st){j=j|0,W=W|0,st||pe(j,W,this.length);for(var $t=this[j],Ee=1,Le=0;++Le<W&&(Ee*=256);)$t+=this[j+Le]*Ee;return Ee*=128,$t>=Ee&&($t-=Math.pow(2,8*W)),$t},A.prototype.readIntBE=function(j,W,st){j=j|0,W=W|0,st||pe(j,W,this.length);for(var $t=W,Ee=1,Le=this[j+--$t];$t>0&&(Ee*=256);)Le+=this[j+--$t]*Ee;return Ee*=128,Le>=Ee&&(Le-=Math.pow(2,8*W)),Le},A.prototype.readInt8=function(j,W){return W||pe(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},A.prototype.readInt16LE=function(j,W){W||pe(j,2,this.length);var st=this[j]|this[j+1]<<8;return st&32768?st|4294901760:st},A.prototype.readInt16BE=function(j,W){W||pe(j,2,this.length);var st=this[j+1]|this[j]<<8;return st&32768?st|4294901760:st},A.prototype.readInt32LE=function(j,W){return W||pe(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},A.prototype.readInt32BE=function(j,W){return W||pe(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},A.prototype.readFloatLE=function(j,W){return W||pe(j,4,this.length),v.read(this,j,!0,23,4)},A.prototype.readFloatBE=function(j,W){return W||pe(j,4,this.length),v.read(this,j,!1,23,4)},A.prototype.readDoubleLE=function(j,W){return W||pe(j,8,this.length),v.read(this,j,!0,52,8)},A.prototype.readDoubleBE=function(j,W){return W||pe(j,8,this.length),v.read(this,j,!1,52,8)};function Qe(ft,j,W,st,$t,Ee){if(!A.isBuffer(ft))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>$t||j<Ee)throw new RangeError('"value" argument is out of bounds');if(W+st>ft.length)throw new RangeError("Index out of range")}A.prototype.writeUIntLE=function(j,W,st,$t){if(j=+j,W=W|0,st=st|0,!$t){var Ee=Math.pow(2,8*st)-1;Qe(this,j,W,st,Ee,0)}var Le=1,Ar=0;for(this[W]=j&255;++Ar<st&&(Le*=256);)this[W+Ar]=j/Le&255;return W+st},A.prototype.writeUIntBE=function(j,W,st,$t){if(j=+j,W=W|0,st=st|0,!$t){var Ee=Math.pow(2,8*st)-1;Qe(this,j,W,st,Ee,0)}var Le=st-1,Ar=1;for(this[W+Le]=j&255;--Le>=0&&(Ar*=256);)this[W+Le]=j/Ar&255;return W+st},A.prototype.writeUInt8=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,1,255,0),A.TYPED_ARRAY_SUPPORT||(j=Math.floor(j)),this[W]=j&255,W+1};function Er(ft,j,W,st){j<0&&(j=65535+j+1);for(var $t=0,Ee=Math.min(ft.length-W,2);$t<Ee;++$t)ft[W+$t]=(j&255<<8*(st?$t:1-$t))>>>(st?$t:1-$t)*8}A.prototype.writeUInt16LE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[W]=j&255,this[W+1]=j>>>8):Er(this,j,W,!0),W+2},A.prototype.writeUInt16BE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[W]=j>>>8,this[W+1]=j&255):Er(this,j,W,!1),W+2};function Nr(ft,j,W,st){j<0&&(j=4294967295+j+1);for(var $t=0,Ee=Math.min(ft.length-W,4);$t<Ee;++$t)ft[W+$t]=j>>>(st?$t:3-$t)*8&255}A.prototype.writeUInt32LE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[W+3]=j>>>24,this[W+2]=j>>>16,this[W+1]=j>>>8,this[W]=j&255):Nr(this,j,W,!0),W+4},A.prototype.writeUInt32BE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[W]=j>>>24,this[W+1]=j>>>16,this[W+2]=j>>>8,this[W+3]=j&255):Nr(this,j,W,!1),W+4},A.prototype.writeIntLE=function(j,W,st,$t){if(j=+j,W=W|0,!$t){var Ee=Math.pow(2,8*st-1);Qe(this,j,W,st,Ee-1,-Ee)}var Le=0,Ar=1,Gr=0;for(this[W]=j&255;++Le<st&&(Ar*=256);)j<0&&Gr===0&&this[W+Le-1]!==0&&(Gr=1),this[W+Le]=(j/Ar>>0)-Gr&255;return W+st},A.prototype.writeIntBE=function(j,W,st,$t){if(j=+j,W=W|0,!$t){var Ee=Math.pow(2,8*st-1);Qe(this,j,W,st,Ee-1,-Ee)}var Le=st-1,Ar=1,Gr=0;for(this[W+Le]=j&255;--Le>=0&&(Ar*=256);)j<0&&Gr===0&&this[W+Le+1]!==0&&(Gr=1),this[W+Le]=(j/Ar>>0)-Gr&255;return W+st},A.prototype.writeInt8=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,1,127,-128),A.TYPED_ARRAY_SUPPORT||(j=Math.floor(j)),j<0&&(j=255+j+1),this[W]=j&255,W+1},A.prototype.writeInt16LE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[W]=j&255,this[W+1]=j>>>8):Er(this,j,W,!0),W+2},A.prototype.writeInt16BE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[W]=j>>>8,this[W+1]=j&255):Er(this,j,W,!1),W+2},A.prototype.writeInt32LE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,4,2147483647,-2147483648),A.TYPED_ARRAY_SUPPORT?(this[W]=j&255,this[W+1]=j>>>8,this[W+2]=j>>>16,this[W+3]=j>>>24):Nr(this,j,W,!0),W+4},A.prototype.writeInt32BE=function(j,W,st){return j=+j,W=W|0,st||Qe(this,j,W,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),A.TYPED_ARRAY_SUPPORT?(this[W]=j>>>24,this[W+1]=j>>>16,this[W+2]=j>>>8,this[W+3]=j&255):Nr(this,j,W,!1),W+4};function Pn(ft,j,W,st,$t,Ee){if(W+st>ft.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Br(ft,j,W,st,$t){return $t||Pn(ft,j,W,4),v.write(ft,j,W,st,23,4),W+4}A.prototype.writeFloatLE=function(j,W,st){return Br(this,j,W,!0,st)},A.prototype.writeFloatBE=function(j,W,st){return Br(this,j,W,!1,st)};function Vt(ft,j,W,st,$t){return $t||Pn(ft,j,W,8),v.write(ft,j,W,st,52,8),W+8}A.prototype.writeDoubleLE=function(j,W,st){return Vt(this,j,W,!0,st)},A.prototype.writeDoubleBE=function(j,W,st){return Vt(this,j,W,!1,st)},A.prototype.copy=function(j,W,st,$t){if(st||(st=0),!$t&&$t!==0&&($t=this.length),W>=j.length&&(W=j.length),W||(W=0),$t>0&&$t<st&&($t=st),$t===st||j.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(st<0||st>=this.length)throw new RangeError("sourceStart out of bounds");if($t<0)throw new RangeError("sourceEnd out of bounds");$t>this.length&&($t=this.length),j.length-W<$t-st&&($t=j.length-W+st);var Ee=$t-st,Le;if(this===j&&st<W&&W<$t)for(Le=Ee-1;Le>=0;--Le)j[Le+W]=this[Le+st];else if(Ee<1e3||!A.TYPED_ARRAY_SUPPORT)for(Le=0;Le<Ee;++Le)j[Le+W]=this[Le+st];else Uint8Array.prototype.set.call(j,this.subarray(st,st+Ee),W);return Ee},A.prototype.fill=function(j,W,st,$t){if(typeof j=="string"){if(typeof W=="string"?($t=W,W=0,st=this.length):typeof st=="string"&&($t=st,st=this.length),j.length===1){var Ee=j.charCodeAt(0);Ee<256&&(j=Ee)}if($t!==void 0&&typeof $t!="string")throw new TypeError("encoding must be a string");if(typeof $t=="string"&&!A.isEncoding($t))throw new TypeError("Unknown encoding: "+$t)}else typeof j=="number"&&(j=j&255);if(W<0||this.length<W||this.length<st)throw new RangeError("Out of range index");if(st<=W)return this;W=W>>>0,st=st===void 0?this.length:st>>>0,j||(j=0);var Le;if(typeof j=="number")for(Le=W;Le<st;++Le)this[Le]=j;else{var Ar=A.isBuffer(j)?j:te(new A(j,$t).toString()),Gr=Ar.length;for(Le=0;Le<st-W;++Le)this[Le+W]=Ar[Le%Gr]}return this};var Qt=/[^+\/0-9A-Za-z-_]/g;function At(ft){if(ft=ht(ft).replace(Qt,""),ft.length<2)return"";for(;ft.length%4!==0;)ft=ft+"=";return ft}function ht(ft){return ft.trim?ft.trim():ft.replace(/^\s+|\s+$/g,"")}function Ct(ft){return ft<16?"0"+ft.toString(16):ft.toString(16)}function te(ft,j){j=j||1/0;for(var W,st=ft.length,$t=null,Ee=[],Le=0;Le<st;++Le){if(W=ft.charCodeAt(Le),W>55295&&W<57344){if(!$t){if(W>56319){(j-=3)>-1&&Ee.push(239,191,189);continue}else if(Le+1===st){(j-=3)>-1&&Ee.push(239,191,189);continue}$t=W;continue}if(W<56320){(j-=3)>-1&&Ee.push(239,191,189),$t=W;continue}W=($t-55296<<10|W-56320)+65536}else $t&&(j-=3)>-1&&Ee.push(239,191,189);if($t=null,W<128){if((j-=1)<0)break;Ee.push(W)}else if(W<2048){if((j-=2)<0)break;Ee.push(W>>6|192,W&63|128)}else if(W<65536){if((j-=3)<0)break;Ee.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((j-=4)<0)break;Ee.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return Ee}function qt(ft){for(var j=[],W=0;W<ft.length;++W)j.push(ft.charCodeAt(W)&255);return j}function fe(ft,j){for(var W,st,$t,Ee=[],Le=0;Le<ft.length&&!((j-=2)<0);++Le)W=ft.charCodeAt(Le),st=W>>8,$t=W%256,Ee.push($t),Ee.push(st);return Ee}function Pe(ft){return d.toByteArray(At(ft))}function Be(ft,j,W,st){for(var $t=0;$t<st&&!($t+W>=j.length||$t>=ft.length);++$t)j[$t+W]=ft[$t];return $t}function ue(ft){return ft!==ft}}).call(this,s("c8ba"))},b64b:function(l,u,s){var h=s("23e7"),d=s("7b0b"),v=s("df75"),y=s("d039"),E=y(function(){v(1)});h({target:"Object",stat:!0,forced:E},{keys:function(M){return v(d(M))}})},b727:function(l,u,s){var h=s("0366"),d=s("e330"),v=s("44ad"),y=s("7b0b"),E=s("07fa"),w=s("65f0"),M=d([].push),A=function(I){var K=I==1,z=I==2,X=I==3,H=I==4,J=I==6,nt=I==7,pt=I==5||J;return function(it,N,_t,Rt){for(var Bt=y(it),St=v(Bt),Xt=h(N,_t),It=E(St),Dt=0,Jt=Rt||w,le=K?Jt(it,It):z||nt?Jt(it,0):void 0,Ve,gt;It>Dt;Dt++)if((pt||Dt in St)&&(Ve=St[Dt],gt=Xt(Ve,Dt,Bt),I))if(K)le[Dt]=gt;else if(gt)switch(I){case 3:return!0;case 5:return Ve;case 6:return Dt;case 2:M(le,Ve)}else switch(I){case 4:return!1;case 7:M(le,Ve)}return J?-1:X||H?H:le}};l.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},b980:function(l,u,s){var h=s("d039"),d=s("5c6c");l.exports=!h(function(){var v=Error("a");return"stack"in v?(Object.defineProperty(v,"stack",d(1,7)),v.stack!==7):!0})},c04e:function(l,u,s){var h=s("da84"),d=s("c65b"),v=s("861d"),y=s("d9b5"),E=s("dc4a"),w=s("485a"),M=s("b622"),A=h.TypeError,I=M("toPrimitive");l.exports=function(K,z){if(!v(K)||y(K))return K;var X=E(K,I),H;if(X){if(z===void 0&&(z="default"),H=d(X,K,z),!v(H)||y(H))return H;throw A("Can't convert object to primitive value")}return z===void 0&&(z="number"),w(K,z)}},c430:function(l,u){l.exports=!1},c65b:function(l,u,s){var h=s("40d5"),d=Function.prototype.call;l.exports=h?d.bind(d):function(){return d.apply(d,arguments)}},c6b6:function(l,u,s){var h=s("e330"),d=h({}.toString),v=h("".slice);l.exports=function(y){return v(d(y),8,-1)}},c6cd:function(l,u,s){var h=s("da84"),d=s("ce4e"),v="__core-js_shared__",y=h[v]||d(v,{});l.exports=y},c740:function(l,u,s){var h=s("23e7"),d=s("b727").findIndex,v=s("44d2"),y="findIndex",E=!0;y in[]&&Array(1)[y](function(){E=!1}),h({target:"Array",proto:!0,forced:E},{findIndex:function(M){return d(this,M,arguments.length>1?arguments[1]:void 0)}}),v(y)},c770:function(l,u,s){var h=s("e330"),d=h("".replace),v=function(w){return String(Error(w).stack)}("zxcasd"),y=/\n\s*at [^:]*:[^\n]*/,E=y.test(v);l.exports=function(w,M){if(E&&typeof w=="string")for(;M--;)w=d(w,y,"");return w}},c8ba:function(l,u){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}l.exports=s},ca84:function(l,u,s){var h=s("e330"),d=s("1a2d"),v=s("fc6a"),y=s("4d64").indexOf,E=s("d012"),w=h([].push);l.exports=function(M,A){var I=v(M),K=0,z=[],X;for(X in I)!d(E,X)&&d(I,X)&&w(z,X);for(;A.length>K;)d(I,X=A[K++])&&(~y(z,X)||w(z,X));return z}},caad:function(l,u,s){var h=s("23e7"),d=s("4d64").includes,v=s("44d2");h({target:"Array",proto:!0},{includes:function(E){return d(this,E,arguments.length>1?arguments[1]:void 0)}}),v("includes")},cc12:function(l,u,s){var h=s("da84"),d=s("861d"),v=h.document,y=d(v)&&d(v.createElement);l.exports=function(E){return y?v.createElement(E):{}}},ce4e:function(l,u,s){var h=s("da84"),d=Object.defineProperty;l.exports=function(v,y){try{d(h,v,{value:y,configurable:!0,writable:!0})}catch{h[v]=y}return y}},cef7:function(l,u,s){s.d(u,"b",function(){return d});var h=function(){function v(y){this.propagationStopped,this.defaultPrevented,this.type=y,this.target=null}return v.prototype.preventDefault=function(){this.defaultPrevented=!0},v.prototype.stopPropagation=function(){this.propagationStopped=!0},v}();function d(v){v.stopPropagation()}u.a=h},d012:function(l,u){l.exports={}},d039:function(l,u){l.exports=function(s){try{return!!s()}catch{return!0}}},d066:function(l,u,s){var h=s("da84"),d=s("1626"),v=function(y){return d(y)?y:void 0};l.exports=function(y,E){return arguments.length<2?v(h[y]):h[y]&&h[y][E]}},d1e7:function(l,u,s){var h={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,v=d&&!h.call({1:2},1);u.f=v?function(E){var w=d(this,E);return!!w&&w.enumerable}:h},d28b:function(l,u,s){var h=s("746f");h("iterator")},d2bb:function(l,u,s){var h=s("e330"),d=s("825a"),v=s("3bbe");l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y=!1,E={},w;try{w=h(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),w(E,[]),y=E instanceof Array}catch{}return function(A,I){return d(A),v(I),y?w(A,I):A.__proto__=I,A}}():void 0)},d3b7:function(l,u,s){var h=s("00ee"),d=s("6eeb"),v=s("b041");h||d(Object.prototype,"toString",v,{unsafe:!0})},d44e:function(l,u,s){var h=s("9bf2").f,d=s("1a2d"),v=s("b622"),y=v("toStringTag");l.exports=function(E,w,M){E&&!M&&(E=E.prototype),E&&!d(E,y)&&h(E,y,{configurable:!0,value:w})}},d784:function(l,u,s){s("ac1f");var h=s("e330"),d=s("6eeb"),v=s("9263"),y=s("d039"),E=s("b622"),w=s("9112"),M=E("species"),A=RegExp.prototype;l.exports=function(I,K,z,X){var H=E(I),J=!y(function(){var N={};return N[H]=function(){return 7},""[I](N)!=7}),nt=J&&!y(function(){var N=!1,_t=/a/;return I==="split"&&(_t={},_t.constructor={},_t.constructor[M]=function(){return _t},_t.flags="",_t[H]=/./[H]),_t.exec=function(){return N=!0,null},_t[H](""),!N});if(!J||!nt||z){var pt=h(/./[H]),it=K(H,""[I],function(N,_t,Rt,Bt,St){var Xt=h(N),It=_t.exec;return It===v||It===A.exec?J&&!St?{done:!0,value:pt(_t,Rt,Bt)}:{done:!0,value:Xt(Rt,_t,Bt)}:{done:!1}});d(String.prototype,I,it[0]),d(A,H,it[1])}X&&w(A[H],"sham",!0)}},d81d:function(l,u,s){var h=s("23e7"),d=s("b727").map,v=s("1dde"),y=v("map");h({target:"Array",proto:!0,forced:!y},{map:function(w){return d(this,w,arguments.length>1?arguments[1]:void 0)}})},d998:function(l,u,s){var h=s("342f");l.exports=/MSIE|Trident/.test(h)},d9b5:function(l,u,s){var h=s("da84"),d=s("d066"),v=s("1626"),y=s("3a9b"),E=s("fdbf"),w=h.Object;l.exports=E?function(M){return typeof M=="symbol"}:function(M){var A=d("Symbol");return v(A)&&y(A.prototype,w(M))}},d9e2:function(l,u,s){var h=s("23e7"),d=s("da84"),v=s("2ba4"),y=s("e5cb"),E="WebAssembly",w=d[E],M=Error("e",{cause:7}).cause!==7,A=function(K,z){var X={};X[K]=y(K,z,M),h({global:!0,forced:M},X)},I=function(K,z){if(w&&w[K]){var X={};X[K]=y(E+"."+K,z,M),h({target:E,stat:!0,forced:M},X)}};A("Error",function(K){return function(X){return v(K,this,arguments)}}),A("EvalError",function(K){return function(X){return v(K,this,arguments)}}),A("RangeError",function(K){return function(X){return v(K,this,arguments)}}),A("ReferenceError",function(K){return function(X){return v(K,this,arguments)}}),A("SyntaxError",function(K){return function(X){return v(K,this,arguments)}}),A("TypeError",function(K){return function(X){return v(K,this,arguments)}}),A("URIError",function(K){return function(X){return v(K,this,arguments)}}),I("CompileError",function(K){return function(X){return v(K,this,arguments)}}),I("LinkError",function(K){return function(X){return v(K,this,arguments)}}),I("RuntimeError",function(K){return function(X){return v(K,this,arguments)}})},da5c:function(l,u,s){var h=function(){function d(){this.disposed=!1}return d.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},d.prototype.disposeInternal=function(){},d}();u.a=h},da84:function(l,u,s){(function(h){var d=function(v){return v&&v.Math==Math&&v};l.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof h=="object"&&h)||function(){return this}()||Function("return this")()}).call(this,s("c8ba"))},dbb4:function(l,u,s){var h=s("23e7"),d=s("83ab"),v=s("56ef"),y=s("fc6a"),E=s("06cf"),w=s("8418");h({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(A){for(var I=y(A),K=E.f,z=v(I),X={},H=0,J,nt;z.length>H;)nt=K(I,J=z[H++]),nt!==void 0&&w(X,J,nt);return X}})},dbd0:function(l,u,s){},dc4a:function(l,u,s){var h=s("59ed");l.exports=function(d,v){var y=d[v];return y==null?void 0:h(y)}},ddb0:function(l,u,s){var h=s("da84"),d=s("fdbc"),v=s("785a"),y=s("e260"),E=s("9112"),w=s("b622"),M=w("iterator"),A=w("toStringTag"),I=y.values,K=function(X,H){if(X){if(X[M]!==I)try{E(X,M,I)}catch{X[M]=I}if(X[A]||E(X,A,H),d[H]){for(var J in y)if(X[J]!==y[J])try{E(X,J,y[J])}catch{X[J]=y[J]}}}};for(var z in d)K(h[z]&&h[z].prototype,z);K(v,"DOMTokenList")},df75:function(l,u,s){var h=s("ca84"),d=s("7839");l.exports=Object.keys||function(y){return h(y,d)}},e01a:function(l,u,s){var h=s("23e7"),d=s("83ab"),v=s("da84"),y=s("e330"),E=s("1a2d"),w=s("1626"),M=s("3a9b"),A=s("577e"),I=s("9bf2").f,K=s("e893"),z=v.Symbol,X=z&&z.prototype;if(d&&w(z)&&(!("description"in X)||z().description!==void 0)){var H={},J=function(){var St=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),Xt=M(X,this)?new z(St):St===void 0?z():z(St);return St===""&&(H[Xt]=!0),Xt};K(J,z),J.prototype=X,X.constructor=J;var nt=String(z("test"))=="Symbol(test)",pt=y(X.toString),it=y(X.valueOf),N=/^Symbol\((.*)\)[^)]+$/,_t=y("".replace),Rt=y("".slice);I(X,"description",{configurable:!0,get:function(){var St=it(this),Xt=pt(St);if(E(H,St))return"";var It=nt?Rt(Xt,7,-1):_t(Xt,N,"$1");return It===""?void 0:It}}),h({global:!0,forced:!0},{Symbol:J})}},e163:function(l,u,s){var h=s("da84"),d=s("1a2d"),v=s("1626"),y=s("7b0b"),E=s("f772"),w=s("e177"),M=E("IE_PROTO"),A=h.Object,I=A.prototype;l.exports=w?A.getPrototypeOf:function(K){var z=y(K);if(d(z,M))return z[M];var X=z.constructor;return v(X)&&z instanceof X?X.prototype:z instanceof A?I:null}},e177:function(l,u,s){var h=s("d039");l.exports=!h(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},e260:function(l,u,s){var h=s("fc6a"),d=s("44d2"),v=s("3f8c"),y=s("69f3"),E=s("9bf2").f,w=s("7dd0"),M=s("c430"),A=s("83ab"),I="Array Iterator",K=y.set,z=y.getterFor(I);l.exports=w(Array,"Array",function(H,J){K(this,{type:I,target:h(H),index:0,kind:J})},function(){var H=z(this),J=H.target,nt=H.kind,pt=H.index++;return!J||pt>=J.length?(H.target=void 0,{value:void 0,done:!0}):nt=="keys"?{value:pt,done:!1}:nt=="values"?{value:J[pt],done:!1}:{value:[pt,J[pt]],done:!1}},"values");var X=v.Arguments=v.Array;if(d("keys"),d("values"),d("entries"),!M&&A&&X.name!=="values")try{E(X,"name",{value:"values"})}catch{}},e269:function(l,u,s){var h=s("cef7"),d=s("7b4f"),v=s("35a7"),y=s("38f3"),E=s("1300"),w=function(){var I=function(K,z){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,H){X.__proto__=H}||function(X,H){for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(X[J]=H[J])},I(K,z)};return function(K,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");I(K,z);function X(){this.constructor=K}K.prototype=z===null?Object.create(z):(X.prototype=z.prototype,new X)}}(),M=function(I){w(K,I);function K(z,X,H){var J=I.call(this,z)||this;return J.key=X,J.oldValue=H,J}return K}(h.a),A=function(I){w(K,I);function K(z){var X=I.call(this)||this;return X.on,X.once,X.un,Object(E.c)(X),X.values_=null,z!==void 0&&X.setProperties(z),X}return K.prototype.get=function(z){var X;return this.values_&&this.values_.hasOwnProperty(z)&&(X=this.values_[z]),X},K.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},K.prototype.getProperties=function(){return this.values_&&Object(y.a)({},this.values_)||{}},K.prototype.hasProperties=function(){return!!this.values_},K.prototype.notify=function(z,X){var H;H="change:"+z,this.dispatchEvent(new M(H,z,X)),H=d.a.PROPERTYCHANGE,this.dispatchEvent(new M(H,z,X))},K.prototype.addChangeListener=function(z,X){this.addEventListener("change:"+z,X)},K.prototype.removeChangeListener=function(z,X){this.removeEventListener("change:"+z,X)},K.prototype.set=function(z,X,H){var J=this.values_||(this.values_={});if(H)J[z]=X;else{var nt=J[z];J[z]=X,nt!==X&&this.notify(z,nt)}},K.prototype.setProperties=function(z,X){for(var H in z)this.set(H,z[H],X)},K.prototype.applyProperties=function(z){!z.values_||Object(y.a)(this.values_||(this.values_={}),z.values_)},K.prototype.unset=function(z,X){if(this.values_&&z in this.values_){var H=this.values_[z];delete this.values_[z],Object(y.d)(this.values_)&&(this.values_=null),X||this.notify(z,H)}},K}(v.a);u.a=A},e330:function(l,u,s){var h=s("40d5"),d=Function.prototype,v=d.bind,y=d.call,E=h&&v.bind(y,y);l.exports=h?function(w){return w&&E(w)}:function(w){return w&&function(){return y.apply(w,arguments)}}},e391:function(l,u,s){var h=s("577e");l.exports=function(d,v){return d===void 0?arguments.length<2?"":v:h(d)}},e3db:function(l,u){var s={}.toString;l.exports=Array.isArray||function(h){return s.call(h)=="[object Array]"}},e439:function(l,u,s){var h=s("23e7"),d=s("d039"),v=s("fc6a"),y=s("06cf").f,E=s("83ab"),w=d(function(){y(1)}),M=!E||w;h({target:"Object",stat:!0,forced:M,sham:!E},{getOwnPropertyDescriptor:function(I,K){return y(v(I),K)}})},e4e0:function(l,u,s){(function(h){s.d(u,"a",function(){return y});var d=s("1300"),v=function(){var E=function(w,M){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var K in I)Object.prototype.hasOwnProperty.call(I,K)&&(A[K]=I[K])},E(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");E(w,M);function A(){this.constructor=w}w.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}();function y(E,w,M,A){var I=document.createElement("script"),K="olc_"+Object(d.c)(w);function z(){delete window[K],I.parentNode.removeChild(I)}I.async=!0,I.src=E+(E.indexOf("?")==-1?"?":"&")+(A||"callback")+"="+K;var X=setTimeout(function(){z(),M&&M()},1e4);window[K]=function(H){clearTimeout(X),z(),w(H)},document.getElementsByTagName("head")[0].appendChild(I)}(function(E){v(w,E);function w(M){var A=this,I="Unexpected response status: "+M.status;return A=E.call(this,I)||this,A.name="ResponseError",A.response=M,A}return w})(Error),function(E){v(w,E);function w(M){var A=E.call(this,"Failed to issue request")||this;return A.name="ClientError",A.client=M,A}return w}(Error)}).call(this,s("c8ba"))},e538:function(l,u,s){var h=s("b622");u.f=h},e5cb:function(l,u,s){var h=s("d066"),d=s("1a2d"),v=s("9112"),y=s("3a9b"),E=s("d2bb"),w=s("e893"),M=s("7156"),A=s("e391"),I=s("ab36"),K=s("c770"),z=s("b980"),X=s("c430");l.exports=function(H,J,nt,pt){var it=pt?2:1,N=H.split("."),_t=N[N.length-1],Rt=h.apply(null,N);if(!!Rt){var Bt=Rt.prototype;if(!X&&d(Bt,"cause")&&delete Bt.cause,!nt)return Rt;var St=h("Error"),Xt=J(function(It,Dt){var Jt=A(pt?Dt:It,void 0),le=pt?new Rt(It):new Rt;return Jt!==void 0&&v(le,"message",Jt),z&&v(le,"stack",K(le.stack,2)),this&&y(Bt,this)&&M(le,this,Xt),arguments.length>it&&I(le,arguments[it]),le});if(Xt.prototype=Bt,_t!=="Error"&&(E?E(Xt,St):w(Xt,St,{name:!0})),w(Xt,Rt),!X)try{Bt.name!==_t&&v(Bt,"name",_t),Bt.constructor=Xt}catch{}return Xt}}},e893:function(l,u,s){var h=s("1a2d"),d=s("56ef"),v=s("06cf"),y=s("9bf2");l.exports=function(E,w,M){for(var A=d(w),I=y.f,K=v.f,z=0;z<A.length;z++){var X=A[z];!h(E,X)&&!(M&&h(M,X))&&I(E,X,K(w,X))}}},e8b5:function(l,u,s){var h=s("c6b6");l.exports=Array.isArray||function(v){return h(v)=="Array"}},e95a:function(l,u,s){var h=s("b622"),d=s("3f8c"),v=h("iterator"),y=Array.prototype;l.exports=function(E){return E!==void 0&&(d.Array===E||y[v]===E)}},f36a:function(l,u,s){var h=s("e330");l.exports=h([].slice)},f5df:function(l,u,s){var h=s("da84"),d=s("00ee"),v=s("1626"),y=s("c6b6"),E=s("b622"),w=E("toStringTag"),M=h.Object,A=y(function(){return arguments}())=="Arguments",I=function(K,z){try{return K[z]}catch{}};l.exports=d?y:function(K){var z,X,H;return K===void 0?"Undefined":K===null?"Null":typeof(X=I(z=M(K),w))=="string"?X:A?y(z):(H=y(z))=="Object"&&v(z.callee)?"Arguments":H}},f772:function(l,u,s){var h=s("5692"),d=s("90e3"),v=h("keys");l.exports=function(y){return v[y]||(v[y]=d(y))}},f8c9:function(l,u,s){var h=s("23e7"),d=s("da84"),v=s("d44e");h({global:!0},{Reflect:{}}),v(d.Reflect,"Reflect",!0)},fb15:function(l,u,s){s.r(u),s.d(u,"install",function(){return Oy}),s.d(u,"Map",function(){return y}),s.d(u,"Layers",function(){return w}),s.d(u,"Sources",function(){return M}),s.d(u,"MapControls",function(){return A}),s.d(u,"Geometries",function(){return I}),s.d(u,"Styles",function(){return K}),s.d(u,"Interactions",function(){return z}),s.d(u,"Animations",function(){return X});var h={};s.r(h),s.d(h,"boundingExtent",function(){return At}),s.d(h,"buffer",function(){return Ct}),s.d(h,"clone",function(){return te}),s.d(h,"closestSquaredDistanceXY",function(){return qt}),s.d(h,"containsCoordinate",function(){return fe}),s.d(h,"containsExtent",function(){return Pe}),s.d(h,"containsXY",function(){return Be}),s.d(h,"coordinateRelationship",function(){return ue}),s.d(h,"createEmpty",function(){return ft}),s.d(h,"createOrUpdate",function(){return j}),s.d(h,"createOrUpdateEmpty",function(){return W}),s.d(h,"createOrUpdateFromCoordinate",function(){return st}),s.d(h,"createOrUpdateFromCoordinates",function(){return $t}),s.d(h,"createOrUpdateFromFlatCoordinates",function(){return Ee}),s.d(h,"createOrUpdateFromRings",function(){return Le}),s.d(h,"equals",function(){return Ar}),s.d(h,"approximatelyEquals",function(){return Gr}),s.d(h,"extend",function(){return zr}),s.d(h,"extendCoordinate",function(){return sn}),s.d(h,"extendCoordinates",function(){return Nn}),s.d(h,"extendFlatCoordinates",function(){return ci}),s.d(h,"extendRings",function(){return ki}),s.d(h,"extendXY",function(){return Fn}),s.d(h,"forEachCorner",function(){return qn}),s.d(h,"getArea",function(){return Mi}),s.d(h,"getBottomLeft",function(){return gn}),s.d(h,"getBottomRight",function(){return ao}),s.d(h,"getCenter",function(){return kn}),s.d(h,"getCorner",function(){return ya}),s.d(h,"getEnlargedArea",function(){return Lo}),s.d(h,"getForViewAndSize",function(){return zi}),s.d(h,"getHeight",function(){return an}),s.d(h,"getIntersectionArea",function(){return dr}),s.d(h,"getIntersection",function(){return rn}),s.d(h,"getMargin",function(){return Mn}),s.d(h,"getSize",function(){return ri}),s.d(h,"getTopLeft",function(){return _i}),s.d(h,"getTopRight",function(){return wn}),s.d(h,"getWidth",function(){return nn}),s.d(h,"intersects",function(){return Ei}),s.d(h,"isEmpty",function(){return ho}),s.d(h,"returnOrUpdate",function(){return zo}),s.d(h,"scaleFromCenter",function(){return Un}),s.d(h,"intersectsSegment",function(){return Ss}),s.d(h,"applyTransform",function(){return Da}),s.d(h,"wrapX",function(){return Io});var d={};s.r(d),s.d(d,"easeIn",function(){return pr}),s.d(d,"easeOut",function(){return Hr}),s.d(d,"inAndOut",function(){return on}),s.d(d,"linear",function(){return qr}),s.d(d,"upAndDown",function(){return Jr});var v={};s.r(v),s.d(v,"all",function(){return Sh}),s.d(v,"altKeyOnly",function(){return Fd}),s.d(v,"altShiftKeysOnly",function(){return wh}),s.d(v,"focus",function(){return zg}),s.d(v,"focusWithTabindex",function(){return O1}),s.d(v,"always",function(){return jf}),s.d(v,"click",function(){return e5}),s.d(v,"mouseActionButton",function(){return A1}),s.d(v,"never",function(){return M1}),s.d(v,"pointerMove",function(){return r5}),s.d(v,"singleClick",function(){return Bu}),s.d(v,"doubleClick",function(){return Uu}),s.d(v,"noModifierKeys",function(){return iu}),s.d(v,"platformModifierKeyOnly",function(){return n5}),s.d(v,"shiftKeyOnly",function(){return xh}),s.d(v,"targetNotEditable",function(){return fc}),s.d(v,"mouseOnly",function(){return vs}),s.d(v,"touchOnly",function(){return i5}),s.d(v,"penOnly",function(){return o5}),s.d(v,"primaryAction",function(){return Dd});var y={};s.r(y),s.d(y,"default",function(){return Kb}),s.d(y,"install",function(){return v2}),s.d(y,"Map",function(){return Mo}),s.d(y,"View",function(){return Li}),s.d(y,"Feature",function(){return ts}),s.d(y,"Overlay",function(){return Uf}),s.d(y,"GeoLocation",function(){return kd}),s.d(y,"Projection",function(){return A5});var E={};s.r(E),s.d(E,"all",function(){return o7}),s.d(E,"bbox",function(){return LP}),s.d(E,"tile",function(){return IP});var w={};s.r(w),s.d(w,"default",function(){return QP}),s.d(w,"install",function(){return D2}),s.d(w,"TileLayer",function(){return b5}),s.d(w,"WebGLTileLayer",function(){return V5}),s.d(w,"ImageLayer",function(){return W5}),s.d(w,"VectorLayer",function(){return q5}),s.d(w,"AnimatedClusterLayer",function(){return Q5}),s.d(w,"WebglPointsLayer",function(){return t_});var M={};s.r(M),s.d(M,"default",function(){return vF}),s.d(M,"install",function(){return V2}),s.d(M,"SourceXYZ",function(){return n_}),s.d(M,"SourceOSM",function(){return i_}),s.d(M,"SourceImageStatic",function(){return s_}),s.d(M,"SourceWMTS",function(){return u_}),s.d(M,"SourceVector",function(){return c_}),s.d(M,"SourceCluster",function(){return h_}),s.d(M,"SourceTianDiTu",function(){return d_}),s.d(M,"SourceImageWMS",function(){return p_}),s.d(M,"SourceWebglPoints",function(){return v_});var A={};s.r(A),s.d(A,"default",function(){return cj}),s.d(A,"install",function(){return Z2}),s.d(A,"FullScreenControl",function(){return y_}),s.d(A,"MousePositionControl",function(){return __}),s.d(A,"AttributionControl",function(){return E_}),s.d(A,"OverviewMapControl",function(){return w_}),s.d(A,"ScaleLineControl",function(){return O_}),s.d(A,"ZoomControl",function(){return A_}),s.d(A,"ZoomSliderControl",function(){return M_}),s.d(A,"ZoomToExtentControl",function(){return R_}),s.d(A,"ContextMenuControl",function(){return C_}),s.d(A,"SwipeControl",function(){return b_}),s.d(A,"ControlBar",function(){return L_}),s.d(A,"ToggleControl",function(){return P_}),s.d(A,"ButtonControl",function(){return N_}),s.d(A,"PrintDialog",function(){return G_}),s.d(A,"VideoRecorderControl",function(){return B_}),s.d(A,"LayerSwitcherControl",function(){return K2}),s.d(A,"LayerSwitcherImageControl",function(){return k_}),s.d(A,"ZoneControl",function(){return z_});var I={};s.r(I),s.d(I,"default",function(){return Cj}),s.d(I,"install",function(){return J2}),s.d(I,"Point",function(){return V_}),s.d(I,"LineString",function(){return W_}),s.d(I,"Polygon",function(){return Y_}),s.d(I,"MultiPoint",function(){return H_}),s.d(I,"MultiLineString",function(){return X_}),s.d(I,"MultiPolygon",function(){return K_});var K={};s.r(K),s.d(K,"default",function(){return Jj}),s.d(K,"install",function(){return ey}),s.d(K,"Style",function(){return t3}),s.d(K,"Stroke",function(){return r3}),s.d(K,"Fill",function(){return n3}),s.d(K,"Icon",function(){return i3}),s.d(K,"Text",function(){return o3}),s.d(K,"FlowLine",function(){return a3}),s.d(K,"Circle",function(){return e3});var z={};s.r(z),s.d(z,"default",function(){return OG}),s.d(z,"install",function(){return iy}),s.d(z,"SelectInteraction",function(){return s3}),s.d(z,"ClusterSelectInteraction",function(){return l3}),s.d(z,"DrawInteraction",function(){return u3}),s.d(z,"SnapInteraction",function(){return c3}),s.d(z,"ModifyInteraction",function(){return h3}),s.d(z,"TransformInteraction",function(){return f3}),s.d(z,"DragRotateAndZoomInteraction",function(){return d3});var X={};s.r(X),s.d(X,"default",function(){return ZG}),s.d(X,"install",function(){return oy}),s.d(X,"FeatureAnimation",function(){return $c}),s.d(X,"DropAnimation",function(){return v3}),s.d(X,"ShakeAnimation",function(){return y3}),s.d(X,"ZoomAnimation",function(){return m3}),s.d(X,"TeleportAnimation",function(){return E3}),s.d(X,"FadeAnimation",function(){return w3}),s.d(X,"PathAnimation",function(){return A3}),s.d(X,"SlideAnimation",function(){return T3});var H={};s.r(H),s.d(H,"Circle",function(){return $_}),s.d(H,"Geometry",function(){return so}),s.d(H,"GeometryCollection",function(){return xl}),s.d(H,"LinearRing",function(){return Pu}),s.d(H,"LineString",function(){return Jo}),s.d(H,"MultiLineString",function(){return cu}),s.d(H,"MultiPoint",function(){return Sc}),s.d(H,"MultiPolygon",function(){return wl}),s.d(H,"Point",function(){return Fi}),s.d(H,"Polygon",function(){return fo}),s.d(H,"SimpleGeometry",function(){return Po});var J={};if(s.r(J),s.d(J,"EsriJSON",function(){return yB}),s.d(J,"GeoJSON",function(){return NB}),s.d(J,"GML",function(){return $B}),s.d(J,"GPX",function(){return CU}),s.d(J,"IGC",function(){return GU}),s.d(J,"IIIFInfo",function(){return YU}),s.d(J,"KML",function(){return bz}),s.d(J,"MVT",function(){return Uz}),s.d(J,"OWS",function(){return k9}),s.d(J,"Polyline",function(){return bV}),s.d(J,"TopoJSON",function(){return VV}),s.d(J,"WFS",function(){return jW}),s.d(J,"WKB",function(){return VW}),s.d(J,"WKT",function(){return nY}),s.d(J,"WMSCapabilities",function(){return BY}),s.d(J,"WMSGetFeatureInfo",function(){return WY}),s.d(J,"WMTSCapabilities",function(){return vH}),typeof window!="undefined"){var nt=window.document.currentScript;{var pt=s("8875");nt=pt(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:pt})}var it=nt&&nt.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);it&&(s.p=it[1])}s("b0c0");var N=s("8bbf");function _t(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",{ref:function(f){return e.mapRef=f}},[Object(N.renderSlot)(n.$slots,"default")],512)}s("a9e3");var Rt=s("da5c"),Bt=s("57cb"),St=s("1300"),Xt=s("617d"),It=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dt=function(n){It(r,n);function r(t){var e=this,i=St.a==="latest"?St.a:"v"+St.a.split("-")[0],a="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return e=n.call(this,a)||this,e.code=t,e.name="AssertionError",e.message=a,e}return r}(Error),Jt=Dt;function le(n,r){if(!n)throw new Jt(r)}var Ve=new Array(6);function gt(){return[1,0,0,1,0,0]}function Yt(n){return nr(n,1,0,0,1,0,0)}function oe(n,r){var t=n[0],e=n[1],i=n[2],a=n[3],c=n[4],f=n[5],p=r[0],g=r[1],m=r[2],O=r[3],P=r[4],V=r[5];return n[0]=t*p+i*g,n[1]=e*p+a*g,n[2]=t*m+i*O,n[3]=e*m+a*O,n[4]=t*P+i*V+c,n[5]=e*P+a*V+f,n}function nr(n,r,t,e,i,a,c){return n[0]=r,n[1]=t,n[2]=e,n[3]=i,n[4]=a,n[5]=c,n}function ir(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function Ke(n,r){var t=r[0],e=r[1];return r[0]=n[0]*t+n[2]*e+n[4],r[1]=n[1]*t+n[3]*e+n[5],r}function Ge(n,r){var t=Math.cos(r),e=Math.sin(r);return oe(n,nr(Ve,t,e,-e,t,0,0))}function Pr(n,r,t){return oe(n,nr(Ve,r,0,0,t,0,0))}function Kr(n,r,t){return nr(n,r,0,0,t,0,0)}function pe(n,r,t){return oe(n,nr(Ve,1,0,0,1,r,t))}function Qe(n,r,t,e,i,a,c,f){var p=Math.sin(a),g=Math.cos(a);return n[0]=e*g,n[1]=i*p,n[2]=-e*p,n[3]=i*g,n[4]=c*e*g-f*e*p+r,n[5]=c*i*p+f*i*g+t,n}function Er(n,r){var t=Nr(r);le(t!==0,32);var e=r[0],i=r[1],a=r[2],c=r[3],f=r[4],p=r[5];return n[0]=c/t,n[1]=-i/t,n[2]=-a/t,n[3]=e/t,n[4]=(a*p-c*f)/t,n[5]=-(e*p-i*f)/t,n}function Nr(n){return n[0]*n[3]-n[1]*n[2]}var Pn;function Br(n){var r="matrix("+n.join(", ")+")";if(Xt.g)return r;var t=Pn||(Pn=document.createElement("div"));return t.style.transform=r,t.style.transform}var Vt={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Qt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function At(n){for(var r=ft(),t=0,e=n.length;t<e;++t)sn(r,n[t]);return r}function ht(n,r,t){var e=Math.min.apply(null,n),i=Math.min.apply(null,r),a=Math.max.apply(null,n),c=Math.max.apply(null,r);return j(e,i,a,c,t)}function Ct(n,r,t){return t?(t[0]=n[0]-r,t[1]=n[1]-r,t[2]=n[2]+r,t[3]=n[3]+r,t):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function te(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function qt(n,r,t){var e,i;return r<n[0]?e=n[0]-r:n[2]<r?e=r-n[2]:e=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,e*e+i*i}function fe(n,r){return Be(n,r[0],r[1])}function Pe(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function Be(n,r,t){return n[0]<=r&&r<=n[2]&&n[1]<=t&&t<=n[3]}function ue(n,r){var t=n[0],e=n[1],i=n[2],a=n[3],c=r[0],f=r[1],p=Qt.UNKNOWN;return c<t?p=p|Qt.LEFT:c>i&&(p=p|Qt.RIGHT),f<e?p=p|Qt.BELOW:f>a&&(p=p|Qt.ABOVE),p===Qt.UNKNOWN&&(p=Qt.INTERSECTING),p}function ft(){return[1/0,1/0,-1/0,-1/0]}function j(n,r,t,e,i){return i?(i[0]=n,i[1]=r,i[2]=t,i[3]=e,i):[n,r,t,e]}function W(n){return j(1/0,1/0,-1/0,-1/0,n)}function st(n,r){var t=n[0],e=n[1];return j(t,e,t,e,r)}function $t(n,r){var t=W(r);return Nn(t,n)}function Ee(n,r,t,e,i){var a=W(i);return ci(a,n,r,t,e)}function Le(n,r){var t=W(r);return ki(t,n)}function Ar(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function Gr(n,r,t){return Math.abs(n[0]-r[0])<t&&Math.abs(n[2]-r[2])<t&&Math.abs(n[1]-r[1])<t&&Math.abs(n[3]-r[3])<t}function zr(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function sn(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function Nn(n,r){for(var t=0,e=r.length;t<e;++t)sn(n,r[t]);return n}function ci(n,r,t,e,i){for(;t<e;t+=i)Fn(n,r[t],r[t+1]);return n}function ki(n,r){for(var t=0,e=r.length;t<e;++t)Nn(n,r[t]);return n}function Fn(n,r,t){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],t)}function qn(n,r){var t;return t=r(gn(n)),t||(t=r(ao(n)),t)||(t=r(wn(n)),t)||(t=r(_i(n)),t)?t:!1}function Mi(n){var r=0;return ho(n)||(r=nn(n)*an(n)),r}function gn(n){return[n[0],n[1]]}function ao(n){return[n[2],n[1]]}function kn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function ya(n,r){var t;return r===Vt.BOTTOM_LEFT?t=gn(n):r===Vt.BOTTOM_RIGHT?t=ao(n):r===Vt.TOP_LEFT?t=_i(n):r===Vt.TOP_RIGHT?t=wn(n):le(!1,13),t}function Lo(n,r){var t=Math.min(n[0],r[0]),e=Math.min(n[1],r[1]),i=Math.max(n[2],r[2]),a=Math.max(n[3],r[3]);return(i-t)*(a-e)}function zi(n,r,t,e,i){var a=r*e[0]/2,c=r*e[1]/2,f=Math.cos(t),p=Math.sin(t),g=a*f,m=a*p,O=c*f,P=c*p,V=n[0],$=n[1],ot=V-g+P,yt=V-g-P,Lt=V+g-P,zt=V+g+P,Ht=$-m-O,jt=$-m+O,ye=$+m+O,ve=$+m-O;return j(Math.min(ot,yt,Lt,zt),Math.min(Ht,jt,ye,ve),Math.max(ot,yt,Lt,zt),Math.max(Ht,jt,ye,ve),i)}function an(n){return n[3]-n[1]}function dr(n,r){var t=rn(n,r);return Mi(t)}function rn(n,r,t){var e=t||ft();return Ei(n,r)?(n[0]>r[0]?e[0]=n[0]:e[0]=r[0],n[1]>r[1]?e[1]=n[1]:e[1]=r[1],n[2]<r[2]?e[2]=n[2]:e[2]=r[2],n[3]<r[3]?e[3]=n[3]:e[3]=r[3]):W(e),e}function Mn(n){return nn(n)+an(n)}function ri(n){return[n[2]-n[0],n[3]-n[1]]}function _i(n){return[n[0],n[3]]}function wn(n){return[n[2],n[3]]}function nn(n){return n[2]-n[0]}function Ei(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function ho(n){return n[2]<n[0]||n[3]<n[1]}function zo(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function Un(n,r){var t=(n[2]-n[0])/2*(r-1),e=(n[3]-n[1])/2*(r-1);n[0]-=t,n[2]+=t,n[1]-=e,n[3]+=e}function Ss(n,r,t){var e=!1,i=ue(n,r),a=ue(n,t);if(i===Qt.INTERSECTING||a===Qt.INTERSECTING)e=!0;else{var c=n[0],f=n[1],p=n[2],g=n[3],m=r[0],O=r[1],P=t[0],V=t[1],$=(V-O)/(P-m),ot=void 0,yt=void 0;!!(a&Qt.ABOVE)&&!(i&Qt.ABOVE)&&(ot=P-(V-g)/$,e=ot>=c&&ot<=p),!e&&!!(a&Qt.RIGHT)&&!(i&Qt.RIGHT)&&(yt=V-(P-p)*$,e=yt>=f&&yt<=g),!e&&!!(a&Qt.BELOW)&&!(i&Qt.BELOW)&&(ot=P-(V-f)/$,e=ot>=c&&ot<=p),!e&&!!(a&Qt.LEFT)&&!(i&Qt.LEFT)&&(yt=V-(P-c)*$,e=yt>=f&&yt<=g)}return e}function Da(n,r,t,e){var i=[];if(e>1)for(var a=n[2]-n[0],c=n[3]-n[1],f=0;f<e;++f)i.push(n[0]+a*f/e,n[1],n[2],n[1]+c*f/e,n[2]-a*f/e,n[3],n[0],n[3]-c*f/e);else i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];r(i,i,2);for(var p=[],g=[],f=0,m=i.length;f<m;f+=2)p.push(i[f]),g.push(i[f+1]);return ht(p,g,t)}function Io(n,r){var t=r.getExtent(),e=kn(n);if(r.canWrapX()&&(e[0]<t[0]||e[0]>=t[2])){var i=nn(t),a=Math.floor((e[0]-t[0])/i),c=a*i;n[0]-=c,n[2]-=c}return n}function Si(n,r,t){return Math.min(Math.max(n,r),t)}var il=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(r){var t=Math.exp(r);return(t+1/t)/2},n}(),ja=function(){var n;return"log2"in Math?n=Math.log2:n=function(r){return Math.log(r)*Math.LOG2E},n}();function Ma(n,r,t,e,i,a){var c=i-t,f=a-e;if(c!==0||f!==0){var p=((n-t)*c+(r-e)*f)/(c*c+f*f);p>1?(t=i,e=a):p>0&&(t+=c*p,e+=f*p)}return Ra(n,r,t,e)}function Ra(n,r,t,e){var i=t-n,a=e-r;return i*i+a*a}function al(n){for(var r=n.length,t=0;t<r;t++){for(var e=t,i=Math.abs(n[t][t]),a=t+1;a<r;a++){var c=Math.abs(n[a][t]);c>i&&(i=c,e=a)}if(i===0)return null;var f=n[e];n[e]=n[t],n[t]=f;for(var p=t+1;p<r;p++)for(var g=-n[p][t]/n[t][t],m=t;m<r+1;m++)t==m?n[p][m]=0:n[p][m]+=g*n[t][m]}for(var O=new Array(r),P=r-1;P>=0;P--){O[P]=n[P][r]/n[P][P];for(var V=P-1;V>=0;V--)n[V][r]-=n[V][P]*O[P]}return O}function rc(n){return n*180/Math.PI}function ia(n){return n*Math.PI/180}function Ws(n,r){var t=n%r;return t*r<0?t+r:t}function sl(n,r,t){return n+t*(r-n)}function o0(n,r){var t=Math.pow(10,r);return Math.round(n*t)/t}function B0(n,r){return Math.round(o0(n,r))}function Xl(n,r){return Math.floor(o0(n,r))}function Ha(n,r){return Math.ceil(o0(n,r))}var oa=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ll=/^([a-z]*)$|^hsla?\(.*\)$/i;function xo(n){return typeof n=="string"?n:ss(n)}function Tu(n){var r=document.createElement("div");if(r.style.color=n,r.style.color!==""){document.body.appendChild(r);var t=getComputedStyle(r).color;return document.body.removeChild(r),t}else return""}var Vo=function(){var n=1024,r={},t=0;return function(e){var i;if(r.hasOwnProperty(e))i=r[e];else{if(t>=n){var a=0;for(var c in r)(a++&3)===0&&(delete r[c],--t)}i=Ys(e),r[e]=i,++t}return i}}();function ma(n){return Array.isArray(n)?n:Vo(n)}function Ys(n){var r,t,e,i,a;if(ll.exec(n)&&(n=Tu(n)),oa.exec(n)){var c=n.length-1,f=void 0;c<=4?f=1:f=2;var p=c===4||c===8;r=parseInt(n.substr(1+0*f,f),16),t=parseInt(n.substr(1+1*f,f),16),e=parseInt(n.substr(1+2*f,f),16),p?i=parseInt(n.substr(1+3*f,f),16):i=255,f==1&&(r=(r<<4)+r,t=(t<<4)+t,e=(e<<4)+e,p&&(i=(i<<4)+i)),a=[r,t,e,i/255]}else n.indexOf("rgba(")==0?(a=n.slice(5,-1).split(",").map(Number),nc(a)):n.indexOf("rgb(")==0?(a=n.slice(4,-1).split(",").map(Number),a.push(1),nc(a)):le(!1,14);return a}function nc(n){return n[0]=Si(n[0]+.5|0,0,255),n[1]=Si(n[1]+.5|0,0,255),n[2]=Si(n[2]+.5|0,0,255),n[3]=Si(n[3],0,1),n}function ss(n){var r=n[0];r!=(r|0)&&(r=r+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var e=n[2];e!=(e|0)&&(e=e+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+r+","+t+","+e+","+i+")"}function Ou(n){return ll.test(n)&&(n=Tu(n)),oa.test(n)||n.indexOf("rgba(")===0||n.indexOf("rgb(")===0}var ic=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var t in this.cache_){var e=this.cache_[t];(r++&3)===0&&!e.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(r,t,e){var i=Rc(r,t,e);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(r,t,e,i){var a=Rc(r,t,e);this.cache_[a]=i,++this.cacheSize_},n.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},n}();function Rc(n,r,t){var e=t?xo(t):"null";return r+":"+n+":"+e}var ea=new ic,_o=s("e269"),Vi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},yn=s("38f3"),Cc=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Of=function(n){Cc(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.background_=t.background;var i=Object(yn.a)({},t);return typeof t.properties=="object"&&(delete i.properties,Object(yn.a)(i,t.properties)),i[Vi.OPACITY]=t.opacity!==void 0?t.opacity:1,le(typeof i[Vi.OPACITY]=="number",64),i[Vi.VISIBLE]=t.visible!==void 0?t.visible:!0,i[Vi.Z_INDEX]=t.zIndex,i[Vi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[Vi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[Vi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[Vi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,e.className_=i.className!==void 0?t.className:"ol-layer",delete i.className,e.setProperties(i),e.state_=null,e}return r.prototype.getBackground=function(){return this.background_},r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return e.opacity=Si(Math.round(this.getOpacity()*100)/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(t){return Object(St.b)()},r.prototype.getLayerStatesArray=function(t){return Object(St.b)()},r.prototype.getExtent=function(){return this.get(Vi.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(Vi.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(Vi.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(Vi.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(Vi.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(Vi.OPACITY)},r.prototype.getSourceState=function(){return Object(St.b)()},r.prototype.getVisible=function(){return this.get(Vi.VISIBLE)},r.prototype.getZIndex=function(){return this.get(Vi.Z_INDEX)},r.prototype.setBackground=function(t){this.background_=t,this.changed()},r.prototype.setExtent=function(t){this.set(Vi.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(Vi.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(Vi.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(Vi.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(Vi.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){le(typeof t=="number",64),this.set(Vi.OPACITY,t)},r.prototype.setVisible=function(t){this.set(Vi.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(Vi.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},r}(_o.a),ws=Of,hn=s("01d4"),Go={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},hi={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},$r=s("1e8d"),Af=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ls=function(n){Af(r,n);function r(t){var e=this,i=Object(yn.a)({},t);delete i.source,e=n.call(this,i)||this,e.on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(Vi.SOURCE,e.handleSourcePropertyChange_);var a=t.source?t.source:null;return e.setSource(a),e}return r.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},r.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},r.prototype.getSource=function(){return this.get(Vi.SOURCE)||null},r.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():hi.UNDEFINED},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object($r.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object($r.a)(t,hn.a.CHANGE,this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(e){return e([])})},r.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},r.prototype.setMapInternal=function(t){this.set(Vi.MAP,t)},r.prototype.getMapInternal=function(){return this.get(Vi.MAP)},r.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object($r.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object($r.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object($r.a)(t,Go.PRECOMPOSE,function(e){var i=e,a=i.frameState.layerStatesArray,c=this.getLayerState(!1);le(!a.some(function(f){return f.layer===c.layer}),67),a.push(c)},this),this.mapRenderKey_=Object($r.a)(this,hn.a.CHANGE,t.render,t),this.changed())},r.prototype.setSource=function(t){this.set(Vi.SOURCE,t)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},r}(ws);function F(n,r){if(!n.visible)return!1;var t=r.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var e=r.zoom;return e>n.minZoom&&e<=n.maxZoom}var C=ls;function b(n,r,t){var e=t!==void 0?n.toFixed(t):""+n,i=e.indexOf(".");return i=i===-1?e.length:i,i>r?e:new Array(1+r-i).join("0")+e}function G(n,r){for(var t=(""+n).split("."),e=(""+r).split("."),i=0;i<Math.max(t.length,e.length);i++){var a=parseInt(t[i]||"0",10),c=parseInt(e[i]||"0",10);if(a>c)return 1;if(c>a)return-1}return 0}function Z(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function B(n,r){var t=r.getRadius(),e=r.getCenter(),i=e[0],a=e[1],c=n[0],f=n[1],p=c-i,g=f-a;p===0&&g===0&&(p=1);var m=Math.sqrt(p*p+g*g),O=i+t*p/m,P=a+t*g/m;return[O,P]}function tt(n,r){var t=n[0],e=n[1],i=r[0],a=r[1],c=i[0],f=i[1],p=a[0],g=a[1],m=p-c,O=g-f,P=m===0&&O===0?0:(m*(t-c)+O*(e-f))/(m*m+O*O||0),V,$;return P<=0?(V=c,$=f):P>=1?(V=p,$=g):(V=c+P*m,$=f+P*O),[V,$]}function at(n,r){for(var t=!0,e=n.length-1;e>=0;--e)if(n[e]!=r[e]){t=!1;break}return t}function lt(n,r){var t=Math.cos(r),e=Math.sin(r),i=n[0]*t-n[1]*e,a=n[1]*t+n[0]*e;return n[0]=i,n[1]=a,n}function wt(n,r){return n[0]*=r,n[1]*=r,n}function Ut(n,r){var t=n[0]-r[0],e=n[1]-r[1];return t*t+e*e}function kt(n,r){return Math.sqrt(Ut(n,r))}function Zt(n,r){return Ut(n,tt(n,r))}function vt(n,r){if(r.canWrapX()){var t=nn(r.getExtent()),e=he(n,r,t);e&&(n[0]-=e*t)}return n}function he(n,r,t){var e=r.getExtent(),i=0;if(r.canWrapX()&&(n[0]<e[0]||n[0]>e[2])){var a=t||nn(e);i=Math.floor((n[0]-e[0])/a)}return i}var ae=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ae=function(n){ae(r,n);function r(t){var e=n.call(this)||this;return e.map_=t,e}return r.prototype.dispatchRenderEvent=function(t,e){Object(St.b)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;Qe(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Er(a,i)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,a,c,f,p,g){var m,O=e.viewState;function P(Tn,Ln,Gn,yi){return c.call(f,Ln,Tn?Gn:null,yi)}var V=O.projection,$=vt(t.slice(),V),ot=[[0,0]];if(V.canWrapX()&&a){var yt=V.getExtent(),Lt=nn(yt);ot.push([-Lt,0],[Lt,0])}for(var zt=e.layerStatesArray,Ht=zt.length,jt=[],ye=[],ve=0;ve<ot.length;ve++)for(var Oe=Ht-1;Oe>=0;--Oe){var we=zt[Oe],je=we.layer;if(je.hasRenderer()&&F(we,O)&&p.call(g,je)){var Tr=je.getRenderer(),vr=je.getSource();if(Tr&&vr){var qe=vr.getWrapX()?$:t,Dr=P.bind(null,we.managed);ye[0]=qe[0]+ot[ve][0],ye[1]=qe[1]+ot[ve][1],m=Tr.forEachFeatureAtCoordinate(ye,e,i,Dr,jt)}if(m)return m}}if(jt.length!==0){var Sn=1/jt.length;return jt.forEach(function(Tn,Ln){return Tn.distanceSq+=Ln*Sn}),jt.sort(function(Tn,Ln){return Tn.distanceSq-Ln.distanceSq}),jt.some(function(Tn){return m=Tn.callback(Tn.feature,Tn.layer,Tn.geometry)}),m}},r.prototype.forEachLayerAtPixel=function(t,e,i,a,c){return Object(St.b)()},r.prototype.hasFeatureAtCoordinate=function(t,e,i,a,c,f){var p=this.forEachFeatureAtCoordinate(t,e,i,a,Bt.b,this,c,f);return p!==void 0},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){Object(St.b)()},r.prototype.scheduleExpireIconCache=function(t){ea.canExpireCache()&&t.postRenderFunctions.push(Kt)},r}(Rt.a);function Kt(n,r){ea.expire()}var ge=Ae,Ye=s("7b4f"),cr=s("cef7"),Mr=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qr=function(n){Mr(r,n);function r(t,e,i,a){var c=n.call(this,t)||this;return c.inversePixelTransform=e,c.frameState=i,c.context=a,c}return r}(cr.a),yr=Qr,Ue="ol-hidden",Lr="ol-selectable",mr="ol-unselectable",ee="ol-unsupported",re="ol-control",Ne="ol-collapsed",Te=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),wr=["style","variant","weight","size","lineHeight","family"],gr=function(n){var r=n.match(Te);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},e=0,i=wr.length;e<i;++e){var a=r[e+1];a!==void 0&&(t[wr[e]]=a)}return t.families=t.family.split(/,\s?/),t};function Fr(n){return n===1?"":String(Math.round(n*100)/100)}var sr=s("0ec0"),fr=s("0999"),Or="10px sans-serif",On="#000",Ft="round",se=[],me=0,Ie="round",ke=10,rr="#000",lr="center",ar="middle",tn=[0,0,0,0],Zr=1,pn=new _o.a,An=new sr.a;An.setSize=function(){console.warn("labelCache is deprecated.")};var Hn=null,Sr,de={},fi=function(){var n=100,r="32px ",t=["monospace","serif"],e=t.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",a,c;function f(g,m,O){for(var P=!0,V=0;V<e;++V){var $=t[V];if(c=ln(g+" "+m+" "+r+$,i),O!=$){var ot=ln(g+" "+m+" "+r+O+","+$,i);P=P&&ot!=c}}return!!P}function p(){for(var g=!0,m=pn.getKeys(),O=0,P=m.length;O<P;++O){var V=m[O];pn.get(V)<n&&(f.apply(this,V.split(`
`))?(Object(yn.b)(de),Hn=null,Sr=void 0,pn.set(V,n)):(pn.set(V,pn.get(V)+1,!0),g=!1))}g&&(clearInterval(a),a=void 0)}return function(g){var m=gr(g);if(!!m)for(var O=m.families,P=0,V=O.length;P<V;++P){var $=O[P],ot=m.style+`
`+m.weight+`
`+$;pn.get(ot)===void 0&&(pn.set(ot,n,!0),f(m.style,m.weight,$)||(pn.set(ot,0,!0),a===void 0&&(a=setInterval(p,32))))}}}(),Cn=function(){var n;return function(r){var t=de[r];if(t==null){if(Xt.g){var e=gr(r),i=Yr(r,"\u017Dg"),a=isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight);t=a*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=r,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);de[r]=t}return t}}();function Yr(n,r){return Hn||(Hn=Object(fr.a)(1,1)),n!=Sr&&(Hn.font=n,Sr=Hn.font),Hn.measureText(r)}function ln(n,r){return Yr(n,r).width}function cn(n,r,t){if(r in t)return t[r];var e=ln(n,r);return t[r]=e,e}function un(n,r,t){for(var e=r.length,i=0,a=0;a<e;++a){var c=ln(n,r[a]);i=Math.max(i,c),t.push(c)}return i}function Vn(n,r,t,e,i,a,c,f,p,g,m){n.save(),t!==1&&(n.globalAlpha*=t),r&&n.setTransform.apply(n,r),e.contextInstructions?(n.translate(p,g),n.scale(m[0],m[1]),pi(e,n)):m[0]<0||m[1]<0?(n.translate(p,g),n.scale(m[0],m[1]),n.drawImage(e,i,a,c,f,0,0,c,f)):n.drawImage(e,i,a,c,f,p,g,c*m[0],f*m[1]),n.restore()}function pi(n,r){for(var t=n.contextInstructions,e=0,i=t.length;e<i;e+=2)Array.isArray(t[e+1])?r[t[e]].apply(r,t[e+1]):r[t[e]]=t[e+1]}var si=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ri=function(n){si(r,n);function r(t){var e=n.call(this,t)||this;e.fontChangeListenerKey_=Object($r.a)(pn,Ye.a.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var i=e.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",e.element_.className=mr+" ol-layers";var a=t.getViewport();return a.insertBefore(e.element_,a.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return r.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var a=new yr(t,void 0,e);i.dispatchEvent(a)}},r.prototype.disposeInternal=function(){Object($r.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Go.PRECOMPOSE,t);var e=t.layerStatesArray.sort(function(P,V){return P.zIndex-V.zIndex}),i=t.viewState;this.children_.length=0;for(var a=[],c=null,f=0,p=e.length;f<p;++f){var g=e[f];if(t.layerIndex=f,!(!F(g,i)||g.sourceState!=hi.READY&&g.sourceState!=hi.UNDEFINED)){var m=g.layer,O=m.render(t,c);!O||(O!==c&&(this.children_.push(O),c=O),"getDeclutter"in m&&a.push(m))}}for(var f=a.length-1;f>=0;--f)a[f].renderDeclutter(t);Object(fr.f)(this.element_,this.children_),this.dispatchRenderEvent(Go.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},r.prototype.forEachLayerAtPixel=function(t,e,i,a,c){for(var f=e.viewState,p=e.layerStatesArray,g=p.length,m=g-1;m>=0;--m){var O=p[m],P=O.layer;if(P.hasRenderer()&&F(O,f)&&c(P)){var V=P.getRenderer(),$=V.getDataAtPixel(t,e,i);if($){var ot=a(P,$);if(ot)return ot}}}},r}(ge),Hi=Ri,ni={ADD:"add",REMOVE:"remove"},Xn=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wi={LENGTH:"length"},mn=function(n){Xn(r,n);function r(t,e,i){var a=n.call(this,t)||this;return a.element=e,a.index=i,a}return r}(cr.a),Xa=function(n){Xn(r,n);function r(t,e){var i=n.call(this)||this;i.on,i.once,i.un;var a=e||{};if(i.unique_=!!a.unique,i.array_=t||[],i.unique_)for(var c=0,f=i.array_.length;c<f;++c)i.assertUnique_(i.array_[c],c);return i.updateLength_(),i}return r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},r.prototype.forEach=function(t){for(var e=this.array_,i=0,a=e.length;i<a;++i)t(e[i],i,e)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(t){return this.array_[t]},r.prototype.getLength=function(){return this.get(wi.LENGTH)},r.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new mn(ni.ADD,e,t))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},r.prototype.remove=function(t){for(var e=this.array_,i=0,a=e.length;i<a;++i)if(e[i]===t)return this.removeAt(i)},r.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new mn(ni.REMOVE,e,t)),e},r.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var a=this.array_[t];this.array_[t]=e,this.dispatchEvent(new mn(ni.REMOVE,a,t)),this.dispatchEvent(new mn(ni.ADD,e,t))}else{for(var c=i;c<t;++c)this.insertAt(c,void 0);this.insertAt(t,e)}},r.prototype.updateLength_=function(){this.set(wi.LENGTH,this.array_.length)},r.prototype.assertUnique_=function(t,e){for(var i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===t&&i!==e)throw new Jt(58)},r}(_o.a),Bn=Xa,_a=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xi=function(n){_a(r,n);function r(t,e){var i=n.call(this,t)||this;return i.layer=e,i}return r}(cr.a),To={LAYERS:"layers"},Ps=function(n){_a(r,n);function r(t){var e=this,i=t||{},a=Object(yn.a)({},i);delete a.layers;var c=i.layers;return e=n.call(this,a)||this,e.on,e.once,e.un,e.layersListenerKeys_=[],e.listenerKeys_={},e.addChangeListener(To.LAYERS,e.handleLayersChanged_),c?Array.isArray(c)?c=new Bn(c.slice(),{unique:!0}):le(typeof c.getArray=="function",43):c=new Bn(void 0,{unique:!0}),e.setLayers(c),e}return r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach($r.c),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Object($r.a)(t,ni.ADD,this.handleLayersAdd_,this),Object($r.a)(t,ni.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach($r.c);Object(yn.b)(this.listenerKeys_);for(var i=t.getArray(),a=0,c=i.length;a<c;a++){var f=i[a];this.registerLayerListeners_(f),this.dispatchEvent(new Xi("addlayer",f))}this.changed()},r.prototype.registerLayerListeners_=function(t){var e=[Object($r.a)(t,Ye.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object($r.a)(t,hn.a.CHANGE,this.handleLayerChange_,this)];t instanceof r&&e.push(Object($r.a)(t,"addlayer",this.handleLayerGroupAdd_,this),Object($r.a)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(St.c)(t)]=e},r.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new Xi("addlayer",t.layer))},r.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new Xi("removelayer",t.layer))},r.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Xi("addlayer",e)),this.changed()},r.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(St.c)(e);this.listenerKeys_[i].forEach($r.c),delete this.listenerKeys_[i],this.dispatchEvent(new Xi("removelayer",e)),this.changed()},r.prototype.getLayers=function(){return this.get(To.LAYERS)},r.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var i=e.getArray(),a=0,c=i.length;a<c;++a)this.dispatchEvent(new Xi("removelayer",i[a]));this.set(To.LAYERS,t)},r.prototype.getLayersArray=function(t){var e=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(e)}),e},r.prototype.getLayerStatesArray=function(t){var e=t!==void 0?t:[],i=e.length;this.getLayers().forEach(function(m){m.getLayerStatesArray(e)});var a=this.getLayerState(),c=a.zIndex;!t&&a.zIndex===void 0&&(c=0);for(var f=i,p=e.length;f<p;f++){var g=e[f];g.opacity*=a.opacity,g.visible=g.visible&&a.visible,g.maxResolution=Math.min(g.maxResolution,a.maxResolution),g.minResolution=Math.max(g.minResolution,a.minResolution),g.minZoom=Math.max(g.minZoom,a.minZoom),g.maxZoom=Math.min(g.maxZoom,a.maxZoom),a.extent!==void 0&&(g.extent!==void 0?g.extent=rn(g.extent,a.extent):g.extent=a.extent),g.zIndex===void 0&&(g.zIndex=c)}return e},r.prototype.getSourceState=function(){return hi.READY},r}(ws),Ki=Ps,xs=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wo=function(n){xs(r,n);function r(t,e,i){var a=n.call(this,t)||this;return a.map=e,a.frameState=i!==void 0?i:null,a}return r}(cr.a),Ca=Wo,Ns=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oo=function(n){Ns(r,n);function r(t,e,i,a,c){var f=n.call(this,t,e,c)||this;return f.originalEvent=i,f.pixel_=null,f.coordinate_=null,f.dragging=a!==void 0?a:!1,f}return Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},r}(Ca),$n=Oo,_n={SINGLECLICK:"singleclick",CLICK:hn.a.CLICK,DBLCLICK:hn.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},aa={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ca=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hs=function(n){ca(r,n);function r(t,e){var i=n.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=e===void 0?1:e,i.down_=null;var a=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=a,i.pointerdownListenerKey_=Object($r.a)(a,aa.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Object($r.a)(a,aa.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(hn.a.TOUCHMOVE,i.boundHandleTouchMove_,Xt.e?{passive:!1}:!1),i}return r.prototype.emulateClick_=function(t){var e=new $n(_n.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new $n(_n.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new $n(_n.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(t){var e=t;e.type==_n.POINTERUP||e.type==_n.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==_n.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new $n(_n.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach($r.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(t){return t.button===0},r.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var e=new $n(_n.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_={};for(var i in t){var a=t[i];this.down_[i]=typeof a=="function"?Bt.c:a}if(this.dragListenerKeys_.length===0){var c=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object($r.a)(c,_n.POINTERMOVE,this.handlePointerMove_,this),Object($r.a)(c,_n.POINTERUP,this.handlePointerUp_,this),Object($r.a)(this.element_,_n.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==c&&this.dragListenerKeys_.push(Object($r.a)(this.element_.getRootNode(),_n.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new $n(_n.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},r.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new $n(t.type,this.map_,t,e))},r.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},r.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object($r.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(hn.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object($r.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach($r.c),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},r}(sr.a),Ts=Hs,Wn=s("592d"),to={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},us=1/0,Ka=function(){function n(r,t){this.priorityFunction_=r,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(yn.b)(this.queuedElements_)},n.prototype.dequeue=function(){var r=this.elements_,t=this.priorities_,e=r[0];r.length==1?(r.length=0,t.length=0):(r[0]=r.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(e);return delete this.queuedElements_[i],e},n.prototype.enqueue=function(r){le(!(this.keyFunction_(r)in this.queuedElements_),31);var t=this.priorityFunction_(r);return t!=us?(this.elements_.push(r),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(r){return r*2+1},n.prototype.getRightChildIndex_=function(r){return r*2+2},n.prototype.getParentIndex_=function(r){return r-1>>1},n.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(r){return r in this.queuedElements_},n.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},n.prototype.siftUp_=function(r){for(var t=this.elements_,e=this.priorities_,i=t.length,a=t[r],c=e[r],f=r;r<i>>1;){var p=this.getLeftChildIndex_(r),g=this.getRightChildIndex_(r),m=g<i&&e[g]<e[p]?g:p;t[r]=t[m],e[r]=e[m],r=m}t[r]=a,e[r]=c,this.siftDown_(f,r)},n.prototype.siftDown_=function(r,t){for(var e=this.elements_,i=this.priorities_,a=e[t],c=i[t];t>r;){var f=this.getParentIndex_(t);if(i[f]>c)e[t]=e[f],i[t]=i[f],t=f;else break}e[t]=a,i[t]=c},n.prototype.reprioritize=function(){var r=this.priorityFunction_,t=this.elements_,e=this.priorities_,i=0,a=t.length,c,f,p;for(f=0;f<a;++f)c=t[f],p=r(c),p==us?delete this.queuedElements_[this.keyFunction_(c)]:(e[i]=p,t[i++]=c);t.length=i,e.length=i,this.heapify_()},n}(),Ea=Ka,fn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},ds=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Au=function(n){ds(r,n);function r(t,e){var i=n.call(this,function(a){return t.apply(null,a)},function(a){return a[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=e,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return r.prototype.enqueue=function(t){var e=n.prototype.enqueue.call(this,t);if(e){var i=t[0];i.addEventListener(hn.a.CHANGE,this.boundHandleTileChange_)}return e},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===fn.LOADED||i===fn.ERROR||i===fn.EMPTY){e.removeEventListener(hn.a.CHANGE,this.boundHandleTileChange_);var a=e.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(t,e){for(var i=0,a,c,f;this.tilesLoading_<t&&i<e&&this.getCount()>0;)c=this.dequeue()[0],f=c.getKey(),a=c.getState(),a===fn.IDLE&&!(f in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[f]=!0,++this.tilesLoading_,++i,c.load())},r}(Ea),Ml=Au;function Os(n,r,t,e,i){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][r.getKey()])return us;var a=n.viewState.center,c=e[0]-a[0],f=e[1]-a[1];return 65536*Math.log(i)+Math.sqrt(c*c+f*f)/i}var Se={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ga={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ha={};ha[Ga.RADIANS]=6370997/(2*Math.PI),ha[Ga.DEGREES]=2*Math.PI*6370997/360,ha[Ga.FEET]=.3048,ha[Ga.METERS]=1,ha[Ga.USFEET]=1200/3937;var Zi=Ga,Wi={ANIMATING:0,INTERACTING:1},fa={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},ul=42,ba=256,Kl=function(){function n(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ha[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},n.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)},n.prototype.setWorldExtent=function(r){this.worldExtent_=r},n.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),$a=Kl,Xs=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fs=6378137,Rl=Math.PI*Fs,$l=[-Rl,-Rl,Rl,Rl],Mu=[-180,-85,180,85],Zl=Fs*Math.log(Math.tan(Math.PI/2)),cl=function(n){Xs(r,n);function r(t){return n.call(this,{code:t,units:Zi.METERS,extent:$l,global:!0,worldExtent:Mu,getPointResolution:function(e,i){return e/il(i[1]/Fs)}})||this}return r}($a),oc=[new cl("EPSG:3857"),new cl("EPSG:102100"),new cl("EPSG:102113"),new cl("EPSG:900913"),new cl("http://www.opengis.net/def/crs/EPSG/0/3857"),new cl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ac(n,r,t){var e=n.length,i=t>1?t:2,a=r;a===void 0&&(i>2?a=n.slice():a=new Array(e));for(var c=0;c<e;c+=i){a[c]=Rl*n[c]/180;var f=Fs*Math.log(Math.tan(Math.PI*(+n[c+1]+90)/360));f>Zl?f=Zl:f<-Zl&&(f=-Zl),a[c+1]=f}return a}function a0(n,r,t){var e=n.length,i=t>1?t:2,a=r;a===void 0&&(i>2?a=n.slice():a=new Array(e));for(var c=0;c<e;c+=i)a[c]=180*n[c]/Rl,a[c+1]=360*Math.atan(Math.exp(n[c+1]/Fs))/Math.PI-90;return a}var Ru=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sc=6378137,Yo=[-180,-90,180,90],bc=Math.PI*sc/180,Ds=function(n){Ru(r,n);function r(t,e){return n.call(this,{code:t,units:Zi.DEGREES,extent:Yo,axisOrientation:e,global:!0,metersPerUnit:bc,worldExtent:Yo})||this}return r}($a),lc=[new Ds("CRS:84"),new Ds("EPSG:4326","neu"),new Ds("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ds("urn:ogc:def:crs:OGC:2:84"),new Ds("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ds("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ds("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],ql={};function s0(n){return ql[n]||ql[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function As(n,r){ql[n]=r}var js={};function da(n,r,t){var e=n.getCode(),i=r.getCode();e in js||(js[e]={}),js[e][i]=t}function hl(n,r){var t;return n in js&&r in js[n]&&(t=js[n][r]),t}var Cu=63710088e-1;function bu(n,r,t){var e=t||Cu,i=ia(n[1]),a=ia(r[1]),c=(a-i)/2,f=ia(r[0]-n[0])/2,p=Math.sin(c)*Math.sin(c)+Math.sin(f)*Math.sin(f)*Math.cos(i)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(p),Math.sqrt(1-p))}function Lc(n,r,t,e){var i=e||Cu,a=ia(n[1]),c=ia(n[0]),f=r/i,p=Math.asin(Math.sin(a)*Math.cos(f)+Math.cos(a)*Math.sin(f)*Math.cos(t)),g=c+Math.atan2(Math.sin(t)*Math.sin(f)*Math.cos(a),Math.cos(f)-Math.sin(a)*Math.sin(p));return[rc(g),rc(p)]}function Jl(n,r,t){var e;if(r!==void 0){for(var i=0,a=n.length;i<a;++i)r[i]=n[i];e=r}else e=n.slice();return e}function Cl(n,r,t){if(r!==void 0&&n!==r){for(var e=0,i=n.length;e<i;++e)r[e]=n[e];n=r}return n}function l0(n){As(n.getCode(),n),da(n,n,Jl)}function Lu(n){n.forEach(l0)}function zn(n){return typeof n=="string"?s0(n):n||null}function Iu(n,r,t,e){n=zn(n);var i,a=n.getPointResolutionFunc();if(a){if(i=a(r,t),e&&e!==n.getUnits()){var c=n.getMetersPerUnit();c&&(i=i*c/ha[e])}}else{var f=n.getUnits();if(f==Zi.DEGREES&&!e||e==Zi.DEGREES)i=r;else{var p=pl(n,zn("EPSG:4326"));if(p===Cl&&f!==Zi.DEGREES)i=r*n.getMetersPerUnit();else{var g=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];g=p(g,g,2);var m=bu(g.slice(0,2),g.slice(2,4)),O=bu(g.slice(4,6),g.slice(6,8));i=(m+O)/2}var c=e?ha[e]:n.getMetersPerUnit();c!==void 0&&(i/=c)}}return i}function Ks(n){Lu(n),n.forEach(function(r){n.forEach(function(t){r!==t&&da(r,t,Jl)})})}function $s(n,r,t,e){n.forEach(function(i){r.forEach(function(a){da(i,a,t),da(a,i,e)})})}function fl(n,r){return n?typeof n=="string"?zn(n):n:zn(r)}function Ql(n){return function(r,t,e){for(var i=r.length,a=e!==void 0?e:2,c=t!==void 0?t:new Array(i),f=0;f<i;f+=a){var p=n([r[f],r[f+1]]);c[f]=p[0],c[f+1]=p[1];for(var g=a-1;g>=2;--g)c[f+g]=r[f+g]}return c}}function dl(n,r,t,e){var i=zn(n),a=zn(r);da(i,a,Ql(t)),da(a,i,Ql(e))}function Eo(n,r){if(n===r)return!0;var t=n.getUnits()===r.getUnits();if(n.getCode()===r.getCode())return t;var e=pl(n,r);return e===Jl&&t}function pl(n,r){var t=n.getCode(),e=r.getCode(),i=hl(t,e);return i||(i=Cl),i}function bl(n,r){var t=zn(n),e=zn(r);return pl(t,e)}function Jn(n,r,t){var e=bl(r,t);return e(n,void 0,n.length)}function Ll(n,r,t,e){var i=bl(r,t);return Da(n,i,void 0,e)}var D=null;function U(){return D}function Q(n,r){return n}function ut(n,r){return n}function mt(n,r){return n}function Mt(n,r){return n}function x(n,r){return n}function T(n,r,t){return function(e){var i=e[0],a=e[1],c,f;if(n.canWrapX()){var p=n.getExtent(),g=nn(p);f=he(e,n,g),f&&(i=i-f*g),i=Si(i,p[0],p[2]),a=Si(a,p[1],p[3]),c=t([i,a])}else c=t(e);return f&&r.canWrapX()&&(c[0]+=f*nn(r.getExtent())),c}}function R(){Ks(oc),Ks(lc),$s(lc,oc,ac,a0)}R();function Y(n,r,t){return function(e,i,a,c,f){if(e){var p=r?0:a[0]*i,g=r?0:a[1]*i,m=f?f[0]:0,O=f?f[1]:0,P=n[0]+p/2+m,V=n[2]-p/2+m,$=n[1]+g/2+O,ot=n[3]-g/2+O;P>V&&(P=(V+P)/2,V=P),$>ot&&($=(ot+$)/2,ot=$);var yt=Si(e[0],P,V),Lt=Si(e[1],$,ot),zt=30*i;return c&&t&&(yt+=-zt*Math.log(1+Math.max(0,P-e[0])/zt)+zt*Math.log(1+Math.max(0,e[0]-V)/zt),Lt+=-zt*Math.log(1+Math.max(0,$-e[1])/zt)+zt*Math.log(1+Math.max(0,e[1]-ot)/zt)),[yt,Lt]}else return}}function rt(n){return n}var et=s("9f5e");function dt(n,r,t,e){var i=nn(r)/t[0],a=an(r)/t[1];return e?Math.min(n,Math.max(i,a)):Math.min(n,Math.min(i,a))}function Ot(n,r,t){var e=Math.min(n,r),i=50;return e*=Math.log(1+i*Math.max(0,n/r-1))/i+1,t&&(e=Math.max(e,t),e/=Math.log(1+i*Math.max(0,t/n-1))/i+1),Si(e,t/2,r*2)}function Et(n,r,t,e){return function(i,a,c,f){if(i!==void 0){var p=n[0],g=n[n.length-1],m=t?dt(p,t,c,e):p;if(f){var O=r!==void 0?r:!0;return O?Ot(i,m,g):Si(i,g,m)}var P=Math.min(m,i),V=Math.floor(Object(et.h)(n,P,a));return n[V]>m&&V<n.length-1?n[V+1]:n[V]}else return}}function ie(n,r,t,e,i,a){return function(c,f,p,g){if(c!==void 0){var m=i?dt(r,i,p,a):r,O=t!==void 0?t:0;if(g){var P=e!==void 0?e:!0;return P?Ot(c,m,O):Si(c,O,m)}var V=1e-9,$=Math.ceil(Math.log(r/m)/Math.log(n)-V),ot=-f*(.5-V)+.5,yt=Math.min(m,c),Lt=Math.floor(Math.log(r/yt)/Math.log(n)+ot),zt=Math.max($,Lt),Ht=r/Math.pow(n,zt);return Si(Ht,O,m)}else return}}function _e(n,r,t,e,i){return function(a,c,f,p){if(a!==void 0){var g=e?dt(n,e,f,i):n,m=t!==void 0?t:!0;return!m||!p?Si(a,r,g):Ot(a,g,r)}else return}}function ce(n){if(n!==void 0)return 0}function De(n){if(n!==void 0)return n}function $e(n){var r=2*Math.PI/n;return function(t,e){if(e)return t;if(t!==void 0)return t=Math.floor(t/r+.5)*r,t}}function Je(n){var r=n||ia(5);return function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=r?0:t}}function pr(n){return Math.pow(n,3)}function Hr(n){return 1-pr(1-n)}function on(n){return 3*n*n-2*n*n*n}function qr(n){return n}function Jr(n){return n<.5?on(2*n):1-on(2*(n-.5))}var or={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function vn(n,r,t,e,i,a){for(var c=a||[],f=0,p=r;p<t;p+=e){var g=n[p],m=n[p+1];c[f++]=i[0]*g+i[2]*m+i[4],c[f++]=i[1]*g+i[3]*m+i[5]}return a&&c.length!=f&&(c.length=f),c}function Qn(n,r,t,e,i,a,c){for(var f=c||[],p=Math.cos(i),g=Math.sin(i),m=a[0],O=a[1],P=0,V=r;V<t;V+=e){var $=n[V]-m,ot=n[V+1]-O;f[P++]=m+$*p-ot*g,f[P++]=O+$*g+ot*p;for(var yt=V+2;yt<V+e;++yt)f[P++]=n[yt]}return c&&f.length!=P&&(f.length=P),f}function Ni(n,r,t,e,i,a,c,f){for(var p=f||[],g=c[0],m=c[1],O=0,P=r;P<t;P+=e){var V=n[P]-g,$=n[P+1]-m;p[O++]=g+i*V,p[O++]=m+a*$;for(var ot=P+2;ot<P+e;++ot)p[O++]=n[ot]}return f&&p.length!=O&&(p.length=O),p}function xi(n,r,t,e,i,a,c){for(var f=c||[],p=0,g=r;g<t;g+=e){f[p++]=n[g]+i,f[p++]=n[g+1]+a;for(var m=g+2;m<g+e;++m)f[p++]=n[m]}return c&&f.length!=p&&(f.length=p),f}var Yi=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qi=gt(),ro=function(n){Yi(r,n);function r(){var t=n.call(this)||this;return t.extent_=ft(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(Bt.d)(function(e,i,a){if(!a)return this.getSimplifiedGeometry(i);var c=this.clone();return c.applyTransform(a),c.getSimplifiedGeometry(i)}),t}return r.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},r.prototype.clone=function(){return Object(St.b)()},r.prototype.closestPointXY=function(t,e,i,a){return Object(St.b)()},r.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},r.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},r.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},r.prototype.computeExtent=function(t){return Object(St.b)()},r.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&W(e),this.extentRevision_=this.getRevision()}return zo(this.extent_,t)},r.prototype.rotate=function(t,e){Object(St.b)()},r.prototype.scale=function(t,e,i){Object(St.b)()},r.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},r.prototype.getSimplifiedGeometry=function(t){return Object(St.b)()},r.prototype.getType=function(){return Object(St.b)()},r.prototype.applyTransform=function(t){Object(St.b)()},r.prototype.intersectsExtent=function(t){return Object(St.b)()},r.prototype.translate=function(t,e){Object(St.b)()},r.prototype.transform=function(t,e){var i=zn(t),a=i.getUnits()==Zi.TILE_PIXELS?function(c,f,p){var g=i.getExtent(),m=i.getWorldExtent(),O=an(m)/an(g);return Qe(qi,m[0],m[3],O,-O,0,0,0),vn(c,0,c.length,p,qi,f),bl(i,e)(c,f,p)}:bl(i,e);return this.applyTransform(a),this},r}(_o.a),so=ro,Sa=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ci=function(n){Sa(r,n);function r(){var t=n.call(this)||this;return t.layout=or.XY,t.stride=2,t.flatCoordinates=null,t}return r.prototype.computeExtent=function(t){return Ee(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinates=function(){return Object(St.b)()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),i=e.getFlatCoordinates();return i.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},r.prototype.getSimplifiedGeometryInternal=function(t){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(t,e){this.stride=La(t),this.layout=t,this.flatCoordinates=e},r.prototype.setCoordinates=function(t,e){Object(St.b)()},r.prototype.setLayout=function(t,e,i){var a;if(t)a=La(t);else{for(var c=0;c<i;++c)if(e.length===0){this.layout=or.XY,this.stride=2;return}else e=e[0];a=e.length,t=ra(a)}this.layout=t,this.stride=a},r.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var a=this.getStride();Qn(i,0,i.length,a,t,e,i),this.changed()}},r.prototype.scale=function(t,e,i){var a=e;a===void 0&&(a=t);var c=i;c||(c=kn(this.getExtent()));var f=this.getFlatCoordinates();if(f){var p=this.getStride();Ni(f,0,f.length,p,t,a,c,f),this.changed()}},r.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var a=this.getStride();xi(i,0,i.length,a,t,e,i),this.changed()}},r}(so);function ra(n){var r;return n==2?r=or.XY:n==3?r=or.XYZ:n==4&&(r=or.XYZM),r}function La(n){var r;return n==or.XY?r=2:n==or.XYZ||n==or.XYM?r=3:n==or.XYZM&&(r=4),r}function Ia(n,r,t){var e=n.getFlatCoordinates();if(e){var i=n.getStride();return vn(e,0,e.length,i,r,t)}else return null}var Po=Ci;function Za(n,r,t,e,i,a,c){var f=n[r],p=n[r+1],g=n[t]-f,m=n[t+1]-p,O;if(g===0&&m===0)O=r;else{var P=((i-f)*g+(a-p)*m)/(g*g+m*m);if(P>1)O=t;else if(P>0){for(var V=0;V<e;++V)c[V]=sl(n[r+V],n[t+V],P);c.length=e;return}else O=r}for(var V=0;V<e;++V)c[V]=n[O+V];c.length=e}function eo(n,r,t,e,i){var a=n[r],c=n[r+1];for(r+=e;r<t;r+=e){var f=n[r],p=n[r+1],g=Ra(a,c,f,p);g>i&&(i=g),a=f,c=p}return i}function k(n,r,t,e,i){for(var a=0,c=t.length;a<c;++a){var f=t[a];i=eo(n,r,f,e,i),r=f}return i}function xt(n,r,t,e,i){for(var a=0,c=t.length;a<c;++a){var f=t[a];i=k(n,r,f,e,i),r=f[f.length-1]}return i}function Pt(n,r,t,e,i,a,c,f,p,g,m){if(r==t)return g;var O,P;if(i===0)if(P=Ra(c,f,n[r],n[r+1]),P<g){for(O=0;O<e;++O)p[O]=n[r+O];return p.length=e,P}else return g;for(var V=m||[NaN,NaN],$=r+e;$<t;)if(Za(n,$-e,$,e,c,f,V),P=Ra(c,f,V[0],V[1]),P<g){for(g=P,O=0;O<e;++O)p[O]=V[O];p.length=e,$+=e}else $+=e*Math.max((Math.sqrt(P)-Math.sqrt(g))/i|0,1);if(a&&(Za(n,t-e,r,e,c,f,V),P=Ra(c,f,V[0],V[1]),P<g)){for(g=P,O=0;O<e;++O)p[O]=V[O];p.length=e}return g}function xe(n,r,t,e,i,a,c,f,p,g,m){for(var O=m||[NaN,NaN],P=0,V=t.length;P<V;++P){var $=t[P];g=Pt(n,r,$,e,i,a,c,f,p,g,O),r=$}return g}function He(n,r,t,e,i,a,c,f,p,g,m){for(var O=m||[NaN,NaN],P=0,V=t.length;P<V;++P){var $=t[P];g=xe(n,r,$,e,i,a,c,f,p,g,O),r=$[$.length-1]}return g}function Xe(n,r,t,e){for(var i=0,a=t.length;i<a;++i)n[r++]=t[i];return r}function xr(n,r,t,e){for(var i=0,a=t.length;i<a;++i)for(var c=t[i],f=0;f<e;++f)n[r++]=c[f];return r}function Wr(n,r,t,e,i){for(var a=i||[],c=0,f=0,p=t.length;f<p;++f){var g=xr(n,r,t[f],e);a[c++]=g,r=g}return a.length=c,a}function We(n,r,t,e,i){for(var a=i||[],c=0,f=0,p=t.length;f<p;++f){var g=Wr(n,r,t[f],e,a[c]);a[c++]=g,r=g[g.length-1]}return a.length=c,a}function bn(n,r,t,e,i,a,c){var f=(t-r)/e;if(f<3){for(;r<t;r+=e)a[c++]=n[r],a[c++]=n[r+1];return c}var p=new Array(f);p[0]=1,p[f-1]=1;for(var g=[r,t-e],m=0;g.length>0;){for(var O=g.pop(),P=g.pop(),V=0,$=n[P],ot=n[P+1],yt=n[O],Lt=n[O+1],zt=P+e;zt<O;zt+=e){var Ht=n[zt],jt=n[zt+1],ye=Ma(Ht,jt,$,ot,yt,Lt);ye>V&&(m=zt,V=ye)}V>i&&(p[(m-r)/e]=1,P+e<m&&g.push(P,m),m+e<O&&g.push(m,O))}for(var zt=0;zt<f;++zt)p[zt]&&(a[c++]=n[r+zt*e],a[c++]=n[r+zt*e+1]);return c}function ei(n,r,t,e,i,a,c,f){for(var p=0,g=t.length;p<g;++p){var m=t[p];c=bn(n,r,m,e,i,a,c),f.push(c),r=m}return c}function dn(n,r){return r*Math.round(n/r)}function vi(n,r,t,e,i,a,c){if(r==t)return c;var f=dn(n[r],i),p=dn(n[r+1],i);r+=e,a[c++]=f,a[c++]=p;var g,m;do if(g=dn(n[r],i),m=dn(n[r+1],i),r+=e,r==t)return a[c++]=g,a[c++]=m,c;while(g==f&&m==p);for(;r<t;){var O=dn(n[r],i),P=dn(n[r+1],i);if(r+=e,!(O==g&&P==m)){var V=g-f,$=m-p,ot=O-f,yt=P-p;if(V*yt==$*ot&&(V<0&&ot<V||V==ot||V>0&&ot>V)&&($<0&&yt<$||$==yt||$>0&&yt>$)){g=O,m=P;continue}a[c++]=g,a[c++]=m,f=g,p=m,g=O,m=P}}return a[c++]=g,a[c++]=m,c}function li(n,r,t,e,i,a,c,f){for(var p=0,g=t.length;p<g;++p){var m=t[p];c=vi(n,r,m,e,i,a,c),f.push(c),r=m}return c}function $i(n,r,t,e,i,a,c,f){for(var p=0,g=t.length;p<g;++p){var m=t[p],O=[];c=li(n,r,m,e,i,a,c,O),f.push(O),r=m[m.length-1]}return c}function Gi(n,r,t,e,i){for(var a=i!==void 0?i:[],c=0,f=r;f<t;f+=e)a[c++]=n.slice(f,f+e);return a.length=c,a}function Ao(n,r,t,e,i){for(var a=i!==void 0?i:[],c=0,f=0,p=t.length;f<p;++f){var g=t[f];a[c++]=Gi(n,r,g,e,a[c]),r=g}return a.length=c,a}function wa(n,r,t,e,i){for(var a=i!==void 0?i:[],c=0,f=0,p=t.length;f<p;++f){var g=t[f];a[c++]=Ao(n,r,g,e,a[c]),r=g[g.length-1]}return a.length=c,a}function ps(n,r,t,e){for(var i=0,a=n[t-e],c=n[t-e+1];r<t;r+=e){var f=n[r],p=n[r+1];i+=c*f-a*p,a=f,c=p}return i/2}function Ms(n,r,t,e){for(var i=0,a=0,c=t.length;a<c;++a){var f=t[a];i+=ps(n,r,f,e),r=f}return i}function bd(n,r,t,e){for(var i=0,a=0,c=t.length;a<c;++a){var f=t[a];i+=Ms(n,r,f,e),r=f[f.length-1]}return i}var Mf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rf=function(n){Mf(r,n);function r(t,e){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(t,e,i,a){return a<qt(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Pt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,a))},r.prototype.getArea=function(){return ps(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return Gi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=bn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,or.XY)},r.prototype.getType=function(){return Se.LINEAR_RING},r.prototype.intersectsExtent=function(t){return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Po),Pu=Rf,Cf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bf=function(n){Cf(r,n);function r(t,e){var i=n.call(this)||this;return i.setCoordinates(t,e),i}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){var c=this.flatCoordinates,f=Ra(t,e,c[0],c[1]);if(f<a){for(var p=this.stride,g=0;g<p;++g)i[g]=c[g];return i.length=p,f}else return a},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(t){return st(this.flatCoordinates,t)},r.prototype.getType=function(){return Se.POINT},r.prototype.intersectsExtent=function(t){return Be(t,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xe(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Po),Fi=bf;function vl(n,r,t,e,i){var a=qn(i,function(c){return!tu(n,r,t,e,c[0],c[1])});return!a}function tu(n,r,t,e,i,a){for(var c=0,f=n[t-e],p=n[t-e+1];r<t;r+=e){var g=n[r],m=n[r+1];p<=a?m>a&&(g-f)*(a-p)-(i-f)*(m-p)>0&&c++:m<=a&&(g-f)*(a-p)-(i-f)*(m-p)<0&&c--,f=g,p=m}return c!==0}function u0(n,r,t,e,i,a){if(t.length===0||!tu(n,r,t[0],e,i,a))return!1;for(var c=1,f=t.length;c<f;++c)if(tu(n,t[c-1],t[c],e,i,a))return!1;return!0}function vh(n,r,t,e,i,a){if(t.length===0)return!1;for(var c=0,f=t.length;c<f;++c){var p=t[c];if(u0(n,r,p,e,i,a))return!0;r=p[p.length-1]}return!1}function U0(n,r,t,e,i,a,c){for(var f,p,g,m,O,P,V,$=i[a+1],ot=[],yt=0,Lt=t.length;yt<Lt;++yt){var zt=t[yt];for(m=n[zt-e],P=n[zt-e+1],f=r;f<zt;f+=e)O=n[f],V=n[f+1],($<=P&&V<=$||P<=$&&$<=V)&&(g=($-P)/(V-P)*(O-m)+m,ot.push(g)),m=O,P=V}var Ht=NaN,jt=-1/0;for(ot.sort(et.i),m=ot[0],f=1,p=ot.length;f<p;++f){O=ot[f];var ye=Math.abs(O-m);ye>jt&&(g=(m+O)/2,u0(n,r,t,e,g,$)&&(Ht=g,jt=ye)),m=O}return isNaN(Ht)&&(Ht=i[a]),c?(c.push(Ht,$,jt),c):[Ht,$,jt]}function Zs(n,r,t,e,i){for(var a=[],c=0,f=t.length;c<f;++c){var p=t[c];a=U0(n,r,p,e,i,2*c,a),r=p[p.length-1]}return a}function Ld(n,r,t,e,i){var a;for(r+=e;r<t;r+=e)if(a=i(n.slice(r-e,r),n.slice(r,r+e)),a)return a;return!1}function c0(n,r,t,e,i){var a=ci(ft(),n,r,t,e);return Ei(i,a)?Pe(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3]?!0:Ld(n,r,t,e,function(c,f){return Ss(i,c,f)}):!1}function Id(n,r,t,e,i){for(var a=0,c=t.length;a<c;++a){if(c0(n,r,t[a],e,i))return!0;r=t[a]}return!1}function Nu(n,r,t,e,i){return!!(c0(n,r,t,e,i)||tu(n,r,t,e,i[0],i[1])||tu(n,r,t,e,i[0],i[3])||tu(n,r,t,e,i[2],i[1])||tu(n,r,t,e,i[2],i[3]))}function gh(n,r,t,e,i){if(!Nu(n,r,t[0],e,i))return!1;if(t.length===1)return!0;for(var a=1,c=t.length;a<c;++a)if(vl(n,t[a-1],t[a],e,i)&&!c0(n,t[a-1],t[a],e,i))return!1;return!0}function y1(n,r,t,e,i){for(var a=0,c=t.length;a<c;++a){var f=t[a];if(gh(n,r,f,e,i))return!0;r=f[f.length-1]}return!1}function m1(n,r,t,e){for(;r<t-e;){for(var i=0;i<e;++i){var a=n[r+i];n[r+i]=n[t-e+i],n[t-e+i]=a}r+=e,t-=e}}function Fu(n,r,t,e){for(var i=0,a=n[t-e],c=n[t-e+1];r<t;r+=e){var f=n[r],p=n[r+1];i+=(f-a)*(p+c),a=f,c=p}return i===0?void 0:i>0}function Il(n,r,t,e,i){for(var a=i!==void 0?i:!1,c=0,f=t.length;c<f;++c){var p=t[c],g=Fu(n,r,p,e);if(c===0){if(a&&g||!a&&!g)return!1}else if(a&&!g||!a&&g)return!1;r=p}return!0}function Du(n,r,t,e,i){for(var a=0,c=t.length;a<c;++a){var f=t[a];if(!Il(n,r,f,e,i))return!1;f.length&&(r=f[f.length-1])}return!0}function uc(n,r,t,e,i){for(var a=i!==void 0?i:!1,c=0,f=t.length;c<f;++c){var p=t[c],g=Fu(n,r,p,e),m=c===0?a&&g||!a&&!g:a&&!g||!a&&g;m&&m1(n,r,p,e),r=p}return r}function ju(n,r,t,e,i){for(var a=0,c=t.length;a<c;++a)r=uc(n,r,t[a],e,i);return r}var Ic=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pc=function(n){Ic(r,n);function r(t,e,i){var a=n.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,e!==void 0&&i?(a.setFlatCoordinates(e,t),a.ends_=i):a.setCoordinates(t,e),a}return r.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(et.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){return a<qt(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(k(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xe(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,a))},r.prototype.containsXY=function(t,e){return u0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},r.prototype.getArea=function(){return Ms(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),uc(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Ao(e,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=kn(this.getExtent());this.flatInteriorPoint_=U0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new Fi(this.getFlatInteriorPoint(),or.XYM)},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Pu(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,a=[],c=0,f=0,p=i.length;f<p;++f){var g=i[f],m=new Pu(e.slice(c,g),t);a.push(m),c=g}return a},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Il(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=uc(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=li(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new r(e,or.XY,i)},r.prototype.getType=function(){return Se.POLYGON},r.prototype.intersectsExtent=function(t){return gh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Wr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(Po),fo=Pc;function yh(n,r,t,e){for(var i=t||32,a=[],c=0;c<i;++c)Object(et.c)(a,Lc(n,r,2*Math.PI*c/i,e));return a.push(a[0],a[1]),new Pc(a,or.XY,[a.length])}function eu(n){var r=n[0],t=n[1],e=n[2],i=n[3],a=[r,t,r,i,e,i,e,t,r,t];return new Pc(a,or.XY,[a.length])}function Nc(n,r,t){for(var e=r||32,i=n.getStride(),a=n.getLayout(),c=n.getCenter(),f=i*(e+1),p=new Array(f),g=0;g<f;g+=i){p[g]=0,p[g+1]=0;for(var m=2;m<i;m++)p[g+m]=c[m]}var O=[p.length],P=new Pc(p,a,O);return Gu(P,c,n.getRadius(),t),P}function Gu(n,r,t,e){for(var i=n.getFlatCoordinates(),a=n.getStride(),c=i.length/a-1,f=e||0,p=0;p<=c;++p){var g=p*a,m=f+Ws(p,c)*2*Math.PI/c;i[g]=r[0]+t*Math.cos(m),i[g+1]=r[1]+t*Math.sin(m)}n.changed()}var Fc=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dc=0,mh=function(n){Fc(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=Object(yn.a)({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=fl(i.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,i.center&&(i.center=ut(i.center,e.projection_)),i.extent&&(i.extent=Mt(i.extent,e.projection_)),e.applyOptions_(i),e}return r.prototype.applyOptions_=function(t){var e=Object(yn.a)({},t);for(var i in fa)delete e[i];this.setProperties(e,!0);var a=Lf(t);this.maxResolution_=a.maxResolution,this.minResolution_=a.minResolution,this.zoomFactor_=a.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=a.minZoom;var c=h0(t),f=a.constraint,p=ru(t);this.constraints_={center:c,resolution:f,rotation:p},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(r.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var a=t||[0,0,0,0];e=e||[0,0,0,0];var c=this.getResolution(),f=c/2*(a[3]-e[3]+e[1]-a[1]),p=c/2*(a[0]-e[0]+e[2]-a[2]);this.setCenterInternal([i[0]+f,i[1]-p])}},enumerable:!1,configurable:!0}),r.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(yn.a)({},e,t)},r.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var a=arguments[i];a.center&&(a=Object(yn.a)({},a),a.center=ut(a.center,this.getProjection())),a.anchor&&(a=Object(yn.a)({},a),a.anchor=ut(a.anchor,this.getProjection())),e[i]=a}this.animateInternal.apply(this,e)},r.prototype.animateInternal=function(t){var e=arguments.length,i;e>1&&typeof arguments[e-1]=="function"&&(i=arguments[e-1],--e);for(var a=0;a<e&&!this.isDef();++a){var c=arguments[a];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(a===e){i&&cc(i,!0);return}for(var f=Date.now(),p=this.targetCenter_.slice(),g=this.targetResolution_,m=this.targetRotation_,O=[];a<e;++a){var P=arguments[a],V={start:f,complete:!1,anchor:P.anchor,duration:P.duration!==void 0?P.duration:1e3,easing:P.easing||on,callback:i};if(P.center&&(V.sourceCenter=p,V.targetCenter=P.center.slice(),p=V.targetCenter),P.zoom!==void 0?(V.sourceResolution=g,V.targetResolution=this.getResolutionForZoom(P.zoom),g=V.targetResolution):P.resolution&&(V.sourceResolution=g,V.targetResolution=P.resolution,g=V.targetResolution),P.rotation!==void 0){V.sourceRotation=m;var $=Ws(P.rotation-m+Math.PI,2*Math.PI)-Math.PI;V.targetRotation=m+$,m=V.targetRotation}jc(V)?V.complete=!0:f+=V.duration,O.push(V)}this.animations_.push(O),this.setHint(Wi.ANIMATING,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[Wi.ANIMATING]>0},r.prototype.getInteracting=function(){return this.hints_[Wi.INTERACTING]>0},r.prototype.cancelAnimations=function(){this.setHint(Wi.ANIMATING,-this.hints_[Wi.ANIMATING]);for(var t,e=0,i=this.animations_.length;e<i;++e){var a=this.animations_[e];if(a[0].callback&&cc(a[0].callback,!1),!t)for(var c=0,f=a.length;c<f;++c){var p=a[c];if(!p.complete){t=p.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},r.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var a=this.animations_[i],c=!0,f=0,p=a.length;f<p;++f){var g=a[f];if(!g.complete){var m=t-g.start,O=g.duration>0?m/g.duration:1;O>=1?(g.complete=!0,O=1):c=!1;var P=g.easing(O);if(g.sourceCenter){var V=g.sourceCenter[0],$=g.sourceCenter[1],ot=g.targetCenter[0],yt=g.targetCenter[1];this.nextCenter_=g.targetCenter;var Lt=V+P*(ot-V),zt=$+P*(yt-$);this.targetCenter_=[Lt,zt]}if(g.sourceResolution&&g.targetResolution){var Ht=P===1?g.targetResolution:g.sourceResolution+P*(g.targetResolution-g.sourceResolution);if(g.anchor){var jt=this.getViewportSize_(this.getRotation()),ye=this.constraints_.resolution(Ht,0,jt,!0);this.targetCenter_=this.calculateCenterZoom(ye,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=Ht,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){var ve=P===1?Ws(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+P*(g.targetRotation-g.sourceRotation);if(g.anchor){var Oe=this.constraints_.rotation(ve,!0);this.targetCenter_=this.calculateCenterRotate(Oe,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=ve}if(this.applyTargetState_(!0),e=!0,!g.complete)break}}if(c){this.animations_[i]=null,this.setHint(Wi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var we=a[0].callback;we&&cc(we,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(t,e){var i,a=this.getCenterInternal();return a!==void 0&&(i=[a[0]-e[0],a[1]-e[1]],lt(i,t-this.getRotation()),Z(i,e)),i},r.prototype.calculateCenterZoom=function(t,e){var i,a=this.getCenterInternal(),c=this.getResolution();if(a!==void 0&&c!==void 0){var f=e[0]-t*(e[0]-a[0])/c,p=e[1]-t*(e[1]-a[1])/c;i=[f,p]}return i},r.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],a=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(a*Math.cos(t))]}else return e},r.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Q(t,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get(fa.CENTER)},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},r.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},r.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return mt(e,this.getProjection())},r.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();le(i,1);var a=this.getResolution();le(a!==void 0,2);var c=this.getRotation();return le(c!==void 0,3),zi(i,a,c,e)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},r.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get(fa.RESOLUTION)},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Mt(t,this.getProjection()),e)},r.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSizeMinusPadding_(),a=nn(t)/i[0],c=an(t)/i[1];return Math.max(a,c)},r.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,c=Math.log(i/a)/Math.log(e);return function(f){var p=i/Math.pow(e,f*c);return p}},r.prototype.getRotation=function(){return this.get(fa.ROTATION)},r.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,c=Math.log(i/a)/e;return function(f){var p=Math.log(i/f)/e/c;return p}},r.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e},r.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),a=this.getCenterInternal(),c=this.padding_;if(c){var f=this.getViewportSizeMinusPadding_();a=Ho(a,this.getViewportSize_(),[f[0]/2+c[3],f[1]/2+c[0]],e,i)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var t,e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t},r.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0,i,a;if(this.resolutions_){var c=Object(et.h)(this.resolutions_,t,1);e=c,i=this.resolutions_[c],c==this.resolutions_.length-1?a=2:a=i/this.resolutions_[c+1]}else i=this.maxResolution_,a=this.zoomFactor_;return e+Math.log(i/t)/Math.log(a)},r.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Si(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,Si(t-e,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},r.prototype.fit=function(t,e){var i;if(le(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){le(!ho(t),25);var a=Mt(t,this.getProjection());i=eu(a)}else if(t.getType()===Se.CIRCLE){var a=Mt(t.getExtent(),this.getProjection());i=eu(a),i.rotate(this.getRotation(),kn(a))}else{var c=U();c?i=t.clone().transform(c,this.getProjection()):i=t}this.fitInternal(i,e)},r.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),i=Math.cos(e),a=Math.sin(-e),c=t.getFlatCoordinates(),f=t.getStride(),p=1/0,g=1/0,m=-1/0,O=-1/0,P=0,V=c.length;P<V;P+=f){var $=c[P]*i-c[P+1]*a,ot=c[P]*a+c[P+1]*i;p=Math.min(p,$),g=Math.min(g,ot),m=Math.max(m,$),O=Math.max(O,ot)}return[p,g,m,O]},r.prototype.fitInternal=function(t,e){var i=e||{},a=i.size;a||(a=this.getViewportSizeMinusPadding_());var c=i.padding!==void 0?i.padding:[0,0,0,0],f=i.nearest!==void 0?i.nearest:!1,p;i.minResolution!==void 0?p=i.minResolution:i.maxZoom!==void 0?p=this.getResolutionForZoom(i.maxZoom):p=0;var g=this.rotatedExtentForGeometry(t),m=this.getResolutionForExtentInternal(g,[a[0]-c[1]-c[3],a[1]-c[0]-c[2]]);m=isNaN(m)?p:Math.max(m,p),m=this.getConstrainedResolution(m,f?0:1);var O=this.getRotation(),P=Math.sin(O),V=Math.cos(O),$=kn(g);$[0]+=(c[1]-c[3])/2*m,$[1]+=(c[0]-c[2])/2*m;var ot=$[0]*V-$[1]*P,yt=$[1]*V+$[0]*P,Lt=this.getConstrainedCenter([ot,yt],m),zt=i.callback?i.callback:Bt.c;i.duration!==void 0?this.animateInternal({resolution:m,center:Lt,duration:i.duration,easing:i.easing},zt):(this.targetResolution_=m,this.targetCenter_=Lt,this.applyTargetState_(!1,!0),cc(zt,!0))},r.prototype.centerOn=function(t,e,i){this.centerOnInternal(ut(t,this.getProjection()),e,i)},r.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(Ho(t,e,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(t,e,i,a){var c,f=this.padding_;if(f&&t){var p=this.getViewportSizeMinusPadding_(-i),g=Ho(t,a,[p[0]/2+f[3],p[1]/2+f[0]],e,i);c=[t[0]-g[0],t[1]-g[1]]}return c},r.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},r.prototype.adjustCenter=function(t){var e=Q(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustResolution=function(t,e){var i=e&&ut(e,this.getProjection());this.adjustResolutionInternal(t,i)},r.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),c=this.constraints_.resolution(this.targetResolution_*t,0,a,i);e&&(this.targetCenter_=this.calculateCenterZoom(c,e)),this.targetResolution_*=t,this.applyTargetState_()},r.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},r.prototype.adjustRotation=function(t,e){e&&(e=ut(e,this.getProjection())),this.adjustRotationInternal(t,e)},r.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(a,e)),this.targetRotation_+=t,this.applyTargetState_()},r.prototype.setCenter=function(t){this.setCenterInternal(ut(t,this.getProjection()))},r.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},r.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},r.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},r.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},r.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},r.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,a=this.constraints_.rotation(this.targetRotation_,i),c=this.getViewportSize_(a),f=this.constraints_.resolution(this.targetResolution_,0,c,i),p=this.constraints_.center(this.targetCenter_,f,c,i,this.calculateCenterShift(this.targetCenter_,f,a,c));this.get(fa.ROTATION)!==a&&this.set(fa.ROTATION,a),this.get(fa.RESOLUTION)!==f&&(this.set(fa.RESOLUTION,f),this.set("zoom",this.getZoom(),!0)),(!p||!this.get(fa.CENTER)||!at(this.get(fa.CENTER),p))&&this.set(fa.CENTER,p),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(t,e,i){var a=t!==void 0?t:200,c=e||0,f=this.constraints_.rotation(this.targetRotation_),p=this.getViewportSize_(f),g=this.constraints_.resolution(this.targetResolution_,c,p),m=this.constraints_.center(this.targetCenter_,g,p,!1,this.calculateCenterShift(this.targetCenter_,g,f,p));if(a===0&&!this.cancelAnchor_){this.targetResolution_=g,this.targetRotation_=f,this.targetCenter_=m,this.applyTargetState_();return}var O=i||(a===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==g||this.getRotation()!==f||!this.getCenterInternal()||!at(this.getCenterInternal(),m))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:f,center:m,resolution:g,duration:a,easing:Hr,anchor:O}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Wi.INTERACTING,1)},r.prototype.endInteraction=function(t,e,i){var a=i&&ut(i,this.getProjection());this.endInteractionInternal(t,e,a)},r.prototype.endInteractionInternal=function(t,e,i){this.setHint(Wi.INTERACTING,-1),this.resolveConstraints(t,e,i)},r.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(t,e){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))},r.prototype.getConstrainedResolution=function(t,e){var i=e||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,a)},r}(_o.a);function cc(n,r){setTimeout(function(){n(r)},0)}function h0(n){if(n.extent!==void 0){var r=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Y(n.extent,n.constrainOnlyCenter,r)}var t=fl(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Y(e,!1,!1)}return rt}function Lf(n){var r,t,e,i=28,a=2,c=n.minZoom!==void 0?n.minZoom:Dc,f=n.maxZoom!==void 0?n.maxZoom:i,p=n.zoomFactor!==void 0?n.zoomFactor:a,g=n.multiWorld!==void 0?n.multiWorld:!1,m=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,O=n.showFullExtent!==void 0?n.showFullExtent:!1,P=fl(n.projection,"EPSG:3857"),V=P.getExtent(),$=n.constrainOnlyCenter,ot=n.extent;if(!g&&!ot&&P.isGlobal()&&($=!1,ot=V),n.resolutions!==void 0){var yt=n.resolutions;t=yt[c],e=yt[f]!==void 0?yt[f]:yt[yt.length-1],n.constrainResolution?r=Et(yt,m,!$&&ot,O):r=_e(t,e,m,!$&&ot,O)}else{var Lt=V?Math.max(nn(V),an(V)):360*ha[Zi.DEGREES]/P.getMetersPerUnit(),zt=Lt/ba/Math.pow(a,Dc),Ht=zt/Math.pow(a,i-Dc);t=n.maxResolution,t!==void 0?c=0:t=zt/Math.pow(p,c),e=n.minResolution,e===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?e=t/Math.pow(p,f):e=zt/Math.pow(p,f):e=Ht),f=c+Math.floor(Math.log(t/e)/Math.log(p)),e=t/Math.pow(p,f-c),n.constrainResolution?r=ie(p,t,e,m,!$&&ot,O):r=_e(t,e,m,!$&&ot,O)}return{constraint:r,maxResolution:t,minResolution:e,minZoom:c,zoomFactor:p}}function ru(n){var r=n.enableRotation!==void 0?n.enableRotation:!0;if(r){var t=n.constrainRotation;return t===void 0||t===!0?Je():t===!1?De:typeof t=="number"?$e(t):De}else return ce}function jc(n){return!(n.sourceCenter&&n.targetCenter&&!at(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Ho(n,r,t,e,i){var a=Math.cos(-i),c=Math.sin(-i),f=n[0]*a-n[1]*c,p=n[1]*a+n[0]*c;f+=(r[0]/2-t[0])*e,p+=(t[1]-r[1]/2)*e,c=-c;var g=f*a-p*c,m=p*a+f*c;return[g,m]}var po=mh;function Pa(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]+2*r,t[1]=n[1]+2*r,t}function qa(n){return n[0]>0&&n[1]>0}function hc(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*r+.5|0,t[1]=n[1]*r+.5|0,t}function pa(n,r){return Array.isArray(n)?n:(r===void 0?r=[n,n]:(r[0]=n,r[1]=n),r)}var _h=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function If(n){if(n instanceof C){n.setMapInternal(null);return}n instanceof Ki&&n.getLayers().forEach(If)}function _1(n,r){if(n instanceof C){n.setMapInternal(r);return}if(n instanceof Ki)for(var t=n.getLayers().getArray(),e=0,i=t.length;e<i;++e)_1(t[e],r)}var Dg=function(n){_h(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=jg(t);e.renderComplete_,e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,e.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Xt.a,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=gt(),e.pixelToCoordinateTransform_=gt(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=i.keyboardEventTarget,e.targetChangeHandlerKeys_=null,e.controls=i.controls||new Bn,e.interactions=i.interactions||new Bn,e.overlays_=i.overlays,e.overlayIdIndex_={},e.renderer_=null,e.postRenderFunctions_=[],e.tileQueue_=new Ml(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addChangeListener(to.LAYERGROUP,e.handleLayerGroupChanged_),e.addChangeListener(to.VIEW,e.handleViewChanged_),e.addChangeListener(to.SIZE,e.handleSizeChanged_),e.addChangeListener(to.TARGET,e.handleTargetChanged_),e.setProperties(i.values);var a=e;return t.view&&!(t.view instanceof po)&&t.view.then(function(c){a.setView(new po(c))}),e.controls.addEventListener(ni.ADD,function(c){c.element.setMap(this)}.bind(e)),e.controls.addEventListener(ni.REMOVE,function(c){c.element.setMap(null)}.bind(e)),e.interactions.addEventListener(ni.ADD,function(c){c.element.setMap(this)}.bind(e)),e.interactions.addEventListener(ni.REMOVE,function(c){c.element.setMap(null)}.bind(e)),e.overlays_.addEventListener(ni.ADD,function(c){this.addOverlayInternal_(c.element)}.bind(e)),e.overlays_.addEventListener(ni.REMOVE,function(c){var f=c.element,p=f.getId();p!==void 0&&delete this.overlayIdIndex_[p.toString()],c.element.setMap(null)}.bind(e)),e.controls.forEach(function(c){c.setMap(this)}.bind(e)),e.interactions.forEach(function(c){c.setMap(this)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e}return r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(t){this.getControls().push(t)},r.prototype.addInteraction=function(t){this.getInteractions().push(t)},r.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},r.prototype.handleLayerAdd_=function(t){_1(t.layer,this)},r.prototype.addOverlay=function(t){this.getOverlays().push(t)},r.prototype.addOverlayInternal_=function(t){var e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(t,e,i){if(!!this.frameState_){var a=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var c=i.hitTolerance!==void 0?i.hitTolerance:0,f=i.layerFilter!==void 0?i.layerFilter:Bt.b,p=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,c,p,e,null,f,null)}},r.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,function(a){i.push(a)},e),i},r.prototype.getAllLayers=function(){var t=[];function e(i){i.forEach(function(a){a instanceof Ki?e(a.getLayers()):t.push(a)})}return e(this.getLayers()),t},r.prototype.forEachLayerAtPixel=function(t,e,i){if(!!this.frameState_){var a=i||{},c=a.hitTolerance!==void 0?a.hitTolerance:0,f=a.layerFilter||Bt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,c,e,f)}},r.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};var a=e.layerFilter!==void 0?e.layerFilter:Bt.b,c=e.hitTolerance!==void 0?e.hitTolerance:0,f=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,c,f,a,null)},r.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},r.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},r.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},r.prototype.getTarget=function(){return this.get(to.TARGET)},r.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},r.prototype.getCoordinateFromPixel=function(t){return Q(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Ke(e.pixelToCoordinateTransform,t.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get(to.LAYERGROUP)},r.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof Bn){e.setLayers(t);return}var i=e.getLayers();i.clear(),i.extend(t)},r.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},r.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var a=t[e].layer,c=a.getSource();if(c&&c.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(t){var e=ut(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},r.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Ke(e.coordinateToPixelTransform,t.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get(to.SIZE)},r.prototype.getView=function(){return this.get(to.VIEW)},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},r.prototype.getTilePriority=function(t,e,i,a){return Os(this.frameState_,t,e,i,a)},r.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,a=new $n(i,this,t);this.handleMapBrowserEvent(a)},r.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var e=t.originalEvent,i=e.type;if(i===aa.POINTERDOWN||i===hn.a.WHEEL||i===hn.a.KEYDOWN){var a=this.getOwnerDocument(),c=this.viewport_.getRootNode?this.viewport_.getRootNode():a,f=e.target;if(this.overlayContainerStopEvent_.contains(f)||!(c===a?a.documentElement:c).contains(f))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var p=this.getInteractions().getArray().slice(),g=p.length-1;g>=0;g--){var m=p[g];if(!(m.getMap()!==this||!m.getActive()||!this.getTargetElement())){var O=m.handleEvent(t);if(!O||t.propagationStopped)break}}}},r.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,a=i;if(t){var c=t.viewHints;if(c[Wi.ANIMATING]||c[Wi.INTERACTING]){var f=Date.now()-t.time>8;i=f?0:8,a=f?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,a))}t&&this.hasListener(Go.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Go.RENDERCOMPLETE,t);for(var p=this.postRenderFunctions_,g=0,m=p.length;g<m;++g)p[g](this,t);p.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Object($r.c)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(hn.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(hn.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(fr.e)(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Ts(this,this.moveTolerance_);for(var a in _n)this.mapBrowserEventHandler_.addEventListener(_n[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(hn.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(hn.a.WHEEL,this.boundHandleBrowserEvent_,Xt.e?{passive:!1}:!1);var c=this.getOwnerDocument().defaultView,f=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Object($r.a)(f,hn.a.KEYDOWN,this.handleBrowserEvent,this),Object($r.a)(f,hn.a.KEYPRESS,this.handleBrowserEvent,this),Object($r.a)(c,hn.a.RESIZE,this.updateSize,this)]}this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object($r.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object($r.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object($r.a)(t,Ye.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object($r.a)(t,hn.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach($r.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Xi("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Object($r.a)(t,Ye.a.PROPERTYCHANGE,this.render,this),Object($r.a)(t,hn.a.CHANGE,this.render,this),Object($r.a)(t,"addlayer",this.handleLayerAdd_,this),Object($r.a)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var a=t[e].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(t){return this.getControls().remove(t)},r.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},r.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},r.prototype.handleLayerRemove_=function(t){If(t.layer)},r.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},r.prototype.renderFrame_=function(t){var e=this,i=this.getSize(),a=this.getView(),c=this.frameState_,f=null;if(i!==void 0&&qa(i)&&a&&a.isDef()){var p=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=a.getState();if(f={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:zi(g.center,g.resolution,g.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:g,viewHints:p,wantedTiles:{},mapId:Object(St.c)(this),renderTargets:{}},g.nextCenter&&g.nextResolution){var m=isNaN(g.nextRotation)?g.rotation:g.nextRotation;f.nextExtent=zi(g.nextCenter,g.nextResolution,m,i)}}if(this.frameState_=f,this.renderer_.renderFrame(f),f){if(f.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,f.postRenderFunctions),c){var O=!this.previousExtent_||!ho(this.previousExtent_)&&!Ar(f.extent,this.previousExtent_);O&&(this.dispatchEvent(new Ca(Wn.a.MOVESTART,this,c)),this.previousExtent_=W(this.previousExtent_))}var P=this.previousExtent_&&!f.viewHints[Wi.ANIMATING]&&!f.viewHints[Wi.INTERACTING]&&!Ar(f.extent,this.previousExtent_);P&&(this.dispatchEvent(new Ca(Wn.a.MOVEEND,this,f)),te(f.extent,this.previousExtent_))}this.dispatchEvent(new Ca(Wn.a.POSTRENDER,this,f)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},r.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new Xi("removelayer",e)),this.set(to.LAYERGROUP,t)},r.prototype.setSize=function(t){this.set(to.SIZE,t)},r.prototype.setTarget=function(t){this.set(to.TARGET,t)},r.prototype.setView=function(t){if(!t||t instanceof po){this.set(to.VIEW,t);return}this.set(to.VIEW,new po);var e=this;t.then(function(i){e.setView(new po(i))})},r.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var i=getComputedStyle(t),a=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),c=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(a)&&!isNaN(c)&&(e=[a,c],!qa(e)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}},r}(_o.a);function jg(n){var r=null;n.keyboardEventTarget!==void 0&&(r=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},e=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Ki({layers:n.layers});t[to.LAYERGROUP]=e,t[to.TARGET]=n.target,t[to.VIEW]=n.view instanceof po?n.view:new po;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new Bn(n.controls.slice()):(le(typeof n.controls.getArray=="function",47),i=n.controls));var a;n.interactions!==void 0&&(Array.isArray(n.interactions)?a=new Bn(n.interactions.slice()):(le(typeof n.interactions.getArray=="function",48),a=n.interactions));var c;return n.overlays!==void 0?Array.isArray(n.overlays)?c=new Bn(n.overlays.slice()):(le(typeof n.overlays.getArray=="function",49),c=n.overlays):c=new Bn,{controls:i,interactions:a,keyboardEventTarget:r,overlays:c,values:t}}var E1=Dg,lo=s("3900"),Gg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S1=function(n){Gg(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.ulElement_=document.createElement("ul"),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=i.collapsible!==void 0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1);var a=i.className!==void 0?i.className:"ol-attribution",c=i.tipLabel!==void 0?i.tipLabel:"Attributions",f=i.expandClassName!==void 0?i.expandClassName:a+"-expand",p=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",g=i.collapseClassName!==void 0?i.collapseClassName:a+"-collpase";typeof p=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=p,e.collapseLabel_.className=g):e.collapseLabel_=p;var m=i.label!==void 0?i.label:"i";typeof m=="string"?(e.label_=document.createElement("span"),e.label_.textContent=m,e.label_.className=f):e.label_=m;var O=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;e.toggleButton_=document.createElement("button"),e.toggleButton_.setAttribute("type","button"),e.toggleButton_.setAttribute("aria-expanded",String(!e.collapsed_)),e.toggleButton_.title=c,e.toggleButton_.appendChild(O),e.toggleButton_.addEventListener(hn.a.CLICK,e.handleClick_.bind(e),!1);var P=a+" "+mr+" "+re+(e.collapsed_&&e.collapsible_?" "+Ne:"")+(e.collapsible_?"":" ol-uncollapsible"),V=e.element;return V.className=P,V.appendChild(e.toggleButton_),V.appendChild(e.ulElement_),e.renderedAttributions_=[],e.renderedVisible_=!0,e}return r.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],a=!0,c=t.layerStatesArray,f=0,p=c.length;f<p;++f){var g=c[f];if(!!F(g,t.viewState)){var m=g.layer.getSource();if(!!m){var O=m.getAttributions();if(!!O){var P=O(t);if(!!P)if(a=a&&m.getAttributionsCollapsible()!==!1,Array.isArray(P))for(var V=0,$=P.length;V<$;++V)P[V]in e||(i.push(P[V]),e[P[V]]=!0);else P in e||(i.push(P),e[P]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),i},r.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(et.b)(e,this.renderedAttributions_)){Object(fr.d)(this.ulElement_);for(var a=0,c=e.length;a<c;++a){var f=document.createElement("li");f.innerHTML=e[a],this.ulElement_.appendChild(f)}this.renderedAttributions_=e}},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(Ne),this.collapsed_?Object(fr.g)(this.collapseLabel_,this.label_):Object(fr.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(t){this.updateElement_(t.frameState)},r}(lo.default),Pf=S1,Pl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nu=function(n){Pl(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=i.className!==void 0?i.className:"ol-rotate",c=i.label!==void 0?i.label:"\u21E7",f=i.compassClassName!==void 0?i.compassClassName:"ol-compass";e.label_=null,typeof c=="string"?(e.label_=document.createElement("span"),e.label_.className=f,e.label_.textContent=c):(e.label_=c,e.label_.classList.add(f));var p=i.tipLabel?i.tipLabel:"Reset rotation",g=document.createElement("button");g.className=a+"-reset",g.setAttribute("type","button"),g.title=p,g.appendChild(e.label_),g.addEventListener(hn.a.CLICK,e.handleClick_.bind(e),!1);var m=a+" "+mr+" "+re,O=e.element;return O.className=m,O.appendChild(g),e.callResetNorth_=i.resetNorth?i.resetNorth:void 0,e.duration_=i.duration!==void 0?i.duration:250,e.autoHide_=i.autoHide!==void 0?i.autoHide:!0,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(Ue),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(!!e){var i=e.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Hr}):e.setRotation(0))}},r.prototype.render=function(t){var e=t.frameState;if(!!e){var i=e.viewState.rotation;if(i!=this.rotation_){var a="rotate("+i+"rad)";if(this.autoHide_){var c=this.element.classList.contains(Ue);!c&&i===0?this.element.classList.add(Ue):c&&i!==0&&this.element.classList.remove(Ue)}this.label_.style.transform=a}this.rotation_=i}},r}(lo.default),Nf=nu,Pd=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bg=function(n){Pd(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this;var a=i.className!==void 0?i.className:"ol-zoom",c=i.delta!==void 0?i.delta:1,f=i.zoomInClassName!==void 0?i.zoomInClassName:a+"-in",p=i.zoomOutClassName!==void 0?i.zoomOutClassName:a+"-out",g=i.zoomInLabel!==void 0?i.zoomInLabel:"+",m=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",O=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",P=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",V=document.createElement("button");V.className=f,V.setAttribute("type","button"),V.title=O,V.appendChild(typeof g=="string"?document.createTextNode(g):g),V.addEventListener(hn.a.CLICK,e.handleClick_.bind(e,c),!1);var $=document.createElement("button");$.className=p,$.setAttribute("type","button"),$.title=P,$.appendChild(typeof m=="string"?document.createTextNode(m):m),$.addEventListener(hn.a.CLICK,e.handleClick_.bind(e,-c),!1);var ot=a+" "+mr+" "+re,yt=e.element;return yt.className=ot,yt.appendChild(V),yt.appendChild($),e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},r.prototype.zoomByDelta_=function(t){var e=this.getMap(),i=e.getView();if(!!i){var a=i.getZoom();if(a!==void 0){var c=i.getConstrainedZoom(a+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:c,duration:this.duration_,easing:Hr})):i.setZoom(c)}}},r}(lo.default),Ff=Bg;function Nd(n){var r=n||{},t=new Bn,e=r.zoom!==void 0?r.zoom:!0;e&&t.push(new Ff(r.zoomOptions));var i=r.rotate!==void 0?r.rotate:!0;i&&t.push(new Nf(r.rotateOptions));var a=r.attribution!==void 0?r.attribution:!0;return a&&t.push(new Pf(r.attributionOptions)),t}var Df={ACTIVE:"active"},Ug=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w1=function(n){Ug(r,n);function r(t){var e=n.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return r.prototype.getActive=function(){return this.get(Df.ACTIVE)},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(t){return!0},r.prototype.setActive=function(t){this.set(Df.ACTIVE,t)},r.prototype.setMap=function(t){this.map_=t},r}(_o.a);function x1(n,r,t){var e=n.getCenterInternal();if(e){var i=[e[0]+r[0],e[1]+r[1]];n.animateInternal({duration:t!==void 0?t:250,easing:qr,center:n.getConstrainedCenter(i)})}}function Eh(n,r,t,e){var i=n.getZoom();if(i!==void 0){var a=n.getConstrainedZoom(i+r),c=n.getResolutionForZoom(a);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:c,anchor:t,duration:e!==void 0?e:250,easing:Hr})}}var f0=w1,Zm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qm=function(n){Zm(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==_n.DBLCLICK){var i=t.originalEvent,a=t.map,c=t.coordinate,f=i.shiftKey?-this.delta_:this.delta_,p=a.getView();Eh(p,f,c,this.duration_),i.preventDefault(),e=!0}return!e},r}(f0),kg=qm,Jm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qm=function(n){Jm(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,i.handleDownEvent&&(e.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(e.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(e.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(e.handleUpEvent=i.handleUpEvent),i.stopDown&&(e.stopDown=i.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}return r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(t){return!1},r.prototype.handleDragEvent=function(t){},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==_n.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==_n.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==_n.POINTERDOWN){var a=this.handleDownEvent(t);this.handlingDownUpSequence=a,e=this.stopDown(a)}else t.type==_n.POINTERMOVE&&this.handleMoveEvent(t);return!e},r.prototype.handleMoveEvent=function(t){},r.prototype.handleUpEvent=function(t){return!1},r.prototype.stopDown=function(t){return t},r.prototype.updateTrackedPointers_=function(t){if(t5(t)){var e=t.originalEvent,i=e.pointerId.toString();t.type==_n.POINTERUP?delete this.trackedPointers_[i]:t.type==_n.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=Object(yn.c)(this.trackedPointers_)}},r}(f0);function T1(n){for(var r=n.length,t=0,e=0,i=0;i<r;i++)t+=n[i].clientX,e+=n[i].clientY;return[t/r,e/r]}function t5(n){var r=n.type;return r===_n.POINTERDOWN||r===_n.POINTERDRAG||r===_n.POINTERUP}var Nl=Qm;function Sh(n){var r=arguments;return function(t){for(var e=!0,i=0,a=r.length;i<a&&(e=e&&r[i](t),!!e);++i);return e}}var Fd=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},wh=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},zg=function(n){var r=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return r.contains(t)},O1=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?zg(n):!0},jf=Bt.b,e5=function(n){return n.type==_n.CLICK},A1=function(n){var r=n.originalEvent;return r.button==0&&!(Xt.f&&Xt.d&&r.ctrlKey)},M1=Bt.a,r5=function(n){return n.type=="pointermove"},Bu=function(n){return n.type==_n.SINGLECLICK},Uu=function(n){return n.type==_n.DBLCLICK},iu=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},n5=function(n){var r=n.originalEvent;return!r.altKey&&(Xt.d?r.metaKey:r.ctrlKey)&&!r.shiftKey},xh=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},fc=function(n){var r=n.originalEvent,t=r.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},vs=function(n){var r=n.originalEvent;return le(r!==void 0,56),r.pointerType=="mouse"},i5=function(n){var r=n.originalEvent;return le(r!==void 0,56),r.pointerType==="touch"},o5=function(n){var r=n.originalEvent;return le(r!==void 0,56),r.pointerType==="pen"},Dd=function(n){var r=n.originalEvent;return le(r!==void 0,56),r.isPrimary&&r.button===0},Vg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wg=function(n){Vg(r,n);function r(t){var e=n.call(this,{stopDown:Bt.a})||this,i=t||{};e.kinetic_=i.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;var a=i.condition?i.condition:Sh(iu,Dd);return e.condition_=i.onFocusOnly?Sh(O1,a):a,e.noKinetic_=!1,e}return r.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,i=T1(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],c=t.map,f=c.getView();wt(a,f.getResolution()),lt(a,f.getRotation()),f.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),c=this.kinetic_.getAngle(),f=i.getCenterInternal(),p=e.getPixelFromCoordinateInternal(f),g=e.getCoordinateFromPixelInternal([p[0]-a*Math.cos(c),p[1]-a*Math.sin(c)]);i.animateInternal({center:i.getConstrainedCenter(g),duration:500,easing:Hr})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},r}(Nl),Yg=Wg,a5=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jd=function(n){a5(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{stopDown:Bt.a})||this,e.condition_=i.condition?i.condition:wh,e.lastAngle_=void 0,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){if(!!vs(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==ce){var a=e.getSize(),c=t.pixel,f=Math.atan2(a[1]/2-c[1],c[0]-a[0]/2);if(this.lastAngle_!==void 0){var p=f-this.lastAngle_;i.adjustRotationInternal(-p)}this.lastAngle_=f}}},r.prototype.handleUpEvent=function(t){if(!vs(t))return!0;var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1},r.prototype.handleDownEvent=function(t){if(!vs(t))return!1;if(A1(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},r}(Nl),Gd=jd,Gf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),R1=function(n){Gf(r,n);function r(t){var e=n.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}return r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(t[0],e[0])+i,a.top=Math.min(t[1],e[1])+i,a.width=Math.abs(e[0]-t[0])+i,a.height=Math.abs(e[1]-t[1])+i},r.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],a=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new fo([a])},r.prototype.getGeometry=function(){return this.geometry_},r}(Rt.a),Hg=R1,Xg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bf={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},C1=function(n){Xg(r,n);function r(t,e,i){var a=n.call(this,t)||this;return a.coordinate=e,a.mapBrowserEvent=i,a}return r}(cr.a),s5=function(n){Xg(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.box_=new Hg(i.className||"ol-dragbox"),e.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(e.onBoxEnd=i.onBoxEnd),e.startPixel_=null,e.condition_=i.condition?i.condition:A1,e.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:e.defaultBoxEndCondition,e}return r.prototype.defaultBoxEndCondition=function(t,e,i){var a=i[0]-e[0],c=i[1]-e[1];return a*a+c*c>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new C1(Bf.BOXDRAG,t.coordinate,t))},r.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new C1(e?Bf.BOXEND:Bf.BOXCANCEL,t.coordinate,t)),!1},r.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new C1(Bf.BOXSTART,t.coordinate,t)),!0):!1},r.prototype.onBoxEnd=function(t){},r}(Nl),l5=s5,u5=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),c5=function(n){u5(r,n);function r(t){var e=this,i=t||{},a=i.condition?i.condition:xh;return e=n.call(this,{condition:a,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,e.duration_=i.duration!==void 0?i.duration:200,e.out_=i.out!==void 0?i.out:!1,e}return r.prototype.onBoxEnd=function(t){var e=this.getMap(),i=e.getView(),a=this.getGeometry();if(this.out_){var c=i.rotatedExtentForGeometry(a),f=i.getResolutionForExtentInternal(c),p=i.getResolution()/f;a=a.clone(),a.scale(p*p)}i.fitInternal(a,{duration:this.duration_,easing:Hr})},r}(l5),h5=c5,d0={LEFT:37,UP:38,RIGHT:39,DOWN:40},Bd=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f5=function(n){Bd(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.defaultCondition_=function(a){return iu(a)&&fc(a)},e.condition_=i.condition!==void 0?i.condition:e.defaultCondition_,e.duration_=i.duration!==void 0?i.duration:100,e.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==hn.a.KEYDOWN){var i=t.originalEvent,a=i.keyCode;if(this.condition_(t)&&(a==d0.DOWN||a==d0.LEFT||a==d0.RIGHT||a==d0.UP)){var c=t.map,f=c.getView(),p=f.getResolution()*this.pixelDelta_,g=0,m=0;a==d0.DOWN?m=-p:a==d0.LEFT?g=-p:a==d0.RIGHT?g=p:m=p;var O=[g,m];lt(O,f.getRotation()),x1(f,O,this.duration_),i.preventDefault(),e=!0}}return!e},r}(f0),d5=f5,Kg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S=function(n){Kg(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.condition_=i.condition?i.condition:fc,e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:100,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==hn.a.KEYDOWN||t.type==hn.a.KEYPRESS){var i=t.originalEvent,a=i.charCode;if(this.condition_(t)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var c=t.map,f=a=="+".charCodeAt(0)?this.delta_:-this.delta_,p=c.getView();Eh(p,f,void 0,this.duration_),i.preventDefault(),e=!0}}return!e},r}(f0),L=S,q=function(){function n(r,t,e){this.decay_=r,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(r,t){this.points_.push(r,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<r)return!1;for(var e=t-3;e>0&&this.points_[e+2]>r;)e-=3;var i=this.points_[t+2]-this.points_[e+2];if(i<1e3/60)return!1;var a=this.points_[t]-this.points_[e],c=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(c,a),this.initialVelocity_=Math.sqrt(a*a+c*c)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),ct=q,Tt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bt={TRACKPAD:"trackpad",WHEEL:"wheel"},Nt=function(n){Tt(r,n);function r(t){var e=this,i=t||{};e=n.call(this,i)||this,e.totalDelta_=0,e.lastDelta_=0,e.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,e.duration_=i.duration!==void 0?i.duration:250,e.timeout_=i.timeout!==void 0?i.timeout:80,e.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,e.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var a=i.condition?i.condition:jf;return e.condition_=i.onFocusOnly?Sh(O1,a):a,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==hn.a.WHEEL)return!0;var i=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var c;if(t.type==hn.a.WHEEL&&(c=a.deltaY,Xt.b&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(c/=Xt.a),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(c*=40)),c===0)return!1;this.lastDelta_=c;var f=Date.now();this.startTime_===void 0&&(this.startTime_=f),(!this.mode_||f-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(c)<4?bt.TRACKPAD:bt.WHEEL);var p=i.getView();if(this.mode_===bt.TRACKPAD&&!(p.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(p.getAnimating()&&p.cancelAnimations(),p.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),p.adjustZoom(-c/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=f,!1;this.totalDelta_+=c;var g=Math.max(this.timeout_-(f-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),g),!1},r.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=-Si(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Eh(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},r}(f0),Gt=Nt,Wt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ne=function(n){Wt(r,n);function r(t){var e=this,i=t||{},a=i;return a.stopDown||(a.stopDown=Bt.a),e=n.call(this,a)||this,e.anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=i.threshold!==void 0?i.threshold:.3,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],a=this.targetPointers[1],c=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(this.lastAngle_!==void 0){var f=c-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=f}this.lastAngle_=c;var p=t.map,g=p.getView();if(g.getConstraints().rotation!==ce){var m=p.getViewport().getBoundingClientRect(),O=T1(this.targetPointers);O[0]-=m.left,O[1]-=m.top,this.anchor_=p.getCoordinateFromPixelInternal(O),this.rotating_&&(p.render(),g.adjustRotationInternal(e,this.anchor_))}},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Nl),Ce=ne,tr=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),er=function(n){tr(r,n);function r(t){var e=this,i=t||{},a=i;return a.stopDown||(a.stopDown=Bt.a),e=n.call(this,a)||this,e.anchor_=null,e.duration_=i.duration!==void 0?i.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}return r.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],a=this.targetPointers[1],c=i.clientX-a.clientX,f=i.clientY-a.clientY,p=Math.sqrt(c*c+f*f);this.lastDistance_!==void 0&&(e=this.lastDistance_/p),this.lastDistance_=p;var g=t.map,m=g.getView();e!=1&&(this.lastScaleDelta_=e);var O=g.getViewport().getBoundingClientRect(),P=T1(this.targetPointers);P[0]-=O.left,P[1]-=O.top,this.anchor_=g.getCoordinateFromPixelInternal(P),g.render(),m.adjustResolutionInternal(e,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView(),a=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,a),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Nl),ze=er;function Ir(n){var r=n||{},t=new Bn,e=new ct(-.005,.05,100),i=r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0;i&&t.push(new Gd);var a=r.doubleClickZoom!==void 0?r.doubleClickZoom:!0;a&&t.push(new kg({delta:r.zoomDelta,duration:r.zoomDuration}));var c=r.dragPan!==void 0?r.dragPan:!0;c&&t.push(new Yg({onFocusOnly:r.onFocusOnly,kinetic:e}));var f=r.pinchRotate!==void 0?r.pinchRotate:!0;f&&t.push(new Ce);var p=r.pinchZoom!==void 0?r.pinchZoom:!0;p&&t.push(new ze({duration:r.zoomDuration}));var g=r.keyboard!==void 0?r.keyboard:!0;g&&(t.push(new d5),t.push(new L({delta:r.zoomDelta,duration:r.zoomDuration})));var m=r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0;m&&t.push(new Gt({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration}));var O=r.shiftDragZoom!==void 0?r.shiftDragZoom:!0;return O&&t.push(new h5({duration:r.zoomDuration})),t}var _r=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),be=function(n){_r(r,n);function r(t){var e=this;return t=Object(yn.a)({},t),t.controls||(t.controls=Nd()),t.interactions||(t.interactions=Ir({onFocusOnly:!0})),e=n.call(this,t)||this,e}return r.prototype.createRenderer=function(){return new Hi(this)},r}(E1),Fe=be;s("b64b"),s("a4d3"),s("4de4"),s("d3b7"),s("e439"),s("159b"),s("dbb4");function Cr(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function jr(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);r&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,e)}return t}function ur(n){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jr(Object(t),!0).forEach(function(e){Cr(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jr(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}s("caad"),s("2532");function Ur(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=Object(N.toRefs)(n);Object.keys(t).forEach(function(i){t[i]=t[i].value});var e=Object(N.reactive)(ur({},t));return Object(N.watch)(n,function(){t=Object(N.toRefs)(n),Object.keys(t).forEach(function(i){e[i]!=t[i].value&&!r.includes(i)&&(e[i]=t[i].value)})}),{properties:e}}var En={name:"ol-map",setup:function(r,t){var e=t.emit,i=Ur(r),a=i.properties,c=Object(N.ref)(null),f=new Fe(a);Object(N.watch)(a,function(){f.setProperties(a)}),Object(N.onMounted)(function(){f.setTarget(c.value)}),Object(N.onUnmounted)(function(){f.setTarget(null),f=null}),Object(N.provide)("map",f);var p=function(){return f.focus()},g=function(yt,Lt){var zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return f.forEachFeatureAtPixel(yt,Lt,zt)},m=function(yt,Lt,zt){return f.forEachLayerAtPixel(yt,Lt,zt)},O=function(yt){return f.getCoordinateFromPixel(yt)},P=function(){return f.refresh()},V=function(){return f.render()},$=function(){return f.updateSize()};return f.on("click",function(ot){return e("click",ot)}),f.on("dblclick",function(ot){return e("dblclick",ot)}),f.on("singleclick",function(ot){return e("singleclick",ot)}),f.on("pointerdrag",function(ot){return e("pointerdrag",ot)}),f.on("pointermove",function(ot){return e("pointermove",ot)}),f.on("movestart",function(ot){return e("movestart",ot)}),f.on("moveend",function(ot){return e("moveend",ot)}),f.on("postrender",function(ot){return e("postrender",ot)}),f.on("precompose",function(ot){return e("precompose",ot)}),f.on("postcompose",function(ot){return e("postcompose",ot)}),{map:f,mapRef:c,focus:p,forEachFeatureAtPixel:g,forEachLayerAtPixel:m,getCoordinateFromPixel:O,refresh:P,render:V,updateSize:$}},props:{loadTilesWhileAnimating:{type:Boolean,default:!1},loadTilesWhileInteracting:{type:Boolean,default:!1},moveTolerance:{type:Number,default:1},pixelRatio:{type:Number,default:1},controls:{type:Array,default:function(){return[]}}}},ii=s("6b0d"),hr=s.n(ii),Mo=hr()(En,[["render",_t]]);function vo(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}function uo(n,r){var t=Object(N.inject)("map"),e=Ur(n),i=e.properties,a=function(){return ur(ur({},i),{},{projection:typeof i.projection=="string"?i.projection:new $a(ur({},i.projection))})},c=new po(a());Object(N.onMounted)(function(){t.setView(c)}),c.on("change:center",function(){r("centerChanged",ve()),r("zoomChanged",Pi())}),c.on("change:resolution",function(){return r("resolutionChanged",Tn())}),c.on("change:rotation",function(){return r("rotationChanged",Ii())}),Object(N.watch)(i,function(){var di=a();c.setProperties(di),c.applyOptions_(di)});var f=function(ai){return c.adjustCenter(ai)},p=function(ai,is){return c.adjustResolution(ai,is)},g=function(ai,is){return c.adjustRotation(ai,is)},m=function(ai,is){return c.adjustZoom(ai,is)},O=function(ai){return c.animate(ai)},P=function(){return c.beginInteraction()},V=function(ai){return c.calculateExtent(ai)},$=function(){return c.cancelAnimations()},ot=function(ai,is,Zc){return c.centerOn(ai,is,Zc)},yt=function(){return c.changed()},Lt=function(ai){return c.dispatchEvent(ai)},zt=function(ai,is,Zc){return c.endInteraction(ai,is,Zc)},Ht=function(ai,is){return c.fit(ai,is)},jt=function(ai){return c.get(ai)},ye=function(){return c.getAnimating()},ve=function(){return c.getCenter()},Oe=function(){return c.getInteracting()},we=function(){return c.getKeys()},je=function(){return c.getMaxResolution()},Tr=function(){return c.getMaxZoom()},vr=function(){return c.getMinResolution()},qe=function(){return c.getMinZoom()},Dr=function(){return c.getProjection()},Sn=function(){return c.getProperties()},Tn=function(){return c.getResolution()},Ln=function(ai,is){return c.getResolutionForExtent(ai,is)},Gn=function(ai){return c.getResolutionForZoom(ai)},yi=function(){return c.getResolutions()},mi=function(){return c.getRevision()},Ii=function(){return c.getRotation()},Pi=function(){return c.getZoom()},Vr=function(ai){return c.getZoomForResolution(ai)},hs=function(ai){return c.setCenter(ai)},Ui=function(ai){return c.setConstrainResolution(ai)},la=function(ai){return c.setMaxZoom(ai)},ns=function(ai){return c.setMinZoom(ai)},_s=function(ai){return c.setResolution(ai)},fs=function(ai){return c.setRotation(ai)},Ta=function(ai){return c.setZoom(ai)};return{view:c,adjustCenter:f,adjustResolution:p,adjustRotation:g,adjustZoom:m,animate:O,beginInteraction:P,calculateExtent:V,cancelAnimations:$,centerOn:ot,changed:yt,dispatchEvent:Lt,endInteraction:zt,fit:Ht,get:jt,getAnimating:ye,getCenter:ve,getInteracting:Oe,getKeys:we,getMaxResolution:je,getMaxZoom:Tr,getMinResolution:vr,getMinZoom:qe,getProjection:Dr,getProperties:Sn,getResolution:Tn,getResolutionForExtent:Ln,getResolutionForZoom:Gn,getResolutions:yi,getRevision:mi,getRotation:Ii,getZoom:Pi,getZoomForResolution:Vr,setCenter:hs,setConstrainResolution:Ui,setMaxZoom:la,setMinZoom:ns,setResolution:_s,setRotation:fs,setZoom:Ta}}var Zo={name:"ol-view",setup:function(r,t){var e=t.emit,i=uo(r,e);return ur({},i)},props:{center:{type:Array,default:function(){return[0,0]}},constrainRotation:{type:Boolean,default:!0},enableRotation:{type:Boolean,default:!0},extent:{type:Array},constrainOnlyCenter:{type:Boolean,default:!1},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{type:Number},minResolution:{type:Number},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},multiWorld:{type:Boolean,default:!1},constrainResolution:{type:Boolean,default:!1},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean,default:!1},projection:{type:[String,Object],default:"EPSG:3857"},resolution:{type:Number},resolutions:{type:Array},rotation:{type:Number},zoom:{type:Number,default:0},zoomFactor:{type:Number,default:2},padding:{type:Array,default:function(){return[0,0,0,0]}}}},Li=hr()(Zo,[["render",vo]]);function Ja(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var gl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qa=function(n){gl(r,n);function r(t){var e=n.call(this)||this;if(e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;e.setGeometry(i)}else{var a=t;e.setProperties(a)}return e}return r.prototype.clone=function(){var t=new r(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var i=this.getStyle();return i&&t.setStyle(i),t},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object($r.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object($r.a)(t,hn.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},r.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?yl(t):void 0,this.changed()},r.prototype.setId=function(t){this.id_=t,this.changed()},r.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(_o.a);function yl(n){if(typeof n=="function")return n;var r;if(Array.isArray(n))r=n;else{le(typeof n.getZIndex=="function",41);var t=n;r=[t]}return function(){return r}}var In=Qa,Fl={name:"ol-feature",setup:function(r){var t=Object(N.inject)("vectorSource"),e=Object(N.inject)("vectorLayer"),i=Object(N.inject)("animation",null),a=Ur(r),c=a.properties,f=Object(N.computed)(function(){var p=new In(ur({},c.properties));return p});return Object(N.watch)(f,function(p,g){t.value.removeFeature(g),t.value.addFeature(p),t.value.changed()}),Object(N.watch)(t,function(p,g){g.removeFeature(f.value),p.addFeature(f.value),p.changed()}),Object(N.onMounted)(function(){t.value.addFeature(f.value),i!=null&&e.value.animateFeature(f.value,i.value)}),Object(N.onUnmounted)(function(){t.value.removeFeature(f.value)}),Object(N.provide)("feature",f),Object(N.provide)("stylable",f),{feature:f}},props:{properties:{type:[so,Object,Array]}}},ts=hr()(Fl,[["render",Ja]]),Rs={ref:"htmlContent"};function qs(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",Rs,[Object(N.renderSlot)(n.$slots,"default",{position:t.position})],512)}var sa={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},dc=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),go={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Gc=function(n){dc(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.options=t,e.id=t.id,e.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,e.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,e.element=document.createElement("div"),e.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Lr,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=i||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addChangeListener(go.ELEMENT,e.handleElementChanged),e.addChangeListener(go.MAP,e.handleMapChanged),e.addChangeListener(go.OFFSET,e.handleOffsetChanged),e.addChangeListener(go.POSITION,e.handlePositionChanged),e.addChangeListener(go.POSITIONING,e.handlePositioningChanged),t.element!==void 0&&e.setElement(t.element),e.setOffset(t.offset!==void 0?t.offset:[0,0]),e.setPositioning(t.positioning!==void 0?t.positioning:sa.TOP_LEFT),t.position!==void 0&&e.setPosition(t.position),e}return r.prototype.getElement=function(){return this.get(go.ELEMENT)},r.prototype.getId=function(){return this.id},r.prototype.getMap=function(){return this.get(go.MAP)},r.prototype.getOffset=function(){return this.get(go.OFFSET)},r.prototype.getPosition=function(){return this.get(go.POSITION)},r.prototype.getPositioning=function(){return this.get(go.POSITIONING)},r.prototype.handleElementChanged=function(){Object(fr.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},r.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(fr.e)(this.element),Object($r.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object($r.a)(t,Wn.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},r.prototype.render=function(){this.updatePixelPosition()},r.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},r.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},r.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},r.prototype.setElement=function(t){this.set(go.ELEMENT,t)},r.prototype.setMap=function(t){this.set(go.MAP,t)},r.prototype.setOffset=function(t){this.set(go.OFFSET,t)},r.prototype.setPosition=function(t){this.set(go.POSITION,t)},r.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},r.prototype.panIntoView=function(t){var e=this.getMap();if(!(!e||!e.getTargetElement()||!this.get(go.POSITION))){var i=this.getRect(e.getTargetElement(),e.getSize()),a=this.getElement(),c=this.getRect(a,[Object(fr.c)(a),Object(fr.b)(a)]),f=t||{},p=f.margin===void 0?20:f.margin;if(!Pe(i,c)){var g=c[0]-i[0],m=i[2]-c[2],O=c[1]-i[1],P=i[3]-c[3],V=[0,0];if(g<0?V[0]=g-p:m<0&&(V[0]=Math.abs(m)+p),O<0?V[1]=O-p:P<0&&(V[1]=Math.abs(P)+p),V[0]!==0||V[1]!==0){var $=e.getView().getCenterInternal(),ot=e.getPixelFromCoordinateInternal($);if(!ot)return;var yt=[ot[0]+V[0],ot[1]+V[1]],Lt=f.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(yt),duration:Lt.duration,easing:Lt.easing})}}}},r.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),a=i.left+window.pageXOffset,c=i.top+window.pageYOffset;return[a,c,a+e[0],c+e[1]]},r.prototype.setPositioning=function(t){this.set(go.POSITIONING,t)},r.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},r.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(e),a=t.getSize();this.updateRenderedPosition(i,a)},r.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,a=this.getOffset(),c=this.getPositioning();this.setVisible(!0);var f=Math.round(t[0]+a[0])+"px",p=Math.round(t[1]+a[1])+"px",g="0%",m="0%";c==sa.BOTTOM_RIGHT||c==sa.CENTER_RIGHT||c==sa.TOP_RIGHT?g="-100%":(c==sa.BOTTOM_CENTER||c==sa.CENTER_CENTER||c==sa.TOP_CENTER)&&(g="-50%"),c==sa.BOTTOM_LEFT||c==sa.BOTTOM_CENTER||c==sa.BOTTOM_RIGHT?m="-100%":(c==sa.CENTER_LEFT||c==sa.CENTER_CENTER||c==sa.CENTER_RIGHT)&&(m="-50%");var O="translate("+g+", "+m+") translate("+f+", "+p+")";this.rendered.transform_!=O&&(this.rendered.transform_=O,i.transform=O,i.msTransform=O)},r.prototype.getOptions=function(){return this.options},r}(_o.a),p0=Gc;function Th(n,r){var t=Object(N.inject)("map"),e=Object(N.ref)(null),i=Ur(n),a=i.properties,c=Object(N.computed)(function(){return new p0(a)});Object(N.onMounted)(function(){t.addOverlay(c.value)}),Object(N.onUnmounted)(function(){t.removeOverlay(c.value)}),Object(N.watch)(c,function(yt,Lt){t.removeOverlay(Lt),t.addOverlay(yt)}),Object(N.watchEffect)(function(){P(e.value)},{flush:"post"}),c.value.on("change:element",function(){return r("elementChanged",f())}),c.value.on("change:offset",function(){return r("offsetChanged",p())}),c.value.on("change:position",function(){return r("positionChanged",g())}),c.value.on("change:positioning",function(){return r("positioningChanged",m())});var f=function(){return c.value.getElement()},p=function(){return c.value.getOffset()},g=function(){return c.value.getPosition()},m=function(){return c.value.getPositioning()},O=function(Lt){return c.value.panIntoView(Lt)},P=function(Lt){return c.value.setElement(Lt)},V=function(Lt){return c.value.setOffset(Lt)},$=function(Lt){return c.value.setPosition(Lt)},ot=function(Lt){return c.value.setPositioning(Lt)};return{overlay:c,htmlContent:e,getOffset:p,getPosition:g,getPositioning:m,panIntoView:O,setElement:P,setOffset:V,setPosition:$,setPositioning:ot}}var v0={name:"ol-overlay",setup:function(r,t){var e=t.emit,i=new Th(r,e);return ur({},i)},props:{position:{type:Array},offset:{type:Array},positioning:{type:String},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:Boolean,default:!1},autoPanMargin:{type:Number,default:20},autoPanAnimation:{type:Object,default:void 0}}},Uf=hr()(v0,[["render",qs]]);function $g(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default",{position:e.position,speed:e.speed,heading:e.heading,accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,accuracyGeometry:e.accuracyGeometry})}var b1=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),na={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},kf=function(n){b1(r,n);function r(t){var e=n.call(this,hn.a.ERROR)||this;return e.code=t.code,e.message=t.message,e}return r}(cr.a),Ud=function(n){b1(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.position_=null,e.transform_=Cl,e.watchId_=void 0,e.addChangeListener(na.PROJECTION,e.handleProjectionChanged_),e.addChangeListener(na.TRACKING,e.handleTrackingChanged_),i.projection!==void 0&&e.setProjection(i.projection),i.trackingOptions!==void 0&&e.setTrackingOptions(i.trackingOptions),e.setTracking(i.tracking!==void 0?i.tracking:!1),e}return r.prototype.disposeInternal=function(){this.setTracking(!1),n.prototype.disposeInternal.call(this)},r.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=pl(zn("EPSG:4326"),t),this.position_&&this.set(na.POSITION,this.transform_(this.position_)))},r.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!t&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},r.prototype.positionChange_=function(t){var e=t.coords;this.set(na.ACCURACY,e.accuracy),this.set(na.ALTITUDE,e.altitude===null?void 0:e.altitude),this.set(na.ALTITUDE_ACCURACY,e.altitudeAccuracy===null?void 0:e.altitudeAccuracy),this.set(na.HEADING,e.heading===null?void 0:ia(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(na.POSITION,i),this.set(na.SPEED,e.speed===null?void 0:e.speed);var a=yh(this.position_,e.accuracy);a.applyTransform(this.transform_),this.set(na.ACCURACY_GEOMETRY,a),this.changed()},r.prototype.positionError_=function(t){this.dispatchEvent(new kf(t))},r.prototype.getAccuracy=function(){return this.get(na.ACCURACY)},r.prototype.getAccuracyGeometry=function(){return this.get(na.ACCURACY_GEOMETRY)||null},r.prototype.getAltitude=function(){return this.get(na.ALTITUDE)},r.prototype.getAltitudeAccuracy=function(){return this.get(na.ALTITUDE_ACCURACY)},r.prototype.getHeading=function(){return this.get(na.HEADING)},r.prototype.getPosition=function(){return this.get(na.POSITION)},r.prototype.getProjection=function(){return this.get(na.PROJECTION)},r.prototype.getSpeed=function(){return this.get(na.SPEED)},r.prototype.getTracking=function(){return this.get(na.TRACKING)},r.prototype.getTrackingOptions=function(){return this.get(na.TRACKING_OPTIONS)},r.prototype.setProjection=function(t){this.set(na.PROJECTION,zn(t))},r.prototype.setTracking=function(t){this.set(na.TRACKING,t)},r.prototype.setTrackingOptions=function(t){this.set(na.TRACKING_OPTIONS,t)},r}(_o.a),ku=Ud,Oh={name:"ol-geolocation",emits:["positionChanged","speedChanged","headingChanged","altitudeChanged","altitudeAccuracyChanged","accuracyGeometryChanged"],setup:function(r,t){var e=t.emit,i=Ur(r),a=i.properties,c=Object(N.computed)(function(){var ot=new ku(a);return ot.on("change",$),ot}),f=Object(N.ref)([]),p=Object(N.ref)(0),g=Object(N.ref)(0),m=Object(N.ref)(0),O=Object(N.ref)(0),P=Object(N.ref)(0),V=Object(N.ref)({});Object(N.watch)(f,function(){e("positionChanged",f.value)}),Object(N.watch)(O,function(){e("speedChanged",O.value)}),Object(N.watch)(P,function(){e("headingChanged",P.value)}),Object(N.watch)(g,function(){e("altitudeChanged",g.value)}),Object(N.watch)(m,function(){e("altitudeAccuracyChanged",m.value)}),Object(N.watch)(V,function(){e("accuracyGeometryChanged",V.value)});var $=function(){f.value=c.value.getPosition(),O.value=c.value.getSpeed(),P.value=c.value.getHeading(),p.value=c.value.getAccuracy(),g.value=c.value.getAltitude(),m.value=c.value.getAltitudeAccuracy(),V.value=c.value.getAccuracyGeometry()};return Object(N.watch)(c,function(ot,yt){yt.un("change",$),ot.on("change",$)}),{geoLoc:c,position:f,accuracy:p,altitude:g,altitudeAccuracy:m,speed:O,heading:P,accuracyGeometry:V}},props:{projection:{type:[String,Object],default:"EPSG:3857"},tracking:{type:Boolean,default:!0},trackingOptions:{type:Object,default:function(){return{enableHighAccuracy:!0}}}}},kd=hr()(Oh,[["render",$g]]);function zd(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var Zg=function(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]},pc=1,Bc=2,k0=3,Vf=4,L1=5,qg=6378137,I1=6356752314e-3,Uc=.0066943799901413165,Wf=484813681109536e-20,en=Math.PI/2,p5=.16666666666666666,Jg=.04722222222222222,Vd=.022156084656084655,xn=1e-10,gs=.017453292519943295,Dl=57.29577951308232,So=Math.PI/4,kc=Math.PI*2,Na=3.14159265359,ml={};ml.greenwich=0,ml.lisbon=-9.131906111111,ml.paris=2.337229166667,ml.bogota=-74.080916666667,ml.madrid=-3.687938888889,ml.rome=12.452333333333,ml.bern=7.439583333333,ml.jakarta=106.807719444444,ml.ferro=-17.666666666667,ml.brussels=4.367975,ml.stockholm=18.058277777778,ml.athens=23.7163375,ml.oslo=10.722916666667;var Wd={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},P1=/[\s_\-\/\(\)]/g;function vc(n,r){if(n[r])return n[r];for(var t=Object.keys(n),e=r.toLowerCase().replace(P1,""),i=-1,a,c;++i<t.length;)if(a=t[i],c=a.toLowerCase().replace(P1,""),c===e)return n[a]}var gc=function(n){var r={},t=n.split("+").map(function(f){return f.trim()}).filter(function(f){return f}).reduce(function(f,p){var g=p.split("=");return g.push(!0),f[g[0].toLowerCase()]=g[1],f},{}),e,i,a,c={proj:"projName",datum:"datumCode",rf:function(f){r.rf=parseFloat(f)},lat_0:function(f){r.lat0=f*gs},lat_1:function(f){r.lat1=f*gs},lat_2:function(f){r.lat2=f*gs},lat_ts:function(f){r.lat_ts=f*gs},lon_0:function(f){r.long0=f*gs},lon_1:function(f){r.long1=f*gs},lon_2:function(f){r.long2=f*gs},alpha:function(f){r.alpha=parseFloat(f)*gs},gamma:function(f){r.rectified_grid_angle=parseFloat(f)},lonc:function(f){r.longc=f*gs},x_0:function(f){r.x0=parseFloat(f)},y_0:function(f){r.y0=parseFloat(f)},k_0:function(f){r.k0=parseFloat(f)},k:function(f){r.k0=parseFloat(f)},a:function(f){r.a=parseFloat(f)},b:function(f){r.b=parseFloat(f)},r_a:function(){r.R_A=!0},zone:function(f){r.zone=parseInt(f,10)},south:function(){r.utmSouth=!0},towgs84:function(f){r.datum_params=f.split(",").map(function(p){return parseFloat(p)})},to_meter:function(f){r.to_meter=parseFloat(f)},units:function(f){r.units=f;var p=vc(Wd,f);p&&(r.to_meter=p.to_meter)},from_greenwich:function(f){r.from_greenwich=f*gs},pm:function(f){var p=vc(ml,f);r.from_greenwich=(p||parseFloat(f))*gs},nadgrids:function(f){f==="@null"?r.datumCode="none":r.nadgrids=f},axis:function(f){var p="ewnsud";f.length===3&&p.indexOf(f.substr(0,1))!==-1&&p.indexOf(f.substr(1,1))!==-1&&p.indexOf(f.substr(2,1))!==-1&&(r.axis=f)},approx:function(){r.approx=!0}};for(e in t)i=t[e],e in c?(a=c[e],typeof a=="function"?a(i):r[a]=i):r[e]=i;return typeof r.datumCode=="string"&&r.datumCode!=="WGS84"&&(r.datumCode=r.datumCode.toLowerCase()),r},Qg=Vc,Ah=1,t2=2,N1=3,zc=4,e2=5,Yd=-1,v5=/\s/,r2=/[A-Za-z]/,g5=/[A-Za-z84_]/,g0=/[,\]]/,Hd=/[\d\.E\-\+]/;function au(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ah}au.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==zc)for(;v5.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case Ah:return this.neutral(n);case t2:return this.keyword(n);case zc:return this.quoted(n);case e2:return this.afterquote(n);case N1:return this.number(n);case Yd:return}},au.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=zc;return}if(g0.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)},au.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Ah;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Ah,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Yd);return}},au.prototype.number=function(n){if(Hd.test(n)){this.word+=n;return}if(g0.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)},au.prototype.quoted=function(n){if(n==='"'){this.state=e2;return}this.word+=n},au.prototype.keyword=function(n){if(g5.test(n)){this.word+=n;return}if(n==="["){var r=[];r.push(this.word),this.level++,this.root===null?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,this.state=Ah;return}if(g0.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)},au.prototype.neutral=function(n){if(r2.test(n)){this.word=n,this.state=t2;return}if(n==='"'){this.word="",this.state=zc;return}if(Hd.test(n)){this.word=n,this.state=N1;return}if(g0.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)},au.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Yd)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Vc(n){var r=new au(n);return r.output()}function Wc(n,r,t){Array.isArray(r)&&(t.unshift(r),r=null);var e=r?{}:n,i=t.reduce(function(a,c){return jl(c,a),a},e);r&&(n[r]=i)}function jl(n,r){if(!Array.isArray(n)){r[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){r[t]={},jl(n[0],r[t]);return}r[t]=n[0];return}if(!n.length){r[t]=!0;return}if(t==="TOWGS84"){r[t]=n;return}if(t==="AXIS"){t in r||(r[t]=[]),r[t].push(n);return}Array.isArray(t)||(r[t]={});var e;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":r[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&jl(n[2],r[t]);return;case"SPHEROID":case"ELLIPSOID":r[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&jl(n[3],r[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],Wc(r,t,n);return;default:for(e=-1;++e<n.length;)if(!Array.isArray(n[e]))return jl(n,r[t]);return Wc(r,t,n)}}var Xd=.017453292519943295;function F1(n,r){var t=r[0],e=r[1];!(t in n)&&e in n&&(n[t]=n[e],r.length===3&&(n[t]=r[2](n[t])))}function yc(n){return n*Xd}function y5(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var r="",t=0,e=n.AXIS.length;t<e;++t){var i=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?r+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?r+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?r+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(n.axis=r)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var a=n.GEOGCS;n.type==="GEOGCS"&&(a=n),a&&(a.DATUM?n.datumCode=a.DATUM.name.toLowerCase():n.datumCode=a.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(n.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=a.DATUM.SPHEROID.a,n.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(n.datum_params=a.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function c(g){var m=n.to_meter||1;return g*m}var f=function(g){return F1(n,g)},p=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",yc],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",yc],["x0","false_easting",c],["y0","false_northing",c],["long0","central_meridian",yc],["lat0","latitude_of_origin",yc],["lat0","standard_parallel_1",yc],["lat1","standard_parallel_1",yc],["lat2","standard_parallel_2",yc],["azimuth","Azimuth"],["alpha","azimuth",yc],["srsCode","name"]];p.forEach(f),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")&&(n.lat0=yc(n.lat1>0?90:-90),n.lat_ts=n.lat1)}var Kd=function(n){var r=Qg(n),t=r.shift(),e=r.shift();r.unshift(["name",e]),r.unshift(["type",t]);var i={};return jl(r,i),y5(i),i};function _l(n){var r=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?_l[n]=gc(arguments[1]):_l[n]=Kd(arguments[1]):_l[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(e){Array.isArray(e)?_l.apply(r,e):_l(e)});if(typeof n=="string"){if(n in _l)return _l[n]}else"EPSG"in n?_l["EPSG:"+n.EPSG]=n:"ESRI"in n?_l["ESRI:"+n.ESRI]=n:"IAU2000"in n?_l["IAU2000:"+n.IAU2000]=n:console.log(n);return}}Zg(_l);var n2=_l;function CA(n){return typeof n=="string"}function bA(n){return n in n2}var LA=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function IA(n){return LA.some(function(r){return n.indexOf(r)>-1})}var PA=["3857","900913","3785","102113"];function NA(n){var r=vc(n,"authority");if(!!r){var t=vc(r,"epsg");return t&&PA.indexOf(t)>-1}}function FA(n){var r=vc(n,"extension");if(!!r)return vc(r,"proj4")}function DA(n){return n[0]==="+"}function jA(n){if(CA(n)){if(bA(n))return n2[n];if(IA(n)){var r=Kd(n);if(NA(r))return n2["EPSG:3857"];var t=FA(r);return t?gc(t):r}if(DA(n))return gc(n)}else return n}var GA=jA,x8=function(n,r){n=n||{};var t,e;if(!r)return n;for(e in r)t=r[e],t!==void 0&&(n[e]=t);return n},y0=function(n,r,t){var e=n*r;return t/Math.sqrt(1-e*e)},D1=function(n){return n<0?-1:1},jn=function(n){return Math.abs(n)<=Na?n:n-D1(n)*kc},Yc=function(n,r,t){var e=n*t,i=.5*n;return e=Math.pow((1-e)/(1+e),i),Math.tan(.5*(en-r))/e},j1=function(n,r){for(var t=.5*n,e,i,a=en-2*Math.atan(r),c=0;c<=15;c++)if(e=n*Math.sin(a),i=en-2*Math.atan(r*Math.pow((1-e)/(1+e),t))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999};function BA(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=y0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function UA(n){var r=n.x,t=n.y;if(t*Dl>90&&t*Dl<-90&&r*Dl>180&&r*Dl<-180)return null;var e,i;if(Math.abs(Math.abs(t)-en)<=xn)return null;if(this.sphere)e=this.x0+this.a*this.k0*jn(r-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(So+.5*t));else{var a=Math.sin(t),c=Yc(this.e,t,a);e=this.x0+this.a*this.k0*jn(r-this.long0),i=this.y0-this.a*this.k0*Math.log(c)}return n.x=e,n.y=i,n}function kA(n){var r=n.x-this.x0,t=n.y-this.y0,e,i;if(this.sphere)i=en-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var a=Math.exp(-t/(this.a*this.k0));if(i=j1(this.e,a),i===-9999)return null}return e=jn(this.long0+r/(this.a*this.k0)),n.x=e,n.y=i,n}var zA=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],VA={init:BA,forward:UA,inverse:kA,names:zA};function WA(){}function T8(n){return n}var YA=["longlat","identity"],HA={init:WA,forward:T8,inverse:T8,names:YA},XA=[VA,HA],i2={},o2=[];function O8(n,r){var t=o2.length;return n.names?(o2[t]=n,n.names.forEach(function(e){i2[e.toLowerCase()]=t}),this):(console.log(r),!0)}function KA(n){if(!n)return!1;var r=n.toLowerCase();if(typeof i2[r]!="undefined"&&o2[i2[r]])return o2[i2[r]]}function $A(){XA.forEach(O8)}var ZA={start:$A,add:O8,get:KA},Bi={};Bi.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Bi.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Bi.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Bi.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Bi.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Bi.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Bi.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Bi.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Bi.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Bi.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Bi.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Bi.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Bi.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Bi.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Bi.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Bi.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Bi.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Bi.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Bi.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Bi.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Bi.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Bi.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Bi.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Bi.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Bi.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Bi.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Bi.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Bi.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Bi.hough={a:6378270,rf:297,ellipseName:"Hough"},Bi.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Bi.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Bi.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Bi.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Bi.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Bi.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Bi.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Bi.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Bi.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Bi.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Bi.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Bi.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var qA=Bi.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Bi.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function JA(n,r,t,e){var i=n*n,a=r*r,c=(i-a)/i,f=0;e?(n*=1-c*(p5+c*(Jg+c*Vd)),i=n*n,c=0):f=Math.sqrt(c);var p=(i-a)/a;return{es:c,e:f,ep2:p}}function QA(n,r,t,e,i){if(!n){var a=vc(Bi,e);a||(a=qA),n=a.a,r=a.b,t=a.rf}return t&&!r&&(r=(1-1/t)*n),(t===0||Math.abs(n-r)<xn)&&(i=!0,r=n),{a:n,b:r,rf:t,sphere:i}}var Gs={};Gs.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Gs.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Gs.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Gs.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Gs.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Gs.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Gs.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Gs.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Gs.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Gs.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Gs.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Gs.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Gs.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Gs.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Gs.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Gs.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Gs.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function tM(n,r,t,e,i,a,c){var f={};return n===void 0||n==="none"?f.datum_type=L1:f.datum_type=Vf,r&&(f.datum_params=r.map(parseFloat),(f.datum_params[0]!==0||f.datum_params[1]!==0||f.datum_params[2]!==0)&&(f.datum_type=pc),f.datum_params.length>3&&(f.datum_params[3]!==0||f.datum_params[4]!==0||f.datum_params[5]!==0||f.datum_params[6]!==0)&&(f.datum_type=Bc,f.datum_params[3]*=Wf,f.datum_params[4]*=Wf,f.datum_params[5]*=Wf,f.datum_params[6]=f.datum_params[6]/1e6+1)),c&&(f.datum_type=k0,f.grids=c),f.a=t,f.b=e,f.es=i,f.ep2=a,f}var eM=tM,A8={};function rM(n,r){var t=new DataView(r),e=oM(t),i=aM(t,e);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=sM(t,i,e),c={header:i,subgrids:a};return A8[n]=c,c}function nM(n){if(n===void 0)return null;var r=n.split(",");return r.map(iM)}function iM(n){if(n.length===0)return null;var r=n[0]==="@";return r&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!r,grid:null,isNull:!0}:{name:n,mandatory:!r,grid:A8[n]||null,isNull:!1}}function $d(n){return n/3600*Math.PI/180}function oM(n){var r=n.getInt32(8,!1);return r===11?!1:(r=n.getInt32(8,!0),r!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function aM(n,r){return{nFields:n.getInt32(8,r),nSubgridFields:n.getInt32(24,r),nSubgrids:n.getInt32(40,r),shiftType:m5(n,56,56+8).trim(),fromSemiMajorAxis:n.getFloat64(120,r),fromSemiMinorAxis:n.getFloat64(136,r),toSemiMajorAxis:n.getFloat64(152,r),toSemiMinorAxis:n.getFloat64(168,r)}}function m5(n,r,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(r,t)))}function sM(n,r,t){for(var e=176,i=[],a=0;a<r.nSubgrids;a++){var c=uM(n,e,t),f=cM(n,e,c,t),p=Math.round(1+(c.upperLongitude-c.lowerLongitude)/c.longitudeInterval),g=Math.round(1+(c.upperLatitude-c.lowerLatitude)/c.latitudeInterval);i.push({ll:[$d(c.lowerLongitude),$d(c.lowerLatitude)],del:[$d(c.longitudeInterval),$d(c.latitudeInterval)],lim:[p,g],count:c.gridNodeCount,cvs:lM(f)})}return i}function lM(n){return n.map(function(r){return[$d(r.longitudeShift),$d(r.latitudeShift)]})}function uM(n,r,t){return{name:m5(n,r+8,r+16).trim(),parent:m5(n,r+24,r+24+8).trim(),lowerLatitude:n.getFloat64(r+72,t),upperLatitude:n.getFloat64(r+88,t),lowerLongitude:n.getFloat64(r+104,t),upperLongitude:n.getFloat64(r+120,t),latitudeInterval:n.getFloat64(r+136,t),longitudeInterval:n.getFloat64(r+152,t),gridNodeCount:n.getInt32(r+168,t)}}function cM(n,r,t,e){for(var i=r+176,a=16,c=[],f=0;f<t.gridNodeCount;f++){var p={latitudeShift:n.getFloat32(i+f*a,e),longitudeShift:n.getFloat32(i+f*a+4,e),latitudeAccuracy:n.getFloat32(i+f*a+8,e),longitudeAccuracy:n.getFloat32(i+f*a+12,e)};c.push(p)}return c}function Zd(n,r){if(!(this instanceof Zd))return new Zd(n);r=r||function(g){if(g)throw g};var t=GA(n);if(typeof t!="object"){r(n);return}var e=Zd.projections.get(t.projName);if(!e){r(n);return}if(t.datumCode&&t.datumCode!=="none"){var i=vc(Gs,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var a=QA(t.a,t.b,t.rf,t.ellps,t.sphere),c=JA(a.a,a.b,a.rf,t.R_A),f=nM(t.nadgrids),p=t.datum||eM(t.datumCode,t.datum_params,a.a,a.b,c.es,c.ep2,f);x8(this,t),x8(this,e),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=c.es,this.e=c.e,this.ep2=c.ep2,this.datum=p,this.init(),r(null,this)}Zd.projections=ZA,Zd.projections.start();var G1=Zd;function hM(n,r){return n.datum_type!==r.datum_type||n.a!==r.a||Math.abs(n.es-r.es)>5e-11?!1:n.datum_type===pc?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]:n.datum_type===Bc?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]&&n.datum_params[3]===r.datum_params[3]&&n.datum_params[4]===r.datum_params[4]&&n.datum_params[5]===r.datum_params[5]&&n.datum_params[6]===r.datum_params[6]:!0}function M8(n,r,t){var e=n.x,i=n.y,a=n.z?n.z:0,c,f,p,g;if(i<-en&&i>-1.001*en)i=-en;else if(i>en&&i<1.001*en)i=en;else{if(i<-en)return{x:-1/0,y:-1/0,z:n.z};if(i>en)return{x:1/0,y:1/0,z:n.z}}return e>Math.PI&&(e-=2*Math.PI),f=Math.sin(i),g=Math.cos(i),p=f*f,c=t/Math.sqrt(1-r*p),{x:(c+a)*g*Math.cos(e),y:(c+a)*g*Math.sin(e),z:(c*(1-r)+a)*f}}function R8(n,r,t,e){var i=1e-12,a=i*i,c=30,f,p,g,m,O,P,V,$,ot,yt,Lt,zt,Ht,jt=n.x,ye=n.y,ve=n.z?n.z:0,Oe,we,je;if(f=Math.sqrt(jt*jt+ye*ye),p=Math.sqrt(jt*jt+ye*ye+ve*ve),f/t<i){if(Oe=0,p/t<i)return we=en,je=-e,{x:n.x,y:n.y,z:n.z}}else Oe=Math.atan2(ye,jt);g=ve/p,m=f/p,O=1/Math.sqrt(1-r*(2-r)*m*m),$=m*(1-r)*O,ot=g*O,Ht=0;do Ht++,V=t/Math.sqrt(1-r*ot*ot),je=f*$+ve*ot-V*(1-r*ot*ot),P=r*V/(V+je),O=1/Math.sqrt(1-P*(2-P)*m*m),yt=m*(1-P)*O,Lt=g*O,zt=Lt*$-yt*ot,$=yt,ot=Lt;while(zt*zt>a&&Ht<c);return we=Math.atan(Lt/Math.abs(yt)),{x:Oe,y:we,z:je}}function fM(n,r,t){if(r===pc)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(r===Bc){var e=t[0],i=t[1],a=t[2],c=t[3],f=t[4],p=t[5],g=t[6];return{x:g*(n.x-p*n.y+f*n.z)+e,y:g*(p*n.x+n.y-c*n.z)+i,z:g*(-f*n.x+c*n.y+n.z)+a}}}function dM(n,r,t){if(r===pc)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(r===Bc){var e=t[0],i=t[1],a=t[2],c=t[3],f=t[4],p=t[5],g=t[6],m=(n.x-e)/g,O=(n.y-i)/g,P=(n.z-a)/g;return{x:m+p*O-f*P,y:-p*m+O+c*P,z:f*m-c*O+P}}}function a2(n){return n===pc||n===Bc}var pM=function(n,r,t){if(hM(n,r)||n.datum_type===L1||r.datum_type===L1)return t;var e=n.a,i=n.es;if(n.datum_type===k0){var a=C8(n,!1,t);if(a!==0)return;e=qg,i=Uc}var c=r.a,f=r.b,p=r.es;if(r.datum_type===k0&&(c=qg,f=I1,p=Uc),i===p&&e===c&&!a2(n.datum_type)&&!a2(r.datum_type))return t;if(t=M8(t,i,e),a2(n.datum_type)&&(t=fM(t,n.datum_type,n.datum_params)),a2(r.datum_type)&&(t=dM(t,r.datum_type,r.datum_params)),t=R8(t,p,c,f),r.datum_type===k0){var g=C8(r,!0,t);if(g!==0)return}return t};function C8(n,r,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var e={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},a=[],c=0;c<n.grids.length;c++){var f=n.grids[c];if(a.push(f.name),f.isNull){i=e;break}if(f.mandatory,f.grid===null){if(f.mandatory)return console.log("Unable to find mandatory grid '"+f.name+"'"),-1;continue}var p=f.grid.subgrids[0],g=(Math.abs(p.del[1])+Math.abs(p.del[0]))/1e4,m=p.ll[0]-g,O=p.ll[1]-g,P=p.ll[0]+(p.lim[0]-1)*p.del[0]+g,V=p.ll[1]+(p.lim[1]-1)*p.del[1]+g;if(!(O>e.y||m>e.x||V<e.y||P<e.x)&&(i=vM(e,r,p),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*Dl+" "+e.y*Dl+" tried: '"+a+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function vM(n,r,t){var e={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return e;var i={x:n.x,y:n.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=jn(i.x-Math.PI)+Math.PI;var a=b8(i,t);if(r){if(isNaN(a.x))return e;a.x=i.x-a.x,a.y=i.y-a.y;var c=9,f=1e-12,p,g;do{if(g=b8(a,t),isNaN(g.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}p={x:i.x-(g.x+a.x),y:i.y-(g.y+a.y)},a.x+=p.x,a.y+=p.y}while(c--&&Math.abs(p.x)>f&&Math.abs(p.y)>f);if(c<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=jn(a.x+t.ll[0]),e.y=a.y+t.ll[1]}else isNaN(a.x)||(e.x=n.x+a.x,e.y=n.y+a.y);return e}function b8(n,r){var t={x:n.x/r.del[0],y:n.y/r.del[1]},e={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*e.x,y:t.y-1*e.y},a={x:Number.NaN,y:Number.NaN},c;if(e.x<0||e.x>=r.lim[0]||e.y<0||e.y>=r.lim[1])return a;c=e.y*r.lim[0]+e.x;var f={x:r.cvs[c][0],y:r.cvs[c][1]};c++;var p={x:r.cvs[c][0],y:r.cvs[c][1]};c+=r.lim[0];var g={x:r.cvs[c][0],y:r.cvs[c][1]};c--;var m={x:r.cvs[c][0],y:r.cvs[c][1]},O=i.x*i.y,P=i.x*(1-i.y),V=(1-i.x)*(1-i.y),$=(1-i.x)*i.y;return a.x=V*f.x+P*p.x+$*m.x+O*g.x,a.y=V*f.y+P*p.y+$*m.y+O*g.y,a}var L8=function(n,r,t){var e=t.x,i=t.y,a=t.z||0,c,f,p,g={};for(p=0;p<3;p++)if(!(r&&p===2&&t.z===void 0))switch(p===0?(c=e,"ew".indexOf(n.axis[p])!==-1?f="x":f="y"):p===1?(c=i,"ns".indexOf(n.axis[p])!==-1?f="y":f="x"):(c=a,f="z"),n.axis[p]){case"e":g[f]=c;break;case"w":g[f]=-c;break;case"n":g[f]=c;break;case"s":g[f]=-c;break;case"u":t[f]!==void 0&&(g.z=c);break;case"d":t[f]!==void 0&&(g.z=-c);break;default:return null}return g},I8=function(n){var r={x:n[0],y:n[1]};return n.length>2&&(r.z=n[2]),n.length>3&&(r.m=n[3]),r},gM=function(n){P8(n.x),P8(n.y)};function P8(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function yM(n,r){return(n.datum.datum_type===pc||n.datum.datum_type===Bc)&&r.datumCode!=="WGS84"||(r.datum.datum_type===pc||r.datum.datum_type===Bc)&&n.datumCode!=="WGS84"}function s2(n,r,t,e){var i;if(Array.isArray(t)&&(t=I8(t)),gM(t),n.datum&&r.datum&&yM(n,r)&&(i=new G1("WGS84"),t=s2(n,i,t,e),n=i),e&&n.axis!=="enu"&&(t=L8(n,!1,t)),n.projName==="longlat")t={x:t.x*gs,y:t.y*gs,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=pM(n.datum,r.datum,t),!!t)return r.from_greenwich&&(t={x:t.x-r.from_greenwich,y:t.y,z:t.z||0}),r.projName==="longlat"?t={x:t.x*Dl,y:t.y*Dl,z:t.z||0}:(t=r.forward(t),r.to_meter&&(t={x:t.x/r.to_meter,y:t.y/r.to_meter,z:t.z||0})),e&&r.axis!=="enu"?L8(r,!0,t):t}var N8=G1("WGS84");function _5(n,r,t,e){var i,a,c;return Array.isArray(t)?(i=s2(n,r,t,e)||{x:NaN,y:NaN},t.length>2?typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.splice(3)):[i.x,i.y,t[2]].concat(t.splice(3)):[i.x,i.y].concat(t.splice(2)):[i.x,i.y]):(a=s2(n,r,t,e),c=Object.keys(t),c.length===2||c.forEach(function(f){if(typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"){if(f==="x"||f==="y"||f==="z")return}else if(f==="x"||f==="y")return;a[f]=t[f]}),a)}function F8(n){return n instanceof G1?n:n.oProj?n.oProj:G1(n)}function mM(n,r,t){n=F8(n);var e=!1,i;return typeof r=="undefined"?(r=n,n=N8,e=!0):(typeof r.x!="undefined"||Array.isArray(r))&&(t=r,r=n,n=N8,e=!0),r=F8(r),t?_5(n,r,t):(i={forward:function(a,c){return _5(n,r,a,c)},inverse:function(a,c){return _5(r,n,a,c)}},e&&(i.oProj=r),i)}var zu=mM,D8=6,j8="AJSAJS",G8="AFAFAF",qd=65,su=73,mc=79,B1=86,U1=90,_M={forward:B8,inverse:EM,toPoint:U8};function B8(n,r){return r=r||5,xM(SM({lat:n[1],lon:n[0]}),r)}function EM(n){var r=S5(V8(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat,r.lon,r.lat]:[r.left,r.bottom,r.right,r.top]}function U8(n){var r=S5(V8(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat]:[(r.left+r.right)/2,(r.top+r.bottom)/2]}function E5(n){return n*(Math.PI/180)}function k8(n){return 180*(n/Math.PI)}function SM(n){var r=n.lat,t=n.lon,e=6378137,i=.00669438,a=.9996,c,f,p,g,m,O,P,V=E5(r),$=E5(t),ot,yt;yt=Math.floor((t+180)/6)+1,t===180&&(yt=60),r>=56&&r<64&&t>=3&&t<12&&(yt=32),r>=72&&r<84&&(t>=0&&t<9?yt=31:t>=9&&t<21?yt=33:t>=21&&t<33?yt=35:t>=33&&t<42&&(yt=37)),c=(yt-1)*6-180+3,ot=E5(c),f=i/(1-i),p=e/Math.sqrt(1-i*Math.sin(V)*Math.sin(V)),g=Math.tan(V)*Math.tan(V),m=f*Math.cos(V)*Math.cos(V),O=Math.cos(V)*($-ot),P=e*((1-i/4-3*i*i/64-5*i*i*i/256)*V-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*V)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*V)-35*i*i*i/3072*Math.sin(6*V));var Lt=a*p*(O+(1-g+m)*O*O*O/6+(5-18*g+g*g+72*m-58*f)*O*O*O*O*O/120)+5e5,zt=a*(P+p*Math.tan(V)*(O*O/2+(5-g+9*m+4*m*m)*O*O*O*O/24+(61-58*g+g*g+600*m-330*f)*O*O*O*O*O*O/720));return r<0&&(zt+=1e7),{northing:Math.round(zt),easting:Math.round(Lt),zoneNumber:yt,zoneLetter:wM(r)}}function S5(n){var r=n.northing,t=n.easting,e=n.zoneLetter,i=n.zoneNumber;if(i<0||i>60)return null;var a=.9996,c=6378137,f=.00669438,p,g=(1-Math.sqrt(1-f))/(1+Math.sqrt(1-f)),m,O,P,V,$,ot,yt,Lt,zt,Ht=t-5e5,jt=r;e<"N"&&(jt-=1e7),yt=(i-1)*6-180+3,p=f/(1-f),ot=jt/a,Lt=ot/(c*(1-f/4-3*f*f/64-5*f*f*f/256)),zt=Lt+(3*g/2-27*g*g*g/32)*Math.sin(2*Lt)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*Lt)+151*g*g*g/96*Math.sin(6*Lt),m=c/Math.sqrt(1-f*Math.sin(zt)*Math.sin(zt)),O=Math.tan(zt)*Math.tan(zt),P=p*Math.cos(zt)*Math.cos(zt),V=c*(1-f)/Math.pow(1-f*Math.sin(zt)*Math.sin(zt),1.5),$=Ht/(m*a);var ye=zt-m*Math.tan(zt)/V*($*$/2-(5+3*O+10*P-4*P*P-9*p)*$*$*$*$/24+(61+90*O+298*P+45*O*O-252*p-3*P*P)*$*$*$*$*$*$/720);ye=k8(ye);var ve=($-(1+2*O+P)*$*$*$/6+(5-2*P+28*O-3*P*P+8*p+24*O*O)*$*$*$*$*$/120)/Math.cos(zt);ve=yt+k8(ve);var Oe;if(n.accuracy){var we=S5({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});Oe={top:we.lat,right:we.lon,bottom:ye,left:ve}}else Oe={lat:ye,lon:ve};return Oe}function wM(n){var r="Z";return 84>=n&&n>=72?r="X":72>n&&n>=64?r="W":64>n&&n>=56?r="V":56>n&&n>=48?r="U":48>n&&n>=40?r="T":40>n&&n>=32?r="S":32>n&&n>=24?r="R":24>n&&n>=16?r="Q":16>n&&n>=8?r="P":8>n&&n>=0?r="N":0>n&&n>=-8?r="M":-8>n&&n>=-16?r="L":-16>n&&n>=-24?r="K":-24>n&&n>=-32?r="J":-32>n&&n>=-40?r="H":-40>n&&n>=-48?r="G":-48>n&&n>=-56?r="F":-56>n&&n>=-64?r="E":-64>n&&n>=-72?r="D":-72>n&&n>=-80&&(r="C"),r}function xM(n,r){var t="00000"+n.easting,e="00000"+n.northing;return n.zoneNumber+n.zoneLetter+TM(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,r)+e.substr(e.length-5,r)}function TM(n,r,t){var e=z8(t),i=Math.floor(n/1e5),a=Math.floor(r/1e5)%20;return OM(i,a,e)}function z8(n){var r=n%D8;return r===0&&(r=D8),r}function OM(n,r,t){var e=t-1,i=j8.charCodeAt(e),a=G8.charCodeAt(e),c=i+n-1,f=a+r,p=!1;c>U1&&(c=c-U1+qd-1,p=!0),(c===su||i<su&&c>su||(c>su||i<su)&&p)&&c++,(c===mc||i<mc&&c>mc||(c>mc||i<mc)&&p)&&(c++,c===su&&c++),c>U1&&(c=c-U1+qd-1),f>B1?(f=f-B1+qd-1,p=!0):p=!1,(f===su||a<su&&f>su||(f>su||a<su)&&p)&&f++,(f===mc||a<mc&&f>mc||(f>mc||a<mc)&&p)&&(f++,f===su&&f++),f>B1&&(f=f-B1+qd-1);var g=String.fromCharCode(c)+String.fromCharCode(f);return g}function V8(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var r=n.length,t=null,e="",i,a=0;!/[A-Z]/.test(i=n.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+n;e+=i,a++}var c=parseInt(e,10);if(a===0||a+3>r)throw"MGRSPoint bad conversion from: "+n;var f=n.charAt(a++);if(f<="A"||f==="B"||f==="Y"||f>="Z"||f==="I"||f==="O")throw"MGRSPoint zone letter "+f+" not handled: "+n;t=n.substring(a,a+=2);for(var p=z8(c),g=AM(t.charAt(0),p),m=MM(t.charAt(1),p);m<RM(f);)m+=2e6;var O=r-a;if(O%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var P=O/2,V=0,$=0,ot,yt,Lt,zt,Ht;return P>0&&(ot=1e5/Math.pow(10,P),yt=n.substring(a,a+P),V=parseFloat(yt)*ot,Lt=n.substring(a+P),$=parseFloat(Lt)*ot),zt=V+g,Ht=$+m,{easting:zt,northing:Ht,zoneLetter:f,zoneNumber:c,accuracy:ot}}function AM(n,r){for(var t=j8.charCodeAt(r-1),e=1e5,i=!1;t!==n.charCodeAt(0);){if(t++,t===su&&t++,t===mc&&t++,t>U1){if(i)throw"Bad character: "+n;t=qd,i=!0}e+=1e5}return e}function MM(n,r){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=G8.charCodeAt(r-1),e=0,i=!1;t!==n.charCodeAt(0);){if(t++,t===su&&t++,t===mc&&t++,t>B1){if(i)throw"Bad character: "+n;t=qd,i=!0}e+=1e5}return e}function RM(n){var r;switch(n){case"C":r=11e5;break;case"D":r=2e6;break;case"E":r=28e5;break;case"F":r=37e5;break;case"G":r=46e5;break;case"H":r=55e5;break;case"J":r=64e5;break;case"K":r=73e5;break;case"L":r=82e5;break;case"M":r=91e5;break;case"N":r=0;break;case"P":r=8e5;break;case"Q":r=17e5;break;case"R":r=26e5;break;case"S":r=35e5;break;case"T":r=44e5;break;case"U":r=53e5;break;case"V":r=62e5;break;case"W":r=7e6;break;case"X":r=79e5;break;default:r=-1}if(r>=0)return r;throw"Invalid zone letter: "+n}function Jd(n,r,t){if(!(this instanceof Jd))return new Jd(n,r,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof r=="undefined"){var e=n.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=n,this.y=r,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Jd.fromMGRS=function(n){return new Jd(U8(n))},Jd.prototype.toMGRS=function(n){return B8([this.x,this.y],n)};var CM=Jd,bM=1,LM=.25,W8=.046875,Y8=.01953125,H8=.01068115234375,IM=.75,PM=.46875,NM=.013020833333333334,FM=.007120768229166667,DM=.3645833333333333,jM=.005696614583333333,GM=.3076171875,X8=function(n){var r=[];r[0]=bM-n*(LM+n*(W8+n*(Y8+n*H8))),r[1]=n*(IM-n*(W8+n*(Y8+n*H8)));var t=n*n;return r[2]=t*(PM-n*(NM+n*FM)),t*=n,r[3]=t*(DM-n*jM),r[4]=t*n*GM,r},l2=function(n,r,t,e){return t*=r,r*=r,e[0]*n-t*(e[1]+r*(e[2]+r*(e[3]+r*e[4])))},BM=20,K8=function(n,r,t){for(var e=1/(1-r),i=n,a=BM;a;--a){var c=Math.sin(i),f=1-r*c*c;if(f=(l2(i,c,Math.cos(i),t)-n)*(f*Math.sqrt(f))*e,i-=f,Math.abs(f)<xn)return i}return i};function UM(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=X8(this.es),this.ml0=l2(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function kM(n){var r=n.x,t=n.y,e=jn(r-this.long0),i,a,c,f=Math.sin(t),p=Math.cos(t);if(this.es){var m=p*e,O=Math.pow(m,2),P=this.ep2*Math.pow(p,2),V=Math.pow(P,2),$=Math.abs(p)>xn?Math.tan(t):0,ot=Math.pow($,2),yt=Math.pow(ot,2);i=1-this.es*Math.pow(f,2),m=m/Math.sqrt(i);var Lt=l2(t,f,p,this.en);a=this.a*(this.k0*m*(1+O/6*(1-ot+P+O/20*(5-18*ot+yt+14*P-58*ot*P+O/42*(61+179*yt-yt*ot-479*ot)))))+this.x0,c=this.a*(this.k0*(Lt-this.ml0+f*e*m/2*(1+O/12*(5-ot+9*P+4*V+O/30*(61+yt-58*ot+270*P-330*ot*P+O/56*(1385+543*yt-yt*ot-3111*ot))))))+this.y0}else{var g=p*Math.sin(e);if(Math.abs(Math.abs(g)-1)<xn)return 93;if(a=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,c=p*Math.cos(e)/Math.sqrt(1-Math.pow(g,2)),g=Math.abs(c),g>=1){if(g-1>xn)return 93;c=0}else c=Math.acos(c);t<0&&(c=-c),c=this.a*this.k0*(c-this.lat0)+this.y0}return n.x=a,n.y=c,n}function zM(n){var r,t,e,i,a=(n.x-this.x0)*(1/this.a),c=(n.y-this.y0)*(1/this.a);if(this.es)if(r=this.ml0+c/this.k0,t=K8(r,this.es,this.en),Math.abs(t)<en){var O=Math.sin(t),P=Math.cos(t),V=Math.abs(P)>xn?Math.tan(t):0,$=this.ep2*Math.pow(P,2),ot=Math.pow($,2),yt=Math.pow(V,2),Lt=Math.pow(yt,2);r=1-this.es*Math.pow(O,2);var zt=a*Math.sqrt(r)/this.k0,Ht=Math.pow(zt,2);r=r*V,e=t-r*Ht/(1-this.es)*.5*(1-Ht/12*(5+3*yt-9*$*yt+$-4*ot-Ht/30*(61+90*yt-252*$*yt+45*Lt+46*$-Ht/56*(1385+3633*yt+4095*Lt+1574*Lt*yt)))),i=jn(this.long0+zt*(1-Ht/6*(1+2*yt+$-Ht/20*(5+28*yt+24*Lt+8*$*yt+6*$-Ht/42*(61+662*yt+1320*Lt+720*Lt*yt))))/P)}else e=en*D1(c),i=0;else{var f=Math.exp(a/this.k0),p=.5*(f-1/f),g=this.lat0+c/this.k0,m=Math.cos(g);r=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(p,2))),e=Math.asin(r),c<0&&(e=-e),p===0&&m===0?i=0:i=jn(Math.atan2(p,m)+this.long0)}return n.x=i,n.y=e,n}var VM=["Fast_Transverse_Mercator","Fast Transverse Mercator"],u2={init:UM,forward:kM,inverse:zM,names:VM},$8=function(n){var r=Math.exp(n);return r=(r-1/r)/2,r},c2=function(n,r){n=Math.abs(n),r=Math.abs(r);var t=Math.max(n,r),e=Math.min(n,r)/(t||1);return t*Math.sqrt(1+Math.pow(e,2))},WM=function(n){var r=1+n,t=r-1;return t===0?n:n*Math.log(r)/t},YM=function(n){var r=Math.abs(n);return r=WM(r*(1+r/(c2(1,r)+1))),n<0?-r:r},w5=function(n,r){for(var t=2*Math.cos(2*r),e=n.length-1,i=n[e],a=0,c;--e>=0;)c=-a+t*i+n[e],a=i,i=c;return r+c*Math.sin(2*r)},HM=function(n,r){for(var t=2*Math.cos(r),e=n.length-1,i=n[e],a=0,c;--e>=0;)c=-a+t*i+n[e],a=i,i=c;return Math.sin(r)*c},XM=function(n){var r=Math.exp(n);return r=(r+1/r)/2,r},Z8=function(n,r,t){for(var e=Math.sin(r),i=Math.cos(r),a=$8(t),c=XM(t),f=2*i*c,p=-2*e*a,g=n.length-1,m=n[g],O=0,P=0,V=0,$,ot;--g>=0;)$=P,ot=O,P=m,O=V,m=-$+f*P-p*O+n[g],V=-ot+p*P+f*O;return f=e*c,p=i*a,[f*m-p*V,f*V+p*m]};function KM(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(u2.init.apply(this),this.forward=u2.forward,this.inverse=u2.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),r=n/(2-n),t=r;this.cgb[0]=r*(2+r*(-2/3+r*(-2+r*(116/45+r*(26/45+r*(-2854/675)))))),this.cbg[0]=r*(-2+r*(2/3+r*(4/3+r*(-82/45+r*(32/45+r*(4642/4725)))))),t=t*r,this.cgb[1]=t*(7/3+r*(-8/5+r*(-227/45+r*(2704/315+r*(2323/945))))),this.cbg[1]=t*(5/3+r*(-16/15+r*(-13/9+r*(904/315+r*(-1522/945))))),t=t*r,this.cgb[2]=t*(56/15+r*(-136/35+r*(-1262/105+r*(73814/2835)))),this.cbg[2]=t*(-26/15+r*(34/21+r*(8/5+r*(-12686/2835)))),t=t*r,this.cgb[3]=t*(4279/630+r*(-332/35+r*(-399572/14175))),this.cbg[3]=t*(1237/630+r*(-12/5+r*(-24832/14175))),t=t*r,this.cgb[4]=t*(4174/315+r*(-144838/6237)),this.cbg[4]=t*(-734/315+r*(109598/31185)),t=t*r,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(r,2),this.Qn=this.k0/(1+r)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=r*(-.5+r*(2/3+r*(-37/96+r*(1/360+r*(81/512+r*(-96199/604800)))))),this.gtu[0]=r*(.5+r*(-2/3+r*(5/16+r*(41/180+r*(-127/288+r*(7891/37800)))))),this.utg[1]=t*(-1/48+r*(-1/15+r*(437/1440+r*(-46/105+r*(1118711/3870720))))),this.gtu[1]=t*(13/48+r*(-3/5+r*(557/1440+r*(281/630+r*(-1983433/1935360))))),t=t*r,this.utg[2]=t*(-17/480+r*(37/840+r*(209/4480+r*(-5569/90720)))),this.gtu[2]=t*(61/240+r*(-103/140+r*(15061/26880+r*(167603/181440)))),t=t*r,this.utg[3]=t*(-4397/161280+r*(11/504+r*(830251/7257600))),this.gtu[3]=t*(49561/161280+r*(-179/168+r*(6601661/7257600))),t=t*r,this.utg[4]=t*(-4583/161280+r*(108847/3991680)),this.gtu[4]=t*(34729/80640+r*(-3418889/1995840)),t=t*r,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var e=w5(this.cbg,this.lat0);this.Zb=-this.Qn*(e+HM(this.gtu,2*e))}function $M(n){var r=jn(n.x-this.long0),t=n.y;t=w5(this.cbg,t);var e=Math.sin(t),i=Math.cos(t),a=Math.sin(r),c=Math.cos(r);t=Math.atan2(e,c*i),r=Math.atan2(a*i,c2(e,i*c)),r=YM(Math.tan(r));var f=Z8(this.gtu,2*t,2*r);t=t+f[0],r=r+f[1];var p,g;return Math.abs(r)<=2.623395162778?(p=this.a*(this.Qn*r)+this.x0,g=this.a*(this.Qn*t+this.Zb)+this.y0):(p=1/0,g=1/0),n.x=p,n.y=g,n}function ZM(n){var r=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,r=r/this.Qn;var e,i;if(Math.abs(r)<=2.623395162778){var a=Z8(this.utg,2*t,2*r);t=t+a[0],r=r+a[1],r=Math.atan($8(r));var c=Math.sin(t),f=Math.cos(t),p=Math.sin(r),g=Math.cos(r);t=Math.atan2(c*g,c2(p,g*f)),r=Math.atan2(p,g*f),e=jn(r+this.long0),i=w5(this.cgb,t)}else e=1/0,i=1/0;return n.x=e,n.y=i,n}var qM=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],h2={init:KM,forward:$M,inverse:ZM,names:qM},JM=function(n,r){if(n===void 0){if(n=Math.floor((jn(r)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n},QM="etmerc";function tR(){var n=JM(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*gs,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,h2.init.apply(this),this.forward=h2.forward,this.inverse=h2.inverse}var eR=["Universal Transverse Mercator System","utm"],rR={init:tR,names:eR,dependsOn:QM},x5=function(n,r){return Math.pow((1-n)/(1+n),r)},nR=20;function iR(){var n=Math.sin(this.lat0),r=Math.cos(this.lat0);r*=r,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*r*r/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+So)/(Math.pow(Math.tan(.5*this.lat0+So),this.C)*x5(this.e*n,this.ratexp))}function oR(n){var r=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+So),this.C)*x5(this.e*Math.sin(t),this.ratexp))-en,n.x=this.C*r,n}function aR(n){for(var r=1e-14,t=n.x/this.C,e=n.y,i=Math.pow(Math.tan(.5*e+So)/this.K,1/this.C),a=nR;a>0&&(e=2*Math.atan(i*x5(this.e*Math.sin(n.y),-.5*this.e))-en,!(Math.abs(e-n.y)<r));--a)n.y=e;return a?(n.x=t,n.y=e,n):null}var sR=["gauss"],T5={init:iR,forward:oR,inverse:aR,names:sR};function lR(){T5.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function uR(n){var r,t,e,i;return n.x=jn(n.x-this.long0),T5.forward.apply(this,[n]),r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i=this.k0*this.R2/(1+this.sinc0*r+this.cosc0*t*e),n.x=i*t*Math.sin(n.x),n.y=i*(this.cosc0*r-this.sinc0*t*e),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function cR(n){var r,t,e,i,a;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,a=Math.sqrt(n.x*n.x+n.y*n.y)){var c=2*Math.atan2(a,this.R2);r=Math.sin(c),t=Math.cos(c),i=Math.asin(t*this.sinc0+n.y*r*this.cosc0/a),e=Math.atan2(n.x*r,a*this.cosc0*t-n.y*this.sinc0*r)}else i=this.phic0,e=0;return n.x=e,n.y=i,T5.inverse.apply(this,[n]),n.x=jn(n.x+this.long0),n}var hR=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],fR={init:lR,forward:uR,inverse:cR,names:hR};function dR(n,r,t){return r*=t,Math.tan(.5*(en+n))*Math.pow((1-r)/(1+r),.5*t)}function pR(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=xn&&(this.k0=.5*(1+D1(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=xn&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=xn&&(this.k0=.5*this.cons*y0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yc(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=y0(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-en,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function vR(n){var r=n.x,t=n.y,e=Math.sin(t),i=Math.cos(t),a,c,f,p,g,m,O=jn(r-this.long0);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=xn&&Math.abs(t+this.lat0)<=xn?(n.x=NaN,n.y=NaN,n):this.sphere?(a=2*this.k0/(1+this.sinlat0*e+this.coslat0*i*Math.cos(O)),n.x=this.a*a*i*Math.sin(O)+this.x0,n.y=this.a*a*(this.coslat0*e-this.sinlat0*i*Math.cos(O))+this.y0,n):(c=2*Math.atan(this.ssfn_(t,e,this.e))-en,p=Math.cos(c),f=Math.sin(c),Math.abs(this.coslat0)<=xn?(g=Yc(this.e,t*this.con,this.con*e),m=2*this.a*this.k0*g/this.cons,n.x=this.x0+m*Math.sin(r-this.long0),n.y=this.y0-this.con*m*Math.cos(r-this.long0),n):(Math.abs(this.sinlat0)<xn?(a=2*this.a*this.k0/(1+p*Math.cos(O)),n.y=a*f):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*f+this.cosX0*p*Math.cos(O))),n.y=a*(this.cosX0*f-this.sinX0*p*Math.cos(O))+this.y0),n.x=a*p*Math.sin(O)+this.x0,n))}function gR(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,a,c=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var f=2*Math.atan(c/(2*this.a*this.k0));return r=this.long0,t=this.lat0,c<=xn?(n.x=r,n.y=t,n):(t=Math.asin(Math.cos(f)*this.sinlat0+n.y*Math.sin(f)*this.coslat0/c),Math.abs(this.coslat0)<xn?this.lat0>0?r=jn(this.long0+Math.atan2(n.x,-1*n.y)):r=jn(this.long0+Math.atan2(n.x,n.y)):r=jn(this.long0+Math.atan2(n.x*Math.sin(f),c*this.coslat0*Math.cos(f)-n.y*this.sinlat0*Math.sin(f))),n.x=r,n.y=t,n)}else if(Math.abs(this.coslat0)<=xn){if(c<=xn)return t=this.lat0,r=this.long0,n.x=r,n.y=t,n;n.x*=this.con,n.y*=this.con,e=c*this.cons/(2*this.a*this.k0),t=this.con*j1(this.e,e),r=this.con*jn(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else i=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),r=this.long0,c<=xn?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+n.y*Math.sin(i)*this.cosX0/c),r=jn(this.long0+Math.atan2(n.x*Math.sin(i),c*this.cosX0*Math.cos(i)-n.y*this.sinX0*Math.sin(i)))),t=-1*j1(this.e,Math.tan(.5*(en+a)));return n.x=r,n.y=t,n}var yR=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],mR={init:pR,forward:vR,inverse:gR,names:yR,ssfn_:dR};function _R(){var n=this.lat0;this.lambda0=this.long0;var r=Math.sin(n),t=this.a,e=this.rf,i=1/e,a=2*i-Math.pow(i,2),c=this.e=Math.sqrt(a);this.R=this.k0*t*Math.sqrt(1-a)/(1-a*Math.pow(r,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(r/this.alpha);var f=Math.log(Math.tan(Math.PI/4+this.b0/2)),p=Math.log(Math.tan(Math.PI/4+n/2)),g=Math.log((1+c*r)/(1-c*r));this.K=f-this.alpha*p+this.alpha*c/2*g}function ER(n){var r=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),e=-this.alpha*(r+t)+this.K,i=2*(Math.atan(Math.exp(e))-Math.PI/4),a=this.alpha*(n.x-this.lambda0),c=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),f=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return n.y=this.R/2*Math.log((1+Math.sin(f))/(1-Math.sin(f)))+this.y0,n.x=this.R*c+this.x0,n}function SR(n){for(var r=n.x-this.x0,t=n.y-this.y0,e=r/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),c=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),f=this.lambda0+c/this.alpha,p=0,g=a,m=-1e3,O=0;Math.abs(g-m)>1e-7;){if(++O>20)return;p=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(g))/2)),m=g,g=2*Math.atan(Math.exp(p))-Math.PI/2}return n.x=f,n.y=g,n}var wR=["somerc"],xR={init:_R,forward:ER,inverse:SR,names:wR},Qd=1e-7;function TR(n){var r=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||r.indexOf(t)!==-1}function OR(){var n,r,t,e,i,a,c,f,p,g,m=0,O,P=0,V=0,$=0,ot=0,yt=0,Lt=0;this.no_off=TR(this),this.no_rot="no_rot"in this;var zt=!1;"alpha"in this&&(zt=!0);var Ht=!1;if("rectified_grid_angle"in this&&(Ht=!0),zt&&(Lt=this.alpha),Ht&&(m=this.rectified_grid_angle*gs),zt||Ht)P=this.longc;else if(V=this.long1,ot=this.lat1,$=this.long2,yt=this.lat2,Math.abs(ot-yt)<=Qd||(n=Math.abs(ot))<=Qd||Math.abs(n-en)<=Qd||Math.abs(Math.abs(this.lat0)-en)<=Qd||Math.abs(Math.abs(yt)-en)<=Qd)throw new Error;var jt=1-this.es;r=Math.sqrt(jt),Math.abs(this.lat0)>xn?(f=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*f*f,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/jt),this.A=this.B*this.k0*r/n,e=this.B*r/(t*Math.sqrt(n)),i=e*e-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=e,this.E*=Math.pow(Yc(this.e,this.lat0,f),this.B)):(this.B=1/r,this.A=this.k0,this.E=e=i=1),zt||Ht?(zt?(O=Math.asin(Math.sin(Lt)/e),Ht||(m=Lt)):(O=m,Lt=Math.asin(e*Math.sin(O))),this.lam0=P-Math.asin(.5*(i-1/i)*Math.tan(O))/this.B):(a=Math.pow(Yc(this.e,ot,Math.sin(ot)),this.B),c=Math.pow(Yc(this.e,yt,Math.sin(yt)),this.B),i=this.E/a,p=(c-a)/(c+a),g=this.E*this.E,g=(g-c*a)/(g+c*a),n=V-$,n<-Math.pi?$-=kc:n>Math.pi&&($+=kc),this.lam0=jn(.5*(V+$)-Math.atan(g*Math.tan(.5*this.B*(V-$))/p)/this.B),O=Math.atan(2*Math.sin(this.B*jn(V-this.lam0))/(i-1/i)),m=Lt=Math.asin(e*Math.sin(O))),this.singam=Math.sin(O),this.cosgam=Math.cos(O),this.sinrot=Math.sin(m),this.cosrot=Math.cos(m),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(Lt))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*O,this.v_pole_n=this.ArB*Math.log(Math.tan(So-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(So+i))}function AR(n){var r={},t,e,i,a,c,f,p,g;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-en)>xn){if(c=this.E/Math.pow(Yc(this.e,n.y,Math.sin(n.y)),this.B),f=1/c,t=.5*(c-f),e=.5*(c+f),a=Math.sin(this.B*n.x),i=(t*this.singam-a*this.cosgam)/e,Math.abs(Math.abs(i)-1)<xn)throw new Error;g=.5*this.ArB*Math.log((1-i)/(1+i)),f=Math.cos(this.B*n.x),Math.abs(f)<Qd?p=this.A*n.x:p=this.ArB*Math.atan2(t*this.cosgam+a*this.singam,f)}else g=n.y>0?this.v_pole_n:this.v_pole_s,p=this.ArB*n.y;return this.no_rot?(r.x=p,r.y=g):(p-=this.u_0,r.x=g*this.cosrot+p*this.sinrot,r.y=p*this.cosrot-g*this.sinrot),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function MR(n){var r,t,e,i,a,c,f,p={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,r=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,r=n.y*this.cosrot+n.x*this.sinrot+this.u_0),e=Math.exp(-this.BrA*t),i=.5*(e-1/e),a=.5*(e+1/e),c=Math.sin(this.BrA*r),f=(c*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(f)-1)<xn)p.x=0,p.y=f<0?-en:en;else{if(p.y=this.E/Math.sqrt((1+f)/(1-f)),p.y=j1(this.e,Math.pow(p.y,1/this.B)),p.y===1/0)throw new Error;p.x=-this.rB*Math.atan2(i*this.cosgam-c*this.singam,Math.cos(this.BrA*r))}return p.x+=this.lam0,p}var RR=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],CR={init:OR,forward:AR,inverse:MR,names:RR};function bR(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<xn)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var r=Math.sin(this.lat1),t=Math.cos(this.lat1),e=y0(this.e,r,t),i=Yc(this.e,this.lat1,r),a=Math.sin(this.lat2),c=Math.cos(this.lat2),f=y0(this.e,a,c),p=Yc(this.e,this.lat2,a),g=Yc(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>xn?this.ns=Math.log(e/f)/Math.log(i/p):this.ns=r,isNaN(this.ns)&&(this.ns=r),this.f0=e/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(g,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function LR(n){var r=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=xn&&(t=D1(t)*(en-2*xn));var e=Math.abs(Math.abs(t)-en),i,a;if(e>xn)i=Yc(this.e,t,Math.sin(t)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(e=t*this.ns,e<=0)return null;a=0}var c=this.ns*jn(r-this.long0);return n.x=this.k0*(a*Math.sin(c))+this.x0,n.y=this.k0*(this.rh-a*Math.cos(c))+this.y0,n}function IR(n){var r,t,e,i,a,c=(n.x-this.x0)/this.k0,f=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(r=Math.sqrt(c*c+f*f),t=1):(r=-Math.sqrt(c*c+f*f),t=-1);var p=0;if(r!==0&&(p=Math.atan2(t*c,t*f)),r!==0||this.ns>0){if(t=1/this.ns,e=Math.pow(r/(this.a*this.f0),t),i=j1(this.e,e),i===-9999)return null}else i=-en;return a=jn(p/this.ns+this.long0),n.x=a,n.y=i,n}var PR=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"],NR={init:bR,forward:LR,inverse:IR,names:PR};function FR(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function DR(n){var r,t,e,i,a,c,f,p=n.x,g=n.y,m=jn(p-this.long0);return r=Math.pow((1+this.e*Math.sin(g))/(1-this.e*Math.sin(g)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(g/2+this.s45),this.alfa)/r)-this.s45),e=-m*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(e)),a=Math.asin(Math.cos(t)*Math.sin(e)/Math.cos(i)),c=this.n*a,f=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),n.y=f*Math.cos(c)/1,n.x=f*Math.sin(c)/1,this.czech||(n.y*=-1,n.x*=-1),n}function jR(n){var r,t,e,i,a,c,f,p,g=n.x;n.x=n.y,n.y=g,this.czech||(n.y*=-1,n.x*=-1),c=Math.sqrt(n.x*n.x+n.y*n.y),a=Math.atan2(n.y,n.x),i=a/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/c,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),r=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),t=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(r)),n.x=this.long0-t/this.alfa,f=r,p=0;var m=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(r/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.e/2))-this.s45),Math.abs(f-n.y)<1e-10&&(p=1),f=n.y,m+=1;while(p===0&&m<15);return m>=15?null:n}var GR=["Krovak","krovak"],BR={init:FR,forward:DR,inverse:jR,names:GR},Gl=function(n,r,t,e,i){return n*i-r*Math.sin(2*i)+t*Math.sin(4*i)-e*Math.sin(6*i)},k1=function(n){return 1-.25*n*(1+n/16*(3+1.25*n))},z1=function(n){return .375*n*(1+.25*n*(1+.46875*n))},V1=function(n){return .05859375*n*n*(1+.75*n)},W1=function(n){return n*n*n*(35/3072)},tp=function(n,r,t){var e=r*t;return n/Math.sqrt(1-e*e)},ep=function(n){return Math.abs(n)<en?n:n-D1(n)*Math.PI},f2=function(n,r,t,e,i){var a,c;a=n/r;for(var f=0;f<15;f++)if(c=(n-(r*a-t*Math.sin(2*a)+e*Math.sin(4*a)-i*Math.sin(6*a)))/(r-2*t*Math.cos(2*a)+4*e*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=c,Math.abs(c)<=1e-10)return a;return NaN};function UR(){this.sphere||(this.e0=k1(this.es),this.e1=z1(this.es),this.e2=V1(this.es),this.e3=W1(this.es),this.ml0=this.a*Gl(this.e0,this.e1,this.e2,this.e3,this.lat0))}function kR(n){var r,t,e=n.x,i=n.y;if(e=jn(e-this.long0),this.sphere)r=this.a*Math.asin(Math.cos(i)*Math.sin(e)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(e))-this.lat0);else{var a=Math.sin(i),c=Math.cos(i),f=tp(this.a,this.e,a),p=Math.tan(i)*Math.tan(i),g=e*Math.cos(i),m=g*g,O=this.es*c*c/(1-this.es),P=this.a*Gl(this.e0,this.e1,this.e2,this.e3,i);r=f*g*(1-m*p*(1/6-(8-p+8*O)*m/120)),t=P-this.ml0+f*a/c*m*(.5+(5-p+6*O)*m/24)}return n.x=r+this.x0,n.y=t+this.y0,n}function zR(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i;if(this.sphere){var a=t+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(r)),i=Math.atan2(Math.tan(r),Math.cos(a))}else{var c=this.ml0/this.a+t,f=f2(c,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(f)-en)<=xn)return n.x=this.long0,n.y=en,t<0&&(n.y*=-1),n;var p=tp(this.a,this.e,Math.sin(f)),g=p*p*p/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(f),2),O=r*this.a/p,P=O*O;e=f-p*Math.tan(f)/g*O*O*(.5-(1+3*m)*O*O/24),i=O*(1-P*(m/3+(1+3*m)*m*P/15))/Math.cos(f)}return n.x=jn(i+this.long0),n.y=ep(e),n}var VR=["Cassini","Cassini_Soldner","cass"],WR={init:UR,forward:kR,inverse:zR,names:VR},Mh=function(n,r){var t;return n>1e-7?(t=n*r,(1-n*n)*(r/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*r},YR=1,HR=2,XR=3,KR=4;function $R(){var n=Math.abs(this.lat0);if(Math.abs(n-en)<xn?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<xn?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var r;switch(this.qp=Mh(this.e,1),this.mmf=.5/(1-this.es),this.apa=iC(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),r=Math.sin(this.lat0),this.sinb1=Mh(this.e,r)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*r*r)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function ZR(n){var r,t,e,i,a,c,f,p,g,m,O=n.x,P=n.y;if(O=jn(O-this.long0),this.sphere){if(a=Math.sin(P),m=Math.cos(P),e=Math.cos(O),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+m*e:1+this.sinph0*a+this.cosph0*m*e,t<=xn)return null;t=Math.sqrt(2/t),r=t*m*Math.sin(O),t*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*m*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(P+this.lat0)<xn)return null;t=So-P*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),r=t*Math.sin(O),t*=e}}else{switch(f=0,p=0,g=0,e=Math.cos(O),i=Math.sin(O),a=Math.sin(P),c=Mh(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=c/this.qp,p=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:g=1+this.sinb1*f+this.cosb1*p*e;break;case this.EQUIT:g=1+p*e;break;case this.N_POLE:g=en+P,c=this.qp-c;break;case this.S_POLE:g=P-en,c=this.qp+c;break}if(Math.abs(g)<xn)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:g=Math.sqrt(2/g),this.mode===this.OBLIQ?t=this.ymf*g*(this.cosb1*f-this.sinb1*p*e):t=(g=Math.sqrt(2/(1+p*e)))*f*this.ymf,r=this.xmf*g*p*i;break;case this.N_POLE:case this.S_POLE:c>=0?(r=(g=Math.sqrt(c))*i,t=e*(this.mode===this.S_POLE?g:-g)):r=t=0;break}}return n.x=this.a*r+this.x0,n.y=this.a*t+this.y0,n}function qR(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i,a,c,f,p,g;if(this.sphere){var m=0,O,P=0;if(O=Math.sqrt(r*r+t*t),i=O*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(P=Math.sin(i),m=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(O)<=xn?0:Math.asin(t*P/O),r*=P,t=m*O;break;case this.OBLIQ:i=Math.abs(O)<=xn?this.lat0:Math.asin(m*this.sinph0+t*P*this.cosph0/O),r*=P*this.cosph0,t=(m-Math.sin(i)*this.sinph0)*O;break;case this.N_POLE:t=-t,i=en-i;break;case this.S_POLE:i-=en;break}e=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(r,t)}else{if(g=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r/=this.dd,t*=this.dd,p=Math.sqrt(r*r+t*t),p<xn)return n.x=this.long0,n.y=this.lat0,n;c=2*Math.asin(.5*p/this.rq),a=Math.cos(c),r*=c=Math.sin(c),this.mode===this.OBLIQ?(g=a*this.sinb1+t*c*this.cosb1/p,f=this.qp*g,t=p*this.cosb1*a-t*this.sinb1*c):(g=t*c/p,f=this.qp*g,t=p*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),f=r*r+t*t,!f)return n.x=this.long0,n.y=this.lat0,n;g=1-f/this.qp,this.mode===this.S_POLE&&(g=-g)}e=Math.atan2(r,t),i=oC(Math.asin(g),this.apa)}return n.x=jn(this.long0+e),n.y=i,n}var JR=.3333333333333333,QR=.17222222222222222,tC=.10257936507936508,eC=.06388888888888888,rC=.0664021164021164,nC=.016415012942191543;function iC(n){var r,t=[];return t[0]=n*JR,r=n*n,t[0]+=r*QR,t[1]=r*eC,r*=n,t[0]+=r*tC,t[1]+=r*rC,t[2]=r*nC,t}function oC(n,r){var t=n+n;return n+r[0]*Math.sin(t)+r[1]*Math.sin(t+t)+r[2]*Math.sin(t+t+t)}var aC=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],sC={init:$R,forward:ZR,inverse:qR,names:aC,S_POLE:YR,N_POLE:HR,EQUIT:XR,OBLIQ:KR},Rh=function(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)};function lC(){Math.abs(this.lat1+this.lat2)<xn||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=y0(this.e3,this.sin_po,this.cos_po),this.qs1=Mh(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=y0(this.e3,this.sin_po,this.cos_po),this.qs2=Mh(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Mh(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>xn?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function uC(n){var r=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var e=Mh(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,a=this.ns0*jn(r-this.long0),c=i*Math.sin(a)+this.x0,f=this.rh-i*Math.cos(a)+this.y0;return n.x=c,n.y=f,n}function cC(n){var r,t,e,i,a,c;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(r=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(r=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1),i=0,r!==0&&(i=Math.atan2(e*n.x,e*n.y)),e=r*this.ns0/this.a,this.sphere?c=Math.asin((this.c-e*e)/(2*this.ns0)):(t=(this.c-e*e)/this.ns0,c=this.phi1z(this.e3,t)),a=jn(i/this.ns0+this.long0),n.x=a,n.y=c,n}function hC(n,r){var t,e,i,a,c,f=Rh(.5*r);if(n<xn)return f;for(var p=n*n,g=1;g<=25;g++)if(t=Math.sin(f),e=Math.cos(f),i=n*t,a=1-i*i,c=.5*a*a/e*(r/(1-p)-t/a+.5/n*Math.log((1-i)/(1+i))),f=f+c,Math.abs(c)<=1e-7)return f;return null}var fC=["Albers_Conic_Equal_Area","Albers","aea"],dC={init:lC,forward:uC,inverse:cC,names:fC,phi1z:hC};function pC(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function vC(n){var r,t,e,i,a,c,f,p,g=n.x,m=n.y;return e=jn(g-this.long0),r=Math.sin(m),t=Math.cos(m),i=Math.cos(e),c=this.sin_p14*r+this.cos_p14*t*i,a=1,c>0||Math.abs(c)<=xn?(f=this.x0+this.a*a*t*Math.sin(e)/c,p=this.y0+this.a*a*(this.cos_p14*r-this.sin_p14*t*i)/c):(f=this.x0+this.infinity_dist*t*Math.sin(e),p=this.y0+this.infinity_dist*(this.cos_p14*r-this.sin_p14*t*i)),n.x=f,n.y=p,n}function gC(n){var r,t,e,i,a,c;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(r=Math.sqrt(n.x*n.x+n.y*n.y))?(i=Math.atan2(r,this.rc),t=Math.sin(i),e=Math.cos(i),c=Rh(e*this.sin_p14+n.y*t*this.cos_p14/r),a=Math.atan2(n.x*t,r*this.cos_p14*e-n.y*this.sin_p14*t),a=jn(this.long0+a)):(c=this.phic0,a=0),n.x=a,n.y=c,n}var yC=["gnom"],mC={init:pC,forward:vC,inverse:gC,names:yC},_C=function(n,r){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(r)-t)<1e-6)return r<0?-1*en:en;for(var e=Math.asin(.5*r),i,a,c,f,p=0;p<30;p++)if(a=Math.sin(e),c=Math.cos(e),f=n*a,i=Math.pow(1-f*f,2)/(2*c)*(r/(1-n*n)-a/(1-f*f)+.5/n*Math.log((1-f)/(1+f))),e+=i,Math.abs(i)<=1e-10)return e;return NaN};function EC(){this.sphere||(this.k0=y0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function SC(n){var r=n.x,t=n.y,e,i,a=jn(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var c=Mh(this.e,Math.sin(t));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*c*.5/this.k0}return n.x=e,n.y=i,n}function wC(n){n.x-=this.x0,n.y-=this.y0;var r,t;return this.sphere?(r=jn(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=_C(this.e,2*n.y*this.k0/this.a),r=jn(this.long0+n.x/(this.a*this.k0))),n.x=r,n.y=t,n}var xC=["cea"],TC={init:EC,forward:SC,inverse:wC,names:xC};function OC(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function AC(n){var r=n.x,t=n.y,e=jn(r-this.long0),i=ep(t-this.lat0);return n.x=this.x0+this.a*e*this.rc,n.y=this.y0+this.a*i,n}function MC(n){var r=n.x,t=n.y;return n.x=jn(this.long0+(r-this.x0)/(this.a*this.rc)),n.y=ep(this.lat0+(t-this.y0)/this.a),n}var RC=["Equirectangular","Equidistant_Cylindrical","eqc"],CC={init:OC,forward:AC,inverse:MC,names:RC},q8=20;function bC(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=k1(this.es),this.e1=z1(this.es),this.e2=V1(this.es),this.e3=W1(this.es),this.ml0=this.a*Gl(this.e0,this.e1,this.e2,this.e3,this.lat0)}function LC(n){var r=n.x,t=n.y,e,i,a,c=jn(r-this.long0);if(a=c*Math.sin(t),this.sphere)Math.abs(t)<=xn?(e=this.a*c,i=-1*this.a*this.lat0):(e=this.a*Math.sin(a)/Math.tan(t),i=this.a*(ep(t-this.lat0)+(1-Math.cos(a))/Math.tan(t)));else if(Math.abs(t)<=xn)e=this.a*c,i=-1*this.ml0;else{var f=tp(this.a,this.e,Math.sin(t))/Math.tan(t);e=f*Math.sin(a),i=this.a*Gl(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+f*(1-Math.cos(a))}return n.x=e+this.x0,n.y=i+this.y0,n}function IC(n){var r,t,e,i,a,c,f,p,g;if(e=n.x-this.x0,i=n.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=xn)r=jn(e/this.a+this.long0),t=0;else{c=this.lat0+i/this.a,f=e*e/this.a/this.a+c*c,p=c;var m;for(a=q8;a;--a)if(m=Math.tan(p),g=-1*(c*(p*m+1)-p-.5*(p*p+f)*m)/((p-c)/m-1),p+=g,Math.abs(g)<=xn){t=p;break}r=jn(this.long0+Math.asin(e*Math.tan(p)/this.a)/Math.sin(t))}else if(Math.abs(i+this.ml0)<=xn)t=0,r=jn(this.long0+e/this.a);else{c=(this.ml0+i)/this.a,f=e*e/this.a/this.a+c*c,p=c;var O,P,V,$,ot;for(a=q8;a;--a)if(ot=this.e*Math.sin(p),O=Math.sqrt(1-ot*ot)*Math.tan(p),P=this.a*Gl(this.e0,this.e1,this.e2,this.e3,p),V=this.e0-2*this.e1*Math.cos(2*p)+4*this.e2*Math.cos(4*p)-6*this.e3*Math.cos(6*p),$=P/this.a,g=(c*(O*$+1)-$-.5*O*($*$+f))/(this.es*Math.sin(2*p)*($*$+f-2*c*$)/(4*O)+(c-$)*(O*V-2/Math.sin(2*p))-V),p-=g,Math.abs(g)<=xn){t=p;break}O=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),r=jn(this.long0+Math.asin(e*O/this.a)/Math.sin(t))}return n.x=r,n.y=t,n}var PC=["Polyconic","poly"],NC={init:bC,forward:LC,inverse:IC,names:PC};function FC(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function DC(n){var r,t=n.x,e=n.y,i=e-this.lat0,a=t-this.long0,c=i/Wf*1e-5,f=a,p=1,g=0;for(r=1;r<=10;r++)p=p*c,g=g+this.A[r]*p;var m=g,O=f,P=1,V=0,$,ot,yt=0,Lt=0;for(r=1;r<=6;r++)$=P*m-V*O,ot=V*m+P*O,P=$,V=ot,yt=yt+this.B_re[r]*P-this.B_im[r]*V,Lt=Lt+this.B_im[r]*P+this.B_re[r]*V;return n.x=Lt*this.a+this.x0,n.y=yt*this.a+this.y0,n}function jC(n){var r,t=n.x,e=n.y,i=t-this.x0,a=e-this.y0,c=a/this.a,f=i/this.a,p=1,g=0,m,O,P=0,V=0;for(r=1;r<=6;r++)m=p*c-g*f,O=g*c+p*f,p=m,g=O,P=P+this.C_re[r]*p-this.C_im[r]*g,V=V+this.C_im[r]*p+this.C_re[r]*g;for(var $=0;$<this.iterations;$++){var ot=P,yt=V,Lt,zt,Ht=c,jt=f;for(r=2;r<=6;r++)Lt=ot*P-yt*V,zt=yt*P+ot*V,ot=Lt,yt=zt,Ht=Ht+(r-1)*(this.B_re[r]*ot-this.B_im[r]*yt),jt=jt+(r-1)*(this.B_im[r]*ot+this.B_re[r]*yt);ot=1,yt=0;var ye=this.B_re[1],ve=this.B_im[1];for(r=2;r<=6;r++)Lt=ot*P-yt*V,zt=yt*P+ot*V,ot=Lt,yt=zt,ye=ye+r*(this.B_re[r]*ot-this.B_im[r]*yt),ve=ve+r*(this.B_im[r]*ot+this.B_re[r]*yt);var Oe=ye*ye+ve*ve;P=(Ht*ye+jt*ve)/Oe,V=(jt*ye-Ht*ve)/Oe}var we=P,je=V,Tr=1,vr=0;for(r=1;r<=9;r++)Tr=Tr*we,vr=vr+this.D[r]*Tr;var qe=this.lat0+vr*Wf*1e5,Dr=this.long0+je;return n.x=Dr,n.y=qe,n}var GC=["New_Zealand_Map_Grid","nzmg"],BC={init:FC,forward:DC,inverse:jC,names:GC};function UC(){}function kC(n){var r=n.x,t=n.y,e=jn(r-this.long0),i=this.x0+this.a*e,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=i,n.y=a,n}function zC(n){n.x-=this.x0,n.y-=this.y0;var r=jn(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=r,n.y=t,n}var VC=["Miller_Cylindrical","mill"],WC={init:UC,forward:kC,inverse:zC,names:VC},YC=20;function HC(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=X8(this.es)}function XC(n){var r,t,e=n.x,i=n.y;if(e=jn(e-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),c=YC;c;--c){var f=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=f,Math.abs(f)<xn)break}r=this.a*this.C_x*e*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var p=Math.sin(i),g=Math.cos(i);t=this.a*l2(i,p,g,this.en),r=this.a*e*g/Math.sqrt(1-this.es*p*p)}return n.x=r,n.y=t,n}function KC(n){var r,t,e,i;return n.x-=this.x0,e=n.x/this.a,n.y-=this.y0,r=n.y/this.a,this.sphere?(r/=this.C_y,e=e/(this.C_x*(this.m+Math.cos(r))),this.m?r=Rh((this.m*r+Math.sin(r))/this.n):this.n!==1&&(r=Rh(Math.sin(r)/this.n)),e=jn(e+this.long0),r=ep(r)):(r=K8(n.y/this.a,this.es,this.en),i=Math.abs(r),i<en?(i=Math.sin(r),t=this.long0+n.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(r)),e=jn(t)):i-xn<en&&(e=this.long0)),n.x=e,n.y=r,n}var $C=["Sinusoidal","sinu"],ZC={init:HC,forward:XC,inverse:KC,names:$C};function qC(){}function JC(n){for(var r=n.x,t=n.y,e=jn(r-this.long0),i=t,a=Math.PI*Math.sin(t);;){var c=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=c,Math.abs(c)<xn)break}i/=2,Math.PI/2-Math.abs(t)<xn&&(e=0);var f=.900316316158*this.a*e*Math.cos(i)+this.x0,p=1.4142135623731*this.a*Math.sin(i)+this.y0;return n.x=f,n.y=p,n}function QC(n){var r,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),r=Math.asin(t);var e=jn(this.long0+n.x/(.900316316158*this.a*Math.cos(r)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),t=(2*r+Math.sin(2*r))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return n.x=e,n.y=i,n}var tb=["Mollweide","moll"],eb={init:qC,forward:JC,inverse:QC,names:tb};function rb(){Math.abs(this.lat1+this.lat2)<xn||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=k1(this.es),this.e1=z1(this.es),this.e2=V1(this.es),this.e3=W1(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=y0(this.e,this.sinphi,this.cosphi),this.ml1=Gl(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<xn?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=y0(this.e,this.sinphi,this.cosphi),this.ml2=Gl(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Gl(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function nb(n){var r=n.x,t=n.y,e;if(this.sphere)e=this.a*(this.g-t);else{var i=Gl(this.e0,this.e1,this.e2,this.e3,t);e=this.a*(this.g-i)}var a=this.ns*jn(r-this.long0),c=this.x0+e*Math.sin(a),f=this.y0+this.rh-e*Math.cos(a);return n.x=c,n.y=f,n}function ib(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var r,t,e,i;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1);var a=0;if(t!==0&&(a=Math.atan2(r*n.x,r*n.y)),this.sphere)return i=jn(this.long0+a/this.ns),e=ep(this.g-t/this.a),n.x=i,n.y=e,n;var c=this.g-t/this.a;return e=f2(c,this.e0,this.e1,this.e2,this.e3),i=jn(this.long0+a/this.ns),n.x=i,n.y=e,n}var ob=["Equidistant_Conic","eqdc"],ab={init:rb,forward:nb,inverse:ib,names:ob};function sb(){this.R=this.a}function lb(n){var r=n.x,t=n.y,e=jn(r-this.long0),i,a;Math.abs(t)<=xn&&(i=this.x0+this.R*e,a=this.y0);var c=Rh(2*Math.abs(t/Math.PI));(Math.abs(e)<=xn||Math.abs(Math.abs(t)-en)<=xn)&&(i=this.x0,t>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*c):a=this.y0+Math.PI*this.R*-Math.tan(.5*c));var f=.5*Math.abs(Math.PI/e-e/Math.PI),p=f*f,g=Math.sin(c),m=Math.cos(c),O=m/(g+m-1),P=O*O,V=O*(2/g-1),$=V*V,ot=Math.PI*this.R*(f*(O-$)+Math.sqrt(p*(O-$)*(O-$)-($+p)*(P-$)))/($+p);e<0&&(ot=-ot),i=this.x0+ot;var yt=p+O;return ot=Math.PI*this.R*(V*yt-f*Math.sqrt(($+p)*(p+1)-yt*yt))/($+p),t>=0?a=this.y0+ot:a=this.y0-ot,n.x=i,n.y=a,n}function ub(n){var r,t,e,i,a,c,f,p,g,m,O,P,V;return n.x-=this.x0,n.y-=this.y0,O=Math.PI*this.R,e=n.x/O,i=n.y/O,a=e*e+i*i,c=-Math.abs(i)*(1+a),f=c-2*i*i+e*e,p=-2*c+1+2*i*i+a*a,V=i*i/p+(2*f*f*f/p/p/p-9*c*f/p/p)/27,g=(c-f*f/3/p)/p,m=2*Math.sqrt(-g/3),O=3*V/g/m,Math.abs(O)>1&&(O>=0?O=1:O=-1),P=Math.acos(O)/3,n.y>=0?t=(-m*Math.cos(P+Math.PI/3)-f/3/p)*Math.PI:t=-(-m*Math.cos(P+Math.PI/3)-f/3/p)*Math.PI,Math.abs(e)<xn?r=this.long0:r=jn(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(e*e-i*i)+a*a))/2/e),n.x=r,n.y=t,n}var cb=["Van_der_Grinten_I","VanDerGrinten","vandg"],hb={init:sb,forward:lb,inverse:ub,names:cb};function fb(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function db(n){var r=n.x,t=n.y,e=Math.sin(n.y),i=Math.cos(n.y),a=jn(r-this.long0),c,f,p,g,m,O,P,V,$,ot,yt,Lt,zt,Ht,jt,ye,ve,Oe,we,je,Tr,vr,qe;return this.sphere?Math.abs(this.sin_p12-1)<=xn?(n.x=this.x0+this.a*(en-t)*Math.sin(a),n.y=this.y0-this.a*(en-t)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=xn?(n.x=this.x0+this.a*(en+t)*Math.sin(a),n.y=this.y0+this.a*(en+t)*Math.cos(a),n):(Oe=this.sin_p12*e+this.cos_p12*i*Math.cos(a),ye=Math.acos(Oe),ve=ye?ye/Math.sin(ye):1,n.x=this.x0+this.a*ve*i*Math.sin(a),n.y=this.y0+this.a*ve*(this.cos_p12*e-this.sin_p12*i*Math.cos(a)),n):(c=k1(this.es),f=z1(this.es),p=V1(this.es),g=W1(this.es),Math.abs(this.sin_p12-1)<=xn?(m=this.a*Gl(c,f,p,g,en),O=this.a*Gl(c,f,p,g,t),n.x=this.x0+(m-O)*Math.sin(a),n.y=this.y0-(m-O)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=xn?(m=this.a*Gl(c,f,p,g,en),O=this.a*Gl(c,f,p,g,t),n.x=this.x0+(m+O)*Math.sin(a),n.y=this.y0+(m+O)*Math.cos(a),n):(P=e/i,V=tp(this.a,this.e,this.sin_p12),$=tp(this.a,this.e,e),ot=Math.atan((1-this.es)*P+this.es*V*this.sin_p12/($*i)),yt=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(ot)-this.sin_p12*Math.cos(a)),yt===0?we=Math.asin(this.cos_p12*Math.sin(ot)-this.sin_p12*Math.cos(ot)):Math.abs(Math.abs(yt)-Math.PI)<=xn?we=-Math.asin(this.cos_p12*Math.sin(ot)-this.sin_p12*Math.cos(ot)):we=Math.asin(Math.sin(a)*Math.cos(ot)/Math.sin(yt)),Lt=this.e*this.sin_p12/Math.sqrt(1-this.es),zt=this.e*this.cos_p12*Math.cos(yt)/Math.sqrt(1-this.es),Ht=Lt*zt,jt=zt*zt,je=we*we,Tr=je*we,vr=Tr*we,qe=vr*we,ye=V*we*(1-je*jt*(1-jt)/6+Tr/8*Ht*(1-2*jt)+vr/120*(jt*(4-7*jt)-3*Lt*Lt*(1-7*jt))-qe/48*Ht),n.x=this.x0+ye*Math.sin(yt),n.y=this.y0+ye*Math.cos(yt),n))}function pb(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,a,c,f,p,g,m,O,P,V,$,ot,yt,Lt,zt,Ht,jt,ye,ve,Oe,we;return this.sphere?(r=Math.sqrt(n.x*n.x+n.y*n.y),r>2*en*this.a?void 0:(t=r/this.a,e=Math.sin(t),i=Math.cos(t),a=this.long0,Math.abs(r)<=xn?c=this.lat0:(c=Rh(i*this.sin_p12+n.y*e*this.cos_p12/r),f=Math.abs(this.lat0)-en,Math.abs(f)<=xn?this.lat0>=0?a=jn(this.long0+Math.atan2(n.x,-n.y)):a=jn(this.long0-Math.atan2(-n.x,n.y)):a=jn(this.long0+Math.atan2(n.x*e,r*this.cos_p12*i-n.y*this.sin_p12*e))),n.x=a,n.y=c,n)):(p=k1(this.es),g=z1(this.es),m=V1(this.es),O=W1(this.es),Math.abs(this.sin_p12-1)<=xn?(P=this.a*Gl(p,g,m,O,en),r=Math.sqrt(n.x*n.x+n.y*n.y),V=P-r,c=f2(V/this.a,p,g,m,O),a=jn(this.long0+Math.atan2(n.x,-1*n.y)),n.x=a,n.y=c,n):Math.abs(this.sin_p12+1)<=xn?(P=this.a*Gl(p,g,m,O,en),r=Math.sqrt(n.x*n.x+n.y*n.y),V=r-P,c=f2(V/this.a,p,g,m,O),a=jn(this.long0+Math.atan2(n.x,n.y)),n.x=a,n.y=c,n):(r=Math.sqrt(n.x*n.x+n.y*n.y),yt=Math.atan2(n.x,n.y),$=tp(this.a,this.e,this.sin_p12),Lt=Math.cos(yt),zt=this.e*this.cos_p12*Lt,Ht=-zt*zt/(1-this.es),jt=3*this.es*(1-Ht)*this.sin_p12*this.cos_p12*Lt/(1-this.es),ye=r/$,ve=ye-Ht*(1+Ht)*Math.pow(ye,3)/6-jt*(1+3*Ht)*Math.pow(ye,4)/24,Oe=1-Ht*ve*ve/2-ye*ve*ve*ve/6,ot=Math.asin(this.sin_p12*Math.cos(ve)+this.cos_p12*Math.sin(ve)*Lt),a=jn(this.long0+Math.asin(Math.sin(yt)*Math.sin(ve)/Math.cos(ot))),we=Math.sin(ot),c=Math.atan2((we-this.es*Oe*this.sin_p12)*Math.tan(ot),we*(1-this.es)),n.x=a,n.y=c,n))}var vb=["Azimuthal_Equidistant","aeqd"],gb={init:fb,forward:db,inverse:pb,names:vb};function yb(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function mb(n){var r,t,e,i,a,c,f,p,g=n.x,m=n.y;return e=jn(g-this.long0),r=Math.sin(m),t=Math.cos(m),i=Math.cos(e),c=this.sin_p14*r+this.cos_p14*t*i,a=1,(c>0||Math.abs(c)<=xn)&&(f=this.a*a*t*Math.sin(e),p=this.y0+this.a*a*(this.cos_p14*r-this.sin_p14*t*i)),n.x=f,n.y=p,n}function _b(n){var r,t,e,i,a,c,f;return n.x-=this.x0,n.y-=this.y0,r=Math.sqrt(n.x*n.x+n.y*n.y),t=Rh(r/this.a),e=Math.sin(t),i=Math.cos(t),c=this.long0,Math.abs(r)<=xn?(f=this.lat0,n.x=c,n.y=f,n):(f=Rh(i*this.sin_p14+n.y*e*this.cos_p14/r),a=Math.abs(this.lat0)-en,Math.abs(a)<=xn?(this.lat0>=0?c=jn(this.long0+Math.atan2(n.x,-n.y)):c=jn(this.long0-Math.atan2(-n.x,n.y)),n.x=c,n.y=f,n):(c=jn(this.long0+Math.atan2(n.x*e,r*this.cos_p14*i-n.y*this.sin_p14*e)),n.x=c,n.y=f,n))}var Eb=["ortho"],Sb={init:yb,forward:mb,inverse:_b,names:Eb},Ua={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Xo={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function wb(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=en-So/2?this.face=Ua.TOP:this.lat0<=-(en-So/2)?this.face=Ua.BOTTOM:Math.abs(this.long0)<=So?this.face=Ua.FRONT:Math.abs(this.long0)<=en+So?this.face=this.long0>0?Ua.RIGHT:Ua.LEFT:this.face=Ua.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function xb(n){var r={x:0,y:0},t,e,i,a,c,f,p={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,e=n.x,this.face===Ua.TOP)a=en-t,e>=So&&e<=en+So?(p.value=Xo.AREA_0,i=e-en):e>en+So||e<=-(en+So)?(p.value=Xo.AREA_1,i=e>0?e-Na:e+Na):e>-(en+So)&&e<=-So?(p.value=Xo.AREA_2,i=e+en):(p.value=Xo.AREA_3,i=e);else if(this.face===Ua.BOTTOM)a=en+t,e>=So&&e<=en+So?(p.value=Xo.AREA_0,i=-e+en):e<So&&e>=-So?(p.value=Xo.AREA_1,i=-e):e<-So&&e>=-(en+So)?(p.value=Xo.AREA_2,i=-e-en):(p.value=Xo.AREA_3,i=e>0?-e+Na:-e-Na);else{var g,m,O,P,V,$,ot;this.face===Ua.RIGHT?e=rp(e,+en):this.face===Ua.BACK?e=rp(e,+Na):this.face===Ua.LEFT&&(e=rp(e,-en)),P=Math.sin(t),V=Math.cos(t),$=Math.sin(e),ot=Math.cos(e),g=V*ot,m=V*$,O=P,this.face===Ua.FRONT?(a=Math.acos(g),i=d2(a,O,m,p)):this.face===Ua.RIGHT?(a=Math.acos(m),i=d2(a,O,-g,p)):this.face===Ua.BACK?(a=Math.acos(-g),i=d2(a,O,-m,p)):this.face===Ua.LEFT?(a=Math.acos(-m),i=d2(a,O,g,p)):(a=i=0,p.value=Xo.AREA_0)}return f=Math.atan(12/Na*(i+Math.acos(Math.sin(i)*Math.cos(So))-en)),c=Math.sqrt((1-Math.cos(a))/(Math.cos(f)*Math.cos(f))/(1-Math.cos(Math.atan(1/Math.cos(i))))),p.value===Xo.AREA_1?f+=en:p.value===Xo.AREA_2?f+=Na:p.value===Xo.AREA_3&&(f+=1.5*Na),r.x=c*Math.cos(f),r.y=c*Math.sin(f),r.x=r.x*this.a+this.x0,r.y=r.y*this.a+this.y0,n.x=r.x,n.y=r.y,n}function Tb(n){var r={lam:0,phi:0},t,e,i,a,c,f,p,g,m,O={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,e=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?O.value=Xo.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(O.value=Xo.AREA_1,t-=en):n.x<0&&-n.x>=Math.abs(n.y)?(O.value=Xo.AREA_2,t=t<0?t+Na:t-Na):(O.value=Xo.AREA_3,t+=en),m=Na/12*Math.tan(t),c=Math.sin(m)/(Math.cos(m)-1/Math.sqrt(2)),f=Math.atan(c),i=Math.cos(t),a=Math.tan(e),p=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(f)))),p<-1?p=-1:p>1&&(p=1),this.face===Ua.TOP)g=Math.acos(p),r.phi=en-g,O.value===Xo.AREA_0?r.lam=f+en:O.value===Xo.AREA_1?r.lam=f<0?f+Na:f-Na:O.value===Xo.AREA_2?r.lam=f-en:r.lam=f;else if(this.face===Ua.BOTTOM)g=Math.acos(p),r.phi=g-en,O.value===Xo.AREA_0?r.lam=-f+en:O.value===Xo.AREA_1?r.lam=-f:O.value===Xo.AREA_2?r.lam=-f-en:r.lam=f<0?-f-Na:-f+Na;else{var P,V,$;P=p,m=P*P,m>=1?$=0:$=Math.sqrt(1-m)*Math.sin(f),m+=$*$,m>=1?V=0:V=Math.sqrt(1-m),O.value===Xo.AREA_1?(m=V,V=-$,$=m):O.value===Xo.AREA_2?(V=-V,$=-$):O.value===Xo.AREA_3&&(m=V,V=$,$=-m),this.face===Ua.RIGHT?(m=P,P=-V,V=m):this.face===Ua.BACK?(P=-P,V=-V):this.face===Ua.LEFT&&(m=P,P=V,V=-m),r.phi=Math.acos(-$)-en,r.lam=Math.atan2(V,P),this.face===Ua.RIGHT?r.lam=rp(r.lam,-en):this.face===Ua.BACK?r.lam=rp(r.lam,-Na):this.face===Ua.LEFT&&(r.lam=rp(r.lam,+en))}if(this.es!==0){var ot,yt,Lt;ot=r.phi<0?1:0,yt=Math.tan(r.phi),Lt=this.b/Math.sqrt(yt*yt+this.one_minus_f_squared),r.phi=Math.atan(Math.sqrt(this.a*this.a-Lt*Lt)/(this.one_minus_f*Lt)),ot&&(r.phi=-r.phi)}return r.lam+=this.long0,n.x=r.lam,n.y=r.phi,n}function d2(n,r,t,e){var i;return n<xn?(e.value=Xo.AREA_0,i=0):(i=Math.atan2(r,t),Math.abs(i)<=So?e.value=Xo.AREA_0:i>So&&i<=en+So?(e.value=Xo.AREA_1,i-=en):i>en+So||i<=-(en+So)?(e.value=Xo.AREA_2,i=i>=0?i-Na:i+Na):(e.value=Xo.AREA_3,i+=en)),i}function rp(n,r){var t=n+r;return t<-Na?t+=kc:t>+Na&&(t-=kc),t}var Ob=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Ab={init:wb,forward:xb,inverse:Tb,names:Ob},O5=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Y1=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],J8=.8487,Q8=1.3523,tE=Dl/5,Mb=1/tE,np=18,p2=function(n,r){return n[0]+r*(n[1]+r*(n[2]+r*n[3]))},Rb=function(n,r){return n[1]+r*(2*n[2]+r*3*n[3])};function Cb(n,r,t,e){for(var i=r;e;--e){var a=n(i);if(i-=a,Math.abs(a)<t)break}return i}function bb(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Lb(n){var r=jn(n.x-this.long0),t=Math.abs(n.y),e=Math.floor(t*tE);e<0?e=0:e>=np&&(e=np-1),t=Dl*(t-Mb*e);var i={x:p2(O5[e],t)*r,y:p2(Y1[e],t)};return n.y<0&&(i.y=-i.y),i.x=i.x*this.a*J8+this.x0,i.y=i.y*this.a*Q8+this.y0,i}function Ib(n){var r={x:(n.x-this.x0)/(this.a*J8),y:Math.abs(n.y-this.y0)/(this.a*Q8)};if(r.y>=1)r.x/=O5[np][0],r.y=n.y<0?-en:en;else{var t=Math.floor(r.y*np);for(t<0?t=0:t>=np&&(t=np-1);;)if(Y1[t][0]>r.y)--t;else if(Y1[t+1][0]<=r.y)++t;else break;var e=Y1[t],i=5*(r.y-e[0])/(Y1[t+1][0]-e[0]);i=Cb(function(a){return(p2(e,a)-r.y)/Rb(e,a)},i,xn,100),r.x/=p2(O5[t],i),r.y=(5*t+i)*gs,n.y<0&&(r.y=-r.y)}return r.x=jn(r.x+this.long0),r}var Pb=["Robinson","robin"],Nb={init:bb,forward:Lb,inverse:Ib,names:Pb};function Fb(){this.name="geocent"}function Db(n){var r=M8(n,this.es,this.a);return r}function jb(n){var r=R8(n,this.es,this.a,this.b);return r}var Gb=["Geocentric","geocentric","geocent","Geocent"],Bb={init:Fb,forward:Db,inverse:jb,names:Gb},El={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},H1={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Ub(){if(Object.keys(H1).forEach(function(t){if(typeof this[t]=="undefined")this[t]=H1[t].def;else{if(H1[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);H1[t].num&&(this[t]=parseFloat(this[t]))}H1[t].degrees&&(this[t]=this[t]*gs)}.bind(this)),Math.abs(Math.abs(this.lat0)-en)<xn?this.mode=this.lat0<0?El.S_POLE:El.N_POLE:Math.abs(this.lat0)<xn?this.mode=El.EQUIT:(this.mode=El.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,r=this.azi;this.cg=Math.cos(r),this.sg=Math.sin(r),this.cw=Math.cos(n),this.sw=Math.sin(n)}function kb(n){n.x-=this.long0;var r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i,a;switch(this.mode){case El.OBLIQ:a=this.sinph0*r+this.cosph0*t*e;break;case El.EQUIT:a=t*e;break;case El.S_POLE:a=-r;break;case El.N_POLE:a=r;break}switch(a=this.pn1/(this.p-a),i=a*t*Math.sin(n.x),this.mode){case El.OBLIQ:a*=this.cosph0*r-this.sinph0*t*e;break;case El.EQUIT:a*=r;break;case El.N_POLE:a*=-(t*e);break;case El.S_POLE:a*=t*e;break}var c,f;return c=a*this.cg+i*this.sg,f=1/(c*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*f,a=c*f,n.x=i*this.a,n.y=a*this.a,n}function zb(n){n.x/=this.a,n.y/=this.a;var r={x:n.x,y:n.y},t,e,i;i=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*i,e=this.pn1*n.y*this.cw*i,n.x=t*this.cg+e*this.sg,n.y=e*this.cg-t*this.sg;var a=c2(n.x,n.y);if(Math.abs(a)<xn)r.x=0,r.y=n.y;else{var c,f;switch(f=1-a*a*this.pfact,f=(this.p-Math.sqrt(f))/(this.pn1/a+a/this.pn1),c=Math.sqrt(1-f*f),this.mode){case El.OBLIQ:r.y=Math.asin(c*this.sinph0+n.y*f*this.cosph0/a),n.y=(c-this.sinph0*Math.sin(r.y))*a,n.x*=f*this.cosph0;break;case El.EQUIT:r.y=Math.asin(n.y*f/a),n.y=c*a,n.x*=f;break;case El.N_POLE:r.y=Math.asin(c),n.y=-n.y;break;case El.S_POLE:r.y=-Math.asin(c);break}r.x=Math.atan2(n.x,n.y)}return n.x=r.x+this.long0,n.y=r.y,n}var Vb=["Tilted_Perspective","tpers"],Wb={init:Ub,forward:kb,inverse:zb,names:Vb},Yb=function(n){n.Proj.projections.add(u2),n.Proj.projections.add(h2),n.Proj.projections.add(rR),n.Proj.projections.add(fR),n.Proj.projections.add(mR),n.Proj.projections.add(xR),n.Proj.projections.add(CR),n.Proj.projections.add(NR),n.Proj.projections.add(BR),n.Proj.projections.add(WR),n.Proj.projections.add(sC),n.Proj.projections.add(dC),n.Proj.projections.add(mC),n.Proj.projections.add(TC),n.Proj.projections.add(CC),n.Proj.projections.add(NC),n.Proj.projections.add(BC),n.Proj.projections.add(WC),n.Proj.projections.add(ZC),n.Proj.projections.add(eb),n.Proj.projections.add(ab),n.Proj.projections.add(hb),n.Proj.projections.add(gb),n.Proj.projections.add(Sb),n.Proj.projections.add(Ab),n.Proj.projections.add(Nb),n.Proj.projections.add(Bb),n.Proj.projections.add(Wb)};zu.defaultDatum="WGS84",zu.Proj=G1,zu.WGS84=new zu.Proj("WGS84"),zu.Point=CM,zu.toPoint=I8,zu.defs=n2,zu.nadgrid=rM,zu.transform=s2,zu.mgrs=_M,zu.version="__VERSION__",Yb(zu);var eE=zu;function Hb(n){var r=Object.keys(n.defs),t=r.length,e,i;for(e=0;e<t;++e){var a=r[e];if(!zn(a)){var c=n.defs(a),f=c.units;!f&&c.projName==="longlat"&&(f=Zi.DEGREES),l0(new $a({code:a,axisOrientation:c.axis,metersPerUnit:c.to_meter,units:f}))}}for(e=0;e<t;++e){var p=r[e],g=zn(p);for(i=0;i<t;++i){var m=r[i],O=zn(m);if(!hl(p,m))if(n.defs[p]===n.defs[m])Ks([g,O]);else{var P=n(p,m);dl(g,O,T(g,O,P.forward),T(O,g,P.inverse))}}}}var Xb={name:"ol-projection-register",setup:function(r){var t=Object(N.toRefs)(r),e=t.projectionName,i=t.projectionDef,a=t.projectionExtent;eE.defs(e.value,i.value),Hb(eE);var c=new $a({code:e.value,extent:a.value});return{projection:c}},props:{projectionName:{type:String},projectionDef:{type:String},projectionExtent:{type:Array}}},A5=hr()(Xb,[["render",zd]]);function v2(n){v2.installed||(v2.installed=!0,n.component(Mo.name,Mo),n.component(Li.name,Li),n.component(ts.name,ts),n.component(Uf.name,Uf),n.component(kd.name,kd),n.component(A5.name,A5))}var Kb=v2;function $b(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var Ch={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},Zb=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qb=function(n){Zb(r,n);function r(t){var e=this,i=t||{},a=Object(yn.a)({},i);return delete a.preload,delete a.useInterimTilesOnError,e=n.call(this,a)||this,e.on,e.once,e.un,e.setPreload(i.preload!==void 0?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e}return r.prototype.getPreload=function(){return this.get(Ch.PRELOAD)},r.prototype.setPreload=function(t){this.set(Ch.PRELOAD,t)},r.prototype.getUseInterimTilesOnError=function(){return this.get(Ch.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setUseInterimTilesOnError=function(t){this.set(Ch.USE_INTERIM_TILES_ON_ERROR,t)},r}(C),rE=qb,Di={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Vu=s("35a7"),Jb=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qb=function(n){Jb(r,n);function r(t){var e=n.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}return r.prototype.getFeatures=function(t){return Object(St.b)()},r.prototype.prepareFrame=function(t){return Object(St.b)()},r.prototype.renderFrame=function(t,e){return Object(St.b)()},r.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(t,e,i){return function(a,c){var f=this.loadedTileCallback.bind(this,i,a);return t.forEachLoadedTile(e,a,c,f)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,a,c){},r.prototype.getDataAtPixel=function(t,e,i){return null},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===Di.LOADED&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(t){var e=t.getState();return e!=Di.LOADED&&e!=Di.ERROR&&t.addEventListener(hn.a.CHANGE,this.boundHandleImageChange_),e==Di.IDLE&&(t.load(),e=t.getState()),e==Di.LOADED},r.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==hi.READY&&t.changed()},r}(Vu.a),nE=Qb,tL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eL=function(n){tL(r,n);function r(t){var e=n.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=gt(),e.pixelTransform=gt(),e.inversePixelTransform=gt(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e}return r.prototype.getBackground=function(t){var e=this.getLayer(),i=e.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},r.prototype.useContainer=function(t,e,i,a){var c=this.getLayer().getClassName(),f,p;if(t&&t.className===c&&t.style.opacity===""&&i===1&&(!a||t.style.backgroundColor&&Object(et.b)(ma(t.style.backgroundColor),ma(a)))){var g=t.firstElementChild;g instanceof HTMLCanvasElement&&(p=g.getContext("2d"))}if(p&&p.canvas.style.transform===e?(this.container=t,this.context=p,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){f=document.createElement("div"),f.className=c;var m=f.style;m.position="absolute",m.width="100%",m.height="100%",a&&(m.backgroundColor=a),p=Object(fr.a)();var g=p.canvas;f.appendChild(g),m=g.style,m.position="absolute",m.left="0",m.transformOrigin="top left",this.container=f,this.context=p}},r.prototype.clipUnrotated=function(t,e,i){var a=_i(i),c=wn(i),f=ao(i),p=gn(i);Ke(e.coordinateToPixelTransform,a),Ke(e.coordinateToPixelTransform,c),Ke(e.coordinateToPixelTransform,f),Ke(e.coordinateToPixelTransform,p);var g=this.inversePixelTransform;Ke(g,a),Ke(g,c),Ke(g,f),Ke(g,p),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.lineTo(Math.round(p[0]),Math.round(p[1])),t.clip()},r.prototype.dispatchRenderEvent_=function(t,e,i){var a=this.getLayer();if(a.hasListener(t)){var c=new yr(t,this.inversePixelTransform,i,e);a.dispatchEvent(c)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Go.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Go.POSTRENDER,t,e)},r.prototype.getRenderTransform=function(t,e,i,a,c,f,p){var g=c/2,m=f/2,O=a/e,P=-O,V=-t[0]+p,$=-t[1];return Qe(this.tempTransform,g,m,O,P,-i,V,$)},r.prototype.getDataAtPixel=function(t,e,i){var a=Ke(this.inversePixelTransform,t.slice()),c=this.context,f=this.getLayer(),p=f.getExtent();if(p){var g=Ke(e.pixelToCoordinateTransform,t.slice());if(!fe(p,g))return null}var m=Math.round(a[0]),O=Math.round(a[1]),P=this.pixelContext_;if(!P){var V=document.createElement("canvas");V.width=1,V.height=1,P=V.getContext("2d"),this.pixelContext_=P}P.clearRect(0,0,1,1);var $;try{P.drawImage(c.canvas,m,O,1,1,0,0,1,1),$=P.getImageData(0,0,1,1).data}catch(ot){return ot.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):$}return $[3]===0?null:$},r}(nE),M5=eL,iE=function(){function n(r,t,e,i){this.minX=r,this.maxX=t,this.minY=e,this.maxY=i}return n.prototype.contains=function(r){return this.containsXY(r[1],r[2])},n.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},n.prototype.containsXY=function(r,t){return this.minX<=r&&r<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},n.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},n}();function ip(n,r,t,e,i){return i!==void 0?(i.minX=n,i.maxX=r,i.minY=t,i.maxY=e,i):new iE(n,r,t,e)}var R5=iE,X1={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},oE={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},rL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aE=function(n){rL(r,n);function r(t){var e=n.call(this,t)||this;return e.extentChanged=!0,e.renderedExtent_=null,e.renderedPixelRatio,e.renderedProjection=null,e.renderedRevision,e.renderedTiles=[],e.newTiles_=!1,e.tmpExtent=ft(),e.tmpTileRange_=new R5(0,0,0,0),e}return r.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),a=e.getUseInterimTilesOnError();return i==fn.LOADED||i==fn.EMPTY||i==fn.ERROR&&!a},r.prototype.getTile=function(t,e,i,a){var c=a.pixelRatio,f=a.viewState.projection,p=this.getLayer(),g=p.getSource(),m=g.getTile(t,e,i,c,f);return m.getState()==fn.ERROR&&(p.getUseInterimTilesOnError()?p.getPreload()>0&&(this.newTiles_=!0):m.setState(fn.LOADED)),this.isDrawableTile(m)||(m=m.getInterimTile()),m},r.prototype.loadedTileCallback=function(t,e,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,t,e,i):!1},r.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],a=t.viewState,c=a.projection,f=a.resolution,p=a.center,g=a.rotation,m=t.pixelRatio,O=this.getLayer(),P=O.getSource(),V=P.getRevision(),$=P.getTileGridForProjection(c),ot=$.getZForResolution(f,P.zDirection),yt=$.getResolution(ot),Lt=t.extent,zt=i.extent&&Mt(i.extent);zt&&(Lt=rn(Lt,Mt(i.extent)));var Ht=P.getTilePixelRatio(m),jt=Math.round(t.size[0]*Ht),ye=Math.round(t.size[1]*Ht);if(g){var ve=Math.round(Math.sqrt(jt*jt+ye*ye));jt=ve,ye=ve}var Oe=yt*jt/2/Ht,we=yt*ye/2/Ht,je=[p[0]-Oe,p[1]-we,p[0]+Oe,p[1]+we],Tr=$.getTileRangeForExtentAndZ(Lt,ot),vr={};vr[ot]={};var qe=this.createLoadedTileFinder(P,c,vr),Dr=this.tmpExtent,Sn=this.tmpTileRange_;this.newTiles_=!1;for(var Tn=Tr.minX;Tn<=Tr.maxX;++Tn)for(var Ln=Tr.minY;Ln<=Tr.maxY;++Ln){var Gn=this.getTile(ot,Tn,Ln,t);if(this.isDrawableTile(Gn)){var yi=Object(St.c)(this);if(Gn.getState()==fn.LOADED){vr[ot][Gn.tileCoord.toString()]=Gn;var mi=Gn.inTransition(yi);!this.newTiles_&&(mi||this.renderedTiles.indexOf(Gn)===-1)&&(this.newTiles_=!0)}if(Gn.getAlpha(yi,t.time)===1)continue}var Ii=$.getTileCoordChildTileRange(Gn.tileCoord,Sn,Dr),Pi=!1;Ii&&(Pi=qe(ot+1,Ii)),Pi||$.forEachTileCoordParentTileRange(Gn.tileCoord,qe,Sn,Dr)}var Vr=yt/f;Qe(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/Ht,1/Ht,g,-jt/2,-ye/2);var hs=Br(this.pixelTransform);this.useContainer(e,hs,i.opacity,this.getBackground(t));var Ui=this.context,la=Ui.canvas;Er(this.inversePixelTransform,this.pixelTransform),Qe(this.tempTransform,jt/2,ye/2,Vr,Vr,0,-jt/2,-ye/2),la.width!=jt||la.height!=ye?(la.width=jt,la.height=ye):this.containerReused||Ui.clearRect(0,0,jt,ye),zt&&this.clipUnrotated(Ui,t,zt),P.getInterpolate()||Object(yn.a)(Ui,X1),this.preRender(Ui,t),this.renderedTiles.length=0;var ns=Object.keys(vr).map(Number);ns.sort(et.i);var _s,fs,Ta;i.opacity===1&&(!this.containerReused||P.getOpaque(t.viewState.projection))?ns=ns.reverse():(_s=[],fs=[]);for(var di=ns.length-1;di>=0;--di){var ai=ns[di],is=P.getTilePixelSize(ai,m,c),Zc=$.getResolution(ai),O0=Zc/yt,Yh=is[0]*O0*Vr,od=is[1]*O0*Vr,ad=$.getTileCoordForCoordAndZ(_i(je),ai),_v=$.getTileCoordExtent(ad),q0=Ke(this.tempTransform,[Ht*(_v[0]-je[0])/yt,Ht*(je[3]-_v[3])/yt]),Ev=Ht*P.getGutterForProjection(c),Ay=vr[ai];for(var Rp in Ay){var Gn=Ay[Rp],Hh=Gn.tileCoord,Cp=ad[1]-Hh[1],c4=Math.round(q0[0]-(Cp-1)*Yh),My=ad[2]-Hh[2],Sv=Math.round(q0[1]-(My-1)*od),Tn=Math.round(q0[0]-Cp*Yh),Ln=Math.round(q0[1]-My*od),Xh=c4-Tn,J0=Sv-Ln,sd=ot===ai,mi=sd&&Gn.getAlpha(Object(St.c)(this),t.time)!==1;if(!mi)if(_s){Ui.save(),Ta=[Tn,Ln,Tn+Xh,Ln,Tn+Xh,Ln+J0,Tn,Ln+J0];for(var bp=0,qc=_s.length;bp<qc;++bp)if(ot!==ai&&ai<fs[bp]){var Jc=_s[bp];Ui.beginPath(),Ui.moveTo(Ta[0],Ta[1]),Ui.lineTo(Ta[2],Ta[3]),Ui.lineTo(Ta[4],Ta[5]),Ui.lineTo(Ta[6],Ta[7]),Ui.moveTo(Jc[6],Jc[7]),Ui.lineTo(Jc[4],Jc[5]),Ui.lineTo(Jc[2],Jc[3]),Ui.lineTo(Jc[0],Jc[1]),Ui.clip()}_s.push(Ta),fs.push(ai)}else Ui.clearRect(Tn,Ln,Xh,J0);this.drawTileImage(Gn,t,Tn,Ln,Xh,J0,Ev,sd),_s&&!mi?(Ui.restore(),this.renderedTiles.unshift(Gn)):this.renderedTiles.push(Gn),this.updateUsedTiles(t.usedTiles,P,Gn)}}this.renderedRevision=V,this.renderedResolution=yt,this.extentChanged=!this.renderedExtent_||!Ar(this.renderedExtent_,je),this.renderedExtent_=je,this.renderedPixelRatio=m,this.renderedProjection=c,this.manageTilePyramid(t,P,$,m,c,Lt,ot,O.getPreload()),this.scheduleExpireCache(t,P),this.postRender(Ui,t),i.extent&&Ui.restore(),Object(yn.a)(Ui,oE),hs!==la.style.transform&&(la.style.transform=hs);var ld=Fr(i.opacity),Lp=this.container;return ld!==Lp.style.opacity&&(Lp.style.opacity=ld),this.container},r.prototype.drawTileImage=function(t,e,i,a,c,f,p,g){var m=this.getTileImage(t);if(!!m){var O=Object(St.c)(this),P=g?t.getAlpha(O,e.time):1,V=P!==this.context.globalAlpha;V&&(this.context.save(),this.context.globalAlpha=P),this.context.drawImage(m,p,p,m.width-2*p,m.height-2*p,i,a,c,f),V&&this.context.restore(),P!==1?e.animate=!0:g&&t.endTransition(O)}},r.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},r.prototype.getTileImage=function(t){return t.getImage()},r.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(a,c,f){var p=Object(St.c)(a);p in f.usedTiles&&a.expireCache(f.viewState.projection,f.usedTiles[p])}.bind(null,e);t.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(t,e,i){var a=Object(St.c)(e);a in t||(t[a]={}),t[a][i.getKey()]=!0},r.prototype.manageTilePyramid=function(t,e,i,a,c,f,p,g,m){var O=Object(St.c)(e);O in t.wantedTiles||(t.wantedTiles[O]={});var P=t.wantedTiles[O],V=t.tileQueue,$=i.getMinZoom(),ot=0,yt,Lt,zt,Ht,jt,ye;for(ye=$;ye<=p;++ye)for(Lt=i.getTileRangeForExtentAndZ(f,ye,Lt),zt=i.getResolution(ye),Ht=Lt.minX;Ht<=Lt.maxX;++Ht)for(jt=Lt.minY;jt<=Lt.maxY;++jt)p-ye<=g?(++ot,yt=e.getTile(ye,Ht,jt,a,c),yt.getState()==fn.IDLE&&(P[yt.getKey()]=!0,V.isKeyQueued(yt.getKey())||V.enqueue([yt,O,i.getTileCoordCenter(yt.tileCoord),zt])),m!==void 0&&m(yt)):e.useTile(ye,Ht,jt,c);e.updateCacheSize(ot,c)},r}(M5);aE.prototype.getLayer;var sE=aE,nL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iL=function(n){nL(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new sE(this)},r}(rE),C5=iL;function oL(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div")}var aL={props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},title:{type:String},name:{type:String},preview:{type:String},baseLayer:{type:Boolean},properties:{type:Object,default:function(){}}}},op=hr()(aL,[["render",oL]]),sL={extends:op,name:"ol-tile-layer",setup:function(r){var t=Object(N.inject)("map"),e=Object(N.inject)("overviewMap",null),i=Ur(r),a=i.properties,c=Object(N.computed)(function(){return new C5(a)}),f=function(){e!=null?(e.value.getOverviewMap().addLayer(c.value),e.value.changed()):t.addLayer(c.value)},p=function(){e!=null?(e.value.getOverviewMap().removeLayer(c.value),e.value.changed()):t.removeLayer(c.value)};return e!=null&&Object(N.watch)(e,function(){p(),f()}),Object(N.onMounted)(function(){f()}),Object(N.onUnmounted)(function(){p()}),Object(N.provide)("tileLayer",c),{tileLayer:c}},props:{preload:{type:Number,default:1}}},b5=hr()(sL,[["render",$b]]);function lL(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var uL=function(){function n(r){this.highWaterMark=r!==void 0?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},n.prototype.forEach=function(r){for(var t=this.oldest_;t;)r(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(r,t){var e=this.entries_[r];return le(e!==void 0,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},n.prototype.remove=function(r){var t=this.entries_[r];return le(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[r],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.key_;return r},n.prototype.getValues=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.value_;return r},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},n.prototype.replace=function(r,t){this.get(r),this.entries_[r].value_=t},n.prototype.set=function(r,t){le(!(r in this.entries_),16);var e={key_:r,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[r]=e,++this.count_},n.prototype.setSize=function(r){this.highWaterMark=r},n}(),lE=uL,cL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hL=function(n){cL(r,n);function r(t,e,i){var a=n.call(this)||this,c=i||{};return a.tileCoord=t,a.state=e,a.interimTile=null,a.key="",a.transition_=c.transition===void 0?250:c.transition,a.transitionStarts_={},a.interpolate=!!c.interpolate,a}return r.prototype.changed=function(){this.dispatchEvent(hn.a.CHANGE)},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==fn.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},r.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==fn.LOADED){t.interimTile=null;break}else t.getState()==fn.LOADING?e=t:t.getState()==fn.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(t){if(this.state!==fn.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},r.prototype.load=function(){Object(St.b)()},r.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=e,this.transitionStarts_[t]=i;else if(i===-1)return 1;var a=e-i+1e3/60;return a>=this.transition_?1:pr(a/this.transition_)},r.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},r.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},r}(sr.a),uE=hL,fL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dL=function(n){fL(r,n);function r(t,e,i,a){var c=n.call(this)||this;return c.extent=t,c.pixelRatio_=i,c.resolution=e,c.state=a,c}return r.prototype.changed=function(){this.dispatchEvent(hn.a.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return Object(St.b)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){Object(St.b)()},r}(sr.a),cE=dL,pL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vL=function(n){pL(r,n);function r(t,e,i,a,c,f){var p=n.call(this,t,e,i,Di.IDLE)||this;return p.src_=a,p.image_=new Image,c!==null&&(p.image_.crossOrigin=c),p.unlisten_=null,p.state=Di.IDLE,p.imageLoadFunction_=f,p}return r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=Di.ERROR,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=an(this.extent)/this.image_.height),this.state=Di.LOADED,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(this.state==Di.IDLE||this.state==Di.ERROR)&&(this.state=Di.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=L5(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(t){this.image_=t,this.resolution=an(this.extent)/this.image_.height},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(cE);function L5(n,r,t){var e=n,i=!0,a=!1,c=!1,f=[Object($r.b)(e,hn.a.LOAD,function(){c=!0,a||r()})];return e.src&&Xt.c?(a=!0,e.decode().then(function(){i&&r()}).catch(function(p){i&&(c?r():t())})):f.push(Object($r.b)(e,hn.a.ERROR,t)),function(){i=!1,f.forEach($r.c)}}var hE=vL,gL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yL=function(n){gL(r,n);function r(t,e,i,a,c,f){var p=n.call(this,t,e,f)||this;return p.crossOrigin_=a,p.src_=i,p.key=i,p.image_=new Image,a!==null&&(p.image_.crossOrigin=a),p.unlisten_=null,p.tileLoadFunction_=c,p}return r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t,this.state=fn.LOADED,this.unlistenImage_(),this.changed()},r.prototype.handleImageError_=function(){this.state=fn.ERROR,this.unlistenImage_(),this.image_=mL(),this.changed()},r.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=fn.LOADED:this.state=fn.EMPTY,this.unlistenImage_(),this.changed()},r.prototype.load=function(){this.state==fn.ERROR&&(this.state=fn.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==fn.IDLE&&(this.state=fn.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=L5(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(uE);function mL(){var n=Object(fr.a)(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var I5=yL,fE=.5,_L=10,dE=.25,EL=function(){function n(r,t,e,i,a,c){this.sourceProj_=r,this.targetProj_=t;var f={},p=bl(this.targetProj_,this.sourceProj_);this.transformInv_=function(Ht){var jt=Ht[0]+"/"+Ht[1];return f[jt]||(f[jt]=p(Ht)),f[jt]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&nn(i)==nn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?nn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?nn(this.targetProj_.getExtent()):null;var g=_i(e),m=wn(e),O=ao(e),P=gn(e),V=this.transformInv_(g),$=this.transformInv_(m),ot=this.transformInv_(O),yt=this.transformInv_(P),Lt=_L+(c?Math.max(0,Math.ceil(ja(Mi(e)/(c*c*256*256)))):0);if(this.addQuad_(g,m,O,P,V,$,ot,yt,Lt),this.wrapsXInSource_){var zt=1/0;this.triangles_.forEach(function(Ht,jt,ye){zt=Math.min(zt,Ht.source[0][0],Ht.source[1][0],Ht.source[2][0])}),this.triangles_.forEach(function(Ht){if(Math.max(Ht.source[0][0],Ht.source[1][0],Ht.source[2][0])-zt>this.sourceWorldWidth_/2){var jt=[[Ht.source[0][0],Ht.source[0][1]],[Ht.source[1][0],Ht.source[1][1]],[Ht.source[2][0],Ht.source[2][1]]];jt[0][0]-zt>this.sourceWorldWidth_/2&&(jt[0][0]-=this.sourceWorldWidth_),jt[1][0]-zt>this.sourceWorldWidth_/2&&(jt[1][0]-=this.sourceWorldWidth_),jt[2][0]-zt>this.sourceWorldWidth_/2&&(jt[2][0]-=this.sourceWorldWidth_);var ye=Math.min(jt[0][0],jt[1][0],jt[2][0]),ve=Math.max(jt[0][0],jt[1][0],jt[2][0]);ve-ye<this.sourceWorldWidth_/2&&(Ht.source=jt)}}.bind(this))}f={}}return n.prototype.addTriangle_=function(r,t,e,i,a,c){this.triangles_.push({source:[i,a,c],target:[r,t,e]})},n.prototype.addQuad_=function(r,t,e,i,a,c,f,p,g){var m=At([a,c,f,p]),O=this.sourceWorldWidth_?nn(m)/this.sourceWorldWidth_:null,P=this.sourceWorldWidth_,V=this.sourceProj_.canWrapX()&&O>.5&&O<1,$=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var ot=At([r,t,e,i]),yt=nn(ot)/this.targetWorldWidth_;$=yt>dE||$}!V&&this.sourceProj_.isGlobal()&&O&&($=O>dE||$)}if(!(!$&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Ei(m,this.maxSourceExtent_))){var Lt=0;if(!$&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(f[0])||!isFinite(f[1])||!isFinite(p[0])||!isFinite(p[1]))){if(g>0)$=!0;else if(Lt=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(f[0])||!isFinite(f[1])?2:0)+(!isFinite(p[0])||!isFinite(p[1])?1:0),Lt!=1&&Lt!=2&&Lt!=4&&Lt!=8)return}if(g>0){if(!$){var zt=[(r[0]+e[0])/2,(r[1]+e[1])/2],Ht=this.transformInv_(zt),jt=void 0;if(V){var ye=(Ws(a[0],P)+Ws(f[0],P))/2;jt=ye-Ws(Ht[0],P)}else jt=(a[0]+f[0])/2-Ht[0];var ve=(a[1]+f[1])/2-Ht[1],Oe=jt*jt+ve*ve;$=Oe>this.errorThresholdSquared_}if($){if(Math.abs(r[0]-e[0])<=Math.abs(r[1]-e[1])){var we=[(t[0]+e[0])/2,(t[1]+e[1])/2],je=this.transformInv_(we),Tr=[(i[0]+r[0])/2,(i[1]+r[1])/2],vr=this.transformInv_(Tr);this.addQuad_(r,t,we,Tr,a,c,je,vr,g-1),this.addQuad_(Tr,we,e,i,vr,je,f,p,g-1)}else{var qe=[(r[0]+t[0])/2,(r[1]+t[1])/2],Dr=this.transformInv_(qe),Sn=[(e[0]+i[0])/2,(e[1]+i[1])/2],Tn=this.transformInv_(Sn);this.addQuad_(r,qe,Sn,i,a,Dr,Tn,p,g-1),this.addQuad_(qe,t,e,Sn,Dr,c,f,Tn,g-1)}return}}if(V){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(Lt&11)==0&&this.addTriangle_(r,e,i,a,f,p),(Lt&14)==0&&this.addTriangle_(r,e,t,a,f,c),Lt&&((Lt&13)==0&&this.addTriangle_(t,i,r,c,p,a),(Lt&7)==0&&this.addTriangle_(t,i,e,c,p,f))}},n.prototype.calculateSourceExtent=function(){var r=ft();return this.triangles_.forEach(function(t,e,i){var a=t.source;sn(r,a[0]),sn(r,a[1]),sn(r,a[2])}),r},n.prototype.getTriangles=function(){return this.triangles_},n}(),pE=EL,P5;function vE(n,r,t,e,i){n.beginPath(),n.moveTo(0,0),n.lineTo(r,t),n.lineTo(e,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(r,e)+1,Math.max(t,i)),n.restore()}function N5(n,r){return Math.abs(n[r*4]-210)>2||Math.abs(n[r*4+3]-.75*255)>2}function SL(){if(P5===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",vE(n,4,5,4,0),vE(n,4,5,0,5);var r=n.getImageData(0,0,3,3).data;P5=N5(r,0)||N5(r,4)||N5(r,8)}return P5}function K1(n,r,t,e){var i=Jn(t,r,n),a=Iu(r,e,t),c=r.getMetersPerUnit();c!==void 0&&(a*=c);var f=n.getMetersPerUnit();f!==void 0&&(a/=f);var p=n.getExtent();if(!p||fe(p,i)){var g=Iu(n,a,i)/a;isFinite(g)&&g>0&&(a/=g)}return a}function wL(n,r,t,e){var i=kn(t),a=K1(n,r,i,e);return(!isFinite(a)||a<=0)&&qn(t,function(c){return a=K1(n,r,c,e),isFinite(a)&&a>0}),a}function gE(n,r,t,e,i,a,c,f,p,g,m,O){var P=Object(fr.a)(Math.round(t*n),Math.round(t*r));if(O||Object(yn.a)(P,X1),p.length===0)return P.canvas;P.scale(t,t);function V(jt){return Math.round(jt*t)/t}P.globalCompositeOperation="lighter";var $=ft();p.forEach(function(jt,ye,ve){zr($,jt.extent)});var ot=nn($),yt=an($),Lt=Object(fr.a)(Math.round(t*ot/e),Math.round(t*yt/e));O||Object(yn.a)(Lt,X1);var zt=t/e;p.forEach(function(jt,ye,ve){var Oe=jt.extent[0]-$[0],we=-(jt.extent[3]-$[3]),je=nn(jt.extent),Tr=an(jt.extent);jt.image.width>0&&jt.image.height>0&&Lt.drawImage(jt.image,g,g,jt.image.width-2*g,jt.image.height-2*g,Oe*zt,we*zt,je*zt,Tr*zt)});var Ht=_i(c);return f.getTriangles().forEach(function(jt,ye,ve){var Oe=jt.source,we=jt.target,je=Oe[0][0],Tr=Oe[0][1],vr=Oe[1][0],qe=Oe[1][1],Dr=Oe[2][0],Sn=Oe[2][1],Tn=V((we[0][0]-Ht[0])/a),Ln=V(-(we[0][1]-Ht[1])/a),Gn=V((we[1][0]-Ht[0])/a),yi=V(-(we[1][1]-Ht[1])/a),mi=V((we[2][0]-Ht[0])/a),Ii=V(-(we[2][1]-Ht[1])/a),Pi=je,Vr=Tr;je=0,Tr=0,vr-=Pi,qe-=Vr,Dr-=Pi,Sn-=Vr;var hs=[[vr,qe,0,0,Gn-Tn],[Dr,Sn,0,0,mi-Tn],[0,0,vr,qe,yi-Ln],[0,0,Dr,Sn,Ii-Ln]],Ui=al(hs);if(!!Ui){if(P.save(),P.beginPath(),SL()||!O){P.moveTo(Gn,yi);for(var la=4,ns=Tn-Gn,_s=Ln-yi,fs=0;fs<la;fs++)P.lineTo(Gn+V((fs+1)*ns/la),yi+V(fs*_s/(la-1))),fs!=la-1&&P.lineTo(Gn+V((fs+1)*ns/la),yi+V((fs+1)*_s/(la-1)));P.lineTo(mi,Ii)}else P.moveTo(Gn,yi),P.lineTo(Tn,Ln),P.lineTo(mi,Ii);P.clip(),P.transform(Ui[0],Ui[2],Ui[1],Ui[3],Tn,Ln),P.translate($[0]-Pi,$[3]-Vr),P.scale(e/t,-e/t),P.drawImage(Lt.canvas,0,0),P.restore()}}),m&&(P.save(),P.globalCompositeOperation="source-over",P.strokeStyle="black",P.lineWidth=1,f.getTriangles().forEach(function(jt,ye,ve){var Oe=jt.target,we=(Oe[0][0]-Ht[0])/a,je=-(Oe[0][1]-Ht[1])/a,Tr=(Oe[1][0]-Ht[0])/a,vr=-(Oe[1][1]-Ht[1])/a,qe=(Oe[2][0]-Ht[0])/a,Dr=-(Oe[2][1]-Ht[1])/a;P.beginPath(),P.moveTo(Tr,vr),P.lineTo(we,je),P.lineTo(qe,Dr),P.closePath(),P.stroke()}),P.restore()),P.canvas}var xL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TL=function(n){xL(r,n);function r(t,e,i,a,c,f,p,g,m,O,P,V){var $=n.call(this,c,fn.IDLE,{interpolate:!!V})||this;$.renderEdges_=P!==void 0?P:!1,$.pixelRatio_=p,$.gutter_=g,$.canvas_=null,$.sourceTileGrid_=e,$.targetTileGrid_=a,$.wrappedTileCoord_=f||c,$.sourceTiles_=[],$.sourcesListenerKeys_=null,$.sourceZ_=0;var ot=a.getTileCoordExtent($.wrappedTileCoord_),yt=$.targetTileGrid_.getExtent(),Lt=$.sourceTileGrid_.getExtent(),zt=yt?rn(ot,yt):ot;if(Mi(zt)===0)return $.state=fn.EMPTY,$;var Ht=t.getExtent();Ht&&(Lt?Lt=rn(Lt,Ht):Lt=Ht);var jt=a.getResolution($.wrappedTileCoord_[0]),ye=wL(t,i,zt,jt);if(!isFinite(ye)||ye<=0)return $.state=fn.EMPTY,$;var ve=O!==void 0?O:fE;if($.triangulation_=new pE(t,i,zt,Lt,ye*ve,jt),$.triangulation_.getTriangles().length===0)return $.state=fn.EMPTY,$;$.sourceZ_=e.getZForResolution(ye);var Oe=$.triangulation_.calculateSourceExtent();if(Lt&&(t.canWrapX()?(Oe[1]=Si(Oe[1],Lt[1],Lt[3]),Oe[3]=Si(Oe[3],Lt[1],Lt[3])):Oe=rn(Oe,Lt)),!Mi(Oe))$.state=fn.EMPTY;else{for(var we=e.getTileRangeForExtentAndZ(Oe,$.sourceZ_),je=we.minX;je<=we.maxX;je++)for(var Tr=we.minY;Tr<=we.maxY;Tr++){var vr=m($.sourceZ_,je,Tr,p);vr&&$.sourceTiles_.push(vr)}$.sourceTiles_.length===0&&($.state=fn.EMPTY)}return $}return r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(m,O,P){m&&m.getState()==fn.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(m.tileCoord),image:m.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=fn.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),a=typeof i=="number"?i:i[0],c=typeof i=="number"?i:i[1],f=this.targetTileGrid_.getResolution(e),p=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=gE(a,c,this.pixelRatio_,p,this.sourceTileGrid_.getExtent(),f,g,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=fn.LOADED}this.changed()},r.prototype.load=function(){if(this.state==fn.IDLE){this.state=fn.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,a){var c=e.getState();if(c==fn.IDLE||c==fn.LOADING){t++;var f=Object($r.a)(e,hn.a.CHANGE,function(p){var g=e.getState();(g==fn.LOADED||g==fn.ERROR||g==fn.EMPTY)&&(Object($r.c)(f),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(f)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,i,a){var c=e.getState();c==fn.IDLE&&e.load()})}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach($r.c),this.sourcesListenerKeys_=null},r}(uE),yE=TL,$1=34962,g2=34963,OL=35040,F5=35044,y2=35048,AL=5121,ML=5123,RL=5125,mE=5126,_E=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function EE(n,r){for(var t=Object(yn.a)({preserveDrawingBuffer:!0},r),e=_E.length,i=0;i<e;++i)try{var a=n.getContext(_E[i],t);if(a)return a}catch{}return null}var CL={STATIC_DRAW:F5,STREAM_DRAW:OL,DYNAMIC_DRAW:y2},bL=function(){function n(r,t){this.array=null,this.type=r,le(r===$1||r===g2,62),this.usage=t!==void 0?t:CL.STATIC_DRAW}return n.prototype.ofSize=function(r){this.array=new(D5(this.type))(r)},n.prototype.fromArray=function(r){var t=D5(this.type);this.array=t.from?t.from(r):new t(r)},n.prototype.fromArrayBuffer=function(r){this.array=new(D5(this.type))(r)},n.prototype.getType=function(){return this.type},n.prototype.getArray=function(){return this.array},n.prototype.getUsage=function(){return this.usage},n.prototype.getSize=function(){return this.array?this.array.length:0},n}();function D5(n){switch(n){case $1:return Float32Array;case g2:return Uint32Array;default:return Float32Array}}var Z1=bL,LL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function SE(n,r,t){var e=t?n.LINEAR:n.NEAREST;n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e)}function IL(n,r,t,e){SE(n,r,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)}function wE(n,r,t,e,i,a){var c=n.getGL();SE(c,r,a);var f=t.byteLength/e[1],p=1;f%8===0?p=8:f%4===0?p=4:f%2===0&&(p=2);var g;switch(i){case 1:{g=c.LUMINANCE;break}case 2:{g=c.LUMINANCE_ALPHA;break}case 3:{g=c.RGB;break}case 4:{g=c.RGBA;break}default:throw new Error("Unsupported number of bands: "+i)}var m;t instanceof Float32Array?(m=c.FLOAT,n.getExtension("OES_texture_float"),n.getExtension("OES_texture_float_linear")):m=c.UNSIGNED_BYTE;var O=c.getParameter(c.UNPACK_ALIGNMENT);c.pixelStorei(c.UNPACK_ALIGNMENT,p),c.texImage2D(c.TEXTURE_2D,0,g,e[0],e[1],0,g,m,t),c.pixelStorei(c.UNPACK_ALIGNMENT,O)}var PL=function(n){LL(r,n);function r(t,e,i){var a=n.call(this)||this;a.tile,a.textures=[],a.handleTileChange_=a.handleTileChange_.bind(a),a.size=pa(e.getTileSize(t.tileCoord[0])),a.bandCount=NaN,a.helper_=i;var c=new Z1($1,F5);return c.fromArray([0,1,1,1,1,0,0,0]),i.flushBufferData(c),a.coords=c,a.setTile(t),a}return r.prototype.setTile=function(t){if(t!==this.tile)if(this.tile&&this.tile.removeEventListener(hn.a.CHANGE,this.handleTileChange_),this.tile=t,this.textures.length=0,this.loaded=t.getState()===fn.LOADED,this.loaded)this.uploadTile_();else{if(t instanceof I5){var e=t.getImage();e instanceof Image&&!e.crossOrigin&&(e.crossOrigin="anonymous")}t.addEventListener(hn.a.CHANGE,this.handleTileChange_)}},r.prototype.uploadTile_=function(){var t=this.helper_,e=t.getGL(),i=this.tile;if(i instanceof I5||i instanceof yE){var a=e.createTexture();this.textures.push(a),this.bandCount=4,IL(e,a,i.getImage(),i.interpolate);return}var c=i.getData(),f=c instanceof Float32Array,p=this.size[0]*this.size[1],g=f?Float32Array:Uint8Array,m=g.BYTES_PER_ELEMENT,O=c.byteLength/this.size[1];this.bandCount=Math.floor(O/m/this.size[0]);var P=Math.ceil(this.bandCount/4);if(P===1){var a=e.createTexture();this.textures.push(a),wE(t,a,c,this.size,this.bandCount,i.interpolate);return}for(var V=new Array(P),$=0;$<P;++$){var a=e.createTexture();this.textures.push(a);var ot=$<P-1?4:this.bandCount%4;V[$]=new g(p*ot)}for(var yt=0,Lt=0,zt=this.size[0]*this.bandCount,Ht=0;Ht<this.size[1];++Ht){for(var jt=0;jt<zt;++jt){var ye=c[Lt+jt],ve=Math.floor(yt/this.bandCount),Oe=jt%this.bandCount,$=Math.floor(Oe/4),we=V[$],ot=we.length/p,je=Oe%4;we[ve*ot+je]=ye,++yt}Lt+=O/m}for(var $=0;$<P;++$){var a=this.textures[$],we=V[$],ot=we.length/p;wE(t,a,we,this.size,ot,i.interpolate)}},r.prototype.handleTileChange_=function(){this.tile.getState()===fn.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(hn.a.CHANGE))},r.prototype.disposeInternal=function(){var t=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e]);this.tile.removeEventListener(hn.a.CHANGE,this.handleTileChange_)},r}(sr.a),NL=PL,m2={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},FL=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,DL=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`,jL=function(){function n(r){this.gl_=r.webGlContext;var t=this.gl_;this.scaleRatio_=r.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,r.vertexShader||FL),t.compileShader(e);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,r.fragmentShader||DL),t.compileShader(i),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,e),t.attachShader(this.renderTargetProgram_,i),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();var a=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array(a),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],r.uniforms&&Object.keys(r.uniforms).forEach(function(c){this.uniforms_.push({value:r.uniforms[c],location:t.getUniformLocation(this.renderTargetProgram_,c)})}.bind(this))}return n.prototype.getGL=function(){return this.gl_},n.prototype.init=function(r){var t=this.getGL(),e=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,e[0],e[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==e[0]||this.renderTargetTextureSize_[1]!==e[1]){this.renderTargetTextureSize_=e;var i=0,a=t.RGBA,c=0,f=t.RGBA,p=t.UNSIGNED_BYTE,g=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,i,a,e[0],e[1],c,f,p,g),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},n.prototype.apply=function(r,t,e,i){var a=this.getGL(),c=r.size;if(a.bindFramebuffer(a.FRAMEBUFFER,t?t.getFrameBuffer():null),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this.renderTargetTexture_),!t){var f=Object(St.c)(a.canvas);if(!r.renderTargets[f]){var p=a.getContextAttributes();p&&p.preserveDrawingBuffer&&(a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT)),r.renderTargets[f]=!0}}a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),a.bindBuffer(a.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),a.useProgram(this.renderTargetProgram_),a.enableVertexAttribArray(this.renderTargetAttribLocation_),a.vertexAttribPointer(this.renderTargetAttribLocation_,2,a.FLOAT,!1,0,0),a.uniform2f(this.renderTargetUniformLocation_,c[0],c[1]),a.uniform1i(this.renderTargetTextureLocation_,0);var g=r.layerStatesArray[r.layerIndex].opacity;a.uniform1f(this.renderTargetOpacityLocation_,g),this.applyUniforms(r),e&&e(a,r),a.drawArrays(a.TRIANGLES,0,6),i&&i(a,r)},n.prototype.getFrameBuffer=function(){return this.frameBuffer_},n.prototype.applyUniforms=function(r){var t=this.getGL(),e,i=1;this.uniforms_.forEach(function(a){if(e=typeof a.value=="function"?a.value(r):a.value,e instanceof HTMLCanvasElement||e instanceof ImageData)a.texture||(a.texture=t.createTexture()),t.activeTexture(t["TEXTURE"+i]),t.bindTexture(t.TEXTURE_2D,a.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e.width,e.height,0,t.UNSIGNED_BYTE,new Uint8Array(e.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.uniform1i(a.location,i++);else if(Array.isArray(e))switch(e.length){case 2:t.uniform2f(a.location,e[0],e[1]);return;case 3:t.uniform3f(a.location,e[0],e[1],e[2]);return;case 4:t.uniform4f(a.location,e[0],e[1],e[2],e[3]);return;default:return}else typeof e=="number"&&t.uniform1f(a.location,e)})},n}(),xE=jL;function TE(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function _2(n,r){return n[0]=r[0],n[1]=r[1],n[4]=r[2],n[5]=r[3],n[12]=r[4],n[13]=r[5],n}var GL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ap={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},_c={UNSIGNED_BYTE:AL,UNSIGNED_SHORT:ML,UNSIGNED_INT:RL,FLOAT:mE},E2={};function OE(n){return"shared/"+n}var AE=0;function BL(){var n="unique/"+AE;return AE+=1,n}function UL(n){var r=E2[n];if(!r){var t=document.createElement("canvas");t.style.position="absolute",t.style.left="0",r={users:0,canvas:t},E2[n]=r}return r.users+=1,r.canvas}function kL(n){var r=E2[n];if(!!r&&(r.users-=1,!(r.users>0))){var t=r.canvas,e=EE(t),i=e.getExtension("WEBGL_lose_context");i&&i.loseContext(),delete E2[n]}}var zL=function(n){GL(r,n);function r(t){var e=n.call(this)||this,i=t||{};e.boundHandleWebGLContextLost_=e.handleWebGLContextLost.bind(e),e.boundHandleWebGLContextRestored_=e.handleWebGLContextRestored.bind(e),e.canvasCacheKey_=i.canvasCacheKey?OE(i.canvasCacheKey):BL(),e.canvas_=UL(e.canvasCacheKey_),e.gl_=EE(e.canvas_),e.bufferCache_={},e.extensionCache_={},e.currentProgram_=null,e.canvas_.addEventListener(m2.LOST,e.boundHandleWebGLContextLost_),e.canvas_.addEventListener(m2.RESTORED,e.boundHandleWebGLContextRestored_),e.offsetRotateMatrix_=gt(),e.offsetScaleMatrix_=gt(),e.tmpMat4_=TE(),e.uniformLocations_={},e.attribLocations_={},e.uniforms_=[],i.uniforms&&e.setUniforms(i.uniforms);var a=e.getGL();return e.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(c){return new xE({webGlContext:a,scaleRatio:c.scaleRatio,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,uniforms:c.uniforms})}):[new xE({webGlContext:a})],e.shaderCompileErrors_=null,e.startTime_=Date.now(),e}return r.prototype.setUniforms=function(t){this.uniforms_=[];for(var e in t)this.uniforms_.push({name:e,value:t[e]});this.uniformLocations_={}},r.prototype.canvasCacheKeyMatches=function(t){return this.canvasCacheKey_===OE(t)},r.prototype.getExtension=function(t){if(t in this.extensionCache_)return this.extensionCache_[t];var e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e},r.prototype.bindBuffer=function(t){var e=this.getGL(),i=Object(St.c)(t),a=this.bufferCache_[i];if(!a){var c=e.createBuffer();a={buffer:t,webGlBuffer:c},this.bufferCache_[i]=a}e.bindBuffer(t.getType(),a.webGlBuffer)},r.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},r.prototype.deleteBuffer=function(t){var e=this.getGL(),i=Object(St.c)(t),a=this.bufferCache_[i];a&&!e.isContextLost()&&e.deleteBuffer(a.webGlBuffer),delete this.bufferCache_[i]},r.prototype.disposeInternal=function(){this.canvas_.removeEventListener(m2.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(m2.RESTORED,this.boundHandleWebGLContextRestored_),kL(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},r.prototype.prepareDraw=function(t,e){var i=this.getGL(),a=this.getCanvas(),c=t.size,f=t.pixelRatio;a.width=c[0]*f,a.height=c[1]*f,a.style.width=c[0]+"px",a.style.height=c[1]+"px",i.useProgram(this.currentProgram_);for(var p=this.postProcessPasses_.length-1;p>=0;p--)this.postProcessPasses_[p].init(t);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,e?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.prepareDrawToRenderTarget=function(t,e,i){var a=this.getGL(),c=e.getSize();a.bindFramebuffer(a.FRAMEBUFFER,e.getFramebuffer()),a.viewport(0,0,c[0],c[1]),a.bindTexture(a.TEXTURE_2D,e.getTexture()),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.enable(a.BLEND),a.blendFunc(a.ONE,i?a.ZERO:a.ONE_MINUS_SRC_ALPHA),a.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.drawElements=function(t,e){var i=this.getGL();this.getExtension("OES_element_index_uint");var a=i.UNSIGNED_INT,c=4,f=e-t,p=t*c;i.drawElements(i.TRIANGLES,f,a,p)},r.prototype.finalizeDraw=function(t,e,i){for(var a=0,c=this.postProcessPasses_.length;a<c;a++)a===c-1?this.postProcessPasses_[a].apply(t,null,e,i):this.postProcessPasses_[a].apply(t,this.postProcessPasses_[a+1])},r.prototype.getCanvas=function(){return this.canvas_},r.prototype.getGL=function(){return this.gl_},r.prototype.applyFrameState=function(t){var e=t.size,i=t.viewState.rotation,a=Yt(this.offsetScaleMatrix_);Pr(a,2/e[0],2/e[1]);var c=Yt(this.offsetRotateMatrix_);i!==0&&Ge(c,-i),this.setUniformMatrixValue(ap.OFFSET_SCALE_MATRIX,_2(this.tmpMat4_,a)),this.setUniformMatrixValue(ap.OFFSET_ROTATION_MATRIX,_2(this.tmpMat4_,c)),this.setUniformFloatValue(ap.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(ap.ZOOM,t.viewState.zoom),this.setUniformFloatValue(ap.RESOLUTION,t.viewState.resolution)},r.prototype.applyUniforms=function(t){var e=this.getGL(),i,a=0;this.uniforms_.forEach(function(c){if(i=typeof c.value=="function"?c.value(t):c.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData){c.texture||(c.prevValue=void 0,c.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+a]),e.bindTexture(e.TEXTURE_2D,c.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var f=!(i instanceof HTMLImageElement)||i.complete;f&&c.prevValue!==i&&(c.prevValue=i,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)),e.uniform1i(this.getUniformLocation(c.name),a++)}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(c.name,_2(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:e.uniform2f(this.getUniformLocation(c.name),i[0],i[1]);return;case 3:e.uniform3f(this.getUniformLocation(c.name),i[0],i[1],i[2]);return;case 4:e.uniform4f(this.getUniformLocation(c.name),i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&e.uniform1f(this.getUniformLocation(c.name),i)}.bind(this))},r.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0},r.prototype.compileShader=function(t,e){var i=this.getGL(),a=i.createShader(e);return i.shaderSource(a,t),i.compileShader(a),a},r.prototype.getProgram=function(t,e){var i=this.getGL(),a=this.compileShader(t,i.FRAGMENT_SHADER),c=this.compileShader(e,i.VERTEX_SHADER),f=i.createProgram();if(i.attachShader(f,a),i.attachShader(f,c),i.linkProgram(f),!i.getShaderParameter(a,i.COMPILE_STATUS)){var p="Fragment shader compliation failed: "+i.getShaderInfoLog(a);throw new Error(p)}if(i.deleteShader(a),!i.getShaderParameter(c,i.COMPILE_STATUS)){var p="Vertex shader compilation failed: "+i.getShaderInfoLog(c);throw new Error(p)}if(i.deleteShader(c),!i.getProgramParameter(f,i.LINK_STATUS)){var p="GL program linking failed: "+i.getShaderInfoLog(c);throw new Error(p)}return f},r.prototype.getUniformLocation=function(t){return this.uniformLocations_[t]===void 0&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},r.prototype.getAttributeLocation=function(t){return this.attribLocations_[t]===void 0&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},r.prototype.makeProjectionTransform=function(t,e){var i=t.size,a=t.viewState.rotation,c=t.viewState.resolution,f=t.viewState.center;return Yt(e),Qe(e,0,0,2/(c*i[0]),2/(c*i[1]),-a,-f[0],-f[1]),e},r.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},r.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},r.prototype.enableAttributeArray_=function(t,e,i,a,c){var f=this.getAttributeLocation(t);f<0||(this.getGL().enableVertexAttribArray(f),this.getGL().vertexAttribPointer(f,e,i,!1,a,c))},r.prototype.enableAttributes=function(t){for(var e=VL(t),i=0,a=0;a<t.length;a++){var c=t[a];this.enableAttributeArray_(c.name,c.size,c.type||mE,e,i),i+=c.size*ME(c.type)}},r.prototype.handleWebGLContextLost=function(){Object(yn.b)(this.bufferCache_),this.currentProgram_=null},r.prototype.handleWebGLContextRestored=function(){},r.prototype.createTexture=function(t,e,i){var a=this.getGL(),c=i||a.createTexture(),f=0,p=a.RGBA,g=0,m=a.RGBA,O=a.UNSIGNED_BYTE;return a.bindTexture(a.TEXTURE_2D,c),e?a.texImage2D(a.TEXTURE_2D,f,p,m,O,e):a.texImage2D(a.TEXTURE_2D,f,p,t[0],t[1],g,m,O,null),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),c},r}(Rt.a);function VL(n){for(var r=0,t=0;t<n.length;t++){var e=n[t];r+=e.size*ME(e.type)}return r}function ME(n){switch(n){case _c.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case _c.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case _c.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case _c.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var WL=zL,YL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),j5={GENERATE_BUFFERS:"GENERATE_BUFFERS"},HL=function(n){YL(r,n);function r(t,e){var i=n.call(this,t)||this,a=e||{};return i.inversePixelTransform_=gt(),i.pixelContext_=null,i.postProcesses_=a.postProcesses,i.uniforms_=a.uniforms,i.helper,t.addChangeListener(Vi.MAP,i.removeHelper_.bind(i)),i.dispatchPreComposeEvent=i.dispatchPreComposeEvent.bind(i),i.dispatchPostComposeEvent=i.dispatchPostComposeEvent.bind(i),i}return r.prototype.dispatchPreComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(Go.PRECOMPOSE)){var a=new yr(Go.PRECOMPOSE,void 0,e,t);i.dispatchEvent(a)}},r.prototype.dispatchPostComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(Go.POSTCOMPOSE)){var a=new yr(Go.POSTCOMPOSE,void 0,e,t);i.dispatchEvent(a)}},r.prototype.reset=function(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},r.prototype.removeHelper_=function(){this.helper&&(this.helper.dispose(),delete this.helper)},r.prototype.prepareFrame=function(t){if(this.getLayer().getSource()){for(var e=!0,i=-1,a=void 0,c=0,f=t.layerStatesArray.length;c<f;c++){var p=t.layerStatesArray[c].layer,g=p.getRenderer();if(!(g instanceof r)){e=!0;continue}var m=p.getClassName();if((e||m!==a)&&(i+=1,e=!1),a=m,g===this)break}var O="map/"+t.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(O))&&(this.helper&&this.helper.dispose(),this.helper=new WL({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:O}),a&&(this.helper.getCanvas().className=a),this.afterHelperCreated())}return this.prepareFrameInternal(t)},r.prototype.afterHelperCreated=function(){},r.prototype.prepareFrameInternal=function(t){return!0},r.prototype.disposeInternal=function(){this.removeHelper_(),n.prototype.disposeInternal.call(this)},r.prototype.dispatchRenderEvent_=function(t,e,i){var a=this.getLayer();if(a.hasListener(t)){Qe(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);var c=new yr(t,this.inversePixelTransform_,i,e);a.dispatchEvent(c)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Go.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Go.POSTRENDER,t,e)},r.prototype.getDataAtPixel=function(t,e,i){var a=Ke([e.pixelRatio,0,0,e.pixelRatio,0,0],t.slice()),c=this.helper.getGL();if(!c)return null;var f=this.getLayer(),p=f.getExtent();if(p){var g=Ke(e.pixelToCoordinateTransform,t.slice());if(!fe(p,g))return null}var m=c.getContextAttributes();if(!m||!m.preserveDrawingBuffer)return new Uint8Array;var O=Math.round(a[0]),P=Math.round(a[1]),V=this.pixelContext_;if(!V){var $=document.createElement("canvas");$.width=1,$.height=1,V=$.getContext("2d"),this.pixelContext_=V}V.clearRect(0,0,1,1);var ot;try{V.drawImage(c.canvas,O,P,1,1,0,0,1,1),ot=V.getImageData(0,0,1,1).data}catch{return ot}return ot[3]===0?null:ot},r}(nE);function XL(n,r){var t=r||[],e=256,i=e-1;return t[0]=Math.floor(n/e/e/e)/i,t[1]=Math.floor(n/e/e)%e/i,t[2]=Math.floor(n/e)%e/i,t[3]=n%e/i,t}function KL(n){var r=0,t=256,e=t-1;return r+=Math.round(n[0]*t*t*t*e),r+=Math.round(n[1]*t*t*e),r+=Math.round(n[2]*t*e),r+=Math.round(n[3]*e),r}var RE=HL;function q1(n,r,t,e){return e!==void 0?(e[0]=n,e[1]=r,e[2]=t,e):[n,r,t]}function J1(n,r,t){return n+"/"+r+"/"+t}function Q1(n){return J1(n[0],n[1],n[2])}function $L(n){return n.split("/").map(Number)}function CE(n){return(n[1]<<n[0])+n[2]}function ZL(n,r){var t=n[0],e=n[1],i=n[2];if(r.getMinZoom()>t||t>r.getMaxZoom())return!1;var a=r.getFullTileRange(t);return a?a.containsXY(e,i):!0}var qL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ka={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},S2={TEXTURE_COORD:"a_textureCoord"},JL=[{name:S2.TEXTURE_COORD,size:2,type:_c.FLOAT}],QL={};function tI(n){return 2*(1-1/(n+1))-1}function bE(n,r,t){t in n||(n[t]=[]),n[t].push(r)}function G5(n,r){var t=n.layerStatesArray[n.layerIndex];t.extent&&(r=rn(r,Mt(t.extent,n.viewState.projection)));var e=t.layer.getSource();if(!e.getWrapX()){var i=e.getTileGridForProjection(n.viewState.projection).getExtent();i&&(r=rn(r,i))}return r}var LE=function(n){qL(r,n);function r(t,e){var i=n.call(this,t,{uniforms:e.uniforms})||this;i.tileTransform_=gt(),i.tempMat4_=TE(),i.tempTileRange_=new R5(0,0,0,0),i.tempTileCoord_=q1(0,0,0),i.tempSize_=[0,0],i.program_,i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.indices_=new Z1(g2,F5),i.indices_.fromArray([0,1,3,1,2,3]);var a=e.cacheSize!==void 0?e.cacheSize:512;return i.tileTextureCache_=new lE(a),i.paletteTextures_=e.paletteTextures||[],i}return r.prototype.reset=function(t){n.prototype.reset.call(this,{uniforms:t.uniforms}),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},r.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),a=e.getUseInterimTilesOnError();return i==fn.LOADED||i==fn.EMPTY||i==fn.ERROR&&!a},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource();return!i||ho(G5(t,t.extent))?!1:i.getState()===hi.READY},r.prototype.enqueueTiles=function(t,e,i,a){var c=t.viewState,f=this.getLayer(),p=f.getSource(),g=p.getTileGridForProjection(c.projection),m=this.tileTextureCache_,O=g.getTileRangeForExtentAndZ(e,i,this.tempTileRange_),P=Object(St.c)(p);P in t.wantedTiles||(t.wantedTiles[P]={});for(var V=t.wantedTiles[P],$=g.getResolution(i),ot=O.minX;ot<=O.maxX;++ot)for(var yt=O.minY;yt<=O.maxY;++yt){var Lt=q1(i,ot,yt,this.tempTileCoord_),zt=Q1(Lt),Ht=void 0,jt=void 0;if(m.containsKey(zt)&&(Ht=m.get(zt),jt=Ht.tile),!Ht||Ht.tile.key!==p.getKey())if(jt=p.getTile(i,ot,yt,t.pixelRatio,c.projection),!Ht)Ht=new NL(jt,g,this.helper),m.set(zt,Ht);else if(this.isDrawableTile_(jt))Ht.setTile(jt);else{var ye=jt.getInterimTile();Ht.setTile(ye)}bE(a,Ht,i);var ve=jt.getKey();V[ve]=!0,jt.getState()===fn.IDLE&&(t.tileQueue.isKeyQueued(ve)||t.tileQueue.enqueue([jt,P,g.getTileCoordCenter(Lt),$]))}},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=t.viewState,a=this.getLayer(),c=a.getSource(),f=c.getTileGridForProjection(i.projection),p=G5(t,t.extent),g=f.getZForResolution(i.resolution,c.zDirection),m={};if(t.nextExtent){var O=f.getZForResolution(i.nextResolution,c.zDirection),P=G5(t,t.nextExtent);this.enqueueTiles(t,P,O,m)}this.enqueueTiles(t,p,g,m);for(var V={},$=Object(St.c)(this),ot=t.time,yt=!1,Lt=m[g],zt=0,Ht=Lt.length;zt<Ht;++zt){var jt=Lt[zt],ye=jt.tile,ve=ye.tileCoord;if(jt.loaded){var Oe=ye.getAlpha($,ot);if(Oe===1){ye.endTransition($);continue}yt=!0;var we=Q1(ve);V[we]=Oe}var je=this.findAltTiles_(f,ve,g+1,m);if(!je)for(var Tr=f.getMinZoom(),vr=g-1;vr>=Tr;--vr){var qe=this.findAltTiles_(f,ve,vr,m);if(qe)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(t,!yt);for(var Dr=Object.keys(m).map(Number).sort(et.i),Sn=i.center[0],Tn=i.center[1],Ln=0,Gn=Dr.length;Ln<Gn;++Ln)for(var yi=Dr[Ln],mi=f.getResolution(yi),Ii=pa(f.getTileSize(yi),this.tempSize_),Pi=f.getOrigin(yi),Vr=(Sn-Pi[0])/(Ii[0]*mi),hs=(Pi[1]-Tn)/(Ii[1]*mi),Ui=i.resolution/mi,la=tI(yi),ns=m[yi],zt=0,Ht=ns.length;zt<Ht;++zt){var jt=ns[zt];if(!!jt.loaded){var ye=jt.tile,ve=ye.tileCoord,we=Q1(ve),_s=ve[1],fs=ve[2];Qe(this.tileTransform_,0,0,2/(t.size[0]*Ui/Ii[0]),-2/(t.size[1]*Ui/Ii[1]),i.rotation,-(Vr-_s),-(hs-fs)),this.helper.setUniformMatrixValue(ka.TILE_TRANSFORM,_2(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(jt.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(JL);for(var Ta=0;Ta<jt.textures.length;){var di="TEXTURE"+Ta,ai=ka.TILE_TEXTURE_ARRAY+"["+Ta+"]";e.activeTexture(e[di]),e.bindTexture(e.TEXTURE_2D,jt.textures[Ta]),e.uniform1i(this.helper.getUniformLocation(ai),Ta),++Ta}for(var is=0;is<this.paletteTextures_.length;++is){var Zc=this.paletteTextures_[is];e.activeTexture(e["TEXTURE"+Ta]);var O0=Zc.getTexture(e);e.bindTexture(e.TEXTURE_2D,O0),e.uniform1i(this.helper.getUniformLocation(Zc.name),Ta),++Ta}var Oe=we in V?V[we]:1;Oe<1&&(t.animate=!0),this.helper.setUniformFloatValue(ka.TRANSITION_ALPHA,Oe),this.helper.setUniformFloatValue(ka.DEPTH,la),this.helper.setUniformFloatValue(ka.TEXTURE_PIXEL_WIDTH,Ii[0]),this.helper.setUniformFloatValue(ka.TEXTURE_PIXEL_HEIGHT,Ii[1]),this.helper.setUniformFloatValue(ka.RESOLUTION,i.resolution),this.helper.setUniformFloatValue(ka.ZOOM,i.zoom),this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var Yh=this.helper.getCanvas(),od=this.tileTextureCache_;od.canExpireCache();){var jt=od.pop();jt.dispose()}var ad=function(_v,q0){c.expireCache(q0.viewState.projection,QL)};return t.postRenderFunctions.push(ad),this.postRender(e,t),Yh},r.prototype.findAltTiles_=function(t,e,i,a){var c=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!c)return!1;for(var f=!0,p=this.tileTextureCache_,g=c.minX;g<=c.maxX;++g)for(var m=c.minY;m<=c.maxY;++m){var O=J1(i,g,m),P=!1;if(p.containsKey(O)){var V=p.get(O);V.loaded&&(bE(a,V,i),P=!0)}P||(f=!1)}return f},r.prototype.disposeInternal=function(){var t=this.helper,e=t.getGL();t.deleteBuffer(this.indices_),delete this.indices_,e.deleteProgram(this.program_),delete this.program_;var i=this.tileTextureCache_;i.forEach(function(a){a.dispose()}),i.clear(),delete this.tileTextureCache_,n.prototype.disposeInternal.call(this)},r}(RE);LE.prototype.getLayer;var eI=LE,rI=function(){function n(r,t){this.name=r,this.data=t,this.texture_=null}return n.prototype.getTexture=function(r){if(!this.texture_){var t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.data.length/4,1,0,r.RGBA,r.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_},n}(),nI=rI,Rn={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},co={};function m0(n){if(typeof n=="number")return Rn.NUMBER;if(typeof n=="boolean")return Rn.BOOLEAN;if(typeof n=="string")return Ou(n)?Rn.COLOR|Rn.STRING:Rn.STRING;if(!Array.isArray(n))throw new Error("Unhandled value type: "+JSON.stringify(n));var r=n,t=r.every(function(i){return typeof i=="number"});if(t)return r.length===3||r.length===4?Rn.COLOR|Rn.NUMBER_ARRAY:Rn.NUMBER_ARRAY;if(typeof r[0]!="string")throw new Error("Expected an expression operator but received: "+JSON.stringify(r));var e=co[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.getReturnType(r.slice(1))}function iI(n){return ja(n)%1===0}function w2(n){var r=n.toString();return r.indexOf(".")===-1?r+".0":r}function IE(n){if(n.length<2||n.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+n.length+"("+n.map(w2).join(", ")+")"}function oI(n){var r=ma(n).slice();return r.length<4&&r.push(1),IE(r.map(function(t,e){return e<3?t/255:t}))}function x2(n,r){return n.stringLiteralsMap[r]===void 0&&(n.stringLiteralsMap[r]=Object.keys(n.stringLiteralsMap).length),n.stringLiteralsMap[r]}function aI(n,r){return w2(x2(n,r))}function Dn(n,r,t){if(Array.isArray(r)&&typeof r[0]=="string"){var e=co[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.toGlsl(n,r.slice(1),t)}var i=m0(r);if((i&Rn.NUMBER)>0)return w2(r);if((i&Rn.BOOLEAN)>0)return r.toString();if((i&Rn.STRING)>0&&(t===void 0||t==Rn.STRING))return aI(n,r.toString());if((i&Rn.COLOR)>0&&(t===void 0||t==Rn.COLOR))return oI(r);if((i&Rn.NUMBER_ARRAY)>0)return IE(r);throw new Error("Unexpected expression "+r+" (expected type "+t+")")}function PE(n){if(!(m0(n)&Rn.NUMBER))throw new Error("A numeric value was expected, got "+JSON.stringify(n)+" instead")}function Bs(n){for(var r=0;r<n.length;r++)PE(n[r])}function NE(n){if(!(m0(n)&Rn.STRING))throw new Error("A string value was expected, got "+JSON.stringify(n)+" instead")}function B5(n){if(!(m0(n)&Rn.BOOLEAN))throw new Error("A boolean value was expected, got "+JSON.stringify(n)+" instead")}function za(n,r){if(n.length!==r)throw new Error("Exactly "+r+" arguments were expected, got "+n.length+" instead")}function bh(n,r){if(n.length<r)throw new Error("At least "+r+" arguments were expected, got "+n.length+" instead")}function T2(n,r){if(n.length>r)throw new Error("At most "+r+" arguments were expected, got "+n.length+" instead")}function FE(n){if(n.length%2!==0)throw new Error("An even amount of arguments was expected, got "+n+" instead")}function sI(n){if(n.length%2===0)throw new Error("An odd amount of arguments was expected, got "+n+" instead")}function U5(n,r){if(!iI(r))throw new Error("Could not infer only one type from the following expression: "+JSON.stringify(n))}co.get={getReturnType:function(n){return Rn.ANY},toGlsl:function(n,r){za(r,1),NE(r[0]);var t=r[0].toString();n.attributes.indexOf(t)===-1&&n.attributes.push(t);var e=n.inFragmentShader?"v_":"a_";return e+t}};function k5(n){return"u_var_"+n}co.var={getReturnType:function(n){return Rn.ANY},toGlsl:function(n,r){za(r,1),NE(r[0]);var t=r[0].toString();return n.variables.indexOf(t)===-1&&n.variables.push(t),k5(t)}};var DE="u_paletteTextures";co.palette={getReturnType:function(n){return Rn.COLOR},toGlsl:function(n,r){za(r,2),PE(r[0]);var t=Dn(n,r[0]),e=r[1];if(!Array.isArray(e))throw new Error("The second argument of palette must be an array");for(var i=e.length,a=new Uint8Array(i*4),c=0;c<i;c++){var f=e[c],p=void 0;if(typeof f=="string")p=Vo(f);else{if(!Array.isArray(f))throw new Error("The second argument of palette must be an array of strings or colors");var g=f.length;if(g===4)p=f;else{if(g!==3)throw new Error("Expected palette color to have 3 or 4 values, got "+g);p=[f[0],f[1],f[2],1]}}var m=c*4;a[m]=p[0],a[m+1]=p[1],a[m+2]=p[2],a[m+3]=p[3]*255}n.paletteTextures||(n.paletteTextures=[]);var O=DE+"["+n.paletteTextures.length+"]",P=new nI(O,a);return n.paletteTextures.push(P),"texture2D("+O+", vec2(("+t+" + 0.5) / "+i+".0, 0.5))"}};var z5="getBandValue";co.band={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){bh(r,1),T2(r,3);var t=r[0];if(!(z5 in n.functions)){for(var e="",i=n.bandCount||1,a=0;a<i;a++){var c=Math.floor(a/4),f=a%4;f===i-1&&f===1&&(f=3);var p=ka.TILE_TEXTURE_ARRAY+"["+c+"]";e+=`
          if (band == `+(a+1)+`.0) {
            return texture2D(`+p+", v_textureCoord + vec2(dx, dy))["+f+`];
          }
        `}n.functions[z5]=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / `+ka.TEXTURE_PIXEL_WIDTH+`;
          float dy = yOffset / `+ka.TEXTURE_PIXEL_HEIGHT+`;
          `+e+`
        }
      `}var g=Dn(n,t),m=Dn(n,r[1]||0),O=Dn(n,r[2]||0);return z5+"("+g+", "+m+", "+O+")"}},co.time={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,0),"u_time"}},co.zoom={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,0),"u_zoom"}},co.resolution={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,0),"u_resolution"}},co["*"]={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" * "+Dn(n,r[1])+")"}},co["/"]={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" / "+Dn(n,r[1])+")"}},co["+"]={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" + "+Dn(n,r[1])+")"}},co["-"]={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" - "+Dn(n,r[1])+")"}},co.clamp={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){za(r,3),Bs(r);var t=Dn(n,r[1]),e=Dn(n,r[2]);return"clamp("+Dn(n,r[0])+", "+t+", "+e+")"}},co["%"]={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,2),Bs(r),"mod("+Dn(n,r[0])+", "+Dn(n,r[1])+")"}},co["^"]={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,2),Bs(r),"pow("+Dn(n,r[0])+", "+Dn(n,r[1])+")"}},co.abs={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,1),Bs(r),"abs("+Dn(n,r[0])+")"}},co.sin={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,1),Bs(r),"sin("+Dn(n,r[0])+")"}},co.cos={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return za(r,1),Bs(r),"cos("+Dn(n,r[0])+")"}},co.atan={getReturnType:function(n){return Rn.NUMBER},toGlsl:function(n,r){return bh(r,1),T2(r,2),Bs(r),r.length===2?"atan("+Dn(n,r[0])+", "+Dn(n,r[1])+")":"atan("+Dn(n,r[0])+")"}},co[">"]={getReturnType:function(n){return Rn.BOOLEAN},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" > "+Dn(n,r[1])+")"}},co[">="]={getReturnType:function(n){return Rn.BOOLEAN},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" >= "+Dn(n,r[1])+")"}},co["<"]={getReturnType:function(n){return Rn.BOOLEAN},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" < "+Dn(n,r[1])+")"}},co["<="]={getReturnType:function(n){return Rn.BOOLEAN},toGlsl:function(n,r){return za(r,2),Bs(r),"("+Dn(n,r[0])+" <= "+Dn(n,r[1])+")"}};function jE(n){return{getReturnType:function(r){return Rn.BOOLEAN},toGlsl:function(r,t){za(t,2);for(var e=Rn.ANY,i=0;i<t.length;i++)e&=m0(t[i]);if(e===Rn.NONE)throw new Error("All arguments should be of compatible type, got "+JSON.stringify(t)+" instead");return e&=~Rn.COLOR,"("+Dn(r,t[0],e)+" "+n+" "+Dn(r,t[1],e)+")"}}}co["=="]=jE("=="),co["!="]=jE("!="),co["!"]={getReturnType:function(n){return Rn.BOOLEAN},toGlsl:function(n,r){return za(r,1),B5(r[0]),"(!"+Dn(n,r[0])+")"}};function GE(n){return{getReturnType:function(r){return Rn.BOOLEAN},toGlsl:function(r,t){bh(t,2);for(var e=0;e<t.length;e++)B5(t[e]);var i="";return i=t.map(function(a){return Dn(r,a)}).join(" "+n+" "),i="("+i+")",i}}}co.all=GE("&&"),co.any=GE("||"),co.between={getReturnType:function(n){return Rn.BOOLEAN},toGlsl:function(n,r){za(r,3),Bs(r);var t=Dn(n,r[1]),e=Dn(n,r[2]),i=Dn(n,r[0]);return"("+i+" >= "+t+" && "+i+" <= "+e+")"}},co.array={getReturnType:function(n){return Rn.NUMBER_ARRAY},toGlsl:function(n,r){bh(r,2),T2(r,4),Bs(r);var t=r.map(function(e){return Dn(n,e,Rn.NUMBER)});return"vec"+r.length+"("+t.join(", ")+")"}},co.color={getReturnType:function(n){return Rn.COLOR},toGlsl:function(n,r){bh(r,3),T2(r,4),Bs(r);var t=r;r.length===3&&t.push(1);var e=r.map(function(i,a){return Dn(n,i,Rn.NUMBER)+(a<3?" / 255.0":"")});return"vec"+r.length+"("+e.join(", ")+")"}},co.interpolate={getReturnType:function(n){for(var r=Rn.COLOR|Rn.NUMBER,t=3;t<n.length;t+=2)r=r&m0(n[t]);return r},toGlsl:function(n,r,t){FE(r),bh(r,6);var e=r[0],i;switch(e[0]){case"linear":i=1;break;case"exponential":i=e[1];break;default:i=null}if(!i)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(e));var a=t!==void 0?t:Rn.ANY,c=co.interpolate.getReturnType(r)&a;U5(r,c);for(var f=Dn(n,r[1]),p=w2(i),g="",m=2;m<r.length-2;m+=2){var O=Dn(n,r[m]),P=g||Dn(n,r[m+1],c),V=Dn(n,r[m+2]),$=Dn(n,r[m+3],c);g="mix("+P+", "+$+", pow(clamp(("+f+" - "+O+") / ("+V+" - "+O+"), 0.0, 1.0), "+p+"))"}return g}},co.match={getReturnType:function(n){for(var r=Rn.ANY,t=2;t<n.length;t+=2)r=r&m0(n[t]);return r=r&m0(n[n.length-1]),r},toGlsl:function(n,r,t){FE(r),bh(r,4);var e=t!==void 0?t:Rn.ANY,i=co.match.getReturnType(r)&e;U5(r,i);for(var a=Dn(n,r[0]),c=Dn(n,r[r.length-1],i),f=null,p=r.length-3;p>=1;p-=2){var g=Dn(n,r[p]),m=Dn(n,r[p+1],i);f="("+a+" == "+g+" ? "+m+" : "+(f||c)+")"}return f}},co.case={getReturnType:function(n){for(var r=Rn.ANY,t=1;t<n.length;t+=2)r=r&m0(n[t]);return r=r&m0(n[n.length-1]),r},toGlsl:function(n,r,t){sI(r),bh(r,3);var e=t!==void 0?t:Rn.ANY,i=co.case.getReturnType(r)&e;U5(r,i);for(var a=0;a<r.length-1;a+=2)B5(r[a]);for(var c=Dn(n,r[r.length-1],i),f=null,a=r.length-3;a>=0;a-=2){var p=Dn(n,r[a]),g=Dn(n,r[a+1],i);f="("+p+" ? "+g+" : "+(f||c)+")"}return f}};var lI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function BE(n,r){var t=`
    attribute vec2 `+S2.TEXTURE_COORD+`;
    uniform mat4 `+ka.TILE_TRANSFORM+`;
    uniform float `+ka.DEPTH+`;

    varying vec2 v_textureCoord;

    void main() {
      v_textureCoord = `+S2.TEXTURE_COORD+`;
      gl_Position = `+ka.TILE_TRANSFORM+" * vec4("+S2.TEXTURE_COORD+", "+ka.DEPTH+`, 1.0);
    }
  `,e={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:r},i=[];if(n.color!==void 0){var a=Dn(e,n.color,Rn.COLOR);i.push("color = "+a+";")}if(n.contrast!==void 0){var c=Dn(e,n.contrast,Rn.NUMBER);i.push("color.rgb = clamp(("+c+" + 1.0) * color.rgb - ("+c+" / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.exposure!==void 0){var f=Dn(e,n.exposure,Rn.NUMBER);i.push("color.rgb = clamp(("+f+" + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.saturation!==void 0){var p=Dn(e,n.saturation,Rn.NUMBER);i.push(`
      float saturation = `+p+` + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(n.gamma!==void 0){var g=Dn(e,n.gamma,Rn.NUMBER);i.push("color.rgb = pow(color.rgb, vec3(1.0 / "+g+"));")}if(n.brightness!==void 0){var m=Dn(e,n.brightness,Rn.NUMBER);i.push("color.rgb = clamp(color.rgb + "+m+", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}var O={},P=e.variables.length;if(P>1&&!n.variables)throw new Error("Missing variables in style (expected "+e.variables+")");for(var V=function(Ht){var jt=e.variables[Ht];if(!(jt in n.variables))throw new Error("Missing '"+jt+"' in style variables");var ye=k5(jt);O[ye]=function(){var ve=n.variables[jt];return typeof ve=="string"&&(ve=x2(e,ve)),ve!==void 0?ve:-9999999}},$=0;$<P;++$)V($);var ot=Object.keys(O).map(function(Ht){return"uniform float "+Ht+";"}),yt=Math.ceil(r/4);ot.push("uniform sampler2D "+ka.TILE_TEXTURE_ARRAY+"["+yt+"];"),e.paletteTextures&&ot.push("uniform sampler2D "+DE+"["+e.paletteTextures.length+"];");var Lt=Object.keys(e.functions).map(function(Ht){return e.functions[Ht]}),zt=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    uniform float `+ka.TRANSITION_ALPHA+`;
    uniform float `+ka.TEXTURE_PIXEL_WIDTH+`;
    uniform float `+ka.TEXTURE_PIXEL_HEIGHT+`;
    uniform float `+ka.RESOLUTION+`;
    uniform float `+ka.ZOOM+`;

    `+ot.join(`
`)+`

    `+Lt.join(`
`)+`

    void main() {
      vec4 color = texture2D(`+ka.TILE_TEXTURE_ARRAY+`[0],  v_textureCoord);

      `+i.join(`
`)+`

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= `+ka.TRANSITION_ALPHA+`;
    }`;return{vertexShader:t,fragmentShader:zt,uniforms:O,paletteTextures:e.paletteTextures}}var UE=function(n){lI(r,n);function r(t){var e=this,i=t?Object(yn.a)({},t):{},a=i.style||{};delete i.style;var c=i.cacheSize;return delete i.cacheSize,e=n.call(this,i)||this,e.style_=a,e.cacheSize_=c,e.styleVariables_=e.style_.variables||{},e.addChangeListener(Vi.SOURCE,e.handleSourceUpdate_),e}return r.prototype.handleSourceUpdate_=function(){this.setStyle(this.style_)},r.prototype.getSourceBandCount_=function(){var t=this.getSource();return t&&"bandCount"in t?t.bandCount:4},r.prototype.createRenderer=function(){var t=BE(this.style_,this.getSourceBandCount_());return new eI(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,cacheSize:this.cacheSize_,paletteTextures:t.paletteTextures})},r.prototype.setStyle=function(t){this.style_=t;var e=BE(this.style_,this.getSourceBandCount_()),i=this.getRenderer();i.reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()},r.prototype.updateStyleVariables=function(t){Object(yn.a)(this.styleVariables_,t),this.changed()},r}(rE);UE.prototype.dispose;var uI=UE,cI={extends:op,name:"ol-webgl-tile-layer",setup:function(r){var t=Object(N.inject)("map"),e=Object(N.inject)("overviewMap",null),i=Ur(r),a=i.properties,c=Object(N.computed)(function(){return new uI(a)}),f=function(){e!=null?(e.value.getOverviewMap().addLayer(c.value),e.value.changed()):t.addLayer(c.value)},p=function(){e!=null?(e.value.getOverviewMap().removeLayer(c.value),e.value.changed()):t.removeLayer(c.value)};return e!=null&&Object(N.watch)(e,function(){p(),f()}),Object(N.onMounted)(function(){f()}),Object(N.onUnmounted)(function(){p()}),Object(N.provide)("tileLayer",c),{tileLayer:c}},props:{preload:{type:Number,default:1}}},V5=hr()(cI,[["render",lL]]);function hI(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var fI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dI=function(n){fI(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e}return r}(C),pI=dI,vI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gI=function(n){vI(r,n);function r(t){var e=n.call(this,t)||this;return e.image_=null,e}return r.prototype.getImage=function(){return this.image_?this.image_.getImage():null},r.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],i=t.pixelRatio,a=t.viewState,c=a.resolution,f=this.getLayer().getSource(),p=t.viewHints,g=t.extent;if(e.extent!==void 0&&(g=rn(g,Mt(e.extent,a.projection))),!p[Wi.ANIMATING]&&!p[Wi.INTERACTING]&&!ho(g))if(f){var m=a.projection,O=f.getImage(g,c,i,m);O&&this.loadImage(O)&&(this.image_=O)}else this.image_=null;return!!this.image_},r.prototype.renderFrame=function(t,e){var i=this.image_,a=i.getExtent(),c=i.getResolution(),f=i.getPixelRatio(),p=t.layerStatesArray[t.layerIndex],g=t.pixelRatio,m=t.viewState,O=m.center,P=m.resolution,V=t.size,$=g*c/(P*f),ot=Math.round(V[0]*g),yt=Math.round(V[1]*g),Lt=m.rotation;if(Lt){var zt=Math.round(Math.sqrt(ot*ot+yt*yt));ot=zt,yt=zt}Qe(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/g,1/g,Lt,-ot/2,-yt/2),Er(this.inversePixelTransform,this.pixelTransform);var Ht=Br(this.pixelTransform);this.useContainer(e,Ht,p.opacity,this.getBackground(t));var jt=this.context,ye=jt.canvas;ye.width!=ot||ye.height!=yt?(ye.width=ot,ye.height=yt):this.containerReused||jt.clearRect(0,0,ot,yt);var ve=!1,Oe=!0;if(p.extent){var we=Mt(p.extent,m.projection);Oe=Ei(we,t.extent),ve=Oe&&!Pe(we,t.extent),ve&&this.clipUnrotated(jt,t,we)}var je=i.getImage(),Tr=Qe(this.tempTransform,ot/2,yt/2,$,$,0,f*(a[0]-O[0])/c,f*(O[1]-a[3])/c);this.renderedResolution=c*g/f;var vr=je.width*Tr[0],qe=je.height*Tr[3];if(this.getLayer().getSource().getInterpolate()||Object(yn.a)(jt,X1),this.preRender(jt,t),Oe&&vr>=.5&&qe>=.5){var Dr=Tr[4],Sn=Tr[5],Tn=p.opacity,Ln=void 0;Tn!==1&&(Ln=jt.globalAlpha,jt.globalAlpha=Tn),jt.drawImage(je,0,0,+je.width,+je.height,Math.round(Dr),Math.round(Sn),Math.round(vr),Math.round(qe)),Tn!==1&&(jt.globalAlpha=Ln)}return this.postRender(jt,t),ve&&jt.restore(),Object(yn.a)(jt,oE),Ht!==ye.style.transform&&(ye.style.transform=Ht),this.container},r}(M5),yI=gI,mI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_I=function(n){mI(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new yI(this)},r}(pI),kE=_I,EI={extends:op,name:"ol-image-layer",setup:function(r){var t=Object(N.inject)("map"),e=Ur(r),i=e.properties,a=new kE(i);return Object(N.watch)(i,function(){a.setProperties(i)}),Object(N.onMounted)(function(){t.addLayer(a)}),Object(N.onUnmounted)(function(){t.removeLayer(a)}),Object(N.provide)("imageLayer",a),{imageLayer:a}}},W5=hr()(EI,[["render",hI]]);function SI(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var wI=s("25a5"),zE=s.n(wI),xI=function(){function n(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=pa(r.scale),this.displacement_=r.displacement}return n.prototype.clone=function(){var r=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Object(St.b)()},n.prototype.getImage=function(r){return Object(St.b)()},n.prototype.getHitDetectionImage=function(){return Object(St.b)()},n.prototype.getPixelRatio=function(r){return 1},n.prototype.getImageState=function(){return Object(St.b)()},n.prototype.getImageSize=function(){return Object(St.b)()},n.prototype.getOrigin=function(){return Object(St.b)()},n.prototype.getSize=function(){return Object(St.b)()},n.prototype.setDisplacement=function(r){this.displacement_=r},n.prototype.setOpacity=function(r){this.opacity_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=pa(r)},n.prototype.listenImageChange=function(r){Object(St.b)()},n.prototype.load=function(){Object(St.b)()},n.prototype.unlistenImageChange=function(r){Object(St.b)()},n}(),VE=xI;function _0(n){return Array.isArray(n)?ss(n):n}var TI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OI=function(n){TI(r,n);function r(t){var e=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return e=n.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,e.canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=t.fill!==void 0?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=t.radius!==void 0?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=t.angle!==void 0?t.angle:0,e.stroke_=t.stroke!==void 0?t.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},r.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,a=Object(fr.a)(i.size*t,i.size*t);this.draw_(i,a,t),e=a.canvas,this.canvas_[t]=e}return e},r.prototype.getPixelRatio=function(t){return t},r.prototype.getImageSize=function(){return this.size_},r.prototype.getImageState=function(){return Di.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.calculateLineJoinSize_=function(t,e,i){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;var a=this.radius_,c=this.radius2_===void 0?a:this.radius2_;if(a<c){var f=a;a=c,c=f}var p=this.radius2_===void 0?this.points_:this.points_*2,g=2*Math.PI/p,m=c*Math.sin(g),O=Math.sqrt(c*c-m*m),P=a-O,V=Math.sqrt(m*m+P*P),$=V/m;if(t==="miter"&&$<=i)return $*e;var ot=e/2/$,yt=e/2*(P/V),Lt=Math.sqrt((a+ot)*(a+ot)+yt*yt),zt=Lt-a;if(this.radius2_===void 0||t==="bevel")return zt*2;var Ht=a*Math.sin(g),jt=Math.sqrt(a*a-Ht*Ht),ye=c-jt,ve=Math.sqrt(Ht*Ht+ye*ye),Oe=ve/Ht;if(Oe<=i){var we=Oe*e/2-c-a;return 2*Math.max(zt,we)}return zt*2},r.prototype.createRenderOptions=function(){var t=Ie,e=0,i=null,a=0,c,f=0;this.stroke_&&(c=this.stroke_.getColor(),c===null&&(c=rr),c=_0(c),f=this.stroke_.getWidth(),f===void 0&&(f=Zr),i=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Ie),e=this.stroke_.getMiterLimit(),e===void 0&&(e=ke));var p=this.calculateLineJoinSize_(t,f,e),g=Math.max(this.radius_,this.radius2_||0),m=Math.ceil(2*g+p);return{strokeStyle:c,strokeWidth:f,size:m,lineDash:i,lineDashOffset:a,lineJoin:t,miterLimit:e}},r.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},r.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var a=this.fill_.getColor();a===null&&(a=On),e.fillStyle=_0(a),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if(typeof e=="string"&&(e=ma(e)),e===null?i=1:Array.isArray(e)&&(i=e.length===4?e[3]:1),i===0){var a=Object(fr.a)(t.size,t.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(t,a)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},r.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var a=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(e*=2);for(var c=this.angle_-Math.PI/2,f=2*Math.PI/e,p=0;p<e;p++){var g=c+p*f,m=p%2===0?i:a;t.lineTo(m*Math.cos(g),m*Math.sin(g))}t.closePath()}},r.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=On,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r}(VE),O2=OI,AI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MI=function(n){AI(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this,e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.setRadius=function(t){this.radius_=t,this.render()},r}(O2),tv=MI,RI=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(r){this.color_=r},n}(),Js=RI,CI=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(r){this.color_=r},n.prototype.setLineCap=function(r){this.lineCap_=r},n.prototype.setLineDash=function(r){this.lineDash_=r},n.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},n.prototype.setLineJoin=function(r){this.lineJoin_=r},n.prototype.setMiterLimit=function(r){this.miterLimit_=r},n.prototype.setWidth=function(r){this.width_=r},n}(),Cs=CI,sp=function(){function n(r){var t=r||{};this.geometry_=null,this.geometryFunction_=WE,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var r=this.getGeometry();return r&&typeof r=="object"&&(r=r.clone()),new n({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(r){this.renderer_=r},n.prototype.setHitDetectionRenderer=function(r){this.hitDetectionRenderer_=r},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(r){this.fill_=r},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(r){this.image_=r},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(r){this.text_=r},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(r){typeof r=="function"?this.geometryFunction_=r:typeof r=="string"?this.geometryFunction_=function(t){return t.get(r)}:r?r!==void 0&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=WE,this.geometry_=r},n.prototype.setZIndex=function(r){this.zIndex_=r},n}();function bI(n){var r;if(typeof n=="function")r=n;else{var t;if(Array.isArray(n))t=n;else{le(typeof n.getZIndex=="function",41);var e=n;t=[e]}r=function(){return t}}return r}var Y5=null;function LI(n,r){if(!Y5){var t=new Js({color:"rgba(255,255,255,0.4)"}),e=new Cs({color:"#3399CC",width:1.25});Y5=[new sp({image:new tv({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Y5}function H5(){var n={},r=[255,255,255,1],t=[0,153,255,1],e=3;return n[Se.POLYGON]=[new sp({fill:new Js({color:[255,255,255,.5]})})],n[Se.MULTI_POLYGON]=n[Se.POLYGON],n[Se.LINE_STRING]=[new sp({stroke:new Cs({color:r,width:e+2})}),new sp({stroke:new Cs({color:t,width:e})})],n[Se.MULTI_LINE_STRING]=n[Se.LINE_STRING],n[Se.CIRCLE]=n[Se.POLYGON].concat(n[Se.LINE_STRING]),n[Se.POINT]=[new sp({image:new tv({radius:e*2,fill:new Js({color:t}),stroke:new Cs({color:r,width:e/2})}),zIndex:1/0})],n[Se.MULTI_POINT]=n[Se.POINT],n[Se.GEOMETRY_COLLECTION]=n[Se.POLYGON].concat(n[Se.LINE_STRING],n[Se.POINT]),n}function WE(n){return n.getGeometry()}var Qs=sp,II=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YE={RENDER_ORDER:"renderOrder"},PI=function(n){II(r,n);function r(t){var e=this,i=t||{},a=Object(yn.a)({},i);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,e=n.call(this,a)||this,e.declutter_=i.declutter!==void 0?i.declutter:!1,e.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(i.style),e.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,e.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,e}return r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get(YE.RENDER_ORDER)},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new zE.a(9)),this.getRenderer().renderDeclutter(t)},r.prototype.setRenderOrder=function(t){this.set(YE.RENDER_ORDER,t)},r.prototype.setStyle=function(t){this.style_=t!==void 0?t:LI,this.styleFunction_=t===null?void 0:bI(this.style_),this.changed()},r}(C),A2=PI,ev={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},M2=[ev.FILL],Lh=[ev.STROKE],Yf=[ev.BEGIN_PATH],HE=[ev.CLOSE_PATH],Ti=ev,NI=function(){function n(){}return n.prototype.drawCustom=function(r,t,e,i){},n.prototype.drawGeometry=function(r){},n.prototype.setStyle=function(r){},n.prototype.drawCircle=function(r,t){},n.prototype.drawFeature=function(r,t){},n.prototype.drawGeometryCollection=function(r,t){},n.prototype.drawLineString=function(r,t){},n.prototype.drawMultiLineString=function(r,t){},n.prototype.drawMultiPoint=function(r,t){},n.prototype.drawMultiPolygon=function(r,t){},n.prototype.drawPoint=function(r,t){},n.prototype.drawPolygon=function(r,t){},n.prototype.drawText=function(r,t){},n.prototype.setFillStrokeStyle=function(r,t){},n.prototype.setImageStyle=function(r,t){},n.prototype.setTextStyle=function(r,t){},n}(),XE=NI,FI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DI=function(n){FI(r,n);function r(t,e,i,a){var c=n.call(this)||this;return c.tolerance=t,c.maxExtent=e,c.pixelRatio=a,c.maxLineWidth=0,c.resolution=i,c.beginGeometryInstruction1_=null,c.beginGeometryInstruction2_=null,c.bufferedMaxExtent_=null,c.instructions=[],c.coordinates=[],c.tmpCoordinate_=[],c.hitDetectionInstructions=[],c.state={},c}return r.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(i){return i*e})},r.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,c=this.coordinates,f=c.length,p=0,g=t.length;p<g;p+=e)a[0]=t[p],a[1]=t[p+1],fe(i,a)&&(c[f++]=a[0],c[f++]=a[1]);return f},r.prototype.appendFlatLineCoordinates=function(t,e,i,a,c,f){var p=this.coordinates,g=p.length,m=this.getBufferedMaxExtent();f&&(e+=a);var O=t[e],P=t[e+1],V=this.tmpCoordinate_,$=!0,ot,yt,Lt;for(ot=e+a;ot<i;ot+=a)V[0]=t[ot],V[1]=t[ot+1],Lt=ue(m,V),Lt!==yt?($&&(p[g++]=O,p[g++]=P,$=!1),p[g++]=V[0],p[g++]=V[1]):Lt===Qt.INTERSECTING?(p[g++]=V[0],p[g++]=V[1],$=!1):$=!0,O=V[0],P=V[1],yt=Lt;return(c&&$||ot===e+a)&&(p[g++]=O,p[g++]=P),g},r.prototype.drawCustomCoordinates_=function(t,e,i,a,c){for(var f=0,p=i.length;f<p;++f){var g=i[f],m=this.appendFlatLineCoordinates(t,e,g,a,!1,!1);c.push(m),e=g}return e},r.prototype.drawCustom=function(t,e,i,a){this.beginGeometry(t,e);var c=t.getType(),f=t.getStride(),p=this.coordinates.length,g,m,O,P,V;switch(c){case Se.MULTI_POLYGON:g=t.getOrientedFlatCoordinates(),P=[];var $=t.getEndss();V=0;for(var ot=0,yt=$.length;ot<yt;++ot){var Lt=[];V=this.drawCustomCoordinates_(g,V,$[ot],f,Lt),P.push(Lt)}this.instructions.push([Ti.CUSTOM,p,P,t,i,wa]),this.hitDetectionInstructions.push([Ti.CUSTOM,p,P,t,a||i,wa]);break;case Se.POLYGON:case Se.MULTI_LINE_STRING:O=[],g=c==Se.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),V=this.drawCustomCoordinates_(g,0,t.getEnds(),f,O),this.instructions.push([Ti.CUSTOM,p,O,t,i,Ao]),this.hitDetectionInstructions.push([Ti.CUSTOM,p,O,t,a||i,Ao]);break;case Se.LINE_STRING:case Se.CIRCLE:g=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(g,0,g.length,f,!1,!1),this.instructions.push([Ti.CUSTOM,p,m,t,i,Gi]),this.hitDetectionInstructions.push([Ti.CUSTOM,p,m,t,a||i,Gi]);break;case Se.MULTI_POINT:g=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(g,f),m>p&&(this.instructions.push([Ti.CUSTOM,p,m,t,i,Gi]),this.hitDetectionInstructions.push([Ti.CUSTOM,p,m,t,a||i,Gi]));break;case Se.POINT:g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),m=this.coordinates.length,this.instructions.push([Ti.CUSTOM,p,m,t,i]),this.hitDetectionInstructions.push([Ti.CUSTOM,p,m,t,a||i]);break}this.endGeometry(e)},r.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ti.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ti.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,i=t.length,a,c,f=-1;for(e=0;e<i;++e)a=t[e],c=a[0],c==Ti.END_GEOMETRY?f=e:c==Ti.BEGIN_GEOMETRY&&(a[2]=e,Object(et.j)(this.hitDetectionInstructions,f,e),f=-1)},r.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var a=t.getColor();i.fillStyle=_0(a||On)}else i.fillStyle=void 0;if(e){var c=e.getColor();i.strokeStyle=_0(c||rr);var f=e.getLineCap();i.lineCap=f!==void 0?f:Ft;var p=e.getLineDash();i.lineDash=p?p.slice():se;var g=e.getLineDashOffset();i.lineDashOffset=g||me;var m=e.getLineJoin();i.lineJoin=m!==void 0?m:Ie;var O=e.getWidth();i.lineWidth=O!==void 0?O:Zr;var P=e.getMiterLimit();i.miterLimit=P!==void 0?P:ke,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(t){var e=t.fillStyle,i=[Ti.SET_FILL_STYLE,e];return typeof e!="string"&&i.push(!0),i},r.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},r.prototype.createStroke=function(t){return[Ti.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,a=t.lineCap,c=t.lineDash,f=t.lineDashOffset,p=t.lineJoin,g=t.lineWidth,m=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=a||c!=t.currentLineDash&&!Object(et.b)(t.currentLineDash,c)||t.currentLineDashOffset!=f||t.currentLineJoin!=p||t.currentLineWidth!=g||t.currentMiterLimit!=m)&&(i!==void 0&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=a,t.currentLineDash=c,t.currentLineDashOffset=f,t.currentLineJoin=p,t.currentLineWidth=g,t.currentMiterLimit=m)},r.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ti.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},r.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=te(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ct(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},r}(XE),rv=DI,jI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GI=function(n){jI(r,n);function r(t,e,i,a){var c=n.call(this,t,e,i,a)||this;return c.hitDetectionImage_=null,c.image_=null,c.imagePixelRatio_=void 0,c.anchorX_=void 0,c.anchorY_=void 0,c.height_=void 0,c.opacity_=void 0,c.originX_=void 0,c.originY_=void 0,c.rotateWithView_=void 0,c.rotation_=void 0,c.scale_=void 0,c.width_=void 0,c.declutterImageWithText_=void 0,c}return r.prototype.drawPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),a=t.getStride(),c=this.coordinates.length,f=this.appendFlatPointCoordinates(i,a);this.instructions.push([Ti.DRAW_IMAGE,c,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ti.DRAW_IMAGE,c,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.drawMultiPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),a=t.getStride(),c=this.coordinates.length,f=this.appendFlatPointCoordinates(i,a);this.instructions.push([Ti.DRAW_IMAGE,c,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ti.DRAW_IMAGE,c,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},r.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),a=t.getSize(),c=t.getHitDetectionImage(),f=t.getImage(this.pixelRatio),p=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=c,this.image_=f,this.height_=a[1],this.opacity_=t.getOpacity(),this.originX_=p[0]*this.imagePixelRatio_,this.originY_=p[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=e},r}(rv),BI=GI,UI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kI=function(n){UI(r,n);function r(t,e,i,a){return n.call(this,t,e,i,a)||this}return r.prototype.drawFlatCoordinates_=function(t,e,i,a){var c=this.coordinates.length,f=this.appendFlatLineCoordinates(t,e,i,a,!1,!1),p=[Ti.MOVE_TO_LINE_TO,c,f];return this.instructions.push(p),this.hitDetectionInstructions.push(p),i},r.prototype.drawLineString=function(t,e){var i=this.state,a=i.strokeStyle,c=i.lineWidth;if(!(a===void 0||c===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ti.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,se,me],Yf);var f=t.getFlatCoordinates(),p=t.getStride();this.drawFlatCoordinates_(f,0,f.length,p),this.hitDetectionInstructions.push(Lh),this.endGeometry(e)}},r.prototype.drawMultiLineString=function(t,e){var i=this.state,a=i.strokeStyle,c=i.lineWidth;if(!(a===void 0||c===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ti.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Yf);for(var f=t.getEnds(),p=t.getFlatCoordinates(),g=t.getStride(),m=0,O=0,P=f.length;O<P;++O)m=this.drawFlatCoordinates_(p,m,f[O],g);this.hitDetectionInstructions.push(Lh),this.endGeometry(e)}},r.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Lh),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},r.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Lh),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Yf)},r}(rv),zI=kI,VI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WI=function(n){VI(r,n);function r(t,e,i,a){return n.call(this,t,e,i,a)||this}return r.prototype.drawFlatCoordinatess_=function(t,e,i,a){var c=this.state,f=c.fillStyle!==void 0,p=c.strokeStyle!==void 0,g=i.length;this.instructions.push(Yf),this.hitDetectionInstructions.push(Yf);for(var m=0;m<g;++m){var O=i[m],P=this.coordinates.length,V=this.appendFlatLineCoordinates(t,e,O,a,!0,!p),$=[Ti.MOVE_TO_LINE_TO,P,V];this.instructions.push($),this.hitDetectionInstructions.push($),p&&(this.instructions.push(HE),this.hitDetectionInstructions.push(HE)),e=O}return f&&(this.instructions.push(M2),this.hitDetectionInstructions.push(M2)),p&&(this.instructions.push(Lh),this.hitDetectionInstructions.push(Lh)),e},r.prototype.drawCircle=function(t,e){var i=this.state,a=i.fillStyle,c=i.strokeStyle;if(!(a===void 0&&c===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ti.SET_FILL_STYLE,On]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ti.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var f=t.getFlatCoordinates(),p=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,p,!1,!1);var m=[Ti.CIRCLE,g];this.instructions.push(Yf,m),this.hitDetectionInstructions.push(Yf,m),i.fillStyle!==void 0&&(this.instructions.push(M2),this.hitDetectionInstructions.push(M2)),i.strokeStyle!==void 0&&(this.instructions.push(Lh),this.hitDetectionInstructions.push(Lh)),this.endGeometry(e)}},r.prototype.drawPolygon=function(t,e){var i=this.state,a=i.fillStyle,c=i.strokeStyle;if(!(a===void 0&&c===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ti.SET_FILL_STYLE,On]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ti.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var f=t.getEnds(),p=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(p,0,f,g),this.endGeometry(e)}},r.prototype.drawMultiPolygon=function(t,e){var i=this.state,a=i.fillStyle,c=i.strokeStyle;if(!(a===void 0&&c===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ti.SET_FILL_STYLE,On]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ti.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var f=t.getEndss(),p=t.getOrientedFlatCoordinates(),g=t.getStride(),m=0,O=0,P=f.length;O<P;++O)m=this.drawFlatCoordinatess_(p,m,f[O],g);this.endGeometry(e)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var e=this.coordinates,i=0,a=e.length;i<a;++i)e[i]=dn(e[i],t);return n.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;e!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},r}(rv),KE=WI,$E={POINT:"point",LINE:"line"};function YI(n,r,t,e,i){var a=t,c=t,f=0,p=0,g=t,m,O,P,V,$,ot,yt,Lt,zt,Ht;for(O=t;O<e;O+=i){var jt=r[O],ye=r[O+1];$!==void 0&&(zt=jt-$,Ht=ye-ot,V=Math.sqrt(zt*zt+Ht*Ht),yt!==void 0&&(p+=P,m=Math.acos((yt*zt+Lt*Ht)/(P*V)),m>n&&(p>f&&(f=p,a=g,c=O),p=0,g=O-i)),P=V,yt=zt,Lt=Ht),$=jt,ot=ye}return p+=V,p>f?[g,O]:[a,c]}var HI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),R2={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},XI=function(n){HI(r,n);function r(t,e,i,a){var c=n.call(this,t,e,i,a)||this;return c.labels_=null,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=void 0,c.textRotation_=0,c.textFillState_=null,c.fillStates={},c.textStrokeState_=null,c.strokeStates={},c.textState_={},c.textStates={},c.textKey_="",c.fillKey_="",c.strokeKey_="",c.declutterImageWithText_=void 0,c}return r.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},r.prototype.drawText=function(t,e){var i=this.textFillState_,a=this.textStrokeState_,c=this.textState_;if(!(this.text_===""||!c||!i&&!a)){var f=this.coordinates,p=f.length,g=t.getType(),m=null,O=t.getStride();if(c.placement===$E.LINE&&(g==Se.LINE_STRING||g==Se.MULTI_LINE_STRING||g==Se.POLYGON||g==Se.MULTI_POLYGON)){if(!Ei(this.getBufferedMaxExtent(),t.getExtent()))return;var P=void 0;if(m=t.getFlatCoordinates(),g==Se.LINE_STRING)P=[m.length];else if(g==Se.MULTI_LINE_STRING)P=t.getEnds();else if(g==Se.POLYGON)P=t.getEnds().slice(0,1);else if(g==Se.MULTI_POLYGON){var V=t.getEndss();P=[];for(var $=0,ot=V.length;$<ot;++$)P.push(V[$][0])}this.beginGeometry(t,e);for(var yt=c.textAlign,Lt=0,zt=void 0,Ht=0,jt=P.length;Ht<jt;++Ht){if(yt==null){var ye=YI(c.maxAngle,m,Lt,P[Ht],O);Lt=ye[0],zt=ye[1]}else zt=P[Ht];for(var $=Lt;$<zt;$+=O)f.push(m[$],m[$+1]);var ve=f.length;Lt=P[Ht],this.drawChars_(p,ve),p=ve}this.endGeometry(e)}else{var Oe=c.overflow?null:[];switch(g){case Se.POINT:case Se.MULTI_POINT:m=t.getFlatCoordinates();break;case Se.LINE_STRING:m=t.getFlatMidpoint();break;case Se.CIRCLE:m=t.getCenter();break;case Se.MULTI_LINE_STRING:m=t.getFlatMidpoints(),O=2;break;case Se.POLYGON:m=t.getFlatInteriorPoint(),c.overflow||Oe.push(m[2]/this.resolution),O=3;break;case Se.MULTI_POLYGON:var we=t.getFlatInteriorPoints();m=[];for(var $=0,ot=we.length;$<ot;$+=3)c.overflow||Oe.push(we[$+2]/this.resolution),m.push(we[$],we[$+1]);if(m.length===0)return;O=2;break}var ve=this.appendFlatPointCoordinates(m,O);if(ve===p)return;if(Oe&&(ve-p)/2!==m.length/O){var je=p/2;Oe=Oe.filter(function(yi,mi){var Ii=f[(je+mi)*2]===m[mi*O]&&f[(je+mi)*2+1]===m[mi*O+1];return Ii||--je,Ii})}this.saveTextStates_(),(c.backgroundFill||c.backgroundStroke)&&(this.setFillStrokeStyle(c.backgroundFill,c.backgroundStroke),c.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),c.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var Tr=c.padding;if(Tr!=tn&&(c.scale[0]<0||c.scale[1]<0)){var vr=c.padding[0],qe=c.padding[1],Dr=c.padding[2],Sn=c.padding[3];c.scale[0]<0&&(qe=-qe,Sn=-Sn),c.scale[1]<0&&(vr=-vr,Dr=-Dr),Tr=[vr,qe,Dr,Sn]}var Tn=this.pixelRatio;this.instructions.push([Ti.DRAW_IMAGE,p,ve,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,Tr==tn?tn:Tr.map(function(yi){return yi*Tn}),!!c.backgroundFill,!!c.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Oe]);var Ln=1/Tn;this.hitDetectionInstructions.push([Ti.DRAW_IMAGE,p,ve,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Ln,Ln],NaN,this.declutterImageWithText_,Tr,!!c.backgroundFill,!!c.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Oe]),this.endGeometry(e)}}},r.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,a=this.strokeKey_;t&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var c=this.textKey_;c in this.textStates||(this.textStates[c]={font:e.font,textAlign:e.textAlign||lr,textBaseline:e.textBaseline||ar,scale:e.scale});var f=this.fillKey_;i&&(f in this.fillStates||(this.fillStates[f]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,a=this.textState_,c=this.strokeKey_,f=this.textKey_,p=this.fillKey_;this.saveTextStates_();var g=this.pixelRatio,m=R2[a.textBaseline],O=this.textOffsetY_*g,P=this.text_,V=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([Ti.DRAW_CHARS,t,e,m,a.overflow,p,a.maxAngle,g,O,c,V*g,P,f,1]),this.hitDetectionInstructions.push([Ti.DRAW_CHARS,t,e,m,a.overflow,p,a.maxAngle,1,O,c,V,P,f,1/g])},r.prototype.setTextStyle=function(t,e){var i,a,c;if(!t)this.text_="";else{var f=t.getFill();f?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=_0(f.getColor()||On)):(a=null,this.textFillState_=a);var p=t.getStroke();if(!p)c=null,this.textStrokeState_=c;else{c=this.textStrokeState_,c||(c={},this.textStrokeState_=c);var g=p.getLineDash(),m=p.getLineDashOffset(),O=p.getWidth(),P=p.getMiterLimit();c.lineCap=p.getLineCap()||Ft,c.lineDash=g?g.slice():se,c.lineDashOffset=m===void 0?me:m,c.lineJoin=p.getLineJoin()||Ie,c.lineWidth=O===void 0?Zr:O,c.miterLimit=P===void 0?ke:P,c.strokeStyle=_0(p.getColor()||rr)}i=this.textState_;var V=t.getFont()||Or;fi(V);var $=t.getScaleArray();i.overflow=t.getOverflow(),i.font=V,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||ar,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||tn,i.scale=$===void 0?[1,1]:$;var ot=t.getOffsetX(),yt=t.getOffsetY(),Lt=t.getRotateWithView(),zt=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=ot===void 0?0:ot,this.textOffsetY_=yt===void 0?0:yt,this.textRotateWithView_=Lt===void 0?!1:Lt,this.textRotation_=zt===void 0?0:zt,this.strokeKey_=c?(typeof c.strokeStyle=="string"?c.strokeStyle:Object(St.c)(c.strokeStyle))+c.lineCap+c.lineDashOffset+"|"+c.lineWidth+c.lineJoin+c.miterLimit+"["+c.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=a?typeof a.fillStyle=="string"?a.fillStyle:"|"+Object(St.c)(a.fillStyle):""}this.declutterImageWithText_=e},r}(rv),KI=XI,$I={Circle:KE,Default:rv,Image:BI,LineString:zI,Polygon:KE,Text:KI},ZI=function(){function n(r,t,e,i){this.tolerance_=r,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=e,this.buildersByZIndex_={}}return n.prototype.finish=function(){var r={};for(var t in this.buildersByZIndex_){r[t]=r[t]||{};var e=this.buildersByZIndex_[t];for(var i in e){var a=e[i].finish();r[t][i]=a}}return r},n.prototype.getBuilder=function(r,t){var e=r!==void 0?r.toString():"0",i=this.buildersByZIndex_[e];i===void 0&&(i={},this.buildersByZIndex_[e]=i);var a=i[t];if(a===void 0){var c=$I[t];a=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=a}return a},n}(),C2=ZI,no={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function qI(n,r,t,e,i,a,c,f,p,g,m,O){var P=n[r],V=n[r+1],$=0,ot=0,yt=0,Lt=0;function zt(){$=P,ot=V,r+=e,P=n[r],V=n[r+1],Lt+=yt,yt=Math.sqrt((P-$)*(P-$)+(V-ot)*(V-ot))}do zt();while(r<t-e&&Lt+yt<a);for(var Ht=yt===0?0:(a-Lt)/yt,jt=sl($,P,Ht),ye=sl(ot,V,Ht),ve=r-e,Oe=Lt,we=a+f*p(g,i,m);r<t-e&&Lt+yt<we;)zt();Ht=yt===0?0:(we-Lt)/yt;var je=sl($,P,Ht),Tr=sl(ot,V,Ht),vr;if(O){var qe=[jt,ye,je,Tr];Qn(qe,0,4,2,O,qe,qe),vr=qe[0]>qe[2]}else vr=jt>je;var Dr=Math.PI,Sn=[],Tn=ve+e===r;r=ve,yt=0,Lt=Oe,P=n[r],V=n[r+1];var Ln;if(Tn){zt(),Ln=Math.atan2(V-ot,P-$),vr&&(Ln+=Ln>0?-Dr:Dr);var Gn=(je+jt)/2,yi=(Tr+ye)/2;return Sn[0]=[Gn,yi,(we-a)/2,Ln,i],Sn}for(var mi=0,Ii=i.length;mi<Ii;){zt();var Pi=Math.atan2(V-ot,P-$);if(vr&&(Pi+=Pi>0?-Dr:Dr),Ln!==void 0){var Vr=Pi-Ln;if(Vr+=Vr>Dr?-2*Dr:Vr<-Dr?2*Dr:0,Math.abs(Vr)>c)return null}Ln=Pi;for(var hs=mi,Ui=0;mi<Ii;++mi){var la=vr?Ii-mi-1:mi,ns=f*p(g,i[la],m);if(r+e<t&&Lt+yt<a+Ui+ns/2)break;Ui+=ns}if(mi!==hs){var _s=vr?i.substring(Ii-hs,Ii-mi):i.substring(hs,mi);Ht=yt===0?0:(a+Ui/2-Lt)/yt;var Gn=sl($,P,Ht),yi=sl(ot,V,Ht);Sn.push([Gn,yi,Ui/2,Pi,_s]),a+=Ui}}return Sn}function ZE(n,r,t,e){for(var i=n[r],a=n[r+1],c=0,f=r+e;f<t;f+=e){var p=n[f],g=n[f+1];c+=Math.sqrt((p-i)*(p-i)+(g-a)*(g-a)),i=p,a=g}return c}var lp=ft(),Ih=[],z0=[],V0=[],Ph=[];function qE(n){return n[3].declutterBox}var JI=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function JE(n,r){return(r==="start"||r==="end")&&!JI.test(n)&&(r=r==="start"?"left":"right"),R2[r]}var QI=function(){function n(r,t,e,i){this.overlaps=e,this.pixelRatio=t,this.resolution=r,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=gt(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(r,t,e,i){var a=r+t+e+i;if(this.labels_[a])return this.labels_[a];var c=i?this.strokeStates[i]:null,f=e?this.fillStates[e]:null,p=this.textStates[t],g=this.pixelRatio,m=[p.scale[0]*g,p.scale[1]*g],O=JE(r,p.textAlign||lr),P=i&&c.lineWidth?c.lineWidth:0,V=r.split(`
`),$=V.length,ot=[],yt=un(p.font,V,ot),Lt=Cn(p.font),zt=Lt*$,Ht=yt+P,jt=[],ye=(Ht+2)*m[0],ve=(zt+P)*m[1],Oe={width:ye<0?Math.floor(ye):Math.ceil(ye),height:ve<0?Math.floor(ve):Math.ceil(ve),contextInstructions:jt};if((m[0]!=1||m[1]!=1)&&jt.push("scale",m),jt.push("font",p.font),i){jt.push("strokeStyle",c.strokeStyle),jt.push("lineWidth",P),jt.push("lineCap",c.lineCap),jt.push("lineJoin",c.lineJoin),jt.push("miterLimit",c.miterLimit);var we=Xt.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;we.prototype.setLineDash&&(jt.push("setLineDash",[c.lineDash]),jt.push("lineDashOffset",c.lineDashOffset))}e&&jt.push("fillStyle",f.fillStyle),jt.push("textBaseline","middle"),jt.push("textAlign","center");var je=.5-O,Tr=O*Ht+je*P,vr;if(i)for(vr=0;vr<$;++vr)jt.push("strokeText",[V[vr],Tr+je*ot[vr],.5*(P+Lt)+vr*Lt]);if(e)for(vr=0;vr<$;++vr)jt.push("fillText",[V[vr],Tr+je*ot[vr],.5*(P+Lt)+vr*Lt]);return this.labels_[a]=Oe,Oe},n.prototype.replayTextBackground_=function(r,t,e,i,a,c,f){r.beginPath(),r.moveTo.apply(r,t),r.lineTo.apply(r,e),r.lineTo.apply(r,i),r.lineTo.apply(r,a),r.lineTo.apply(r,t),c&&(this.alignFill_=c[2],this.fill_(r)),f&&(this.setStrokeStyle_(r,f),r.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(r,t,e,i,a,c,f,p,g,m,O,P,V,$,ot,yt){f*=P[0],p*=P[1];var Lt=e-f,zt=i-p,Ht=a+g>r?r-g:a,jt=c+m>t?t-m:c,ye=$[3]+Ht*P[0]+$[1],ve=$[0]+jt*P[1]+$[2],Oe=Lt-$[3],we=zt-$[0];(ot||O!==0)&&(Ih[0]=Oe,Ph[0]=Oe,Ih[1]=we,z0[1]=we,z0[0]=Oe+ye,V0[0]=z0[0],V0[1]=we+ve,Ph[1]=V0[1]);var je;return O!==0?(je=Qe(gt(),e,i,1,1,O,-e,-i),Ke(je,Ih),Ke(je,z0),Ke(je,V0),Ke(je,Ph),j(Math.min(Ih[0],z0[0],V0[0],Ph[0]),Math.min(Ih[1],z0[1],V0[1],Ph[1]),Math.max(Ih[0],z0[0],V0[0],Ph[0]),Math.max(Ih[1],z0[1],V0[1],Ph[1]),lp)):j(Math.min(Oe,Oe+ye),Math.min(we,we+ve),Math.max(Oe,Oe+ye),Math.max(we,we+ve),lp),V&&(Lt=Math.round(Lt),zt=Math.round(zt)),{drawImageX:Lt,drawImageY:zt,drawImageW:Ht,drawImageH:jt,originX:g,originY:m,declutterBox:{minX:lp[0],minY:lp[1],maxX:lp[2],maxY:lp[3],value:yt},canvasTransform:je,scale:P}},n.prototype.replayImageOrLabel_=function(r,t,e,i,a,c,f){var p=!!(c||f),g=i.declutterBox,m=r.canvas,O=f?f[2]*i.scale[0]/2:0,P=g.minX-O<=m.width/t&&g.maxX+O>=0&&g.minY-O<=m.height/t&&g.maxY+O>=0;return P&&(p&&this.replayTextBackground_(r,Ih,z0,V0,Ph,c,f),Vn(r,i.canvasTransform,a,e,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(r){if(this.alignFill_){var t=Ke(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;r.save(),r.translate(t[0]%e,t[1]%e),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},n.prototype.setStrokeStyle_=function(r,t){r.strokeStyle=t[1],r.lineWidth=t[2],r.lineCap=t[3],r.lineJoin=t[4],r.miterLimit=t[5],r.setLineDash&&(r.lineDashOffset=t[7],r.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(r,t,e,i){var a=this.textStates[t],c=this.createLabel(r,t,i,e),f=this.strokeStates[e],p=this.pixelRatio,g=JE(r,a.textAlign||lr),m=R2[a.textBaseline||ar],O=f&&f.lineWidth?f.lineWidth:0,P=c.width/p-2*a.scale[0],V=g*P+2*(.5-g)*O,$=m*c.height/p+2*(.5-m)*O;return{label:c,anchorX:V,anchorY:$}},n.prototype.execute_=function(r,t,e,i,a,c,f,p){var g;this.pixelCoordinates_&&Object(et.b)(e,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=vn(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),ir(this.renderedTransform_,e));for(var m=0,O=i.length,P=0,V,$,ot,yt,Lt,zt,Ht,jt,ye,ve,Oe,we,je=0,Tr=0,vr=null,qe=null,Dr=this.coordinateCache_,Sn=this.viewRotation_,Tn=Math.round(Math.atan2(-e[1],e[0])*1e12)/1e12,Ln={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Sn},Gn=this.instructions!=i||this.overlaps?0:200,yi,mi,Ii,Pi;m<O;){var Vr=i[m],hs=Vr[0];switch(hs){case Ti.BEGIN_GEOMETRY:yi=Vr[1],Pi=Vr[3],yi.getGeometry()?f!==void 0&&!Ei(f,Pi.getExtent())?m=Vr[2]+1:++m:m=Vr[2];break;case Ti.BEGIN_PATH:je>Gn&&(this.fill_(r),je=0),Tr>Gn&&(r.stroke(),Tr=0),!je&&!Tr&&(r.beginPath(),yt=NaN,Lt=NaN),++m;break;case Ti.CIRCLE:P=Vr[1];var Ui=g[P],la=g[P+1],ns=g[P+2],_s=g[P+3],fs=ns-Ui,Ta=_s-la,di=Math.sqrt(fs*fs+Ta*Ta);r.moveTo(Ui+di,la),r.arc(Ui,la,di,0,2*Math.PI,!0),++m;break;case Ti.CLOSE_PATH:r.closePath(),++m;break;case Ti.CUSTOM:P=Vr[1],V=Vr[2];var ai=Vr[3],is=Vr[4],Zc=Vr.length==6?Vr[5]:void 0;Ln.geometry=ai,Ln.feature=yi,m in Dr||(Dr[m]=[]);var O0=Dr[m];Zc?Zc(g,P,V,2,O0):(O0[0]=g[P],O0[1]=g[P+1],O0.length=2),is(O0,Ln),++m;break;case Ti.DRAW_IMAGE:P=Vr[1],V=Vr[2],jt=Vr[3],$=Vr[4],ot=Vr[5];var Yh=Vr[6],od=Vr[7],ad=Vr[8],_v=Vr[9],q0=Vr[10],Ev=Vr[11],Ay=Vr[12],Rp=Vr[13],Hh=Vr[14];if(!jt&&Vr.length>=19){ye=Vr[18],ve=Vr[19],Oe=Vr[20],we=Vr[21];var Cp=this.drawLabelWithPointPlacement_(ye,ve,Oe,we);jt=Cp.label,Vr[3]=jt;var c4=Vr[22];$=(Cp.anchorX-c4)*this.pixelRatio,Vr[4]=$;var My=Vr[23];ot=(Cp.anchorY-My)*this.pixelRatio,Vr[5]=ot,Yh=jt.height,Vr[6]=Yh,Rp=jt.width,Vr[13]=Rp}var Sv=void 0;Vr.length>24&&(Sv=Vr[24]);var Xh=void 0,J0=void 0,sd=void 0;Vr.length>16?(Xh=Vr[15],J0=Vr[16],sd=Vr[17]):(Xh=tn,J0=!1,sd=!1),q0&&Tn?Ev+=Sn:!q0&&!Tn&&(Ev-=Sn);for(var bp=0;P<V;P+=2)if(!(Sv&&Sv[bp++]<Rp/this.pixelRatio)){var qc=this.calculateImageOrLabelDimensions_(jt.width,jt.height,g[P],g[P+1],Rp,Yh,$,ot,ad,_v,Ev,Ay,a,Xh,J0||sd,yi),Jc=[r,t,jt,qc,od,J0?vr:null,sd?qe:null],ld=void 0,Lp=void 0;if(p&&Hh){var Ry=V-P;if(!Hh[Ry]){Hh[Ry]=Jc;continue}if(ld=Hh[Ry],delete Hh[Ry],Lp=qE(ld),p.collides(Lp))continue}p&&p.collides(qc.declutterBox)||(ld&&(p&&p.insert(Lp),this.replayImageOrLabel_.apply(this,ld)),p&&p.insert(qc.declutterBox),this.replayImageOrLabel_.apply(this,Jc))}++m;break;case Ti.DRAW_CHARS:var MS=Vr[1],RS=Vr[2],h4=Vr[3],gH=Vr[4];we=Vr[5];var yH=Vr[6],CS=Vr[7],bS=Vr[8];Oe=Vr[9];var f4=Vr[10];ye=Vr[11],ve=Vr[12];var LS=[Vr[13],Vr[13]],d4=this.textStates[ve],wv=d4.font,xv=[d4.scale[0]*CS,d4.scale[1]*CS],Tv=void 0;wv in this.widths_?Tv=this.widths_[wv]:(Tv={},this.widths_[wv]=Tv);var IS=ZE(g,MS,RS,2),PS=Math.abs(xv[0])*cn(wv,ye,Tv);if(gH||PS<=IS){var mH=this.textStates[ve].textAlign,_H=(IS-PS)*R2[mH],Ov=qI(g,MS,RS,2,ye,_H,yH,Math.abs(xv[0]),cn,wv,Tv,Tn?0:this.viewRotation_);t:if(Ov){var Av=[],Kh=void 0,Cy=void 0,by=void 0,yu=void 0,xc=void 0;if(Oe)for(Kh=0,Cy=Ov.length;Kh<Cy;++Kh){xc=Ov[Kh],by=xc[4],yu=this.createLabel(by,ve,"",Oe),$=xc[2]+(xv[0]<0?-f4:f4),ot=h4*yu.height+(.5-h4)*2*f4*xv[1]/xv[0]-bS;var qc=this.calculateImageOrLabelDimensions_(yu.width,yu.height,xc[0],xc[1],yu.width,yu.height,$,ot,0,0,xc[3],LS,!1,tn,!1,yi);if(p&&p.collides(qc.declutterBox))break t;Av.push([r,t,yu,qc,1,null,null])}if(we)for(Kh=0,Cy=Ov.length;Kh<Cy;++Kh){xc=Ov[Kh],by=xc[4],yu=this.createLabel(by,ve,we,""),$=xc[2],ot=h4*yu.height-bS;var qc=this.calculateImageOrLabelDimensions_(yu.width,yu.height,xc[0],xc[1],yu.width,yu.height,$,ot,0,0,xc[3],LS,!1,tn,!1,yi);if(p&&p.collides(qc.declutterBox))break t;Av.push([r,t,yu,qc,1,null,null])}p&&p.load(Av.map(qE));for(var p4=0,EH=Av.length;p4<EH;++p4)this.replayImageOrLabel_.apply(this,Av[p4])}}++m;break;case Ti.END_GEOMETRY:if(c!==void 0){yi=Vr[1];var NS=c(yi,Pi);if(NS)return NS}++m;break;case Ti.FILL:Gn?je++:this.fill_(r),++m;break;case Ti.MOVE_TO_LINE_TO:for(P=Vr[1],V=Vr[2],mi=g[P],Ii=g[P+1],zt=mi+.5|0,Ht=Ii+.5|0,(zt!==yt||Ht!==Lt)&&(r.moveTo(mi,Ii),yt=zt,Lt=Ht),P+=2;P<V;P+=2)mi=g[P],Ii=g[P+1],zt=mi+.5|0,Ht=Ii+.5|0,(P==V-2||zt!==yt||Ht!==Lt)&&(r.lineTo(mi,Ii),yt=zt,Lt=Ht);++m;break;case Ti.SET_FILL_STYLE:vr=Vr,this.alignFill_=Vr[2],je&&(this.fill_(r),je=0,Tr&&(r.stroke(),Tr=0)),r.fillStyle=Vr[1],++m;break;case Ti.SET_STROKE_STYLE:qe=Vr,Tr&&(r.stroke(),Tr=0),this.setStrokeStyle_(r,Vr),++m;break;case Ti.STROKE:Gn?Tr++:r.stroke(),++m;break;default:++m;break}}je&&this.fill_(r),Tr&&r.stroke()},n.prototype.execute=function(r,t,e,i,a,c){this.viewRotation_=i,this.execute_(r,t,e,this.instructions,a,void 0,void 0,c)},n.prototype.executeHitDetection=function(r,t,e,i,a){return this.viewRotation_=e,this.execute_(r,1,t,this.hitDetectionInstructions,!0,i,a)},n}(),tP=QI,X5=[no.POLYGON,no.CIRCLE,no.LINE_STRING,no.IMAGE,no.TEXT,no.DEFAULT],eP=function(){function n(r,t,e,i,a,c){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=gt(),this.createExecutors_(a)}return n.prototype.clip=function(r,t){var e=this.getClipCoords(t);r.beginPath(),r.moveTo(e[0],e[1]),r.lineTo(e[2],e[3]),r.lineTo(e[4],e[5]),r.lineTo(e[6],e[7]),r.clip()},n.prototype.createExecutors_=function(r){for(var t in r){var e=this.executorsByZIndex_[t];e===void 0&&(e={},this.executorsByZIndex_[t]=e);var i=r[t];for(var a in i){var c=i[a];e[a]=new tP(this.resolution_,this.pixelRatio_,this.overlaps_,c)}}},n.prototype.hasExecutors=function(r){for(var t in this.executorsByZIndex_)for(var e=this.executorsByZIndex_[t],i=0,a=r.length;i<a;++i)if(r[i]in e)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(r,t,e,i,a,c){i=Math.round(i);var f=i*2+1,p=Qe(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-e,-r[0],-r[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=Object(fr.a)(f,f));var m=this.hitDetectionContext_;m.canvas.width!==f||m.canvas.height!==f?(m.canvas.width=f,m.canvas.height=f):g||m.clearRect(0,0,f,f);var O;this.renderBuffer_!==void 0&&(O=ft(),sn(O,r),Ct(O,t*(this.renderBuffer_+i),O));var P=rP(i),V;function $(ve,Oe){for(var we=m.getImageData(0,0,f,f).data,je=0,Tr=P.length;je<Tr;je++)if(we[P[je]]>0){if(!c||V!==no.IMAGE&&V!==no.TEXT||c.indexOf(ve)!==-1){var vr=(P[je]-3)/4,qe=i-vr%f,Dr=i-(vr/f|0),Sn=a(ve,Oe,qe*qe+Dr*Dr);if(Sn)return Sn}m.clearRect(0,0,f,f);break}}var ot=Object.keys(this.executorsByZIndex_).map(Number);ot.sort(et.i);var yt,Lt,zt,Ht,jt;for(yt=ot.length-1;yt>=0;--yt){var ye=ot[yt].toString();for(zt=this.executorsByZIndex_[ye],Lt=X5.length-1;Lt>=0;--Lt)if(V=X5[Lt],Ht=zt[V],Ht!==void 0&&(jt=Ht.executeHitDetection(m,p,e,$,O),jt))return jt}},n.prototype.getClipCoords=function(r){var t=this.maxExtent_;if(!t)return null;var e=t[0],i=t[1],a=t[2],c=t[3],f=[e,i,e,c,a,c,a,i];return vn(f,0,8,2,r,f),f},n.prototype.isEmpty=function(){return Object(yn.d)(this.executorsByZIndex_)},n.prototype.execute=function(r,t,e,i,a,c,f){var p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(et.i),this.maxExtent_&&(r.save(),this.clip(r,e));var g=c||X5,m,O,P,V,$,ot;for(f&&p.reverse(),m=0,O=p.length;m<O;++m){var yt=p[m].toString();for($=this.executorsByZIndex_[yt],P=0,V=g.length;P<V;++P){var Lt=g[P];ot=$[Lt],ot!==void 0&&ot.execute(r,t,e,i,a,f)}}this.maxExtent_&&r.restore()},n}(),K5={};function rP(n){if(K5[n]!==void 0)return K5[n];for(var r=n*2+1,t=n*n,e=new Array(t+1),i=0;i<=n;++i)for(var a=0;a<=n;++a){var c=i*i+a*a;if(c>t)break;var f=e[c];f||(f=[],e[c]=f),f.push(((n+i)*r+(n+a))*4+3),i>0&&f.push(((n-i)*r+(n+a))*4+3),a>0&&(f.push(((n+i)*r+(n-a))*4+3),i>0&&f.push(((n-i)*r+(n-a))*4+3))}for(var p=[],i=0,g=e.length;i<g;++i)e[i]&&p.push.apply(p,e[i]);return K5[n]=p,p}var b2=eP,nP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iP=function(n){nP(r,n);function r(t,e,i,a,c,f,p){var g=n.call(this)||this;return g.context_=t,g.pixelRatio_=e,g.extent_=i,g.transform_=a,g.viewRotation_=c,g.squaredTolerance_=f,g.userTransform_=p,g.contextFillState_=null,g.contextStrokeState_=null,g.contextTextState_=null,g.fillState_=null,g.strokeState_=null,g.image_=null,g.imageAnchorX_=0,g.imageAnchorY_=0,g.imageHeight_=0,g.imageOpacity_=0,g.imageOriginX_=0,g.imageOriginY_=0,g.imageRotateWithView_=!1,g.imageRotation_=0,g.imageScale_=[0,0],g.imageWidth_=0,g.text_="",g.textOffsetX_=0,g.textOffsetY_=0,g.textRotateWithView_=!1,g.textRotation_=0,g.textScale_=[0,0],g.textFillState_=null,g.textStrokeState_=null,g.textState_=null,g.pixelCoordinates_=[],g.tmpLocalTransform_=gt(),g}return r.prototype.drawImages_=function(t,e,i,a){if(!!this.image_){var c=vn(t,e,i,a,this.transform_,this.pixelCoordinates_),f=this.context_,p=this.tmpLocalTransform_,g=f.globalAlpha;this.imageOpacity_!=1&&(f.globalAlpha=g*this.imageOpacity_);var m=this.imageRotation_;this.imageRotateWithView_&&(m+=this.viewRotation_);for(var O=0,P=c.length;O<P;O+=2){var V=c[O]-this.imageAnchorX_,$=c[O+1]-this.imageAnchorY_;if(m!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var ot=V+this.imageAnchorX_,yt=$+this.imageAnchorY_;Qe(p,ot,yt,1,1,m,-ot,-yt),f.setTransform.apply(f,p),f.translate(ot,yt),f.scale(this.imageScale_[0],this.imageScale_[1]),f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),f.setTransform(1,0,0,1,0,0)}else f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,V,$,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(f.globalAlpha=g)}},r.prototype.drawText_=function(t,e,i,a){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var c=vn(t,e,i,a,this.transform_,this.pixelCoordinates_),f=this.context_,p=this.textRotation_;for(this.textRotateWithView_&&(p+=this.viewRotation_);e<i;e+=a){var g=c[e]+this.textOffsetX_,m=c[e+1]+this.textOffsetY_;if(p!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var O=Qe(this.tmpLocalTransform_,g,m,1,1,p,-g,-m);f.setTransform.apply(f,O),f.translate(g,m),f.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&f.strokeText(this.text_,0,0),this.textFillState_&&f.fillText(this.text_,0,0),f.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&f.strokeText(this.text_,g,m),this.textFillState_&&f.fillText(this.text_,g,m)}}},r.prototype.moveToLineTo_=function(t,e,i,a,c){var f=this.context_,p=vn(t,e,i,a,this.transform_,this.pixelCoordinates_);f.moveTo(p[0],p[1]);var g=p.length;c&&(g-=2);for(var m=2;m<g;m+=2)f.lineTo(p[m],p[m+1]);return c&&f.closePath(),i},r.prototype.drawRings_=function(t,e,i,a){for(var c=0,f=i.length;c<f;++c)e=this.moveToLineTo_(t,e,i[c],a,!0);return e},r.prototype.drawCircle=function(t){if(!!Ei(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Ia(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],a=e[3]-e[1],c=Math.sqrt(i*i+a*a),f=this.context_;f.beginPath(),f.arc(e[0],e[1],c,0,2*Math.PI),this.fillState_&&f.fill(),this.strokeState_&&f.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},r.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},r.prototype.setTransform=function(t){this.transform_=t},r.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case Se.POINT:this.drawPoint(t);break;case Se.LINE_STRING:this.drawLineString(t);break;case Se.POLYGON:this.drawPolygon(t);break;case Se.MULTI_POINT:this.drawMultiPoint(t);break;case Se.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Se.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Se.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Se.CIRCLE:this.drawCircle(t);break}},r.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);!i||!Ei(this.extent_,i.getExtent())||(this.setStyle(e),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,a=e.length;i<a;++i)this.drawGeometry(e[i])},r.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ei(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},r.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(!!Ei(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,a=t.getFlatCoordinates(),c=0,f=t.getEnds(),p=t.getStride();i.beginPath();for(var g=0,m=f.length;g<m;++g)c=this.moveToLineTo_(a,c,f[g],p,!1);i.stroke()}if(this.text_!==""){var O=t.getFlatMidpoints();this.drawText_(O,0,O.length,2)}}},r.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ei(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ei(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),a=0,c=t.getEndss(),f=t.getStride();e.beginPath();for(var p=0,g=c.length;p<g;++p){var m=c[p];a=this.drawRings_(i,a,m,f)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var O=t.getFlatInteriorPoints();this.drawText_(O,0,O.length,2)}}},r.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},r.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(et.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},r.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,a=t.textAlign?t.textAlign:lr;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=a&&(i.textAlign=a,e.textAlign=a),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=a,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:a,textBaseline:t.textBaseline})},r.prototype.setFillStrokeStyle=function(t,e){var i=this;if(!t)this.fillState_=null;else{var a=t.getColor();this.fillState_={fillStyle:_0(a||On)}}if(!e)this.strokeState_=null;else{var c=e.getColor(),f=e.getLineCap(),p=e.getLineDash(),g=e.getLineDashOffset(),m=e.getLineJoin(),O=e.getWidth(),P=e.getMiterLimit(),V=p||se;this.strokeState_={lineCap:f!==void 0?f:Ft,lineDash:this.pixelRatio_===1?V:V.map(function($){return $*i.pixelRatio_}),lineDashOffset:(g||me)*this.pixelRatio_,lineJoin:m!==void 0?m:Ie,lineWidth:(O!==void 0?O:Zr)*this.pixelRatio_,miterLimit:P!==void 0?P:ke,strokeStyle:_0(c||rr)}}},r.prototype.setImageStyle=function(t){var e;if(!t||!(e=t.getSize())){this.image_=null;return}var i=t.getAnchor(),a=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_},r.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var e=t.getFill();if(!e)this.textFillState_=null;else{var i=e.getColor();this.textFillState_={fillStyle:_0(i||On)}}var a=t.getStroke();if(!a)this.textStrokeState_=null;else{var c=a.getColor(),f=a.getLineCap(),p=a.getLineDash(),g=a.getLineDashOffset(),m=a.getLineJoin(),O=a.getWidth(),P=a.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:Ft,lineDash:p||se,lineDashOffset:g||me,lineJoin:m!==void 0?m:Ie,lineWidth:O!==void 0?O:Zr,miterLimit:P!==void 0?P:ke,strokeStyle:_0(c||rr)}}var V=t.getFont(),$=t.getOffsetX(),ot=t.getOffsetY(),yt=t.getRotateWithView(),Lt=t.getRotation(),zt=t.getScaleArray(),Ht=t.getText(),jt=t.getTextAlign(),ye=t.getTextBaseline();this.textState_={font:V!==void 0?V:Or,textAlign:jt!==void 0?jt:lr,textBaseline:ye!==void 0?ye:ar},this.text_=Ht!==void 0?Ht:"",this.textOffsetX_=$!==void 0?this.pixelRatio_*$:0,this.textOffsetY_=ot!==void 0?this.pixelRatio_*ot:0,this.textRotateWithView_=yt!==void 0?yt:!1,this.textRotation_=Lt!==void 0?Lt:0,this.textScale_=[this.pixelRatio_*zt[0],this.pixelRatio_*zt[1]]}},r}(XE),$5=iP,Bl={FRACTION:"fraction",PIXELS:"pixels"},bs={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},oP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nv=null,aP=function(n){oP(r,n);function r(t,e,i,a,c,f){var p=n.call(this)||this;return p.hitDetectionImage_=null,p.image_=t||new Image,a!==null&&(p.image_.crossOrigin=a),p.canvas_={},p.color_=f,p.unlisten_=null,p.imageState_=c,p.size_=i,p.src_=e,p.tainted_,p}return r.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===Di.LOADED){nv||(nv=Object(fr.a)(1,1)),nv.drawImage(this.image_,0,0);try{nv.getImageData(0,0,1,1),this.tainted_=!1}catch{nv=null,this.tainted_=!0}}return this.tainted_===!0},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(hn.a.CHANGE)},r.prototype.handleImageError_=function(){this.imageState_=Di.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=Di.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},r.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(fr.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(this.imageState_==Di.IDLE){this.imageState_=Di.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=L5(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==Di.LOADED)){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=xo(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var a=i.getImageData(0,0,e.width,e.height),c=a.data,f=this.color_[0]/255,p=this.color_[1]/255,g=this.color_[2]/255,m=this.color_[3],O=0,P=c.length;O<P;O+=4)c[O]*=f,c[O+1]*=p,c[O+2]*=g,c[O+3]*=m;i.putImageData(a,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(sr.a);function sP(n,r,t,e,i,a){var c=ea.get(r,e,a);return c||(c=new aP(n,r,t,e,i,a),ea.set(r,e,a,c)),c}var lP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uP=function(n){lP(r,n);function r(t){var e=this,i=t||{},a=i.opacity!==void 0?i.opacity:1,c=i.rotation!==void 0?i.rotation:0,f=i.scale!==void 0?i.scale:1,p=i.rotateWithView!==void 0?i.rotateWithView:!1;e=n.call(this,{opacity:a,rotation:c,scale:f,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:p})||this,e.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:bs.TOP_LEFT,e.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Bl.FRACTION,e.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Bl.FRACTION,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var g=i.img!==void 0?i.img:null,m=i.imgSize!==void 0?i.imgSize:null,O=i.src;le(!(O!==void 0&&g),4),le(!g||g&&m,5),(O===void 0||O.length===0)&&g&&(O=g.src||Object(St.c)(g)),le(O!==void 0&&O.length>0,6);var P=i.src!==void 0?Di.IDLE:Di.LOADED;return e.color_=i.color!==void 0?ma(i.color):null,e.iconImage_=sP(g,O,m,e.crossOrigin_,P,e.color_),e.offset_=i.offset!==void 0?i.offset:[0,0],e.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:bs.TOP_LEFT,e.origin_=null,e.size_=i.size!==void 0?i.size:null,e}return r.prototype.clone=function(){var t=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==Bl.FRACTION||this.anchorYUnits_==Bl.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Bl.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Bl.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=bs.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==bs.TOP_RIGHT||this.anchorOrigin_==bs.BOTTOM_RIGHT)&&(t[0]=-t[0]+e[0]),(this.anchorOrigin_==bs.BOTTOM_LEFT||this.anchorOrigin_==bs.BOTTOM_RIGHT)&&(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},r.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(t){return this.iconImage_.getImage(t)},r.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=bs.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),(this.offsetOrigin_==bs.TOP_RIGHT||this.offsetOrigin_==bs.BOTTOM_RIGHT)&&(t[0]=i[0]-e[0]-t[0]),(this.offsetOrigin_==bs.BOTTOM_LEFT||this.offsetOrigin_==bs.BOTTOM_RIGHT)&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(hn.a.CHANGE,t)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(hn.a.CHANGE,t)},r}(VE),L2=uP,Wu=.5;function QE(n,r,t,e,i,a,c){var f=n[0]*Wu,p=n[1]*Wu,g=Object(fr.a)(f,p);g.imageSmoothingEnabled=!1;for(var m=g.canvas,O=new $5(g,Wu,i,null,c),P=t.length,V=Math.floor((256*256*256-1)/P),$={},ot=1;ot<=P;++ot){var yt=t[ot-1],Lt=yt.getStyleFunction()||e;if(!!e){var zt=Lt(yt,a);if(!!zt){Array.isArray(zt)||(zt=[zt]);for(var Ht=ot*V,jt="#"+("000000"+Ht.toString(16)).slice(-6),ye=0,ve=zt.length;ye<ve;++ye){var Oe=zt[ye],we=Oe.getGeometryFunction()(yt);if(!(!we||!Ei(i,we.getExtent()))){var je=Oe.clone(),Tr=je.getFill();Tr&&Tr.setColor(jt);var vr=je.getStroke();vr&&(vr.setColor(jt),vr.setLineDash(null)),je.setText(void 0);var qe=Oe.getImage();if(qe&&qe.getOpacity()!==0){var Dr=qe.getImageSize();if(!Dr)continue;var Sn=Object(fr.a)(Dr[0],Dr[1],void 0,{alpha:!1}),Tn=Sn.canvas;Sn.fillStyle=jt,Sn.fillRect(0,0,Tn.width,Tn.height),je.setImage(new L2({img:Tn,imgSize:Dr,anchor:qe.getAnchor(),anchorXUnits:Bl.PIXELS,anchorYUnits:Bl.PIXELS,offset:qe.getOrigin(),opacity:1,size:qe.getSize(),scale:qe.getScale(),rotation:qe.getRotation(),rotateWithView:qe.getRotateWithView()}))}var Ln=je.getZIndex()||0,Gn=$[Ln];Gn||(Gn={},$[Ln]=Gn,Gn[Se.POLYGON]=[],Gn[Se.CIRCLE]=[],Gn[Se.LINE_STRING]=[],Gn[Se.POINT]=[]),Gn[we.getType().replace("Multi","")].push(we,je)}}}}}for(var yi=Object.keys($).map(Number).sort(et.i),ot=0,mi=yi.length;ot<mi;++ot){var Gn=$[yi[ot]];for(var Ii in Gn)for(var Pi=Gn[Ii],ye=0,ve=Pi.length;ye<ve;ye+=2){O.setStyle(Pi[ye+1]);for(var Vr=0,hs=r.length;Vr<hs;++Vr)O.setTransform(r[Vr]),O.drawGeometry(Pi[ye])}}return g.getImageData(0,0,m.width,m.height)}function t7(n,r,t){var e=[];if(t){var i=Math.floor(Math.round(n[0])*Wu),a=Math.floor(Math.round(n[1])*Wu),c=(Si(i,0,t.width-1)+Si(a,0,t.height-1)*t.width)*4,f=t.data[c],p=t.data[c+1],g=t.data[c+2],m=g+256*(p+256*f),O=Math.floor((256*256*256-1)/r.length);m&&m%O===0&&e.push(r[m/O-1])}return e}var cP=.5,e7={Point:mP,LineString:vP,Polygon:EP,MultiPoint:_P,MultiLineString:gP,MultiPolygon:yP,GeometryCollection:pP,Circle:fP};function hP(n,r){return parseInt(Object(St.c)(n),10)-parseInt(Object(St.c)(r),10)}function r7(n,r){var t=Z5(n,r);return t*t}function Z5(n,r){return cP*n/r}function fP(n,r,t,e,i){var a=t.getFill(),c=t.getStroke();if(a||c){var f=n.getBuilder(t.getZIndex(),no.CIRCLE);f.setFillStrokeStyle(a,c),f.drawCircle(r,e)}var p=t.getText();if(p&&p.getText()){var g=(i||n).getBuilder(t.getZIndex(),no.TEXT);g.setTextStyle(p),g.drawText(r,e)}}function I2(n,r,t,e,i,a,c){var f=!1,p=t.getImage();if(p){var g=p.getImageState();g==Di.LOADED||g==Di.ERROR?p.unlistenImageChange(i):(g==Di.IDLE&&p.load(),g=p.getImageState(),p.listenImageChange(i),f=!0)}return dP(n,r,t,e,a,c),f}function dP(n,r,t,e,i,a){var c=t.getGeometryFunction()(r);if(!!c){var f=c.simplifyTransformed(e,i),p=t.getRenderer();if(p)n7(n,f,t,r);else{var g=e7[f.getType()];g(n,f,t,r,a)}}}function n7(n,r,t,e){if(r.getType()==Se.GEOMETRY_COLLECTION){for(var i=r.getGeometries(),a=0,c=i.length;a<c;++a)n7(n,i[a],t,e);return}var f=n.getBuilder(t.getZIndex(),no.DEFAULT);f.drawCustom(r,e,t.getRenderer(),t.getHitDetectionRenderer())}function pP(n,r,t,e,i){var a=r.getGeometriesArray(),c,f;for(c=0,f=a.length;c<f;++c){var p=e7[a[c].getType()];p(n,a[c],t,e,i)}}function vP(n,r,t,e,i){var a=t.getStroke();if(a){var c=n.getBuilder(t.getZIndex(),no.LINE_STRING);c.setFillStrokeStyle(null,a),c.drawLineString(r,e)}var f=t.getText();if(f&&f.getText()){var p=(i||n).getBuilder(t.getZIndex(),no.TEXT);p.setTextStyle(f),p.drawText(r,e)}}function gP(n,r,t,e,i){var a=t.getStroke();if(a){var c=n.getBuilder(t.getZIndex(),no.LINE_STRING);c.setFillStrokeStyle(null,a),c.drawMultiLineString(r,e)}var f=t.getText();if(f&&f.getText()){var p=(i||n).getBuilder(t.getZIndex(),no.TEXT);p.setTextStyle(f),p.drawText(r,e)}}function yP(n,r,t,e,i){var a=t.getFill(),c=t.getStroke();if(c||a){var f=n.getBuilder(t.getZIndex(),no.POLYGON);f.setFillStrokeStyle(a,c),f.drawMultiPolygon(r,e)}var p=t.getText();if(p&&p.getText()){var g=(i||n).getBuilder(t.getZIndex(),no.TEXT);g.setTextStyle(p),g.drawText(r,e)}}function mP(n,r,t,e,i){var a=t.getImage(),c=t.getText(),f;if(i&&(n=i,f=a&&c&&c.getText()?{}:void 0),a){if(a.getImageState()!=Di.LOADED)return;var p=n.getBuilder(t.getZIndex(),no.IMAGE);p.setImageStyle(a,f),p.drawPoint(r,e)}if(c&&c.getText()){var g=n.getBuilder(t.getZIndex(),no.TEXT);g.setTextStyle(c,f),g.drawText(r,e)}}function _P(n,r,t,e,i){var a=t.getImage(),c=t.getText(),f;if(i&&(n=i,f=a&&c&&c.getText()?{}:void 0),a){if(a.getImageState()!=Di.LOADED)return;var p=n.getBuilder(t.getZIndex(),no.IMAGE);p.setImageStyle(a,f),p.drawMultiPoint(r,e)}if(c&&c.getText()){var g=(i||n).getBuilder(t.getZIndex(),no.TEXT);g.setTextStyle(c,f),g.drawText(r,e)}}function EP(n,r,t,e,i){var a=t.getFill(),c=t.getStroke();if(a||c){var f=n.getBuilder(t.getZIndex(),no.POLYGON);f.setFillStrokeStyle(a,c),f.drawPolygon(r,e)}var p=t.getText();if(p&&p.getText()){var g=(i||n).getBuilder(t.getZIndex(),no.TEXT);g.setTextStyle(p),g.drawText(r,e)}}var SP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wP=function(n){SP(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=ft(),e.wrappedRenderedExtent_=ft(),e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}return r.prototype.renderWorlds=function(t,e,i){var a=e.extent,c=e.viewState,f=c.center,p=c.resolution,g=c.projection,m=c.rotation,O=g.getExtent(),P=this.getLayer().getSource(),V=e.pixelRatio,$=e.viewHints,ot=!($[Wi.ANIMATING]||$[Wi.INTERACTING]),yt=this.context,Lt=Math.round(e.size[0]*V),zt=Math.round(e.size[1]*V),Ht=P.getWrapX()&&g.canWrapX(),jt=Ht?nn(O):null,ye=Ht?Math.ceil((a[2]-O[2])/jt)+1:1,ve=Ht?Math.floor((a[0]-O[0])/jt):0;do{var Oe=this.getRenderTransform(f,p,m,V,Lt,zt,ve*jt);t.execute(yt,1,Oe,m,ot,void 0,i)}while(++ve<ye)},r.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},r.prototype.renderFrame=function(t,e){var i=t.pixelRatio,a=t.layerStatesArray[t.layerIndex];Kr(this.pixelTransform,1/i,1/i),Er(this.inversePixelTransform,this.pixelTransform);var c=Br(this.pixelTransform);this.useContainer(e,c,a.opacity,this.getBackground(t));var f=this.context,p=f.canvas,g=this.replayGroup_,m=this.declutterExecutorGroup;if((!g||g.isEmpty())&&(!m||m.isEmpty()))return null;var O=Math.round(t.size[0]*i),P=Math.round(t.size[1]*i);p.width!=O||p.height!=P?(p.width=O,p.height=P,p.style.transform!==c&&(p.style.transform=c)):this.containerReused||f.clearRect(0,0,O,P),this.preRender(f,t);var V=t.viewState;V.projection;var $=!1,ot=!0;if(a.extent&&this.clipping){var yt=Mt(a.extent);ot=Ei(yt,t.extent),$=ot&&!Pe(yt,t.extent),$&&this.clipUnrotated(f,t,yt)}ot&&this.renderWorlds(g,t),$&&f.restore(),this.postRender(f,t);var Lt=Fr(a.opacity),zt=this.container;return Lt!==zt.style.opacity&&(zt.style.opacity=Lt),this.renderedRotation_!==V.rotation&&(this.renderedRotation_=V.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Ke(this.pixelTransform,i);var a=this.renderedCenter_,c=this.renderedResolution_,f=this.renderedRotation_,p=this.renderedProjection_,g=this.wrappedRenderedExtent_,m=this.getLayer(),O=[],P=i[0]*Wu,V=i[1]*Wu;O.push(this.getRenderTransform(a,c,f,Wu,P,V,0).slice());var $=m.getSource(),ot=p.getExtent();if($.getWrapX()&&p.canWrapX()&&!Pe(ot,g)){for(var yt=g[0],Lt=nn(ot),zt=0,Ht=void 0;yt<ot[0];)--zt,Ht=Lt*zt,O.push(this.getRenderTransform(a,c,f,Wu,P,V,Ht).slice()),yt+=Lt;for(zt=0,yt=g[2];yt>ot[2];)++zt,Ht=Lt*zt,O.push(this.getRenderTransform(a,c,f,Wu,P,V,Ht).slice()),yt-=Lt}this.hitDetectionImageData_=QE(i,O,this.renderedFeatures_,m.getStyleFunction(),g,c,f)}e(t7(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,a,c){var f=this;if(!!this.replayGroup_){var p=e.viewState.resolution,g=e.viewState.rotation,m=this.getLayer(),O={},P=function(ot,yt,Lt){var zt=Object(St.c)(ot),Ht=O[zt];if(Ht){if(Ht!==!0&&Lt<Ht.distanceSq){if(Lt===0)return O[zt]=!0,c.splice(c.lastIndexOf(Ht),1),a(ot,m,yt);Ht.geometry=yt,Ht.distanceSq=Lt}}else{if(Lt===0)return O[zt]=!0,a(ot,m,yt);c.push(O[zt]={feature:ot,layer:m,geometry:yt,distanceSq:Lt,callback:a})}},V,$=[this.replayGroup_];return this.declutterExecutorGroup&&$.push(this.declutterExecutorGroup),$.some(function(ot){return V=ot.forEachFeatureAtCoordinate(t,p,g,i,P,ot===f.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(function(yt){return yt.value}):null)}),V}},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var a=t.viewHints[Wi.ANIMATING],c=t.viewHints[Wi.INTERACTING],f=e.getUpdateWhileAnimating(),p=e.getUpdateWhileInteracting();if(!this.dirty_&&!f&&a||!p&&c)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=t.extent,m=t.viewState,O=m.projection,P=m.resolution,V=t.pixelRatio,$=e.getRevision(),ot=e.getRenderBuffer(),yt=e.getRenderOrder();yt===void 0&&(yt=hP);var Lt=m.center.slice(),zt=Ct(g,ot*P),Ht=zt.slice(),jt=[zt.slice()],ye=O.getExtent();if(i.getWrapX()&&O.canWrapX()&&!Pe(ye,t.extent)){var ve=nn(ye),Oe=Math.max(nn(zt)/2,ve);zt[0]=ye[0]-Oe,zt[2]=ye[2]+Oe,vt(Lt,O);var we=Io(jt[0],O);we[0]<ye[0]&&we[2]<ye[2]?jt.push([we[0]+ve,we[1],we[2]+ve,we[3]]):we[0]>ye[0]&&we[2]>ye[2]&&jt.push([we[0]-ve,we[1],we[2]-ve,we[3]])}if(!this.dirty_&&this.renderedResolution_==P&&this.renderedRevision_==$&&this.renderedRenderOrder_==yt&&Pe(this.wrappedRenderedExtent_,zt))return Object(et.b)(this.renderedExtent_,Ht)||(this.hitDetectionImageData_=null,this.renderedExtent_=Ht),this.renderedCenter_=Lt,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var je=new C2(Z5(P,V),zt,P,V),Tr;this.getLayer().getDeclutter()&&(Tr=new C2(Z5(P,V),zt,P,V));for(var vr,qe,Dr,qe=0,Dr=jt.length;qe<Dr;++qe)i.loadFeatures(jt[qe],P,O);var Sn=r7(P,V),Tn=function(Ii){var Pi,Vr=Ii.getStyleFunction()||e.getStyleFunction();if(Vr&&(Pi=Vr(Ii,P)),Pi){var hs=this.renderFeature(Ii,Sn,Pi,je,vr,Tr);this.dirty_=this.dirty_||hs}}.bind(this),Ln=mt(zt),Gn=i.getFeaturesInExtent(Ln);yt&&Gn.sort(yt);for(var qe=0,Dr=Gn.length;qe<Dr;++qe)Tn(Gn[qe]);this.renderedFeatures_=Gn;var yi=je.finish(),mi=new b2(zt,P,V,i.getOverlaps(),yi,e.getRenderBuffer());return Tr&&(this.declutterExecutorGroup=new b2(zt,P,V,i.getOverlaps(),Tr.finish(),e.getRenderBuffer())),this.renderedResolution_=P,this.renderedRevision_=$,this.renderedRenderOrder_=yt,this.renderedExtent_=Ht,this.wrappedRenderedExtent_=zt,this.renderedCenter_=Lt,this.renderedProjection_=O,this.replayGroup_=mi,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(t,e,i,a,c,f){if(!i)return!1;var p=!1;if(Array.isArray(i))for(var g=0,m=i.length;g<m;++g)p=I2(a,t,i[g],e,this.boundHandleStyleImageChange_,c,f)||p;else p=I2(a,t,i,e,this.boundHandleStyleImageChange_,c,f);return p},r}(M5),xP=wP,TP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OP=function(n){TP(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new xP(this)},r}(A2),E0=OP,AP={extends:op,name:"ol-vector-layer",setup:function(r){var t=Object(N.inject)("map"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new E0(i)});return Object(N.watch)(i,function(){a.value.setProperties(i)}),Object(N.onMounted)(function(){t.addLayer(a.value)}),Object(N.onUnmounted)(function(){t.removeLayer(a.value)}),Object(N.provide)("vectorLayer",a),Object(N.provide)("stylable",a),{vectorLayer:a}},props:{renderBuffer:{type:Number,default:100},updateWhileAnimating:{type:Boolean,default:!1},style:{type:Function},updateWhileInteracting:{type:Boolean,default:!1}}},q5=hr()(AP,[["render",SI]]);function MP(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var RP=function(){function n(r){this.rbush_=new zE.a(r),this.items_={}}return n.prototype.insert=function(r,t){var e={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:t};this.rbush_.insert(e),this.items_[Object(St.c)(t)]=e},n.prototype.load=function(r,t){for(var e=new Array(t.length),i=0,a=t.length;i<a;i++){var c=r[i],f=t[i],p={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:f};e[i]=p,this.items_[Object(St.c)(f)]=p}this.rbush_.load(e)},n.prototype.remove=function(r){var t=Object(St.c)(r),e=this.items_[t];return delete this.items_[t],this.rbush_.remove(e)!==null},n.prototype.update=function(r,t){var e=this.items_[Object(St.c)(t)],i=[e.minX,e.minY,e.maxX,e.maxY];Ar(i,r)||(this.remove(t),this.insert(r,t))},n.prototype.getAll=function(){var r=this.rbush_.all();return r.map(function(t){return t.value})},n.prototype.getInExtent=function(r){var t={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},e=this.rbush_.search(t);return e.map(function(i){return i.value})},n.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},n.prototype.forEachInExtent=function(r,t){return this.forEach_(this.getInExtent(r),t)},n.prototype.forEach_=function(r,t){for(var e,i=0,a=r.length;i<a;i++)if(e=t(r[i]),e)return e;return e},n.prototype.isEmpty=function(){return Object(yn.d)(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(r){var t=this.rbush_.toJSON();return j(t.minX,t.minY,t.maxX,t.maxY,r)},n.prototype.concat=function(r){this.rbush_.load(r.rbush_.all());for(var t in r.items_)this.items_[t]=r.items_[t]},n}(),P2=RP,CP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bP=function(n){CP(r,n);function r(t){var e=n.call(this)||this;e.projection=zn(t.projection),e.attributions_=i7(t.attributions),e.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,e.loading=!1,e.state_=t.state!==void 0?t.state:hi.READY,e.wrapX_=t.wrapX!==void 0?t.wrapX:!1,e.interpolate_=!!t.interpolate,e.viewResolver=null,e.viewRejector=null;var i=e;return e.viewPromise_=new Promise(function(a,c){i.viewResolver=a,i.viewRejector=c}),e}return r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection},r.prototype.getResolutions=function(){return Object(St.b)()},r.prototype.getView=function(){return this.viewPromise_},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getInterpolate=function(){return this.interpolate_},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(t){this.attributions_=i7(t),this.changed()},r.prototype.setState=function(t){this.state_=t,this.changed()},r}(_o.a);function i7(n){return n?Array.isArray(n)?function(r){return n}:typeof n=="function"?n:function(r){return[n]}:null}var N2=bP,Us={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function o7(n,r){return[[-1/0,-1/0,1/0,1/0]]}function LP(n,r){return[n]}function IP(n){return function(r,t,e){var i=n.getZForResolution(x(t)),a=n.getTileRangeForExtentAndZ(Mt(r),i),c=[],f=[i,0,0];for(f[1]=a.minX;f[1]<=a.maxX;++f[1])for(f[2]=a.minY;f[2]<=a.maxY;++f[2])c.push(mt(n.getTileCoordExtent(f)));return c}}var Hc={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},PP=!1;function NP(n,r,t,e,i,a,c){var f=new XMLHttpRequest;f.open("GET",typeof n=="function"?n(t,e,i):n,!0),r.getType()==Hc.ARRAY_BUFFER&&(f.responseType="arraybuffer"),f.withCredentials=PP,f.onload=function(p){if(!f.status||f.status>=200&&f.status<300){var g=r.getType(),m=void 0;g==Hc.JSON||g==Hc.TEXT?m=f.responseText:g==Hc.XML?(m=f.responseXML,m||(m=new DOMParser().parseFromString(f.responseText,"application/xml"))):g==Hc.ARRAY_BUFFER&&(m=f.response),m?a(r.readFeatures(m,{extent:t,featureProjection:i}),r.readProjection(m)):c()}else c()},f.onerror=c,f.send()}function a7(n,r){return function(t,e,i,a,c){var f=this;NP(n,r,t,e,i,function(p,g){f.addFeatures(p),a!==void 0&&a(p)},c||Bt.c)}}var s7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nh=function(n){s7(r,n);function r(t,e,i){var a=n.call(this,t)||this;return a.feature=e,a.features=i,a}return r}(cr.a),FP=function(n){s7(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:hi.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,e.on,e.once,e.un,e.loader_=Bt.c,e.format_=i.format,e.overlaps_=i.overlaps===void 0?!0:i.overlaps,e.url_=i.url,i.loader!==void 0?e.loader_=i.loader:e.url_!==void 0&&(le(e.format_,7),e.loader_=a7(e.url_,e.format_)),e.strategy_=i.strategy!==void 0?i.strategy:o7;var a=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;e.featuresRtree_=a?new P2:null,e.loadedExtentsRtree_=new P2,e.loadingExtentsCount_=0,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null;var c,f;return Array.isArray(i.features)?f=i.features:i.features&&(c=i.features,f=c.getArray()),!a&&c===void 0&&(c=new Bn(f)),f!==void 0&&e.addFeaturesInternal(f),c!==void 0&&e.bindFeaturesCollection_(c),e}return r.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},r.prototype.addFeatureInternal=function(t){var e=Object(St.c)(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Nh(Us.ADDFEATURE,t))},r.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object($r.a)(e,hn.a.CHANGE,this.handleFeatureChange_,this),Object($r.a)(e,Ye.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(t,e){var i=!0,a=e.getId();return a!==void 0&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=e),i&&(le(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},r.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},r.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],a=[],c=0,f=t.length;c<f;c++){var p=t[c],g=Object(St.c)(p);this.addToIndex_(g,p)&&i.push(p)}for(var c=0,m=i.length;c<m;c++){var p=i[c],g=Object(St.c)(p);this.setupChangeEvents_(g,p);var O=p.getGeometry();if(O){var P=O.getExtent();e.push(P),a.push(p)}else this.nullGeometryFeatures_[g]=p}this.featuresRtree_&&this.featuresRtree_.load(e,a);for(var c=0,V=i.length;c<V;c++)this.dispatchEvent(new Nh(Us.ADDFEATURE,i[c]))},r.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Us.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(Us.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(ni.ADD,function(i){e||(e=!0,this.addFeature(i.element),e=!1)}.bind(this)),t.addEventListener(ni.REMOVE,function(i){e||(e=!0,this.removeFeature(i.element),e=!1)}.bind(this)),this.featuresCollection_=t},r.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach($r.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var a=function(p){this.removeFeatureInternal(p)}.bind(this);this.featuresRtree_.forEach(a);for(var c in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[c])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var f=new Nh(Us.CLEAR);this.dispatchEvent(f),this.changed()},r.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},r.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(a){var c=a.getGeometry();if(c.intersectsCoordinate(t))return e(a)})},r.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){var a=i.getGeometry();if(a.intersectsExtent(t)){var c=e(i);if(c)return c}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(yn.d)(this.nullGeometryFeatures_)||Object(et.c)(t,Object(yn.c)(this.nullGeometryFeatures_))),t},r.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){e.push(i)}),e},r.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},r.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],a=t[1],c=null,f=[NaN,NaN],p=1/0,g=[-1/0,-1/0,1/0,1/0],m=e||Bt.b;return this.featuresRtree_.forEachInExtent(g,function(O){if(m(O)){var P=O.getGeometry(),V=p;if(p=P.closestPointXY(i,a,f,p),p<V){c=O;var $=Math.sqrt(p);g[0]=i-$,g[1]=a-$,g[2]=i+$,g[3]=a+$}}}),c},r.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},r.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return e!==void 0?e:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(St.c)(e),a=e.getGeometry();if(!a)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);else{var c=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(c,e)):this.featuresRtree_&&this.featuresRtree_.update(c,e)}var f=e.getId();if(f!==void 0){var p=f.toString();this.idIndex_[p]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[p]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new Nh(Us.CHANGEFEATURE,e))},r.prototype.hasFeature=function(t){var e=t.getId();return e!==void 0?e in this.idIndex_:Object(St.c)(t)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(yn.d)(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(t,e,i){for(var a=this.loadedExtentsRtree_,c=this.strategy_(t,e,i),f=function(O,P){var V=c[O],$=a.forEachInExtent(V,function(ot){return Pe(ot.extent,V)});$||(++p.loadingExtentsCount_,p.dispatchEvent(new Nh(Us.FEATURESLOADSTART)),p.loader_.call(p,V,e,i,function(ot){--this.loadingExtentsCount_,this.dispatchEvent(new Nh(Us.FEATURESLOADEND,void 0,ot))}.bind(p),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Nh(Us.FEATURESLOADERROR))}.bind(p)),a.insert(V,{extent:V.slice()}))},p=this,g=0,m=c.length;g<m;++g)f(g);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_,i;e.forEachInExtent(t,function(a){if(Ar(a.extent,t))return i=a,!0}),i&&e.remove(i)},r.prototype.removeFeature=function(t){if(!!t){var e=Object(St.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},r.prototype.removeFeatureInternal=function(t){var e=Object(St.c)(t),i=this.featureChangeKeys_[e];if(!!i){i.forEach($r.c),delete this.featureChangeKeys_[e];var a=t.getId();return a!==void 0&&delete this.idIndex_[a.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Nh(Us.REMOVEFEATURE,t)),t}},r.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},r.prototype.setLoader=function(t){this.loader_=t},r.prototype.setUrl=function(t){le(this.format_,7),this.url_=t,this.setLoader(a7(t,this.format_))},r}(N2),W0=FP,DP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jP=function(n){DP(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return e.resolution=void 0,e.distance=t.distance!==void 0?t.distance:20,e.minDistance=t.minDistance||0,e.interpolationRatio=0,e.features=[],e.geometryFunction=t.geometryFunction||function(i){var a=i.getGeometry();return le(a.getType()==Se.POINT,10),a},e.createCustomCluster_=t.createCluster,e.source=null,e.boundRefresh_=e.refresh.bind(e),e.updateDistance(e.distance,e.minDistance),e.setSource(t.source||null),e}return r.prototype.clear=function(t){this.features.length=0,n.prototype.clear.call(this,t)},r.prototype.getDistance=function(){return this.distance},r.prototype.getSource=function(){return this.source},r.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.resolution=e,this.refresh())},r.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},r.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},r.prototype.getMinDistance=function(){return this.minDistance},r.prototype.setSource=function(t){this.source&&this.source.removeEventListener(hn.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(hn.a.CHANGE,this.boundRefresh_),this.refresh()},r.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},r.prototype.updateDistance=function(t,e){var i=t===0?0:Math.min(e,t)/t,a=t!==this.distance||this.interpolationRatio!==i;this.distance=t,this.minDistance=e,this.interpolationRatio=i,a&&this.refresh()},r.prototype.cluster=function(){if(!(this.resolution===void 0||!this.source))for(var t=ft(),e=this.distance*this.resolution,i=this.source.getFeatures(),a={},c=0,f=i.length;c<f;c++){var p=i[c];if(!(Object(St.c)(p)in a)){var g=this.geometryFunction(p);if(g){var m=g.getCoordinates();st(m,t),Ct(t,e,t);var O=this.source.getFeaturesInExtent(t).filter(function(P){var V=Object(St.c)(P);return V in a?!1:(a[V]=!0,!0)});this.features.push(this.createCluster(O,t))}}}},r.prototype.createCluster=function(t,e){for(var i=[0,0],a=t.length-1;a>=0;--a){var c=this.geometryFunction(t[a]);c?Z(i,c.getCoordinates()):t.splice(a,1)}wt(i,1/t.length);var f=kn(e),p=this.interpolationRatio,g=new Fi([i[0]*(1-p)+f[0]*p,i[1]*(1-p)+f[1]*p]);return this.createCustomCluster_?this.createCustomCluster_(g,t):new In({geometry:g,features:t})},r}(W0),l7=jP;window.ol&&!ol.ext&&(ol.ext={});var J5=function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n};window.ol&&(ol.inherits||(ol.inherits=J5)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Ro=J5;function GP(n){const r=n.frameState,t=oe(n.inversePixelTransform.slice(),r.coordinateToPixelTransform);return new $5(n.context,r.pixelRatio,r.extent,t,r.viewState.rotation)}var F2=GP,Hf=function(n){var r=n||{};E0.call(this,r),this.oldcluster=new W0,this.clusters=[],this.animation={start:!1},this.set("animationDuration",typeof r.animationDuration=="number"?r.animationDuration:700),this.set("animationMethod",r.animationMethod||Hr),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))};Ro(Hf,E0),Hf.prototype.saveCluster=function(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var n=this.getSource().getFeatures();n.length&&n[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=n.slice(0),this.sourceChanged=!0)}},Hf.prototype.getClusterForFeature=function(n,r){for(var t=0,e;e=r[t];t++){var i=e.get("features");if(i&&i.length){for(var a=0,c;c=i[a];a++)if(n===c)return e}}return!1},Hf.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},Hf.prototype.animate=function(n){var r=this.get("animationDuration");if(!!r){var t=n.frameState.viewState.resolution,e,i,a=this.animation,c=n.frameState.time;if(a.resolution!=t&&this.sourceChanged){var f=n.frameState.extent;for(a.resolution<t?(f=Ct(f,100*t),a.cA=this.oldcluster.getFeaturesInExtent(f),a.cB=this.getSource().getFeaturesInExtent(f),a.revers=!1):(f=Ct(f,100*t),a.cA=this.getSource().getFeaturesInExtent(f),a.cB=this.oldcluster.getFeaturesInExtent(f),a.revers=!0),a.clusters=[],e=0,i;i=a.cA[e];e++){var p=i.get("features");if(p&&p.length){var g=this.getClusterForFeature(p[0],a.cB);g&&a.clusters.push({f:i,pt:g.getGeometry().getCoordinates()})}}if(a.resolution=t,this.sourceChanged=!1,!a.clusters.length||a.clusters.length>1e3){this.stopAnimation();return}c=a.start=new Date().getTime()}if(a.start){var m=n.vectorContext||F2(n),O=(c-a.start)/r;O>1&&(this.stopAnimation(),O=1),O=this.get("animationMethod")(O);var P=this.getStyle(),V=typeof P=="function"?P:P.length?function(){return P}:function(){return[P]};for(n.context.save(),n.context.globalAlpha=this.getOpacity(),e=0,g;g=a.clusters[e];e++){var $=g.f.getGeometry().getCoordinates(),ot=$[0]-g.pt[0],yt=$[1]-g.pt[1];a.revers?($[0]=g.pt[0]+O*ot,$[1]=g.pt[1]+O*yt):($[0]=$[0]-O*ot,$[1]=$[1]-O*yt);var Lt=V(g.f,t,!0);if(Lt.length||(Lt=[Lt]),g.f.get("features").length===1&&!ot&&!yt)p=g.f.get("features")[0];else{var zt=new Fi($);p=new In(zt)}for(var Ht=0,jt;jt=Lt[Ht];Ht++)if(jt.getText()&&/\n/.test(jt.getText().getText())){var ye=jt.getText().getOffsetX(),ve=jt.getText().getOffsetY(),Oe=jt.getText().getRotation()||0,we=Number((jt.getText().getFont()||"10px").match(/\d+/))*1.2,je=jt.getText().getText().split(`
`),Tr,vr=je.length-1,qe=jt.clone();je.forEach(function(Dr,Sn){switch(Sn==1&&(qe.setImage(),qe.setFill(),qe.setStroke()),jt.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":{Tr=vr;break}case"hanging":case"top":{Tr=0;break}default:{Tr=vr/2;break}}qe.getText().setOffsetX(ye-Math.sin(Oe)*we*(Sn-Tr)),qe.getText().setOffsetY(ve+Math.cos(Oe)*we*(Sn-Tr)),qe.getText().setText(Dr),m.drawFeature(p,qe)})}else m.drawFeature(p,jt)}n.context.restore(),n.frameState.animate=!0,n.context.save(),n.context.beginPath(),n.context.rect(0,0,0,0),n.context.clip(),this.clip_=!0}}},Hf.prototype.postanimate=function(n){this.clip_&&(n.context.restore(),this.clip_=!1)};var BP=Hf,UP={extends:op,name:"ol-animated-clusterlayer",setup:function(r){var t=Object(N.inject)("map"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){var f=new BP(ur(ur({},i),{},{source:new l7({distance:i.distance,geometryFunction:function(g){return g.getGeometry()}})}));return f}),c=Object(N.computed)(function(){return a.value.getSource()});return Object(N.watch)(i,function(){a.value.setProperties(i),a.value.changed()}),Object(N.onMounted)(function(){t.addLayer(a.value),a.value.changed(),t.changed()}),Object(N.onUnmounted)(function(){t.removeLayer(a.value)}),Object(N.provide)("vectorLayer",c),Object(N.provide)("stylable",a),{vectorLayer:a,map:t}},props:{animationDuration:{type:Number,default:700},distance:{type:Number,default:20},animationMethod:{type:Function,default:Hr},updateWhileAnimating:{type:Boolean,default:!1},updateWhileInteracting:{type:Boolean,default:!1}}},Q5=hr()(UP,[["render",MP]]);function kP(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var S0=new Uint8Array(4),zP=function(){function n(r,t){this.helper_=r;var e=r.getGL();this.texture_=e.createTexture(),this.framebuffer_=e.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return n.prototype.setSize=function(r){Object(et.b)(r,this.size_)||(this.size_[0]=r[0],this.size_[1]=r[1],this.updateSize_())},n.prototype.getSize=function(){return this.size_},n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},n.prototype.readAll=function(){if(this.dataCacheDirty_){var r=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,r[0],r[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},n.prototype.readPixel=function(r,t){if(r<0||t<0||r>this.size_[0]||t>=this.size_[1])return S0[0]=0,S0[1]=0,S0[2]=0,S0[3]=0,S0;this.readAll();var e=Math.floor(r)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return S0[0]=this.data_[e*4],S0[1]=this.data_[e*4+1],S0[2]=this.data_[e*4+2],S0[3]=this.data_[e*4+3],S0},n.prototype.getTexture=function(){return this.texture_},n.prototype.getFramebuffer=function(){return this.framebuffer_},n.prototype.updateSize_=function(){var r=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(r,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,r[0],r[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(r[0]*r[1]*4)},n}(),VP=zP,WP=s("7fd1"),YP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HP=function(n){YP(r,n);function r(t,e){var i=this,a=e.uniforms||{},c=gt();a[ap.PROJECTION_MATRIX]=c,i=n.call(this,t,{uniforms:a,postProcesses:e.postProcesses})||this,i.sourceRevision_=-1,i.verticesBuffer_=new Z1($1,y2),i.hitVerticesBuffer_=new Z1($1,y2),i.indicesBuffer_=new Z1(g2,y2),i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.program_,i.hitDetectionEnabled_=!!(e.hitFragmentShader&&e.hitVertexShader),i.hitVertexShader_=e.hitVertexShader,i.hitFragmentShader_=e.hitFragmentShader,i.hitProgram_;var f=e.attributes?e.attributes.map(function(g){return{name:"a_"+g.name,size:1,type:_c.FLOAT}}):[];i.attributes=[{name:"a_position",size:2,type:_c.FLOAT},{name:"a_index",size:1,type:_c.FLOAT}].concat(f),i.hitDetectionAttributes=[{name:"a_position",size:2,type:_c.FLOAT},{name:"a_index",size:1,type:_c.FLOAT},{name:"a_hitColor",size:4,type:_c.FLOAT},{name:"a_featureUid",size:1,type:_c.FLOAT}].concat(f),i.customAttributes=e.attributes?e.attributes:[],i.previousExtent_=ft(),i.currentTransform_=c,i.renderTransform_=gt(),i.invertRenderTransform_=gt(),i.renderInstructions_=new Float32Array(0),i.hitRenderInstructions_=new Float32Array(0),i.hitRenderTarget_,i.worker_=Object(WP.a)(),i.worker_.addEventListener("message",function(g){var m=g.data;if(m.type===j5.GENERATE_BUFFERS){var O=m.projectionTransform;m.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(m.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(m.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(m.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=O,Er(this.invertRenderTransform_,this.renderTransform_),m.hitDetection?this.hitRenderInstructions_=new Float32Array(g.data.renderInstructions):this.renderInstructions_=new Float32Array(g.data.renderInstructions),this.getLayer().changed()}}.bind(i)),i.featureCache_={},i.featureCount_=0;var p=i.getLayer().getSource();return i.sourceListenKeys_=[Object($r.a)(p,Us.ADDFEATURE,i.handleSourceFeatureAdded_,i),Object($r.a)(p,Us.CHANGEFEATURE,i.handleSourceFeatureChanged_,i),Object($r.a)(p,Us.REMOVEFEATURE,i.handleSourceFeatureDelete_,i),Object($r.a)(p,Us.CLEAR,i.handleSourceFeatureClear_,i)],p.forEachFeature(function(g){this.featureCache_[Object(St.c)(g)]={feature:g,properties:g.getProperties(),geometry:g.getGeometry()},this.featureCount_++}.bind(i)),i}return r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new VP(this.helper))},r.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(St.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},r.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(St.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},r.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(St.c)(e)],this.featureCount_--},r.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var a=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),a},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource(),a=t.viewState,c=!t.viewHints[Wi.ANIMATING]&&!t.viewHints[Wi.INTERACTING],f=!Ar(this.previousExtent_,t.extent),p=this.sourceRevision_<i.getRevision();if(p&&(this.sourceRevision_=i.getRevision()),c&&(f||p)){var g=a.projection,m=a.resolution,O=e instanceof A2?e.getRenderBuffer():0,P=Ct(t.extent,O*m);i.loadFeatures(P,m,g),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),oe(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},r.prototype.rebuildBuffers_=function(t){var e=gt();this.helper.makeProjectionTransform(t,e);var i=(2+this.customAttributes.length)*this.featureCount_;if((!this.renderInstructions_||this.renderInstructions_.length!==i)&&(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var a=(7+this.customAttributes.length)*this.featureCount_;(!this.hitRenderInstructions_||this.hitRenderInstructions_.length!==a)&&(this.hitRenderInstructions_=new Float32Array(a))}var c,f,p=[],g=[],m=0,O=0,P;for(var V in this.featureCache_)if(c=this.featureCache_[V],f=c.geometry,!(!f||f.getType()!==Se.POINT)){p[0]=f.getFlatCoordinates()[0],p[1]=f.getFlatCoordinates()[1],Ke(e,p),P=XL(O+6,g),this.renderInstructions_[m++]=p[0],this.renderInstructions_[m++]=p[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[O++]=p[0],this.hitRenderInstructions_[O++]=p[1],this.hitRenderInstructions_[O++]=P[0],this.hitRenderInstructions_[O++]=P[1],this.hitRenderInstructions_[O++]=P[2],this.hitRenderInstructions_[O++]=P[3],this.hitRenderInstructions_[O++]=Number(V));for(var $=void 0,ot=0;ot<this.customAttributes.length;ot++)$=this.customAttributes[ot].callback(c.feature,c.properties),this.renderInstructions_[m++]=$,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[O++]=$)}var yt={type:j5.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(yt.projectionTransform=e,this.worker_.postMessage(yt,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var Lt={type:j5.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};Lt.projectionTransform=e,Lt.hitDetection=!0,this.worker_.postMessage(Lt,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,a,c){if(le(this.hitDetectionEnabled_,66),!!this.hitRenderInstructions_){var f=Ke(e.coordinateToPixelTransform,t.slice()),p=this.hitRenderTarget_.readPixel(f[0]/2,f[1]/2),g=[p[0]/255,p[1]/255,p[2]/255,p[3]/255],m=KL(g),O=this.hitRenderInstructions_[m],P=Math.floor(O).toString(),V=this.getLayer().getSource(),$=V.getFeatureByUid(P);if($)return a($,this.getLayer(),null)}},r.prototype.renderHitDetection=function(t){if(!!this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},r.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object($r.c)(t)}),this.sourceListenKeys_=null,n.prototype.disposeInternal.call(this)},r}(RE),u7=HP,XP=function(){function n(){this.uniforms=[],this.attributes=[],this.varyings=[],this.sizeExpression="vec2(1.0)",this.rotationExpression="0.0",this.offsetExpression="vec2(0.0)",this.colorExpression="vec4(1.0)",this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression="false",this.rotateWithView=!1}return n.prototype.addUniform=function(r){return this.uniforms.push(r),this},n.prototype.addAttribute=function(r){return this.attributes.push(r),this},n.prototype.addVarying=function(r,t,e){return this.varyings.push({name:r,type:t,expression:e}),this},n.prototype.setSizeExpression=function(r){return this.sizeExpression=r,this},n.prototype.setRotationExpression=function(r){return this.rotationExpression=r,this},n.prototype.setSymbolOffsetExpression=function(r){return this.offsetExpression=r,this},n.prototype.setColorExpression=function(r){return this.colorExpression=r,this},n.prototype.setTextureCoordinateExpression=function(r){return this.texCoordExpression=r,this},n.prototype.setFragmentDiscardExpression=function(r){return this.discardExpression=r,this},n.prototype.setSymbolRotateWithView=function(r){return this.rotateWithView=r,this},n.prototype.getSizeExpression=function(){return this.sizeExpression},n.prototype.getOffsetExpression=function(){return this.offsetExpression},n.prototype.getColorExpression=function(){return this.colorExpression},n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression},n.prototype.getFragmentDiscardExpression=function(){return this.discardExpression},n.prototype.getSymbolVertexShader=function(r){var t=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",e=this.attributes,i=this.varyings;return r&&(e=e.concat("vec4 a_hitColor"),i=i.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform mat4 u_projectionMatrix;
uniform mat4 u_offsetScaleMatrix;
uniform mat4 u_offsetRotateMatrix;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(a){return"uniform "+a+";"}).join(`
`)+`
attribute vec2 a_position;
attribute float a_index;
`+e.map(function(a){return"attribute "+a+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+i.map(function(a){return"varying "+a.type+" "+a.name+";"}).join(`
`)+`
void main(void) {
  mat4 offsetMatrix = `+t+`;
  vec2 halfSize = `+this.sizeExpression+` * 0.5;
  vec2 offset = `+this.offsetExpression+`;
  float angle = `+this.rotationExpression+`;
  float offsetX;
  float offsetY;
  if (a_index == 0.0) {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  } else if (a_index == 1.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else if (a_index == 2.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  }
  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
  vec4 texCoord = `+this.texCoordExpression+`;
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;
  v_quadCoord = vec2(u, v);
`+i.map(function(a){return"  "+a.name+" = "+a.expression+";"}).join(`
`)+`
}`},n.prototype.getSymbolFragmentShader=function(r){var t=r?"  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;":"",e=this.varyings;return r&&(e=e.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(i){return"uniform "+i+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+e.map(function(i){return"varying "+i.type+" "+i.name+";"}).join(`
`)+`
void main(void) {
  if (`+this.discardExpression+`) { discard; }
  gl_FragColor = `+this.colorExpression+`;
  gl_FragColor.rgb *= gl_FragColor.a;
`+t+`
}`},n}();function KP(n){var r=n.symbol,t=r.size!==void 0?r.size:1,e=r.color||"white",i=r.textureCoord||[0,0,1,1],a=r.offset||[0,0],c=r.opacity!==void 0?r.opacity:1,f=r.rotation!==void 0?r.rotation:0,p={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},g=Dn(p,t,Rn.NUMBER_ARRAY|Rn.NUMBER),m=Dn(p,a,Rn.NUMBER_ARRAY),O=Dn(p,i,Rn.NUMBER_ARRAY),P=Dn(p,f,Rn.NUMBER),V={inFragmentShader:!0,variables:p.variables,attributes:[],stringLiteralsMap:p.stringLiteralsMap,functions:{}},$=Dn(V,e,Rn.COLOR),ot=Dn(V,c,Rn.NUMBER),yt="1.0",Lt="vec2("+Dn(V,t,Rn.NUMBER_ARRAY|Rn.NUMBER)+").x";switch(r.symbolType){case"square":break;case"image":break;case"circle":yt="(1.0-smoothstep(1.-4./"+Lt+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case"triangle":var zt="(v_quadCoord*2.-1.)",Ht="(atan("+zt+".x,"+zt+".y))";yt="(1.0-smoothstep(.5-3./"+Lt+",.5,cos(floor(.5+"+Ht+"/2.094395102)*2.094395102-"+Ht+")*length("+zt+")))";break;default:throw new Error("Unexpected symbol type: "+r.symbolType)}var jt=new XP().setSizeExpression("vec2("+g+")").setRotationExpression(P).setSymbolOffsetExpression(m).setTextureCoordinateExpression(O).setSymbolRotateWithView(!!r.rotateWithView).setColorExpression("vec4("+$+".rgb, "+$+".a * "+ot+" * "+yt+")");if(n.filter){var ye=Dn(V,n.filter,Rn.BOOLEAN);jt.setFragmentDiscardExpression("!"+ye)}var ve={};if(V.variables.forEach(function(we){var je=k5(we);jt.addUniform("float "+je),ve[je]=function(){if(!n.variables||n.variables[we]===void 0)throw new Error("The following variable is missing from the style: "+we);var Tr=n.variables[we];return typeof Tr=="string"&&(Tr=x2(p,Tr)),Tr!==void 0?Tr:-9999999}}),r.symbolType==="image"&&r.src){var Oe=new Image;Oe.src=r.src,jt.addUniform("sampler2D u_texture").setColorExpression(jt.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),ve.u_texture=Oe}return V.attributes.forEach(function(we){p.attributes.indexOf(we)===-1&&p.attributes.push(we),jt.addVarying("v_"+we,"float","a_"+we)}),p.attributes.forEach(function(we){jt.addAttribute("float a_"+we)}),{builder:jt,attributes:p.attributes.map(function(we){return{name:we,callback:function(je,Tr){var vr=Tr[we];return typeof vr=="string"&&(vr=x2(p,vr)),vr!==void 0?vr:-9999999}}}),uniforms:ve}}var $P=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZP=function(n){$P(r,n);function r(t){var e=this,i=Object(yn.a)({},t);return e=n.call(this,i)||this,e.parseResult_=KP(t.style),e.hitDetectionDisabled_=!!t.disableHitDetection,e}return r.prototype.createRenderer=function(){return new u7(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})},r}(C),qP=ZP,JP={extends:op,name:"ol-webglpoints-layer",setup:function(r){var t=Object(N.inject)("map"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new qP(i)});return Object(N.watch)(i,function(){a.value.setProperties(i)}),Object(N.onMounted)(function(){t.addLayer(a.value)}),Object(N.onUnmounted)(function(){t.removeLayer(a.value)}),Object(N.provide)("webglPointsLayer",a),{webglPointsLayer:a}},props:{disableHitDetection:{type:Boolean,default:!1},style:{type:Object,default:function(){return{symbol:{symbolType:"circle",size:8,color:"#33AAFF",opacity:.9}}}}}},t_=hr()(JP,[["render",kP]]);function D2(n){D2.installed||(D2.installed=!0,n.component(b5.name,b5),n.component(V5.name,V5),n.component(W5.name,W5),n.component(q5.name,q5),n.component(Q5.name,Q5),n.component(t_.name,t_))}var QP=D2;function tN(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var eN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rN=function(n){eN(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},r.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),e=$L(t),i=e[0];this.forEach(function(a){a.tileCoord[0]!==i&&(this.remove(Q1(a.tileCoord)),a.release())}.bind(this))}},r}(lE),c7=rN,e_={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},nN=[0,0,0],Fh=5,iN=function(){function n(r){this.minZoom=r.minZoom!==void 0?r.minZoom:0,this.resolutions_=r.resolutions,le(Object(et.g)(this.resolutions_,function(c,f){return f-c},!0),17);var t;if(!r.origins){for(var e=0,i=this.resolutions_.length-1;e<i;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=r.origin!==void 0?r.origin:null,this.origins_=null,r.origins!==void 0&&(this.origins_=r.origins,le(this.origins_.length==this.resolutions_.length,20));var a=r.extent;a!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=_i(a)),le(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,r.tileSizes!==void 0&&(this.tileSizes_=r.tileSizes,le(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=r.tileSize!==void 0?r.tileSize:this.tileSizes_?null:ba,le(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=a!==void 0?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],r.sizes!==void 0?this.fullTileRanges_=r.sizes.map(function(c,f){var p=new R5(Math.min(0,c[0]),Math.max(c[0]-1,-1),Math.min(0,c[1]),Math.max(c[1]-1,-1));if(a){var g=this.getTileRangeForExtentAndZ(a,f);p.minX=Math.max(g.minX,p.minX),p.maxX=Math.min(g.maxX,p.maxX),p.minY=Math.max(g.minY,p.minY),p.maxY=Math.min(g.maxY,p.maxY)}return p},this):a&&this.calculateTileRanges_(a)}return n.prototype.forEachTileCoord=function(r,t,e){for(var i=this.getTileRangeForExtentAndZ(r,t),a=i.minX,c=i.maxX;a<=c;++a)for(var f=i.minY,p=i.maxY;f<=p;++f)e([t,a,f])},n.prototype.forEachTileCoordParentTileRange=function(r,t,e,i){var a,c,f,p=null,g=r[0]-1;for(this.zoomFactor_===2?(c=r[1],f=r[2]):p=this.getTileCoordExtent(r,i);g>=this.minZoom;){if(this.zoomFactor_===2?(c=Math.floor(c/2),f=Math.floor(f/2),a=ip(c,c,f,f,e)):a=this.getTileRangeForExtentAndZ(p,g,e),t(g,a))return!0;--g}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},n.prototype.getResolution=function(r){return this.resolutions_[r]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(r,t,e){if(r[0]<this.maxZoom){if(this.zoomFactor_===2){var i=r[1]*2,a=r[2]*2;return ip(i,i+1,a,a+1,t)}var c=this.getTileCoordExtent(r,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,r[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(r,t,e){if(t>this.maxZoom||t<this.minZoom)return null;var i=r[0],a=r[1],c=r[2];if(t===i)return ip(a,c,a,c,e);if(this.zoomFactor_){var f=Math.pow(this.zoomFactor_,t-i),p=Math.floor(a*f),g=Math.floor(c*f);if(t<i)return ip(p,p,g,g,e);var m=Math.floor(f*(a+1))-1,O=Math.floor(f*(c+1))-1;return ip(p,m,g,O,e)}var P=this.getTileCoordExtent(r,this.tmpExtent_);return this.getTileRangeForExtentAndZ(P,t,e)},n.prototype.getTileRangeExtent=function(r,t,e){var i=this.getOrigin(r),a=this.getResolution(r),c=pa(this.getTileSize(r),this.tmpSize_),f=i[0]+t.minX*c[0]*a,p=i[0]+(t.maxX+1)*c[0]*a,g=i[1]+t.minY*c[1]*a,m=i[1]+(t.maxY+1)*c[1]*a;return j(f,g,p,m,e)},n.prototype.getTileRangeForExtentAndZ=function(r,t,e){var i=nN;this.getTileCoordForXYAndZ_(r[0],r[3],t,!1,i);var a=i[1],c=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],t,!0,i),ip(a,i[1],c,i[2],e)},n.prototype.getTileCoordCenter=function(r){var t=this.getOrigin(r[0]),e=this.getResolution(r[0]),i=pa(this.getTileSize(r[0]),this.tmpSize_);return[t[0]+(r[1]+.5)*i[0]*e,t[1]-(r[2]+.5)*i[1]*e]},n.prototype.getTileCoordExtent=function(r,t){var e=this.getOrigin(r[0]),i=this.getResolution(r[0]),a=pa(this.getTileSize(r[0]),this.tmpSize_),c=e[0]+r[1]*a[0]*i,f=e[1]-(r[2]+1)*a[1]*i,p=c+a[0]*i,g=f+a[1]*i;return j(c,f,p,g,t)},n.prototype.getTileCoordForCoordAndResolution=function(r,t,e){return this.getTileCoordForXYAndResolution_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordForXYAndResolution_=function(r,t,e,i,a){var c=this.getZForResolution(e),f=e/this.getResolution(c),p=this.getOrigin(c),g=pa(this.getTileSize(c),this.tmpSize_),m=f*(r-p[0])/e/g[0],O=f*(p[1]-t)/e/g[1];return i?(m=Ha(m,Fh)-1,O=Ha(O,Fh)-1):(m=Xl(m,Fh),O=Xl(O,Fh)),q1(c,m,O,a)},n.prototype.getTileCoordForXYAndZ_=function(r,t,e,i,a){var c=this.getOrigin(e),f=this.getResolution(e),p=pa(this.getTileSize(e),this.tmpSize_),g=(r-c[0])/f/p[0],m=(c[1]-t)/f/p[1];return i?(g=Ha(g,Fh)-1,m=Ha(m,Fh)-1):(g=Xl(g,Fh),m=Xl(m,Fh)),q1(e,g,m,a)},n.prototype.getTileCoordForCoordAndZ=function(r,t,e){return this.getTileCoordForXYAndZ_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},n.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},n.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},n.prototype.getZForResolution=function(r,t){var e=Object(et.h)(this.resolutions_,r,t||0);return Si(e,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(r){for(var t=this.resolutions_.length,e=new Array(t),i=this.minZoom;i<t;++i)e[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=e},n}(),r_=iN;function h7(n){var r=n.getDefaultTileGrid();return r||(r=sN(n),n.setDefaultTileGrid(r)),r}function oN(n,r,t){var e=r[0],i=n.getTileCoordCenter(r),a=j2(t);if(fe(a,i))return r;var c=nn(a),f=Math.ceil((a[0]-i[0])/c);return i[0]+=c*f,n.getTileCoordForCoordAndZ(i,e)}function aN(n,r,t,e){var i=e!==void 0?e:Vt.TOP_LEFT,a=d7(n,r,t);return new r_({extent:n,origin:ya(n,i),resolutions:a,tileSize:t})}function f7(n){var r=n||{},t=r.extent||zn("EPSG:3857").getExtent(),e={extent:t,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:d7(t,r.maxZoom,r.tileSize,r.maxResolution)};return new r_(e)}function d7(n,r,t,e){for(var i=r!==void 0?r:ul,a=an(n),c=nn(n),f=pa(t!==void 0?t:ba),p=e>0?e:Math.max(c/f[0],a/f[1]),g=i+1,m=new Array(g),O=0;O<g;++O)m[O]=p/Math.pow(2,O);return m}function sN(n,r,t,e){var i=j2(n);return aN(i,r,t,e)}function j2(n){n=zn(n);var r=n.getExtent();if(!r){var t=180*ha[Zi.DEGREES]/n.getMetersPerUnit();r=j(-t,-t,t,t)}return r}var p7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lN=function(n){p7(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;e.on,e.once,e.un,e.opaque_=t.opaque!==void 0?t.opaque:!1,e.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,e.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256],a=t.tileGrid;return a&&pa(a.getTileSize(a.getMinZoom()),i),e.tileCache=new c7(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition,interpolate:t.interpolate},e.zDirection=t.zDirection?t.zDirection:0,e}return r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},r.prototype.forEachLoadedTile=function(t,e,i,a){var c=this.getTileCacheForProjection(t);if(!c)return!1;for(var f=!0,p,g,m,O=i.minX;O<=i.maxX;++O)for(var P=i.minY;P<=i.maxY;++P)g=J1(e,O,P),m=!1,c.containsKey(g)&&(p=c.get(g),m=p.getState()===fn.LOADED,m&&(m=a(p)!==!1)),m||(f=!1);return f},r.prototype.getGutterForProjection=function(t){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},r.prototype.getOpaque=function(t){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(t,e,i,a,c){return Object(St.b)()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:h7(t)},r.prototype.getTileCacheForProjection=function(t){return le(Eo(this.getProjection(),t),68),this.tileCache},r.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(t,e,i){var a=this.getTileGridForProjection(i),c=this.getTilePixelRatio(e),f=pa(a.getTileSize(t),this.tmpSize);return c==1?f:hc(f,c,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=e!==void 0?e:this.getProjection(),a=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=oN(a,t,i)),ZL(t,a)?t:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},r.prototype.useTile=function(t,e,i,a){},r}(N2),uN=function(n){p7(r,n);function r(t,e){var i=n.call(this,t)||this;return i.tile=e,i}return r}(cr.a),v7=lN;function cN(n,r){var t=/\{z\}/g,e=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(c,f,p){if(c)return n.replace(t,c[0].toString()).replace(e,c[1].toString()).replace(i,c[2].toString()).replace(a,function(){var g=c[0],m=r.getFullTileRange(g);le(m,55);var O=m.getHeight()-c[2]-1;return O.toString()})}}function hN(n,r){for(var t=n.length,e=new Array(t),i=0;i<t;++i)e[i]=cN(n[i],r);return G2(e)}function G2(n){return n.length===1?n[0]:function(r,t,e){if(r){var i=CE(r),a=Ws(i,n.length);return n[a](r,t,e)}else return}}function g7(n){var r=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var e=t[1].charCodeAt(0),i=t[2].charCodeAt(0),a=void 0;for(a=e;a<=i;++a)r.push(n.replace(t[0],String.fromCharCode(a)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var c=parseInt(t[2],10),f=parseInt(t[1],10);f<=c;f++)r.push(n.replace(t[0],f.toString()));return r}return r.push(n),r}var fN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dN=function(n){fN(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===r.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(t){var e=t.target,i=Object(St.c)(e),a=e.getState(),c;a==fn.LOADING?(this.tileLoadingKeys_[i]=!0,c=e_.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],c=a==fn.ERROR?e_.TILELOADERROR:a==fn.LOADED?e_.TILELOADEND:void 0),c!=null&&this.dispatchEvent(new uN(c,e))},r.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},r.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e!="undefined"?this.setKey(e):this.changed()},r.prototype.setUrl=function(t){var e=g7(t);this.urls=e,this.setUrls(e)},r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(hN(t,this.tileGrid),e):this.setKey(e)},r.prototype.tileUrlFunction=function(t,e,i){},r.prototype.useTile=function(t,e,i){var a=J1(t,e,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)},r}(v7),pN=dN,vN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gN=function(n){vN(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yN,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,e.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,e.tileClass=t.tileClass!==void 0?t.tileClass:I5,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.renderReprojectionEdges_=!1,e}return r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(var a in this.tileCacheForProjection){var c=this.tileCacheForProjection[a];c.expireCache(c==i?e:{})}},r.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Eo(this.getProjection(),t)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},r.prototype.getOpaque=function(t){return this.getProjection()&&t&&!Eo(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},r.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(this.tileGrid&&(!e||Eo(e,t)))return this.tileGrid;var i=Object(St.c)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=h7(t)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Eo(e,t))return this.tileCache;var i=Object(St.c)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new c7(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(t,e,i,a,c,f){var p=[t,e,i],g=this.getTileCoordForTileUrlFunction(p,c),m=g?this.tileUrlFunction(g,a,c):void 0,O=new this.tileClass(p,m!==void 0?fn.IDLE:fn.EMPTY,m!==void 0?m:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return O.key=f,O.addEventListener(hn.a.CHANGE,this.handleTileChange.bind(this)),O},r.prototype.getTile=function(t,e,i,a,c){var f=this.getProjection();if(!f||!c||Eo(f,c))return this.getTileInternal(t,e,i,a,f||c);var p=this.getTileCacheForProjection(c),g=[t,e,i],m=void 0,O=Q1(g);p.containsKey(O)&&(m=p.get(O));var P=this.getKey();if(m&&m.key==P)return m;var V=this.getTileGridForProjection(f),$=this.getTileGridForProjection(c),ot=this.getTileCoordForTileUrlFunction(g,c),yt=new yE(f,V,c,$,g,ot,this.getTilePixelRatio(a),this.getGutter(),function(Lt,zt,Ht,jt){return this.getTileInternal(Lt,zt,Ht,jt,f)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return yt.key=P,m?(yt.interimTile=m,yt.refreshInterimChain(),p.replace(O,yt)):p.set(O,yt),yt},r.prototype.getTileInternal=function(t,e,i,a,c){var f=null,p=J1(t,e,i),g=this.getKey();if(!this.tileCache.containsKey(p))f=this.createTile_(t,e,i,a,c,g),this.tileCache.set(p,f);else if(f=this.tileCache.get(p),f.key!=g){var m=f;f=this.createTile_(t,e,i,a,c,g),m.getState()==fn.IDLE?f.interimTile=m.interimTile:f.interimTile=m,f.refreshInterimChain(),this.tileCache.replace(p,f)}return f},r.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},r.prototype.setTileGridForProjection=function(t,e){{var i=zn(t);if(i){var a=Object(St.c)(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=e)}}},r}(pN);function yN(n,r){n.getImage().src=r}var B2=gN,mN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_N=function(n){mN(r,n);function r(t){var e=this,i=t||{},a=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(a=i.interpolate);var c=i.projection!==void 0?i.projection:"EPSG:3857",f=i.tileGrid!==void 0?i.tileGrid:f7({extent:j2(c),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return e=n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:a,opaque:i.opaque,projection:c,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:f,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this,e}return r}(B2),y7=_N,EN={name:"ol-source-xyz",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new y7(i)});return Object(N.watch)(a,function(){t.value.setSource(a.value)}),Object(N.watch)(t,function(){t.value.setSource(a.value)}),Object(N.onMounted)(function(){t.value.setSource(a.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:[String,Array]},url:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},opaque:{type:Boolean},projection:{type:String,default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tileSize:{type:Array,default:function(){return[256,256]}},tilePixelRatio:{type:Number,default:1},tileKey:{type:String},transition:{type:Number},tileGrid:{type:Object}}},n_=hr()(EN,[["render",tN]]);function SN(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var wN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xN='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',TN=function(n){wN(r,n);function r(t){var e=this,i=t||{},a=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(a=i.interpolate);var c;i.attributions!==void 0?c=i.attributions:c=[xN];var f=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",p=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e=n.call(this,{attributions:c,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:f,interpolate:a,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:p,wrapX:i.wrapX,zDirection:i.zDirection})||this,e}return r}(y7),ON=TN,AN={name:"ol-source-osm",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new ON(i)});return Object(N.watch)(a,function(){t.value.setSource(a.value)}),Object(N.watch)(t,function(){t.value.setSource(a.value)}),Object(N.onMounted)(function(){t.value.setSource(a.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String,default:"anonymous"},imageSmoothing:{type:Boolean,default:!0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{type:Number,default:.5},transition:{type:Number,default:250},url:{type:String,default:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0}}},i_=hr()(AN,[["render",SN]]);function MN(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var RN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CN=function(n){RN(r,n);function r(t,e,i,a,c,f,p){var g=this,m=t.getExtent(),O=e.getExtent(),P=O?rn(i,O):i,V=kn(P),$=K1(t,e,V,a),ot=fE,yt=new pE(t,e,P,m,$*ot,a),Lt=yt.calculateSourceExtent(),zt=f(Lt,$,c),Ht=zt?Di.IDLE:Di.EMPTY,jt=zt?zt.getPixelRatio():1;return g=n.call(this,i,a,jt,Ht)||this,g.targetProj_=e,g.maxSourceExtent_=m,g.triangulation_=yt,g.targetResolution_=a,g.targetExtent_=i,g.sourceImage_=zt,g.sourcePixelRatio_=jt,g.interpolate_=p,g.canvas_=null,g.sourceListenerKey_=null,g}return r.prototype.disposeInternal=function(){this.state==Di.LOADING&&this.unlistenSource_(),n.prototype.disposeInternal.call(this)},r.prototype.getImage=function(){return this.canvas_},r.prototype.getProjection=function(){return this.targetProj_},r.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Di.LOADED){var e=nn(this.targetExtent_)/this.targetResolution_,i=an(this.targetExtent_)/this.targetResolution_;this.canvas_=gE(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},r.prototype.load=function(){if(this.state==Di.IDLE){this.state=Di.LOADING,this.changed();var t=this.sourceImage_.getState();t==Di.LOADED||t==Di.ERROR?this.reproject_():(this.sourceListenerKey_=Object($r.a)(this.sourceImage_,hn.a.CHANGE,function(e){var i=this.sourceImage_.getState();(i==Di.LOADED||i==Di.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},r.prototype.unlistenSource_=function(){Object($r.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},r}(cE),bN=CN,m7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),o_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},a_=function(n){m7(r,n);function r(t,e){var i=n.call(this,t)||this;return i.image=e,i}return r}(cr.a),LN=function(n){m7(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:i})||this,e.on,e.once,e.un,e.resolutions_=t.resolutions!==void 0?t.resolutions:null,e.reprojectedImage_=null,e.reprojectedRevision_=0,e}return r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(et.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},r.prototype.getImage=function(t,e,i,a){var c=this.getProjection();if(!c||!a||Eo(c,a))return c&&(a=c),this.getImageInternal(t,e,i,a);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Eo(this.reprojectedImage_.getProjection(),a)&&this.reprojectedImage_.getResolution()==e&&Ar(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new bN(c,a,t,e,i,function(f,p,g){return this.getImageInternal(f,p,g,c)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},r.prototype.getImageInternal=function(t,e,i,a){return Object(St.b)()},r.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Di.LOADING:this.loading=!0,this.dispatchEvent(new a_(o_.IMAGELOADSTART,e));break;case Di.LOADED:this.loading=!1,this.dispatchEvent(new a_(o_.IMAGELOADEND,e));break;case Di.ERROR:this.loading=!1,this.dispatchEvent(new a_(o_.IMAGELOADERROR,e));break}},r}(N2);function _7(n,r){n.getImage().src=r}var E7=LN,IN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PN=function(n){IN(r,n);function r(t){var e=this,i=t.crossOrigin!==void 0?t.crossOrigin:null,a=t.imageLoadFunction!==void 0?t.imageLoadFunction:_7,c=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(c=t.interpolate),e=n.call(this,{attributions:t.attributions,interpolate:c,projection:zn(t.projection)})||this,e.url_=t.url,e.imageExtent_=t.imageExtent,e.image_=new hE(e.imageExtent_,void 0,1,e.url_,i,a),e.imageSize_=t.imageSize?t.imageSize:null,e.image_.addEventListener(hn.a.CHANGE,e.handleImageChange.bind(e)),e}return r.prototype.getImageExtent=function(){return this.imageExtent_},r.prototype.getImageInternal=function(t,e,i,a){return Ei(t,this.image_.getExtent())?this.image_:null},r.prototype.getUrl=function(){return this.url_},r.prototype.handleImageChange=function(t){if(this.image_.getState()==Di.LOADED){var e=this.image_.getExtent(),i=this.image_.getImage(),a=void 0,c=void 0;this.imageSize_?(a=this.imageSize_[0],c=this.imageSize_[1]):(a=i.width,c=i.height);var f=nn(e),p=an(e),g=f/a,m=p/c,O=a,P=c;if(g>m?O=Math.round(f/m):P=Math.round(p/g),O!==a||P!==c){var V=Object(fr.a)(O,P);this.getInterpolate()||Object(yn.a)(V,X1);var $=V.canvas;V.drawImage(i,0,0,a,c,0,0,$.width,$.height),this.image_.setImage($)}}n.prototype.handleImageChange.call(this,t)},r}(E7),NN=PN,FN={name:"ol-source-image-static",setup:function(r){var t=Object(N.inject)("imageLayer"),e=Ur(r),i=e.properties,a=function(){return new NN(ur(ur({},i),{},{projection:typeof i.projection=="string"?i.projection:new $a(ur({},i.projection))}))},c=a();return Object(N.watch)(i,function(){t.setSource(null),c=a(),t.setSource(c)}),Object(N.onMounted)(function(){t.setSource(c)}),Object(N.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:c}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object]},imageSmoothing:{type:Boolean,default:!0},imageSize:{type:Array},url:{type:String}}},s_=hr()(FN,[["render",MN]]);function DN(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var U2={KVP:"KVP",REST:"REST"};function up(n,r){var t=[];Object.keys(r).forEach(function(i){r[i]!==null&&r[i]!==void 0&&t.push(i+"="+encodeURIComponent(r[i]))});var e=t.join("&");return n=n.replace(/[?&]$/,""),n=n.indexOf("?")===-1?n+"?":n+"&",n+e}var jN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GN=function(n){jN(r,n);function r(t){var e=n.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return e.matrixIds_=t.matrixIds,e}return r.prototype.getMatrixId=function(t){return this.matrixIds_[t]},r.prototype.getMatrixIds=function(){return this.matrixIds_},r}(r_),l_=GN,BN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UN=function(n){BN(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);var a=t.requestEncoding!==void 0?t.requestEncoding:U2.KVP,c=t.tileGrid,f=t.urls;return f===void 0&&t.url!==void 0&&(f=g7(t.url)),e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:c,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:f,wrapX:t.wrapX!==void 0?t.wrapX:!1,transition:t.transition,zDirection:t.zDirection})||this,e.version_=t.version!==void 0?t.version:"1.0.0",e.format_=t.format!==void 0?t.format:"image/jpeg",e.dimensions_=t.dimensions!==void 0?t.dimensions:{},e.layer_=t.layer,e.matrixSet_=t.matrixSet,e.style_=t.style,e.requestEncoding_=a,e.setKey(e.getKeyForDimensions_()),f&&f.length>0&&(e.tileUrlFunction=G2(f.map(e.createFromWMTSTemplate.bind(e)))),e}return r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.setTileUrlFunction(G2(t.map(this.createFromWMTSTemplate.bind(this))),e)},r.prototype.getDimensions=function(){return this.dimensions_},r.prototype.getFormat=function(){return this.format_},r.prototype.getLayer=function(){return this.layer_},r.prototype.getMatrixSet=function(){return this.matrixSet_},r.prototype.getRequestEncoding=function(){return this.requestEncoding_},r.prototype.getStyle=function(){return this.style_},r.prototype.getVersion=function(){return this.version_},r.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},r.prototype.updateDimensions=function(t){Object(yn.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},r.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==U2.KVP&&Object(yn.a)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==U2.KVP?up(t,i):t.replace(/\{(\w+?)\}/g,function(f,p){return p.toLowerCase()in i?i[p.toLowerCase()]:f});var a=this.tileGrid,c=this.dimensions_;return function(f,p,g){if(f){var m={TileMatrix:a.getMatrixId(f[0]),TileCol:f[1],TileRow:f[2]};Object(yn.a)(m,c);var O=t;return e==U2.KVP?O=up(O,m):O=O.replace(/\{(\w+?)\}/g,function(P,V){return m[V]}),O}else return}},r}(B2),S7=UN,kN={name:"ol-source-wmts",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return zn(i.projection).getExtent()}),c=Object(N.computed)(function(){return _i(a.value)}),f=Object(N.computed)(function(){return nn(a.value)/256}),p=Object(N.computed)(function(){for(var m=new Array(14),O=new Array(14),P=0;P<14;++P)m[P]=f.value/Math.pow(2,P),O[P]=P;return new l_({origin:c.value,resolutions:m,matrixIds:O})}),g=Object(N.computed)(function(){return new S7(ur(ur({},i),{},{projection:typeof i.projection=="string"?i.projection:new $a(ur({},i.projection)),tileGrid:p.value}))});return Object(N.watch)(g,function(){t.value.setSource(g.value)}),Object(N.watch)(t,function(){t.value.setSource(g.value)}),Object(N.onMounted)(function(){t.value.setSource(g.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{tileLayer:t,source:g}},props:{attributions:{type:String},cacheSize:{type:Number},crossOrigin:{type:String},imageSmoothing:{type:Boolean,default:!0},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tilePixelRatio:{type:Number,default:1},format:{type:String,default:"image/jpeg"},version:{type:String,default:"1.0.0"},matrixSet:{type:String},dimensions:{type:Object},requestEncoding:{type:String,default:"KVP"},url:{type:String},urls:{type:Array},wrapX:{type:Boolean,default:!1},transition:{type:Number},layer:{type:String},style:{type:String}}},u_=hr()(kN,[["render",DN]]);function zN(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var VN={name:"ol-source-vector",setup:function(r){var t=Object(N.inject)("vectorLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new W0(i)}),c=function(){t.value.setSource(null),t.value.setSource(a.value),t.value.changed()};return Object(N.watch)(i,function(){c()}),Object(N.watch)(t,function(){c()}),Object(N.onMounted)(function(){t.value.setSource(a.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),Object(N.provide)("vectorSource",a),{layer:t,source:a}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},c_=hr()(VN,[["render",zN]]);function WN(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var YN={name:"ol-source-cluster",setup:function(r){var t=Object(N.inject)("vectorLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){var f=new l7(i);return f}),c=function(){t.value.setSource(null),t.value.setSource(a.value),t.value.changed()};return Object(N.watch)(i,function(){c()}),Object(N.watch)(t,function(){c()}),Object(N.onMounted)(function(){t.value.setSource(a.value),t.value.changed()}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),Object(N.provide)("vectorLayer",a),{layer:t,source:a}},props:{attributions:{type:[String,Array]},distance:{type:Number,default:20},geometryFunction:{type:Function,default:function(r){return r.getGeometry()}},wrapX:{type:Boolean,default:!0}}},h_=hr()(YN,[["render",WN]]);function HN(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var XN=s("e4e0"),KN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function $N(n){var r=n[0],t=new Array(r),e=1<<r-1,i,a;for(i=0;i<r;++i)a=48,n[1]&e&&(a+=1),n[2]&e&&(a+=2),t[i]=String.fromCharCode(a),e>>=1;return t.join("")}var ZN='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',qN=function(n){KN(r,n);function r(t){var e=this,i=t.hidpi!==void 0?t.hidpi:!1,a=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(a=t.interpolate),e=n.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:a,opaque:!0,projection:zn("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:hi.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,e.hidpi_=i,e.culture_=t.culture!==void 0?t.culture:"en-us",e.maxZoom_=t.maxZoom!==void 0?t.maxZoom:-1,e.apiKey_=t.key,e.imagerySet_=t.imagerySet;var c="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+e.apiKey_+"&c="+e.culture_;return Object(XN.a)(c,e.handleImageryMetadataResponse.bind(e),void 0,"jsonp"),e}return r.prototype.getApiKey=function(){return this.apiKey_},r.prototype.getImagerySet=function(){return this.imagerySet_},r.prototype.handleImageryMetadataResponse=function(t){if(t.statusCode!=200||t.statusDescription!="OK"||t.authenticationResultCode!="ValidCredentials"||t.resourceSets.length!=1||t.resourceSets[0].resources.length!=1){this.setState(hi.ERROR);return}var e=t.resourceSets[0].resources[0],i=this.maxZoom_==-1?e.zoomMax:this.maxZoom_,a=this.getProjection(),c=j2(a),f=this.hidpi_?2:1,p=e.imageWidth==e.imageHeight?e.imageWidth/f:[e.imageWidth/f,e.imageHeight/f],g=f7({extent:c,minZoom:e.zoomMin,maxZoom:i,tileSize:p});this.tileGrid=g;var m=this.culture_,O=this.hidpi_;if(this.tileUrlFunction=G2(e.imageUrlSubdomains.map(function(V){var $=[0,0,0],ot=e.imageUrl.replace("{subdomain}",V).replace("{culture}",m);return function(yt,Lt,zt){if(yt){q1(yt[0],yt[1],yt[2],$);var Ht=ot;return O&&(Ht+="&dpi=d1&device=mobile"),Ht.replace("{quadkey}",$N($))}else return}})),e.imageryProviders){var P=pl(zn("EPSG:4326"),this.getProjection());this.setAttributions(function(V){var $=[],ot=V.viewState,yt=this.getTileGrid(),Lt=yt.getZForResolution(ot.resolution,this.zDirection),zt=yt.getTileCoordForCoordAndZ(ot.center,Lt),Ht=zt[0];return e.imageryProviders.map(function(jt){for(var ye=!1,ve=jt.coverageAreas,Oe=0,we=ve.length;Oe<we;++Oe){var je=ve[Oe];if(Ht>=je.zoomMin&&Ht<=je.zoomMax){var Tr=je.bbox,vr=[Tr[1],Tr[0],Tr[3],Tr[2]],qe=Da(vr,P);if(Ei(qe,V.extent)){ye=!0;break}}}ye&&$.push(jt.attribution)}),$.push(ZN),$}.bind(this))}this.setState(hi.READY)},r}(B2),JN=qN,QN={name:"ol-source-bingmaps",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new JN(ur(ur({},i),{},{key:i.apiKey}))});return Object(N.watch)(a,function(){t.value.setSource(a.value)}),Object(N.watch)(t,function(){t.value.setSource(a.value)}),Object(N.onMounted)(function(){t.value.setSource(a.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:a}},props:{cacheSize:{type:Number},hidpi:{type:Boolean,default:!1},culture:{type:String,default:"en-us"},apiKey:{type:String},imagerySet:{type:String},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number,default:.5},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},w7=hr()(QN,[["render",HN]]);function tF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}s("d9e2");function eF(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function x7(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function rF(n,r,t){return r&&x7(n.prototype,r),t&&x7(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function T7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function k2(n,r){return k2=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},k2(n,r)}function nF(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&k2(n,r)}s("4ae1"),s("f8c9"),s("3410");function z2(n){return z2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z2(n)}function O7(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}s("e01a"),s("d28b"),s("e260"),s("3ca3"),s("ddb0");function f_(n){return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f_(n)}function iF(n,r){if(r&&(f_(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T7(n)}function oF(n){var r=O7();return function(){var e=z2(n),i;if(r){var a=z2(this).constructor;i=Reflect.construct(e,arguments,a)}else i=e.apply(this,arguments);return iF(this,i)}}s("99af"),s("ac1f"),s("5319");var aF=function(n){nF(t,n);var r=oF(t);function t(e){var i;eF(this,t),t.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},t.layerZoomMap={vec:18,ter:14,img:18};var a=e||{};a.layerType=a.layerType||"vec",a.layerType=a.isLabel?t.layerLabelMap[a.layerType]:a.layerType,a.matrixSet=a.projection==="EPSG:4326"||a.projection==="EPSG:4490"?"c":"w",!a.url&&!a.urls&&(a.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),a.tk&&(a.url="".concat(a.url,"tk=").concat(a.tk)),a.url=a.url.replace("{layer}",a.layerType).replace("{proj}",a.matrixSet);var c=a.tileGrid||t.getTileGrid(a.projection||"EPSG:3857"),f=a.crossOrigin!==void 0?a.crossOrigin:"anonymous",p={version:a.version||"1.0.0",format:a.format||"tiles",dimensions:a.dimensions||{},layer:a.layerType,matrixSet:a.matrixSet,tileGrid:c,style:a.style||"default",cacheSize:a.cacheSize,crossOrigin:f,opaque:a.opaque===void 0?!0:a.opaque,maxZoom:t.layerZoomMap[a.layerType],reprojectionErrorThreshold:a.reprojectionErrorThreshold,url:a.url,urls:a.urls,projection:a.projection||"EPSG:3857",wrapX:a.wrapX};a.tileProxy&&(p.tileLoadFunction=m),i=r.call(this,p),a.tileProxy&&(i.tileProxy=a.tileProxy);var g=T7(i);function m(O,P){O.getImage().src=g.tileProxy+encodeURIComponent(P)}return i}return rF(t,null,[{key:"getTileGrid",value:function(i){return i==="EPSG:4326"||i==="EPSG:4490"?t.default4326TileGrid():t.default3857TileGrid()}},{key:"default4326TileGrid",value:function(){for(var i=[],a=[],c=1;c<19;c++)i.push(.703125*2/Math.pow(2,c)),a.push(c);var f=new l_({extent:[-180,-90,180,90],resolutions:i,origin:[-180,90],matrixIds:a,minZoom:1});return f}},{key:"default3857TileGrid",value:function(){for(var i=[],a=[],c=1;c<19;c++)i.push(78271.51696402031*2/Math.pow(2,c)),a.push(c);var f=new l_({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:i,matrixIds:a,origin:[-200375083427892e-7,200375083427892e-7],minZoom:1});return f}}]),t}(S7),sF={name:"ol-source-tianditu",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new aF(i)});return Object(N.watch)(a,function(){t.value.setSource(a.value)}),Object(N.watch)(t,function(){t.value.setSource(a.value)}),Object(N.onMounted)(function(){t.value.setSource(a.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:a}},props:{layerType:{type:String,default:"img"},tk:{type:String},isLabel:{type:Boolean,default:!1},cacheSize:{type:Number},crossOrigin:{type:String},projection:{Type:String,default:"EPSG:3857"},hidpi:{type:Boolean,default:!1},requestEncoding:{type:String,default:"KVP"},format:{type:String},version:{type:String,default:"1.0.0"},culture:{type:String,default:"en-us"},matrixSet:{type:String},dimensions:{type:Object,default:function(){}},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},d_=hr()(sF,[["render",tF]]);function lF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var Dh="1.3.0",jh={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},uF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gh=4,A7=[101,101],cF=function(n){uF(r,n);function r(t){var e=this,i=t||{},a=i.imageSmoothing!==void 0?i.imageSmoothing:!0;return i.interpolate!==void 0&&(a=i.interpolate),e=n.call(this,{attributions:i.attributions,interpolate:a,projection:i.projection,resolutions:i.resolutions})||this,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null,e.url_=i.url,e.imageLoadFunction_=i.imageLoadFunction!==void 0?i.imageLoadFunction:_7,e.params_=i.params||{},e.v13_=!0,e.updateV13_(),e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.image_=null,e.imageSize_=[0,0],e.renderedRevision_=0,e.ratio_=i.ratio!==void 0?i.ratio:1.5,e}return r.prototype.getFeatureInfoUrl=function(t,e,i,a){if(this.url_!==void 0){var c=zn(i),f=this.getProjection();f&&f!==c&&(e=K1(f,c,t,e),t=Jn(t,c,f));var p=zi(t,e,0,A7),g={SERVICE:"WMS",VERSION:Dh,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(yn.a)(g,this.params_,a);var m=Xl((t[0]-p[0])/e,Gh),O=Xl((p[3]-t[1])/e,Gh);return g[this.v13_?"I":"X"]=m,g[this.v13_?"J":"Y"]=O,this.getRequestUrl_(p,A7,1,f||c,g)}},r.prototype.getLegendUrl=function(t,e){if(this.url_!==void 0){var i={SERVICE:"WMS",VERSION:Dh,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var a=this.params_.LAYERS,c=!Array.isArray(a)||a.length===1;if(!c)return;i.LAYER=a}if(t!==void 0){var f=this.getProjection()?this.getProjection().getMetersPerUnit():1,p=28e-5;i.SCALE=t*f/p}return Object(yn.a)(i,e),up(this.url_,i)}},r.prototype.getParams=function(){return this.params_},r.prototype.getImageInternal=function(t,e,i,a){if(this.url_===void 0)return null;e=this.findNearestResolution(e),i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);var c=e/i,f=kn(t),p=Ha(nn(t)/c,Gh),g=Ha(an(t)/c,Gh),m=zi(f,c,0,[p,g]),O=Ha(this.ratio_*nn(t)/c,Gh),P=Ha(this.ratio_*an(t)/c,Gh),V=zi(f,c,0,[O,P]),$=this.image_;if($&&this.renderedRevision_==this.getRevision()&&$.getResolution()==e&&$.getPixelRatio()==i&&Pe($.getExtent(),m))return $;var ot={SERVICE:"WMS",VERSION:Dh,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(yn.a)(ot,this.params_),this.imageSize_[0]=B0(nn(V)/c,Gh),this.imageSize_[1]=B0(an(V)/c,Gh);var yt=this.getRequestUrl_(V,this.imageSize_,i,a,ot);return this.image_=new hE(V,e,i,yt,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(hn.a.CHANGE,this.handleImageChange.bind(this)),this.image_},r.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},r.prototype.getRequestUrl_=function(t,e,i,a,c){if(le(this.url_!==void 0,9),c[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(c.STYLES=""),i!=1)switch(this.serverType_){case jh.GEOSERVER:var f=90*i+.5|0;"FORMAT_OPTIONS"in c?c.FORMAT_OPTIONS+=";dpi:"+f:c.FORMAT_OPTIONS="dpi:"+f;break;case jh.MAPSERVER:c.MAP_RESOLUTION=90*i;break;case jh.CARMENTA_SERVER:case jh.QGIS:c.DPI=90*i;break;default:le(!1,8);break}c.WIDTH=e[0],c.HEIGHT=e[1];var p=a.getAxisOrientation(),g;return this.v13_&&p.substr(0,2)=="ne"?g=[t[1],t[0],t[3],t[2]]:g=t,c.BBOX=g.join(","),up(this.url_,c)},r.prototype.getUrl=function(){return this.url_},r.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},r.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},r.prototype.updateParams=function(t){Object(yn.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},r.prototype.updateV13_=function(){var t=this.params_.VERSION||Dh;this.v13_=G(t,"1.3")>=0},r}(E7),hF=cF,fF={name:"ol-source-image-wms",setup:function(r){var t=Object(N.inject)("imageLayer"),e=Ur(r),i=e.properties,a=function(){return new hF(ur(ur({},i),{},{params:{LAYERS:r.layers,STYLES:r.styles,TIME:r.time},projection:typeof i.projection=="string"?i.projection:new $a(ur({},i.projection))}))},c=a();return Object(N.watch)(i,function(){t.setSource(null),c=a(),t.setSource(c)}),Object(N.onMounted)(function(){t.setSource(c)}),Object(N.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:c}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},format:{type:String,default:"image/png"},version:{type:String,default:"1.3.0"},matrixSet:{type:String},serverType:{type:String,default:"mapserver"},imageSmoothing:{type:Boolean,default:!0},layers:{type:[String,Array],required:!0},styles:{type:[String,Array],default:""},time:{type:String},ratio:{type:Number,default:1},imageSize:{type:Array},url:{type:String},params:{type:Object}}},p_=hr()(fF,[["render",lF]]);function dF(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var pF={name:"ol-source-webglpoints",setup:function(r){var t=Object(N.inject)("webglPointsLayer"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new W0(i)}),c=function(){t.value.setSource(null),t.value.setSource(a.value),t.value.changed()};return Object(N.watch)(i,function(){c()}),Object(N.watch)(t,function(){c()}),Object(N.onMounted)(function(){t.value.setSource(a.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),Object(N.provide)("vectorSource",a),{layer:t,source:a}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},v_=hr()(pF,[["render",dF]]);function V2(n){V2.installed||(V2.installed=!0,n.component(n_.name,n_),n.component(i_.name,i_),n.component(s_.name,s_),n.component(u_.name,u_),n.component(c_.name,c_),n.component(h_.name,h_),n.component(w7.name,w7),n.component(d_.name,d_),n.component(p_.name,p_),n.component(v_.name,v_))}var vF=V2;function gF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var yF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),M7=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],R7={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},mF=function(n){yF(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.on,e.once,e.un,e.cssClassName_=i.className!==void 0?i.className:"ol-full-screen",e.documentListeners_=[],e.activeClassName_=i.activeClassName!==void 0?i.activeClassName.split(" "):[e.cssClassName_+"-true"],e.inactiveClassName_=i.inactiveClassName!==void 0?i.inactiveClassName.split(" "):[e.cssClassName_+"-false"];var a=i.label!==void 0?i.label:"\u2922";e.labelNode_=typeof a=="string"?document.createTextNode(a):a;var c=i.labelActive!==void 0?i.labelActive:"\xD7";e.labelActiveNode_=typeof c=="string"?document.createTextNode(c):c,e.button_=document.createElement("button");var f=i.tipLabel?i.tipLabel:"Toggle full-screen";return e.button_.setAttribute("type","button"),e.button_.title=f,e.button_.appendChild(e.labelNode_),e.button_.addEventListener(hn.a.CLICK,e.handleClick_.bind(e),!1),e.element.className=e.cssClassName_+" "+mr+" "+re,e.element.appendChild(e.button_),e.keys_=i.keys!==void 0?i.keys:!1,e.source_=i.source,e.isInFullscreen_=!1,e.boundHandleMapTargetChange_=e.handleMapTargetChange_.bind(e),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},r.prototype.handleFullScreen_=function(){var t=this.getMap();if(!!t){var e=t.getOwnerDocument();if(!!C7(e))if(b7(e))EF(e);else{var i=void 0;this.source_?i=typeof this.source_=="string"?e.getElementById(this.source_):this.source_:i=t.getTargetElement(),this.keys_?_F(i):L7(i)}}},r.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(!!t){var e=this.isInFullscreen_;this.isInFullscreen_=b7(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Object(fr.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(R7.ENTERFULLSCREEN)):(Object(fr.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(R7.LEAVEFULLSCREEN)),t.updateSize())}},r.prototype.setClassName_=function(t,e){var i,a,c,f=this.activeClassName_,p=this.inactiveClassName_,g=e?f:p;(i=t.classList).remove.apply(i,f),(a=t.classList).remove.apply(a,p),(c=t.classList).add.apply(c,g)},r.prototype.setMap=function(t){var e=this.getMap();e&&e.removeChangeListener(to.TARGET,this.boundHandleMapTargetChange_),n.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(to.TARGET,this.boundHandleMapTargetChange_)},r.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,e=0,i=t.length;e<i;++e)Object($r.c)(t[e]);t.length=0;var a=this.getMap();if(a){var c=a.getOwnerDocument();C7(c)?this.element.classList.remove(ee):this.element.classList.add(ee);for(var e=0,i=M7.length;e<i;++e)t.push(Object($r.a)(c,M7[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},r}(lo.default);function C7(n){var r=n.body;return!!(r.webkitRequestFullscreen||r.msRequestFullscreen&&n.msFullscreenEnabled||r.requestFullscreen&&n.fullscreenEnabled)}function b7(n){return!!(n.webkitIsFullScreen||n.msFullscreenElement||n.fullscreenElement)}function L7(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function _F(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():L7(n)}function EF(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}var SF=mF;function g_(n,r){(r==null||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function wF(n){if(Array.isArray(n))return g_(n)}s("a630");function xF(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}s("fb6a"),s("00b4");function TF(n,r){if(!!n){if(typeof n=="string")return g_(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g_(n,r)}}function OF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(n){return wF(n)||xF(n)||TF(n)||OF()}s("4e82"),s("c740"),s("a434");function Ls(n,r,t){var e=Object(N.inject)("map"),i=Object(N.inject)("controlBar",null),a=i!=null?i.value:e,c=Ur(r),f=c.properties,p=Object(N.computed)(function(){return new n(ur({},f))});return p.value.set("order",t.attrs.order==null?0:t.attrs.order),Object(N.watch)(p,function(g,m){a.removeControl&&(a.removeControl(m),a.addControl(g),e.changed())}),Object(N.onMounted)(function(){if(a.addControl(p.value),a.controls_!=null){var g=I7(a.controls_);g.sort(function(m,O){return m.get("order")-O.get("order")}),a.controls_=[],g.forEach(function(m){a.addControl(m)}),a.changed()}e.changed()}),Object(N.onUnmounted)(function(){if(a.removeControl)a.removeControl(p.value);else{var g=a.controls_.findIndex(function(m){return m==p.value});a.controls_.splice(g,1),p.value.dispose()}e.changed()}),{map:e,control:p}}var AF={name:"ol-fullscreen-control",setup:function(r,t){var e=Ls(SF,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-full-screen"},label:{type:String,default:"\u2922"},labelActive:{type:String,default:"\xD7"},activeClassName:{type:String,default:"ol-full-screen-true"},inactiveClassName:{type:String,default:"ol-full-screen-false"},tipLabel:{type:String,default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{type:Object,default:void 0},source:{type:Object,default:void 0}}},y_=hr()(AF,[["render",gF]]);function MF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var RF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),m_="projection",P7="coordinateFormat",CF=function(n){RF(r,n);function r(t){var e=this,i=t||{},a=document.createElement("div");a.className=i.className!==void 0?i.className:"ol-mouse-position",e=n.call(this,{element:a,render:i.render,target:i.target})||this,e.on,e.once,e.un,e.addChangeListener(m_,e.handleProjectionChanged_),i.coordinateFormat&&e.setCoordinateFormat(i.coordinateFormat),i.projection&&e.setProjection(i.projection);var c=!0,f="&#160;";return"undefinedHTML"in i?(i.undefinedHTML!==void 0&&(f=i.undefinedHTML),c=!!f):"placeholder"in i&&(i.placeholder===!1?c=!1:f=String(i.placeholder)),e.placeholder_=f,e.renderOnMouseOut_=c,e.renderedHTML_=a.innerHTML,e.mapProjection_=null,e.transform_=null,e}return r.prototype.handleProjectionChanged_=function(){this.transform_=null},r.prototype.getCoordinateFormat=function(){return this.get(P7)},r.prototype.getProjection=function(){return this.get(m_)},r.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},r.prototype.handleMouseOut=function(t){this.updateHTML_(null)},r.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var e=t.getViewport();this.listenerKeys.push(Object($r.a)(e,aa.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object($r.a)(e,aa.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},r.prototype.setCoordinateFormat=function(t){this.set(P7,t)},r.prototype.setProjection=function(t){this.set(m_,zn(t))},r.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();i?this.transform_=pl(this.mapProjection_,i):this.transform_=Cl}var a=this.getMap(),c=a.getCoordinateFromPixelInternal(t);if(c){var f=U();f&&(this.transform_=pl(this.mapProjection_,f)),this.transform_(c,c);var p=this.getCoordinateFormat();p?e=p(c):e=c.toString()}}(!this.renderedHTML_||e!==this.renderedHTML_)&&(this.element.innerHTML=e,this.renderedHTML_=e)},r.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},r}(lo.default),bF=CF,LF={name:"ol-mouseposition-control",setup:function(r,t){var e=Ls(bF,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-mouse-position"},coordinateFormat:{type:[String,Function]},projection:{type:String},render:{type:Function},target:{type:HTMLElement},undefinedHTML:{type:String,default:"&#160;"}}},__=hr()(LF,[["render",MF]]);function IF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var PF={name:"ol-attribution-control",setup:function(r,t){var e=Ls(Pf,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-attribution"},target:{type:HTMLElement},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{type:String,default:"Attributions"},label:{type:String,default:"i"},expandClassName:{type:String,default:"ol-attribution-expand"},collapseLabel:{type:String,default:"\xBB"},collapseClassName:{type:String,default:"ol-attribution-collapse"},render:{type:Function}}},E_=hr()(PF,[["render",IF]]);function NF(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var N7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S_=.75,W2=.1,FF=function(n){N7(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.createRenderer=function(){return new Hi(this)},r}(E1),DF=function(n){N7(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.boundHandleRotationChanged_=e.handleRotationChanged_.bind(e),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1),e.rotateWithView_=i.rotateWithView!==void 0?i.rotateWithView:!1,e.viewExtent_=void 0;var a=i.className!==void 0?i.className:"ol-overviewmap",c=i.tipLabel!==void 0?i.tipLabel:"Overview map",f=i.collapseLabel!==void 0?i.collapseLabel:"\u2039";typeof f=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=f):e.collapseLabel_=f;var p=i.label!==void 0?i.label:"\u203A";typeof p=="string"?(e.label_=document.createElement("span"),e.label_.textContent=p):e.label_=p;var g=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_,m=document.createElement("button");m.setAttribute("type","button"),m.title=c,m.appendChild(g),m.addEventListener(hn.a.CLICK,e.handleClick_.bind(e),!1),e.ovmapDiv_=document.createElement("div"),e.ovmapDiv_.className="ol-overviewmap-map",e.view_=i.view,e.ovmap_=new FF({view:i.view});var O=e.ovmap_;i.layers&&i.layers.forEach(function(ye){O.addLayer(ye)});var P=document.createElement("div");P.className="ol-overviewmap-box",P.style.boxSizing="border-box",e.boxOverlay_=new p0({position:[0,0],positioning:sa.CENTER_CENTER,element:P}),e.ovmap_.addOverlay(e.boxOverlay_);var V=a+" "+mr+" "+re+(e.collapsed_&&e.collapsible_?" "+Ne:"")+(e.collapsible_?"":" ol-uncollapsible"),$=e.element;$.className=V,$.appendChild(e.ovmapDiv_),$.appendChild(m);var ot=e,yt=e.boxOverlay_,Lt=e.boxOverlay_.getElement(),zt=function(ye){return{clientX:ye.clientX,clientY:ye.clientY}},Ht=function(ye){var ve=zt(ye),Oe=O.getEventCoordinateInternal(ve);yt.setPosition(Oe)},jt=function(ye){var ve=O.getEventCoordinateInternal(ye);ot.getMap().getView().setCenterInternal(ve),window.removeEventListener("mousemove",Ht),window.removeEventListener("mouseup",jt)};return Lt.addEventListener("mousedown",function(){window.addEventListener("mousemove",Ht),window.addEventListener("mouseup",jt)}),e}return r.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var i=e.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(n.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object($r.a)(t,Ye.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var a=t.getView();a&&(this.bindView_(a),a.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},r.prototype.handleMapPropertyChange_=function(t){if(t.key===to.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(t.key===to.TARGET||t.key===to.SIZE)&&this.ovmap_.updateSize()},r.prototype.bindView_=function(t){if(!this.view_){var e=new po({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(fa.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},r.prototype.unbindView_=function(t){t.removeChangeListener(fa.ROTATION,this.boundHandleRotationChanged_)},r.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},r.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),a=t.getView(),c=a.calculateExtentInternal(i);if(!(this.viewExtent_&&Ar(c,this.viewExtent_))){this.viewExtent_=c;var f=e.getSize(),p=e.getView(),g=p.calculateExtentInternal(f),m=e.getPixelFromCoordinateInternal(_i(c)),O=e.getPixelFromCoordinateInternal(ao(c)),P=Math.abs(m[0]-O[0]),V=Math.abs(m[1]-O[1]),$=f[0],ot=f[1];P<$*W2||V<ot*W2||P>$*S_||V>ot*S_?this.resetExtent_():Pe(g,c)||this.recenter_()}}},r.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),a=t.getView(),c=a.calculateExtentInternal(i),f=e.getView(),p=Math.log(S_/W2)/Math.LN2,g=1/(Math.pow(2,p/2)*W2);Un(c,g),f.fitInternal(eu(c))},r.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView(),a=e.getView();a.setCenterInternal(i.getCenterInternal())},r.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),a=t.getView(),c=e.getView(),f=this.rotateWithView_?0:-a.getRotation(),p=this.boxOverlay_,g=this.boxOverlay_.getElement(),m=a.getCenterInternal(),O=a.getResolution(),P=c.getResolution(),V=i[0]*O/P,$=i[1]*O/P;if(p.setPosition(m),g){g.style.width=V+"px",g.style.height=$+"px";var ot="rotate("+f+"rad)";g.style.transform=ot}}},r.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object($r.b)(this.ovmap_,Wn.a.POSTRENDER,function(t){delete this.ovmapPostrenderKey_,this.updateBox_()},this))},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},r.prototype.handleToggle_=function(){this.element.classList.toggle(Ne),this.collapsed_?Object(fr.g)(this.collapseLabel_,this.label_):Object(fr.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered()){this.viewExtent_=void 0,t.render();return}t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){!this.collapsible_||this.collapsed_===t||this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},r.prototype.getOverviewMap=function(){return this.ovmap_},r.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},r}(lo.default),jF=DF,GF={name:"ol-overviewmap-control",setup:function(r,t){var e=Object(N.inject)("map"),i=Ls(jF,r,t),a=i.control;return Object(N.onMounted)(function(){a.value.setMap(e)}),Object(N.onUnmounted)(function(){a.value.setMap(null)}),Object(N.provide)("overviewMap",a),{control:a}},props:{className:{type:String,default:"ol-overviewmap"},collapsed:{type:Boolean,default:!0},collapseLabel:{type:String,default:"\xAB"},collapsible:{type:Boolean,default:!0},label:{type:String,default:"\xBB"},render:{type:Function},rotateWithView:{type:Boolean,default:!1},target:{type:HTMLElement},tipLabel:{type:String,default:"Overview map"}}},w_=hr()(GF,[["render",NF]]);function BF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var UF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x_="units",Xf={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},kF=[1,2,5],T_=25.4/.28,zF=function(n){UF(r,n);function r(t){var e=this,i=t||{},a=i.className!==void 0?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.on,e.once,e.un,e.innerElement_=document.createElement("div"),e.innerElement_.className=a+"-inner",e.element.className=a+" "+mr,e.element.appendChild(e.innerElement_),e.viewState_=null,e.minWidth_=i.minWidth!==void 0?i.minWidth:64,e.renderedVisible_=!1,e.renderedWidth_=void 0,e.renderedHTML_="",e.addChangeListener(x_,e.handleUnitsChanged_),e.setUnits(i.units||Xf.METRIC),e.scaleBar_=i.bar||!1,e.scaleBarSteps_=i.steps||4,e.scaleBarText_=i.text||!1,e.dpi_=i.dpi||void 0,e}return r.prototype.getUnits=function(){return this.get(x_)},r.prototype.handleUnitsChanged_=function(){this.updateElement_()},r.prototype.setUnits=function(t){this.set(x_,t)},r.prototype.setDpi=function(t){this.dpi_=t},r.prototype.updateElement_=function(){var t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=t.center,i=t.projection,a=this.getUnits(),c=a==Xf.DEGREES?Zi.DEGREES:Zi.METERS,f=Iu(i,t.resolution,e,c),p=this.minWidth_*(this.dpi_||T_)/T_,g=p*f,m="";if(a==Xf.DEGREES){var O=ha[Zi.DEGREES];g*=O,g<O/60?(m="\u2033",f*=3600):g<O?(m="\u2032",f*=60):m="\xB0"}else a==Xf.IMPERIAL?g<.9144?(m="in",f/=.0254):g<1609.344?(m="ft",f/=.3048):(m="mi",f/=1609.344):a==Xf.NAUTICAL?(f/=1852,m="nm"):a==Xf.METRIC?g<.001?(m="\u03BCm",f*=1e6):g<1?(m="mm",f*=1e3):g<1e3?m="m":(m="km",f/=1e3):a==Xf.US?g<.9144?(m="in",f*=39.37):g<1609.344?(m="ft",f/=.30480061):(m="mi",f/=1609.3472):le(!1,33);for(var P=3*Math.floor(Math.log(p*f)/Math.log(10)),V,$,ot;;){ot=Math.floor(P/3);var yt=Math.pow(10,ot);if(V=kF[(P%3+3)%3]*yt,$=Math.round(V/f),isNaN($)){this.element.style.display="none",this.renderedVisible_=!1;return}else if($>=p)break;++P}var Lt;this.scaleBar_?Lt=this.createScaleBar($,V,m):Lt=V.toFixed(ot<0?-ot:0)+" "+m,this.renderedHTML_!=Lt&&(this.innerElement_.innerHTML=Lt,this.renderedHTML_=Lt),this.renderedWidth_!=$&&(this.innerElement_.style.width=$+"px",this.renderedWidth_=$),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)},r.prototype.createScaleBar=function(t,e,i){for(var a="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),c=[],f=t/this.scaleBarSteps_,p="#ffffff",g=0;g<this.scaleBarSteps_;g++)g===0&&c.push(this.createMarker("absolute",g)),c.push('<div><div class="ol-scale-singlebar" style="width: '+f+"px;background-color: "+p+';"></div>'+this.createMarker("relative",g)+(g%2===0||this.scaleBarSteps_===2?this.createStepText(g,t,!1,e,i):"")+"</div>"),g===this.scaleBarSteps_-1&&c.push(this.createStepText(g+1,t,!0,e,i)),p==="#ffffff"?p="#000000":p="#ffffff";var m;this.scaleBarText_?m='<div class="ol-scale-text" style="width: '+t+'px;">'+a+"</div>":m="";var O='<div style="display: flex;">'+m+c.join("")+"</div>";return O},r.prototype.createMarker=function(t,e){var i=t==="absolute"?3:-10;return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+i+'px;"></div>'},r.prototype.createStepText=function(t,e,i,a,c){var f=t===0?0:Math.round(a/this.scaleBarSteps_*t*100)/100,p=f+(t===0?"":" "+c),g=t===0?-3:e/this.scaleBarSteps_*-1,m=t===0?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+g+"px;text-align: "+(t===0?"left":"center")+"; min-width: "+m+"px;left: "+(i?e+"px":"unset")+';">'+p+"</div>"},r.prototype.getScaleForResolution=function(){var t=Iu(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,Zi.METERS),e=this.dpi_||T_,i=1e3/25.4;return parseFloat(t.toString())*i*e},r.prototype.render=function(t){var e=t.frameState;e?this.viewState_=e.viewState:this.viewState_=null,this.updateElement_()},r}(lo.default),VF=zF,WF={name:"ol-scaleline-control",setup:function(r,t){var e=Ls(VF,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-scale-line"},minWidth:{type:Number,default:64},render:{type:Function},target:{type:HTMLElement},units:{type:String,default:"metric"},bar:{type:Boolean,default:!1},steps:{type:Number,default:4},text:{type:Boolean,default:!1},dpi:{type:Number,default:void 0}}},O_=hr()(WF,[["render",BF]]);function YF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var HF={name:"ol-zoom-control",setup:function(r,t){var e=Ls(Ff,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:250},className:{type:String,default:"ol-zoom"},zoomInClassName:{type:String,default:"ol-zoom-in"},zoomOutClassName:{type:String,default:"ol-zoom-out"},zoomInLabel:{type:String,default:"+"},zoomOutLabel:{type:String,default:"-"},zoomInTipLabel:{type:String,default:"Zoom in"},zoomOutTipLabel:{type:String,default:"Zoom Out"},delta:{type:Number,default:1},target:{type:HTMLElement}}},A_=hr()(HF,[["render",YF]]);function XF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var KF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iv={VERTICAL:0,HORIZONTAL:1},$F=function(n){KF(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render})||this,e.dragListenerKeys_=[],e.currentResolution_=void 0,e.direction_=iv.VERTICAL,e.dragging_,e.heightLimit_=0,e.widthLimit_=0,e.startX_,e.startY_,e.thumbSize_=null,e.sliderInitialized_=!1,e.duration_=i.duration!==void 0?i.duration:200;var a=i.className!==void 0?i.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button"),c.className=a+"-thumb "+mr;var f=e.element;return f.className=a+" "+mr+" "+re,f.appendChild(c),f.addEventListener(aa.POINTERDOWN,e.handleDraggerStart_.bind(e),!1),f.addEventListener(aa.POINTERMOVE,e.handleDraggerDrag_.bind(e),!1),f.addEventListener(aa.POINTERUP,e.handleDraggerEnd_.bind(e),!1),f.addEventListener(hn.a.CLICK,e.handleContainerClick_.bind(e),!1),c.addEventListener(hn.a.CLICK,cr.b,!1),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),t&&t.render()},r.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight;if(e===0&&i===0)return this.sliderInitialized_=!1;var a=getComputedStyle(t);e-=parseFloat(a.paddingRight)+parseFloat(a.paddingLeft),i-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom);var c=t.firstElementChild,f=getComputedStyle(c),p=c.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),g=c.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);return this.thumbSize_=[p,g],e>i?(this.direction_=iv.HORIZONTAL,this.widthLimit_=e-p):(this.direction_=iv.VERTICAL,this.heightLimit_=i-g),this.sliderInitialized_=!0},r.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),a=this.getResolutionForPosition_(i),c=e.getConstrainedZoom(e.getZoomForResolution(a));e.animateInternal({zoom:c,duration:this.duration_,easing:Hr})},r.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){var i=this.handleDraggerDrag_,a=this.handleDraggerEnd_,c=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object($r.a)(c,aa.POINTERMOVE,i,this),Object($r.a)(c,aa.POINTERUP,a,this))}}},r.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,a=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(a),this.getMap().getView().setResolution(this.currentResolution_)}},r.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach($r.c),this.dragListenerKeys_.length=0}},r.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==iv.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},r.prototype.getRelativePosition_=function(t,e){var i;return this.direction_===iv.HORIZONTAL?i=t/this.widthLimit_:i=e/this.heightLimit_,Si(i,0,1)},r.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},r.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return Si(1-e(t),0,1)},r.prototype.render=function(t){if(!!t.frameState&&!(!this.sliderInitialized_&&!this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},r}(lo.default),ZF=$F,qF={name:"ol-zoomslider-control",setup:function(r,t){var e=Ls(ZF,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:200},className:{type:String,default:"ol-zoomslider"},render:{type:Function}}},M_=hr()(qF,[["render",XF]]);function JF(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var QF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tD=function(n){QF(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.extent=i.extent?i.extent:null;var a=i.className!==void 0?i.className:"ol-zoom-extent",c=i.label!==void 0?i.label:"E",f=i.tipLabel!==void 0?i.tipLabel:"Fit to extent",p=document.createElement("button");p.setAttribute("type","button"),p.title=f,p.appendChild(typeof c=="string"?document.createTextNode(c):c),p.addEventListener(hn.a.CLICK,e.handleClick_.bind(e),!1);var g=a+" "+mr+" "+re,m=e.element;return m.className=g,m.appendChild(p),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),i=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(eu(i))},r}(lo.default),eD=tD,rD={name:"ol-zoomtoextent-control",setup:function(r,t){var e=Ls(eD,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-zoom-extent"},target:{type:HTMLElement},label:{type:String,default:"E"},tipLabel:{type:String,default:"Fit to extent"},extent:{type:Array}}},R_=hr()(rD,[["render",JF]]);function nD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var iD={name:"ol-rotate-control",setup:function(r,t){var e=Ls(Nf,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-rotate"},label:{type:String,default:"\u21E7"},tipLabel:{type:String,default:"Reset rotation"},compassClassName:{type:String,default:"ol-compass"},duration:{type:Number,default:250},autoHide:{type:Boolean,default:!1},render:{type:Function},resetNorth:{type:Function},target:{type:HTMLElement}}},F7=hr()(iD,[["render",nD]]);function oD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var aD=s("658f"),sD=s.n(aD),lD={name:"ol-context-menu",setup:function(r,t){var e=Ls(sD.a,r,t),i=e.control;return{control:i}},props:{eventType:{type:String,default:"contextmenu"},defaultItems:{type:Boolean,default:!0},width:{type:Number,default:150},items:{type:Array,default:function(){return[]}}}},C_=hr()(lD,[["render",oD]]);function uD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var lu=function(n){n=n||{};var r=document.createElement("button"),t=document.createElement("div");t.className=(n.className||"ol-swipe")+" ol-unselectable ol-control",t.appendChild(r),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),lo.default.call(this,{element:t}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],n.layers&&this.addLayer(n.layers,!1),n.rightLayers&&this.addLayer(n.rightLayers,!0),this.on("propertychange",function(e){if(this.getMap())try{this.getMap().renderSync()}catch{}this.get("orientation")==="horizontal"?(this.element.style.top=this.get("position")*100+"%",this.element.style.left=""):(this.get("orientation")!=="vertical"&&this.set("orientation","vertical"),this.element.style.left=this.get("position")*100+"%",this.element.style.top=""),e.key==="orientation"&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach(function(i){i.layer.getImageRatio&&i.layer.changed()})}.bind(this)),this.set("position",n.position||.5),this.set("orientation",n.orientation||"vertical")};Ro(lu,lo.default),lu.prototype.setMap=function(n){var r,t;if(this.getMap()){for(r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.un(["precompose","prerender"],this.precomposeRight_):t.layer.un(["precompose","prerender"],this.precomposeLeft_),t.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}if(lo.default.prototype.setMap.call(this,n),n){for(this._listener=[],r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.on(["precompose","prerender"],this.precomposeRight_):t.layer.on(["precompose","prerender"],this.precomposeLeft_),t.layer.on(["postcompose","postrender"],this.postcompose_);try{n.renderSync()}catch{}}},lu.prototype.isLayer_=function(n){for(var r=0;r<this.layers.length;r++)if(this.layers[r].layer===n)return r;return-1},lu.prototype.addLayer=function(n,r){n instanceof Array||(n=[n]);for(var t=0;t<n.length;t++){var e=n[t];if(this.isLayer_(e)<0&&(this.layers.push({layer:e,right:r}),this.getMap())){r?e.on(["precompose","prerender"],this.precomposeRight_):e.on(["precompose","prerender"],this.precomposeLeft_),e.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}}},lu.prototype.removeLayers=function(){var n=[];this.layers.forEach(function(r){n.push(r.layer)}),this.removeLayer(n)},lu.prototype.removeLayer=function(n){n instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var t=this.isLayer_(n[r]);t>=0&&this.getMap()&&(this.layers[t].right?n[r].un(["precompose","prerender"],this.precomposeRight_):n[r].un(["precompose","prerender"],this.precomposeLeft_),n[r].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(t,1))}if(this.getMap())try{this.getMap().renderSync()}catch{}},lu.prototype.getRectangle=function(){var n;return this.get("orientation")==="vertical"?(n=this.getMap().getSize(),[0,0,n[0]*this.get("position"),n[1]]):(n=this.getMap().getSize(),[0,0,n[0],n[1]*this.get("position")])},lu.prototype.move=function(n){var r=this,t;switch(this._movefn||(this._movefn=this.move.bind(this)),n.type){case"touchcancel":case"touchend":case"mouseup":{r.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(f){document.removeEventListener(f,r._movefn)}),this.layers.forEach(function(f){f.layer.getImageRatio&&f.layer.changed()});break}case"mousedown":case"touchstart":r.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(f){document.addEventListener(f,r._movefn)});case"mousemove":case"touchmove":{if(r.isMoving)if(r.get("orientation")==="vertical"){var e=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX;if(!e)break;e-=r.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,t=r.getMap().getSize()[0];var i=t-Math.min(Math.max(0,t-e),t);t=i/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[i,r.getMap().getSize()[1]],position:[t,0]})}else{var a=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY;if(!a)break;a-=r.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,t=r.getMap().getSize()[1];var c=t-Math.min(Math.max(0,t-a),t);t=c/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[r.getMap().getSize()[0],c],position:[0,t]})}break}}},lu.prototype._transformPt=function(n,r){var t=n.inversePixelTransform,e=r[0],i=r[1];return r[0]=t[0]*e+t[2]*i+t[4],r[1]=t[1]*e+t[3]*i+t[5],r},lu.prototype._drawRect=function(n,r){var t=n.inversePixelTransform;if(t){var e=[[r[0][0],r[0][1]],[r[0][0],r[1][1]],[r[1][0],r[1][1]],[r[1][0],r[0][1]],[r[0][0],r[0][1]]];if(n.context.save(),n.target.getImageRatio){var i=-Math.atan2(n.frameState.pixelToCoordinateTransform[1],n.frameState.pixelToCoordinateTransform[0]);n.context.translate(n.frameState.size[0]/2,n.frameState.size[1]/2),n.context.rotate(i),n.context.translate(-n.frameState.size[0]/2,-n.frameState.size[1]/2)}e.forEach(function(c,f){c=[c[0]*t[0]-c[1]*t[1]+t[4],-c[0]*t[2]+c[1]*t[3]+t[5]],f?n.context.lineTo(c[0],c[1]):n.context.moveTo(c[0],c[1])}),n.context.restore()}else{var a=n.frameState.pixelRatio;n.context.rect(r[0][0]*a,r[0][1]*a,r[1][0]*a,r[1][1]*a)}},lu.prototype.precomposeLeft=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),a=i[0]-e[0],c=i[1]-e[1];this.get("orientation")==="vertical"?a=Math.round(a*this.get("position")):(c=Math.round(c*this.get("position")),e[1]+=t[1]-c),r.scissor(e[0],e[1],a,c)}}else{var f=n.frameState.size;r.save(),r.beginPath();var p=[[0,0],[f[0],f[1]]];this.get("orientation")==="vertical"?p[1]=[f[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),f[1]]:p[1]=[f[0],f[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,p),r.clip()}},lu.prototype.precomposeRight=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),a=i[0]-e[0],c=i[1]-e[1];this.get("orientation")==="vertical"?(a=Math.round(a*(1-this.get("position"))),e[0]+=t[0]-a):c=Math.round(c*(1-this.get("position"))),r.scissor(e[0],e[1],a,c)}}else{var f=n.frameState.size;r.save(),r.beginPath();var p=[[0,0],[f[0],f[1]]];this.get("orientation")==="vertical"?p[0]=[f[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),0]:p[0]=[0,f[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,p),r.clip()}},lu.prototype.postcompose=function(n){if(n.context instanceof WebGLRenderingContext){if(n.type==="postrender"){var r=n.context;r.disable(r.SCISSOR_TEST)}}else n.target.getClassName&&n.target.getClassName()!=="ol-layer"&&n.target.get("declutter")?setTimeout(function(){n.context.restore()},0):n.context.restore()};var cD=lu,hD={name:"ol-swipe-control",setup:function(r,t){var e=Ls(cD,r,t),i=e.control,a=Object(N.toRefs)(r),c=a.layerList;return c.value.forEach(function(f,p){i.value.addLayer(f,p==1)}),{control:i}},props:{layerList:{type:Array},className:{type:String,default:"ol-swipe"},position:{type:Number,default:.5},orientation:{type:String,default:"vertical"}}},b_=hr()(hD,[["render",uD]]);function fD(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var Yu=function(n){n||(n={});var r=document.createElement("div");if(r.classList.add("ol-unselectable","ol-control","ol-bar"),n.className){var t=n.className.split(" ").filter(function(i){return i.length>0});r.classList.add.apply(r.classList,t)}if(n.group&&r.classList.add("ol-group"),lo.default.call(this,{element:r,target:n.target}),this.set("toggleOne",n.toggleOne),this.set("autoDeactivate",n.autoDeactivate),this.controls_=[],n.controls instanceof Array)for(var e=0;e<n.controls.length;e++)this.addControl(n.controls[e])};Ro(Yu,lo.default),Yu.prototype.setVisible=function(n){n?this.element.style.display="":this.element.style.display="none"},Yu.prototype.getVisible=function(){return this.element.style.display!="none"},Yu.prototype.setMap=function(n){lo.default.prototype.setMap.call(this,n);for(var r=0;r<this.controls_.length;r++){var t=this.controls_[r];t.setMap(n)}},Yu.prototype.getControls=function(){return this.controls_},Yu.prototype.setPosition=function(n){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),n=n.split("-");for(var r=0;r<n.length;r++)switch(n[r]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+n[r]);break}},Yu.prototype.addControl=function(n){this.controls_.push(n),n.setTarget(this.element),this.getMap()&&this.getMap().addControl(n),n.on("change:active",function(r){this.onActivateControl_(r,n)}.bind(this)),n.getActive&&this.onActivateControl_({target:n,active:n.getActive()},n)},Yu.prototype.deactivateControls=function(n){for(var r=0;r<this.controls_.length;r++)this.controls_[r]!==n&&this.controls_[r].setActive&&this.controls_[r].setActive(!1)},Yu.prototype.getActiveControls=function(){for(var n=[],r=0,t;t=this.controls_[r];r++)t.getActive&&t.getActive()&&n.push(t);return n},Yu.prototype.setActive=function(n){if(!n&&this.get("autoDeactivate")&&this.deactivateControls(),n)for(var r=this.getControls(),t=0,e;e=r[t];t++)e.get("autoActivate")&&e.setActive(!0)},Yu.prototype.onActivateControl_=function(n,r){if(this.get("toggleOne")){if(n.active){var t;for(t=0;t<this.controls_.length&&this.controls_[t]!==r;t++);if(t==this.controls_.length)return;this.deactivateControls(this.controls_[t])}else if(!this.getActiveControls().length){for(var e=0,i;i=this.controls_[e];e++)if(i.get("autoActivate")){i.setActive(!0);break}}}},Yu.prototype.getControlsByName=function(n){var r=this.getControls();return r.filter(function(t){return t.get("name")===n})};var dD=Yu,pD={name:"ol-control-bar",setup:function(r,t){var e=Ls(dD,r,t),i=e.control;return Object(N.provide)("controlBar",i),{control:i}},props:{toggleOne:{type:Boolean,default:!0},group:{type:Boolean,default:!0}}},L_=hr()(pD,[["render",fD]]);function vD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}window.ol&&(ol.ext.input={});var cp=function(n){n=n||{},_o.a.call(this);var r=this.input=n.input;r||(r=this.input=document.createElement("INPUT"),n.type&&r.setAttribute("type",n.type),n.min!==void 0&&r.setAttribute("min",n.min),n.max!==void 0&&r.setAttribute("max",n.max),n.step!==void 0&&r.setAttribute("step",n.step),n.parent&&n.parent.appendChild(r)),n.disabled&&(r.disabled=!0),n.checked!==void 0&&(r.checked=!!n.checked),n.val!==void 0&&(r.value=n.val),n.hidden&&(r.style.display="none")};Ro(cp,_o.a),cp.prototype._listenDrag=function(n,r){var t=function(e){this.moving=!0;var i=function(a){a.type==="pointerup"&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",i),document.removeEventListener("pointercancel",i),setTimeout(function(){this.moving=!1}.bind(this))),a.target===n&&r(a),a.stopPropagation(),a.preventDefault()}.bind(this);document.addEventListener("pointermove",i,!1),document.addEventListener("pointerup",i,!1),document.addEventListener("pointercancel",i,!1),e.stopPropagation(),e.preventDefault()}.bind(this);n.addEventListener("mousedown",t,!1),n.addEventListener("touchstart",t,!1)},cp.prototype.setValue=function(n){n!==void 0&&(this.input.value=n),this.input.dispatchEvent(new Event("change"))},cp.prototype.getValue=function(){return this.input.value},cp.prototype.getInputElement=function(){return this.input};var D7=cp,I_=function(n){n=n||{},D7.call(this,n);var r=this.element=document.createElement("LABEL");n.html instanceof Element?r.appendChild(n.html):n.html!==void 0&&(r.innerHTML=n.html),r.className=("ol-ext-check ol-ext-checkbox"+(n.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(r,this.input),r.appendChild(this.input),r.appendChild(document.createElement("SPAN")),n.after&&r.appendChild(document.createTextNode(n.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};Ro(I_,D7),I_.prototype.isChecked=function(){return this.input.checked};var ov=I_,j7=function(n){n=n||{},ov.call(this,n),this.element.className=("ol-ext-toggle-switch "+(n.className||"")).trim()};Ro(j7,ov);var gD=j7,G7=function(n,r){r=r||{},ov.call(this,n,r),this.element.className=("ol-ext-check ol-ext-radio"+(r.className||"")).trim()};Ro(G7,ov);var yD=G7,io={};io.create=function(n,r){r=r||{};var t;if(n==="TEXT")t=document.createTextNode(r.html||""),r.parent&&r.parent.appendChild(t);else{t=document.createElement(n),/button/i.test(n)&&t.setAttribute("type","button");for(var e in r)switch(e){case"className":{r.className&&r.className.trim&&t.setAttribute("class",r.className.trim());break}case"html":{r.html instanceof Element?t.appendChild(r.html):r.html!==void 0&&(t.innerHTML=r.html);break}case"parent":{r.parent&&r.parent.appendChild(t);break}case"options":{if(/select/i.test(n))for(var i in r.options)io.create("OPTION",{html:i,value:r.options[i],parent:t});break}case"style":{this.setStyle(t,r.style);break}case"change":case"click":{io.addListener(t,e,r[e]);break}case"on":{for(var a in r.on)io.addListener(t,a,r.on[a]);break}case"checked":{t.checked=!!r.checked;break}default:{t.setAttribute(e,r[e]);break}}}return t},io.createSwitch=function(n){var r=io.create("INPUT",{type:"checkbox",on:n.on,click:n.click,change:n.change,parent:n.parent}),t=Object.assign({input:r},n||{});return new gD(t),r},io.createCheck=function(n){var r=io.create("INPUT",{name:n.name,type:n.type==="radio"?"radio":"checkbox",on:n.on,parent:n.parent});console.log(r);var t=Object.assign({input:r},n||{});return n.type==="radio"?new yD(t):new ov(t),r},io.setHTML=function(n,r){r instanceof Element?n.appendChild(r):r!==void 0&&(n.innerHTML=r)},io.appendText=function(n,r){n.appendChild(document.createTextNode(r||""))},io.addListener=function(n,r,t,e){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(i){n.addEventListener(i,t,e)})},io.removeListener=function(n,r,t){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(e){n.removeEventListener(e,t)})},io.show=function(n){n.style.display=""},io.hide=function(n){n.style.display="none"},io.hidden=function(n){return io.getStyle(n,"display")==="none"},io.toggle=function(n){n.style.display=n.style.display==="none"?"":"none"},io.setStyle=function(n,r){for(var t in r)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof r[t]=="number"?n.style[t]=r[t]+"px":n.style[t]=r[t];break}default:n.style[t]=r[t]}},io.getStyle=function(n,r){var t,e=(n.ownerDocument||document).defaultView;if(e&&e.getComputedStyle)r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.getComputedStyle(n,null).getPropertyValue(r);else if(n.currentStyle&&(r=r.replace(/-(\w)/g,function(i,a){return a.toUpperCase()}),t=n.currentStyle[r],/^\d+(em|pt|%|ex)?$/i.test(t)))return function(i){var a=n.style.left,c=n.runtimeStyle.left;return n.runtimeStyle.left=n.currentStyle.left,n.style.left=i||0,i=n.style.pixelLeft+"px",n.style.left=a,n.runtimeStyle.left=c,i}(t);return/px$/.test(t)?parseInt(t):t},io.outerHeight=function(n){return n.offsetHeight+io.getStyle(n,"marginBottom")},io.outerWidth=function(n){return n.offsetWidth+io.getStyle(n,"marginLeft")},io.offsetRect=function(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:r.height||r.bottom-r.top,width:r.width||r.right-r.left}},io.getFixedOffset=function(n){var r={left:0,top:0},t=function(e){if(!e)return r;if(io.getStyle(e,"position")==="absolute"&&io.getStyle(e,"transform")!=="none"){var i=e.getBoundingClientRect();return r.left+=i.left,r.top+=i.top,r}return console.log(e,r),t(e.offsetParent)};return t(n.offsetParent)},io.positionRect=function(n,r){var t=0,e=0,i=function(a){if(a)return t+=a.offsetLeft,e+=a.offsetTop,i(a.offsetParent);var c={top:n.offsetTop+e,left:n.offsetLeft+t};return r&&(c.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),c.bottom=c.top+n.offsetHeight,c.right=c.top+n.offsetWidth,c};return i(n.offsetParent)},io.scrollDiv=function(n,r){r=r||{};var t=!1,e=0,i,a=0,c=typeof r.onmove=="function"?r.onmove:function(){},f=r.vertical?"screenY":"screenX",p=r.vertical?"scrollTop":"scrollLeft",g=!1,m,O,P=0,V=function(){Ht&&(P++,setTimeout($))},$=function(){if(Ht){if(P--,P)return;var Oe=n.clientHeight,we=n.scrollHeight;m=Oe/we,Ht.style.height=m*100+"%",Ht.style.top=n.scrollTop/we*100+"%",zt.style.height=Oe+"px",Oe>we-.5?zt.classList.add("ol-100pc"):zt.classList.remove("ol-100pc")}},ot=function(Oe){Oe.target.classList.contains("ol-noscroll")||(g=!1,t=Oe[f],a=new Date,n.classList.add("ol-move"),Oe.preventDefault(),window.addEventListener("pointermove",yt),io.addListener(window,["pointerup","pointercancel"],ye))},yt=function(Oe){if(g=!0,t!==!1){var we=(O?-1/m:1)*(t-Oe[f]);n[p]+=we,i=new Date,i-a&&(e=(e+we/(i-a))/2),t=Oe[f],a=i,we&&c(!0)}},Lt=function(Oe){var we=Oe>0?Math.min(100,Oe/2):Math.max(-100,Oe/2);Oe-=we,n[p]+=we,-1<Oe&&Oe<1?(g?setTimeout(function(){n.classList.remove("ol-move")}):n.classList.remove("ol-move"),g=!1,c(!1)):setTimeout(function(){Lt(Oe)},40)},zt,Ht;if(r.vertical&&r.minibar){var jt=function(Oe){n.removeEventListener("pointermove",jt),n.parentNode.classList.add("ol-miniscroll"),Ht=io.create("DIV"),zt=io.create("DIV",{className:"ol-scroll",html:Ht}),n.parentNode.insertBefore(zt,n),Ht.addEventListener("pointerdown",function(we){O=!0,ot(we)}),r.mousewheel&&(io.addListener(zt,["mousewheel","DOMMouseScroll","onmousewheel"],function(we){ve(we)}),io.addListener(Ht,["mousewheel","DOMMouseScroll","onmousewheel"],function(we){ve(we)})),n.parentNode.addEventListener("pointerenter",V),window.addEventListener("resize",V),Oe!==!1&&V()};n.parentNode?jt(!1):n.addEventListener("pointermove",jt),n.addEventListener("scroll",function(){V()})}n.style["touch-action"]="none",n.style.overflow="hidden",n.classList.add("ol-scrolldiv"),io.addListener(n,["pointerdown"],function(Oe){O=!1,ot(Oe)}),n.addEventListener("click",function(Oe){n.classList.contains("ol-move")&&(Oe.preventDefault(),Oe.stopPropagation())},!0);var ye=function(Oe){a=new Date-a,a>100||O?e=0:a>0&&(e=((e||0)+(t-Oe[f])/a)/2),Lt(r.animate===!1?0:e*200),t=!1,e=0,a=0,n.classList.contains("ol-move")?n.classList.remove("ol-hasClick"):(n.classList.add("ol-hasClick"),setTimeout(function(){n.classList.remove("ol-hasClick")},500)),O=!1,window.removeEventListener("pointermove",yt),io.removeListener(window,["pointerup","pointercancel"],ye)},ve=function(Oe){var we=Math.max(-1,Math.min(1,Oe.wheelDelta||-Oe.detail));return n.classList.add("ol-move"),n[p]-=we*30,n.classList.remove("ol-move"),!1};return r.mousewheel&&io.addListener(n,["mousewheel","DOMMouseScroll","onmousewheel"],ve),{refresh:V}},io.dispatchEvent=function(n,r){var t;try{t=new CustomEvent(n)}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(n,!0,!0,{})}r.dispatchEvent(t)};var Ze=io,hp=function(n){n=n||{};var r=document.createElement("div");r.className=(n.className||"")+" ol-button ol-unselectable ol-control";var t=this,e=this.button_=document.createElement(/ol-text-button/.test(n.className)?"div":"button");e.type="button",n.title&&(e.title=n.title),n.name&&(e.name=n.name),n.html instanceof Element?e.appendChild(n.html):e.innerHTML=n.html||"";var i=function(a){a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation()),n.handleClick&&n.handleClick.call(t,a)};e.addEventListener("click",i),e.addEventListener("touchstart",i),r.appendChild(e),!n.title&&e.firstElementChild&&(e.title=e.firstElementChild.title),lo.default.call(this,{element:r,target:n.target}),n.title&&this.set("title",n.title),n.title&&this.set("title",n.title),n.name&&this.set("name",n.name)};Ro(hp,lo.default),hp.prototype.setVisible=function(n){n?Ze.show(this.element):Ze.hide(this.element)},hp.prototype.setTitle=function(n){this.button_.setAttribute("title",n)},hp.prototype.setHtml=function(n){Ze.setHTML(this.button_,n)},hp.prototype.getButtonElement=function(){return this.button_};var Y2=hp,Ec=function(n){n=n||{};var r=this;this.interaction_=n.interaction,this.interaction_&&(this.interaction_.setActive(n.active),this.interaction_.on("change:active",function(){r.setActive(r.interaction_.getActive())})),n.toggleFn&&(n.onToggle=n.toggleFn),n.handleClick=function(){r.toggle(),n.onToggle&&n.onToggle.call(r,r.getActive())},n.className=(n.className||"")+" ol-toggle",Y2.call(this,n),this.set("title",n.title),this.set("autoActivate",n.autoActivate),n.bar&&this.setSubBar(n.bar),this.setActive(n.active),this.setDisable(n.disable)};Ro(Ec,Y2),Ec.prototype.setMap=function(n){!n&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),Y2.prototype.setMap.call(this,n),n&&(this.interaction_&&n.addInteraction(this.interaction_),this.subbar_&&n.addControl(this.subbar_))},Ec.prototype.getSubBar=function(){return this.subbar_},Ec.prototype.setSubBar=function(n){var r=this.getMap();r&&this.subbar_&&r.removeControl(this.subbar_),this.subbar_=n,n&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),r&&r.addControl(this.subbar_))},Ec.prototype.getDisable=function(){var n=this.element.querySelector("button");return n&&n.disabled},Ec.prototype.setDisable=function(n){this.getDisable()!=n&&(this.element.querySelector("button").disabled=n,n&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!n,disable:n}))},Ec.prototype.getActive=function(){return this.element.classList.contains("ol-active")},Ec.prototype.toggle=function(){this.getActive()?this.setActive(!1):this.setActive(!0)},Ec.prototype.setActive=function(n){this.interaction_&&this.interaction_.setActive(n),this.subbar_&&this.subbar_.setActive(n),this.getActive()!==n&&(n?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!n,active:n}))},Ec.prototype.setInteraction=function(n){this.interaction_=n},Ec.prototype.getInteraction=function(){return this.interaction_};var mD=Ec,_D={name:"ol-control-toggle",setup:function(r,t){var e=Ls(mD,r,t),i=e.control;return{control:i}},props:{html:{type:String},interaction:{type:Object},className:{type:String},title:{type:String},onToggle:{type:Function}}},P_=hr()(_D,[["render",vD]]);function ED(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var SD={name:"ol-control-button",setup:function(r,t){var e=Ls(Y2,r,t),i=e.control;return{control:i}},props:{html:{type:String},name:{type:String},className:{type:String},title:{type:String},handleClick:{type:Function}}},N_=hr()(SD,[["render",ED]]);function wD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var uu=function(n){n=n||{},n.fullscreen&&(n.target=document.body);var r=Ze.create("DIV",{className:((n.className||"")+(n.zoom?" ol-zoom":"")+" ol-ext-dialog").trim(),click:function(i){this.get("hideOnBack")&&i.target===r&&this.close(),this.get("hideOnClick")&&this.close()}.bind(this)}),t=Ze.create("FORM",{on:{submit:this._onButton("submit")},parent:r});Ze.create("H2",{parent:t}),Ze.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:t}),Ze.create("DIV",{className:"ol-content",parent:t}),this._progress=Ze.create("DIV",{style:{display:"none"},parent:t});var e=Ze.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=Ze.create("DIV",{parent:e}),this._progressMessage=Ze.create("DIV",{className:"ol-progress-message",parent:this._progress}),Ze.create("DIV",{className:"ol-buttons",parent:t}),lo.default.call(this,{element:r,target:n.target}),this.set("closeBox",n.closeBox!==!1),this.set("zoom",!!n.zoom),this.set("hideOnClick",!!n.hideOnClick),this.set("hideOnBack",!!n.hideOnBack),this.set("className",r.className),this.set("closeOnSubmit",n.closeOnSubmit),this.set("buttons",n.buttons),this.setContent(n)};Ro(uu,lo.default),uu.prototype.show=function(n){n&&((n instanceof Element||typeof n=="string")&&(n={content:n}),this.setContent(n)),this.element.classList.add("ol-visible");var r=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(r&&r.focus(),this.dispatchEvent({type:"show"}),n){if(n.autoclose){var t=setTimeout(function(){this.hide()}.bind(this),n.autoclose);this.once("hide",function(){clearTimeout(t)})}if(n.hideOnBack){var e=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",function(){this.set("hideOnBack",e)}.bind(this))}}},uu.prototype.open=function(){this.show()},uu.prototype.setContentMessage=function(n){if(n!==void 0){var r=this.getContentElement();n instanceof Element&&Ze.setHTML(r,""),Ze.setHTML(r,n||"")}},uu.prototype.setTitle=function(n){var r=this.element.querySelector("form");r.querySelector("h2").innerText=n||"",n?r.classList.add("ol-title"):r.classList.remove("ol-title")},uu.prototype.setContent=function(n){if(!!n){this.element.className=this.get("className"),typeof n=="string"&&(n={content:n}),n=n||{},n.max&&this.setProgress(0,n.max),n.progress!==void 0&&this.setProgress(n.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),n.className&&n.className.split(" ").forEach(function(){this.element.classList.add(n.className)}.bind(this));var r=this.element.querySelector("form");n.content!==void 0&&(n.content instanceof Element&&Ze.setHTML(r.querySelector(".ol-content"),""),Ze.setHTML(r.querySelector(".ol-content"),n.content||"")),this.setTitle(n.title),n.closeBox||this.get("closeBox")&&n.closeBox!==!1?r.classList.add("ol-closebox"):r.classList.remove("ol-closebox");var t=this.element.querySelector(".ol-buttons");t.innerHTML="";var e=n.buttons||this.get("buttons");if(e){r.classList.add("ol-button");for(var i in e)Ze.create("INPUT",{type:i==="submit"?"submit":"button",value:e[i],click:this._onButton(i,n.onButton),parent:t})}else r.classList.remove("ol-button")}},uu.prototype.getContentElement=function(){return this.element.querySelector("form .ol-content")},uu.prototype.setProgress=function(n,r,t){if(n===!1){Ze.setStyle(this._progress,{display:"none"});return}if(r>0?this.set("max",Number(r)):r=this.get("max"),!r)Ze.setStyle(this._progress,{display:"none"});else{var e=Math.round(n/r*100);Ze.setStyle(this._progress,{display:""}),this._progressbar.className=e?"":"notransition",Ze.setStyle(this._progressbar,{width:e+"%"})}this._progressMessage.innerHTML="",Ze.setHTML(this._progressMessage,t||"")},uu.prototype._onButton=function(n,r){var t=function(e){e.preventDefault(),(n!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var i={};this.element.querySelectorAll("form input").forEach(function(a){a.className&&(i[a.className]=a)}),this.dispatchEvent({type:"button",button:n,inputs:i}),typeof r=="function"&&r(n,i)}.bind(this);return t},uu.prototype.hide=function(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})},uu.prototype.close=uu.prototype.hide,uu.prototype.isOpen=function(){return this.element.classList.contains("ol-visible")};var B7=uu,xD="#333",TD=function(){function n(r){var t=r||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=pa(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Js({color:xD}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:$E.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var r=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(r){this.overflow_=r},n.prototype.setFont=function(r){this.font_=r},n.prototype.setMaxAngle=function(r){this.maxAngle_=r},n.prototype.setOffsetX=function(r){this.offsetX_=r},n.prototype.setOffsetY=function(r){this.offsetY_=r},n.prototype.setPlacement=function(r){this.placement_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setFill=function(r){this.fill_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=pa(r!==void 0?r:1)},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.setText=function(r){this.text_=r},n.prototype.setTextAlign=function(r){this.textAlign_=r},n.prototype.setTextBaseline=function(r){this.textBaseline_=r},n.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},n.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},n.prototype.setPadding=function(r){this.padding_=r},n}(),Kf=TD,OD=function(n){if(!n)return null;var r=n.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return r||(n.getViewport().querySelector(".ol-layers")?(r=document.createElement("canvas"),r.className="ol-fixedoverlay",n.getViewport().querySelector(".ol-layers").after(r),n.on("precompose",function(t){r.width=n.getSize()[0]*t.frameState.pixelRatio,r.height=n.getSize()[1]*t.frameState.pixelRatio})):r=n.getViewport().querySelector("canvas")),r},AD=OD,Hu=function(n){n||(n={}),this.setStyle(n.style),lo.default.call(this,n)};Ro(Hu,lo.default),Hu.prototype.setMap=function(n){this.getCanvas(n);var r=this.getMap();if(this._listener&&(Object(Vu.b)(this._listener),this._listener=null),lo.default.prototype.setMap.call(this,n),r)try{r.renderSync()}catch{}n&&(this._listener=n.on("postcompose",this._draw.bind(this)))},Hu.prototype.getCanvas=function(n){return AD(n)},Hu.prototype.getContext=function(n){var r=n.context;if(!r&&this.getMap()){var t=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];r=t?t.getContext("2d"):null}return r},Hu.prototype.setStyle=function(n){this._style=n||new Qs({})},Hu.prototype.getStyle=function(){return this._style},Hu.prototype.getStroke=function(){var n=this._style.getStroke();return n||this._style.setStroke(new Cs({color:"#000",width:1.25})),this._style.getStroke()},Hu.prototype.getFill=function(){var n=this._style.getFill();return n||this._style.setFill(new Js({color:"#fff"})),this._style.getFill()},Hu.prototype.getTextStroke=function(){var n=this._style.getText();return n||(n=new Kf({})),n.getStroke()||n.setStroke(new Cs({color:"#fff",width:3})),n.getStroke()},Hu.prototype.getTextFill=function(){var n=this._style.getText();return n||(n=new Kf({})),n.getFill()||n.setFill(new Js({color:"#fff"})),n.getFill()},Hu.prototype.getTextFont=function(){var n=this._style.getText();return n||(n=new Kf({})),n.getFont()||n.setFont("12px sans-serif"),n.getFont()},Hu.prototype._draw=function(){console.warn("[CanvasBase] draw function not implemented.")};var $f=Hu;function MD(n,r){var t=n.canvas,e=r||{},i=e.pixelRatio||Xt.a,a=e.size;a&&(t.width=a[0]*i,t.height=a[1]*i,t.style.width=a[0]+"px",t.style.height=a[1]+"px");var c=[0,0,t.width,t.height],f=Pr(gt(),i,i);return new $5(n,i,c,f,0)}function H2(n,r,t,e,i,a,c){var f,p,g=(t-r)/e;if(g===1)f=r;else if(g===2)f=r,p=i;else if(g!==0){for(var m=n[r],O=n[r+1],P=0,V=[0],$=r+e;$<t;$+=e){var ot=n[$],yt=n[$+1];P+=Math.sqrt((ot-m)*(ot-m)+(yt-O)*(yt-O)),V.push(P),m=ot,O=yt}var Lt=i*P,zt=Object(et.a)(V,Lt);zt<0?(p=(Lt-V[-zt-2])/(V[-zt-1]-V[-zt-2]),f=r+(-zt-2)*e):f=r+zt*e}for(var Ht=c>1?c:2,jt=a||new Array(Ht),$=0;$<Ht;++$)jt[$]=f===void 0?NaN:p===void 0?n[f+$]:sl(n[f+$],n[f+e+$],p);return jt}function F_(n,r,t,e,i,a){if(t==r)return null;var c;if(i<n[r+e-1])return a?(c=n.slice(r,r+e),c[e-1]=i,c):null;if(n[t-1]<i)return a?(c=n.slice(t-e,t),c[e-1]=i,c):null;if(i==n[r+e-1])return n.slice(r,r+e);for(var f=r/e,p=t/e;f<p;){var g=f+p>>1;i<n[(g+1)*e-1]?p=g:f=g+1}var m=n[f*e-1];if(i==m)return n.slice((f-1)*e,(f-1)*e+e);var O=n[(f+1)*e-1],P=(i-m)/(O-m);c=[];for(var V=0;V<e-1;++V)c.push(sl(n[(f-1)*e+V],n[f*e+V],P));return c.push(i),c}function RD(n,r,t,e,i,a,c){if(c)return F_(n,r,t[t.length-1],e,i,a);var f;if(i<n[e-1])return a?(f=n.slice(0,e),f[e-1]=i,f):null;if(n[n.length-1]<i)return a?(f=n.slice(n.length-e),f[e-1]=i,f):null;for(var p=0,g=t.length;p<g;++p){var m=t[p];if(r!=m){if(i<n[r+e-1])return null;if(i<=n[m-1])return F_(n,r,m,e,i,!1);r=m}}return null}var CD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bD=function(n){CD(r,n);function r(t,e){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(et.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){return a<qt(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Pt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,a))},r.prototype.forEachSegment=function(t){return Ld(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinateAtM=function(t,e){if(this.layout!=or.XYM&&this.layout!=or.XYZM)return null;var i=e!==void 0?e:!1;return F_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},r.prototype.getCoordinates=function(){return Gi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinateAt=function(t,e){return H2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},r.prototype.getLength=function(){return ZE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=bn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,or.XY)},r.prototype.getType=function(){return Se.LINE_STRING},r.prototype.intersectsExtent=function(t){return c0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Po),Jo=bD,X2=function(n){n=n||{},_o.a.call(this,n),n.feature&&this.set("feature",n.feature.clone())};Ro(X2,_o.a),X2.prototype.setTitle=function(n){this.set("title",n||""),this.changed()},X2.prototype.getElement=function(n,r){var t=Ze.create("LI",{className:this.get("className"),click:function(e){r(!1),e.stopPropagation()},style:{height:n[1]+"px"},"aria-label":this.get("title")});return Ze.create("DIV",{click:function(e){r(!0),e.stopPropagation()},style:{width:n[0]+"px",height:n[1]+"px"},parent:t}),t};var D_=X2;window.ol&&!ol.legend&&(ol.legend={});var tl=function(n){n=n||{},_o.a.call(this),this._items=new Bn;var r=[],t;this._items.on("add",function(e){r.push({item:e.element,on:e.element.on("change",function(){this.refresh()}.bind(this))}),t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._items.on("remove",function(e){for(var i=0;i<r;i++)if(e.element===r[i].item){Object(Vu.b)(r[i].on),r.splice(i,1);break}t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._listElement=Ze.create("UL",{className:"ol-legend"}),this._canvas=document.createElement("canvas"),this.set("size",n.size||[40,25],!0),this.set("margin",n.margin===0?0:n.margin||10,!0),this._textStyle=n.textStyle||new Kf({font:"16px sans-serif",fill:new Js({color:"#333"}),backgroundFill:new Js({color:"rgba(255,255,255,.8)"})}),this._title=new D_({title:n.title||"",className:"ol-title"}),n.titleStyle?this._titleStyle=n.titleStyle:(this._titleStyle=this._textStyle.clone(),this._titleStyle.setFont("bold "+this._titleStyle.getFont())),this.setStyle(n.style),n.items instanceof Array&&n.items.forEach(function(e){this.addItem(e)}.bind(this)),this.refresh()};Ro(tl,_o.a),tl.prototype.setTitle=function(n){this._title.setTitle(n),this.refresh()},tl.prototype.getTitle=function(){return this._title.get("title")},tl.prototype.getTextStyle=function(){return this._textStyle},tl.prototype.set=function(n,r,t){_o.a.prototype.set.call(this,n,r,t),t||this.refresh()},tl.prototype.getListElement=function(){return this._listElement},tl.prototype.getCanvas=function(){return this._canvas},tl.prototype.setStyle=function(n){this._style=n,this.refresh()},tl.prototype.addItem=function(n){n instanceof D_?this._items.push(n):this._items.push(new D_(n))},tl.prototype.getItems=function(){return this._items},tl.prototype._drawText=function(n,r,t,e){n.save(),n.scale(Xt.a,Xt.a),r=r||"";var i=r.split(`
`);i.length===1?n.fillText(r,t,e):(n.textBaseline="bottom",n.fillText(i[0],t,e),n.textBaseline="top",n.fillText(i[1],t,e)),n.restore()},tl.prototype._measureText=function(n,r){var t=(r||"").split(`
`);if(t.length===1)return n.measureText(r);var e=n.measureText(t[0]),i=n.measureText(t[1]);return{width:Math.max(e.width,i.width),height:e.height+i.height}},tl.prototype.refresh=function(){var n=this._listElement;n.innerHTML="";var r=this.get("margin"),t=this.get("size")[0]+2*r,e=this.get("lineHeight")||this.get("size")[1]+2*r,i=this.getCanvas(),a=i.getContext("2d");a.textAlign="left",a.textBaseline="middle";var c=Xt.a;a.font=this._titleStyle.getFont();var f=this._measureText(a,this.getTitle("title")).width;this._items.forEach(function(p){p.get("feature")||p.get("typeGeom")?(a.font=p.get("textStyle")?p.get("textStyle").getFont():this._textStyle.getFont(),f=Math.max(f,this._measureText(a,p.get("title")).width+t)):(a.font=p.get("textStyle")?p.get("textStyle").getFont():this._titleStyle.getFont(),f=Math.max(f,this._measureText(a,p.get("title")).width))}.bind(this)),i.width=(f+2*r)*c,i.height=(this._items.getLength()+1)*e*c,i.style.height=(this._items.getLength()+1)*e+"px",a.textBaseline="middle",a.fillStyle=xo(this._textStyle.getFill().getColor()),this.getTitle()&&(n.appendChild(this._title.getElement([t,e],function(p){this.dispatchEvent({type:"select",index:-1,symbol:p,item:this._title})}.bind(this))),a.font=this._titleStyle.getFont(),a.textAlign="center",this._drawText(a,this.getTitle(),i.width/c/2,e/2)),this._items.forEach(function(p,g){var m=g+(this.getTitle()?1:0);n.appendChild(p.getElement([t,e],function(P){this.dispatchEvent({type:"select",index:g,symbol:P,item:p})}.bind(this)));var O=p.getProperties();a.textAlign="left",O.feature||O.typeGeom?(i=this.getLegendImage(O,i,m),a.font=p.get("textStyle")?p.get("textStyle").getFont():this._textStyle.getFont(),this._drawText(a,p.get("title"),t+r,(g+1.5)*e)):(a.font=p.get("textStyle")?p.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(O.className)?(a.textAlign="center",this._drawText(a,p.get("title"),i.width/c/2,(g+1.5)*e)):this._drawText(a,p.get("title"),r,(g+1.5)*e))}.bind(this)),this.dispatchEvent({type:"refresh",width:t,height:(this._items.length+1)*e})},tl.prototype.getLegendImage=function(n,r,t){return n=n||{},tl.getLegendImage({className:n.className,feature:n.feature,typeGeom:n.typeGeom,style:n.style||this._style,properties:n.properties,margin:n.margin||this.get("margin"),size:n.size||this.get("size"),lineHeight:n.lineHeight||this.get("lineHeight"),onload:function(){this.refresh()}.bind(this)},r,t)},tl.getLegendImage=function(n,r,t){n=n||{},typeof n.margin=="undefined"&&(n.margin=10);var e=n.size||[40,25];n.onload=n.onload||function(){setTimeout(function(){tl.getLegendImage(n,r,t)},100)};var i=e[0]+2*n.margin,a=n.lineHeight||e[1]+2*n.margin,c=Xt.a;r||(t=0,r=document.createElement("canvas"),r.width=i*c,r.height=a*c);var f=r.getContext("2d");f.save();var p=MD(f,{pixelRatio:c}),g=n.typeGeom,m,O=n.feature;!O&&g&&(/Point/.test(g)?O=new In(new Fi([0,0])):/LineString/.test(g)?O=new In(new Jo([0,0])):O=new In(new fo([[0,0]])),n.properties&&O.setProperties(n.properties)),O?(m=O.getStyle(),typeof m=="function"&&(m=m(O)),m||(m=typeof n.style=="function"?n.style(O):n.style||[]),g=O.getGeometry().getType()):m=[],m instanceof Array||(m=[m]);var P=i/2,V=a/2,$=e[0]/2,ot=e[1]/2,yt,Lt;if(g==="Point"){var zt=null;for(yt=0;Lt=m[yt];yt++){var Ht=Lt.getImage();if(Ht){var jt=Ht.getImage();if(jt&&jt.complete&&!jt.naturalWidth&&(typeof n.onload=="function"&&jt.addEventListener("load",function(){setTimeout(function(){n.onload()},100)}),Ht.load()),Ht.getAnchor){var ye=Ht.getAnchor();if(ye){var ve=Ht.getSize(),Oe=ye[0]-ve[0],we=ye[1]-ve[1];zt?zr(zt,[Oe,we,Oe+ve[0],we+ve[1]]):zt=[Oe,we,Oe+ve[0],we+ve[1]]}}}}zt&&(P=P+(zt[2]+zt[0])/2,V=V+(zt[3]+zt[1])/2)}for(V+=t*a||0,yt=0;Lt=m[yt];yt++)switch(p.setStyle(Lt),g){case Fi:case"Point":case"MultiPoint":p.drawGeometry(new Fi([P,V]));break;case Jo:case"LineString":case"MultiLineString":f.save(),f.rect(n.margin*c,0,e[0]*c,r.height),f.clip(),p.drawGeometry(new Jo([[P-$,V],[P+$,V]])),f.restore();break;case fo:case"Polygon":case"MultiPolygon":p.drawGeometry(new fo([[[P-$,V-ot],[P+$,V-ot],[P+$,V+ot],[P-$,V+ot],[P-$,V-ot]]]));break}return f.restore(),r};var Xc=function(n){n=n||{};var r=document.createElement("div");if(n.target)r.className=n.className||"ol-legend";else{r.className=(n.className||"ol-legend")+" ol-unselectable ol-control"+(n.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var t=document.createElement("button");t.setAttribute("type","button"),t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t),t=document.createElement("button"),t.setAttribute("type","button"),t.className="ol-closebox",t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t)}$f.call(this,{element:r,target:n.target}),this._legend=n.legend,this._legend.getCanvas().className="ol-legendImg",r.appendChild(this._legend.getCanvas()),r.appendChild(this._legend.getListElement()),n.collapsible!==!1&&n.collapsed===!1&&this.show(),this._legend.on("select",function(e){this.dispatchEvent(e)}.bind(this)),this._legend.on("refresh",function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this))};Ro(Xc,$f),Xc.prototype.getLegend=function(){return this._legend},Xc.prototype.setCanvas=function(n){if(this._onCanvas=n,this.element.style.visibility=n?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch{}},Xc.prototype.onCanvas=function(){return!!this._onCanvas},Xc.prototype._draw=function(n){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var r=this._legend.getCanvas(),t=this.getContext(n),e=t.canvas.height-r.height;t.save(),t.rect(0,e,r.width,r.height);var i="#fff";this._legend.getTextStyle().getBackgroundFill()&&(i=xo(this._legend.getTextStyle().getBackgroundFill().getColor())),t.fillStyle=t.strokeStyle=i,t.lineWidth=10,t.lineJoin="round",t.stroke(),t.clearRect(0,e,r.width,r.height),t.fill(),t.drawImage(r,0,e),t.restore()}},Xc.prototype.show=function(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch{}},Xc.prototype.hide=function(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch{}},Xc.prototype.collapse=function(n){n===!1?this.show():this.hide()},Xc.prototype.isCollapsed=function(){return this.element.classList.contains("ol-collapsed")},Xc.prototype.toggle=function(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch{}};var LD=Xc,Zf=function(n){n||(n={});var r=Ze.create("DIV",{className:n.className||"ol-print"});n.target||(r.classList.add("ol-unselectable","ol-control"),Ze.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r})),lo.default.call(this,{element:r,target:n.target}),this.set("immediate",n.immediate),this.set("imageType",n.imageType||"image/jpeg"),this.set("quality",n.quality||.8),this.set("orientation",n.orientation)};Ro(Zf,lo.default),Zf.prototype.toClipboard=function(n,r){try{n.canvas.toBlob(function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),typeof r=="function"&&r(!0)}catch{typeof r=="function"&&r(!1)}})}catch{typeof r=="function"&&r(!1)}},Zf.prototype.copyMap=function(n,r){this.once("print",function(t){this.toClipboard(t,r)}.bind(this)),this.print(n)},Zf.prototype._getCanvas=function(n,r,t){var e;if(n.context)t=n.context.canvas;else{if(t)e=t.getContext("2d");else{t=document.createElement("canvas");var i=this.getMap().getSize();t.width=i[0],t.height=i[1],e=t.getContext("2d"),/jp.*g$/.test(r)&&(e.fillStyle=this.get("bgColor")||"white",e.fillRect(0,0,t.width,t.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(a){if(a.width){if(e.save(),a.parentNode.style.opacity==="0")return;e.globalAlpha=parseFloat(a.parentNode.style.opacity)||1,Ze.getStyle(a.parentNode,"mix-blend-mode")==="multiply"&&(e.globalCompositeOperation="multiply");var c=Ze.getStyle(a,"transform")||Ze.getStyle(a,"-webkit-transform");/^matrix/.test(c)?(c=c.replace(/^matrix\(|\)$/g,"").split(","),c.forEach(function(f,p){c[p]=parseFloat(f)}),e.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.drawImage(a,0,0)):e.drawImage(a,0,0,Ze.getStyle(a,"width"),Ze.getStyle(a,"height")),e.restore()}}.bind(this))}return t},Zf.prototype.fastPrint=function(n,r){n=n||{},this._ol6?requestAnimationFrame(function(){r(this._getCanvas({},n.imageType,n.canvas))}.bind(this)):(this.getMap().once("postcompose",function(t){t.context||(this._ol6=!0),r(this._getCanvas(t,n.imageType,n.canvas))}.bind(this)),this.getMap().render())},Zf.prototype.print=function(n){n=n||{};var r=n.imageType||this.get("imageType"),t=n.quality||this.get("quality");if(this.getMap()){if(n.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},n)),!n.immediate){setTimeout(function(){n=Object.assign({},n),n.immediate="silent",this.print(n)}.bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(e){var i=this._getCanvas(e,r),a=n.size||[210,297],c=n.format||"a4",f,p,g,m=n.orient||this.get("orientation"),O=typeof n.margin=="number"?n.margin:10;if(i){m!=="landscape"&&m!=="portrait"&&(m=i.width>i.height?"landscape":"portrait"),m==="landscape"&&(a=[a[1],a[0]]);var P=Math.min((a[0]-2*O)/i.width,(a[1]-2*O)/i.height);f=P*i.width,p=P*i.height,g=[(a[0]-f)/2,(a[1]-p)/2]}var V;try{V=i?i.toDataURL(r,t):null}catch{this.dispatchEvent({type:"error",canvas:i});return}var $=Object.assign({type:"print",print:{format:c,orientation:m,unit:"mm",size:a,position:g,imageWidth:f,imageHeight:p},image:V,imageType:r,quality:t,canvas:i},n);this.dispatchEvent($)}.bind(this)),this.getMap().render()}};var U7=Zf,Bh=function(n){n||(n={});var r=Ze.create("DIV",{className:(n.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});$f.call(this,{element:r,style:n.style}),this.setTitle(n.title||""),this.setVisible(n.visible),this.element.style.font=this.getTextFont()};Ro(Bh,$f),Bh.prototype.setStyle=function(n){$f.prototype.setStyle.call(this,n),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()},Bh.prototype.setTitle=function(n){if(this.element.textContent=n,this.set("title",n),this.getMap())try{this.getMap().renderSync()}catch{}},Bh.prototype.getTitle=function(){return this.get("title")},Bh.prototype.setVisible=function(n){if(this.element.style.display=n?"block":"none",this.getMap())try{this.getMap().renderSync()}catch{}},Bh.prototype.getVisible=function(){return this.element.style.display!=="none"},Bh.prototype._draw=function(n){if(!!this.getVisible()){var r=this.getContext(n);if(!!r){var t=n.frameState.pixelRatio;r.save(),r.scale(t,t);var e=this.element.getBoundingClientRect(),i=this.getMap().getViewport().getBoundingClientRect(),a=this.getMap().getSize()[0]/i.width;r.translate(Math.round((e.left-i.left)*a),Math.round((e.top-i.top)*a));var c=this.element.clientHeight,f=this.element.clientWidth,p=f/2;r.beginPath(),r.fillStyle=xo(this.getFill().getColor()),r.rect(0,0,f,c),r.fill(),r.closePath(),r.beginPath(),r.fillStyle=xo(this.getTextFill().getColor()),r.strokeStyle=xo(this.getTextStroke().getColor()),r.lineWidth=this.getTextStroke().getWidth(),r.textAlign="center",r.textBaseline="middle",r.font=this.getTextFont(),r.lineWidth&&r.strokeText(this.getTitle(),p,c/2),r.fillText(this.getTitle(),p,c/2),r.closePath(),r.restore()}}};var ID=Bh,j_=function(n,r){var t=n.getView(),e=t.getProjection(),i=t.getCenter(),a=n.getPixelFromCoordinate(i);a[1]+=1;var c=n.getCoordinateFromPixel(a),f=bu(Jn(i,e,"EPSG:4326"),Jn(c,e,"EPSG:4326"));return f*=(r||96)/.0254,f},PD=function(n,r,t){if(n&&r){var e=r;if(typeof r=="string"&&(e=r.split("/")[1],e||(e=r),e=e.replace(/[^\d]/g,""),e=parseInt(e)),!e)return;var i=n.getView(),a=i.getProjection(),c=i.getCenter(),f=n.getPixelFromCoordinate(c);f[1]+=1;var p=n.getCoordinateFromPixel(f),g=bu(Jn(c,a,"EPSG:4326"),Jn(p,a,"EPSG:4326"));return g*=(t||96)/.0254,i.setResolution(i.getResolution()*e/g),e}},Uh=function(n){n||(n={});var r=document.createElement("div");r.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(n.className?" "+n.className:""),r.style.position="absolute",r.style.visibility="hidden";var t=n.style instanceof Cs?new Qs({stroke:n.style}):n.style;n.style||(t=new Qs({stroke:new Cs({width:0})})),$f.call(this,{element:r,style:t}),this.set("rotateVithView",n.rotateWithView!==!1),this.setVisible(n.visible!==!1),this.setImage(n.image||n.src)};Ro(Uh,$f),Uh.prototype.setImage=function(n){if(n instanceof Image)this.img_=n,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this);else if(typeof n=="string")switch(n){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this),this.img_.src=n;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())},Uh.prototype.compactCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2;return e.translate(i,i),e.fillStyle=r||"#963",e.lineWidth=5,e.lineJoin=e.lineCap="round",e.font="bold "+i*.4+"px sans-serif",e.textBaseline="bottom",e.textAlign="center",e.strokeStyle="#fff",e.globalAlpha=.75,e.strokeText("N",0,-i/2),e.globalAlpha=1,e.fillText("N",0,-i/2),e.beginPath(),e.moveTo(0,i/4),e.lineTo(i/3,i/2),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.lineWidth=12,e.fillStyle="#fff",e.globalAlpha=.75,e.fill(),e.stroke(),e.globalAlpha=1,e.fillStyle=e.strokeStyle=r||"#963",e.lineWidth=5,e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(i/3,i/2),e.lineTo(0,i/4),e.fill(),e.stroke(),e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.stroke(),t},Uh.prototype.defaultCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2,a=.22*i;function c(p,g){e.fillStyle=r||"#963",e.beginPath(),e.moveTo(0,0),e.lineTo(p,0),e.lineTo(g,g),e.moveTo(0,0),e.lineTo(-p,0),e.lineTo(-g,-g),e.moveTo(0,0),e.lineTo(0,p),e.lineTo(-g,g),e.moveTo(0,0),e.lineTo(0,-p),e.lineTo(g,-g),e.moveTo(0,0),e.fill(),e.stroke()}function f(p,g){e.globalCompositeOperation="destination-out",e.fillStyle="#fff",e.beginPath(),e.moveTo(0,0),e.lineTo(p,0),e.lineTo(g,-g),e.moveTo(0,0),e.lineTo(-p,0),e.lineTo(-g,g),e.moveTo(0,0),e.lineTo(0,p),e.lineTo(g,g),e.moveTo(0,0),e.lineTo(0,-p),e.lineTo(-g,-g),e.moveTo(0,0),e.fill(),e.globalCompositeOperation="source-over",e.beginPath(),e.moveTo(0,0),e.lineTo(p,0),e.lineTo(g,-g),e.moveTo(0,0),e.lineTo(-p,0),e.lineTo(-g,g),e.moveTo(0,0),e.lineTo(0,p),e.lineTo(g,g),e.moveTo(0,0),e.lineTo(0,-p),e.lineTo(-g,-g),e.moveTo(0,0),e.stroke()}return e.translate(i,i),e.strokeStyle=r||"#963",e.lineWidth=1.5,e.beginPath(),e.arc(0,0,n*.41,0,2*Math.PI),e.arc(0,0,n*.44,0,2*Math.PI),e.stroke(),e.rotate(Math.PI/4),c(i*.9,a*.8),f(i*.9,a*.8),e.rotate(-Math.PI/4),c(i,a),f(i,a),t},Uh.prototype.getVisible=function(){return Ze.getStyle(this.element,"display")==="block"},Uh.prototype.setVisible=function(n){n?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()},Uh.prototype._draw=function(n){var r=this.getContext(n);if(!(!r||!this.getVisible())){var t=r.canvas,e,i=[];for(e=0;e<8;e++)i[e]=[Math.cos(Math.PI*e/8),Math.sin(Math.PI*e/8)];var a=n.frameState.pixelRatio;r.save(),r.scale(a,a);var c=this.element.clientWidth,f=this.element.clientHeight,p={left:this.element.offsetLeft,top:this.element.offsetTop},g=this.img_,m=n.frameState.viewState.rotation;if(r.beginPath(),r.translate(p.left+c/2,p.top+f/2),this.get("rotateVithView")&&r.rotate(m),this.getStroke().getWidth()){r.beginPath(),r.strokeStyle=this.getStroke().getColor(),r.lineWidth=this.getStroke().getWidth();var O=Math.max(t.width,t.height);for(e=0;e<8;e++)r.moveTo(-i[e][0]*O,-i[e][1]*O),r.lineTo(i[e][0]*O,i[e][1]*O);r.stroke()}g.width&&r.drawImage(g,-c/2,-f/2,c,f),r.closePath(),r.restore()}};var k7=Uh,xa=function(n){n||(n={}),this._lang=n.lang;var r=Ze.create("DIV",{className:(n.className||"ol-print")+" ol-unselectable ol-control"});Ze.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r}),lo.default.call(this,{element:r}),n.openWindow&&this.on("print",function(qe){qe.canvas&&window.open().document.write('<img src="'+qe.canvas.toDataURL()+'"/>')}),n.target=Ze.create("DIV");var t=this._printCtrl=new U7(n);t.on(["print","error","printing"],function(qe){i.setAttribute("data-status",qe.type),qe.clipboard||this.dispatchEvent(qe)}.bind(this)),this._compass=new k7({src:n.northImage||"compact",visible:!1,className:"olext-print-compass",style:new Cs({color:"#333",width:0})});var e=this._printDialog=new B7({target:document.body,closeBox:!0,className:"ol-ext-print-dialog"}),i=e.getContentElement();this._input={};var a=Ze.create("DIV",{className:"ol-print-param",parent:i});this._pages=[Ze.create("DIV",{className:"ol-page"})];var c=Ze.create("DIV",{className:"ol-map",parent:this._pages[0]});Ze.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:i}),Ze.create("H2",{html:this.i18n("title"),parent:a});var f=Ze.create("UL",{parent:a}),p=Ze.create("LI",{className:"ol-orientation",parent:f});this._input.orientation={list:p};var g=Ze.create("LABEL",{className:"portrait",parent:p});this._input.orientation.portrait=Ze.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(qe){this.setOrientation(qe.target.value)}.bind(this)},parent:g}),Ze.create("SPAN",{html:this.i18n("portrait"),parent:g}),g=Ze.create("LABEL",{className:"landscape",parent:p}),this._input.orientation.landscape=Ze.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(qe){this.setOrientation(qe.target.value)}.bind(this)},parent:g}),Ze.create("SPAN",{html:this.i18n("landscape"),parent:g});var m;p=Ze.create("LI",{html:Ze.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:f});var O=this._input.size=Ze.create("SELECT",{on:{change:function(){this.setSize(O.value||je)}.bind(this)},parent:p});for(m in this.paperSize)Ze.create("OPTION",{html:m+(this.paperSize[m]?" - "+this.paperSize[m][0]+"x"+this.paperSize[m][1]+" mm":this.i18n("custom")),value:m,parent:O});p=Ze.create("LI",{html:Ze.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:f});var P=this._input.margin=Ze.create("SELECT",{on:{change:function(){this.setMargin(P.value)}.bind(this)},parent:p});for(m in this.marginSize)Ze.create("OPTION",{html:m+" - "+this.marginSize[m]+" mm",value:this.marginSize[m],parent:P});p=Ze.create("LI",{html:Ze.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:f});var V=this._input.scale=Ze.create("SELECT",{on:{change:function(){this.setScale(parseInt(V.value))}.bind(this)},parent:p});Object.keys(this.scales).forEach(function(qe){Ze.create("OPTION",{html:this.scales[qe],value:qe,parent:V})}.bind(this)),p=Ze.create("LI",{className:"ol-legend",parent:f});var $=Ze.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:function(){vr.legend.control.setCanvas($.checked)}.bind(this)},parent:p});p=Ze.create("LI",{className:"ol-print-north",parent:f});var ot=this._input.north=Ze.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:function(){ot.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(this)},parent:p});p=Ze.create("LI",{className:"ol-print-title",parent:f});var yt=Ze.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:function(qe){vr.title.control.setVisible(qe.target.checked)}.bind(this)},parent:p}),Lt=Ze.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(qe){qe.keyCode===13&&qe.preventDefault()},keyup:function(){vr.title.control.setTitle(Lt.value)},change:function(){vr.title.control.setTitle(Lt.value)}.bind(this)},parent:p}),zt=Ze.create("DIV",{className:"ol-user-param",parent:a});p=Ze.create("LI",{className:"ol-saveas",parent:f});var Ht=Ze.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:p}),jt=Ze.create("SELECT",{on:{change:function(){if(this.formats[jt.value].clipboard)t.copyMap(this.formats[jt.value],function(Sn){Sn&&(Ht.classList.add("visible"),setTimeout(function(){Ht.classList.remove("visible")},1e3))});else{var qe=typeof this.getSize()=="string"?this.getSize():null,Dr=Object.assign({format:qe,size:qe?this.paperSize[qe]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[jt.value]);t.print(Dr)}jt.value=""}.bind(this)},parent:p});Ze.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:jt}),this.formats.forEach(function(qe,Dr){if(qe.pdf){if(n.pdf===!1)return}else if(qe.clipboard){if(n.copy===!1)return}else if(n.save===!1)return;Ze.create("OPTION",{html:qe.title,value:Dr,parent:jt})}),p=Ze.create("LI",{className:"ol-savelegend",parent:f});var ye=Ze.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:p}),ve=Ze.create("SELECT",{on:{change:function(){var qe=vr.legend.control.getLegend().getCanvas(),Dr=document.createElement("CANVAS");Dr.width=qe.width,Dr.height=qe.height;var Sn=Dr.getContext("2d");if(Sn.fillStyle="#fff",Sn.fillRect(0,0,Dr.width,Dr.height),Sn.drawImage(qe,0,0),this.formats[ve.value].clipboard)Dr.toBlob(function(Pi){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},Pi.type,{value:Pi,enumerable:!0}))]),ye.classList.add("visible"),setTimeout(function(){ye.classList.remove("visible")},1e3)}catch{}},"image/png");else{var Tn;try{Tn=Dr.toDataURL(this.formats[ve.value].imageType,this.formats[ve.value].quality);var Ln=typeof this.getSize()=="string"?this.getSize():"A4",Gn=Dr.width/96*25.4,yi=Dr.height/96*25.4,mi=this.paperSize[Ln];this.getOrientation()==="landscape"&&(mi=[mi[1],mi[0]]);var Ii=[(mi[0]-Gn)/2,(mi[1]-yi)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:Ln,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[Ln],position:Ii,imageWidth:Gn,imageHeight:yi},image:Tn,imageType:this.formats[ve.value].imageType,pdf:this.formats[ve.value].pdf,quality:this.formats[ve.value].quality,canvas:Dr})}catch{}}ve.value=""}.bind(this)},parent:p});Ze.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:ve}),this.formats.forEach(function(qe,Dr){Ze.create("OPTION",{html:qe.title,value:Dr,parent:ve})});var Oe=Ze.create("DIV",{className:"ol-ext-buttons",parent:a});Ze.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(qe){qe.preventDefault(),window.print()},parent:Oe}),Ze.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){e.hide()},parent:Oe}),Ze.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:a});var we,je,Tr,vr={};e.on("show",function(){this.dispatchEvent({type:"show",userElement:zt,dialog:this._printDialog,page:this.getPage()});var qe=this.getMap();!qe||(document.body.classList.add("ol-print-document"),we=qe.getTargetElement(),je=qe.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(je),qe.setTarget(c),Tr&&Object(Vu.b)(Tr),Tr=qe.on("moveend",function(){this.setScale(j_(qe))}.bind(this)),this.setScale(j_(qe)),vr={},this.getMap().getControls().forEach(function(Dr){Dr instanceof LD&&(vr.legend={control:Dr}),Dr instanceof ID&&(vr.title={control:Dr}),Dr instanceof k7&&(vr.compass?Dr.element.classList.remove("ol-print-compass"):(this._input.north.checked?Dr.element.classList.add("ol-print-compass"):Dr.element.classList.remove("ol-print-compass"),this._compass=Dr,vr.compass={control:Dr}))}.bind(this)),vr.title?(yt.checked=vr.title.isVisible=vr.title.control.getVisible(),Lt.value=vr.title.control.getTitle(),yt.parentNode.parentNode.classList.remove("hidden")):yt.parentNode.parentNode.classList.add("hidden"),vr.legend?(vr.legend.ison=vr.legend.control.onCanvas(),vr.legend.collapsed=vr.legend.control.isCollapsed(),vr.legend.control.collapse(!1),ve.parentNode.classList.remove("hidden"),$.parentNode.parentNode.classList.remove("hidden"),$.checked=!vr.legend.collapsed,vr.legend.control.setCanvas(!vr.legend.collapsed)):(ve.parentNode.classList.add("hidden"),$.parentNode.parentNode.classList.add("hidden")))}.bind(this)),e.on("hide",function(){document.body.classList.remove("ol-print-document"),we&&(this.getMap().setTarget(we),we=null,Tr&&Object(Vu.b)(Tr),vr.title&&vr.title.control.setVisible(vr.title.isVisible),vr.legend&&(vr.legend.control.setCanvas(vr.legend.ison),vr.legend.control.collapse(vr.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(this)),window.addEventListener("resize",function(){this.setSize()}.bind(this)),n.saveAs&&this.on("print",function(qe){qe.pdf||qe.canvas.toBlob(function(Dr){var Sn=(qe.print.legend?"legend.":"map.")+qe.imageType.replace("image/","");n.saveAs(Dr,Sn)},qe.imageType,qe.quality)}),n.jsPDF&&this.on("print",function(qe){if(qe.pdf){var Dr=new n.jsPDF({orientation:qe.print.orientation,unit:qe.print.unit,format:qe.print.size});Dr.addImage(qe.image,"JPEG",qe.print.position[0],qe.print.position[0],qe.print.imageWidth,qe.print.imageHeight),Dr.save(qe.print.legend?"legend.pdf":"map.pdf")}})};Ro(xa,lo.default),xa.prototype.isOpen=function(){return this._printDialog.isOpen()},xa.addLang=function(n,r){xa.prototype._labels[n]=r},xa.prototype.i18n=function(n){var r=this._labels.en[n]||"bad param";return this._labels[this._lang]&&this._labels[this._lang][n]&&(r=this._labels[this._lang][n]),r},xa.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"\u2714 Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille \xE9cran",margin:"Marges",scale:"Echelle",legend:"L\xE9gende",north:"Fl\xE8che du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la l\xE9gende...",copied:"\u2714 Carte copi\xE9e",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",cancel:"annuler"},zh:{title:"\u6253\u5370",orientation:"\u65B9\u5411",portrait:"\u7EB5\u5411",landscape:"\u6A2A\u5411",size:"\u9875\u9762\u5927\u5C0F",custom:"\u5C4F\u5E55\u5927\u5C0F",margin:"\u5916\u8FB9\u8DDD",scale:"\u5C3A\u5EA6",legend:"\u56FE\u4F8B",north:"\u6307\u5317\u9488",mapTitle:"\u5730\u56FE\u540D\u5B57",saveas:"\u4FDD\u5B58\u4E3A...",saveLegend:"\u4FDD\u5B58\u56FE\u4F8B\u4E3A...",copied:"\u2714 \u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",errorMsg:"\u65E0\u6CD5\u4FDD\u5B58\u5730\u56FE...",printBt:"\u6253\u5370...",cancel:"\u53D6\u6D88"}},xa.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],A5:[148,210],B4:[257,364],B5:[182,257]},xa.prototype.marginSize={none:0,small:5,large:10},xa.prototype.formats=[{title:"copy to clipboard",imageType:"image/png",clipboard:!0},{title:"save as jpeg",imageType:"image/jpeg",quality:.8},{title:"save as png",imageType:"image/png",quality:.8},{title:"save as pdf",imageType:"image/jpeg",pdf:!0}],xa.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"},xa.prototype.getOrientation=function(){return this._orientation||"portrait"},xa.prototype.setOrientation=function(n){this._orientation=n==="landscape"?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()},xa.prototype.getMargin=function(){return this._margin||0},xa.prototype.setMargin=function(n){this._margin=n,this._input.margin.value=n,this.setSize()},xa.prototype.getSize=function(){return this._size},xa.prototype.setSize=function(n){if(this._printDialog.getContentElement().setAttribute("data-status",""),n?this._size=n:n=this._size,!!n){typeof n=="string"?(n=n.toLocaleUpperCase(),this.paperSize[n]||(n=this._size="A4"),this._input.size.value=n,n=[Math.trunc(this.paperSize[n][0]*96/25.4),Math.trunc(this.paperSize[n][1]*96/25.4)],this.getOrientation()==="landscape"&&(n=[n[1],n[0]]),this.getPage().classList.remove("margin")):(this._input.size.value="",this.getPage().classList.add("margin"));var r=this.getPage(),t=r.parentNode.getBoundingClientRect(),e=(t.width-40)/n[0],i=(t.height-40)/n[1],a=Math.min(e,i,1);r.style.width=n[0]+"px",r.style.height=n[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+a+")";var c=Math.round(5/a);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=c+"px "+c+"px "+c+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}},xa.prototype.getContentElement=function(){return this._printDialog.getContentElement()},xa.prototype.getUserElement=function(){return this._printDialog.getContentElement().querySelector(".ol-user-param")},xa.prototype.getPage=function(){return this._pages[0]},xa.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),lo.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))},xa.prototype.setScale=function(n){PD(this.getMap(),n),this._input.scale.value=" "+Math.round(n/100)*100},xa.prototype.getScale=function(){return j_(this.getMap())},xa.prototype.print=function(n){n=n||{},n.size&&this.setSize(n.size),n.scale&&this.setScale(n.scale),n.orientation&&this.setOrientation(n.orientation),n.margin&&this.setMargin(n.margin),this._printDialog.show()},xa.prototype.getrintControl=function(){return this._printCtrl};var ND=xa,z7=s("21a6"),FD=s("8baf"),DD={name:"ol-control-printdialog",setup:function(r,t){var e=Ls(ND,r,t),i=e.control;return i.value.on(["print","error"],function(a){if(a.image)if(a.pdf){var c=new FD.a({orientation:a.print.orientation,unit:a.print.unit,format:a.print.size});c.addImage(a.image,"JPEG",a.print.position[0],a.print.position[0],a.print.imageWidth,a.print.imageHeight),c.save(a.print.legend?"legend.pdf":"map.pdf")}else a.canvas.toBlob(function(f){var p=(a.print.legend?"legend.":"map.")+a.imageType.replace("image/","");Object(z7.saveAs)(f,p)},a.imageType,a.quality);else console.warn("No canvas to export")}),{control:i}},props:{lang:{type:String}}},G_=hr()(DD,[["render",wD]]);function jD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var qf=function(n){n||(n={});var r=Ze.create("DIV",{className:(n.className||"ol-videorec")+" ol-unselectable ol-control"});Ze.create("BUTTON",{type:"button",className:"ol-start",title:"start",click:function(){this.start()}.bind(this),parent:r}),Ze.create("BUTTON",{type:"button",className:"ol-stop",title:"stop",click:function(){this.stop()}.bind(this),parent:r}),Ze.create("BUTTON",{type:"button",className:"ol-pause",title:"pause",click:function(){this.pause()}.bind(this),parent:r}),Ze.create("BUTTON",{type:"button",className:"ol-resume",title:"resume",click:function(){this.resume()}.bind(this),parent:r}),lo.default.call(this,{element:r,target:n.target}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),n.videoTarget==="DIALOG"?(this._dialog=new B7({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=n.videoTarget,this._printCtrl=new U7({target:Ze.create("DIV")})};Ro(qf,lo.default),qf.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),lo.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))},qf.prototype.start=function(){var n=this._printCtrl,r=!1;function t(e){r||n.fastPrint({canvas:e},t)}n.fastPrint({},function(e){var i;try{i=e.captureStream(this.get("framerate")||30)}catch(c){this.dispatchEvent({type:"error",error:c});return}this._mediaRecorder=new MediaRecorder(i,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var a=[];this._mediaRecorder.ondataavailable=function(c){a.push(c.data)},this._mediaRecorder.onstop=function(){r=!0;var c=new Blob(a,{type:"video/mp4"});if(a=[],this._videoTarget instanceof Element){var f;this._videoTarget.tagName==="VIDEO"?f=this._videoTarget:(f=this._videoTarget.querySelector("video"),f||(f=Ze.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),f.src=URL.createObjectURL(c),this.dispatchEvent({type:"stop",videoURL:f.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(c)})}.bind(this),this._mediaRecorder.onpause=function(){r=!0,this.dispatchEvent({type:"pause"})}.bind(this),this._mediaRecorder.onresume=function(){r=!1,t(e),this.dispatchEvent({type:"resume"})}.bind(this),this._mediaRecorder.onerror=function(c){this.dispatchEvent({type:"error",error:c})}.bind(this),r=!1,t(e),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:e}),this.element.setAttribute("data-state","rec")}.bind(this))},qf.prototype.stop=function(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))},qf.prototype.pause=function(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))},qf.prototype.resume=function(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))};var GD=qf,BD={name:"ol-control-videorecorder",emits:["start","stop"],setup:function(r,t){var e=Ls(GD,r,t),i=e.control,a=Object(N.toRefs)(r),c=a.downloadName;return i.value.on("start",function(f){t.emit("start",f)}),i.value.on("stop",function(f){t.emit("stop",f),Object(z7.saveAs)(f.videoURL,c.value)}),{control:i}},props:{className:{type:String},framerate:{type:Number,default:30},videoBitsPerSecond:{type:Number,default:5e6},videoTarget:{type:String},downloadName:{type:String,default:"mapVideo.mp4"}}},B_=hr()(BD,[["render",jD]]);function UD(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var kh={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},kD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zD={image:[no.POLYGON,no.CIRCLE,no.LINE_STRING,no.IMAGE,no.TEXT],hybrid:[no.POLYGON,no.LINE_STRING],vector:[]},VD={hybrid:[no.IMAGE,no.TEXT,no.DEFAULT],vector:[no.POLYGON,no.CIRCLE,no.LINE_STRING,no.IMAGE,no.TEXT,no.DEFAULT]},WD=function(n){kD(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.dirty_=!1,e.renderedLayerRevision_,e.renderedPixelToCoordinateTransform_=null,e.renderedRotation_,e.tmpTransform_=gt(),e}return r.prototype.prepareTile=function(t,e,i){var a,c=t.getState();return(c===fn.LOADED||c===fn.ERROR)&&(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(a=!0)),a},r.prototype.getTile=function(t,e,i,a){var c=a.pixelRatio,f=a.viewState,p=f.resolution,g=f.projection,m=this.getLayer(),O=m.getSource().getTile(t,e,i,c,g),P=a.viewHints,V=!(P[Wi.ANIMATING]||P[Wi.INTERACTING]);(V||!O.wantedResolution)&&(O.wantedResolution=p);var $=this.prepareTile(O,c,g);return $&&(V||Date.now()-a.time<8)&&m.getRenderMode()!==kh.VECTOR&&this.renderTileImage_(O,a),n.prototype.getTile.call(this,t,e,i,a)},r.prototype.isDrawableTile=function(t){var e=this.getLayer();return n.prototype.isDrawableTile.call(this,t)&&(e.getRenderMode()===kh.VECTOR?Object(St.c)(e)in t.executorGroups:t.hasContext(e))},r.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},r.prototype.prepareFrame=function(t){var e=this.getLayer().getRevision();return this.renderedLayerRevision_!=e&&(this.renderedTiles.length=0),this.renderedLayerRevision_=e,n.prototype.prepareFrame.call(this,t)},r.prototype.updateExecutorGroup_=function(t,e,i){var a=this.getLayer(),c=a.getRevision(),f=a.getRenderOrder()||null,p=t.wantedResolution,g=t.getReplayState(a);if(!(!g.dirty&&g.renderedResolution===p&&g.renderedRevision==c&&g.renderedRenderOrder==f)){var m=a.getSource(),O=a.getDeclutter(),P=m.getTileGrid(),V=m.getTileGridForProjection(i),$=V.getTileCoordExtent(t.wrappedTileCoord),ot=m.getSourceTiles(e,i,t),yt=Object(St.c)(a);delete t.hitDetectionImageData[yt],t.executorGroups[yt]=[],O&&(t.declutterExecutorGroups[yt]=[]);for(var Lt=function(ye,ve){var Oe=ot[ye];if(Oe.getState()!=fn.LOADED)return"continue";var we=Oe.tileCoord,je=P.getTileCoordExtent(we),Tr=rn($,je),vr=Ct(Tr,a.getRenderBuffer()*p,zt.tmpExtent),qe=Ar(je,Tr)?null:vr;g.dirty=!1;var Dr=new C2(0,vr,p,e),Sn=O?new C2(0,Tr,p,e):void 0,Tn=r7(p,e),Ln=function(la){var ns,_s=la.getStyleFunction()||a.getStyleFunction();if(_s&&(ns=_s(la,p)),ns){var fs=this.renderFeature(la,Tn,ns,Dr,Sn);this.dirty_=this.dirty_||fs,g.dirty=g.dirty||fs}},Gn=Oe.getFeatures();f&&f!==g.renderedRenderOrder&&Gn.sort(f);for(var yi=0,mi=Gn.length;yi<mi;++yi){var Ii=Gn[yi];(!qe||Ei(qe,Ii.getGeometry().getExtent()))&&Ln.call(zt,Ii)}var Pi=Dr.finish(),Vr=a.getRenderMode()!==kh.VECTOR&&O&&ot.length===1?null:Tr,hs=new b2(Vr,p,e,m.getOverlaps(),Pi,a.getRenderBuffer());if(t.executorGroups[yt].push(hs),Sn){var Ui=new b2(null,p,e,m.getOverlaps(),Sn.finish(),a.getRenderBuffer());t.declutterExecutorGroups[yt].push(Ui)}},zt=this,Ht=0,jt=ot.length;Ht<jt;++Ht)Lt(Ht);g.renderedRevision=c,g.renderedRenderOrder=f,g.renderedResolution=p}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,a,c){var f=e.viewState.resolution,p=e.viewState.rotation;i=i==null?0:i;var g=this.getLayer(),m=g.getSource(),O=m.getTileGridForProjection(e.viewState.projection),P=At([t]);Ct(P,f*i,P);for(var V={},$=function(jt,ye,ve){var Oe=jt.getId();Oe===void 0&&(Oe=Object(St.c)(jt));var we=V[Oe];if(we){if(we!==!0&&ve<we.distanceSq){if(ve===0)return V[Oe]=!0,c.splice(c.lastIndexOf(we),1),a(jt,g,ye);we.geometry=ye,we.distanceSq=ve}}else{if(ve===0)return V[Oe]=!0,a(jt,g,ye);c.push(V[Oe]={feature:jt,layer:g,geometry:ye,distanceSq:ve,callback:a})}},ot=this.renderedTiles,yt,Lt=function(jt,ye){var ve=ot[jt],Oe=O.getTileCoordExtent(ve.wrappedTileCoord);if(!Ei(Oe,P))return"continue";var we=Object(St.c)(g),je=[ve.executorGroups[we]],Tr=ve.declutterExecutorGroups[we];Tr&&je.push(Tr),je.some(function(vr){for(var qe=vr===Tr?e.declutterTree.all().map(function(Ln){return Ln.value}):null,Dr=0,Sn=vr.length;Dr<Sn;++Dr){var Tn=vr[Dr];if(yt=Tn.forEachFeatureAtCoordinate(t,f,p,i,$,qe),yt)return!0}})},zt=0,Ht=ot.length;!yt&&zt<Ht;++zt)Lt(zt);return yt},r.prototype.getFeatures=function(t){return new Promise(function(e,i){for(var a=this.getLayer(),c=Object(St.c)(a),f=a.getSource(),p=this.renderedProjection,g=p.getExtent(),m=this.renderedResolution,O=f.getTileGridForProjection(p),P=Ke(this.renderedPixelToCoordinateTransform_,t.slice()),V=O.getTileCoordForCoordAndResolution(P,m),$,ot=0,yt=this.renderedTiles.length;ot<yt;++ot)if(V.toString()===this.renderedTiles[ot].tileCoord.toString()){if($=this.renderedTiles[ot],$.getState()===fn.LOADED){var Lt=O.getTileCoordExtent($.tileCoord);f.getWrapX()&&p.canWrapX()&&!Pe(g,Lt)&&vt(P,p);break}$=void 0}if(!$||$.loadingSourceTiles>0){e([]);return}var zt=O.getTileCoordExtent($.wrappedTileCoord),Ht=_i(zt),jt=[(P[0]-Ht[0])/m,(Ht[1]-P[1])/m],ye=$.getSourceTiles().reduce(function(Tr,vr){return Tr.concat(vr.getFeatures())},[]),ve=$.hitDetectionImageData[c];if(!ve&&!this.animatingOrInteracting_){var Oe=pa(O.getTileSize(O.getZForResolution(m))),we=this.renderedRotation_,je=[this.getRenderTransform(O.getTileCoordCenter($.wrappedTileCoord),m,0,Wu,Oe[0]*Wu,Oe[1]*Wu,0)];ve=QE(Oe,je,ye,a.getStyleFunction(),O.getTileCoordExtent($.wrappedTileCoord),$.getReplayState(a).renderedResolution,we),$.hitDetectionImageData[c]=ve}e(t7(jt,ye,ve))}.bind(this))},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.renderDeclutter=function(t){var e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var a=t.viewHints,c=!(a[Wi.ANIMATING]||a[Wi.INTERACTING]),f=this.renderedTiles,p=0,g=f.length;p<g;++p){var m=f[p],O=m.declutterExecutorGroups[Object(St.c)(this.getLayer())];if(O)for(var P=O.length-1;P>=0;--P)O[P].execute(this.context,1,this.getTileRenderTransform(m,t),t.viewState.rotation,c,void 0,t.declutterTree)}e.globalAlpha=i},r.prototype.getTileRenderTransform=function(t,e){var i=e.pixelRatio,a=e.viewState,c=a.center,f=a.resolution,p=a.rotation,g=e.size,m=Math.round(g[0]*i),O=Math.round(g[1]*i),P=this.getLayer().getSource(),V=P.getTileGridForProjection(e.viewState.projection),$=t.tileCoord,ot=V.getTileCoordExtent(t.wrappedTileCoord),yt=V.getTileCoordExtent($,this.tmpExtent)[0]-ot[0],Lt=oe(Pr(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(c,f,p,i,m,O,yt));return Lt},r.prototype.renderFrame=function(t,e){var i=t.viewHints,a=!(i[Wi.ANIMATING]||i[Wi.INTERACTING]);n.prototype.renderFrame.call(this,t,e),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var c=this.getLayer(),f=c.getRenderMode(),p=this.context,g=p.globalAlpha;p.globalAlpha=c.getOpacity();for(var m=VD[f],O=t.viewState,P=O.rotation,V=this.renderedTiles,$=[],ot=[],yt=V.length-1;yt>=0;--yt)for(var Lt=V[yt],zt=this.getTileRenderTransform(Lt,t),Ht=Lt.executorGroups[Object(St.c)(c)],jt=!1,ye=0,ve=Ht.length;ye<ve;++ye){var Oe=Ht[ye];if(!!Oe.hasExecutors(m)){var we=Lt.tileCoord[0],je=void 0;if(!jt&&(je=Oe.getClipCoords(zt),je)){p.save();for(var Tr=0,vr=$.length;Tr<vr;++Tr){var qe=$[Tr];we<ot[Tr]&&(p.beginPath(),p.moveTo(je[0],je[1]),p.lineTo(je[2],je[3]),p.lineTo(je[4],je[5]),p.lineTo(je[6],je[7]),p.moveTo(qe[6],qe[7]),p.lineTo(qe[4],qe[5]),p.lineTo(qe[2],qe[3]),p.lineTo(qe[0],qe[1]),p.clip())}}Oe.execute(p,1,zt,P,a,m),!jt&&je&&(p.restore(),$.push(je),ot.push(we),jt=!0)}}return p.globalAlpha=g,this.container},r.prototype.renderFeature=function(t,e,i,a,c){if(!i)return!1;var f=!1;if(Array.isArray(i))for(var p=0,g=i.length;p<g;++p)f=I2(a,t,i[p],e,this.boundHandleStyleImageChange_,void 0,c)||f;else f=I2(a,t,i,e,this.boundHandleStyleImageChange_,void 0,c);return f},r.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===kh.VECTOR)return!1;var i=t.getReplayState(e),a=e.getRevision(),c=t.wantedResolution;return i.renderedTileResolution!==c||i.renderedTileRevision!==a},r.prototype.renderTileImage_=function(t,e){var i=this.getLayer(),a=t.getReplayState(i),c=i.getRevision(),f=t.executorGroups[Object(St.c)(i)];a.renderedTileRevision=c;var p=t.wrappedTileCoord,g=p[0],m=i.getSource(),O=e.pixelRatio,P=e.viewState,V=P.projection,$=m.getTileGridForProjection(V),ot=$.getResolution(t.tileCoord[0]),yt=e.pixelRatio/t.wantedResolution*ot,Lt=$.getResolution(g),zt=t.getContext(i);O=Math.round(Math.max(O,yt/O));var Ht=m.getTilePixelSize(g,O,V);zt.canvas.width=Ht[0],zt.canvas.height=Ht[1];var jt=O/yt;if(jt!==1){var ye=Yt(this.tmpTransform_);Pr(ye,jt,jt),zt.setTransform.apply(zt,ye)}var ve=$.getTileCoordExtent(p,this.tmpExtent),Oe=yt/Lt,we=Yt(this.tmpTransform_);Pr(we,Oe,-Oe),pe(we,-ve[0],-ve[3]);for(var je=0,Tr=f.length;je<Tr;++je){var vr=f[je];vr.execute(zt,jt,we,0,!0,zD[i.getRenderMode()])}a.renderedTileResolution=t.wantedResolution},r}(sE),YD=WD,HD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XD=function(n){HD(r,n);function r(t){var e=this,i=t||{},a=Object(yn.a)({},i);delete a.preload,delete a.useInterimTilesOnError,e=n.call(this,a)||this,e.on,e.once,e.un,i.renderMode===kh.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var c=i.renderMode||kh.HYBRID;return le(c==kh.HYBRID||c==kh.VECTOR,28),e.renderMode_=c,e.setPreload(i.preload?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e.getBackground,e.setBackground,e}return r.prototype.createRenderer=function(){return new YD(this)},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderMode=function(){return this.renderMode_},r.prototype.getPreload=function(){return this.get(Ch.PRELOAD)},r.prototype.getUseInterimTilesOnError=function(){return this.get(Ch.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setPreload=function(t){this.set(Ch.PRELOAD,t)},r.prototype.setUseInterimTilesOnError=function(t){this.set(Ch.USE_INTERIM_TILES_ON_ERROR,t)},r}(A2),KD=XD,$D=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kc={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},ZD=["#00f","#0ff","#0f0","#ff0","#f00"],qD=function(n){$D(r,n);function r(t){var e=this,i=t||{},a=Object(yn.a)({},i);delete a.gradient,delete a.radius,delete a.blur,delete a.weight,e=n.call(this,a)||this,e.gradient_=null,e.addChangeListener(Kc.GRADIENT,e.handleGradientChanged_),e.setGradient(i.gradient?i.gradient:ZD),e.setBlur(i.blur!==void 0?i.blur:15),e.setRadius(i.radius!==void 0?i.radius:8);var c=i.weight?i.weight:"weight";return typeof c=="string"?e.weightFunction_=function(f){return f.get(c)}:e.weightFunction_=c,e.setRenderOrder(null),e}return r.prototype.getBlur=function(){return this.get(Kc.BLUR)},r.prototype.getGradient=function(){return this.get(Kc.GRADIENT)},r.prototype.getRadius=function(){return this.get(Kc.RADIUS)},r.prototype.handleGradientChanged_=function(){this.gradient_=JD(this.getGradient())},r.prototype.setBlur=function(t){this.set(Kc.BLUR,t)},r.prototype.setGradient=function(t){this.set(Kc.GRADIENT,t)},r.prototype.setRadius=function(t){this.set(Kc.RADIUS,t)},r.prototype.createRenderer=function(){return new u7(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return e!==void 0?Si(e,0,1):1}.bind(this)}],vertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_weight = a_weight;
        }`,fragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          gl_FragColor = vec4(alpha, alpha, alpha, alpha);
        }`,hitVertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;
        attribute vec4 a_hitColor;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_hitColor = a_hitColor;
          v_weight = a_weight;
        }`,hitFragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          if (alpha < 0.05) {
            discard;
          }

          gl_FragColor = v_hitColor;
        }`,uniforms:{u_size:function(){return(this.get(Kc.RADIUS)+this.get(Kc.BLUR))*2}.bind(this),u_blurSlope:function(){return this.get(Kc.RADIUS)/Math.max(1,this.get(Kc.BLUR))}.bind(this)},postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},r.prototype.renderDeclutter=function(){},r}(A2);function JD(n){for(var r=1,t=256,e=Object(fr.a)(r,t),i=e.createLinearGradient(0,0,r,t),a=1/(n.length-1),c=0,f=n.length;c<f;++c)i.addColorStop(c*a,n[c]);return e.fillStyle=i,e.fillRect(0,0,r,t),e.canvas}var QD=qD,Qo=function(n){n=n||{};var r=this;this.dcount=0,this.show_progress=n.show_progress,this.oninfo=typeof n.oninfo=="function"?n.oninfo:null,this.onextent=typeof n.onextent=="function"?n.onextent:null,this.hasextent=n.extent||n.onextent,this.hastrash=n.trash,this.reordering=n.reordering!==!1,this._layers=[],this._layerGroup=n.layerGroup&&n.layerGroup.getLayers?n.layerGroup:null,this.onchangeCheck=typeof n.onchangeCheck=="function"?n.onchangeCheck:null,typeof n.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=n.displayInLayerSwitcher);var t;n.target?t=Ze.create("DIV",{className:n.switcherClass||"ol-layerswitcher"}):(t=Ze.create("DIV",{className:(n.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),n.collapsed!==!1?t.classList.add("ol-collapsed"):t.classList.add("ol-forceopen"),this.button=Ze.create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",function(e){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),r.overflow()}),n.mouseover&&(t.addEventListener("mouseleave",function(){t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),t.addEventListener("mouseover",function(){t.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),n.minibar&&(n.noScroll=!0),n.noScroll||(this.topv=Ze.create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){r.overflow("+50%")}}),this.botv=Ze.create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){r.overflow("-50%")}})),this._noScroll=n.noScroll),this.panel_=Ze.create("UL",{className:"panel"}),this.panelContainer_=Ze.create("DIV",{className:"panel-container",html:this.panel_,parent:t}),!n.target&&!n.noScroll&&Ze.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(e){r.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())}),this.header_=Ze.create("LI",{className:"ol-header",parent:this.panel_}),lo.default.call(this,{element:t,target:n.target}),this.set("drawDelay",n.drawDelay||0),this.set("selection",n.selection),n.minibar&&setTimeout(function(){var e=Ze.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){e.refresh()})}.bind(this))};Ro(Qo,lo.default),Qo.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},Qo.prototype.displayInLayerSwitcher=function(n){return n.get("displayInLayerSwitcher")!==!1},Qo.prototype.setMap=function(n){if(lo.default.prototype.setMap.call(this,n),this.drawPanel(),this._listener)for(var r in this._listener)Object(Vu.b)(this._listener[r]);this._listener=null,n&&(this._listener={moveend:n.on("moveend",this.viewChange.bind(this)),size:n.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=n.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},Qo.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},Qo.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},Qo.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},Qo.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},Qo.prototype.setHeader=function(n){Ze.setHTML(this.header_,n)},Qo.prototype.overflow=function(n){if(this.button&&!this._noScroll){if(Ze.hidden(this.panel_)){Ze.setStyle(this.element,{height:"auto"});return}var r=Ze.outerHeight(this.element),t=Ze.outerHeight(this.panel_),e=this.button.offsetTop+Ze.outerHeight(this.button),i=this.panel_.offsetTop-e;if(t>r-e){Ze.setStyle(this.element,{height:"100%"});var a=this.panel_.querySelectorAll("li.visible .li-content")[0],c=a?2*Ze.getStyle(a,"height"):0;switch(n){case 1:i+=c;break;case-1:i-=c;break;case"+50%":i+=Math.round(r/2);break;case"-50%":i-=Math.round(r/2);break}return i+t<=r-3*e/2?(i=r-3*e/2-t,Ze.hide(this.botv)):Ze.show(this.botv),i>=0?(i=0,Ze.hide(this.topv)):Ze.show(this.topv),Ze.setStyle(this.panel_,{top:i+"px"}),!0}else return Ze.setStyle(this.element,{height:"auto"}),Ze.setStyle(this.panel_,{top:0}),Ze.hide(this.botv),Ze.hide(this.topv),!1}else return!1},Qo.prototype._setLayerForLI=function(n,r){var t=[];r.getLayers&&t.push(r.getLayers().on("change:length",this.drawPanel.bind(this))),n&&(t.push(r.on("change:opacity",function(){this.setLayerOpacity(r,n)}.bind(this))),t.push(r.on("change:visible",function(){this.setLayerVisibility(r,n)}.bind(this)))),t.push(r.on("propertychange",function(e){(e.key==="displayInLayerSwitcher"||e.key==="openInLayerSwitcher")&&this.drawPanel(e)}.bind(this))),this._layers.push({li:n,layer:r,listeners:t})},Qo.prototype.setLayerOpacity=function(n,r){var t=r.querySelector(".layerswitcher-opacity-cursor");t&&(t.style.left=n.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:n})},Qo.prototype.setLayerVisibility=function(n,r){var t=r.querySelector(".ol-visibility");t&&(t.checked=n.getVisible()),n.getVisible()?r.classList.add("ol-visible"):r.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:n})},Qo.prototype._clearLayerForLI=function(){this._layers.forEach(function(n){n.listeners.forEach(function(r){Object(Vu.b)(r)})}),this._layers=[]},Qo.prototype._getLayerForLI=function(n){for(var r=0,t;t=this._layers[r];r++)if(t.li===n)return t.layer;return null},Qo.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(n){var r=this._getLayerForLI(n);r&&(this.testLayerVisibility(r)?n.classList.remove("ol-layer-hidden"):n.classList.add("ol-layer-hidden"))}.bind(this))},Qo.prototype.getPanel=function(){return this.panelContainer_},Qo.prototype.drawPanel=function(){if(!!this.getMap()){var n=this;this.dcount++,setTimeout(function(){n.drawPanel_()},this.get("drawDelay")||0)}},Qo.prototype.drawPanel_=function(){if(!(--this.dcount||this.dragging_)){var n=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(r){r.classList.contains("ol-header")||r.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=n}},Qo.prototype.switchLayerVisibility=function(n,r){n.get("baseLayer")?(n.getVisible()||n.setVisible(!0),r.forEach(function(t){n!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)})):n.setVisible(!n.getVisible())},Qo.prototype.testLayerVisibility=function(n){if(!this.getMap())return!0;var r=this.getMap().getView().getResolution(),t=this.getMap().getView().getZoom();if(n.getMaxResolution()<=r||n.getMinResolution()>=r)return!1;if(n.getMinZoom&&(n.getMinZoom()>=t||n.getMaxZoom()<t))return!1;var e=n.getExtent();if(e){var i=this.getMap().getView().calculateExtent(this.getMap().getSize());return Ei(i,e)}return!0},Qo.prototype.dragOrdering_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.currentTarget.parentNode.parentNode,e=!0,i=this.panel_,a,c=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY,f,p,g,m;t.parentNode.classList.add("drag");function O(){if(f){var V=g,$=r.getSelection()===V;if(V&&f){var ot;m?ot=m.getLayers():ot=r._layerGroup?r._layerGroup.getLayers():r.getMap().getLayers();for(var yt=ot.getArray(),Lt=0;Lt<yt.length;Lt++)if(yt[Lt]==V){ot.removeAt(Lt);break}for(var zt=0;zt<yt.length;zt++)if(yt[zt]===f){Lt>zt?ot.insertAt(zt,V):ot.insertAt(zt+1,V);break}}$&&r.selectLayer(V),r.dispatchEvent({type:"reorder-end",layer:V,group:m})}t.parentNode.querySelectorAll("li").forEach(function(Ht){Ht.classList.remove("dropover"),Ht.classList.remove("dropover-after"),Ht.classList.remove("dropover-before")}),t.classList.remove("drag"),t.parentNode.classList.remove("drag"),r.element.classList.remove("drag"),p&&p.remove(),Ze.removeListener(document,"mousemove touchmove",P),Ze.removeListener(document,"mouseup touchend touchcancel",O)}function P(V){if(a=V.pageY||V.touches&&V.touches.length&&V.touches[0].pageY||V.changedTouches&&V.changedTouches.length&&V.changedTouches[0].pageY,e&&Math.abs(c-a)>2&&(e=!1,t.classList.add("drag"),g=r._getLayerForLI(t),f=!1,m=r._getLayerForLI(t.parentNode.parentNode),p=Ze.create("LI",{className:"ol-dragover",html:t.innerHTML,style:{position:"absolute","z-index":1e4,left:t.offsetLeft,opacity:.5,width:Ze.outerWidth(t),height:Ze.getStyle(t,"height")},parent:i}),r.element.classList.add("drag"),r.dispatchEvent({type:"reorder-start",layer:g,group:m})),!e){V.preventDefault(),V.stopPropagation(),Ze.setStyle(p,{top:a-Ze.offsetRect(i).top+i.scrollTop+5});var $;for(V.touches?$=document.elementFromPoint(V.touches[0].clientX,V.touches[0].clientY):$=V.target,$.classList.contains("ol-switcherbottomdiv")?r.overflow(-1):$.classList.contains("ol-switchertopdiv")&&r.overflow(1);$&&$.tagName!=="LI";)$=$.parentNode;(!$||!$.classList.contains("dropover"))&&t.parentNode.querySelectorAll("li").forEach(function(ot){ot.classList.remove("dropover"),ot.classList.remove("dropover-after"),ot.classList.remove("dropover-before")}),$&&$.parentNode.classList.contains("drag")&&$!==t?(f=r._getLayerForLI($),f&&!f.get("allwaysOnTop")==!g.get("allwaysOnTop")?($.classList.add("dropover"),$.classList.add(t.offsetTop<$.offsetTop?"dropover-after":"dropover-before")):f=!1,Ze.show(p)):(f=!1,$===t?Ze.hide(p):Ze.show(p)),f?p.classList.remove("forbidden"):p.classList.add("forbidden")}}Ze.addListener(document,"mousemove touchmove",P),Ze.addListener(document,"mouseup touchend touchcancel",O)},Qo.prototype.dragOpacity_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.target,e=this._getLayerForLI(t.parentNode.parentNode.parentNode);if(!e)return;var i=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX,a=Ze.getStyle(t,"left")-i;r.dragging_=!0;function c(){Ze.removeListener(document,"mouseup touchend touchcancel",c),Ze.removeListener(document,"mousemove touchmove",f),r.dragging_=!1}function f(p){var g=p.pageX||p.touches&&p.touches.length&&p.touches[0].pageX||p.changedTouches&&p.changedTouches.length&&p.changedTouches[0].pageX,m=(a+g)/Ze.getStyle(t.parentNode,"width"),O=Math.max(0,Math.min(1,m));Ze.setStyle(t,{left:O*100+"%"}),t.parentNode.nextElementSibling.innerHTML=Math.round(O*100),e.setOpacity(O)}Ze.addListener(document,"mouseup touchend touchcancel",c),Ze.addListener(document,"mousemove touchmove",f)},Qo.prototype.drawList=function(n,r){var t=this,e=r.getArray(),i=function(m){m.stopPropagation(),m.preventDefault();var O=t._getLayerForLI(this.parentNode.parentNode);t.switchLayerVisibility(O,r),t.get("selection")&&O.getVisible()&&t.selectLayer(O),t.onchangeCheck&&t.onchangeCheck(O)};function a(m){m.stopPropagation(),m.preventDefault();var O=t._getLayerForLI(this.parentNode.parentNode);t.oninfo(O),t.dispatchEvent({type:"info",layer:O})}function c(m){m.stopPropagation(),m.preventDefault();var O=t._getLayerForLI(this.parentNode.parentNode);t.onextent?t.onextent(O):t.getMap().getView().fit(O.getExtent(),t.getMap().getSize()),t.dispatchEvent({type:"extent",layer:O})}function f(m){m.stopPropagation(),m.preventDefault();var O=this.parentNode.parentNode.parentNode.parentNode,P,V=t._getLayerForLI(O);V?(P=t._getLayerForLI(this.parentNode.parentNode),V.getLayers().remove(P),V.getLayers().getLength()==0&&!V.get("noSwitcherDelete")&&f.call(O.querySelectorAll(".layerTrash")[0],m)):(O=this.parentNode.parentNode,t.getMap().removeLayer(t._getLayerForLI(O)))}function p(m){if(!this.displayInLayerSwitcher(m)){this._setLayerForLI(null,m);return}var O=Ze.create("LI",{className:(m.getVisible()?"visible ":" ")+(m.get("baseLayer")?"baselayer":""),parent:n});this._setLayerForLI(O,m),this._selectedLayer===m&&O.classList.add("ol-layer-select");var P=Ze.create("DIV",{className:"ol-layerswitcher-buttons",parent:O}),V=Ze.create("DIV",{className:"li-content",parent:O});Ze.create("INPUT",{type:m.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:m.getVisible(),click:i,parent:V});var $=Ze.create("LABEL",{title:m.get("title")||m.get("name"),click:i,unselectable:"on",style:{userSelect:"none"},parent:V});if($.addEventListener("selectstart",function(){return!1}),Ze.create("SPAN",{html:m.get("title")||m.get("name"),click:function(jt){this.get("selection")&&(jt.stopPropagation(),this.selectLayer(m))}.bind(this),parent:$}),this.reordering&&(g<e.length-1&&(m.get("allwaysOnTop")||!e[g+1].get("allwaysOnTop"))||g>0&&(!m.get("allwaysOnTop")||e[g-1].get("allwaysOnTop")))&&Ze.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(jt){t.dragOrdering_(jt)}},parent:P}),m.getLayers){var ot=0;m.getLayers().forEach(function(jt){t.displayInLayerSwitcher(jt)&&ot++}),ot&&Ze.create("DIV",{className:m.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var jt=t._getLayerForLI(this.parentNode.parentNode);jt.set("openInLayerSwitcher",!jt.get("openInLayerSwitcher"))},parent:P})}if(this.oninfo&&Ze.create("DIV",{className:"layerInfo",title:this.tip.info,click:a,parent:P}),this.hastrash&&!m.get("noSwitcherDelete")&&Ze.create("DIV",{className:"layerTrash",title:this.tip.trash,click:f,parent:P}),this.hasextent&&e[g].getExtent()){var yt=e[g].getExtent();yt.length==4&&yt[0]<yt[2]&&yt[1]<yt[3]&&Ze.create("DIV",{className:"layerExtent",title:this.tip.extent,click:c,parent:P})}if(this.show_progress&&m instanceof C5){var Lt=Ze.create("DIV",{className:"layerswitcher-progress",parent:V});this.setprogress_(m),m.layerswitcher_progress=Ze.create("DIV",{parent:Lt})}var zt=Ze.create("DIV",{className:"layerswitcher-opacity",click:function(jt){if(jt.target===this){jt.stopPropagation(),jt.preventDefault();var ye=Math.max(0,Math.min(1,jt.offsetX/Ze.getStyle(this,"width")));t._getLayerForLI(this.parentNode.parentNode).setOpacity(ye)}},parent:V});if(Ze.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:m.getOpacity()*100+"%"},on:{"mousedown touchstart":function(jt){t.dragOpacity_(jt)}},parent:zt}),Ze.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(m.getOpacity()*100),parent:V}),m.getLayers&&(O.classList.add("ol-layer-group"),m.get("openInLayerSwitcher")===!0)){var Ht=Ze.create("UL",{parent:O});this.drawList(Ht,m.getLayers())}O.classList.add(this.getLayerClass(m)),this.dispatchEvent({type:"drawlist",layer:m,li:O})}for(var g=e.length-1;g>=0;g--)p.call(this,e[g]);this.viewChange(),n===this.panel_&&this.overflow()},Qo.prototype.getLayerClass=function(n){return n?n.getLayers?"ol-layer-group":n instanceof E0?"ol-layer-vector":n instanceof KD?"ol-layer-vectortile":n instanceof C5?"ol-layer-tile":n instanceof kE?"ol-layer-image":n instanceof QD?"ol-layer-heatmap":n.getFeatures?"ol-layer-vectorimage":"unknown":"none"},Qo.prototype.selectLayer=function(n,r){if(!n){if(!this.getMap())return;n=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=n,this.drawPanel(),r||this.dispatchEvent({type:"select",layer:n})},Qo.prototype.getSelection=function(){return this._selectedLayer},Qo.prototype.setprogress_=function(n){if(!n.layerswitcher_progress){var r=0,t=0,e=function(){t===r?(t=r=0,Ze.setStyle(n.layerswitcher_progress,{width:0})):Ze.setStyle(n.layerswitcher_progress,{width:(r/t*100).toFixed(1)+"%"})};n.getSource().on("tileloadstart",function(){t++,e()}),n.getSource().on("tileloadend",function(){r++,e()}),n.getSource().on("tileloaderror",function(){r++,e()})}};var U_=Qo,tj={name:"ol-layerswitcher-control",setup:function(r,t){var e=Ls(U_,r,t),i=e.control;return{control:i}},props:{selection:{type:Boolean},displayInLayerSwitcher:{type:Function},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{type:Function},extent:{type:Boolean},onextent:{type:Function},drawDelay:{type:Number},collapsed:{type:Boolean,default:!0},layerGroup:{type:Object},noScroll:{type:Boolean,default:!1}}},K2=hr()(tj,[["render",UD]]);function ej(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var rj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nj=function(n){rj(r,n);function r(t){var e=this,i=t||{},a=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(a=i.interpolate);var c=i.params||{},f="TRANSPARENT"in c?c.TRANSPARENT:!0;return e=n.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:a,opaque:!f,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,zDirection:i.zDirection})||this,e.gutter_=i.gutter!==void 0?i.gutter:0,e.params_=c,e.v13_=!0,e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.tmpExtent_=ft(),e.updateV13_(),e.setKey(e.getKeyForParams_()),e}return r.prototype.getFeatureInfoUrl=function(t,e,i,a){var c=zn(i),f=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(c));var g=p.getZForResolution(e,this.zDirection),m=p.getTileCoordForCoordAndZ(t,g);if(!(p.getResolutions().length<=m[0])){var O=p.getResolution(m[0]),P=p.getTileCoordExtent(m,this.tmpExtent_),V=pa(p.getTileSize(m[0]),this.tmpSize),$=this.gutter_;$!==0&&(V=Pa(V,$,this.tmpSize),P=Ct(P,O*$,P)),f&&f!==c&&(O=K1(f,c,t,O),P=Ll(P,c,f),t=Jn(t,c,f));var ot={SERVICE:"WMS",VERSION:Dh,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(yn.a)(ot,this.params_,a);var yt=Math.floor((t[0]-P[0])/O),Lt=Math.floor((P[3]-t[1])/O);return ot[this.v13_?"I":"X"]=yt,ot[this.v13_?"J":"Y"]=Lt,this.getRequestUrl_(m,V,P,1,f||c,ot)}},r.prototype.getLegendUrl=function(t,e){if(this.urls[0]!==void 0){var i={SERVICE:"WMS",VERSION:Dh,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var a=this.params_.LAYERS,c=!Array.isArray(a)||a.length===1;if(!c)return;i.LAYER=a}if(t!==void 0){var f=this.getProjection()?this.getProjection().getMetersPerUnit():1,p=28e-5;i.SCALE=t*f/p}return Object(yn.a)(i,e),up(this.urls[0],i)}},r.prototype.getGutter=function(){return this.gutter_},r.prototype.getParams=function(){return this.params_},r.prototype.getRequestUrl_=function(t,e,i,a,c,f){var p=this.urls;if(!!p){if(f.WIDTH=e[0],f.HEIGHT=e[1],f[this.v13_?"CRS":"SRS"]=c.getCode(),"STYLES"in this.params_||(f.STYLES=""),a!=1)switch(this.serverType_){case jh.GEOSERVER:var g=90*a+.5|0;"FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+=";dpi:"+g:f.FORMAT_OPTIONS="dpi:"+g;break;case jh.MAPSERVER:f.MAP_RESOLUTION=90*a;break;case jh.CARMENTA_SERVER:case jh.QGIS:f.DPI=90*a;break;default:le(!1,52);break}var m=c.getAxisOrientation(),O=i;if(this.v13_&&m.substr(0,2)=="ne"){var P=void 0;P=i[0],O[0]=i[1],O[1]=P,P=i[2],O[2]=i[3],O[3]=P}f.BBOX=O.join(",");var V;if(p.length==1)V=p[0];else{var $=Ws(CE(t),p.length);V=p[$]}return up(V,f)}},r.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},r.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},r.prototype.updateParams=function(t){Object(yn.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},r.prototype.updateV13_=function(){var t=this.params_.VERSION||Dh;this.v13_=G(t,"1.3")>=0},r.prototype.tileUrlFunction=function(t,e,i){var a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(i)),!(a.getResolutions().length<=t[0])){e!=1&&(!this.hidpi_||this.serverType_===void 0)&&(e=1);var c=a.getResolution(t[0]),f=a.getTileCoordExtent(t,this.tmpExtent_),p=pa(a.getTileSize(t[0]),this.tmpSize),g=this.gutter_;g!==0&&(p=Pa(p,g,this.tmpSize),f=Ct(f,c*g,f)),e!=1&&(p=hc(p,e,this.tmpSize));var m={SERVICE:"WMS",VERSION:Dh,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(yn.a)(m,this.params_),this.getRequestUrl_(t,p,f,e,i,m)}},r}(B2),ij=nj;N2.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},v7.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileGrid().getTileCoordForCoordAndResolution(n,r),e=this.getTileUrlFunction();return e.call(this,t,this.getProjection())},ij.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileUrlFunction();if(t){var e=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=e.getTileCoordForCoordAndResolution(n,r);return t.call(this,i,1,this.getProjection())}var a=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{});return a=a.replace(/getfeatureinfo/i,"GetMap"),a},C.prototype.getPreview=function(n,r,t){if(this.get("preview"))return[this.get("preview")];if(r||(r=150),r<this.getMinResolution()||r>this.getMaxResolution()){var e=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),e<.15&&(e=.15),r=i;i>e;)e*=2,i/=2,r=e}var a=this.getExtent();return n||(n=[21020,6355964]),a&&!fe(a,n)&&(n=[(a[0]+a[2])/2,(a[1]+a[3])/2]),t&&(n=Jn(n,t,this.getSource().getProjection())),this.getSource&&this.getSource()?[this.getSource().getPreview(n,r)]:[]},Ki.prototype.getPreview=function(n,r){if(this.get("preview"))return[this.get("preview")];var t=[];if(this.getLayers)for(var e=this.getLayers().getArray(),i=0;i<e.length;i++)t=t.concat(e[i].getPreview(n,r));return t};var $2=function(n){n=n||{},n.switcherClass="ol-layerswitcher-image",n.mouseover!==!1&&(n.mouseover=!0),U_.call(this,n)};Ro($2,U_),$2.prototype.drawList=function(n,r){var t=this,e=function(i){i.preventDefault();var a=t._getLayerForLI(this);t.switchLayerVisibility(a,r),i.type=="touchstart"&&t.element.classList.add("ol-collapsed")};Ze.setStyle(n,{height:"auto"}),r.forEach(function(i){if(t.displayInLayerSwitcher(i)){var a=i.getPreview?i.getPreview():["none"],c=Ze.create("LI",{className:"ol-imgcontainer"+(i.getVisible()?" ol-visible":""),on:{"touchstart click":e},parent:n});t._setLayerForLI(c,i),a.forEach(function(f){Ze.create("IMG",{src:f,parent:c})}),Ze.create("p",{html:i.get("title")||i.get("name"),parent:c}),t.testLayerVisibility(i)&&c.classList.add("ol-layer-hidden")}})},$2.prototype.overflow=function(){};var oj=$2,aj={name:"ol-layerswitcherimage-control",extends:K2,setup:function(r,t){var e=Ls(oj,r,t),i=e.control;return{control:i}}},k_=hr()(aj,[["render",ej]]);function sj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var Sl=function(n){n||(n={});var r=document.createElement("div");if(n.target)r=Ze.create("DIV",{className:n.className||"ol-mapzone"});else{r=Ze.create("DIV",{className:(n.className||"ol-mapzone")+" ol-unselectable ol-control ol-collapsed"});var t=Ze.create("BUTTON",{type:"button",on:{click:function(){r.classList.toggle("ol-collapsed"),e.forEach(function(i){i.updateSize()})}.bind(this)},parent:r});Ze.create("I",{parent:t})}lo.default.call(this,{element:r,target:n.target}),this.set("centerOnClick",n.centerOnClick);var e=this._maps=[];this._projection=n.projection,this._layer=n.layer,n.zones.forEach(this.addZone.bind(this)),setTimeout(function(){e.forEach(function(i){i.updateSize()})})};J5(Sl,lo.default),Sl.prototype.setCollapsed=function(n){n?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(r){r.updateSize()})):this.element.classList.add("ol-collapsed")},Sl.prototype.getCollapsed=function(){return this.element.classList.contains("ol-collapsed")},Sl.prototype.setVisible=Sl.prototype.setCollapsed,Sl.prototype.getMaps=function(){return this._maps},Sl.prototype.getLength=function(){return this._maps.length},Sl.prototype.addZone=function(n){var r=new po({zoom:6,center:[0,0],projection:this._projection}),t;n.map?t=Ll(n.map.getView().calculateExtent(),n.map.getView().getProjection(),r.getProjection()):t=Ll(n.extent,"EPSG:4326",r.getProjection());var e=Ze.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:function(){var c=-1;this._maps.forEach(function(f,p){f.get("zone")===n&&(c=p)}),this.dispatchEvent({type:"select",zone:n,index:c,coordinate:kn(t),extent:t}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(t),this.setVisible(!1)}.bind(this)}),i;n.layer?i=n.layer:typeof this._layer=="function"?i=this._layer(n):i=new this._layer.constructor({source:this._layer.getSource()});var a=new Fe({target:e,view:r,controls:[],interactions:[],layers:[i]});a.set("zone",n),this._maps.push(a),r.fit(t),Ze.create("P",{html:n.title,parent:e})},Sl.prototype.removeZone=function(n){var r=this.element.querySelectorAll(".ol-mapzonezone")[n];r&&(r.remove(),this._maps.splice(n,1))},Sl.zones={},Sl.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La r\xE9union",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}],Sl.zones.TOM=[{title:"Polyn\xE9sie Fran\xE7aise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Cal\xE9donie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barth\xE9lemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}],Sl.zones.DOMTOM=[{title:"M\xE9tropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(Sl.zones.DOM,Sl.zones.TOM);var lj=Sl,uj={name:"ol-zone-control",setup:function(r,t){var e=Ls(lj,r,t),i=e.control;return{control:i}},props:{className:{type:String},zones:{type:Array},layer:{type:[Object,Function]},projection:{type:String,default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0}}},z_=hr()(uj,[["render",sj]]);function Z2(n){Z2.installed||(Z2.installed=!0,n.component(y_.name,y_),n.component(__.name,__),n.component(E_.name,E_),n.component(w_.name,w_),n.component(O_.name,O_),n.component(A_.name,A_),n.component(M_.name,M_),n.component(R_.name,R_),n.component(F7.name,F7),n.component(C_.name,C_),n.component(b_.name,b_),n.component(L_.name,L_),n.component(P_.name,P_),n.component(N_.name,N_),n.component(G_.name,G_),n.component(B_.name,B_),n.component(K2.name,K2),n.component(k_.name,k_),n.component(z_.name,z_))}var cj=Z2;function hj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}function q2(n,r,t){return O7()?q2=Reflect.construct:q2=function(i,a,c){var f=[null];f.push.apply(f,a);var p=Function.bind.apply(i,f),g=new p;return c&&k2(g,c.prototype),g},q2.apply(null,arguments)}s("07ac");function fp(n,r){var t=Object(N.inject)("feature"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return q2(n,I7(Object.values(i)))});return Object(N.watch)(i,function(){t.value.setGeometry(a.value),t.value.changed()}),Object(N.watch)(t,function(){t.value.setGeometry(a.value)}),Object(N.onMounted)(function(){t.value.setGeometry(a.value)}),Object(N.onUnmounted)(function(){t.value.setGeometry(null)}),{geometry:a}}var fj={name:"ol-geom-point",setup:function(r){var t=fp(Fi,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},V_=hr()(fj,[["render",hj]]);function dj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var pj={name:"ol-geom-line-string",setup:function(r){var t=fp(Jo,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},W_=hr()(pj,[["render",dj]]);function vj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var gj={name:"ol-geom-polygon",setup:function(r){var t=fp(fo,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Y_=hr()(gj,[["render",vj]]);function yj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var mj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_j=function(n){mj(r,n);function r(t,e){var i=n.call(this)||this;return e&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendPoint=function(t){this.flatCoordinates?Object(et.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){if(a<qt(this.getExtent(),t,e))return a;for(var c=this.flatCoordinates,f=this.stride,p=0,g=c.length;p<g;p+=f){var m=Ra(t,e,c[p],c[p+1]);if(m<a){a=m;for(var O=0;O<f;++O)i[O]=c[p+O];i.length=f}}return a},r.prototype.getCoordinates=function(){return Gi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Fi(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},r.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,a=[],c=0,f=t.length;c<f;c+=i){var p=new Fi(t.slice(c,c+i),e);a.push(p)}return a},r.prototype.getType=function(){return Se.MULTI_POINT},r.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,a=0,c=e.length;a<c;a+=i){var f=e[a],p=e[a+1];if(Be(t,f,p))return!0}return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Po),Sc=_j,Ej={name:"ol-geom-multi-point",setup:function(r){var t=fp(Sc,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},H_=hr()(Ej,[["render",yj]]);function Sj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var wj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xj=function(n){wj(r,n);function r(t,e,i){var a=n.call(this)||this;if(a.ends_=[],a.maxDelta_=-1,a.maxDeltaRevision_=-1,Array.isArray(t[0]))a.setCoordinates(t,e);else if(e!==void 0&&i)a.setFlatCoordinates(e,t),a.ends_=i;else{for(var c=a.getLayout(),f=t,p=[],g=[],m=0,O=f.length;m<O;++m){var P=f[m];m===0&&(c=P.getLayout()),Object(et.c)(p,P.getFlatCoordinates()),g.push(p.length)}a.setFlatCoordinates(c,p),a.ends_=g}return a}return r.prototype.appendLineString=function(t){this.flatCoordinates?Object(et.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){return a<qt(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(k(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xe(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,a))},r.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=or.XYM&&this.layout!=or.XYZM||this.flatCoordinates.length===0)return null;var a=e!==void 0?e:!1,c=i!==void 0?i:!1;return RD(this.flatCoordinates,0,this.ends_,this.stride,t,a,c)},r.prototype.getCoordinates=function(){return Ao(this.flatCoordinates,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Jo(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,a=[],c=0,f=0,p=e.length;f<p;++f){var g=e[f],m=new Jo(t.slice(c,g),i);a.push(m),c=g}return a},r.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,a=this.ends_,c=this.stride,f=0,p=a.length;f<p;++f){var g=a[f],m=H2(e,i,g,c,.5);Object(et.c)(t,m),i=g}return t},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=ei(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new r(e,or.XY,i)},r.prototype.getType=function(){return Se.MULTI_LINE_STRING},r.prototype.intersectsExtent=function(t){return Id(this.flatCoordinates,0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Wr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(Po),cu=xj,Tj={name:"ol-geom-multi-line-string",setup:function(r){var t=fp(cu,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},X_=hr()(Tj,[["render",Sj]]);function Oj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}function V7(n,r,t,e){for(var i=[],a=ft(),c=0,f=t.length;c<f;++c){var p=t[c];a=Ee(n,r,p[0],e),i.push((a[0]+a[2])/2,(a[1]+a[3])/2),r=p[p.length-1]}return i}var Aj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mj=function(n){Aj(r,n);function r(t,e,i){var a=n.call(this)||this;if(a.endss_=[],a.flatInteriorPointsRevision_=-1,a.flatInteriorPoints_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var c=a.getLayout(),f=t,p=[],g=[],m=0,O=f.length;m<O;++m){var P=f[m];m===0&&(c=P.getLayout());for(var V=p.length,$=P.getEnds(),ot=0,yt=$.length;ot<yt;++ot)$[ot]+=V;Object(et.c)(p,P.getFlatCoordinates()),g.push($)}e=c,t=p,i=g}return e!==void 0&&i?(a.setFlatCoordinates(e,t),a.endss_=i):a.setCoordinates(t,e),a}return r.prototype.appendPolygon=function(t){var e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Object(et.c)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var a=0,c=e.length;a<c;++a)e[a]+=i}this.endss_.push(e),this.changed()},r.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();var a=new r(this.flatCoordinates.slice(),this.layout,e);return a.applyProperties(this),a},r.prototype.closestPointXY=function(t,e,i,a){return a<qt(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xt(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),He(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,a))},r.prototype.containsXY=function(t,e){return vh(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},r.prototype.getArea=function(){return bd(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),ju(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,wa(e,0,this.endss_,this.stride)},r.prototype.getEndss=function(){return this.endss_},r.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=V7(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Zs(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},r.prototype.getInteriorPoints=function(){return new Sc(this.getFlatInteriorPoints().slice(),or.XYM)},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Du(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ju(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=$i(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new r(e,or.XY,i)},r.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(t===0)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var a=this.endss_[t].slice(),c=a[a.length-1];if(e!==0)for(var f=0,p=a.length;f<p;++f)a[f]-=e;return new fo(this.flatCoordinates.slice(e,c),this.layout,a)},r.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,a=[],c=0,f=0,p=i.length;f<p;++f){var g=i[f].slice(),m=g[g.length-1];if(c!==0)for(var O=0,P=g.length;O<P;++O)g[O]-=c;var V=new fo(e.slice(c,m),t,g);a.push(V),c=m}return a},r.prototype.getType=function(){return Se.MULTI_POLYGON},r.prototype.intersectsExtent=function(t){return y1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=We(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var a=i[i.length-1];this.flatCoordinates.length=a.length===0?0:a[a.length-1]}this.changed()},r}(Po),wl=Mj,Rj={name:"ol-geom-multi-polygon",setup:function(r){var t=fp(wl,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},K_=hr()(Rj,[["render",Oj]]);function J2(n){J2.installed||(J2.installed=!0,n.component(V_.name,V_),n.component(W_.name,W_),n.component(Y_.name,Y_),n.component(H_.name,H_),n.component(X_.name,X_),n.component(K_.name,K_))}var Cj=J2;function bj(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var Lj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W7=function(n){Lj(r,n);function r(t,e,i){var a=n.call(this)||this;if(i!==void 0&&e===void 0)a.setFlatCoordinates(i,t);else{var c=e||0;a.setCenterAndRadius(t,c,i)}return a}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){var c=this.flatCoordinates,f=t-c[0],p=e-c[1],g=f*f+p*p;if(g<a){if(g===0)for(var m=0;m<this.stride;++m)i[m]=c[m];else{var O=this.getRadius()/Math.sqrt(g);i[0]=c[0]+O*f,i[1]=c[1]+O*p;for(var m=2;m<this.stride;++m)i[m]=c[m]}return i.length=this.stride,g}else return a},r.prototype.containsXY=function(t,e){var i=this.flatCoordinates,a=t-i[0],c=e-i[1];return a*a+c*c<=this.getRadiusSquared_()},r.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return j(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},r.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},r.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},r.prototype.getType=function(){return Se.CIRCLE},r.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Ei(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||t[1]<=i[1]&&t[3]>=i[1]?!0:qn(t,this.intersectsCoordinate.bind(this))}return!1},r.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],a=t.slice();a[e]=a[0]+i;for(var c=1;c<e;++c)a[e+c]=t[c];this.setFlatCoordinates(this.layout,a),this.changed()},r.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var a=this.flatCoordinates,c=Xe(a,0,t,this.stride);a[c++]=a[0]+e;for(var f=1,p=this.stride;f<p;++f)a[c++]=a[f];a.length=c,this.changed()},r.prototype.getCoordinates=function(){return null},r.prototype.setCoordinates=function(t,e){},r.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},r.prototype.rotate=function(t,e){var i=this.getCenter(),a=this.getStride();this.setCenter(Qn(i,0,i.length,a,t,e,i)),this.changed()},r.prototype.translate=function(t,e){var i=this.getCenter(),a=this.getStride();this.setCenter(xi(i,0,i.length,a,t,e,i)),this.changed()},r}(Po);W7.prototype.transform;var $_=W7,Y7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Co={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Q2={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},ty=function(n){Y7(r,n);function r(t,e){var i=n.call(this,t)||this;return i.feature=e,i}return r}(cr.a),Ij=function(n){Y7(r,n);function r(t){var e=this,i=t;i.stopDown||(i.stopDown=Bt.a),e=n.call(this,i)||this,e.on,e.once,e.un,e.shouldHandle_=!1,e.downPx_=null,e.downTimeout_,e.lastDragTime_,e.pointerType_,e.freehand_=!1,e.source_=t.source?t.source:null,e.features_=t.features?t.features:null,e.snapTolerance_=t.snapTolerance?t.snapTolerance:12,e.type_=t.type,e.mode_=Nj(e.type_),e.stopClick_=!!t.stopClick,e.minPoints_=t.minPoints?t.minPoints:e.mode_===Co.POLYGON?3:2,e.maxPoints_=e.mode_===Co.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,e.finishCondition_=t.finishCondition?t.finishCondition:Bt.b;var a=t.geometryFunction;if(!a){var c=e.mode_;if(c===Co.CIRCLE)a=function(p,g,m){var O=g||new $_([NaN,NaN]),P=ut(p[0]),V=Ut(P,ut(p[p.length-1]));return O.setCenterAndRadius(P,Math.sqrt(V)),O};else{var f;c===Co.POINT?f=Fi:c===Co.LINE_STRING?f=Jo:c===Co.POLYGON&&(f=fo),a=function(p,g,m){return g?c===Co.POLYGON?p[0].length?g.setCoordinates([p[0].concat([p[0][0]])]):g.setCoordinates([]):g.setCoordinates(p):g=new f(p),g}}}return e.geometryFunction_=a,e.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,e.finishCoordinate_=null,e.sketchFeature_=null,e.sketchPoint_=null,e.sketchCoords_=null,e.sketchLine_=null,e.sketchLineCoords_=null,e.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,e.overlay_=new E0({source:new W0({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:Pj(),updateWhileInteracting:!0}),e.geometryName_=t.geometryName,e.condition_=t.condition?t.condition:iu,e.freehandCondition_,t.freehand?e.freehandCondition_=jf:e.freehandCondition_=t.freehandCondition?t.freehandCondition:xh,e.addChangeListener(Df.ACTIVE,e.updateState_),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleEvent=function(t){t.originalEvent.type===hn.a.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==Co.POINT&&this.freehandCondition_(t);var e=t.type===_n.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===_n.POINTERDRAG){var a=Date.now();a-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===_n.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===_n.POINTERDOWN?i=!1:e&&this.getPointerCount()<2?(i=t.type===_n.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===_n.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===_n.DBLCLICK&&(i=!1),n.prototype.handleEvent.call(this,t)&&i},r.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new $n(_n.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},r.prototype.handleUpEvent=function(t){var e=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_===Co.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},r.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,a=e[0]-i[0],c=e[1]-i[1],f=a*a+c*c;if(this.shouldHandle_=this.freehand_?f>this.squaredClickTolerance_:f<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},r.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,a=[this.finishCoordinate_],c=this.mode_;if(c===Co.POINT)e=!0;else if(c===Co.CIRCLE)e=this.sketchCoords_.length===2;else if(c===Co.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(c===Co.POLYGON){var f=this.sketchCoords_;i=f[0].length>this.minPoints_,a=[f[0][0],f[0][f[0].length-2]]}if(i)for(var p=this.getMap(),g=0,m=a.length;g<m;g++){var O=a[g],P=p.getPixelFromCoordinate(O),V=t[0]-P[0],$=t[1]-P[1],ot=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(V*V+$*$)<=ot,e){this.finishCoordinate_=O;break}}}return e},r.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new In(new Fi(t)),this.updateSketchFeatures_();else{var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}},r.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new In);var e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new Jo(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))},r.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===Co.POINT?this.sketchCoords_=t.slice():this.mode_===Co.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new In(new Jo(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new In,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new ty(Q2.DRAWSTART,this.sketchFeature_))},r.prototype.modifyDrawing_=function(t){var e=this.getMap(),i=this.sketchFeature_.getGeometry(),a=e.getView().getProjection(),c,f;if(this.mode_===Co.POINT?f=this.sketchCoords_:this.mode_===Co.POLYGON?(c=this.sketchCoords_[0],f=c[c.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(c=this.sketchCoords_,f=c[c.length-1]),f[0]=t[0],f[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,a),this.sketchPoint_){var p=this.sketchPoint_.getGeometry();p.setCoordinates(t)}if(i.getType()===Se.POLYGON&&this.mode_!==Co.POLYGON)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){var g=this.sketchLine_.getGeometry();g.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},r.prototype.addToDrawing_=function(t){var e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),a,c,f=this.mode_;f===Co.LINE_STRING||f===Co.CIRCLE?(this.finishCoordinate_=t.slice(),c=this.sketchCoords_,c.length>=this.maxPoints_&&(this.freehand_?c.pop():a=!0),c.push(t.slice()),this.geometryFunction_(c,e,i)):f===Co.POLYGON&&(c=this.sketchCoords_[0],c.length>=this.maxPoints_&&(this.freehand_?c.pop():a=!0),c.push(t.slice()),a&&(this.finishCoordinate_=c[0]),this.geometryFunction_(this.sketchCoords_,e,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),a&&this.finishDrawing()},r.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),e=this.getMap().getView().getProjection(),i,a=this.mode_;if(a===Co.LINE_STRING||a===Co.CIRCLE){if(i=this.sketchCoords_,i.splice(-2,1),i.length>=2){this.finishCoordinate_=i[i.length-2].slice();var c=this.finishCoordinate_.slice();i[i.length-1]=c,this.createOrUpdateSketchPoint_(c)}this.geometryFunction_(i,t,e),t.getType()===Se.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(a===Co.POLYGON){i=this.sketchCoords_[0],i.splice(-2,1);var f=this.sketchLine_.getGeometry();if(i.length>=2){var c=i[i.length-2].slice();i[i.length-1]=c,this.createOrUpdateSketchPoint_(c)}f.setCoordinates(i),this.geometryFunction_(this.sketchCoords_,t,e)}i.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},r.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var e=this.sketchCoords_,i=t.getGeometry(),a=this.getMap().getView().getProjection();this.mode_===Co.LINE_STRING?(e.pop(),this.geometryFunction_(e,i,a)):this.mode_===Co.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i,a),e=i.getCoordinates()),this.type_===Se.MULTI_POINT?t.setGeometry(new Sc([e])):this.type_===Se.MULTI_LINE_STRING?t.setGeometry(new cu([e])):this.type_===Se.MULTI_POLYGON&&t.setGeometry(new wl([e])),this.dispatchEvent(new ty(Q2.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},r.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},r.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new ty(Q2.DRAWABORT,t))},r.prototype.appendCoordinates=function(t){var e=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(t[0]);var a;if(e===Co.LINE_STRING||e===Co.CIRCLE)a=this.sketchCoords_;else if(e===Co.POLYGON)a=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&a.shift(),a.pop();for(var c=0;c<t.length;c++)this.addToDrawing_(t[c]);var f=t[t.length-1];this.addToDrawing_(f),this.modifyDrawing_(f)},r.prototype.extend=function(t){var e=t.getGeometry(),i=e;this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();var a=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=a.slice(),this.sketchCoords_.push(a.slice()),this.sketchPoint_=new In(new Fi(a)),this.updateSketchFeatures_(),this.dispatchEvent(new ty(Q2.DRAWSTART,this.sketchFeature_))},r.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},r.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();(!t||!e)&&this.abortDrawing(),this.overlay_.setMap(e?t:null)},r}(Nl);function Pj(){var n=H5();return function(r,t){return n[r.getGeometry().getType()]}}function Nj(n){switch(n){case Se.POINT:case Se.MULTI_POINT:return Co.POINT;case Se.LINE_STRING:case Se.MULTI_LINE_STRING:return Co.LINE_STRING;case Se.POLYGON:case Se.MULTI_POLYGON:return Co.POLYGON;case Se.CIRCLE:return Co.CIRCLE;default:throw new Error("Invalid type: "+n)}}var Z_=Ij,H7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),X7=0,av=1,K7=[0,0,0,0],dp=[],q_={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},J_=function(n){H7(r,n);function r(t,e,i){var a=n.call(this,t)||this;return a.features=e,a.mapBrowserEvent=i,a}return r}(cr.a),Fj=function(n){H7(r,n);function r(t){var e=n.call(this,t)||this;e.on,e.once,e.un,e.boundHandleFeatureChange_=e.handleFeatureChange_.bind(e),e.condition_=t.condition?t.condition:Dd,e.defaultDeleteCondition_=function(a){return Fd(a)&&Bu(a)},e.deleteCondition_=t.deleteCondition?t.deleteCondition:e.defaultDeleteCondition_,e.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:jf,e.vertexFeature_=null,e.vertexSegments_=null,e.lastPixel_=[0,0],e.ignoreNextSingleClick_=!1,e.featuresBeingModified_=null,e.rBush_=new P2,e.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,e.snappedToVertex_=!1,e.changingFeature_=!1,e.dragSegments_=[],e.overlay_=new E0({source:new W0({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:jj(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e)},e.source_=null,e.hitDetection_=null;var i;if(t.features?i=t.features:t.source&&(e.source_=t.source,i=new Bn(e.source_.getFeatures()),e.source_.addEventListener(Us.ADDFEATURE,e.handleSourceAdd_.bind(e)),e.source_.addEventListener(Us.REMOVEFEATURE,e.handleSourceRemove_.bind(e))),!i)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(e.hitDetection_=t.hitDetection),e.features_=i,e.features_.forEach(e.addFeature_.bind(e)),e.features_.addEventListener(ni.ADD,e.handleFeatureAdd_.bind(e)),e.features_.addEventListener(ni.REMOVE,e.handleFeatureRemove_.bind(e)),e.lastPointerEvent_=null,e.delta_=[0,0],e.snapToPointer_=t.snapToPointer===void 0?!e.hitDetection_:t.snapToPointer,e}return r.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var i=this.SEGMENT_WRITERS_[e.getType()];i&&i(t,e)}var a=this.getMap();a&&a.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,a),t.addEventListener(hn.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Bn;for(var i=this.featuresBeingModified_.getArray(),a=0,c=e.length;a<c;++a)for(var f=e[a],p=0,g=f.length;p<g;++p){var m=f[p].feature;m&&i.indexOf(m)===-1&&this.featuresBeingModified_.push(m)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new J_(q_.MODIFYSTART,this.featuresBeingModified_,t))}},r.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(hn.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(p){t===p.feature&&i.push(p)});for(var a=i.length-1;a>=0;--a){for(var c=i[a],f=this.dragSegments_.length-1;f>=0;--f)this.dragSegments_[f][0]===c&&this.dragSegments_.splice(f,1);e.remove(c)}},r.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),n.prototype.setActive.call(this,t)},r.prototype.setMap=function(t){this.overlay_.setMap(t),n.prototype.setMap.call(this,t)},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},r.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},r.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},r.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},r.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),a={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),a)},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a){var f=i[a],p={feature:t,geometry:e,depth:[a],index:a,segment:[f,f]};this.rBush_.insert(e.getExtent(),p)}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length-1;a<c;++a){var f=i.slice(a,a+2),p={feature:t,geometry:e,index:a,segment:f};this.rBush_.insert(At(f),p)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a)for(var f=i[a],p=0,g=f.length-1;p<g;++p){var m=f.slice(p,p+2),O={feature:t,geometry:e,depth:[a],index:p,segment:m};this.rBush_.insert(At(m),O)}},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a)for(var f=i[a],p=0,g=f.length-1;p<g;++p){var m=f.slice(p,p+2),O={feature:t,geometry:e,depth:[a],index:p,segment:m};this.rBush_.insert(At(m),O)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a)for(var f=i[a],p=0,g=f.length;p<g;++p)for(var m=f[p],O=0,P=m.length-1;O<P;++O){var V=m.slice(O,O+2),$={feature:t,geometry:e,depth:[p,a],index:O,segment:V};this.rBush_.insert(At(V),$)}},r.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),a={feature:t,geometry:e,index:X7,segment:[i,i]},c={feature:t,geometry:e,index:av,segment:[i,i]},f=[a,c];a.featureSegments=f,c.featureSegments=f,this.rBush_.insert(st(i),a);var p=e;this.rBush_.insert(p.getExtent(),c)},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),a=0;a<i.length;++a){var c=i[a],f=this.SEGMENT_WRITERS_[c.getType()];f(t,c)}},r.prototype.createOrUpdateVertexFeature_=function(t,e,i){var a=this.vertexFeature_;if(!a)a=new In(new Fi(t)),this.vertexFeature_=a,this.overlay_.getSource().addFeature(a);else{var c=a.getGeometry();c.setCoordinates(t)}return a.set("features",e),a.set("geometries",i),a},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;this.lastPointerEvent_=t;var e;return!t.map.getView().getInteracting()&&t.type==_n.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type!=_n.SINGLECLICK||!this.ignoreNextSingleClick_?e=this.removePoint():e=!0),t.type==_n.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),n.prototype.handleEvent.call(this,t)&&!e},r.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],a=[],c=0,f=this.dragSegments_.length;c<f;++c){var p=this.dragSegments_[c],g=p[0],m=g.feature;i.indexOf(m)===-1&&i.push(m);var O=g.geometry;a.indexOf(O)===-1&&a.push(O);for(var P=g.depth,V=void 0,$=g.segment,ot=p[1];e.length<O.getStride();)e.push($[ot][e.length]);switch(O.getType()){case Se.POINT:V=e,$[0]=e,$[1]=e;break;case Se.MULTI_POINT:V=O.getCoordinates(),V[g.index]=e,$[0]=e,$[1]=e;break;case Se.LINE_STRING:V=O.getCoordinates(),V[g.index+ot]=e,$[ot]=e;break;case Se.MULTI_LINE_STRING:V=O.getCoordinates(),V[P[0]][g.index+ot]=e,$[ot]=e;break;case Se.POLYGON:V=O.getCoordinates(),V[P[0]][g.index+ot]=e,$[ot]=e;break;case Se.MULTI_POLYGON:V=O.getCoordinates(),V[P[1]][P[0]][g.index+ot]=e,$[ot]=e;break;case Se.CIRCLE:if($[0]=e,$[1]=e,g.index===X7)this.changingFeature_=!0,O.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var yt=t.map.getView().getProjection(),Lt=kt(ut(O.getCenter()),ut(e)),zt=U();if(zt){var Ht=O.clone().transform(zt,yt);Ht.setRadius(Lt),Lt=Ht.transform(yt,zt).getRadius()}O.setRadius(Lt),this.changingFeature_=!1}break}V&&this.setGeometryCoordinates_(O,V)}this.createOrUpdateVertexFeature_(e,i,a)},r.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var i=this.vertexFeature_;if(i){var a=t.map.getView().getProjection(),c=[],f=i.getGeometry().getCoordinates(),p=At([f]),g=this.rBush_.getInExtent(p),m={};g.sort(Dj);for(var O=0,P=g.length;O<P;++O){var V=g[O],$=V.segment,ot=Object(St.c)(V.geometry),yt=V.depth;if(yt&&(ot+="-"+yt.join("-")),m[ot]||(m[ot]=new Array(2)),V.geometry.getType()===Se.CIRCLE&&V.index===av){var Lt=Z7(e,V,a);at(Lt,f)&&!m[ot][0]&&(this.dragSegments_.push([V,0]),m[ot][0]=V);continue}if(at($[0],f)&&!m[ot][0]){this.dragSegments_.push([V,0]),m[ot][0]=V;continue}if(at($[1],f)&&!m[ot][1]){if((V.geometry.getType()===Se.LINE_STRING||V.geometry.getType()===Se.MULTI_LINE_STRING)&&m[ot][0]&&m[ot][0].index===0)continue;this.dragSegments_.push([V,1]),m[ot][1]=V;continue}Object(St.c)($)in this.vertexSegments_&&!m[ot][0]&&!m[ot][1]&&this.insertVertexCondition_(t)&&c.push(V)}c.length&&this.willModifyFeatures_(t,[c]);for(var zt=c.length-1;zt>=0;--zt)this.insertVertex_(c[zt],f)}return!!this.vertexFeature_},r.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],a=i.geometry;if(a.getType()===Se.CIRCLE){var c=a.getCenter(),f=i.featureSegments[0],p=i.featureSegments[1];f.segment[0]=c,f.segment[1]=c,p.segment[0]=c,p.segment[1]=c,this.rBush_.update(st(c),f);var g=a,m=U();if(m){var O=t.map.getView().getProjection();g=g.clone().transform(m,O),g=Nc(g).transform(O,m)}this.rBush_.update(g.getExtent(),p)}else this.rBush_.update(At(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new J_(q_.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},r.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},r.prototype.handlePointerAtPixel_=function(t,e,i){var a=this,c=i||e.getCoordinateFromPixel(t),f=e.getView().getProjection(),p=function(Sn,Tn){return $7(c,Sn,f)-$7(c,Tn,f)},g,m;if(this.hitDetection_){var O=typeof this.hitDetection_=="object"?function(Sn){return Sn===a.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,function(Sn,Tn,Ln){if(Ln=Ln||Sn.getGeometry(),Ln.getType()===Se.POINT&&Object(et.f)(a.features_.getArray(),Sn)){m=Ln;var Gn=Ln.getFlatCoordinates().slice(0,2);g=[{feature:Sn,geometry:Ln,segment:[Gn,Gn]}]}return!0},{layerFilter:O})}if(!g){var P=Mt(st(c,K7)),V=e.getView().getResolution()*this.pixelTolerance_,$=mt(Ct(P,V,K7));g=this.rBush_.getInExtent($)}if(g&&g.length>0){var ot=g.sort(p)[0],yt=ot.segment,Lt=Z7(c,ot,f),zt=e.getPixelFromCoordinate(Lt),Ht=kt(t,zt);if(m||Ht<=this.pixelTolerance_){var jt={};if(jt[Object(St.c)(yt)]=!0,this.snapToPointer_||(this.delta_[0]=Lt[0]-c[0],this.delta_[1]=Lt[1]-c[1]),ot.geometry.getType()===Se.CIRCLE&&ot.index===av)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(Lt,[ot.feature],[ot.geometry]);else{var ye=e.getPixelFromCoordinate(yt[0]),ve=e.getPixelFromCoordinate(yt[1]),Oe=Ut(zt,ye),we=Ut(zt,ve);Ht=Math.sqrt(Math.min(Oe,we)),this.snappedToVertex_=Ht<=this.pixelTolerance_,this.snappedToVertex_&&(Lt=Oe>we?yt[1]:yt[0]),this.createOrUpdateVertexFeature_(Lt,[ot.feature],[ot.geometry]);var je={};je[Object(St.c)(ot.geometry)]=!0;for(var Tr=1,vr=g.length;Tr<vr;++Tr){var qe=g[Tr].segment;if(at(yt[0],qe[0])&&at(yt[1],qe[1])||at(yt[0],qe[1])&&at(yt[1],qe[0])){var Dr=Object(St.c)(g[Tr].geometry);Dr in je||(je[Dr]=!0,jt[Object(St.c)(qe)]=!0)}else break}}this.vertexSegments_=jt;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},r.prototype.insertVertex_=function(t,e){for(var i=t.segment,a=t.feature,c=t.geometry,f=t.depth,p=t.index,g;e.length<c.getStride();)e.push(0);switch(c.getType()){case Se.MULTI_LINE_STRING:g=c.getCoordinates(),g[f[0]].splice(p+1,0,e);break;case Se.POLYGON:g=c.getCoordinates(),g[f[0]].splice(p+1,0,e);break;case Se.MULTI_POLYGON:g=c.getCoordinates(),g[f[1]][f[0]].splice(p+1,0,e);break;case Se.LINE_STRING:g=c.getCoordinates(),g.splice(p+1,0,e);break;default:return}this.setGeometryCoordinates_(c,g);var m=this.rBush_;m.remove(t),this.updateSegmentIndices_(c,p,f,1);var O={segment:[i[0],e],feature:a,geometry:c,depth:f,index:p};m.insert(At(O.segment),O),this.dragSegments_.push([O,1]);var P={segment:[e,i[1]],feature:a,geometry:c,depth:f,index:p+1};m.insert(At(P.segment),P),this.dragSegments_.push([P,0]),this.ignoreNextSingleClick_=!0},r.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=_n.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new J_(q_.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},r.prototype.removeVertex_=function(){var t=this.dragSegments_,e={},i=!1,a,c,f,p,g,m,O,P,V,$,ot;for(g=t.length-1;g>=0;--g)f=t[g],$=f[0],ot=Object(St.c)($.feature),$.depth&&(ot+="-"+$.depth.join("-")),ot in e||(e[ot]={}),f[1]===0?(e[ot].right=$,e[ot].index=$.index):f[1]==1&&(e[ot].left=$,e[ot].index=$.index+1);for(ot in e){switch(V=e[ot].right,O=e[ot].left,m=e[ot].index,P=m-1,O!==void 0?$=O:$=V,P<0&&(P=0),p=$.geometry,c=p.getCoordinates(),a=c,i=!1,p.getType()){case Se.MULTI_LINE_STRING:c[$.depth[0]].length>2&&(c[$.depth[0]].splice(m,1),i=!0);break;case Se.LINE_STRING:c.length>2&&(c.splice(m,1),i=!0);break;case Se.MULTI_POLYGON:a=a[$.depth[1]];case Se.POLYGON:a=a[$.depth[0]],a.length>4&&(m==a.length-1&&(m=0),a.splice(m,1),i=!0,m===0&&(a.pop(),a.push(a[0]),P=a.length-1));break}if(i){this.setGeometryCoordinates_(p,c);var yt=[];if(O!==void 0&&(this.rBush_.remove(O),yt.push(O.segment[0])),V!==void 0&&(this.rBush_.remove(V),yt.push(V.segment[1])),O!==void 0&&V!==void 0){var Lt={depth:$.depth,feature:$.feature,geometry:$.geometry,index:P,segment:yt};this.rBush_.insert(At(Lt.segment),Lt)}this.updateSegmentIndices_(p,m,$.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return i},r.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},r.prototype.updateSegmentIndices_=function(t,e,i,a){this.rBush_.forEachInExtent(t.getExtent(),function(c){c.geometry===t&&(i===void 0||c.depth===void 0||Object(et.b)(c.depth,i))&&c.index>e&&(c.index+=a)})},r}(Nl);function Dj(n,r){return n.index-r.index}function $7(n,r,t){var e=r.geometry;if(e.getType()===Se.CIRCLE){var i=e;if(r.index===av){var a=U();a&&(i=i.clone().transform(a,t));var c=Ut(i.getCenter(),ut(n)),f=Math.sqrt(c)-i.getRadius();return f*f}}var p=ut(n);return dp[0]=ut(r.segment[0]),dp[1]=ut(r.segment[1]),Zt(p,dp)}function Z7(n,r,t){var e=r.geometry;if(e.getType()===Se.CIRCLE&&r.index===av){var i=e,a=U();return a&&(i=i.clone().transform(a,t)),Q(i.getClosestPoint(ut(n)))}var c=ut(n);return dp[0]=ut(r.segment[0]),dp[1]=ut(r.segment[1]),Q(tt(c,dp))}function jj(){var n=H5();return function(r,t){return n[Se.POINT]}}var Q_=Fj,Gj={name:"ol-style",setup:function(r){var t=Object(N.inject)("stylable",null),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new Qs(i)}),c=function(g){if(t instanceof Z_||t instanceof Q_){t.getOverlay().setStyle(g),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(g),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=g,t.value.values_.style=g,t.value.changed(),t.value.dispatchEvent("styleChanged")}},f=Object(N.computed)(function(){return function(p){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(p,a.value),a.value}});return Object(N.watch)(i,function(){i.overrideStyleFunction==null?c(a.value):c(f.value)}),Object(N.onMounted)(function(){i.overrideStyleFunction==null?c(a.value):c(f.value)}),Object(N.onUnmounted)(function(){c(null)}),Object(N.provide)("style",a),Object(N.provide)("styledObj",t),{style:a}},props:{zIndex:{type:Number},overrideStyleFunction:{type:Function}}},t3=hr()(Gj,[["render",bj]]);function Bj(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var Uj={name:"ol-style-circle",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("styledObj",null),i=Ur(r),a=i.properties,c=function(m){return new tv(ur(ur({},m),{},{fill:new Js,stroke:new Cs}))},f=Object(N.computed)(function(){return c(a)}),p=function(){t.value.setImage(null),t.value.setImage(f.value),e.value.changed()};Object(N.watch)(a,function(){p()}),Object(N.watch)(t,function(){p()}),Object(N.onMounted)(function(){t.value.setImage(f.value)}),Object(N.onUnmounted)(function(){t.value.setImage(null)}),Object(N.provide)("circle",f),Object(N.provide)("styledObj",e)},props:{radius:{type:Number},scale:{type:Number}}},e3=hr()(Uj,[["render",Bj]]);function kj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var zj={name:"ol-style-stroke",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("circle",null),i=Object(N.inject)("styledObj",null),a=Ur(r),c=a.properties;if(t!=null&&e==null){var f=new Cs(c);t.value.setStroke(f);var p=function(){t.value.setStroke(null),f=new Cs(c),t.value.setStroke(f)};Object(N.watch)(c,function(){p()}),Object(N.watch)(t,function(){p()}),Object(N.onMounted)(function(){t.value.setStroke(f)}),Object(N.onUnmounted)(function(){t.value.setStroke(null)})}else if(e!=null){var g=function(O){e.value.getStroke().setColor(O.color),e.value.getStroke().setLineCap(O.lineCap),e.value.getStroke().setLineDash(O.lineDash),e.value.getStroke().setLineDashOffset(O.lineDashOffset),e.value.getStroke().setLineJoin(O.lineJoin),e.value.getStroke().setMiterLimit(O.miterLimit),e.value.getStroke().setWidth(O.width),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};g(c),Object(N.watch)(c,function(m){g(m)}),Object(N.watch)(e,function(){g(c)})}},props:{color:{type:String},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:{type:Array},lineDashOffset:{type:Number,default:0},miterLimit:{type:Number,default:10},width:{type:Number,default:1}}},r3=hr()(zj,[["render",kj]]);function Vj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var Wj={name:"ol-style-fill",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("circle",null),i=Object(N.inject)("styledObj",null),a=Ur(r),c=a.properties;if(t!=null&&e==null){var f=new Js(c);t.value.setFill(f);var p=function(){t.value.setFill(null),f=new Js(c),t.value.setFill(f)};Object(N.watch)(c,function(){p()}),Object(N.watch)(t,function(){p()}),Object(N.onMounted)(function(){t.value.setFill(f)}),Object(N.onUnmounted)(function(){t.value.setFill(null)})}else if(e!=null){var g=function(O){e.value.getFill().setColor(O),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};g(c.color),Object(N.watch)(c,function(){g(c.color)}),Object(N.watch)(e,function(){g(c.color)})}},props:{color:{type:String}}},n3=hr()(Wj,[["render",Vj]]);function Yj(n,r,t,e,i,a){return Object(N.createCommentVNode)("",!0)}var Hj={name:"ol-style-icon",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("styledObj",null),i=Ur(r),a=i.properties,c=Object(N.computed)(function(){var p=new L2(a);return p.load(),p}),f=function(){t.value.setImage(null),t.value.setImage(c.value),e.value.changed()};Object(N.watch)(a,function(){f()}),Object(N.watch)(t,function(){f()}),Object(N.onMounted)(function(){t.value.setImage(c.value)}),Object(N.onUnmounted)(function(){t.value.setImage(null)})},props:{anchor:{type:Array},anchorOrigin:{type:String,default:"top-left"},anchorXUnits:{type:String,default:"fraction"},color:{type:String},crossOrigin:{type:String},img:{type:[HTMLImageElement,HTMLCanvasElement]},offset:{type:Array,default:function(){return[0,0]}},displacement:{type:Array,default:function(){return[0,0]}},offsetOrigin:{type:String,default:"top-left"},opacity:{type:Number,default:1},scale:{type:Number,default:1},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},size:{type:Array},imgSize:{type:Array},src:{type:String}}},i3=hr()(Hj,[["render",Yj]]);function Xj(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var Kj={name:"ol-style-text",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("styledObj",null),i=Ur(r),a=i.properties,c=function(m){return new Kf(ur(ur({},m),{},{fill:new Js,stroke:new Cs}))},f=Object(N.computed)(function(){return c(a)}),p=function(){t.value.setText(null),t.value.setText(f.value),e.value.changed()};Object(N.watch)(a,function(){p()}),Object(N.watch)(t,function(){p()}),Object(N.onMounted)(function(){t.value.setText(f.value)}),Object(N.onUnmounted)(function(){t.value.setText(null)}),Object(N.provide)("style",f),Object(N.provide)("styledObj",e)},props:{font:{type:String},maxAngle:{type:Number,default:Math.PI/4},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},overflow:{type:Boolean,default:!1},placement:{type:String,default:"point"},scale:{type:Number},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},text:{type:String},textAlign:{type:String},textBaseline:{type:String,default:"middle"},padding:{type:Array,default:function(){return[0,0,0,0]}}}},o3=hr()(Kj,[["render",Xj]]);function $j(n,r,t,e,i,a){return Object(N.openBlock)(),Object(N.createElementBlock)("div",null,[Object(N.renderSlot)(n.$slots,"default")])}var pp=function(n,r){var t=n[0]-r[0],e=n[1]-r[1];return Math.sqrt(t*t+e*e)},sv=function(n,r){return n[0]==r[0]&&n[1]==r[1]},q7;(function(){function n(t,e){var i;for(let a=t.length-1;a>0;a--)(t[a][0]>e&&t[a-1][0]<e||t[a][0]<e&&t[a-1][0]>e)&&(i=[e,(e-t[a][0])/(t[a-1][0]-t[a][0])*(t[a-1][1]-t[a][1])+t[a][1]],t.splice(a,0,i))}function r(t,e){var i;for(let a=t.length-1;a>0;a--)(t[a][1]>e&&t[a-1][1]<e||t[a][1]<e&&t[a-1][1]>e)&&(i=[(e-t[a][1])/(t[a-1][1]-t[a][1])*(t[a-1][0]-t[a][0])+t[a][0],e],t.splice(a,0,i))}q7=function(t,e){var i=e.getType()==="Polygon";if(!i&&e.getType()!=="MultiPolygon")return null;var a=e.getCoordinates();return i&&(a=[a]),a.forEach(function(c){c.forEach(function(f){n(f,t[0]),n(f,t[2]),r(f,t[1]),r(f,t[3])})}),a.forEach(function(c){c.forEach(function(f){f.forEach(function(p){p[0]<t[0]?p[0]=t[0]:p[0]>t[2]&&(p[0]=t[2]),p[1]<t[1]?p[1]=t[1]:p[1]>t[3]&&(p[1]=t[3])})})}),i?new fo(a[0]):new wl(a)}})();var J7=function(n,r,t,e){var i=[];e!==!1&&i.push(n);var a=pp(n,r);if(a){var c=Math.round(a/t);if(c>1)for(var f=(r[0]-n[0])/c,p=(r[1]-n[1])/c,g=1;g<c;g++)i.push([n[0]+f*g,n[1]+p*g])}return i.push(r),i};fo.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){for(var i=[],a=1;a<e.length;a++)i=i.concat(J7(e[a-1],e[a],n,a===1));t.push(i)}),new fo(t)},wl.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){var i=[];t.push(i),e.forEach(function(a){for(var c=[],f=1;f<a.length;f++)c=c.concat(J7(a[f-1],a[f],n,f===1));i.push(c)})}),new wl(t)},$_.prototype.intersection=function(n,r){if(n.sampleAt){var t=Ct(this.getCenter().concat(this.getCenter()),this.getRadius());n=q7(t,n),n=n.simplify(r);var e=this.getCenter(),i=this.getRadius(),a=n.sampleAt(r).getCoordinates();switch(n.getType()){case"Polygon":a=[a];case"MultiPolygon":{var c=!1,f=[];return a.forEach(function(p){var g=[];f.push(g),p.forEach(function(m){var O=[];g.push(O),m.forEach(function(P){var V=pp(e,P);V>i?(c=!0,O.push([e[0]+i/V*(P[0]-e[0]),e[1]+i/V*(P[1]-e[1])])):O.push(P)})})}),c?n.getType()==="Polygon"?new fo(f[0]):new wl(f):n}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+n.getType());return n},Jo.prototype.splitAt=function(n,r){var t;if(!n)return[this];if(r||(r=1e-10),n.length&&n[0].length){var e=[this];for(t=0;t<n.length;t++){for(var i=[],a=0;a<e.length;a++){var c=e[a].splitAt(n[t],r);i=i.concat(c)}e=i}return e}if(sv(n,this.getFirstCoordinate())||sv(n,this.getLastCoordinate()))return[this];var f=this.getCoordinates(),p=[f[0]],g=[];for(t=0;t<f.length-1;t++)if(!sv(f[t],f[t+1])){if(sv(n,f[t+1]))p.push(f[t+1]),g.push(new Jo(p)),p=[];else if(!sv(n,f[t])){var m,O,P=!1;f[t][0]==f[t+1][0]?(m=(f[t][1]-n[1])/(f[t][1]-f[t+1][1]),P=f[t][0]==n[0]&&0<m&&m<=1):f[t][1]==f[t+1][1]?(m=(f[t][0]-n[0])/(f[t][0]-f[t+1][0]),P=f[t][1]==n[1]&&0<m&&m<=1):(m=(f[t][0]-n[0])/(f[t][0]-f[t+1][0]),O=(f[t][1]-n[1])/(f[t][1]-f[t+1][1]),P=Math.abs(m-O)<=r&&0<m&&m<=1),P&&(p.push(n),g.push(new Jo(p)),p=[n])}p.push(f[t+1])}return p.length>1&&g.push(new Jo(p)),g.length?g:[this]};var ys=function(n){n||(n={}),Qs.call(this,{renderer:this._render.bind(this),stroke:n.stroke,text:n.text,zIndex:n.zIndex,geometry:n.geometry}),this._visible=n.visible!==!1,typeof n.width=="function"?this._widthFn=n.width:this.setWidth(n.width),this.setWidth2(n.width2),typeof n.color=="function"?this._colorFn=n.color:this.setColor(n.color),this.setColor2(n.color2),this.setLineCap(n.lineCap),this.setArrow(n.arrow),this.setArrowSize(n.arrowSize),this.setArrowColor(n.arrowColor),this._offset=[0,0],this.setOffset(n.offset0,0),this.setOffset(n.offset1,1),this._noOverlap=n.noOverlap};Ro(ys,Qs),ys.prototype.setWidth=function(n){this._width=n||0},ys.prototype.setWidth2=function(n){this._width2=n},ys.prototype.getOffset=function(n){return this._offset[n]},ys.prototype.setOffset=function(n,r){switch(n=Math.max(0,parseFloat(n)),r){case 0:{this._offset[0]=n;break}case 1:{this._offset[1]=n;break}}},ys.prototype.setLineCap=function(n){this._lineCap=n==="round"?"round":"butt"},ys.prototype.getWidth=function(n,r){if(this._widthFn)return this._widthFn(n,r);var t=typeof this._width2=="number"?this._width2:this._width;return this._width+(t-this._width)*r},ys.prototype.setColor=function(n){try{this._color=ma(n)}catch{this._color=[0,0,0,1]}},ys.prototype.setColor2=function(n){try{this._color2=ma(n)}catch{this._color2=null}},ys.prototype.setArrowColor=function(n){try{this._acolor=xo(n)}catch{this._acolor=null}},ys.prototype.getColor=function(n,r){if(this._colorFn)return xo(this._colorFn(n,r));var t=this._color,e=this._color2||this._color;return"rgba("+ +Math.round(t[0]+(e[0]-t[0])*r)+","+Math.round(t[1]+(e[1]-t[1])*r)+","+Math.round(t[2]+(e[2]-t[2])*r)+","+(t[3]+(e[3]-t[3])*r)+")"},ys.prototype.getArrow=function(){return this._arrow},ys.prototype.setArrow=function(n){this._arrow=parseInt(n),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)},ys.prototype.getArrowSize=function(){return this._arrowSize||[16,16]},ys.prototype.setArrowSize=function(n){Array.isArray(n)?this._arrowSize=n:typeof n=="number"&&(this._arrowSize=[n,n])},ys.prototype.drawArrow=function(n,r,t,e,i){var a=this.getArrowSize()[0]*i,c=pp(r,t),f=(r[0]-t[0])/c,p=(r[1]-t[1])/c;e=Math.max(this.getArrowSize()[1]/2,e/2)*i,n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[0]-a*f+e*p,r[1]-a*p-e*f),n.lineTo(r[0]-a*f-e*p,r[1]-a*p+e*f),n.lineTo(r[0],r[1]),n.fill()},ys.prototype._render=function(n,r){if(r.geometry.getType()==="LineString"){var t,e,i,a=r.context;if(!this._visible){var c=r.pixelRatio/r.resolution,f=Math.cos(r.rotation),p=Math.sin(r.rotation);e=r.geometry.getCoordinates();var g=n[0][0]-e[0][0]*c*f-e[0][1]*c*p,m=n[0][1]-e[0][0]*c*p+e[0][1]*c*f;for(n=[],t=0;i=e[t];t++)n[t]=[g+i[0]*c*f+i[1]*c*p,m+i[0]*c*p-i[1]*c*f,i[2]]}var O=this.getArrowSize()[0]*r.pixelRatio;a.save(),this.getOffset(0)&&this._splitAsize(n,this.getOffset(0)*r.pixelRatio),this.getOffset(1)&&this._splitAsize(n,this.getOffset(1)*r.pixelRatio,!0),n.length>1&&(this.getArrow()===-1||this.getArrow()===2)&&(i=this._splitAsize(n,O),this._acolor?a.fillStyle=this._acolor:a.fillStyle=this.getColor(r.feature,0),this.drawArrow(a,i[0],i[1],this.getWidth(r.feature,0),r.pixelRatio)),n.length>1&&this.getArrow()>0&&(i=this._splitAsize(n,O,!0),this._acolor?a.fillStyle=this._acolor:a.fillStyle=this.getColor(r.feature,1),this.drawArrow(a,i[0],i[1],this.getWidth(r.feature,1),r.pixelRatio));var P=this._splitInto(n,255,2),V=0,$=P.length;if(a.lineJoin="round",a.lineCap=this._lineCap||"butt",P.length>1)for(V=0;V<P.length;V++){var ot=V/$;for(e=P[V],a.lineWidth=this.getWidth(r.feature,ot)*r.pixelRatio,a.strokeStyle=this.getColor(r.feature,ot),a.beginPath(),a.moveTo(e[0][0],e[0][1]),t=1;i=e[t];t++)a.lineTo(i[0],i[1]);a.stroke()}a.restore()}},ys.prototype._splitAsize=function(n,r,t){var e,i,a,c,f=0;for(t?a=n.pop():a=n.shift(),e=a;n.length;){if(t?i=n.pop():i=n.shift(),c=pp(e,i),f+c>r){e=[e[0]+(i[0]-e[0])*(r-f)/c,e[1]+(i[1]-e[1])*(r-f)/c],c=pp(e,a),t?(n.push(i),n.push(e),n.push([e[0]+(a[0]-e[0])/c,e[1]+(a[1]-e[1])/c])):(n.unshift(i),n.unshift(e),n.unshift([e[0]+(a[0]-e[0])/c,e[1]+(a[1]-e[1])/c]));break}f+=c,e=i}return[a,e]},ys.prototype._splitInto=function(n,r,t){var e,i,a=this._noOverlap?1:.9,c=[],f,p=0;for(e=1;i=n[e];e++)p+=pp(n[e-1],i);var g=Math.max(t||2,p/(r||255)),m=n[0];p=0;var O=[m];for(e=1,i=n[1];e<n.length;){var P=i[0]-m[0],V=i[1]-m[1];if(f=Math.sqrt(P*P+V*V),p+f>g){var $=(g-p)/f;O.push([m[0]+P*$,m[1]+V*$]),c.push(O),m=[m[0]+P*$*a,m[1]+V*$*a],O=[m],p=0}else p+=f,m=i,O.push(m),e++,i=n[e]}return c.push(O),c};var Zj=ys,qj={name:"ol-style-flowline",setup:function(r){var t=Object(N.inject)("stylable",null),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){return new Zj(i)}),c=function(g){if(t instanceof Z_||t instanceof Q_){t.getOverlay().setStyle(g),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(g),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=g,t.value.values_.style=g,t.value.changed(),t.value.dispatchEvent("styleChanged")}},f=Object(N.computed)(function(){return function(p){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(p,a.value),a.value}});return Object(N.watch)(i,function(){i.overrideStyleFunction==null?c(a.value):c(f.value)}),Object(N.onMounted)(function(){i.overrideStyleFunction==null?c(a.value):c(f.value)}),Object(N.onUnmounted)(function(){c(null)}),{style:a}},props:{color:{type:[String,Function]},color2:{type:String},width:{type:[Number,Function]},width2:{type:Number},arrow:{type:Number},arrowColor:{type:String}}},a3=hr()(qj,[["render",$j]]);function ey(n){ey.installed||(ey.installed=!0,n.component(t3.name,t3),n.component(e3.name,e3),n.component(r3.name,r3),n.component(n3.name,n3),n.component(i3.name,i3),n.component(o3.name,o3),n.component(a3.name,a3))}var Jj=ey;function Qj(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var Q7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tG={SELECT:"select"},eG=function(n){Q7(r,n);function r(t,e,i,a){var c=n.call(this,t)||this;return c.selected=e,c.deselected=i,c.mapBrowserEvent=a,c}return r}(cr.a),ry={},rG=function(n){Q7(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};e.boundAddFeature_=e.addFeature_.bind(e),e.boundRemoveFeature_=e.removeFeature_.bind(e),e.condition_=i.condition?i.condition:Bu,e.addCondition_=i.addCondition?i.addCondition:M1,e.removeCondition_=i.removeCondition?i.removeCondition:M1,e.toggleCondition_=i.toggleCondition?i.toggleCondition:xh,e.multi_=i.multi?i.multi:!1,e.filter_=i.filter?i.filter:Bt.b,e.hitTolerance_=i.hitTolerance?i.hitTolerance:0,e.style_=i.style!==void 0?i.style:nG(),e.features_=i.features||new Bn;var a;if(i.layers)if(typeof i.layers=="function")a=i.layers;else{var c=i.layers;a=function(f){return Object(et.f)(c,f)}}else a=Bt.b;return e.layerFilter_=a,e.featureLayerAssociation_={},e}return r.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(St.c)(t)]=e},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(St.c)(t)]},r.prototype.setHitTolerance=function(t){this.hitTolerance_=t},r.prototype.setMap=function(t){var e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),n.prototype.setMap.call(this,t),t?(this.features_.addEventListener(ni.ADD,this.boundAddFeature_),this.features_.addEventListener(ni.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(ni.ADD,this.boundAddFeature_),this.features_.removeEventListener(ni.REMOVE,this.boundRemoveFeature_))},r.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var i=this.getMap().getAllLayers().find(function(a){if(a instanceof E0&&a.getSource()&&a.getSource().hasFeature(e))return a});i&&this.addFeatureLayerAssociation_(e,i)}},r.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(t){var e=Object(St.c)(t);e in ry||(ry[e]=t.getStyle()),t.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(t){for(var e=this.getMap().getInteractions().getArray(),i=e.length-1;i>=0;--i){var a=e[i];if(a!==this&&a instanceof r&&a.getStyle()&&a.getFeatures().getArray().lastIndexOf(t)!==-1){t.setStyle(a.getStyle());return}}var c=Object(St.c)(t);t.setStyle(ry[c]),delete ry[c]},r.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(St.c)(t)]},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),a=this.toggleCondition_(t),c=!e&&!i&&!a,f=t.map,p=this.getFeatures(),g=[],m=[];if(c){Object(yn.b)(this.featureLayerAssociation_),f.forEachFeatureAtPixel(t.pixel,function(ot,yt){if(this.filter_(ot,yt))return this.addFeatureLayerAssociation_(ot,yt),m.push(ot),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var O=p.getLength()-1;O>=0;--O){var P=p.item(O),V=m.indexOf(P);V>-1?m.splice(V,1):(p.remove(P),g.push(P))}m.length!==0&&p.extend(m)}else{f.forEachFeatureAtPixel(t.pixel,function(ot,yt){if(this.filter_(ot,yt))return(e||a)&&!Object(et.f)(p.getArray(),ot)?(this.addFeatureLayerAssociation_(ot,yt),m.push(ot)):(i||a)&&Object(et.f)(p.getArray(),ot)&&(g.push(ot),this.removeFeatureLayerAssociation_(ot)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var $=g.length-1;$>=0;--$)p.remove(g[$]);p.extend(m)}return(m.length>0||g.length>0)&&this.dispatchEvent(new eG(tG.SELECT,m,g,t)),!0},r}(f0);function nG(){var n=H5();return Object(et.c)(n[Se.POLYGON],n[Se.LINE_STRING]),Object(et.c)(n[Se.GEOMETRY_COLLECTION],n[Se.LINE_STRING]),function(r){return r.getGeometry()?n[r.getGeometry().getType()]:null}}var ny=rG,iG={name:"ol-interaction-select",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(N.inject)("map"),a=Ur(r),c=a.properties,f=Object(N.computed)(function(){var p=new ny(ur(ur({},c),{},{style:new Qs}));return p.on("select",function(g){e("select",g)}),p});return Object(N.watch)(f,function(p,g){i.removeInteraction(g),i.addInteraction(p),i.changed()}),Object(N.onMounted)(function(){i.addInteraction(f.value)}),Object(N.onUnmounted)(function(){i.removeInteraction(f.value)}),Object(N.provide)("stylable",f),{select:f}},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},features:{type:[Bn,Object]}}},s3=hr()(iG,[["render",Qj]]);function oG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var zh=function(n){n=n||{},this.pointRadius=n.pointRadius||12,this.circleMaxObjects=n.circleMaxObjects||10,this.maxObjects=n.maxObjects||60,this.spiral=n.spiral!==!1,this.animate=n.animate,this.animationDuration=n.animationDuration||500,this.selectCluster_=n.selectCluster!==!1,this._autoClose=n.autoClose!==!1;var r=this.overlayLayer_=new E0({source:new W0({features:new Bn,wrapX:n.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:n.featureStyle});if(n.layers)if(typeof n.layers=="function"){var t=n.layers;n.layers=function(i){return i===r||t(i)}}else n.layers.push&&n.layers.push(this.overlayLayer_);if(n.filter){var e=n.filter;n.filter=function(i,a){return!a&&i.get("selectclusterlink")?!1:e(i,a)}}else n.filter=function(i,a){return!(!a&&i.get("selectclusterlink"))};this.filter_=n.filter,!this._autoClose&&!n.toggleCondition&&(n.toggleCondition=Bu),ny.call(this,n),this.on("select",this.selectCluster.bind(this))};Ro(zh,ny),zh.prototype.setMap=function(n){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Object(Vu.b)(this._listener),this._listener=null,ny.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n&&n.getView()&&(this._listener=n.getView().on("change:resolution",this.clear.bind(this)))},zh.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},zh.prototype.getLayer=function(){return this.overlayLayer_},zh.prototype.selectCluster=function(n){if(n instanceof In&&(n={selected:[n]}),!n.selected.length){this._autoClose?this.clear():n.deselected.forEach(zt=>{zt.get("selectcluserfeatures").forEach(jt=>{this.overlayLayer_.getSource().removeFeature(jt)})});return}var r=n.selected[0];if(!r.get("selectclusterfeature")){var t=this.overlayLayer_.getSource();this._autoClose&&t.clear();var e=r.get("features");if(!(!e||e.length==1)){this.selectCluster_||this.getFeatures().clear();var i=r.getGeometry().getCoordinates(),a=this.getMap().getView().getResolution(),c,f,p,g,m,O,P,V=[];if(!this.spiral||e.length<=this.circleMaxObjects)for(g=Math.min(e.length,this.circleMaxObjects),c=a*this.pointRadius*(.5+g/4),p=0;p<g;p++)f=2*Math.PI*p/g,(g==2||g==4)&&(f+=Math.PI/4),m=[i[0]+c*Math.sin(f),i[1]+c*Math.cos(f)],O=new In({selectclusterfeature:!0,features:[e[p]],geometry:new Fi(m)}),O.setStyle(e[p].getStyle()),V.push(O),P=new In({selectclusterlink:!0,geometry:new Jo([i,m])}),V.push(P);else{f=0;var $=2*this.pointRadius;for(g=Math.min(this.maxObjects,e.length),p=0;p<g;p++){c=$/2+$*f/(2*Math.PI),f=f+($+.1)/c;var ot=a*c*Math.sin(f),yt=a*c*Math.cos(f);m=[i[0]+ot,i[1]+yt],O=new In({selectclusterfeature:!0,features:[e[p]],geometry:new Fi(m)}),O.setStyle(e[p].getStyle()),V.push(O),P=new In({selectclusterlink:!0,geometry:new Jo([i,m])}),V.push(P)}}r.set("selectcluserfeatures",V),this.animate?this.animateCluster_(i,V):t.addFeatures(V)}}},zh.prototype.animateCluster_=function(n,r){if(this.listenerKey_&&Object(Vu.b)(this.listenerKey_),!r.length)return;var t=this.overlayLayer_.getStyle(),e=typeof t=="function"?t:t.length?function(){return t}:function(){return[t]},i=this.animationDuration||500,a=new Date().getTime();function c(p){for(var g=p.vectorContext||F2(p),m=p.frameState.pixelRatio,O=this.getMap().getView().getResolution(),P=Hr((p.frameState.time-a)/i),V=0,$;$=r[V];V++)if($.get("features")){var ot=$.getGeometry().getCoordinates();ot[0]=n[0]+P*(ot[0]-n[0]),ot[1]=n[1]+P*(ot[1]-n[1]);for(var yt=new Fi(ot),Lt=e($,O),zt=0;zt<Lt.length;zt++){var Ht,jt=Fe.prototype.getFeaturesAtPixel?!1:Lt[zt].getImage();jt&&(Ht=jt.getScale(),jt.setScale(m)),g.setStyle?(g.setStyle(Lt[zt]),g.drawGeometry(yt)):(g.setImageStyle(jt),g.drawPointGeometry(yt)),jt&&jt.setScale(Ht)}}if(P>1){Object(Vu.b)(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(r),this.overlayLayer_.changed();return}p.frameState.animate=!0}this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],c.bind(this));var f=new In(new Fi(this.getMap().getView().getCenter()));f.setStyle(new Qs({image:new tv({})})),this.overlayLayer_.getSource().addFeature(f)},zh.prototype.getClusterExtent=function(n){if(!n.get("features"))return null;var r=ft();return n.get("features").forEach(function(t){r=zr(r,t.getGeometry().getExtent())}),r[0]===r[2]&&r[1]===r[3]?null:r};var aG=zh,sG={name:"ol-interaction-clusterselect",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(N.inject)("map"),a=Ur(r),c=a.properties,f=Object(N.computed)(function(){var p=new aG(ur(ur({},c),{},{style:new Qs}));return p.on("select",function(g){e("select",g)}),p});Object(N.watch)(f,function(p,g){i.removeInteraction(g),i.addInteraction(p),i.changed()}),Object(N.onMounted)(function(){i.addInteraction(f.value)}),Object(N.onUnmounted)(function(){i.removeInteraction(f.value)}),Object(N.provide)("stylable",f)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},pointRadius:{type:Number,default:7},animate:{type:Boolean,default:!0},featureStyle:{type:Function},style:{type:Function}}},l3=hr()(sG,[["render",oG]]);function lG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var uG={name:"ol-interaction-draw",emits:["drawstart","drawend"],setup:function(r,t){var e=t.emit,i=Object(N.inject)("map"),a=Object(N.inject)("vectorSource"),c=Object(N.toRefs)(r),f=c.type,p=c.clickTolerance,g=c.dragVertexDelay,m=c.snapTolerance,O=c.stopClick,P=c.maxPoints,V=c.minPoints,$=c.finishCondition,ot=c.geometryFunction,yt=c.geometryName,Lt=c.condition,zt=c.freehand,Ht=c.freehandCondition,jt=c.wrapX,ye=function(){var we=new Z_({source:a.value,type:f.value,clickTolerance:p.value,dragVertexDelay:g.value,snapTolerance:m.value,stopClick:O.value,maxPoints:P.value,minPoints:V.value,finishCondition:$.value,geometryFunction:ot.value,geometryName:yt.value,condition:Lt.value,freehand:zt.value,freehandCondition:Ht.value,wrapX:jt.value});return we.on("drawstart",function(je){e("drawstart",je)}),we.on("drawend",function(je){e("drawend",je)}),we},ve=ye();Object(N.watch)([f,p,g,m,O,P,V,$,ot,yt,Lt,zt,Ht,jt],function(){i.removeInteraction(ve),ve=ye(),i.addInteraction(ve),ve.changed(),i.changed()}),Object(N.onMounted)(function(){i.addInteraction(ve)}),Object(N.onUnmounted)(function(){i.removeInteraction(ve)}),Object(N.provide)("stylable",ve)},props:{type:{type:String,required:!0},clickTolerance:{type:Number,default:6},dragVertexDelay:{type:Number,default:500},snapTolerance:{type:Number,default:12},stopClick:{type:Boolean,default:!1},maxPoints:{type:Number},minPoints:{type:Number},finishCondition:{type:Function},geometryFunction:{type:Function},geometryName:{type:String},condition:{type:Function},freehand:{type:Boolean,default:!1},freehandCondition:{type:Function},wrapX:{type:Boolean,default:!1}}},u3=hr()(uG,[["render",lG]]);function cG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var hG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function t9(n){if(n.feature)return n.feature;if(n.element)return n.element}var vp=[],fG=function(n){hG(r,n);function r(t){var e=this,i=t||{},a=i;return a.handleDownEvent||(a.handleDownEvent=Bt.b),a.stopDown||(a.stopDown=Bt.a),e=n.call(this,a)||this,e.source_=i.source?i.source:null,e.vertex_=i.vertex!==void 0?i.vertex:!0,e.edge_=i.edge!==void 0?i.edge:!0,e.features_=i.features?i.features:null,e.featuresListenerKeys_=[],e.featureChangeListenerKeys_={},e.indexedFeaturesExtents_={},e.pendingFeatures_={},e.pixelTolerance_=i.pixelTolerance!==void 0?i.pixelTolerance:10,e.rBush_=new P2,e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e)},e}return r.prototype.addFeature=function(t,e){var i=e!==void 0?e:!0,a=Object(St.c)(t),c=t.getGeometry();if(c){var f=this.SEGMENT_WRITERS_[c.getType()];f&&(this.indexedFeaturesExtents_[a]=c.getExtent(ft()),f(t,c))}i&&(this.featureChangeListenerKeys_[a]=Object($r.a)(t,hn.a.CHANGE,this.handleFeatureChange_,this))},r.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},r.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},r.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},r.prototype.handleEvent=function(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),n.prototype.handleEvent.call(this,t)},r.prototype.handleFeatureAdd_=function(t){var e=t9(t);this.addFeature(e)},r.prototype.handleFeatureRemove_=function(t){var e=t9(t);this.removeFeature(e)},r.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(St.c)(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},r.prototype.handleUpEvent=function(t){var e=Object(yn.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},r.prototype.removeFeature=function(t,e){var i=e!==void 0?e:!0,a=Object(St.c)(t),c=this.indexedFeaturesExtents_[a];if(c){var f=this.rBush_,p=[];f.forEachInExtent(c,function(m){t===m.feature&&p.push(m)});for(var g=p.length-1;g>=0;--g)f.remove(p[g])}i&&(Object($r.c)(this.featureChangeListenerKeys_[a]),delete this.featureChangeListenerKeys_[a])},r.prototype.setMap=function(t){var e=this.getMap(),i=this.featuresListenerKeys_,a=this.getFeatures_();e&&(i.forEach($r.c),i.length=0,a.forEach(this.forEachFeatureRemove_.bind(this))),n.prototype.setMap.call(this,t),t&&(this.features_?i.push(Object($r.a)(this.features_,ni.ADD,this.handleFeatureAdd_,this),Object($r.a)(this.features_,ni.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object($r.a)(this.source_,Us.ADDFEATURE,this.handleFeatureAdd_,this),Object($r.a)(this.source_,Us.REMOVEFEATURE,this.handleFeatureRemove_,this)),a.forEach(this.forEachFeatureAdd_.bind(this)))},r.prototype.snapTo=function(t,e,i){var a=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),c=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),f=At([a,c]),p=this.rBush_.getInExtent(f);this.vertex_&&!this.edge_&&(p=p.filter(function(qe){return qe.feature.getGeometry().getType()!==Se.CIRCLE}));var g=!1,m=null,O=null;if(p.length===0)return{snapped:g,vertex:m,vertexPixel:O};for(var P=i.getView().getProjection(),V=ut(e),$,ot=1/0,yt=0;yt<p.length;++yt){var Lt=p[yt];vp[0]=ut(Lt.segment[0]),vp[1]=ut(Lt.segment[1]);var zt=Zt(V,vp);zt<ot&&($=Lt,ot=zt)}var Ht=$.segment;if(this.vertex_&&!this.edge_){var jt=i.getPixelFromCoordinate(Ht[0]),ye=i.getPixelFromCoordinate(Ht[1]),ve=Ut(t,jt),Oe=Ut(t,ye),we=Math.sqrt(Math.min(ve,Oe));we<=this.pixelTolerance_&&(g=!0,m=ve>Oe?Ht[1]:Ht[0],O=i.getPixelFromCoordinate(m))}else if(this.edge_){var je=$.feature.getGeometry().getType()===Se.CIRCLE;if(je){var Tr=$.feature.getGeometry(),vr=U();vr&&(Tr=Tr.clone().transform(vr,P)),m=Q(B(V,Tr))}else vp[0]=ut(Ht[0]),vp[1]=ut(Ht[1]),m=Q(tt(V,vp));if(O=i.getPixelFromCoordinate(m),kt(t,O)<=this.pixelTolerance_&&(g=!0,this.vertex_&&!je)){var jt=i.getPixelFromCoordinate(Ht[0]),ye=i.getPixelFromCoordinate(Ht[1]),ve=Ut(O,jt),Oe=Ut(O,ye),we=Math.sqrt(Math.min(ve,Oe));we<=this.pixelTolerance_&&(m=ve>Oe?Ht[1]:Ht[0],O=i.getPixelFromCoordinate(m))}}return g&&(O=[Math.round(O[0]),Math.round(O[1])]),{snapped:g,vertex:m,vertexPixel:O}},r.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},r.prototype.writeCircleGeometry_=function(t,e){this.getMap().getView().getProjection();for(var i=e,a=Nc(i),c=a.getCoordinates()[0],f=0,p=c.length-1;f<p;++f){var g=c.slice(f,f+2),m={feature:t,segment:g};this.rBush_.insert(At(g),m)}},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),a=0;a<i.length;++a){var c=this.SEGMENT_WRITERS_[i[a].getType()];c&&c(t,i[a])}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length-1;a<c;++a){var f=i.slice(a,a+2),p={feature:t,segment:f};this.rBush_.insert(At(f),p)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a)for(var f=i[a],p=0,g=f.length-1;p<g;++p){var m=f.slice(p,p+2),O={feature:t,segment:m};this.rBush_.insert(At(m),O)}},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a){var f=i[a],p={feature:t,segment:[f,f]};this.rBush_.insert(e.getExtent(),p)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a)for(var f=i[a],p=0,g=f.length;p<g;++p)for(var m=f[p],O=0,P=m.length-1;O<P;++O){var V=m.slice(O,O+2),$={feature:t,segment:V};this.rBush_.insert(At(V),$)}},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),a={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),a)},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),a=0,c=i.length;a<c;++a)for(var f=i[a],p=0,g=f.length-1;p<g;++p){var m=f.slice(p,p+2),O={feature:t,segment:m};this.rBush_.insert(At(m),O)}},r}(Nl),dG=fG,pG={name:"ol-interaction-snap",setup:function(r){var t=Object(N.inject)("map"),e=Object(N.inject)("vectorSource"),i=Ur(r),a=i.properties,c=function(){var g=new dG(ur(ur({},a),{},{source:e.value}));return g},f=c();Object(N.watch)(a,function(){t.removeInteraction(f),f=c(),t.addInteraction(f),t.changed()}),Object(N.onMounted)(function(){t.addInteraction(f)}),Object(N.onUnmounted)(function(){t.removeInteraction(f)})},props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{type:Number,default:10}}},c3=hr()(pG,[["render",cG]]);function vG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var gG={name:"ol-interaction-modify",emits:["modifystart","modifyend"],setup:function(r,t){var e=t.emit,i=Object(N.inject)("map"),a=Object(N.inject)("vectorSource"),c=Object(N.toRefs)(r),f=c.features,p=c.condition,g=c.deleteCondition,m=c.insertVertexCondition,O=c.pixelTolerance,P=c.wrapX,V=c.hitDetection,$=function(){var Lt=new Q_({source:a.value,features:f.value,condition:p.value,deleteCondition:g.value,insertVertexCondition:m.value,pixelTolerance:O.value,wrapX:P.value,hitDetection:V.value});return Lt.on("modifystart",function(zt){e("modifystart",zt)}),Lt.on("modifyend",function(zt){e("modifyend",zt)}),Lt},ot=$();Object(N.watch)([p,g,m,O,P,V],function(){i.removeInteraction(ot),ot=$(),i.addInteraction(ot),ot.changed(),i.changed()}),Object(N.onMounted)(function(){i.addInteraction(ot)}),Object(N.onUnmounted)(function(){i.removeInteraction(ot)}),Object(N.provide)("stylable",ot)},props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{type:Number,default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{type:[Bn,Object]}}},h3=hr()(gG,[["render",vG]]);function yG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var es=function(n){n||(n={});var r=this;this.selection_=new Bn,this.handles_=new Bn,this.overlayLayer_=new E0({source:new W0({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return r.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),Nl.call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=n.features,typeof n.filter=="function"&&(this._filter=n.filter),this.layers_=n.layers?n.layers instanceof Array?n.layers:[n.layers]:null,this._handleEvent=n.condition||function(){return!0},this.addFn_=n.addCondition||function(){return!1},this.set("translateFeature",n.translateFeature!==!1),this.set("translate",n.translate!==!1),this.set("translateBBox",n.translateBBox===!0),this.set("stretch",n.stretch!==!1),this.set("scale",n.scale!==!1),this.set("rotate",n.rotate!==!1),this.set("keepAspectRatio",n.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",n.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",n.noFlip||!1),this.set("selection",n.selection!==!1),this.set("hitTolerance",n.hitTolerance||0),this.set("enableRotatedTransform",n.enableRotatedTransform||!1),this.set("keepRectangle",n.keepRectangle||!1),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()};Ro(es,Nl),es.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},es.prototype.setMap=function(n){var r=this.getMap();if(r){var t=r.getTargetElement();r.removeLayer(this.overlayLayer_),this.previousCursor_&&t&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}Nl.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n===null&&this.select(null),n!==null&&(this.isTouch=/touch/.test(n.getViewport().className),this.setDefaultStyle())},es.prototype.setActive=function(n){this.select(null),this.overlayLayer_.setVisible(n),Nl.prototype.setActive.call(this,n)},es.prototype.setDefaultStyle=function(n){n=n||{};var r=n.pointStroke||new Cs({color:[255,0,0,1],width:1}),t=n.stroke||new Cs({color:[255,0,0,1],width:1,lineDash:[4,4]}),e=n.fill||new Js({color:[255,0,0,.01]}),i=n.pointFill||new Js({color:[255,255,255,.8]}),a=new O2({fill:i,stroke:r,radius:this.isTouch?12:6,points:15});a.getAnchor()[0]=this.isTouch?-10:-5;var c=new O2({fill:i,stroke:r,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),f=new O2({fill:i,stroke:r,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function p(g,m,O){return[new Qs({image:g,stroke:m,fill:O})]}this.style={default:p(c,t,e),translate:p(c,r,i),rotate:p(a,r,i),rotate0:p(c,r,i),scale:p(c,r,i),scale1:p(c,r,i),scale2:p(c,r,i),scale3:p(c,r,i),scalev:p(f,r,i),scaleh1:p(f,r,i),scalev2:p(f,r,i),scaleh3:p(f,r,i)},this.drawSketch_()},es.prototype.setStyle=function(n,r){if(!!r){r instanceof Array?this.style[n]=r:this.style[n]=[r];for(var t=0;t<this.style[n].length;t++){var e=this.style[n][t].getImage();e&&(n=="rotate"&&(e.getAnchor()[0]=-5),this.isTouch&&e.setScale(1.8));var i=this.style[n][t].getText();i&&(n=="rotate"&&i.setOffsetX(this.isTouch?14:7),this.isTouch&&i.setScale(1.8))}this.drawSketch_()}},es.prototype.getFeatureAtPixel_=function(n){var r=this;return this.getMap().forEachFeatureAtPixel(n,function(t,e){var i=!1;if(!e){if(t===r.bbox_)return r.get("translateBBox")?{feature:t,handle:"translate",constraint:"",option:""}:!1;if(r.handles_.forEach(function(c){c===t&&(i=!0)}),i)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!r.get("selection"))return r.selection_.getArray().some(function(c){return t===c})?{feature:t}:null;if(r._filter)return r._filter(t,e)?{feature:t}:null;if(r.layers_){for(var a=0;a<r.layers_.length;a++)if(r.layers_[a]===e)return{feature:t};return null}else return r.features_?(r.features_.forEach(function(c){c===t&&(i=!0)}),i?{feature:t}:null):{feature:t}},{hitTolerance:this.get("hitTolerance")})||{}},es.prototype.getGeometryRotateToZero_=function(n,r){var t=n.getGeometry(),e=this.getMap().getView().getRotation();if(e===0||!this.get("enableRotatedTransform"))return r?t.clone():t;var i=t.clone();return i.rotate(e*-1,this.getMap().getView().getCenter()),i},es.prototype._isRectangle=function(n){if(this.get("keepRectangle")&&n.getType()==="Polygon"){var r=n.getCoordinates()[0];return r.length===5}return!1},es.prototype.drawSketch_=function(n){var r,t,e,i=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var a=this.getMap().getView().getRotation(),c=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),f;if(i&&(f=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),f.unshift(f[3])),c=Ct(c,0),this.selection_.forEach(function(O){var P=this.getGeometryRotateToZero_(O).getExtent();zr(c,P)}.bind(this)),n===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new In({geometry:new Fi(this.center_),handle:"rotate0"})),e=eu(c),this.get("enableRotatedTransform")&&a!==0&&e.rotate(a,this.getMap().getView().getCenter()),t=this.bbox_=new In(e),this.overlayLayer_.getSource().addFeature(t));else{if(this.ispt_){var p=this.getMap().getPixelFromCoordinate([c[0],c[1]]);p&&(c=At([this.getMap().getCoordinateFromPixel([p[0]-10,p[1]-10]),this.getMap().getCoordinateFromPixel([p[0]+10,p[1]+10])]))}e=i?new fo([f]):eu(c),this.get("enableRotatedTransform")&&a!==0&&e.rotate(a,this.getMap().getView().getCenter()),t=this.bbox_=new In(e);var g=[],m=e.getCoordinates()[0];if(!this.ispt_){if(g.push(t),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(r=0;r<m.length-1;r++)t=new In({geometry:new Fi([(m[r][0]+m[r+1][0])/2,(m[r][1]+m[r+1][1])/2]),handle:"scale",constraint:r%2?"h":"v",option:r}),g.push(t);if(this.get("scale"))for(r=0;r<m.length-1;r++)t=new In({geometry:new Fi(m[r]),handle:"scale",option:r}),g.push(t);this.get("translate")&&!this.get("translateFeature")&&(t=new In({geometry:new Fi([(m[0][0]+m[2][0])/2,(m[0][1]+m[2][1])/2]),handle:"translate"}),g.push(t))}!this.iscircle_&&this.get("rotate")&&(t=new In({geometry:new Fi(m[3]),handle:"rotate"}),g.push(t)),this.overlayLayer_.getSource().addFeatures(g)}}},es.prototype.select=function(n,r){if(!n){this.selection_.clear(),this.drawSketch_();return}if(!(!n.getGeometry||!n.getGeometry())){if(r)this.selection_.push(n);else{var t=this.selection_.getArray().indexOf(n);this.selection_.removeAt(t)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:n,features:this.selection_})}},es.prototype.setSelection=function(n){this.selection_.clear(),n.forEach(function(r){this.selection_.push(r)}.bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},es.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach(function(n){Object(Vu.b)(n)}),this._featureListeners=[],this.selection_.forEach(function(n){this._featureListeners.push(n.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},es.prototype.handleDownEvent_=function(n){if(!!this._handleEvent(n,this.selection_)){var r=this.getFeatureAtPixel_(n.pixel),t=r.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(t)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(r.handle="translate"),r.handle){this.mode_=r.handle,this.opt_=r.option,this.constraint_=r.constraint;var e=this.getMap().getView().getRotation();this.coordinate_=n.coordinate,this.pixel_=n.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var i=ft(),a=ft(),c=0,f;f=this.selection_.item(c);c++)if(this.geoms_.push(f.getGeometry().clone()),i=zr(i,f.getGeometry().getExtent()),this.get("enableRotatedTransform")&&e!==0){var p=this.getGeometryRotateToZero_(f,!0);this.rotatedGeoms_.push(p),a=zr(a,p.getExtent())}if(this.extent_=eu(i).getCoordinates()[0],this.get("enableRotatedTransform")&&e!==0&&(this.rotatedExtent_=eu(a).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||kn(i);var g=n.map.getTargetElement();g.style.cursor=this.Cursors.rotate0,this.previousCursor_=g.style.cursor}else this.center_=kn(i);return this.angle_=Math.atan2(this.center_[1]-n.coordinate[1],this.center_[0]-n.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!0}else if(this.get("selection")){if(t){this.addFn_(n)||this.selection_.clear();var m=this.selection_.getArray().indexOf(t);m<0?this.selection_.push(t):this.selection_.removeAt(m)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!1}}},es.prototype.getFeatures=function(){return this.selection_},es.prototype.getCenter=function(){return this.get("center")},es.prototype.setCenter=function(n){return this.set("center",n)};function Y0(n,r){var t=(n[0]*r[0]+n[1]*r[1])/(r[0]*r[0]+r[1]*r[1]);return[r[0]*t,r[1]*t]}function hu(n,r){return[r[0]-n[0],r[1]-n[1]]}function Ul(n,r){return[n[0]+r[0],n[1]+r[1]]}es.prototype.handleDragEvent_=function(n){if(!!this._handleEvent(n,this.features_)){var r=this.getMap().getView().getRotation(),t,e,i,a,c=[this.coordinate_[0],this.coordinate_[1]],f=[n.coordinate[0],n.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var p=Math.atan2(this.center_[1]-f[1],this.center_[0]-f[0]);if(!this.ispt)for(t=0,i;i=this.selection_.item(t);t++)a=this.geoms_[t].clone(),a.rotate(p-this.angle_,this.center_),a.getType()=="Circle"&&a.setCenterAndRadius(a.getCenter(),a.getRadius()),i.setGeometry(a);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:p-this.angle_,pixel:n.pixel,coordinate:n.coordinate});break}case"translate":{var g=f[0]-c[0],m=f[1]-c[1];for(t=0,i;i=this.selection_.item(t);t++)i.getGeometry().translate(g,m);this.handles_.forEach(function(we){we.getGeometry().translate(g,m)}),this.coordinate_=n.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[g,m],pixel:n.pixel,coordinate:n.coordinate});break}case"scale":{var O=this.center_;if(this.get("modifyCenter")(n)){var P=this.extent_;this.get("enableRotatedTransform")&&r!==0&&(P=this.rotatedExtent_),O=P[(Number(this.opt_)+2)%4]}var V=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),$=this.constraint_,ot=this.opt_,yt=this.coordinate_,Lt=n.coordinate;if(this.get("enableRotatedTransform")&&r!==0){var zt=new Fi(this.coordinate_);zt.rotate(r*-1,O),yt=zt.getCoordinates();var Ht=new Fi(n.coordinate);Ht.rotate(r*-1,O),Lt=Ht.getCoordinates()}var jt=(Lt[0]-O[0])/(yt[0]-O[0]),ye=(Lt[1]-O[1])/(yt[1]-O[1]),ve=[Lt[0]-yt[0],Lt[1]-yt[1]];if(this.get("enableRotatedTransform")&&r!==0){var Oe=new Fi(O);Oe.rotate(r*-1,this.getMap().getView().getCenter()),O=Oe.getCoordinates()}for(this.get("noFlip")&&(jt<0&&(jt=-jt),ye<0&&(ye=-ye)),this.constraint_?this.constraint_=="h"?jt=1:ye=1:this.get("keepAspectRatio")(n)&&(jt=ye=Math.min(jt,ye)),t=0,i;i=this.selection_.item(t);t++)a=r===0||!this.get("enableRotatedTransform")?this.geoms_[t].clone():this.rotatedGeoms_[t].clone(),a.applyTransform(function(we,je,Tr){if(Tr<2)return je;if(V){var vr=[[6],[0,8],[2],[4]],qe=[we[0],we[1]],Dr=[we[2],we[3]],Sn=[we[4],we[5]],Tn=[we[6],we[7]],Ln=[we[8],we[9]];if($){var Gn=ot%2===0?hu(qe,Dr):hu(Tn,qe),yi=Y0(ve,Gn),mi=ot+1<vr.length?ot+1:0,Ii=[...vr[ot],...vr[mi]];for(e=0;e<we.length;e+=Tr)je[e]=Ii.includes(e)?we[e]+yi[0]:we[e],je[e+1]=Ii.includes(e)?we[e+1]+yi[1]:we[e+1]}else{var Pi,Vr;switch(ot){case 0:ve=hu(Tn,Lt),Pi=Y0(ve,hu(Sn,Tn)),Vr=Y0(ve,hu(qe,Tn)),[je[0],je[1]]=Ul(qe,Pi),[je[4],je[5]]=Ul(Sn,Vr),[je[6],je[7]]=Ul(Tn,ve),[je[8],je[9]]=Ul(Ln,Pi);break;case 1:ve=hu(qe,Lt),Pi=Y0(ve,hu(Tn,qe)),Vr=Y0(ve,hu(Dr,qe)),[je[0],je[1]]=Ul(qe,ve),[je[2],je[3]]=Ul(Dr,Pi),[je[6],je[7]]=Ul(Tn,Vr),[je[8],je[9]]=Ul(Ln,ve);break;case 2:ve=hu(Dr,Lt),Pi=Y0(ve,hu(qe,Dr)),Vr=Y0(ve,hu(Sn,Dr)),[je[0],je[1]]=Ul(qe,Vr),[je[2],je[3]]=Ul(Dr,ve),[je[4],je[5]]=Ul(Sn,Pi),[je[8],je[9]]=Ul(Ln,Vr);break;case 3:ve=hu(Sn,Lt),Pi=Y0(ve,hu(Dr,Sn)),Vr=Y0(ve,hu(Tn,Sn)),[je[2],je[3]]=Ul(Dr,Vr),[je[4],je[5]]=Ul(Sn,ve),[je[6],je[7]]=Ul(Tn,Pi);break}}}else for(e=0;e<we.length;e+=Tr)jt!=1&&(je[e]=O[0]+(we[e]-O[0])*jt),ye!=1&&(je[e+1]=O[1]+(we[e+1]-O[1])*ye);return a.getType()=="Circle"&&a.setCenterAndRadius(a.getCenter(),a.getRadius()),je}),this.get("enableRotatedTransform")&&r!==0&&a.rotate(r,this.getMap().getView().getCenter()),i.setGeometry(a);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[jt,ye],pixel:n.pixel,coordinate:n.coordinate});break}}this.isUpdating_=!1}},es.prototype.handleMoveEvent_=function(n){if(!!this._handleEvent(n,this.features_)&&!this.mode_){var r=this.getFeatureAtPixel_(n.pixel),t=n.map.getTargetElement();if(r.feature){var e=r.handle?this.Cursors[(r.handle||"default")+(r.constraint||"")+(r.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=t.style.cursor),t.style.cursor=e}else this.previousCursor_!==void 0&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},es.prototype.handleUpEvent_=function(n){if(this.mode_==="rotate"){var r=n.map.getTargetElement();r.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},es.prototype.getFeatures=function(){return this.selection_};var mG=es,_G={name:"ol-interaction-transform",setup:function(r){var t=Object(N.inject)("map"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){var c=new mG(ur({},i));return c});Object(N.watch)(a,function(c,f){t.removeInteraction(f),t.addInteraction(c),t.changed()}),Object(N.onMounted)(function(){t.addInteraction(a.value)}),Object(N.onUnmounted)(function(){t.removeInteraction(a.value)}),Object(N.provide)("stylable",a)},props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{type:Function},addCondition:{type:Function},filter:{type:Function},layers:{type:Array},hitTolerance:{type:Number,default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Boolean,default:!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}}},f3=hr()(_G,[["render",yG]]);function EG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var SG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wG=function(n){SG(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.condition_=i.condition?i.condition:xh,e.lastAngle_=void 0,e.lastMagnitude_=void 0,e.lastScaleDelta_=0,e.duration_=i.duration!==void 0?i.duration:400,e}return r.prototype.handleDragEvent=function(t){if(!!vs(t)){var e=t.map,i=e.getSize(),a=t.pixel,c=a[0]-i[0]/2,f=i[1]/2-a[1],p=Math.atan2(f,c),g=Math.sqrt(c*c+f*f),m=e.getView();if(this.lastAngle_!==void 0){var O=this.lastAngle_-p;m.adjustRotationInternal(O)}this.lastAngle_=p,this.lastMagnitude_!==void 0&&m.adjustResolutionInternal(this.lastMagnitude_/g),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/g),this.lastMagnitude_=g}},r.prototype.handleUpEvent=function(t){if(!vs(t))return!0;var e=t.map,i=e.getView(),a=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,a),this.lastScaleDelta_=0,!1},r.prototype.handleDownEvent=function(t){return vs(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},r}(Nl),xG=wG,TG={name:"ol-interaction-dragrotatezoom",setup:function(r){var t=Object(N.inject)("map"),e=Ur(r),i=e.properties,a=Object(N.computed)(function(){var c=new xG(ur({},i));return c});Object(N.watch)(a,function(c,f){t.removeInteraction(f),t.addInteraction(c),t.changed()}),Object(N.onMounted)(function(){t.addInteraction(a.value)}),Object(N.onUnmounted)(function(){t.removeInteraction(a.value)})},props:{condition:{type:Function},duration:{type:Number,default:400}}},d3=hr()(TG,[["render",EG]]);function iy(n){iy.installed||(iy.installed=!0,n.component(s3.name,s3),n.component(l3.name,l3),n.component(u3.name,u3),n.component(c3.name,c3),n.component(h3.name,h3),n.component(f3.name,f3),n.component(d3.name,d3))}var OG=iy;function AG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var MG={setup:function(){var r=Object(N.inject)("map"),t=Object(N.inject)("vectorLayer");return{map:r,vectorLayer:t}},props:{duration:{type:Number,default:1e3},revers:{type:Boolean,default:!1},repeat:{type:Number,default:0},fade:{type:Function},easing:{type:Function,default:Hr}}},$c=hr()(MG,[["render",AG]]);function RG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}s("d81d");var gp=function(n){n=n||{},this.duration_=typeof n.duration=="number"?n.duration>=0?n.duration:0:1e3,this.fade_=typeof n.fade=="function"?n.fade:null,this.repeat_=Number(n.repeat);var r=typeof n.easing=="function"?n.easing:qr;n.revers?this.easing_=function(t){return 1-r(t)}:this.easing_=r,this.hiddenStyle=n.hiddenStyle,_o.a.call(this)};Ro(gp,_o.a),gp.hiddenStyle=new Qs({image:new tv({}),stroke:new Cs({color:"transparent"})}),gp.prototype.drawGeom_=function(n,r,t){this.fade_&&(n.context.globalAlpha=this.fade_(1-n.elapsed));for(var e=n.style,i=0;i<e.length;i++)try{var a=n.vectorContext||F2(n);a.setStyle(e[i]),e[i].getZIndex()<0?a.drawGeometry(t||r):a.drawGeometry(r)}catch{}},gp.prototype.animate=function(){return!1},Fe.prototype.animateFeature=function(n,r){var t=this._featureAnimationLayer;t||(t=this._featureAnimationLayer=new E0({source:new W0}),t.setMap(this)),t.getSource().addFeature(n);var e=r.on("animationend",function(i){i.feature===n&&(t.getSource().removeFeature(n),Object(Vu.b)(e))});t.animateFeature(n,r)},ws.prototype.animateFeature=function(n,r,t){var e=this,i,a=n.getStyle(),c=a||(this.getStyleFunction?this.getStyleFunction()(n):null);c||(c=[]),c instanceof Array||(c=[c]);var f={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:n,geom:n.getGeometry(),typeGeom:n.getGeometry().getType(),bbox:n.getGeometry().getExtent(),coord:kn(n.getGeometry().getExtent()),style:c};r instanceof Array||(r=[r]);for(var p=r.length-1;p>=0;p--)r[p].duration_===0&&r.splice(p,1);var g=0,m=0,O=t&&this.getFilters?this.getFilters():[];function P(ot){f.type=ot.type;try{f.vectorContext=ot.vectorContext||F2(ot)}catch{}if(f.frameState=ot.frameState,f.inversePixelTransform=ot.inversePixelTransform,f.extent||(f.extent=ot.frameState.extent,f.start=ot.frameState.time,f.context=ot.context),f.time=ot.frameState.time-f.start,f.elapsed=f.time/r[m].duration_,f.elapsed>1&&(f.elapsed=1),ot.context.save(),O.forEach(function(Lt){Lt.get("active")&&Lt.precompose(ot)}),this.getOpacity&&(ot.context.globalAlpha=this.getOpacity()),!r[m].animate(f))g++,g<r[m].repeat_?f.extent=!1:m<r.length-1?(r[m].dispatchEvent({type:"animationend",feature:n}),m++,g=0,f.extent=!1):V();else{var yt={type:"animating",step:m,start:f.start,time:f.time,elapsed:f.elapsed,rotation:f.rotation||0,geom:f.geom,coordinate:f.coord,feature:n};r[m].dispatchEvent(yt),e.dispatchEvent(yt)}O.forEach(function(Lt){Lt.get("active")&&Lt.postcompose(ot)}),ot.context.restore(),ot.frameState.animate=!0}function V(ot){Object(Vu.b)(i),i=null,n.setStyle(a);var yt={type:"animationend",feature:n};if(ot)for(var Lt in ot)ot.hasOwnProperty(Lt)&&(yt[Lt]=ot[Lt]);r[m].dispatchEvent(yt),e.dispatchEvent(yt)}function $(ot){if(r.length&&!i){if(i=e.on(["postcompose","postrender"],P.bind(e)),e.renderSync)try{e.renderSync()}catch{}else e.changed();n.setStyle(r[m].hiddenStyle||gp.hiddenStyle);var yt={type:"animationstart",feature:n};if(ot)for(var Lt in ot)ot.hasOwnProperty(Lt)&&(yt[Lt]=ot[Lt]);r[m].dispatchEvent(yt),e.dispatchEvent(yt)}}return $(),{start:$,stop:V,isPlaying:function(){return!!i}}};var fu=gp,p3=function(n){n=n||{},this.speed_=n.speed||0,fu.call(this,n),this.side_=n.side||"top"};Ro(p3,fu),p3.prototype.animate=function(n){if(!n.time){var r=n.frameState.viewState.rotation,t=n.frameState.size[1]*n.frameState.viewState.resolution;this.side_!="top"&&(t*=-1),this.dx=-Math.sin(r)*t,this.dy=Math.cos(r)*t,this.speed_&&(this.duration_=t/this.speed_/n.frameState.viewState.resolution)}var e=n.geom.clone();return e.translate(this.dx*(1-this.easing_(n.elapsed)),this.dy*(1-this.easing_(n.elapsed))),this.drawGeom_(n,e,n.geom),n.time<=this.duration_};var CG=p3;function Jf(n,r){var t=$c.setup(),e=t.map,i=t.vectorLayer,a=Ur(r),c=a.properties,f=Object(N.computed)(function(){var p=new n(ur({},c));return p});return Object(N.provide)("animation",f),{map:e,vectorLayer:i,animation:f,properties:c}}var bG={name:"ol-animation-drop",extends:$c,setup:function(r){var t=Jf(CG,r),e=t.map,i=t.vectorLayer,a=t.properties;return{map:e,vectorLayer:i,properties:a}},props:{side:{type:Number,default:0},speed:{type:Number,default:0}}},v3=hr()(bG,[["render",RG]]);function LG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var g3=function(n){n=n||{},fu.call(this,n),this.amplitude_=n.amplitude||40,this.bounce_=-Math.PI*(n.bounce||6),this.horizontal_=n.horizontal};Ro(g3,fu),g3.prototype.animate=function(n){var r=n.geom.clone(),t=n.geom.clone(),e=this.easing_(n.elapsed);return e=Math.sin(this.bounce_*e)*this.amplitude_*(1-e)*n.frameState.viewState.resolution,this.horizontal_?(r.translate(e,0),t.translate(e,0)):r.translate(0,e),this.drawGeom_(n,r,t),n.time<=this.duration_};var IG=g3,PG={name:"ol-animation-shake",extends:$c,setup:function(r){var t=Jf(IG,r),e=t.map,i=t.vectorLayer,a=t.properties,c=t.animation;return{map:e,vectorLayer:i,properties:a,animation:c}},props:{bounce:{type:Number,default:6},amplitude:{type:Number,default:40},horizontal:{type:Boolean,default:!1}}},y3=hr()(PG,[["render",LG]]);function NG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var lv=function(n){n=n||{},fu.call(this,n),this.set("zoomout",n.zoomOut)};Ro(lv,fu);var FG=function(n){n=n||{},n.zoomOut=!0,lv.call(this,n)};Ro(FG,lv),lv.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){this.get("zoomout")&&(r=1/r);var t=n.style,e,i,a=[];for(e=0;e<t.length;e++)i=t[e].getImage(),i&&(a[e]=i.getScale(),n.type==="postrender"?i.setScale(a[e]*r/n.frameState.pixelRatio):i.setScale(a[e]*r));for(this.drawGeom_(n,n.geom),e=0;e<t.length;e++)i=t[e].getImage(),i&&i.setScale(a[e])}return n.time<=this.duration_};var DG=lv,jG={name:"ol-animation-zoom",extends:$c,setup:function(r){var t=Jf(DG,r),e=t.map,i=t.vectorLayer,a=t.properties;return{map:e,vectorLayer:i,properties:a}},props:{zoomOut:{type:Boolean,default:!1}}},m3=hr()(jG,[["render",NG]]);function GG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var _3=function(n){fu.call(this,n)};Ro(_3,fu),_3.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){n.context.save();var t=n.frameState.pixelRatio;n.context.globalAlpha=r,n.context.scale(r,1/r);var e=n.frameState.coordinateToPixelTransform,i=(1/r-1)*t*(e[0]*n.coord[0]+e[1]*n.coord[1]+e[4]),a=(r-1)*t*(e[2]*n.coord[0]+e[3]*n.coord[1]+e[5]);n.context.translate(i,a),this.drawGeom_(n,n.geom),n.context.restore()}return n.time<=this.duration_};var BG=_3,UG={name:"ol-animation-teleport",extends:$c,setup:function(r){var t=Jf(BG,r),e=t.map,i=t.vectorLayer,a=t.properties;return{map:e,vectorLayer:i,properties:a}},props:{}},E3=hr()(UG,[["render",GG]]);function kG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var S3=function(n){n=n||{},this.speed_=n.speed||0,fu.call(this,n)};Ro(S3,fu),S3.prototype.animate=function(n){return n.context.globalAlpha=this.easing_(n.elapsed),this.drawGeom_(n,n.geom),n.time<=this.duration_};var zG=S3,VG={name:"ol-animation-fade",extends:$c,setup:function(r){var t=Jf(zG,r),e=t.map,i=t.vectorLayer,a=t.properties;return{map:e,vectorLayer:i,properties:a}}},w3=hr()(VG,[["render",kG]]);function WG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var x3=function(n){n=n||{},this.speed_=n.speed||0,fu.call(this,n),this.side_=n.side||"left"};Ro(x3,fu),x3.prototype.animate=function(n){n.time||(this.side_=="left"?this.dx=n.extent[0]-n.bbox[2]:this.dx=n.extent[2]-n.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/n.frameState.viewState.resolution));var r=n.geom.clone();return r.translate(this.dx*(1-this.easing_(n.elapsed)),0),this.drawGeom_(n,r),n.time<=this.duration_};var YG=x3,HG={name:"ol-animation-slide",extends:$c,setup:function(r){var t=Jf(YG,r),e=t.map,i=t.vectorLayer,a=t.properties;return{map:e,vectorLayer:i,properties:a}},props:{speed:{type:Number,default:0}}},T3=hr()(HG,[["render",WG]]);function XG(n,r,t,e,i,a){return Object(N.renderSlot)(n.$slots,"default")}var O3=function(n){switch(n=n||{},fu.call(this,n),this.speed_=n.speed||0,this.path_=n.path,n.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=n.rotate||!1;break}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)};Ro(O3,fu),O3.prototype.animate=function(n){if(!n.time&&!this.dist_)return!1;var r=this.dist_*this.easing_(n.elapsed),t,e,i,a,c,f,p=0;e=this.path_[0];for(var g=1;g<this.path_.length;g++){if(t=e,e=this.path_[g],a=e[0]-t[0],c=e[1]-t[1],f=Math.sqrt(a*a+c*c),f&&p+f>=r){i=(r-p)/f,e=[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i];break}p+=f}var m=n.style;if(n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]),this.rotate_!==!1){var O=[],P=this.rotate_-n.rotation+n.frameState.viewState.rotation;n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]);for(var V=0;i=n.style[V];V++)i.getImage()&&i.getImage().setRotation(P),O.push(i);n.style=O}return n.geom.setCoordinates(e),this.drawGeom_(n,n.geom),n.style=m,n.time<=this.duration_};var KG=O3,$G={name:"ol-animation-path",extends:$c,setup:function(r){var t=Jf(KG,r),e=t.map,i=t.vectorLayer,a=t.properties;return{map:e,vectorLayer:i,properties:a}},props:{rotate:{type:Boolean,default:!1},speed:{type:Number,default:0},path:{type:Object}}},A3=hr()($G,[["render",XG]]);function oy(n){oy.installed||(oy.installed=!0,n.component($c.name,$c),n.component(v3.name,v3),n.component(y3.name,y3),n.component(m3.name,m3),n.component(E3.name,E3),n.component(w3.name,w3),n.component(T3.name,T3),n.component(A3.name,A3))}var ZG=oy;s("5bc0"),s("dbd0"),s("872d"),s("7d05");var qG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JG=function(n){qG(r,n);function r(t){var e=n.call(this)||this;return e.geometries_=t||null,e.changeEventsKeys_=[],e.listenGeometriesChange_(),e}return r.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach($r.c),this.changeEventsKeys_.length=0},r.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object($r.a)(this.geometries_[t],hn.a.CHANGE,this.changed,this))},r.prototype.clone=function(){var t=new r(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,a){if(a<qt(this.getExtent(),t,e))return a;for(var c=this.geometries_,f=0,p=c.length;f<p;++f)a=c[f].closestPointXY(t,e,i,a);return a},r.prototype.containsXY=function(t,e){for(var i=this.geometries_,a=0,c=i.length;a<c;++a)if(i[a].containsXY(t,e))return!0;return!1},r.prototype.computeExtent=function(t){W(t);for(var e=this.geometries_,i=0,a=e.length;i<a;++i)zr(t,e[i].getExtent());return t},r.prototype.getGeometries=function(){return e9(this.geometries_)},r.prototype.getGeometriesArray=function(){return this.geometries_},r.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,i=0,a=e.length;i<a;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],i=this.geometries_,a=!1,c=0,f=i.length;c<f;++c){var p=i[c],g=p.getSimplifiedGeometry(t);e.push(g),g!==p&&(a=!0)}if(a){var m=new r(null);return m.setGeometriesArray(e),m}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},r.prototype.getType=function(){return Se.GEOMETRY_COLLECTION},r.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,a=e.length;i<a;++i)if(e[i].intersectsExtent(t))return!0;return!1},r.prototype.isEmpty=function(){return this.geometries_.length===0},r.prototype.rotate=function(t,e){for(var i=this.geometries_,a=0,c=i.length;a<c;++a)i[a].rotate(t,e);this.changed()},r.prototype.scale=function(t,e,i){var a=i;a||(a=kn(this.getExtent()));for(var c=this.geometries_,f=0,p=c.length;f<p;++f)c[f].scale(t,e,a);this.changed()},r.prototype.setGeometries=function(t){this.setGeometriesArray(e9(t))},r.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},r.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,a=e.length;i<a;++i)e[i].applyTransform(t);this.changed()},r.prototype.translate=function(t,e){for(var i=this.geometries_,a=0,c=i.length;a<c;++a)i[a].translate(t,e);this.changed()},r.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},r}(so);function e9(n){for(var r=[],t=0,e=n.length;t<e;++t)r.push(n[t].clone());return r}var xl=JG,QG=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(r,t){var e;if(t){var i=t.dataProjection?zn(t.dataProjection):this.readProjection(r);t.extent&&i&&i.getUnits()===Zi.TILE_PIXELS&&(i=zn(i),i.setWorldExtent(t.extent)),e={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(e)},n.prototype.adaptOptions=function(r){return Object(yn.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},n.prototype.getType=function(){return Object(St.b)()},n.prototype.readFeature=function(r,t){return Object(St.b)()},n.prototype.readFeatures=function(r,t){return Object(St.b)()},n.prototype.readGeometry=function(r,t){return Object(St.b)()},n.prototype.readProjection=function(r){return Object(St.b)()},n.prototype.writeFeature=function(r,t){return Object(St.b)()},n.prototype.writeFeatures=function(r,t){return Object(St.b)()},n.prototype.writeGeometry=function(r,t){return Object(St.b)()},n}(),uv=QG;function Fa(n,r,t){var e=t?zn(t.featureProjection):null,i=t?zn(t.dataProjection):null,a;if(e&&i&&!Eo(e,i)?a=(r?n.clone():n).transform(r?e:i,r?i:e):a=n,r&&t&&t.decimals!==void 0){var c=Math.pow(10,t.decimals),f=function(p){for(var g=0,m=p.length;g<m;++g)p[g]=Math.round(p[g]*c)/c;return p};a===n&&(a=n.clone()),a.applyTransform(f)}return a}function M3(n,r){var t=r?zn(r.featureProjection):null,e=r?zn(r.dataProjection):null;return t&&e&&!Eo(t,e)?Ll(n,e,t):n}var tB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eB=function(n){tB(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return Hc.JSON},r.prototype.readFeature=function(t,e){return this.readFeatureFromObject(ay(t),this.getReadOptions(t,e))},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(ay(t),this.getReadOptions(t,e))},r.prototype.readFeatureFromObject=function(t,e){return Object(St.b)()},r.prototype.readFeaturesFromObject=function(t,e){return Object(St.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(ay(t),this.getReadOptions(t,e))},r.prototype.readGeometryFromObject=function(t,e){return Object(St.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromObject(ay(t))},r.prototype.readProjectionFromObject=function(t){return Object(St.b)()},r.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},r.prototype.writeFeatureObject=function(t,e){return Object(St.b)()},r.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},r.prototype.writeFeaturesObject=function(t,e){return Object(St.b)()},r.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},r.prototype.writeGeometryObject=function(t,e){return Object(St.b)()},r}(uv);function ay(n){if(typeof n=="string"){var r=JSON.parse(n);return r||null}else return n!==null?n:null}var R3=eB,rB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qf={};Qf[Se.POINT]=oB,Qf[Se.LINE_STRING]=aB,Qf[Se.POLYGON]=cB,Qf[Se.MULTI_POINT]=lB,Qf[Se.MULTI_LINE_STRING]=sB,Qf[Se.MULTI_POLYGON]=uB;var td={};td[Se.POINT]=hB,td[Se.LINE_STRING]=fB,td[Se.POLYGON]=dB,td[Se.MULTI_POINT]=vB,td[Se.MULTI_LINE_STRING]=pB,td[Se.MULTI_POLYGON]=gB;var nB=function(n){rB(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.geometryName_=i.geometryName,e}return r.prototype.readFeatureFromObject=function(t,e,i){var a=t,c=r9(a.geometry,e),f=new In;if(this.geometryName_&&f.setGeometryName(this.geometryName_),f.setGeometry(c),a.attributes){f.setProperties(a.attributes,!0);var p=a.attributes[i];p!==void 0&&f.setId(p)}return f},r.prototype.readFeaturesFromObject=function(t,e){var i=e||{};if(t.features){for(var a=t,c=[],f=a.features,p=0,g=f.length;p<g;++p)c.push(this.readFeatureFromObject(f[p],i,t.objectIdFieldName));return c}else return[this.readFeatureFromObject(t,i)]},r.prototype.readGeometryFromObject=function(t,e){return r9(t,e)},r.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&t.spatialReference.wkid!==void 0){var e=t.spatialReference,i=e.wkid;return zn("EPSG:"+i)}else return null},r.prototype.writeGeometryObject=function(t,e){return n9(t,this.adaptOptions(e))},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={};if(!t.hasProperties())return i.attributes={},i;var a=t.getProperties(),c=t.getGeometry();if(c){i.geometry=n9(c,e);var f=e&&(e.dataProjection||e.featureProjection);f&&(i.geometry.spatialReference={wkid:Number(zn(f).getCode().split(":").pop())}),delete a[t.getGeometryName()]}return Object(yn.d)(a)?i.attributes={}:i.attributes=a,i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],a=0,c=t.length;a<c;++a)i.push(this.writeFeatureObject(t[a],e));return{features:i}},r}(R3);function r9(n,r){var t,e;if(!n)return null;var i;if(typeof n.x=="number"&&typeof n.y=="number")i=Se.POINT;else if(n.points)i=Se.MULTI_POINT;else if(n.paths){var a=n;a.paths.length===1?i=Se.LINE_STRING:i=Se.MULTI_LINE_STRING}else if(n.rings){var c=n,f=yp(c),p=iB(c.rings,f);p.length===1?(i=Se.POLYGON,n=Object(yn.a)({},n,(t={},t.rings=p[0],t))):(i=Se.MULTI_POLYGON,n=Object(yn.a)({},n,(e={},e.rings=p,e)))}var g=Qf[i];return Fa(g(n),!1,r)}function iB(n,r){var t=[],e=[],i=[],a,c;for(a=0,c=n.length;a<c;++a){t.length=0,xr(t,0,n[a],r.length);var f=Fu(t,0,t.length,r.length);f?e.push([n[a]]):i.push(n[a])}for(;i.length;){var p=i.shift(),g=!1;for(a=e.length-1;a>=0;a--){var m=e[a][0],O=Pe(new Pu(m).getExtent(),new Pu(p).getExtent());if(O){e[a].push(p),g=!0;break}}g||e.push([p.reverse()])}return e}function oB(n){var r;return n.m!==void 0&&n.z!==void 0?r=new Fi([n.x,n.y,n.z,n.m],or.XYZM):n.z!==void 0?r=new Fi([n.x,n.y,n.z],or.XYZ):n.m!==void 0?r=new Fi([n.x,n.y,n.m],or.XYM):r=new Fi([n.x,n.y]),r}function aB(n){var r=yp(n);return new Jo(n.paths[0],r)}function sB(n){var r=yp(n);return new cu(n.paths,r)}function yp(n){var r=or.XY;return n.hasZ===!0&&n.hasM===!0?r=or.XYZM:n.hasZ===!0?r=or.XYZ:n.hasM===!0&&(r=or.XYM),r}function lB(n){var r=yp(n);return new Sc(n.points,r)}function uB(n){var r=yp(n);return new wl(n.rings,r)}function cB(n){var r=yp(n);return new fo(n.rings,r)}function hB(n,r){var t=n.getCoordinates(),e,i=n.getLayout();return i===or.XYZ?e={x:t[0],y:t[1],z:t[2]}:i===or.XYM?e={x:t[0],y:t[1],m:t[2]}:i===or.XYZM?e={x:t[0],y:t[1],z:t[2],m:t[3]}:i===or.XY?e={x:t[0],y:t[1]}:le(!1,34),e}function cv(n){var r=n.getLayout();return{hasZ:r===or.XYZ||r===or.XYZM,hasM:r===or.XYM||r===or.XYZM}}function fB(n,r){var t=cv(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:[n.getCoordinates()]}}function dB(n,r){var t=cv(n);return{hasZ:t.hasZ,hasM:t.hasM,rings:n.getCoordinates(!1)}}function pB(n,r){var t=cv(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:n.getCoordinates()}}function vB(n,r){var t=cv(n);return{hasZ:t.hasZ,hasM:t.hasM,points:n.getCoordinates()}}function gB(n,r){for(var t=cv(n),e=n.getCoordinates(!1),i=[],a=0;a<e.length;a++)for(var c=e[a].length-1;c>=0;c--)i.push(e[a][c]);return{hasZ:t.hasZ,hasM:t.hasM,rings:i}}function n9(n,r){var t=td[n.getType()];return t(Fa(n,!0,r),r)}var yB=nB,mB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_B=function(n){mB(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.dataProjection=zn(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(e.defaultFeatureProjection=zn(i.featureProjection)),e.geometryName_=i.geometryName,e.extractGeometryName_=i.extractGeometryName,e.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],e}return r.prototype.readFeatureFromObject=function(t,e){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var a=C3(i.geometry,e),c=new In;return this.geometryName_?c.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&c.setGeometryName(i.geometry_name),c.setGeometry(a),"id"in i&&c.setId(i.id),i.properties&&c.setProperties(i.properties,!0),c},r.prototype.readFeaturesFromObject=function(t,e){var i=t,a=null;if(i.type==="FeatureCollection"){var c=t;a=[];for(var f=c.features,p=0,g=f.length;p<g;++p)a.push(this.readFeatureFromObject(f[p],e))}else a=[this.readFeatureFromObject(t,e)];return a},r.prototype.readGeometryFromObject=function(t,e){return C3(t,e)},r.prototype.readProjectionFromObject=function(t){var e=t.crs,i;return e?e.type=="name"?i=zn(e.properties.name):e.type==="EPSG"?i=zn("EPSG:"+e.properties.code):le(!1,36):i=this.dataProjection,i},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},a=t.getId();if(a!==void 0&&(i.id=a),!t.hasProperties())return i;var c=t.getProperties(),f=t.getGeometry();return f&&(i.geometry=b3(f,e),delete c[t.getGeometryName()]),Object(yn.d)(c)||(i.properties=c),i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],a=0,c=t.length;a<c;++a)i.push(this.writeFeatureObject(t[a],e));return{type:"FeatureCollection",features:i}},r.prototype.writeGeometryObject=function(t,e){return b3(t,this.adaptOptions(e))},r}(R3);function C3(n,r){if(!n)return null;var t;switch(n.type){case Se.POINT:{t=SB(n);break}case Se.LINE_STRING:{t=wB(n);break}case Se.POLYGON:{t=AB(n);break}case Se.MULTI_POINT:{t=TB(n);break}case Se.MULTI_LINE_STRING:{t=xB(n);break}case Se.MULTI_POLYGON:{t=OB(n);break}case Se.GEOMETRY_COLLECTION:{t=EB(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return Fa(t,!1,r)}function EB(n,r){var t=n.geometries.map(function(e){return C3(e,r)});return new xl(t)}function SB(n){return new Fi(n.coordinates)}function wB(n){return new Jo(n.coordinates)}function xB(n){return new cu(n.coordinates)}function TB(n){return new Sc(n.coordinates)}function OB(n){return new wl(n.coordinates)}function AB(n){return new fo(n.coordinates)}function b3(n,r){n=Fa(n,!0,r);var t=n.getType(),e;switch(t){case Se.POINT:{e=IB(n);break}case Se.LINE_STRING:{e=RB(n);break}case Se.POLYGON:{e=PB(n,r);break}case Se.MULTI_POINT:{e=bB(n);break}case Se.MULTI_LINE_STRING:{e=CB(n);break}case Se.MULTI_POLYGON:{e=LB(n,r);break}case Se.GEOMETRY_COLLECTION:{e=MB(n,r);break}case Se.CIRCLE:{e={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return e}function MB(n,r){var t=n.getGeometriesArray().map(function(e){var i=Object(yn.a)({},r);return delete i.featureProjection,b3(e,i)});return{type:"GeometryCollection",geometries:t}}function RB(n,r){return{type:"LineString",coordinates:n.getCoordinates()}}function CB(n,r){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function bB(n,r){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function LB(n,r){var t;return r&&(t=r.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function IB(n,r){return{type:"Point",coordinates:n.getCoordinates()}}function PB(n,r){var t;return r&&(t=r.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var NB=_B,ed="http://www.w3.org/2001/XMLSchema-instance";function bi(n,r){return mp().createElementNS(n,r)}function kl(n,r){return i9(n,r,[]).join("")}function i9(n,r,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)r?t.push(String(n.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(n.nodeValue);else{var e=void 0;for(e=n.firstChild;e;e=e.nextSibling)i9(e,r,t)}return t}function w0(n){return"documentElement"in n}function FB(n,r,t){return n.getAttributeNS(r,t)||""}function x0(n){return new DOMParser().parseFromString(n,"application/xml")}function o9(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var a=e[e.length-1];Object(et.c)(a,i)}}}function Yn(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var a=e[e.length-1];a.push(i)}}}function oi(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);i!==void 0&&(e[e.length-1]=i)}}function va(n,r,t){return function(e,i){var a=n.call(t!==void 0?t:this,e,i);if(a!==void 0){var c=i[i.length-1],f=r!==void 0?r:e.localName,p=void 0;f in c?p=c[f]:(p=[],c[f]=p),p.push(a)}}}function Me(n,r,t){return function(e,i){var a=n.call(t!==void 0?t:this,e,i);if(a!==void 0){var c=i[i.length-1],f=r!==void 0?r:e.localName;c[f]=a}}}function Re(n,r){return function(t,e,i){n.call(r!==void 0?r:this,t,e,i);var a=i[i.length-1],c=a.node;c.appendChild(t)}}function a9(n,r){var t,e;return function(i,a,c){if(t===void 0){t={};var f={};f[i.localName]=n,t[i.namespaceURI]=f,e=Va(i.localName)}s9(t,e,a,c)}}function Va(n,r){var t=n;return function(e,i,a){var c=i[i.length-1],f=c.node,p=t;p===void 0&&(p=a);var g=r!==void 0?r:f.namespaceURI;return bi(g,p)}}var ks=Va();function du(n,r){for(var t=r.length,e=new Array(t),i=0;i<t;++i)e[i]=n[r[i]];return e}function Rr(n,r,t){var e=t!==void 0?t:{},i,a;for(i=0,a=n.length;i<a;++i)e[n[i]]=r;return e}function pu(n,r,t,e){var i;for(i=r.firstElementChild;i;i=i.nextElementSibling){var a=n[i.namespaceURI];if(a!==void 0){var c=a[i.localName];c!==void 0&&c.call(e,i,t)}}}function kr(n,r,t,e,i){return e.push(n),pu(r,t,e,i),e.pop()}function s9(n,r,t,e,i,a){for(var c=(i!==void 0?i:t).length,f,p,g=0;g<c;++g)f=t[g],f!==void 0&&(p=r.call(a!==void 0?a:this,f,e,i!==void 0?i[g]:void 0),p!==void 0&&n[p.namespaceURI][p.localName].call(a,p,f,e))}function Oi(n,r,t,e,i,a,c){return i.push(n),s9(r,t,e,i,a,c),i.pop()}var L3=void 0;function DB(){return L3===void 0&&typeof XMLSerializer!="undefined"&&(L3=new XMLSerializer),L3}var I3=void 0;function mp(){return I3===void 0&&typeof document!="undefined"&&(I3=document.implementation.createDocument("","",null)),I3}var jB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GB=function(n){jB(r,n);function r(){var t=n.call(this)||this;return t.xmlSerializer_=DB(),t}return r.prototype.getType=function(){return Hc.XML},r.prototype.readFeature=function(t,e){if(t)if(typeof t=="string"){var i=x0(t);return this.readFeatureFromDocument(i,e)}else return w0(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e);else return null},r.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},r.prototype.readFeatureFromNode=function(t,e){return null},r.prototype.readFeatures=function(t,e){if(t)if(typeof t=="string"){var i=x0(t);return this.readFeaturesFromDocument(i,e)}else return w0(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e);else return[]},r.prototype.readFeaturesFromDocument=function(t,e){for(var i=[],a=t.firstChild;a;a=a.nextSibling)a.nodeType==Node.ELEMENT_NODE&&Object(et.c)(i,this.readFeaturesFromNode(a,e));return i},r.prototype.readFeaturesFromNode=function(t,e){return Object(St.b)()},r.prototype.readGeometry=function(t,e){if(t)if(typeof t=="string"){var i=x0(t);return this.readGeometryFromDocument(i,e)}else return w0(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e);else return null},r.prototype.readGeometryFromDocument=function(t,e){return null},r.prototype.readGeometryFromNode=function(t,e){return null},r.prototype.readProjection=function(t){if(t)if(typeof t=="string"){var e=x0(t);return this.readProjectionFromDocument(e)}else return w0(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t);else return null},r.prototype.readProjectionFromDocument=function(t){return this.dataProjection},r.prototype.readProjectionFromNode=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeatureNode=function(t,e){return null},r.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeaturesNode=function(t,e){return null},r.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeGeometryNode=function(t,e){return null},r}(uv),hv=GB,BB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H0="http://www.opengis.net/gml",UB=/^[\s\xa0]*$/,rs=function(n){BB(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureType=i.featureType,e.featureNS=i.featureNS,e.srsName=i.srsName,e.schemaLocation="",e.FEATURE_COLLECTION_PARSERS={},e.FEATURE_COLLECTION_PARSERS[e.namespace]={featureMember:Yn(e.readFeaturesInternal),featureMembers:oi(e.readFeaturesInternal)},e.supportedMediaTypes=["application/gml+xml"],e}return r.prototype.readFeaturesInternal=function(t,e){var i=t.localName,a=null;if(i=="FeatureCollection")a=kr([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if(i=="featureMembers"||i=="featureMember"||i=="member"){var c=e[0],f=c.featureType,p=c.featureNS,g="p",m="p0";if(!f&&t.childNodes){f=[],p={};for(var O=0,P=t.childNodes.length;O<P;++O){var V=t.childNodes[O];if(V.nodeType===1){var $=V.nodeName.split(":").pop();if(f.indexOf($)===-1){var ot="",yt=0,Lt=V.namespaceURI;for(var zt in p){if(p[zt]===Lt){ot=zt;break}++yt}ot||(ot=g+yt,p[ot]=Lt),f.push(ot+":"+$)}}}i!="featureMember"&&(c.featureType=f,c.featureNS=p)}if(typeof p=="string"){var Ht=p;p={},p[m]=Ht}var jt={},ye=Array.isArray(f)?f:[f];for(var ve in p){for(var Oe={},O=0,P=ye.length;O<P;++O){var we=ye[O].indexOf(":")===-1?m:ye[O].split(":")[0];we===ve&&(Oe[ye[O].split(":").pop()]=i=="featureMembers"?Yn(this.readFeatureElement,this):oi(this.readFeatureElement,this))}jt[p[ve]]=Oe}i=="featureMember"||i=="member"?a=kr(void 0,jt,t,e):a=kr([],jt,t,e)}return a===null&&(a=[]),a},r.prototype.readGeometryElement=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension");var a=kr(null,this.GEOMETRY_PARSERS,t,e,this);if(a)return Array.isArray(a)?M3(a,i):Fa(a,!1,i)},r.prototype.readFeatureElementInternal=function(t,e,i){for(var a,c={},f=t.firstElementChild;f;f=f.nextElementSibling){var p=void 0,g=f.localName;f.childNodes.length===0||f.childNodes.length===1&&(f.firstChild.nodeType===3||f.firstChild.nodeType===4)?(p=kl(f,!1),UB.test(p)&&(p=void 0)):(i&&(p=this.readGeometryElement(f,e)),p?g!=="boundedBy"&&(a=g):p=this.readFeatureElementInternal(f,e,!1)),c[g]?(c[g]instanceof Array||(c[g]=[c[g]]),c[g].push(p)):c[g]=p;var m=f.attributes.length;if(m>0){c[g]={_content_:c[g]};for(var O=0;O<m;O++){var P=f.attributes[O].name;c[g][P]=f.attributes[O].value}}}if(i){var V=new In(c);a&&V.setGeometryName(a);var $=t.getAttribute("fid")||FB(t,this.namespace,"id");return $&&V.setId($),V}else return c},r.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},r.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new Fi(i,or.XYZ)},r.prototype.readMultiPoint=function(t,e){var i=kr([],this.MULTIPOINT_PARSERS,t,e,this);if(i)return new Sc(i)},r.prototype.readMultiLineString=function(t,e){var i=kr([],this.MULTILINESTRING_PARSERS,t,e,this);if(i)return new cu(i)},r.prototype.readMultiPolygon=function(t,e){var i=kr([],this.MULTIPOLYGON_PARSERS,t,e,this);if(i)return new wl(i)},r.prototype.pointMemberParser=function(t,e){pu(this.POINTMEMBER_PARSERS,t,e,this)},r.prototype.lineStringMemberParser=function(t,e){pu(this.LINESTRINGMEMBER_PARSERS,t,e,this)},r.prototype.polygonMemberParser=function(t,e){pu(this.POLYGONMEMBER_PARSERS,t,e,this)},r.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i){var a=new Jo(i,or.XYZ);return a}else return},r.prototype.readFlatLinearRing=function(t,e){var i=kr(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(i)return i},r.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new Pu(i,or.XYZ)},r.prototype.readPolygon=function(t,e){var i=kr([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(i&&i[0]){var a=i[0],c=[a.length],f=void 0,p=void 0;for(f=1,p=i.length;f<p;++f)Object(et.c)(a,i[f]),c.push(a.length);return new fo(a,or.XYZ,c)}else return},r.prototype.readFlatCoordinatesFromNode=function(t,e){return kr(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.readGeometryFromNode=function(t,e){var i=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};e&&Object(yn.a)(i,this.getReadOptions(t,e));var a=this.readFeaturesInternal(t,[i]);return a||[]},r.prototype.readProjectionFromNode=function(t){return zn(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r}(hv);rs.prototype.namespace=H0,rs.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},rs.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},rs.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},rs.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:Yn(rs.prototype.pointMemberParser),pointMembers:Yn(rs.prototype.pointMemberParser)}},rs.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:Yn(rs.prototype.lineStringMemberParser),lineStringMembers:Yn(rs.prototype.lineStringMemberParser)}},rs.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:Yn(rs.prototype.polygonMemberParser),polygonMembers:Yn(rs.prototype.polygonMemberParser)}},rs.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:Yn(rs.prototype.readFlatCoordinatesFromNode)}},rs.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Yn(rs.prototype.readLineString)}},rs.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Yn(rs.prototype.readPolygon)}},rs.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:oi(rs.prototype.readFlatLinearRing)}};var oo=rs;function Vh(n){var r=kl(n,!1);return rd(r)}function rd(n){var r=/^\s*(true|1)|(false|0)\s*$/.exec(n);if(r)return r[1]!==void 0||!1}function P3(n){var r=kl(n,!1),t=Date.parse(r);return isNaN(t)?void 0:t/1e3}function bo(n){var r=kl(n,!1);return X0(r)}function X0(n){var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n);if(r)return parseFloat(r[1])}function cs(n){var r=kl(n,!1);return K0(r)}function K0(n){var r=/^\s*(\d+)\s*$/.exec(n);if(r)return parseInt(r[1],10)}function Xr(n){return kl(n,!1).trim()}function _p(n,r){gi(n,r?"1":"0")}function kB(n,r){n.appendChild(mp().createCDATASection(r))}function zB(n,r){var t=new Date(r*1e3),e=t.getUTCFullYear()+"-"+b(t.getUTCMonth()+1,2)+"-"+b(t.getUTCDate(),2)+"T"+b(t.getUTCHours(),2)+":"+b(t.getUTCMinutes(),2)+":"+b(t.getUTCSeconds(),2)+"Z";n.appendChild(mp().createTextNode(e))}function vu(n,r){var t=r.toPrecision();n.appendChild(mp().createTextNode(t))}function sy(n,r){var t=r.toString();n.appendChild(mp().createTextNode(t))}function gi(n,r){n.appendChild(mp().createTextNode(r))}var VB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WB=H0+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",YB={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},yo=function(n){VB(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.FEATURE_COLLECTION_PARSERS[H0].featureMember=Yn(e.readFeaturesInternal),e.schemaLocation=i.schemaLocation?i.schemaLocation:WB,e}return r.prototype.readFlatCoordinates=function(t,e){var i=kl(t,!1).replace(/^\s*|\s*$/g,""),a=e[0],c=a.srsName,f="enu";if(c){var p=zn(c);p&&(f=p.getAxisOrientation())}for(var g=i.trim().split(/\s+/),m=[],O=0,P=g.length;O<P;O++){var V=g[O].split(/,+/),$=parseFloat(V[0]),ot=parseFloat(V[1]),yt=V.length===3?parseFloat(V[2]):0;f.substr(0,2)==="en"?m.push($,ot,yt):m.push(ot,$,yt)}return m},r.prototype.readBox=function(t,e){var i=kr([null],this.BOX_PARSERS_,t,e,this);return j(i[1][0],i[1][1],i[1][3],i[1][4])},r.prototype.innerBoundaryIsParser=function(t,e){var i=kr(void 0,this.RING_PARSERS,t,e,this);if(i){var a=e[e.length-1];a.push(i)}},r.prototype.outerBoundaryIsParser=function(t,e){var i=kr(void 0,this.RING_PARSERS,t,e,this);if(i){var a=e[e.length-1];a[0]=i}},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var a=e[e.length-1],c=a.multiSurface,f=a.surface,p=a.multiCurve,g;return Array.isArray(t)?g="Envelope":(g=t.getType(),g==="MultiPolygon"&&c===!0?g="MultiSurface":g==="Polygon"&&f===!0?g="Surface":g==="MultiLineString"&&p===!0&&(g="MultiCurve")),bi("http://www.opengis.net/gml",g)},r.prototype.writeFeatureElement=function(t,e,i){var a=e.getId();a&&t.setAttribute("fid",a);var c=i[i.length-1],f=c.featureNS,p=e.getGeometryName();c.serializers||(c.serializers={},c.serializers[f]={});var g=[],m=[];if(e.hasProperties()){var O=e.getProperties();for(var P in O){var V=O[P];V!==null&&(g.push(P),m.push(V),P==p||typeof V.getSimplifiedGeometry=="function"?P in c.serializers[f]||(c.serializers[f][P]=Re(this.writeGeometryElement,this)):P in c.serializers[f]||(c.serializers[f][P]=Re(gi)))}}var $=Object(yn.a)({},c);$.node=t,Oi($,c.serializers,Va(void 0,f),m,i,g)},r.prototype.writeCurveOrLineString=function(t,e,i){var a=i[i.length-1],c=a.srsName;if(t.nodeName!=="LineStringSegment"&&c&&t.setAttribute("srsName",c),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var f=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(f),this.writeCoordinates_(f,e,i)}else if(t.nodeName==="Curve"){var p=bi(t.namespaceURI,"segments");t.appendChild(p),this.writeCurveSegments_(p,e,i)}},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var a=this.GEOMETRY_NODE_FACTORY_(e,i);a&&(t.appendChild(a),this.writeCurveOrLineString(a,e,i))},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName,p=a.curve;f&&t.setAttribute("srsName",f);var g=e.getLineStrings();Oi({node:t,hasZ:c,srsName:f,curve:p},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,i,void 0,this)},r.prototype.writeGeometryElement=function(t,e,i){var a=i[i.length-1],c=Object(yn.a)({},a);c.node=t;var f;Array.isArray(e)?f=M3(e,a):f=Fa(e,!0,a),Oi(c,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[f],i,void 0,this)},r.prototype.createCoordinatesNode_=function(t){var e=bi(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},r.prototype.writeCoordinates_=function(t,e,i){for(var a=i[i.length-1],c=a.hasZ,f=a.srsName,p=e.getCoordinates(),g=p.length,m=new Array(g),O=0;O<g;++O){var P=p[O];m[O]=this.getCoords_(P,f,c)}gi(t,m.join(" "))},r.prototype.writeCurveSegments_=function(t,e,i){var a=bi(t.namespaceURI,"LineStringSegment");t.appendChild(a),this.writeCurveOrLineString(a,e,i)},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName;if(t.nodeName!=="PolygonPatch"&&f&&t.setAttribute("srsName",f),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var p=e.getLinearRings();Oi({node:t,hasZ:c,srsName:f},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,p,i,void 0,this)}else if(t.nodeName==="Surface"){var g=bi(t.namespaceURI,"patches");t.appendChild(g),this.writeSurfacePatches_(g,e,i)}},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var a=e[e.length-1],c=a.node,f=a.exteriorWritten;return f===void 0&&(a.exteriorWritten=!0),bi(c.namespaceURI,f!==void 0?"innerBoundaryIs":"outerBoundaryIs")},r.prototype.writeSurfacePatches_=function(t,e,i){var a=bi(t.namespaceURI,"PolygonPatch");t.appendChild(a),this.writeSurfaceOrPolygon(a,e,i)},r.prototype.writeRing=function(t,e,i){var a=bi(t.namespaceURI,"LinearRing");t.appendChild(a),this.writeLinearRing(a,e,i)},r.prototype.getCoords_=function(t,e,i){var a="enu";e&&(a=zn(e).getAxisOrientation());var c=a.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(i){var f=t[2]||0;c+=","+f}return c},r.prototype.writePoint=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName;f&&t.setAttribute("srsName",f);var p=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(p);var g=e.getCoordinates(),m=this.getCoords_(g,f,c);gi(p,m)},r.prototype.writeMultiPoint=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName;f&&t.setAttribute("srsName",f);var p=e.getPoints();Oi({node:t,hasZ:c,srsName:f},this.POINTMEMBER_SERIALIZERS,Va("pointMember"),p,i,void 0,this)},r.prototype.writePointMember=function(t,e,i){var a=bi(t.namespaceURI,"Point");t.appendChild(a),this.writePoint(a,e,i)},r.prototype.writeLinearRing=function(t,e,i){var a=i[i.length-1],c=a.srsName;c&&t.setAttribute("srsName",c);var f=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(f),this.writeCoordinates_(f,e,i)},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName,p=a.surface;f&&t.setAttribute("srsName",f);var g=e.getPolygons();Oi({node:t,hasZ:c,srsName:f,surface:p},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,i,void 0,this)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var a=this.GEOMETRY_NODE_FACTORY_(e,i);a&&(t.appendChild(a),this.writeSurfaceOrPolygon(a,e,i))},r.prototype.writeEnvelope=function(t,e,i){var a=i[i.length-1],c=a.srsName;c&&t.setAttribute("srsName",c);var f=["lowerCorner","upperCorner"],p=[e[0]+" "+e[1],e[2]+" "+e[3]];Oi({node:t},this.ENVELOPE_SERIALIZERS,ks,p,i,f,this)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var a=e[e.length-1].node;return bi("http://www.opengis.net/gml",YB[a.nodeName])},r}(oo);yo.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:oi(yo.prototype.readFlatCoordinates)}},yo.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:yo.prototype.innerBoundaryIsParser,outerBoundaryIs:yo.prototype.outerBoundaryIsParser}},yo.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Yn(yo.prototype.readFlatCoordinates)}},yo.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:oi(oo.prototype.readPoint),MultiPoint:oi(oo.prototype.readMultiPoint),LineString:oi(oo.prototype.readLineString),MultiLineString:oi(oo.prototype.readMultiLineString),LinearRing:oi(oo.prototype.readLinearRing),Polygon:oi(oo.prototype.readPolygon),MultiPolygon:oi(oo.prototype.readMultiPolygon),Box:oi(yo.prototype.readBox)}},yo.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Re(yo.prototype.writeCurveOrLineString),MultiCurve:Re(yo.prototype.writeMultiCurveOrLineString),Point:Re(yo.prototype.writePoint),MultiPoint:Re(yo.prototype.writeMultiPoint),LineString:Re(yo.prototype.writeCurveOrLineString),MultiLineString:Re(yo.prototype.writeMultiCurveOrLineString),LinearRing:Re(yo.prototype.writeLinearRing),Polygon:Re(yo.prototype.writeSurfaceOrPolygon),MultiPolygon:Re(yo.prototype.writeMultiSurfaceOrPolygon),Surface:Re(yo.prototype.writeSurfaceOrPolygon),MultiSurface:Re(yo.prototype.writeMultiSurfaceOrPolygon),Envelope:Re(yo.prototype.writeEnvelope)}},yo.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Re(yo.prototype.writeLineStringOrCurveMember),curveMember:Re(yo.prototype.writeLineStringOrCurveMember)}},yo.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:Re(yo.prototype.writeRing),innerBoundaryIs:Re(yo.prototype.writeRing)}},yo.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Re(yo.prototype.writePointMember)}},yo.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Re(yo.prototype.writeSurfaceOrPolygonMember),polygonMember:Re(yo.prototype.writeSurfaceOrPolygonMember)}},yo.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Re(gi),upperCorner:Re(gi)}};var Ep=yo,HB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XB=H0+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",KB={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Kn=function(n){HB(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.surface_=i.surface!==void 0?i.surface:!1,e.curve_=i.curve!==void 0?i.curve:!1,e.multiCurve_=i.multiCurve!==void 0?i.multiCurve:!0,e.multiSurface_=i.multiSurface!==void 0?i.multiSurface:!0,e.schemaLocation=i.schemaLocation?i.schemaLocation:XB,e.hasZ=i.hasZ!==void 0?i.hasZ:!1,e}return r.prototype.readMultiCurve=function(t,e){var i=kr([],this.MULTICURVE_PARSERS,t,e,this);if(i){var a=new cu(i);return a}else return},r.prototype.readMultiSurface=function(t,e){var i=kr([],this.MULTISURFACE_PARSERS,t,e,this);if(i)return new wl(i)},r.prototype.curveMemberParser=function(t,e){pu(this.CURVEMEMBER_PARSERS,t,e,this)},r.prototype.surfaceMemberParser=function(t,e){pu(this.SURFACEMEMBER_PARSERS,t,e,this)},r.prototype.readPatch=function(t,e){return kr([null],this.PATCHES_PARSERS,t,e,this)},r.prototype.readSegment=function(t,e){return kr([null],this.SEGMENTS_PARSERS,t,e,this)},r.prototype.readPolygonPatch=function(t,e){return kr([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},r.prototype.readLineStringSegment=function(t,e){return kr([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.interiorParser=function(t,e){var i=kr(void 0,this.RING_PARSERS,t,e,this);if(i){var a=e[e.length-1];a.push(i)}},r.prototype.exteriorParser=function(t,e){var i=kr(void 0,this.RING_PARSERS,t,e,this);if(i){var a=e[e.length-1];a[0]=i}},r.prototype.readSurface=function(t,e){var i=kr([null],this.SURFACE_PARSERS,t,e,this);if(i&&i[0]){var a=i[0],c=[a.length],f=void 0,p=void 0;for(f=1,p=i.length;f<p;++f)Object(et.c)(a,i[f]),c.push(a.length);return new fo(a,or.XYZ,c)}else return},r.prototype.readCurve=function(t,e){var i=kr([null],this.CURVE_PARSERS,t,e,this);if(i){var a=new Jo(i,or.XYZ);return a}else return},r.prototype.readEnvelope=function(t,e){var i=kr([null],this.ENVELOPE_PARSERS,t,e,this);return j(i[1][0],i[1][1],i[2][0],i[2][1])},r.prototype.readFlatPos=function(t,e){for(var i=kl(t,!1),a=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,c=[],f;f=a.exec(i);)c.push(parseFloat(f[1])),i=i.substr(f[0].length);if(i===""){var p=e[0],g=p.srsName,m="enu";if(g){var O=zn(g);m=O.getAxisOrientation()}if(m==="neu"){var P=void 0,V=void 0;for(P=0,V=c.length;P<V;P+=3){var $=c[P],ot=c[P+1];c[P]=ot,c[P+1]=$}}var yt=c.length;if(yt==2&&c.push(0),yt!==0)return c}},r.prototype.readFlatPosList=function(t,e){var i=kl(t,!1).replace(/^\s*|\s*$/g,""),a=e[0],c=a.srsName,f=a.srsDimension,p="enu";if(c){var g=zn(c);p=g.getAxisOrientation()}var m=i.split(/\s+/),O=2;t.getAttribute("srsDimension")?O=K0(t.getAttribute("srsDimension")):t.getAttribute("dimension")?O=K0(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?O=K0(t.parentNode.getAttribute("srsDimension")):f&&(O=K0(f));for(var P,V,$,ot=[],yt=0,Lt=m.length;yt<Lt;yt+=O)P=parseFloat(m[yt]),V=parseFloat(m[yt+1]),$=O===3?parseFloat(m[yt+2]):0,p.substr(0,2)==="en"?ot.push(P,V,$):ot.push(V,P,$);return ot},r.prototype.writePos_=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=c?"3":"2";t.setAttribute("srsDimension",f);var p=a.srsName,g="enu";p&&(g=zn(p).getAxisOrientation());var m=e.getCoordinates(),O;if(g.substr(0,2)==="en"?O=m[0]+" "+m[1]:O=m[1]+" "+m[0],c){var P=m[2]||0;O+=" "+P}gi(t,O)},r.prototype.getCoords_=function(t,e,i){var a="enu";e&&(a=zn(e).getAxisOrientation());var c=a.substr(0,2)==="en"?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){var f=t[2]||0;c+=" "+f}return c},r.prototype.writePosList_=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=c?"3":"2";t.setAttribute("srsDimension",f);for(var p=a.srsName,g=e.getCoordinates(),m=g.length,O=new Array(m),P,V=0;V<m;++V)P=g[V],O[V]=this.getCoords_(P,p,c);gi(t,O.join(" "))},r.prototype.writePoint=function(t,e,i){var a=i[i.length-1],c=a.srsName;c&&t.setAttribute("srsName",c);var f=bi(t.namespaceURI,"pos");t.appendChild(f),this.writePos_(f,e,i)},r.prototype.writeEnvelope=function(t,e,i){var a=i[i.length-1],c=a.srsName;c&&t.setAttribute("srsName",c);var f=["lowerCorner","upperCorner"],p=[e[0]+" "+e[1],e[2]+" "+e[3]];Oi({node:t},this.ENVELOPE_SERIALIZERS,ks,p,i,f,this)},r.prototype.writeLinearRing=function(t,e,i){var a=i[i.length-1],c=a.srsName;c&&t.setAttribute("srsName",c);var f=bi(t.namespaceURI,"posList");t.appendChild(f),this.writePosList_(f,e,i)},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var a=e[e.length-1],c=a.node,f=a.exteriorWritten;return f===void 0&&(a.exteriorWritten=!0),bi(c.namespaceURI,f!==void 0?"interior":"exterior")},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName;if(t.nodeName!=="PolygonPatch"&&f&&t.setAttribute("srsName",f),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var p=e.getLinearRings();Oi({node:t,hasZ:c,srsName:f},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,p,i,void 0,this)}else if(t.nodeName==="Surface"){var g=bi(t.namespaceURI,"patches");t.appendChild(g),this.writeSurfacePatches_(g,e,i)}},r.prototype.writeCurveOrLineString=function(t,e,i){var a=i[i.length-1],c=a.srsName;if(t.nodeName!=="LineStringSegment"&&c&&t.setAttribute("srsName",c),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var f=bi(t.namespaceURI,"posList");t.appendChild(f),this.writePosList_(f,e,i)}else if(t.nodeName==="Curve"){var p=bi(t.namespaceURI,"segments");t.appendChild(p),this.writeCurveSegments_(p,e,i)}},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName,p=a.surface;f&&t.setAttribute("srsName",f);var g=e.getPolygons();Oi({node:t,hasZ:c,srsName:f,surface:p},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,i,void 0,this)},r.prototype.writeMultiPoint=function(t,e,i){var a=i[i.length-1],c=a.srsName,f=a.hasZ;c&&t.setAttribute("srsName",c);var p=e.getPoints();Oi({node:t,hasZ:f,srsName:c},this.POINTMEMBER_SERIALIZERS,Va("pointMember"),p,i,void 0,this)},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var a=i[i.length-1],c=a.hasZ,f=a.srsName,p=a.curve;f&&t.setAttribute("srsName",f);var g=e.getLineStrings();Oi({node:t,hasZ:c,srsName:f,curve:p},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,i,void 0,this)},r.prototype.writeRing=function(t,e,i){var a=bi(t.namespaceURI,"LinearRing");t.appendChild(a),this.writeLinearRing(a,e,i)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var a=this.GEOMETRY_NODE_FACTORY_(e,i);a&&(t.appendChild(a),this.writeSurfaceOrPolygon(a,e,i))},r.prototype.writePointMember=function(t,e,i){var a=bi(t.namespaceURI,"Point");t.appendChild(a),this.writePoint(a,e,i)},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var a=this.GEOMETRY_NODE_FACTORY_(e,i);a&&(t.appendChild(a),this.writeCurveOrLineString(a,e,i))},r.prototype.writeSurfacePatches_=function(t,e,i){var a=bi(t.namespaceURI,"PolygonPatch");t.appendChild(a),this.writeSurfaceOrPolygon(a,e,i)},r.prototype.writeCurveSegments_=function(t,e,i){var a=bi(t.namespaceURI,"LineStringSegment");t.appendChild(a),this.writeCurveOrLineString(a,e,i)},r.prototype.writeGeometryElement=function(t,e,i){var a=i[i.length-1],c=Object(yn.a)({},a);c.node=t;var f;Array.isArray(e)?f=M3(e,a):f=Fa(e,!0,a),Oi(c,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[f],i,void 0,this)},r.prototype.writeFeatureElement=function(t,e,i){var a=e.getId();a&&t.setAttribute("fid",a);var c=i[i.length-1],f=c.featureNS,p=e.getGeometryName();c.serializers||(c.serializers={},c.serializers[f]={});var g=[],m=[];if(e.hasProperties()){var O=e.getProperties();for(var P in O){var V=O[P];V!==null&&(g.push(P),m.push(V),P==p||typeof V.getSimplifiedGeometry=="function"?P in c.serializers[f]||(c.serializers[f][P]=Re(this.writeGeometryElement,this)):P in c.serializers[f]||(c.serializers[f][P]=Re(gi)))}}var $=Object(yn.a)({},c);$.node=t,Oi($,c.serializers,Va(void 0,f),m,i,g)},r.prototype.writeFeatureMembers_=function(t,e,i){var a=i[i.length-1],c=a.featureType,f=a.featureNS,p={};p[f]={},p[f][c]=Re(this.writeFeatureElement,this);var g=Object(yn.a)({},a);g.node=t,Oi(g,p,Va(c,f),e,i)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var a=e[e.length-1].node;return bi(this.namespace,KB[a.nodeName])},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var a=e[e.length-1],c=a.multiSurface,f=a.surface,p=a.curve,g=a.multiCurve,m;return Array.isArray(t)?m="Envelope":(m=t.getType(),m==="MultiPolygon"&&c===!0?m="MultiSurface":m==="Polygon"&&f===!0?m="Surface":m==="LineString"&&p===!0?m="Curve":m==="MultiLineString"&&g===!0&&(m="MultiCurve")),bi(this.namespace,m)},r.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=bi(this.namespace,"geom"),a={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(yn.a)(a,e),this.writeGeometryElement(i,t,[a]),i},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=bi(this.namespace,"featureMembers");i.setAttributeNS(ed,"xsi:schemaLocation",this.schemaLocation);var a={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(yn.a)(a,e),this.writeFeatureMembers_(i,t,[a]),i},r}(oo);Kn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:oi(Kn.prototype.readFlatPos),posList:oi(Kn.prototype.readFlatPosList),coordinates:oi(Ep.prototype.readFlatCoordinates)}},Kn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Kn.prototype.interiorParser,exterior:Kn.prototype.exteriorParser}},Kn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:oi(oo.prototype.readPoint),MultiPoint:oi(oo.prototype.readMultiPoint),LineString:oi(oo.prototype.readLineString),MultiLineString:oi(oo.prototype.readMultiLineString),LinearRing:oi(oo.prototype.readLinearRing),Polygon:oi(oo.prototype.readPolygon),MultiPolygon:oi(oo.prototype.readMultiPolygon),Surface:oi(Kn.prototype.readSurface),MultiSurface:oi(Kn.prototype.readMultiSurface),Curve:oi(Kn.prototype.readCurve),MultiCurve:oi(Kn.prototype.readMultiCurve),Envelope:oi(Kn.prototype.readEnvelope)}},Kn.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:Yn(Kn.prototype.curveMemberParser),curveMembers:Yn(Kn.prototype.curveMemberParser)}},Kn.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:Yn(Kn.prototype.surfaceMemberParser),surfaceMembers:Yn(Kn.prototype.surfaceMemberParser)}},Kn.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Yn(oo.prototype.readLineString),Curve:Yn(Kn.prototype.readCurve)}},Kn.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Yn(oo.prototype.readPolygon),Surface:Yn(Kn.prototype.readSurface)}},Kn.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:oi(Kn.prototype.readPatch)}},Kn.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:oi(Kn.prototype.readSegment)}},Kn.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:Yn(Kn.prototype.readFlatPosList),upperCorner:Yn(Kn.prototype.readFlatPosList)}},Kn.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:oi(Kn.prototype.readPolygonPatch)}},Kn.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:oi(Kn.prototype.readLineStringSegment)}},Kn.prototype.writeFeatures,Kn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:Re(Kn.prototype.writeRing),interior:Re(Kn.prototype.writeRing)}},Kn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Re(gi),upperCorner:Re(gi)}},Kn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Re(Kn.prototype.writeSurfaceOrPolygonMember),polygonMember:Re(Kn.prototype.writeSurfaceOrPolygonMember)}},Kn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Re(Kn.prototype.writePointMember)}},Kn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Re(Kn.prototype.writeLineStringOrCurveMember),curveMember:Re(Kn.prototype.writeLineStringOrCurveMember)}},Kn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Re(Kn.prototype.writeCurveOrLineString),MultiCurve:Re(Kn.prototype.writeMultiCurveOrLineString),Point:Re(Kn.prototype.writePoint),MultiPoint:Re(Kn.prototype.writeMultiPoint),LineString:Re(Kn.prototype.writeCurveOrLineString),MultiLineString:Re(Kn.prototype.writeMultiCurveOrLineString),LinearRing:Re(Kn.prototype.writeLinearRing),Polygon:Re(Kn.prototype.writeSurfaceOrPolygon),MultiPolygon:Re(Kn.prototype.writeMultiSurfaceOrPolygon),Surface:Re(Kn.prototype.writeSurfaceOrPolygon),MultiSurface:Re(Kn.prototype.writeMultiSurfaceOrPolygon),Envelope:Re(Kn.prototype.writeEnvelope)}};var Ji=Kn,N3=Ji;N3.prototype.writeFeatures,N3.prototype.writeFeaturesNode;var $B=N3,ZB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ms=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],qB="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",JB={rte:l9,trk:u9,wpt:c9},QB=Rr(ms,{rte:Yn(l9),trk:Yn(u9),wpt:Yn(c9)}),tU=Rr(ms,{text:Me(Xr,"linkText"),type:Me(Xr,"linkType")}),eU=Rr(ms,{rte:Re(OU),trk:Re(AU),wpt:Re(RU)}),rU=function(n){ZB(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=zn("EPSG:4326"),e.readExtensions_=i.readExtensions,e}return r.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,i=t.length;e<i;++e){var a=t[e];if(this.readExtensions_){var c=a.get("extensionsNode_")||null;this.readExtensions_(a,c)}a.set("extensionsNode_",void 0)}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(et.f)(ms,t.namespaceURI))return null;var i=JB[t.localName];if(!i)return null;var a=i(t,[this.getReadOptions(t,e)]);return a?(this.handleReadExtensions_([a]),a):null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(et.f)(ms,t.namespaceURI))return[];if(t.localName=="gpx"){var i=kr([],QB,t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_(i),i):[]}return[]},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=bi("http://www.topografix.com/GPX/1/1","gpx"),a="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(a,"xmlns:xsi",ed),i.setAttributeNS(ed,"xsi:schemaLocation",qB),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Oi({node:i},eU,SU,t,[e]),i},r}(hv),nU=Rr(ms,{name:Me(Xr),cmt:Me(Xr),desc:Me(Xr),src:Me(Xr),link:j3,number:Me(cs),extensions:G3,type:Me(Xr),rtept:wU}),iU=Rr(ms,{ele:Me(bo),time:Me(P3)}),oU=Rr(ms,{name:Me(Xr),cmt:Me(Xr),desc:Me(Xr),src:Me(Xr),link:j3,number:Me(cs),type:Me(Xr),extensions:G3,trkseg:TU}),aU=Rr(ms,{trkpt:xU}),sU=Rr(ms,{ele:Me(bo),time:Me(P3)}),lU=Rr(ms,{ele:Me(bo),time:Me(P3),magvar:Me(bo),geoidheight:Me(bo),name:Me(Xr),cmt:Me(Xr),desc:Me(Xr),src:Me(Xr),link:j3,sym:Me(Xr),type:Me(Xr),fix:Me(Xr),sat:Me(cs),hdop:Me(bo),vdop:Me(bo),pdop:Me(bo),ageofdgpsdata:Me(bo),dgpsid:Me(cs),extensions:G3}),uU=["text","type"],cU=Rr(ms,{text:Re(gi),type:Re(gi)}),hU=Rr(ms,["name","cmt","desc","src","link","number","type","rtept"]),fU=Rr(ms,{name:Re(gi),cmt:Re(gi),desc:Re(gi),src:Re(gi),link:Re(B3),number:Re(sy),type:Re(gi),rtept:a9(Re(U3))}),dU=Rr(ms,["ele","time"]),pU=Rr(ms,["name","cmt","desc","src","link","number","type","trkseg"]),vU=Rr(ms,{name:Re(gi),cmt:Re(gi),desc:Re(gi),src:Re(gi),link:Re(B3),number:Re(sy),type:Re(gi),trkseg:a9(Re(MU))}),gU=Va("trkpt"),yU=Rr(ms,{trkpt:Re(U3)}),mU=Rr(ms,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),_U=Rr(ms,{ele:Re(vu),time:Re(zB),magvar:Re(vu),geoidheight:Re(vu),name:Re(gi),cmt:Re(gi),desc:Re(gi),src:Re(gi),link:Re(B3),sym:Re(gi),type:Re(gi),fix:Re(gi),sat:Re(sy),hdop:Re(vu),vdop:Re(vu),pdop:Re(vu),ageofdgpsdata:Re(vu),dgpsid:Re(sy)}),EU={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function SU(n,r,t){var e=n.getGeometry();if(e){var i=EU[e.getType()];if(i){var a=r[r.length-1].node;return bi(a.namespaceURI,i)}}}function F3(n,r,t,e){return n.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in e?(n.push(e.ele),delete e.ele,r.hasZ=!0):n.push(0),"time"in e?(n.push(e.time),delete e.time,r.hasM=!0):n.push(0),n}function D3(n,r,t){var e=or.XY,i=2;if(n.hasZ&&n.hasM?(e=or.XYZM,i=4):n.hasZ?(e=or.XYZ,i=3):n.hasM&&(e=or.XYM,i=3),i!==4){for(var a=0,c=r.length/4;a<c;a++)r[a*i]=r[a*4],r[a*i+1]=r[a*4+1],n.hasZ&&(r[a*i+2]=r[a*4+2]),n.hasM&&(r[a*i+2]=r[a*4+3]);if(r.length=r.length/4*i,t)for(var a=0,c=t.length;a<c;a++)t[a]=t[a]/4*i}return e}function j3(n,r){var t=r[r.length-1],e=n.getAttribute("href");e!==null&&(t.link=e),pu(tU,n,r)}function G3(n,r){var t=r[r.length-1];t.extensionsNode_=n}function wU(n,r){var t=kr({},iU,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,a=e.layoutOptions;F3(i,a,n,t)}}function xU(n,r){var t=kr({},sU,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,a=e.layoutOptions;F3(i,a,n,t)}}function TU(n,r){var t=r[r.length-1];pu(aU,n,r);var e=t.flatCoordinates,i=t.ends;i.push(e.length)}function l9(n,r){var t=r[0],e=kr({flatCoordinates:[],layoutOptions:{}},nU,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var a=e.layoutOptions;delete e.layoutOptions;var c=D3(a,i),f=new Jo(i,c);Fa(f,!1,t);var p=new In(f);return p.setProperties(e,!0),p}}function u9(n,r){var t=r[0],e=kr({flatCoordinates:[],ends:[],layoutOptions:{}},oU,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var a=e.ends;delete e.ends;var c=e.layoutOptions;delete e.layoutOptions;var f=D3(c,i,a),p=new cu(i,f,a);Fa(p,!1,t);var g=new In(p);return g.setProperties(e,!0),g}}function c9(n,r){var t=r[0],e=kr({},lU,n,r);if(!!e){var i={},a=F3([],i,n,e),c=D3(i,a),f=new Fi(a,c);Fa(f,!1,t);var p=new In(f);return p.setProperties(e,!0),p}}function B3(n,r,t){n.setAttribute("href",r);var e=t[t.length-1],i=e.properties,a=[i.linkText,i.linkType];Oi({node:n},cU,ks,a,t,uU)}function U3(n,r,t){var e=t[t.length-1],i=e.node,a=i.namespaceURI,c=e.properties;n.setAttributeNS(null,"lat",String(r[1])),n.setAttributeNS(null,"lon",String(r[0]));var f=e.geometryLayout;switch(f){case or.XYZM:r[3]!==0&&(c.time=r[3]);case or.XYZ:r[2]!==0&&(c.ele=r[2]);break;case or.XYM:r[2]!==0&&(c.time=r[2]);break}var p=n.nodeName=="rtept"?dU[a]:mU[a],g=du(c,p);Oi({node:n,properties:c},_U,ks,g,t,p)}function OU(n,r,t){var e=t[0],i=r.getProperties(),a={node:n};a.properties=i;var c=r.getGeometry();if(c.getType()==Se.LINE_STRING){var f=Fa(c,!0,e);a.geometryLayout=f.getLayout(),i.rtept=f.getCoordinates()}var p=t[t.length-1].node,g=hU[p.namespaceURI],m=du(i,g);Oi(a,fU,ks,m,t,g)}function AU(n,r,t){var e=t[0],i=r.getProperties(),a={node:n};a.properties=i;var c=r.getGeometry();if(c.getType()==Se.MULTI_LINE_STRING){var f=Fa(c,!0,e);i.trkseg=f.getLineStrings()}var p=t[t.length-1].node,g=pU[p.namespaceURI],m=du(i,g);Oi(a,vU,ks,m,t,g)}function MU(n,r,t){var e={node:n};e.geometryLayout=r.getLayout(),e.properties={},Oi(e,yU,gU,r.getCoordinates(),t)}function RU(n,r,t){var e=t[0],i=t[t.length-1];i.properties=r.getProperties();var a=r.getGeometry();if(a.getType()==Se.POINT){var c=Fa(a,!0,e);i.geometryLayout=c.getLayout(),U3(n,c.getCoordinates(),t)}}var CU=rU,bU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LU=function(n){bU(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return Hc.TEXT},r.prototype.readFeature=function(t,e){return this.readFeatureFromText(ly(t),this.adaptOptions(e))},r.prototype.readFeatureFromText=function(t,e){return Object(St.b)()},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(ly(t),this.adaptOptions(e))},r.prototype.readFeaturesFromText=function(t,e){return Object(St.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromText(ly(t),this.adaptOptions(e))},r.prototype.readGeometryFromText=function(t,e){return Object(St.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromText(ly(t))},r.prototype.readProjectionFromText=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){return Object(St.b)()},r.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},r.prototype.writeFeaturesText=function(t,e){return Object(St.b)()},r.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},r.prototype.writeGeometryText=function(t,e){return Object(St.b)()},r}(uv);function ly(n){return typeof n=="string"?n:""}var k3=LU,IU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fv={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},PU=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,NU=/^H.([A-Z]{3}).*?:(.*)/,FU=/^HFDTE(\d{2})(\d{2})(\d{2})/,DU=/\r\n|\r|\n/,jU=function(n){IU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=zn("EPSG:4326"),e.altitudeMode_=i.altitudeMode?i.altitudeMode:fv.NONE,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.altitudeMode_,a=t.split(DU),c={},f=[],p=2e3,g=0,m=1,O=-1,P,V;for(P=0,V=a.length;P<V;++P){var $=a[P],ot=void 0;if($.charAt(0)=="B"){if(ot=PU.exec($),ot){var yt=parseInt(ot[1],10),Lt=parseInt(ot[2],10),zt=parseInt(ot[3],10),Ht=parseInt(ot[4],10)+parseInt(ot[5],10)/6e4;ot[6]=="S"&&(Ht=-Ht);var jt=parseInt(ot[7],10)+parseInt(ot[8],10)/6e4;if(ot[9]=="W"&&(jt=-jt),f.push(jt,Ht),i!=fv.NONE){var ye=void 0;i==fv.GPS?ye=parseInt(ot[11],10):i==fv.BAROMETRIC?ye=parseInt(ot[12],10):ye=0,f.push(ye)}var ve=Date.UTC(p,g,m,yt,Lt,zt);ve<O&&(ve=Date.UTC(p,g,m+1,yt,Lt,zt)),f.push(ve/1e3),O=ve}}else $.charAt(0)=="H"&&(ot=FU.exec($),ot?(m=parseInt(ot[1],10),g=parseInt(ot[2],10)-1,p=2e3+parseInt(ot[3],10)):(ot=NU.exec($),ot&&(c[ot[1]]=ot[2].trim())))}if(f.length===0)return null;var Oe=i==fv.NONE?or.XYM:or.XYZM,we=new Jo(f,Oe),je=new In(Fa(we,!1,e));return je.setProperties(c,!0),je},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return i?[i]:[]},r}(k3),GU=jU,Tl=function(n,r){for(var t=0,e=r.length,i=n.length;t<e;t++,i++)n[i]=r[t];return n},zl={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},nd={};nd[zl.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},nd[zl.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},nd[zl.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},nd.none={none:{supports:[],formats:[],qualities:[]}};var BU=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,h9=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,UU=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function kU(n){var r=n.getComplianceLevelSupportedFeatures();return r===void 0&&(r=nd[zl.VERSION1].level0),{url:n.imageInfo["@id"]===void 0?void 0:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:r.supports,formats:Tl(Tl([],r.formats),[n.imageInfo.formats===void 0?[]:n.imageInfo.formats]),qualities:Tl(Tl([],r.qualities),[n.imageInfo.qualities===void 0?[]:n.imageInfo.qualities]),resolutions:n.imageInfo.scale_factors,tileSize:n.imageInfo.tile_width!==void 0?n.imageInfo.tile_height!==void 0?[n.imageInfo.tile_width,n.imageInfo.tile_height]:[n.imageInfo.tile_width,n.imageInfo.tile_width]:n.imageInfo.tile_height!=null?[n.imageInfo.tile_height,n.imageInfo.tile_height]:void 0}}function zU(n){var r=n.getComplianceLevelSupportedFeatures(),t=Array.isArray(n.imageInfo.profile)&&n.imageInfo.profile.length>1,e=t&&n.imageInfo.profile[1].supports?n.imageInfo.profile[1].supports:[],i=t&&n.imageInfo.profile[1].formats?n.imageInfo.profile[1].formats:[],a=t&&n.imageInfo.profile[1].qualities?n.imageInfo.profile[1].qualities:[];return{url:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(c){return[c.width,c.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(c){return c.width})[0],n.imageInfo.tiles.map(function(c){return c.height===void 0?c.width:c.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(c){return c.scaleFactors})[0],supports:Tl(Tl([],r.supports),e),formats:Tl(Tl([],r.formats),i),qualities:Tl(Tl([],r.qualities),a)}}function VU(n){var r=n.getComplianceLevelSupportedFeatures(),t=n.imageInfo.extraFormats===void 0?r.formats:Tl(Tl([],r.formats),n.imageInfo.extraFormats),e=n.imageInfo.preferredFormats!==void 0&&Array.isArray(n.imageInfo.preferredFormats)&&n.imageInfo.preferredFormats.length>0?n.imageInfo.preferredFormats.filter(function(i){return Object(et.f)(["jpg","png","gif"],i)}).reduce(function(i,a){return i===void 0&&Object(et.f)(t,a)?a:i},void 0):void 0;return{url:n.imageInfo.id,sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(i){return[i.width,i.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(i){return i.width})[0],n.imageInfo.tiles.map(function(i){return i.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(i){return i.scaleFactors})[0],supports:n.imageInfo.extraFeatures===void 0?r.supports:Tl(Tl([],r.supports),n.imageInfo.extraFeatures),formats:t,qualities:n.imageInfo.extraQualities===void 0?r.qualities:Tl(Tl([],r.qualities),n.imageInfo.extraQualities),preferredFormat:e}}var uy={};uy[zl.VERSION1]=kU,uy[zl.VERSION2]=zU,uy[zl.VERSION3]=VU;var WU=function(){function n(r){this.setImageInfo(r)}return n.prototype.setImageInfo=function(r){typeof r=="string"?this.imageInfo=JSON.parse(r):this.imageInfo=r},n.prototype.getImageApiVersion=function(){if(this.imageInfo!==void 0){var r=this.imageInfo["@context"]||"ol-no-context";typeof r=="string"&&(r=[r]);for(var t=0;t<r.length;t++)switch(r[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return zl.VERSION1;case"http://iiif.io/api/image/2/context.json":return zl.VERSION2;case"http://iiif.io/api/image/3/context.json":return zl.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(zl.VERSION1)&&this.imageInfo.identifier)return zl.VERSION1;break}le(!1,61)}},n.prototype.getComplianceLevelEntryFromProfile=function(r){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(r===void 0&&(r=this.getImageApiVersion()),r){case zl.VERSION1:if(BU.test(this.imageInfo.profile))return this.imageInfo.profile;break;case zl.VERSION3:if(UU.test(this.imageInfo.profile))return this.imageInfo.profile;break;case zl.VERSION2:if(typeof this.imageInfo.profile=="string"&&h9.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&h9.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}},n.prototype.getComplianceLevelFromProfile=function(r){var t=this.getComplianceLevelEntryFromProfile(r);if(t!==void 0){var e=t.match(/level[0-2](?:\.json)?$/g);return Array.isArray(e)?e[0].replace(".json",""):void 0}},n.prototype.getComplianceLevelSupportedFeatures=function(){if(this.imageInfo!==void 0){var r=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(r);return t===void 0?nd.none.none:nd[r][t]}},n.prototype.getTileSourceOptions=function(r){var t=r||{},e=this.getImageApiVersion();if(e!==void 0){var i=e===void 0?void 0:uy[e](this);if(i!==void 0)return{url:i.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:i.sizes,format:t.format!==void 0&&Object(et.f)(i.formats,t.format)?t.format:i.preferredFormat!==void 0?i.preferredFormat:"jpg",supports:i.supports,quality:t.quality&&Object(et.f)(i.qualities,t.quality)?t.quality:Object(et.f)(i.qualities,"native")?"native":"default",resolutions:Array.isArray(i.resolutions)?i.resolutions.sort(function(a,c){return c-a}):void 0,tileSize:i.tileSize}}},n}(),YU=WU,HU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$0=["http://www.google.com/kml/ext/2.2"],ti=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],XU="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",f9={fraction:Bl.FRACTION,pixels:Bl.PIXELS,insetPixels:Bl.PIXELS},KU=Rr(ti,{ExtendedData:R9,Region:C9,MultiGeometry:Me(O9,"geometry"),LineString:Me(x9,"geometry"),LinearRing:Me(T9,"geometry"),Point:Me(A9,"geometry"),Polygon:Me(M9,"geometry"),Style:Me($3),StyleMap:bk,address:Me(Xr),description:Me(Xr),name:Me(Xr),open:Me(Vh),phoneNumber:Me(Xr),styleUrl:Me(m9),visibility:Me(Vh)},Rr($0,{MultiTrack:Me(yk,"geometry"),Track:Me(w9,"geometry")})),$U=Rr(ti,{ExtendedData:R9,Region:C9,Link:zk,address:Me(Xr),description:Me(Xr),name:Me(Xr),open:Me(Vh),phoneNumber:Me(Xr),visibility:Me(Vh)}),ZU=Rr(ti,{href:Me(y9)}),d9=Rr(ti,{LatLonAltBox:Fk,Lod:jk}),qU=Rr(ti,["Document","Placemark"]),JU=Rr(ti,{Document:Re(Zk),Placemark:Re(F9)}),Sp,cy=null,z3,dv,pv,vv,hy,V3=null,W3,Y3=null,H3,id=null,p9=null,X3=null;function fy(n){return 32/Math.min(n[0],n[1])}function QU(){Sp=[255,255,255,1],cy=new Js({color:Sp}),z3=[20,2],dv=Bl.PIXELS,pv=Bl.PIXELS,vv=[64,64],hy="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",V3=new L2({anchor:z3,anchorOrigin:bs.BOTTOM_LEFT,anchorXUnits:dv,anchorYUnits:pv,crossOrigin:"anonymous",rotation:0,scale:fy(vv),size:vv,src:hy}),W3="NO_IMAGE",Y3=new Cs({color:Sp,width:1}),H3=new Cs({color:[51,51,51,1],width:2}),id=new Kf({font:"bold 16px Helvetica",fill:cy,stroke:H3,scale:.8}),p9=new Qs({fill:cy,image:V3,text:id,stroke:Y3,zIndex:0}),X3=[p9]}var dy;function tk(n){return n}var ek=function(n){HU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return X3||QU(),e.dataProjection=zn("EPSG:4326"),e.defaultStyle_=i.defaultStyle?i.defaultStyle:X3,e.extractStyles_=i.extractStyles!==void 0?i.extractStyles:!0,e.writeStyles_=i.writeStyles!==void 0?i.writeStyles:!0,e.sharedStyles_={},e.showPointNames_=i.showPointNames!==void 0?i.showPointNames:!0,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",e.iconUrlFunction_=i.iconUrlFunction?i.iconUrlFunction:tk,e.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],e}return r.prototype.readDocumentOrFolder_=function(t,e){var i=Rr(ti,{Document:o9(this.readDocumentOrFolder_,this),Folder:o9(this.readDocumentOrFolder_,this),Placemark:Yn(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),a=kr([],i,t,e,this);if(a)return a},r.prototype.readPlacemark_=function(t,e){var i=kr({geometry:null},KU,t,e,this);if(!!i){var a=new In,c=t.getAttribute("id");c!==null&&a.setId(c);var f=e[0],p=i.geometry;if(p&&Fa(p,!1,f),a.setGeometry(p),delete i.geometry,this.extractStyles_){var g=i.Style,m=i.styleUrl,O=nk(g,m,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);a.setStyle(O)}return delete i.Style,a.setProperties(i,!0),a}},r.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(i!==null){var a=$3.call(this,t,e);if(a){var c=void 0,f=t.baseURI;if((!f||f=="about:blank")&&(f=window.location.href),f){var p=new URL("#"+i,f);c=p.href}else c="#"+i;this.sharedStyles_[c]=a}}},r.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(i!==null){var a=E9.call(this,t,e);if(!!a){var c,f=t.baseURI;if((!f||f=="about:blank")&&(f=window.location.href),f){var p=new URL("#"+i,f);c=p.href}else c="#"+i;this.sharedStyles_[c]=a}}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(et.f)(ti,t.namespaceURI))return null;var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(et.f)(ti,t.namespaceURI))return[];var i,a=t.localName;if(a=="Document"||a=="Folder")return i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),i||[];if(a=="Placemark"){var c=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return c?[c]:[]}else if(a=="kml"){i=[];for(var f=t.firstElementChild;f;f=f.nextElementSibling){var p=this.readFeaturesFromNode(f,e);p&&Object(et.c)(i,p)}return i}else return[]},r.prototype.readName=function(t){if(t)if(typeof t=="string"){var e=x0(t);return this.readNameFromDocument(e)}else return w0(t)?this.readNameFromDocument(t):this.readNameFromNode(t);else return},r.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i)return i}},r.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(et.f)(ti,e.namespaceURI)&&e.localName=="name")return Xr(e);for(var e=t.firstElementChild;e;e=e.nextElementSibling){var i=e.localName;if(Object(et.f)(ti,e.namespaceURI)&&(i=="Document"||i=="Folder"||i=="Placemark"||i=="kml")){var a=this.readNameFromNode(e);if(a)return a}}},r.prototype.readNetworkLinks=function(t){var e=[];if(typeof t=="string"){var i=x0(t);Object(et.c)(e,this.readNetworkLinksFromDocument(i))}else w0(t)?Object(et.c)(e,this.readNetworkLinksFromDocument(t)):Object(et.c)(e,this.readNetworkLinksFromNode(t));return e},r.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(et.c)(e,this.readNetworkLinksFromNode(i));return e},r.prototype.readNetworkLinksFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(et.f)(ti,i.namespaceURI)&&i.localName=="NetworkLink"){var a=kr({},$U,i,[]);e.push(a)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var c=i.localName;Object(et.f)(ti,i.namespaceURI)&&(c=="Document"||c=="Folder"||c=="kml")&&Object(et.c)(e,this.readNetworkLinksFromNode(i))}return e},r.prototype.readRegion=function(t){var e=[];if(typeof t=="string"){var i=x0(t);Object(et.c)(e,this.readRegionFromDocument(i))}else w0(t)?Object(et.c)(e,this.readRegionFromDocument(t)):Object(et.c)(e,this.readRegionFromNode(t));return e},r.prototype.readRegionFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(et.c)(e,this.readRegionFromNode(i));return e},r.prototype.readRegionFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(et.f)(ti,i.namespaceURI)&&i.localName=="Region"){var a=kr({},d9,i,[]);e.push(a)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var c=i.localName;Object(et.f)(ti,i.namespaceURI)&&(c=="Document"||c=="Folder"||c=="kml")&&Object(et.c)(e,this.readRegionFromNode(i))}return e},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=bi(ti[4],"kml"),a="http://www.w3.org/2000/xmlns/";i.setAttributeNS(a,"xmlns:gx",$0[0]),i.setAttributeNS(a,"xmlns:xsi",ed),i.setAttributeNS(ed,"xsi:schemaLocation",XU);var c={node:i},f={};t.length>1?f.Document=t:t.length==1&&(f.Placemark=t[0]);var p=qU[i.namespaceURI],g=du(f,p);return Oi(c,JU,ks,g,[e],p,this),i},r}(hv);function rk(n,r){var t=[0,0],e="start",i=n.getImage();if(i){var a=i.getSize();if(a&&a.length==2){var c=i.getScaleArray(),f=i.getAnchor();t[0]=c[0]*(a[0]-f[0]),t[1]=c[1]*(a[1]/2-f[1]),e="left"}}var p=n.getText();p?(p=p.clone(),p.setFont(p.getFont()||id.getFont()),p.setScale(p.getScale()||id.getScale()),p.setFill(p.getFill()||id.getFill()),p.setStroke(p.getStroke()||H3)):p=id.clone(),p.setText(r),p.setOffsetX(t[0]),p.setOffsetY(t[1]),p.setTextAlign(e);var g=new Qs({image:i,text:p});return g}function nk(n,r,t,e,i){return function(a,c){var f=i,p="",g=[];if(f){var m=a.getGeometry();if(m){var O=m.getType();O===Se.GEOMETRY_COLLECTION?(g=m.getGeometriesArrayRecursive().filter(function(ot){var yt=ot.getType();return yt===Se.POINT||yt===Se.MULTI_POINT}),f=g.length>0):f=O===Se.POINT||O===Se.MULTI_POINT}}f&&(p=a.get("name"),f=f&&!!p,f&&p.search(/&[^&]+;/)>-1&&(dy||(dy=document.createElement("textarea")),dy.innerHTML=p,p=dy.value));var P=t;if(n?P=n:r&&(P=v9(r,t,e)),f){var V=rk(P[0],p);if(g.length>0){V.setGeometry(new xl(g));var $=new Qs({geometry:P[0].getGeometry(),image:null,fill:P[0].getFill(),stroke:P[0].getStroke(),text:null});return[V,$].concat(P.slice(1))}return V}return P}}function v9(n,r,t){return Array.isArray(n)?n:typeof n=="string"?v9(t[n],r,t):r}function py(n){var r=kl(n,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(r);if(t){var e=t[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}else return}function g9(n){var r=kl(n,!1),t=[];r=r.replace(/\s*,\s*/g,",");for(var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,i;i=e.exec(r);){var a=parseFloat(i[1]),c=parseFloat(i[2]),f=i[3]?parseFloat(i[3]):0;t.push(a,c,f),r=r.substr(i[0].length)}if(r==="")return t}function y9(n){var r=kl(n,!1).trim(),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function m9(n){var r=kl(n,!1).trim().replace(/^(?!.*#)/,"#"),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function ik(n){var r=n.getAttribute("xunits"),t=n.getAttribute("yunits"),e;return r!=="insetPixels"?t!=="insetPixels"?e=bs.BOTTOM_LEFT:e=bs.TOP_LEFT:t!=="insetPixels"?e=bs.BOTTOM_RIGHT:e=bs.TOP_RIGHT,{x:parseFloat(n.getAttribute("x")),xunits:f9[r],y:parseFloat(n.getAttribute("y")),yunits:f9[t],origin:e}}function _9(n){return bo(n)}var ok=Rr(ti,{Pair:Ck});function E9(n,r){return kr(void 0,ok,n,r,this)}var ak=Rr(ti,{Icon:Me(Ek),color:Me(py),heading:Me(bo),hotSpot:Me(ik),scale:Me(_9)});function sk(n,r){var t=kr({},ak,n,r);if(!!t){var e=r[r.length-1],i="Icon"in t?t.Icon:{},a=!("Icon"in t)||Object.keys(i).length>0,c,f=i.href;f?c=f:a&&(c=hy);var p,g,m,O=bs.BOTTOM_LEFT,P=t.hotSpot;P?(p=[P.x,P.y],g=P.xunits,m=P.yunits,O=P.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(c)&&(/pushpin/.test(c)?(p=z3,g=dv,m=pv):/arrow-reverse/.test(c)?(p=[54,42],g=dv,m=pv):/paddle/.test(c)&&(p=[32,1],g=dv,m=pv));var V,$=i.x,ot=i.y;$!==void 0&&ot!==void 0&&(V=[$,ot]);var yt,Lt=i.w,zt=i.h;Lt!==void 0&&zt!==void 0&&(yt=[Lt,zt]);var Ht,jt=t.heading;jt!==void 0&&(Ht=ia(jt));var ye=t.scale,ve=t.color;if(a){c==hy&&(yt=vv);var Oe=new L2({anchor:p,anchorOrigin:O,anchorXUnits:g,anchorYUnits:m,crossOrigin:this.crossOrigin_,offset:V,offsetOrigin:bs.BOTTOM_LEFT,rotation:Ht,scale:ye,size:yt,src:this.iconUrlFunction_(c),color:ve}),we=Oe.getScaleArray()[0],je=Oe.getSize();if(je===null){var Tr=Oe.getImageState();if(Tr===Di.IDLE||Tr===Di.LOADING){var vr=function(){var Dr=Oe.getImageState();if(!(Dr===Di.IDLE||Dr===Di.LOADING)){var Sn=Oe.getSize();if(Sn&&Sn.length==2){var Tn=fy(Sn);Oe.setScale(we*Tn)}Oe.unlistenImageChange(vr)}};Oe.listenImageChange(vr),Tr===Di.IDLE&&Oe.load()}}else if(je.length==2){var qe=fy(je);Oe.setScale(we*qe)}e.imageStyle=Oe}else e.imageStyle=W3}}var lk=Rr(ti,{color:Me(py),scale:Me(_9)});function uk(n,r){var t=kr({},lk,n,r);if(!!t){var e=r[r.length-1],i=new Kf({fill:new Js({color:"color"in t?t.color:Sp}),scale:t.scale});e.textStyle=i}}var ck=Rr(ti,{color:Me(py),width:Me(bo)});function hk(n,r){var t=kr({},ck,n,r);if(!!t){var e=r[r.length-1],i=new Cs({color:"color"in t?t.color:Sp,width:"width"in t?t.width:1});e.strokeStyle=i}}var fk=Rr(ti,{color:Me(py),fill:Me(Vh),outline:Me(Vh)});function dk(n,r){var t=kr({},fk,n,r);if(!!t){var e=r[r.length-1],i=new Js({color:"color"in t?t.color:Sp});e.fillStyle=i;var a=t.fill;a!==void 0&&(e.fill=a);var c=t.outline;c!==void 0&&(e.outline=c)}}var pk=Rr(ti,{coordinates:oi(g9)});function S9(n,r){return kr(null,pk,n,r)}function vk(n,r){var t=r[r.length-1],e=t.coordinates,i=kl(n,!1),a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,c=a.exec(i);if(c){var f=parseFloat(c[1]),p=parseFloat(c[2]),g=parseFloat(c[3]);e.push([f,p,g])}else e.push([])}var gk=Rr($0,{Track:Yn(w9)});function yk(n,r){var t=kr([],gk,n,r);if(!!t)return new cu(t)}var mk=Rr(ti,{when:Vk},Rr($0,{coord:vk}));function w9(n,r){var t=kr({coordinates:[],whens:[]},mk,n,r);if(!!t){for(var e=[],i=t.coordinates,a=t.whens,c=0,f=Math.min(i.length,a.length);c<f;++c)i[c].length==3&&e.push(i[c][0],i[c][1],i[c][2],a[c]);return new Jo(e,or.XYZM)}}var _k=Rr(ti,{href:Me(y9)},Rr($0,{x:Me(bo),y:Me(bo),w:Me(bo),h:Me(bo)}));function Ek(n,r){var t=kr({},_k,n,r);return t||null}var Sk=Rr(ti,{coordinates:oi(g9)});function K3(n,r){return kr(null,Sk,n,r)}var vy=Rr(ti,{extrude:Me(Vh),tessellate:Me(Vh),altitudeMode:Me(Xr)});function x9(n,r){var t=kr({},vy,n,r),e=K3(n,r);if(e){var i=new Jo(e,or.XYZ);return i.setProperties(t,!0),i}else return}function T9(n,r){var t=kr({},vy,n,r),e=K3(n,r);if(e){var i=new fo(e,or.XYZ,[e.length]);return i.setProperties(t,!0),i}else return}var wk=Rr(ti,{LineString:Yn(x9),LinearRing:Yn(T9),MultiGeometry:Yn(O9),Point:Yn(A9),Polygon:Yn(M9)});function O9(n,r){var t=kr([],wk,n,r);if(!t)return null;if(t.length===0)return new xl(t);for(var e,i=!0,a=t[0].getType(),c,f=1,p=t.length;f<p;++f)if(c=t[f],c.getType()!=a){i=!1;break}if(i){var g=void 0,m=void 0;if(a==Se.POINT){var O=t[0];g=O.getLayout(),m=O.getFlatCoordinates();for(var f=1,p=t.length;f<p;++f)c=t[f],Object(et.c)(m,c.getFlatCoordinates());e=new Sc(m,g),Z3(e,t)}else a==Se.LINE_STRING?(e=new cu(t),Z3(e,t)):a==Se.POLYGON?(e=new wl(t),Z3(e,t)):a==Se.GEOMETRY_COLLECTION?e=new xl(t):le(!1,37)}else e=new xl(t);return e}function A9(n,r){var t=kr({},vy,n,r),e=K3(n,r);if(e){var i=new Fi(e,or.XYZ);return i.setProperties(t,!0),i}else return}var xk=Rr(ti,{innerBoundaryIs:Bk,outerBoundaryIs:kk});function M9(n,r){var t=kr({},vy,n,r),e=kr([null],xk,n,r);if(e&&e[0]){for(var i=e[0],a=[i.length],c=1,f=e.length;c<f;++c)Object(et.c)(i,e[c]),a.push(i.length);var p=new fo(i,or.XYZ,a);return p.setProperties(t,!0),p}else return}var Tk=Rr(ti,{IconStyle:sk,LabelStyle:uk,LineStyle:hk,PolyStyle:dk});function $3(n,r){var t=kr({},Tk,n,r,this);if(!t)return null;var e="fillStyle"in t?t.fillStyle:cy,i=t.fill;i!==void 0&&!i&&(e=null);var a;"imageStyle"in t?t.imageStyle!=W3&&(a=t.imageStyle):a=V3;var c="textStyle"in t?t.textStyle:id,f="strokeStyle"in t?t.strokeStyle:Y3,p=t.outline;return p!==void 0&&!p?[new Qs({geometry:function(g){var m=g.getGeometry(),O=m.getType();if(O===Se.GEOMETRY_COLLECTION){var P=m;return new xl(P.getGeometriesArrayRecursive().filter(function(V){var $=V.getType();return $!==Se.POLYGON&&$!==Se.MULTI_POLYGON}))}else if(O!==Se.POLYGON&&O!==Se.MULTI_POLYGON)return m},fill:e,image:a,stroke:f,text:c,zIndex:void 0}),new Qs({geometry:function(g){var m=g.getGeometry(),O=m.getType();if(O===Se.GEOMETRY_COLLECTION){var P=m;return new xl(P.getGeometriesArrayRecursive().filter(function(V){var $=V.getType();return $===Se.POLYGON||$===Se.MULTI_POLYGON}))}else if(O===Se.POLYGON||O===Se.MULTI_POLYGON)return m},fill:e,stroke:null,zIndex:void 0})]:[new Qs({fill:e,image:a,stroke:f,text:c,zIndex:void 0})]}function Z3(n,r){var t=r.length,e=new Array(r.length),i=new Array(r.length),a=new Array(r.length),c,f,p;c=!1,f=!1,p=!1;for(var g=0;g<t;++g){var m=r[g];e[g]=m.get("extrude"),i[g]=m.get("tessellate"),a[g]=m.get("altitudeMode"),c=c||e[g]!==void 0,f=f||i[g]!==void 0,p=p||a[g]}c&&n.set("extrude",e),f&&n.set("tessellate",i),p&&n.set("altitudeMode",a)}var Ok=Rr(ti,{displayName:Me(Xr),value:Me(Xr)});function Ak(n,r){var t=n.getAttribute("name");pu(Ok,n,r);var e=r[r.length-1];t&&e.displayName?e[t]={value:e.value,displayName:e.displayName,toString:function(){return e.value}}:t!==null?e[t]=e.value:e.displayName!==null&&(e[e.displayName]=e.value),delete e.value}var Mk=Rr(ti,{Data:Ak,SchemaData:Ik});function R9(n,r){pu(Mk,n,r)}function C9(n,r){pu(d9,n,r)}var Rk=Rr(ti,{Style:Me($3),key:Me(Xr),styleUrl:Me(m9)});function Ck(n,r){var t=kr({},Rk,n,r,this);if(!!t){var e=t.key;if(e&&e=="normal"){var i=t.styleUrl;i&&(r[r.length-1]=i);var a=t.Style;a&&(r[r.length-1]=a)}}}function bk(n,r){var t=E9.call(this,n,r);if(!!t){var e=r[r.length-1];Array.isArray(t)?e.Style=t:typeof t=="string"?e.styleUrl=t:le(!1,38)}}var Lk=Rr(ti,{SimpleData:Pk});function Ik(n,r){pu(Lk,n,r)}function Pk(n,r){var t=n.getAttribute("name");if(t!==null){var e=Xr(n),i=r[r.length-1];i[t]=e}}var Nk=Rr(ti,{altitudeMode:Me(Xr),minAltitude:Me(bo),maxAltitude:Me(bo),north:Me(bo),south:Me(bo),east:Me(bo),west:Me(bo)});function Fk(n,r){var t=kr({},Nk,n,r);if(!!t){var e=r[r.length-1],i=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];e.extent=i,e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude)}}var Dk=Rr(ti,{minLodPixels:Me(bo),maxLodPixels:Me(bo),minFadeExtent:Me(bo),maxFadeExtent:Me(bo)});function jk(n,r){var t=kr({},Dk,n,r);if(!!t){var e=r[r.length-1];e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent)}}var Gk=Rr(ti,{LinearRing:Yn(S9)});function Bk(n,r){var t=kr([],Gk,n,r);if(t.length>0){var e=r[r.length-1];e.push.apply(e,t)}}var Uk=Rr(ti,{LinearRing:oi(S9)});function kk(n,r){var t=kr(void 0,Uk,n,r);if(t){var e=r[r.length-1];e[0]=t}}function zk(n,r){pu(ZU,n,r)}function Vk(n,r){var t=r[r.length-1],e=t.whens,i=kl(n,!1),a=Date.parse(i);e.push(isNaN(a)?0:a)}function gy(n,r){for(var t=ma(r),e=t.length==4?t[3]:1,i=[e*255,t[2],t[1],t[0]],a=0;a<4;++a){var c=Math.floor(i[a]).toString(16);i[a]=c.length==1?"0"+c:c}gi(n,i.join(""))}function Wk(n,r,t){var e=t[t.length-1],i=e.layout,a=e.stride,c;i==or.XY||i==or.XYM?c=2:i==or.XYZ||i==or.XYZM?c=3:le(!1,34);var f=r.length,p="";if(f>0){p+=r[0];for(var g=1;g<c;++g)p+=","+r[g];for(var m=a;m<f;m+=a){p+=" "+r[m];for(var g=1;g<c;++g)p+=","+r[m+g]}}gi(n,p)}var yy=Rr(ti,{Data:Re(Yk),value:Re(Xk),displayName:Re(Hk)});function Yk(n,r,t){n.setAttribute("name",r.name);var e={node:n},i=r.value;typeof i=="object"?(i!==null&&i.displayName&&Oi(e,yy,ks,[i.displayName],t,["displayName"]),i!==null&&i.value&&Oi(e,yy,ks,[i.value],t,["value"])):Oi(e,yy,ks,[i],t,["value"])}function Hk(n,r){kB(n,r)}function Xk(n,r){gi(n,r)}var Kk=Rr(ti,{Placemark:Re(F9)}),$k=function(n,r,t){var e=r[r.length-1].node;return bi(e.namespaceURI,"Placemark")};function Zk(n,r,t){var e={node:n};Oi(e,Kk,$k,r,t,void 0,this)}var qk=Va("Data");function Jk(n,r,t){for(var e={node:n},i=r.names,a=r.values,c=i.length,f=0;f<c;f++)Oi(e,yy,qk,[{name:i[f],value:a[f]}],t)}var b9=Rr(ti,["href"],Rr($0,["x","y","w","h"])),L9=Rr(ti,{href:Re(gi)},Rr($0,{x:Re(vu),y:Re(vu),w:Re(vu),h:Re(vu)})),Qk=function(n,r,t){return bi($0[0],"gx:"+t)};function tz(n,r,t){var e={node:n},i=t[t.length-1].node,a=b9[i.namespaceURI],c=du(r,a);Oi(e,L9,ks,c,t,a),a=b9[$0[0]],c=du(r,a),Oi(e,L9,Qk,c,t,a)}var ez=Rr(ti,["scale","heading","Icon","color","hotSpot"]),rz=Rr(ti,{Icon:Re(tz),color:Re(gy),heading:Re(vu),hotSpot:Re(Cz),scale:Re(G9)});function nz(n,r,t){var e={node:n},i={},a=r.getSrc(),c=r.getSize(),f=r.getImageSize(),p={href:a};if(c){p.w=c[0],p.h=c[1];var g=r.getAnchor(),m=r.getOrigin();if(m&&f&&m[0]!==0&&m[1]!==c[1]&&(p.x=m[0],p.y=f[1]-(m[1]+c[1])),g&&(g[0]!==c[0]/2||g[1]!==c[1]/2)){var O={x:g[0],xunits:Bl.PIXELS,y:c[1]-g[1],yunits:Bl.PIXELS};i.hotSpot=O}}i.Icon=p;var P=r.getScaleArray()[0],V=c;if(V===null&&(V=vv),V.length==2){var $=fy(V);P=P/$}P!==1&&(i.scale=P);var ot=r.getRotation();ot!==0&&(i.heading=ot);var yt=r.getColor();yt&&(i.color=yt);var Lt=t[t.length-1].node,zt=ez[Lt.namespaceURI],Ht=du(i,zt);Oi(e,rz,ks,Ht,t,zt)}var iz=Rr(ti,["color","scale"]),oz=Rr(ti,{color:Re(gy),scale:Re(G9)});function az(n,r,t){var e={node:n},i={},a=r.getFill();a&&(i.color=a.getColor());var c=r.getScale();c&&c!==1&&(i.scale=c);var f=t[t.length-1].node,p=iz[f.namespaceURI],g=du(i,p);Oi(e,oz,ks,g,t,p)}var sz=Rr(ti,["color","width"]),lz=Rr(ti,{color:Re(gy),width:Re(vu)});function uz(n,r,t){var e={node:n},i={color:r.getColor(),width:Number(r.getWidth())||1},a=t[t.length-1].node,c=sz[a.namespaceURI],f=du(i,c);Oi(e,lz,ks,f,t,c)}var cz={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},I9=function(n,r,t){if(n){var e=r[r.length-1].node;return bi(e.namespaceURI,cz[n.getType()])}},hz=Va("Point"),fz=Va("LineString"),dz=Va("LinearRing"),pz=Va("Polygon"),vz=Rr(ti,{LineString:Re(wp),Point:Re(wp),Polygon:Re(j9),GeometryCollection:Re(P9)});function P9(n,r,t){var e={node:n},i=r.getType(),a=[],c;i===Se.GEOMETRY_COLLECTION?(r.getGeometriesArrayRecursive().forEach(function(f){var p=f.getType();p===Se.MULTI_POINT?a=a.concat(f.getPoints()):p===Se.MULTI_LINE_STRING?a=a.concat(f.getLineStrings()):p===Se.MULTI_POLYGON?a=a.concat(f.getPolygons()):p===Se.POINT||p===Se.LINE_STRING||p===Se.POLYGON?a.push(f):le(!1,39)}),c=I9):i===Se.MULTI_POINT?(a=r.getPoints(),c=hz):i===Se.MULTI_LINE_STRING?(a=r.getLineStrings(),c=fz):i===Se.MULTI_POLYGON?(a=r.getPolygons(),c=pz):le(!1,39),Oi(e,vz,c,a,t)}var gz=Rr(ti,{LinearRing:Re(wp)});function N9(n,r,t){var e={node:n};Oi(e,gz,dz,[r],t)}var q3=Rr(ti,{ExtendedData:Re(Jk),MultiGeometry:Re(P9),LineString:Re(wp),LinearRing:Re(wp),Point:Re(wp),Polygon:Re(j9),Style:Re(Rz),address:Re(gi),description:Re(gi),name:Re(gi),open:Re(_p),phoneNumber:Re(gi),styleUrl:Re(gi),visibility:Re(_p)}),yz=Rr(ti,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),mz=Va("ExtendedData");function F9(n,r,t){var e={node:n};r.getId()&&n.setAttribute("id",r.getId());var i=r.getProperties(),a={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};a[r.getGeometryName()]=1;var c=Object.keys(i||{}).sort().filter(function(ye){return!a[ye]}),f=r.getStyleFunction();if(f){var p=f(r,0);if(p){var g=Array.isArray(p)?p:[p],m=g;if(r.getGeometry()&&(m=g.filter(function(ye){var ve=ye.getGeometryFunction()(r);if(ve){var Oe=ve.getType();return Oe===Se.GEOMETRY_COLLECTION?ve.getGeometriesArrayRecursive().filter(function(we){var je=we.getType();return je===Se.POINT||je===Se.MULTI_POINT}).length:Oe===Se.POINT||Oe===Se.MULTI_POINT}})),this.writeStyles_){var O=g,P=g;r.getGeometry()&&(O=g.filter(function(ye){var ve=ye.getGeometryFunction()(r);if(ve){var Oe=ve.getType();return Oe===Se.GEOMETRY_COLLECTION?ve.getGeometriesArrayRecursive().filter(function(we){var je=we.getType();return je===Se.LINE_STRING||je===Se.MULTI_LINE_STRING}).length:Oe===Se.LINE_STRING||Oe===Se.MULTI_LINE_STRING}}),P=g.filter(function(ye){var ve=ye.getGeometryFunction()(r);if(ve){var Oe=ve.getType();return Oe===Se.GEOMETRY_COLLECTION?ve.getGeometriesArrayRecursive().filter(function(we){var je=we.getType();return je===Se.POLYGON||je===Se.MULTI_POLYGON}).length:Oe===Se.POLYGON||Oe===Se.MULTI_POLYGON}})),i.Style={pointStyles:m,lineStyles:O,polyStyles:P}}if(m.length&&i.name===void 0){var V=m[0].getText();V&&(i.name=V.getText())}}}var $=t[t.length-1].node,ot=yz[$.namespaceURI],yt=du(i,ot);if(Oi(e,q3,ks,yt,t,ot),c.length>0){var Lt=du(i,c),zt={names:c,values:Lt};Oi(e,q3,mz,[zt],t)}var Ht=t[0],jt=r.getGeometry();jt&&(jt=Fa(jt,!0,Ht)),Oi(e,q3,I9,[jt],t)}var _z=Rr(ti,["extrude","tessellate","altitudeMode","coordinates"]),Ez=Rr(ti,{extrude:Re(_p),tessellate:Re(_p),altitudeMode:Re(gi),coordinates:Re(Wk)});function wp(n,r,t){var e=r.getFlatCoordinates(),i={node:n};i.layout=r.getLayout(),i.stride=r.getStride();var a=r.getProperties();a.coordinates=e;var c=t[t.length-1].node,f=_z[c.namespaceURI],p=du(a,f);Oi(i,Ez,ks,p,t,f)}var Sz=Rr(ti,["color","fill","outline"]),D9=Rr(ti,{outerBoundaryIs:Re(N9),innerBoundaryIs:Re(N9)}),wz=Va("innerBoundaryIs"),xz=Va("outerBoundaryIs");function j9(n,r,t){var e=r.getLinearRings(),i=e.shift(),a={node:n};Oi(a,D9,wz,e,t),Oi(a,D9,xz,[i],t)}var Tz=Rr(ti,{color:Re(gy),fill:Re(_p),outline:Re(_p)});function Oz(n,r,t){var e={node:n},i=r.getFill(),a=r.getStroke(),c={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:a?void 0:!1},f=t[t.length-1].node,p=Sz[f.namespaceURI],g=du(c,p);Oi(e,Tz,ks,g,t,p)}function G9(n,r){vu(n,Math.round(r*1e6)/1e6)}var Az=Rr(ti,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Mz=Rr(ti,{IconStyle:Re(nz),LabelStyle:Re(az),LineStyle:Re(uz),PolyStyle:Re(Oz)});function Rz(n,r,t){var e={node:n},i={};if(r.pointStyles.length){var a=r.pointStyles[0].getText();a&&(i.LabelStyle=a);var c=r.pointStyles[0].getImage();c&&typeof c.getSrc=="function"&&(i.IconStyle=c)}if(r.lineStyles.length){var f=r.lineStyles[0].getStroke();f&&(i.LineStyle=f)}if(r.polyStyles.length){var f=r.polyStyles[0].getStroke();f&&!i.LineStyle&&(i.LineStyle=f),i.PolyStyle=r.polyStyles[0]}var p=t[t.length-1].node,g=Az[p.namespaceURI],m=du(i,g);Oi(e,Mz,ks,m,t,g)}function Cz(n,r){n.setAttribute("x",String(r.x)),n.setAttribute("y",String(r.y)),n.setAttribute("xunits",r.xunits),n.setAttribute("yunits",r.yunits)}var bz=ek,Lz=s("7915"),Iz=s.n(Lz),B9=gt(),gv=function(){function n(r,t,e,i,a){this.styleFunction,this.extent_,this.id_=a,this.type_=r,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=e,this.properties_=i}return n.prototype.get=function(r){return this.properties_[r]},n.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===Se.POINT?st(this.flatCoordinates_):Ee(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},n.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var r=kn(this.getExtent());this.flatInteriorPoints_=U0(this.flatCoordinates_,0,this.ends_,2,r,0)}return this.flatInteriorPoints_},n.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var r=V7(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Zs(this.flatCoordinates_,0,this.ends_,2,r)}return this.flatInteriorPoints_},n.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=H2(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},n.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var r=this.flatCoordinates_,t=0,e=this.ends_,i=0,a=e.length;i<a;++i){var c=e[i],f=H2(r,t,c,2,.5);Object(et.c)(this.flatMidpoints_,f),t=c}}return this.flatMidpoints_},n.prototype.getId=function(){return this.id_},n.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},n.prototype.getGeometry=function(){return this},n.prototype.getSimplifiedGeometry=function(r){return this},n.prototype.simplifyTransformed=function(r,t){return this},n.prototype.getProperties=function(){return this.properties_},n.prototype.getStride=function(){return 2},n.prototype.getStyleFunction=function(){return this.styleFunction},n.prototype.getType=function(){return this.type_},n.prototype.transform=function(r){r=zn(r);var t=r.getExtent(),e=r.getWorldExtent();if(t&&e){var i=an(e)/an(t);Qe(B9,e[0],e[3],i,-i,0,0,0),vn(this.flatCoordinates_,0,this.flatCoordinates_.length,2,B9,this.flatCoordinates_)}},n.prototype.getEnds=function(){return this.ends_},n}();gv.prototype.getEndss=gv.prototype.getEnds,gv.prototype.getFlatCoordinates=gv.prototype.getOrientedFlatCoordinates;var U9=gv,Pz=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nz=function(n){Pz(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=new $a({code:"",units:Zi.TILE_PIXELS}),e.featureClass_=i.featureClass?i.featureClass:U9,e.geometryName_=i.geometryName,e.layerName_=i.layerName?i.layerName:"layer",e.layers_=i.layers?i.layers:null,e.idProperty_=i.idProperty,e.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],e}return r.prototype.readRawGeometry_=function(t,e,i,a){t.pos=e.geometry;for(var c=t.readVarint()+t.pos,f=1,p=0,g=0,m=0,O=0,P=0;t.pos<c;){if(!p){var V=t.readVarint();f=V&7,p=V>>3}p--,f===1||f===2?(g+=t.readSVarint(),m+=t.readSVarint(),f===1&&O>P&&(a.push(O),P=O),i.push(g,m),O+=2):f===7?O>P&&(i.push(i[P],i[P+1]),O+=2):le(!1,59)}O>P&&(a.push(O),P=O)},r.prototype.createFeature_=function(t,e,i){var a=e.type;if(a===0)return null;var c,f=e.properties,p;this.idProperty_?(p=f[this.idProperty_],delete f[this.idProperty_]):p=e.id,f[this.layerName_]=e.layer.name;var g=[],m=[];this.readRawGeometry_(t,e,g,m);var O=Bz(a,m.length);if(this.featureClass_===U9)c=new this.featureClass_(O,g,m,f,p),c.transform(i.dataProjection);else{var P=void 0;if(O==Se.POLYGON){for(var V=[],$=0,ot=0,yt=0,Lt=m.length;yt<Lt;++yt){var zt=m[yt];if(!Fu(g,$,zt,2))V.push(m.slice(ot,yt+1));else{if(V.length===0)continue;V[V.length-1].push(m[ot])}ot=yt+1,$=zt}V.length>1?P=new wl(g,or.XY,V):P=new fo(g,or.XY,m)}else P=O===Se.POINT?new Fi(g,or.XY):O===Se.LINE_STRING?new Jo(g,or.XY):O===Se.POLYGON?new fo(g,or.XY,m):O===Se.MULTI_POINT?new Sc(g,or.XY):O===Se.MULTI_LINE_STRING?new cu(g,or.XY,m):null;var Ht=this.featureClass_;c=new Ht,this.geometryName_&&c.setGeometryName(this.geometryName_);var jt=Fa(P,!1,i);c.setGeometry(jt),c.setId(p),c.setProperties(f,!0)}return c},r.prototype.getType=function(){return Hc.ARRAY_BUFFER},r.prototype.readFeatures=function(t,e){var i=this.layers_,a=this.adaptOptions(e),c=zn(a.dataProjection);c.setWorldExtent(a.extent),a.dataProjection=c;var f=new Iz.a(t),p=f.readFields(Fz,{}),g=[];for(var m in p)if(!(i&&i.indexOf(m)==-1)){var O=p[m],P=O?[0,0,O.extent,O.extent]:null;c.setExtent(P);for(var V=0,$=O.length;V<$;++V){var ot=Gz(f,O,V),yt=this.createFeature_(f,ot,a);yt!==null&&g.push(yt)}}return g},r.prototype.readProjection=function(t){return this.dataProjection},r.prototype.setLayers=function(t){this.layers_=t},r}(uv);function Fz(n,r,t){if(n===3){var e={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(Dz,e,i),e.length=e.features.length,e.length&&(r[e.name]=e)}}function Dz(n,r,t){if(n===15)r.version=t.readVarint();else if(n===1)r.name=t.readString();else if(n===5)r.extent=t.readVarint();else if(n===2)r.features.push(t.pos);else if(n===3)r.keys.push(t.readString());else if(n===4){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;)n=t.readVarint()>>3,e=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;r.values.push(e)}}function jz(n,r,t){if(n==1)r.id=t.readVarint();else if(n==2)for(var e=t.readVarint()+t.pos;t.pos<e;){var i=r.layer.keys[t.readVarint()],a=r.layer.values[t.readVarint()];r.properties[i]=a}else n==3?r.type=t.readVarint():n==4&&(r.geometry=t.pos)}function Gz(n,r,t){n.pos=r.features[t];var e=n.readVarint()+n.pos,i={layer:r,type:0,properties:{}};return n.readFields(jz,i,e),i}function Bz(n,r){var t;return n===1?t=r===1?Se.POINT:Se.MULTI_POINT:n===2?t=r===1?Se.LINE_STRING:Se.MULTI_LINE_STRING:n===3&&(t=Se.POLYGON),t}var Uz=Nz,kz=function(){function n(){}return n.prototype.read=function(r){if(r)if(typeof r=="string"){var t=x0(r);return this.readFromDocument(t)}else return w0(r)?this.readFromDocument(r):this.readFromNode(r);else return null},n.prototype.readFromDocument=function(r){for(var t=r.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},n.prototype.readFromNode=function(r){},n}(),J3=kz,zz="http://www.w3.org/1999/xlink";function xp(n){return n.getAttributeNS(zz,"href")}var Vz=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gu=[null,"http://www.opengis.net/ows/1.1"],Wz=Rr(gu,{ServiceIdentification:Me(vV),ServiceProvider:Me(yV),OperationsMetadata:Me(dV)}),Yz=function(n){Vz(r,n);function r(){return n.call(this)||this}return r.prototype.readFromNode=function(t){var e=kr({},Wz,t,[]);return e||null},r}(J3),Hz=Rr(gu,{DeliveryPoint:Me(Xr),City:Me(Xr),AdministrativeArea:Me(Xr),PostalCode:Me(Xr),Country:Me(Xr),ElectronicMailAddress:Me(Xr)}),Xz=Rr(gu,{Value:va(mV)}),Kz=Rr(gu,{AllowedValues:Me(aV)}),$z=Rr(gu,{Phone:Me(pV),Address:Me(oV)}),Zz=Rr(gu,{HTTP:Me(hV)}),qz=Rr(gu,{Get:va(cV),Post:void 0}),Jz=Rr(gu,{DCP:Me(uV)}),Qz=Rr(gu,{Operation:fV}),tV=Rr(gu,{Voice:Me(Xr),Facsimile:Me(Xr)}),eV=Rr(gu,{Constraint:va(sV)}),rV=Rr(gu,{IndividualName:Me(Xr),PositionName:Me(Xr),ContactInfo:Me(lV)}),nV=Rr(gu,{Abstract:Me(Xr),AccessConstraints:Me(Xr),Fees:Me(Xr),Title:Me(Xr),ServiceTypeVersion:Me(Xr),ServiceType:Me(Xr)}),iV=Rr(gu,{ProviderName:Me(Xr),ProviderSite:Me(xp),ServiceContact:Me(gV)});function oV(n,r){return kr({},Hz,n,r)}function aV(n,r){return kr({},Xz,n,r)}function sV(n,r){var t=n.getAttribute("name");if(!!t)return kr({name:t},Kz,n,r)}function lV(n,r){return kr({},$z,n,r)}function uV(n,r){return kr({},Zz,n,r)}function cV(n,r){var t=xp(n);if(!!t)return kr({href:t},eV,n,r)}function hV(n,r){return kr({},qz,n,r)}function fV(n,r){var t=n.getAttribute("name"),e=kr({},Jz,n,r);if(!!e){var i=r[r.length-1];i[t]=e}}function dV(n,r){return kr({},Qz,n,r)}function pV(n,r){return kr({},tV,n,r)}function vV(n,r){return kr({},nV,n,r)}function gV(n,r){return kr({},rV,n,r)}function yV(n,r){return kr({},iV,n,r)}function mV(n,r){return Xr(n)}var k9=Yz;function z9(n,r,t,e,i,a){var c,f;i!==void 0?(c=i,f=a!==void 0?a:0):(c=[],f=0);for(var p=r;p<t;){var g=n[p++];c[f++]=n[p++],c[f++]=g;for(var m=2;m<e;++m)c[f++]=n[p++]}return c.length=f,c}var _V=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EV=function(n){_V(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=zn("EPSG:4326"),e.factor_=i.factor?i.factor:1e5,e.geometryLayout_=i.geometryLayout?i.geometryLayout:or.XY,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);return new In(i)},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return[i]},r.prototype.readGeometryFromText=function(t,e){var i=La(this.geometryLayout_),a=wV(t,i,this.factor_);z9(a,0,a.length,i,a);var c=Gi(a,0,a.length,i),f=new Jo(c,this.geometryLayout_);return Fa(f,!1,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):(le(!1,40),"")},r.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},r.prototype.writeGeometryText=function(t,e){t=Fa(t,!0,this.adaptOptions(e));var i=t.getFlatCoordinates(),a=t.getStride();return z9(i,0,i.length,a,i),SV(i,a,this.factor_)},r}(k3);function SV(n,r,t){var e=t||1e5,i,a=new Array(r);for(i=0;i<r;++i)a[i]=0;for(var c=0,f=n.length;c<f;)for(i=0;i<r;++i,++c){var p=n[c],g=p-a[i];a[i]=p,n[c]=g}return xV(n,e)}function wV(n,r,t){var e=t||1e5,i,a=new Array(r);for(i=0;i<r;++i)a[i]=0;for(var c=TV(n,e),f=0,p=c.length;f<p;)for(i=0;i<r;++i,++f)a[i]+=c[f],c[f]=a[i];return c}function xV(n,r){for(var t=r||1e5,e=0,i=n.length;e<i;++e)n[e]=Math.round(n[e]*t);return OV(n)}function TV(n,r){for(var t=r||1e5,e=AV(n),i=0,a=e.length;i<a;++i)e[i]/=t;return e}function OV(n){for(var r=0,t=n.length;r<t;++r){var e=n[r];n[r]=e<0?~(e<<1):e<<1}return MV(n)}function AV(n){for(var r=RV(n),t=0,e=r.length;t<e;++t){var i=r[t];r[t]=i&1?~(i>>1):i>>1}return r}function MV(n){for(var r="",t=0,e=n.length;t<e;++t)r+=CV(n[t]);return r}function RV(n){for(var r=[],t=0,e=0,i=0,a=n.length;i<a;++i){var c=n.charCodeAt(i)-63;t|=(c&31)<<e,c<32?(r.push(t),t=0,e=0):e+=5}return r}function CV(n){for(var r,t="";n>=32;)r=(32|n&31)+63,t+=String.fromCharCode(r),n>>=5;return r=n+63,t+=String.fromCharCode(r),t}var bV=EV,LV=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IV=function(n){LV(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.layerName_=i.layerName,e.layers_=i.layers?i.layers:null,e.dataProjection=zn(i.dataProjection?i.dataProjection:"EPSG:4326"),e}return r.prototype.readFeaturesFromObject=function(t,e){if(t.type=="Topology"){var i=t,a=void 0,c=null,f=null;i.transform&&(a=i.transform,c=a.scale,f=a.translate);var p=i.arcs;a&&kV(p,c,f);var g=[],m=i.objects,O=this.layerName_,P=void 0;for(var V in m)this.layers_&&this.layers_.indexOf(V)==-1||(m[V].type==="GeometryCollection"?(P=m[V],g.push.apply(g,UV(P,p,c,f,O,V,e))):(P=m[V],g.push(V9(P,p,c,f,O,V,e))));return g}else return[]},r.prototype.readProjectionFromObject=function(t){return this.dataProjection},r}(R3),PV={Point:NV,LineString:DV,Polygon:GV,MultiPoint:FV,MultiLineString:jV,MultiPolygon:BV};function my(n,r){for(var t=[],e,i=0,a=n.length;i<a;++i)if(e=n[i],i>0&&t.pop(),e>=0)for(var c=r[e],f=0,p=c.length;f<p;++f)t.push(c[f].slice(0));else for(var c=r[~e],f=c.length-1;f>=0;--f)t.push(c[f].slice(0));return t}function NV(n,r,t){var e=n.coordinates;return r&&t&&Q3(e,r,t),new Fi(e)}function FV(n,r,t){var e=n.coordinates;if(r&&t)for(var i=0,a=e.length;i<a;++i)Q3(e[i],r,t);return new Sc(e)}function DV(n,r){var t=my(n.arcs,r);return new Jo(t)}function jV(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=my(n.arcs[e],r);return new cu(t)}function GV(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=my(n.arcs[e],r);return new fo(t)}function BV(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e){for(var a=n.arcs[e],c=[],f=0,p=a.length;f<p;++f)c[f]=my(a[f],r);t[e]=c}return new wl(t)}function UV(n,r,t,e,i,a,c){for(var f=n.geometries,p=[],g=0,m=f.length;g<m;++g)p[g]=V9(f[g],r,t,e,i,a,c);return p}function V9(n,r,t,e,i,a,c){var f=null,p=n.type;if(p){var g=PV[p];p==="Point"||p==="MultiPoint"?f=g(n,t,e):f=g(n,r),f=Fa(f,!1,c)}var m=new In({geometry:f});n.id!==void 0&&m.setId(n.id);var O=n.properties;return i&&(O||(O={}),O[i]=a),O&&m.setProperties(O,!0),m}function kV(n,r,t){for(var e=0,i=n.length;e<i;++e)zV(n[e],r,t)}function zV(n,r,t){for(var e=0,i=0,a=0,c=n.length;a<c;++a){var f=n[a];e+=f[0],i+=f[1],f[0]=e,f[1]=i,Q3(f,r,t)}}function Q3(n,r,t){n[0]=n[0]*r[0]+t[0],n[1]=n[1]*r[1]+t[1]}var VV=IV,WV=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bo=function(n){WV(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.schemaLocation=i.schemaLocation?i.schemaLocation:e.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",e}return r}(Ji);Bo.prototype.namespace="http://www.opengis.net/gml/3.2",Bo.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:oi(Ji.prototype.readFlatPos),posList:oi(Ji.prototype.readFlatPosList),coordinates:oi(Ep.prototype.readFlatCoordinates)}},Bo.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Ji.prototype.interiorParser,exterior:Ji.prototype.exteriorParser}},Bo.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:oi(oo.prototype.readPoint),MultiPoint:oi(oo.prototype.readMultiPoint),LineString:oi(oo.prototype.readLineString),MultiLineString:oi(oo.prototype.readMultiLineString),LinearRing:oi(oo.prototype.readLinearRing),Polygon:oi(oo.prototype.readPolygon),MultiPolygon:oi(oo.prototype.readMultiPolygon),Surface:oi(Bo.prototype.readSurface),MultiSurface:oi(Ji.prototype.readMultiSurface),Curve:oi(Bo.prototype.readCurve),MultiCurve:oi(Ji.prototype.readMultiCurve),Envelope:oi(Bo.prototype.readEnvelope)}},Bo.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:Yn(Ji.prototype.curveMemberParser),curveMembers:Yn(Ji.prototype.curveMemberParser)}},Bo.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Yn(Ji.prototype.surfaceMemberParser),surfaceMembers:Yn(Ji.prototype.surfaceMemberParser)}},Bo.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Yn(oo.prototype.readLineString),Curve:Yn(Ji.prototype.readCurve)}},Bo.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Yn(oo.prototype.readPolygon),Surface:Yn(Ji.prototype.readSurface)}},Bo.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:oi(Ji.prototype.readPatch)}},Bo.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:oi(Ji.prototype.readSegment)}},Bo.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Yn(Ji.prototype.readFlatPosList),upperCorner:Yn(Ji.prototype.readFlatPosList)}},Bo.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:oi(Ji.prototype.readPolygonPatch)}},Bo.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:oi(Ji.prototype.readLineStringSegment)}},Bo.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:Yn(oo.prototype.pointMemberParser),pointMembers:Yn(oo.prototype.pointMemberParser)}},Bo.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Yn(oo.prototype.lineStringMemberParser),lineStringMembers:Yn(oo.prototype.lineStringMemberParser)}},Bo.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:Yn(oo.prototype.polygonMemberParser),polygonMembers:Yn(oo.prototype.polygonMemberParser)}},Bo.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Yn(oo.prototype.readFlatCoordinatesFromNode)}},Bo.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Yn(oo.prototype.readLineString)}},Bo.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Yn(oo.prototype.readPolygon)}},Bo.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:oi(oo.prototype.readFlatLinearRing)}},Bo.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:Re(Ji.prototype.writeRing),interior:Re(Ji.prototype.writeRing)}},Bo.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Re(gi),upperCorner:Re(gi)}},Bo.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Re(Ji.prototype.writeSurfaceOrPolygonMember),polygonMember:Re(Ji.prototype.writeSurfaceOrPolygonMember)}},Bo.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:Re(Ji.prototype.writePointMember)}},Bo.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Re(Ji.prototype.writeLineStringOrCurveMember),curveMember:Re(Ji.prototype.writeLineStringOrCurveMember)}},Bo.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:Re(Ji.prototype.writeCurveOrLineString),MultiCurve:Re(Ji.prototype.writeMultiCurveOrLineString),Point:Re(Bo.prototype.writePoint),MultiPoint:Re(Ji.prototype.writeMultiPoint),LineString:Re(Ji.prototype.writeCurveOrLineString),MultiLineString:Re(Ji.prototype.writeMultiCurveOrLineString),LinearRing:Re(Ji.prototype.writeLinearRing),Polygon:Re(Ji.prototype.writeSurfaceOrPolygon),MultiPolygon:Re(Ji.prototype.writeMultiSurfaceOrPolygon),Surface:Re(Ji.prototype.writeSurfaceOrPolygon),MultiSurface:Re(Ji.prototype.writeMultiSurfaceOrPolygon),Envelope:Re(Ji.prototype.writeEnvelope)}};var t4=Bo,YV=function(){function n(r){this.tagName_=r}return n.prototype.getTagName=function(){return this.tagName_},n}(),Tp=YV,HV=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XV=function(n){HV(r,n);function r(t,e){var i=n.call(this,t)||this;return i.conditions=e,le(i.conditions.length>=2,57),i}return r}(Tp),W9=XV,KV=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$V=function(n){KV(r,n);function r(t){return n.call(this,"And",Array.prototype.slice.call(arguments))||this}return r}(W9),ZV=$V,qV=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JV=function(n){qV(r,n);function r(t,e,i){var a=n.call(this,"BBOX")||this;if(a.geometryName=t,a.extent=e,e.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return a.srsName=i,a}return r}(Tp),QV=JV,tW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eW=function(n){tW(r,n);function r(t,e,i,a){var c=n.call(this,t)||this;return c.geometryName=e||"the_geom",c.geometry=i,c.srsName=a,c}return r}(Tp),yv=eW,rW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){rW(r,n);function r(t,e,i){return n.call(this,"Contains",t,e,i)||this}return r})(yv);var nW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){nW(r,n);function r(t,e,i,a,c){var f=n.call(this,"DWithin",t,e,c)||this;return f.distance=i,f.unit=a,f}return r})(yv);var iW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){iW(r,n);function r(t,e,i){return n.call(this,"Disjoint",t,e,i)||this}return r})(yv);var oW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aW=function(n){oW(r,n);function r(t,e){var i=n.call(this,t)||this;return i.propertyName=e,i}return r}(Tp),mv=aW,sW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){sW(r,n);function r(t,e,i){var a=n.call(this,"During",t)||this;return a.begin=e,a.end=i,a}return r})(mv);var lW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uW=function(n){lW(r,n);function r(t,e,i,a){var c=n.call(this,t,e)||this;return c.expression=i,c.matchCase=a,c}return r}(mv),Op=uW,cW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){cW(r,n);function r(t,e,i){return n.call(this,"PropertyIsEqualTo",t,e,i)||this}return r})(Op);var hW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){hW(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThan",t,e)||this}return r})(Op);var fW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){fW(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)||this}return r})(Op);var dW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){dW(r,n);function r(t,e,i){return n.call(this,"Intersects",t,e,i)||this}return r})(yv);var pW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){pW(r,n);function r(t,e,i){var a=n.call(this,"PropertyIsBetween",t)||this;return a.lowerBoundary=e,a.upperBoundary=i,a}return r})(mv);var vW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){vW(r,n);function r(t,e,i,a,c,f){var p=n.call(this,"PropertyIsLike",t)||this;return p.pattern=e,p.wildCard=i!==void 0?i:"*",p.singleChar=a!==void 0?a:".",p.escapeChar=c!==void 0?c:"!",p.matchCase=f,p}return r})(mv);var gW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){gW(r,n);function r(t){return n.call(this,"PropertyIsNull",t)||this}return r})(mv);var yW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){yW(r,n);function r(t,e){return n.call(this,"PropertyIsLessThan",t,e)||this}return r})(Op);var mW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){mW(r,n);function r(t,e){return n.call(this,"PropertyIsLessThanOrEqualTo",t,e)||this}return r})(Op);var _W=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){_W(r,n);function r(t){var e=n.call(this,"Not")||this;return e.condition=t,e}return r})(Tp);var EW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){EW(r,n);function r(t,e,i){return n.call(this,"PropertyIsNotEqualTo",t,e,i)||this}return r})(Op);var SW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){SW(r,n);function r(t){return n.call(this,"Or",Array.prototype.slice.call(arguments))||this}return r})(W9);var wW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){wW(r,n);function r(t){var e=n.call(this,"ResourceId")||this;return e.rid=t,e}return r})(Tp);var xW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){xW(r,n);function r(t,e,i){return n.call(this,"Within",t,e,i)||this}return r})(yv);function TW(n){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ZV,r))}function OW(n,r,t){return new QV(n,r,t)}var AW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Y9={"http://www.opengis.net/gml":{boundedBy:Me(oo.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:Yn(oo.prototype.readFeaturesInternal)}},MW={"http://www.opengis.net/wfs":{totalInserted:Me(cs),totalUpdated:Me(cs),totalDeleted:Me(cs)},"http://www.opengis.net/wfs/2.0":{totalInserted:Me(cs),totalUpdated:Me(cs),totalDeleted:Me(cs)}},RW={"http://www.opengis.net/wfs":{TransactionSummary:Me($9,"transactionSummary"),InsertResults:Me(q9,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:Me($9,"transactionSummary"),InsertResults:Me(q9,"insertIds")}},CW={"http://www.opengis.net/wfs":{PropertyName:Re(gi)},"http://www.opengis.net/wfs/2.0":{PropertyName:Re(gi)}},H9={"http://www.opengis.net/wfs":{Insert:Re(J9),Update:Re(eS),Delete:Re(tS),Property:Re(rS),Native:Re(nS)},"http://www.opengis.net/wfs/2.0":{Insert:Re(J9),Update:Re(eS),Delete:Re(tS),Property:Re(rS),Native:Re(nS)}},X9="feature",e4="http://www.w3.org/2000/xmlns/",r4={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},n4={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},i4={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},K9={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},o4={"2.0.0":t4,"1.1.0":Ji,"1.0.0":Ep},bW="1.1.0",LW=function(n){AW(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.version_=i.version?i.version:bW,e.featureType_=i.featureType,e.featureNS_=i.featureNS,e.gmlFormat_=i.gmlFormat?i.gmlFormat:new o4[e.version_],e.schemaLocation_=i.schemaLocation?i.schemaLocation:K9[e.version_],e}return r.prototype.getFeatureType=function(){return this.featureType_},r.prototype.setFeatureType=function(t){this.featureType_=t},r.prototype.readFeaturesFromNode=function(t,e){var i={node:t};Object(yn.a)(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(yn.a)(i,this.getReadOptions(t,e||{}));var a=[i],c;this.version_==="2.0.0"?c=Y9:c=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var f=kr([],c,t,a,this.gmlFormat_);return f||(f=[]),f},r.prototype.readTransactionResponse=function(t){if(t)if(typeof t=="string"){var e=x0(t);return this.readTransactionResponseFromDocument(e)}else return w0(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t);else return},r.prototype.readFeatureCollectionMetadata=function(t){if(t)if(typeof t=="string"){var e=x0(t);return this.readFeatureCollectionMetadataFromDocument(e)}else return w0(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t);else return},r.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},r.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},i=K0(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=i,kr(e,Y9,t,[],this.gmlFormat_)},r.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},r.prototype.readTransactionResponseFromNode=function(t){return kr({},RW,t,[])},r.prototype.writeGetFeature=function(t){var e=this,i=bi(n4[this.version_],"GetFeature");i.setAttribute("service","WFS"),i.setAttribute("version",this.version_),t.handle&&i.setAttribute("handle",t.handle),t.outputFormat&&i.setAttribute("outputFormat",t.outputFormat),t.maxFeatures!==void 0&&i.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&i.setAttribute("resultType",t.resultType),t.startIndex!==void 0&&i.setAttribute("startIndex",String(t.startIndex)),t.count!==void 0&&i.setAttribute("count",String(t.count)),t.viewParams!==void 0&&i.setAttribute("viewParams",t.viewParams),i.setAttributeNS(ed,"xsi:schemaLocation",this.schemaLocation_);var a={node:i};if(Object(yn.a)(a,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),le(Array.isArray(t.featureTypes),11),typeof t.featureTypes[0]=="string"){var c=t.filter;t.bbox&&(le(t.geometryName,12),c=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,c)),Object(yn.a)(a,{geometryName:t.geometryName,filter:c}),dS(i,t.featureTypes,[a])}else t.featureTypes.forEach(function(f){var p=e.combineBboxAndFilter(f.geometryName,f.bbox,t.srsName,t.filter);Object(yn.a)(a,{geometryName:f.geometryName,filter:p}),dS(i,[f.name],[a])});return i},r.prototype.combineBboxAndFilter=function(t,e,i,a){var c=OW(t,e,i);return a?TW(a,c):c},r.prototype.writeTransaction=function(t,e,i,a){var c=[],f=a.version?a.version:this.version_,p=bi(n4[f],"Transaction");p.setAttribute("service","WFS"),p.setAttribute("version",f);var g;a&&(g=a.gmlOptions?a.gmlOptions:{},a.handle&&p.setAttribute("handle",a.handle)),p.setAttributeNS(ed,"xsi:schemaLocation",K9[f]);var m=IW(p,g,f,a);return t&&_y("Insert",t,c,m),e&&_y("Update",e,c,m),i&&_y("Delete",i,c,m),a.nativeElements&&_y("Native",a.nativeElements,c,m),p},r.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},r.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(!(e.childNodes.length===0||e.childNodes.length===1&&e.firstChild.nodeType===3)){var i=[{}];return this.gmlFormat_.readGeometryElement(e,i),zn(i.pop().srsName)}}return null},r}(hv);function IW(n,r,t,e){var i=e.featurePrefix?e.featurePrefix:X9,a;t==="1.0.0"?a=2:t==="1.1.0"?a=3:t==="2.0.0"&&(a=3.2);var c=Object(yn.a)({node:n},{version:t,featureNS:e.featureNS,featureType:e.featureType,featurePrefix:i,gmlVersion:a,hasZ:e.hasZ,srsName:e.srsName},r);return c}function _y(n,r,t,e){Oi(e,H9,Va(n),r,t)}function $9(n,r){return kr({},MW,n,r)}var PW={"http://www.opengis.net/ogc":{FeatureId:Yn(function(n,r){return n.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:Yn(function(n,r){return n.getAttribute("fid")})}};function Z9(n,r){pu(PW,n,r)}var NW={"http://www.opengis.net/wfs":{Feature:Z9},"http://www.opengis.net/wfs/2.0":{Feature:Z9}};function q9(n,r){return kr([],NW,n,r)}function J9(n,r,t){var e=t[t.length-1],i=e.featureType,a=e.featureNS,c=e.gmlVersion,f=bi(a,i);n.appendChild(f),c===2?Ep.prototype.writeFeatureElement(f,r,t):c===3?Ji.prototype.writeFeatureElement(f,r,t):t4.prototype.writeFeatureElement(f,r,t)}function Q9(n,r,t){var e=t[t.length-1],i=e.version,a=r4[i],c=bi(a,"Filter"),f=bi(a,"FeatureId");c.appendChild(f),f.setAttribute("fid",r),n.appendChild(c)}function a4(n,r){n=n||X9;var t=n+":";return r.indexOf(t)===0?r:t+r}function tS(n,r,t){var e=t[t.length-1];le(r.getId()!==void 0,26);var i=e.featureType,a=e.featurePrefix,c=e.featureNS,f=a4(a,i);n.setAttribute("typeName",f),n.setAttributeNS(e4,"xmlns:"+a,c);var p=r.getId();p!==void 0&&Q9(n,p,t)}function eS(n,r,t){var e=t[t.length-1];le(r.getId()!==void 0,27);var i=e.version,a=e.featureType,c=e.featurePrefix,f=e.featureNS,p=a4(c,a),g=r.getGeometryName();n.setAttribute("typeName",p),n.setAttributeNS(e4,"xmlns:"+c,f);var m=r.getId();if(m!==void 0){for(var O=r.getKeys(),P=[],V=0,$=O.length;V<$;V++){var ot=r.get(O[V]);if(ot!==void 0){var yt=O[V];ot&&typeof ot.getSimplifiedGeometry=="function"&&(yt=g),P.push({name:yt,value:ot})}}Oi({version:i,gmlVersion:e.gmlVersion,node:n,hasZ:e.hasZ,srsName:e.srsName},H9,Va("Property"),P,t),Q9(n,m,t)}}function rS(n,r,t){var e=t[t.length-1],i=e.version,a=n4[i],c=bi(a,"Name"),f=e.gmlVersion;if(n.appendChild(c),gi(c,r.name),r.value!==void 0&&r.value!==null){var p=bi(a,"Value");n.appendChild(p),r.value&&typeof r.value.getSimplifiedGeometry=="function"?f===2?Ep.prototype.writeGeometryElement(p,r.value,t):f===3?Ji.prototype.writeGeometryElement(p,r.value,t):t4.prototype.writeGeometryElement(p,r.value,t):gi(p,r.value)}}function nS(n,r,t){r.vendorId&&n.setAttribute("vendorId",r.vendorId),r.safeToIgnore!==void 0&&n.setAttribute("safeToIgnore",String(r.safeToIgnore)),r.value!==void 0&&gi(n,r.value)}var Ey={"http://www.opengis.net/wfs":{Query:Re(iS)},"http://www.opengis.net/wfs/2.0":{Query:Re(iS)},"http://www.opengis.net/ogc":{During:Re(sS),And:Re(Sy),Or:Re(Sy),Not:Re(lS),BBOX:Re(oS),Contains:Re(Wh),Intersects:Re(Wh),Within:Re(Wh),DWithin:Re(aS),PropertyIsEqualTo:Re(wc),PropertyIsNotEqualTo:Re(wc),PropertyIsLessThan:Re(wc),PropertyIsLessThanOrEqualTo:Re(wc),PropertyIsGreaterThan:Re(wc),PropertyIsGreaterThanOrEqualTo:Re(wc),PropertyIsNull:Re(uS),PropertyIsBetween:Re(cS),PropertyIsLike:Re(hS)},"http://www.opengis.net/fes/2.0":{During:Re(sS),And:Re(Sy),Or:Re(Sy),Not:Re(lS),BBOX:Re(oS),Contains:Re(Wh),Disjoint:Re(Wh),Intersects:Re(Wh),ResourceId:Re(DW),Within:Re(Wh),DWithin:Re(aS),PropertyIsEqualTo:Re(wc),PropertyIsNotEqualTo:Re(wc),PropertyIsLessThan:Re(wc),PropertyIsLessThanOrEqualTo:Re(wc),PropertyIsGreaterThan:Re(wc),PropertyIsGreaterThanOrEqualTo:Re(wc),PropertyIsNull:Re(uS),PropertyIsBetween:Re(cS),PropertyIsLike:Re(hS)}};function iS(n,r,t){var e=t[t.length-1],i=e.version,a=e.featurePrefix,c=e.featureNS,f=e.propertyNames,p=e.srsName,g;a?g=a4(a,r):g=r;var m;i==="2.0.0"?m="typeNames":m="typeName",n.setAttribute(m,g),p&&n.setAttribute("srsName",p),c&&n.setAttributeNS(e4,"xmlns:"+a,c);var O=Object(yn.a)({},e);O.node=n,Oi(O,CW,Va("PropertyName"),f,t);var P=e.filter;if(P){var V=bi(Ty(i),"Filter");n.appendChild(V),FW(V,P,t)}}function FW(n,r,t){var e=t[t.length-1],i={node:n};Object(yn.a)(i,{context:e}),Oi(i,Ey,Va(r.getTagName()),[r],t)}function oS(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;e.srsName=r.srsName;var c=o4[a];Ap(a,n,r.geometryName),c.prototype.writeGeometryElement(n,r.extent,t)}function DW(n,r,t){n.setAttribute("rid",r.rid)}function Wh(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;e.srsName=r.srsName;var c=o4[a];Ap(a,n,r.geometryName),c.prototype.writeGeometryElement(n,r.geometry,t)}function aS(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;Wh(n,r,t);var c=bi(Ty(a),"Distance");gi(c,r.distance.toString()),a==="2.0.0"?c.setAttribute("uom",r.unit):c.setAttribute("units",r.unit),n.appendChild(c)}function sS(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;wy(i4[a],"ValueReference",n,r.propertyName);var c=bi(H0,"TimePeriod");n.appendChild(c);var f=bi(H0,"begin");c.appendChild(f),fS(f,r.begin);var p=bi(H0,"end");c.appendChild(p),fS(p,r.end)}function Sy(n,r,t){var e=t[t.length-1],i=e.context,a={node:n};Object(yn.a)(a,{context:i});for(var c=r.conditions,f=0,p=c.length;f<p;++f){var g=c[f];Oi(a,Ey,Va(g.getTagName()),[g],t)}}function lS(n,r,t){var e=t[t.length-1],i=e.context,a={node:n};Object(yn.a)(a,{context:i});var c=r.condition;Oi(a,Ey,Va(c.getTagName()),[c],t)}function wc(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),Ap(a,n,r.propertyName),xy(a,n,""+r.expression)}function uS(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;Ap(a,n,r.propertyName)}function cS(n,r,t){var e=t[t.length-1],i=e.context,a=i.version,c=Ty(a);Ap(a,n,r.propertyName);var f=bi(c,"LowerBoundary");n.appendChild(f),xy(a,f,""+r.lowerBoundary);var p=bi(c,"UpperBoundary");n.appendChild(p),xy(a,p,""+r.upperBoundary)}function hS(n,r,t){var e=t[t.length-1],i=e.context,a=i.version;n.setAttribute("wildCard",r.wildCard),n.setAttribute("singleChar",r.singleChar),n.setAttribute("escapeChar",r.escapeChar),r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),Ap(a,n,r.propertyName),xy(a,n,""+r.pattern)}function wy(n,r,t,e){var i=bi(n,r);gi(i,e),t.appendChild(i)}function xy(n,r,t){wy(Ty(n),"Literal",r,t)}function Ap(n,r,t){n==="2.0.0"?wy(i4[n],"ValueReference",r,t):wy(r4[n],"PropertyName",r,t)}function fS(n,r){var t=bi(H0,"TimeInstant");n.appendChild(t);var e=bi(H0,"timePosition");t.appendChild(e),gi(e,r)}function dS(n,r,t){var e=t[t.length-1],i=Object(yn.a)({},e);i.node=n,Oi(i,Ey,Va("Query"),r,t)}function Ty(n){var r;return n==="2.0.0"?r=i4[n]:r=r4[n],r}var jW=LW,GW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ko={POINT:1,LINE_STRING:2,POLYGON:3,MULTI_POINT:4,MULTI_LINE_STRING:5,MULTI_POLYGON:6,GEOMETRY_COLLECTION:7,POLYHEDRAL_SURFACE:15,TIN:16,TRIANGLE:17},pS=function(){function n(r){this.view_=r,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=or.XY}return n.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},n.prototype.readUint32=function(r){return this.view_.getUint32((this.pos_+=4)-4,r!==void 0?r:this.isLittleEndian_)},n.prototype.readDouble=function(r){return this.view_.getFloat64((this.pos_+=8)-8,r!==void 0?r:this.isLittleEndian_)},n.prototype.readPoint=function(){var r=[];return r.push(this.readDouble()),r.push(this.readDouble()),this.hasZ_&&r.push(this.readDouble()),this.hasM_&&r.push(this.readDouble()),r},n.prototype.readLineString=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readPoint());return t},n.prototype.readPolygon=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readLineString());return t},n.prototype.readWkbHeader=function(r){var t=this.readUint8(),e=t>0,i=this.readUint32(e),a=Math.floor((i&268435455)/1e3),c=Boolean(i&2147483648)||a===1||a===3,f=Boolean(i&1073741824)||a===2||a===3,p=Boolean(i&536870912),g=(i&268435455)%1e3,m=["XY",c?"Z":"",f?"M":""].join(""),O=p?this.readUint32(e):null;if(r!==void 0&&r!==g)throw new Error("Unexpected WKB geometry type "+g);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==m)throw new Error("Inconsistent geometry layout");if(O&&this.srid_!==O)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=c,this.hasM_=f,this.layout_=m,this.srid_=O,this.initialized_=!0;return g},n.prototype.readWkbPayload=function(r){switch(r){case Ko.POINT:return this.readPoint();case Ko.LINE_STRING:return this.readLineString();case Ko.POLYGON:case Ko.TRIANGLE:return this.readPolygon();case Ko.MULTI_POINT:return this.readMultiPoint();case Ko.MULTI_LINE_STRING:return this.readMultiLineString();case Ko.MULTI_POLYGON:case Ko.POLYHEDRAL_SURFACE:case Ko.TIN:return this.readMultiPolygon();case Ko.GEOMETRY_COLLECTION:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+r+" is found")}},n.prototype.readWkbBlock=function(r){return this.readWkbPayload(this.readWkbHeader(r))},n.prototype.readWkbCollection=function(r,t){for(var e=this.readUint32(),i=[],a=0;a<e;a++){var c=r.call(this,t);c&&i.push(c)}return i},n.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,Ko.POINT)},n.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,Ko.LINE_STRING)},n.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,Ko.POLYGON)},n.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},n.prototype.readGeometry=function(){var r=this.readWkbHeader(),t=this.readWkbPayload(r);switch(r){case Ko.POINT:return new Fi(t,this.layout_);case Ko.LINE_STRING:return new Jo(t,this.layout_);case Ko.POLYGON:case Ko.TRIANGLE:return new fo(t,this.layout_);case Ko.MULTI_POINT:return new Sc(t,this.layout_);case Ko.MULTI_LINE_STRING:return new cu(t,this.layout_);case Ko.MULTI_POLYGON:case Ko.POLYHEDRAL_SURFACE:case Ko.TIN:return new wl(t,this.layout_);case Ko.GEOMETRY_COLLECTION:return new xl(t);default:return null}},n.prototype.getSrid=function(){return this.srid_},n}(),BW=function(){function n(r){r=r||{},this.layout_=r.layout,this.isLittleEndian_=r.littleEndian!==!1,this.isEWKB_=r.ewkb!==!1,this.writeQueue_=[],this.nodata_=Object(yn.a)({X:0,Y:0,Z:0,M:0},r.nodata)}return n.prototype.writeUint8=function(r){this.writeQueue_.push([1,r])},n.prototype.writeUint32=function(r){this.writeQueue_.push([4,r])},n.prototype.writeDouble=function(r){this.writeQueue_.push([8,r])},n.prototype.writePoint=function(r,t){for(var e=yn.a.apply(null,t.split("").map(function(f,p){var g;return g={},g[f]=r[p],g})),i=0,a=this.layout_;i<a.length;i++){var c=a[i];this.writeDouble(c in e?e[c]:this.nodata_[c])}},n.prototype.writeLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writePoint(r[e],t)},n.prototype.writePolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeLineString(r[e],t)},n.prototype.writeWkbHeader=function(r,t){r%=1e3,this.layout_.indexOf("Z")>=0&&(r+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(r+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(t)&&(r|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(r),this.isEWKB_&&Number.isInteger(t)&&this.writeUint32(t)},n.prototype.writeMultiPoint=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(1),this.writePoint(r[e],t)},n.prototype.writeMultiLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(2),this.writeLineString(r[e],t)},n.prototype.writeMultiPolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(3),this.writePolygon(r[e],t)},n.prototype.writeGeometryCollection=function(r){this.writeUint32(r.length);for(var t=0;t<r.length;t++)this.writeGeometry(r[t])},n.prototype.findMinimumLayout=function(r,t){t===void 0&&(t=or.XYZM);var e=function(c,f){return c===f?c:c===or.XYZM?f:f===or.XYZM?c:or.XY};if(r instanceof Po)return e(r.getLayout(),t);if(r instanceof xl)for(var i=r.getGeometriesArray(),a=0;a<i.length&&t!==or.XY;a++)t=this.findMinimumLayout(i[a],t);return t},n.prototype.writeGeometry=function(r,t){var e,i,a=(e={},e[Se.POINT]=Ko.POINT,e[Se.LINE_STRING]=Ko.LINE_STRING,e[Se.POLYGON]=Ko.POLYGON,e[Se.MULTI_POINT]=Ko.MULTI_POINT,e[Se.MULTI_LINE_STRING]=Ko.MULTI_LINE_STRING,e[Se.MULTI_POLYGON]=Ko.MULTI_POLYGON,e[Se.GEOMETRY_COLLECTION]=Ko.GEOMETRY_COLLECTION,e),c=r.getType(),f=a[c];if(!f)throw new Error("GeometryType "+c+" is not supported");if(this.layout_||(this.layout_=this.findMinimumLayout(r)),this.writeWkbHeader(f,t),r instanceof Po){var p=(i={},i[Se.POINT]=this.writePoint,i[Se.LINE_STRING]=this.writeLineString,i[Se.POLYGON]=this.writePolygon,i[Se.MULTI_POINT]=this.writeMultiPoint,i[Se.MULTI_LINE_STRING]=this.writeMultiLineString,i[Se.MULTI_POLYGON]=this.writeMultiPolygon,i);p[c].call(this,r.getCoordinates(),r.getLayout())}else r instanceof xl&&this.writeGeometryCollection(r.getGeometriesArray())},n.prototype.getBuffer=function(){var r=this,t=this.writeQueue_.reduce(function(c,f){return c+f[0]},0),e=new ArrayBuffer(t),i=new DataView(e),a=0;return this.writeQueue_.forEach(function(c){switch(c[0]){case 1:i.setUint8(a,c[1]);break;case 4:i.setUint32(a,c[1],r.isLittleEndian_);break;case 8:i.setFloat64(a,c[1],r.isLittleEndian_);break}a+=c[0]}),e},n}(),UW=function(n){GW(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection=Boolean(i.splitCollection),e.viewCache_=null,e.hex_=i.hex!==!1,e.littleEndian_=i.littleEndian!==!1,e.ewkb_=i.ewkb!==!1,e.layout_=i.geometryLayout,e.nodataZ_=i.nodataZ||0,e.nodataM_=i.nodataM||0,e.srid_=i.srid,e}return r.prototype.getType=function(){return this.hex_?Hc.TEXT:Hc.ARRAY_BUFFER},r.prototype.readFeature=function(t,e){return new In({geometry:this.readGeometry(t,e)})},r.prototype.readFeatures=function(t,e){var i=[],a=this.readGeometry(t,e);return this.splitCollection&&a instanceof xl?i=a.getGeometriesArray():i=[a],i.map(function(c){return new In({geometry:c})})},r.prototype.readGeometry=function(t,e){var i=vS(t);if(!i)return null;var a=new pS(i),c=a.readGeometry();this.viewCache_=i;var f=this.getReadOptions(t,e);return this.viewCache_=null,Fa(c,!1,f)},r.prototype.readProjection=function(t){var e=this.viewCache_||vS(t);if(!!e){var i=new pS(e);return i.readWkbHeader(),i.getSrid()&&zn("EPSG:"+i.getSrid())||void 0}},r.prototype.writeFeature=function(t,e){return this.writeGeometry(t.getGeometry(),e)},r.prototype.writeFeatures=function(t,e){return this.writeGeometry(new xl(t.map(function(i){return i.getGeometry()})),e)},r.prototype.writeGeometry=function(t,e){var i=this.adaptOptions(e),a=new BW({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),c=Number.isInteger(this.srid_)?Number(this.srid_):null;if(this.srid_!==!1&&!Number.isInteger(this.srid_)){var f=i.dataProjection&&zn(i.dataProjection);if(f){var p=f.getCode();p.indexOf("EPSG:")===0&&(c=Number(p.substring(5)))}}a.writeGeometry(Fa(t,!0,i),c);var g=a.getBuffer();return this.hex_?kW(g):g},r}(uv);function kW(n){var r=new Uint8Array(n);return Array.from(r.values()).map(function(t){return(t<16?"0":"")+Number(t).toString(16).toUpperCase()}).join("")}function zW(n){for(var r=new Uint8Array(n.length/2),t=0;t<n.length/2;t++)r[t]=parseInt(n.substr(t*2,2),16);return new DataView(r.buffer)}function vS(n){return typeof n=="string"?zW(n):ArrayBuffer.isView(n)?n instanceof DataView?n:new DataView(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new DataView(n):null}var VW=UW,WW=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YW={POINT:Fi,LINESTRING:Jo,POLYGON:fo,MULTIPOINT:Sc,MULTILINESTRING:cu,MULTIPOLYGON:wl},gS="EMPTY",yS="Z",mS="M",HW="ZM",Uo={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};for(var XW in Se)Se[XW].toUpperCase();var KW=function(){function n(r){this.wkt=r,this.index_=-1}return n.prototype.isAlpha_=function(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"},n.prototype.isNumeric_=function(r,t){var e=t!==void 0?t:!1;return r>="0"&&r<="9"||r=="."&&!e},n.prototype.isWhiteSpace_=function(r){return r==" "||r=="	"||r=="\r"||r==`
`},n.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},n.prototype.nextToken=function(){var r=this.nextChar_(),t=this.index_,e=r,i;if(r=="(")i=Uo.LEFT_PAREN;else if(r==",")i=Uo.COMMA;else if(r==")")i=Uo.RIGHT_PAREN;else if(this.isNumeric_(r)||r=="-")i=Uo.NUMBER,e=this.readNumber_();else if(this.isAlpha_(r))i=Uo.TEXT,e=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(r==="")i=Uo.EOF;else throw new Error("Unexpected character: "+r)}return{position:t,value:e,type:i}},n.prototype.readNumber_=function(){var r,t=this.index_,e=!1,i=!1;do r=="."?e=!0:(r=="e"||r=="E")&&(i=!0),r=this.nextChar_();while(this.isNumeric_(r,e)||!i&&(r=="e"||r=="E")||i&&(r=="-"||r=="+"));return parseFloat(this.wkt.substring(t,this.index_--))},n.prototype.readText_=function(){var r,t=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(t,this.index_--).toUpperCase()},n}(),$W=function(){function n(r){this.lexer_=r,this.token_={position:0,type:Uo.START},this.layout_=or.XY}return n.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},n.prototype.isTokenType=function(r){return this.token_.type==r},n.prototype.match=function(r){var t=this.isTokenType(r);return t&&this.consume_(),t},n.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},n.prototype.parseGeometryLayout_=function(){var r=or.XY,t=this.token_;if(this.isTokenType(Uo.TEXT)){var e=t.value;e===yS?r=or.XYZ:e===mS?r=or.XYM:e===HW&&(r=or.XYZM),r!==or.XY&&this.consume_()}return r},n.prototype.parseGeometryCollectionText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=[];do r.push(this.parseGeometry_());while(this.match(Uo.COMMA));if(this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePointText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=this.parsePoint_();if(this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseLineStringText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=this.parsePointList_();if(this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePolygonText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPointText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=void 0;if(this.token_.type==Uo.LEFT_PAREN?r=this.parsePointTextList_():r=this.parsePointList_(),this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiLineStringText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPolygonText_=function(){if(this.match(Uo.LEFT_PAREN)){var r=this.parsePolygonTextList_();if(this.match(Uo.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePoint_=function(){for(var r=[],t=this.layout_.length,e=0;e<t;++e){var i=this.token_;if(this.match(Uo.NUMBER))r.push(i.value);else break}if(r.length==t)return r;throw new Error(this.formatErrorMessage_())},n.prototype.parsePointList_=function(){for(var r=[this.parsePoint_()];this.match(Uo.COMMA);)r.push(this.parsePoint_());return r},n.prototype.parsePointTextList_=function(){for(var r=[this.parsePointText_()];this.match(Uo.COMMA);)r.push(this.parsePointText_());return r},n.prototype.parseLineStringTextList_=function(){for(var r=[this.parseLineStringText_()];this.match(Uo.COMMA);)r.push(this.parseLineStringText_());return r},n.prototype.parsePolygonTextList_=function(){for(var r=[this.parsePolygonText_()];this.match(Uo.COMMA);)r.push(this.parsePolygonText_());return r},n.prototype.isEmptyGeometry_=function(){var r=this.isTokenType(Uo.TEXT)&&this.token_.value==gS;return r&&this.consume_(),r},n.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},n.prototype.parseGeometry_=function(){var r=this.token_;if(this.match(Uo.TEXT)){var t=r.value;this.layout_=this.parseGeometryLayout_();var e=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(e)return new xl([]);var i=this.parseGeometryCollectionText_();return new xl(i)}else{var a=YW[t];if(!a)throw new Error("Invalid geometry type: "+t);var c=void 0;if(e)t=="POINT"?c=[NaN,NaN]:c=[];else switch(t){case"POINT":{c=this.parsePointText_();break}case"LINESTRING":{c=this.parseLineStringText_();break}case"POLYGON":{c=this.parsePolygonText_();break}case"MULTIPOINT":{c=this.parseMultiPointText_();break}case"MULTILINESTRING":{c=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{c=this.parseMultiPolygonText_();break}}return new a(c,this.layout_)}}throw new Error(this.formatErrorMessage_())},n}(),ZW=function(n){WW(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection_=i.splitCollection!==void 0?i.splitCollection:!1,e}return r.prototype.parse_=function(t){var e=new KW(t),i=new $W(e);return i.parse()},r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e),a=new In;return a.setGeometry(i),a},r.prototype.readFeaturesFromText=function(t,e){var i=[],a=this.readGeometryFromText(t,e);this.splitCollection_&&a.getType()==Se.GEOMETRY_COLLECTION?i=a.getGeometriesArray():i=[a];for(var c=[],f=0,p=i.length;f<p;++f){var g=new In;g.setGeometry(i[f]),c.push(g)}return c},r.prototype.readGeometryFromText=function(t,e){var i=this.parse_(t);return Fa(i,!1,e)},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):""},r.prototype.writeFeaturesText=function(t,e){if(t.length==1)return this.writeFeatureText(t[0],e);for(var i=[],a=0,c=t.length;a<c;++a)i.push(t[a].getGeometry());var f=new xl(i);return this.writeGeometryText(f,e)},r.prototype.writeGeometryText=function(t,e){return SS(Fa(t,!0,e))},r}(k3);function _S(n){var r=n.getCoordinates();return r.length===0?"":r.join(" ")}function qW(n){for(var r=[],t=n.getPoints(),e=0,i=t.length;e<i;++e)r.push("("+_S(t[e])+")");return r.join(",")}function JW(n){for(var r=[],t=n.getGeometries(),e=0,i=t.length;e<i;++e)r.push(SS(t[e]));return r.join(",")}function s4(n){for(var r=n.getCoordinates(),t=[],e=0,i=r.length;e<i;++e)t.push(r[e].join(" "));return t.join(",")}function QW(n){for(var r=[],t=n.getLineStrings(),e=0,i=t.length;e<i;++e)r.push("("+s4(t[e])+")");return r.join(",")}function ES(n){for(var r=[],t=n.getLinearRings(),e=0,i=t.length;e<i;++e)r.push("("+s4(t[e])+")");return r.join(",")}function tY(n){for(var r=[],t=n.getPolygons(),e=0,i=t.length;e<i;++e)r.push("("+ES(t[e])+")");return r.join(",")}function eY(n){var r=n.getLayout(),t="";return(r===or.XYZ||r===or.XYZM)&&(t+=yS),(r===or.XYM||r===or.XYZM)&&(t+=mS),t}var rY={Point:_S,LineString:s4,Polygon:ES,MultiPoint:qW,MultiLineString:QW,MultiPolygon:tY,GeometryCollection:JW};function SS(n){var r=n.getType(),t=rY[r],e=t(n);if(r=r.toUpperCase(),typeof n.getFlatCoordinates=="function"){var i=eY(n);i.length>0&&(r+=" "+i)}return e.length===0?r+" "+gS:r+"("+e+")"}var nY=ZW,iY=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),el=[null,"http://www.opengis.net/wms"],oY=Rr(el,{Service:Me(AY),Capability:Me(OY)}),aY=Rr(el,{Request:Me(PY),Exception:Me(bY),Layer:Me(LY)}),sY=function(n){iY(r,n);function r(){var t=n.call(this)||this;return t.version=void 0,t}return r.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=kr({version:this.version},oY,t,[]);return e||null},r}(J3),lY=Rr(el,{Name:Me(Xr),Title:Me(Xr),Abstract:Me(Xr),KeywordList:Me(OS),OnlineResource:Me(xp),ContactInformation:Me(MY),Fees:Me(Xr),AccessConstraints:Me(Xr),LayerLimit:Me(cs),MaxWidth:Me(cs),MaxHeight:Me(cs)}),uY=Rr(el,{ContactPersonPrimary:Me(RY),ContactPosition:Me(Xr),ContactAddress:Me(CY),ContactVoiceTelephone:Me(Xr),ContactFacsimileTelephone:Me(Xr),ContactElectronicMailAddress:Me(Xr)}),cY=Rr(el,{ContactPerson:Me(Xr),ContactOrganization:Me(Xr)}),hY=Rr(el,{AddressType:Me(Xr),Address:Me(Xr),City:Me(Xr),StateOrProvince:Me(Xr),PostCode:Me(Xr),Country:Me(Xr)}),fY=Rr(el,{Format:Yn(Xr)}),wS=Rr(el,{Name:Me(Xr),Title:Me(Xr),Abstract:Me(Xr),KeywordList:Me(OS),CRS:va(Xr),EX_GeographicBoundingBox:Me(TY),BoundingBox:va(xY),Dimension:va(IY),Attribution:Me(wY),AuthorityURL:va(DY),Identifier:va(Xr),MetadataURL:va(jY),DataURL:va(Z0),FeatureListURL:va(Z0),Style:va(GY),MinScaleDenominator:Me(bo),MaxScaleDenominator:Me(bo),Layer:va(xS)}),dY=Rr(el,{Title:Me(Xr),OnlineResource:Me(xp),LogoURL:Me(TS)}),pY=Rr(el,{westBoundLongitude:Me(bo),eastBoundLongitude:Me(bo),southBoundLatitude:Me(bo),northBoundLatitude:Me(bo)}),vY=Rr(el,{GetCapabilities:Me(l4),GetMap:Me(l4),GetFeatureInfo:Me(l4)}),gY=Rr(el,{Format:va(Xr),DCPType:va(NY)}),yY=Rr(el,{HTTP:Me(FY)}),mY=Rr(el,{Get:Me(Z0),Post:Me(Z0)}),_Y=Rr(el,{Name:Me(Xr),Title:Me(Xr),Abstract:Me(Xr),LegendURL:va(TS),StyleSheetURL:Me(Z0),StyleURL:Me(Z0)}),EY=Rr(el,{Format:Me(Xr),OnlineResource:Me(xp)}),SY=Rr(el,{Keyword:Yn(Xr)});function wY(n,r){return kr({},dY,n,r)}function xY(n,r){var t=[X0(n.getAttribute("minx")),X0(n.getAttribute("miny")),X0(n.getAttribute("maxx")),X0(n.getAttribute("maxy"))],e=[X0(n.getAttribute("resx")),X0(n.getAttribute("resy"))];return{crs:n.getAttribute("CRS"),extent:t,res:e}}function TY(n,r){var t=kr({},pY,n,r);if(!!t){var e=t.westBoundLongitude,i=t.southBoundLatitude,a=t.eastBoundLongitude,c=t.northBoundLatitude;if(!(e===void 0||i===void 0||a===void 0||c===void 0))return[e,i,a,c]}}function OY(n,r){return kr({},aY,n,r)}function AY(n,r){return kr({},lY,n,r)}function MY(n,r){return kr({},uY,n,r)}function RY(n,r){return kr({},cY,n,r)}function CY(n,r){return kr({},hY,n,r)}function bY(n,r){return kr([],fY,n,r)}function LY(n,r){var t=kr({},wS,n,r);return t.Layer===void 0?Object.assign(t,xS(n,r)):t}function xS(n,r){var t=r[r.length-1],e=kr({},wS,n,r);if(!!e){var i=rd(n.getAttribute("queryable"));i===void 0&&(i=t.queryable),e.queryable=i!==void 0?i:!1;var a=K0(n.getAttribute("cascaded"));a===void 0&&(a=t.cascaded),e.cascaded=a;var c=rd(n.getAttribute("opaque"));c===void 0&&(c=t.opaque),e.opaque=c!==void 0?c:!1;var f=rd(n.getAttribute("noSubsets"));f===void 0&&(f=t.noSubsets),e.noSubsets=f!==void 0?f:!1;var p=X0(n.getAttribute("fixedWidth"));p||(p=t.fixedWidth),e.fixedWidth=p;var g=X0(n.getAttribute("fixedHeight"));g||(g=t.fixedHeight),e.fixedHeight=g;var m=["Style","CRS","AuthorityURL"];m.forEach(function(P){if(P in t){var V=e[P]||[];e[P]=V.concat(t[P])}});var O=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return O.forEach(function(P){if(!(P in e)){var V=t[P];e[P]=V}}),e}}function IY(n,r){var t={name:n.getAttribute("name"),units:n.getAttribute("units"),unitSymbol:n.getAttribute("unitSymbol"),default:n.getAttribute("default"),multipleValues:rd(n.getAttribute("multipleValues")),nearestValue:rd(n.getAttribute("nearestValue")),current:rd(n.getAttribute("current")),values:Xr(n)};return t}function Z0(n,r){return kr({},EY,n,r)}function PY(n,r){return kr({},vY,n,r)}function NY(n,r){return kr({},yY,n,r)}function FY(n,r){return kr({},mY,n,r)}function l4(n,r){return kr({},gY,n,r)}function TS(n,r){var t=Z0(n,r);if(t){var e=[K0(n.getAttribute("width")),K0(n.getAttribute("height"))];return t.size=e,t}}function DY(n,r){var t=Z0(n,r);if(t)return t.name=n.getAttribute("name"),t}function jY(n,r){var t=Z0(n,r);if(t)return t.type=n.getAttribute("type"),t}function GY(n,r){return kr({},_Y,n,r)}function OS(n,r){return kr([],SY,n,r)}var BY=sY,UY=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kY="_feature",zY="_layer",VY=function(n){UY(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureNS_="http://mapserver.gis.umn.edu/mapserver",e.gmlFormat_=new Ep,e.layers_=i.layers?i.layers:null,e}return r.prototype.getLayers=function(){return this.layers_},r.prototype.setLayers=function(t){this.layers_=t},r.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var i=t.localName,a=[];if(t.childNodes.length===0)return a;if(i=="msGMLOutput")for(var c=0,f=t.childNodes.length;c<f;c++){var p=t.childNodes[c];if(p.nodeType===Node.ELEMENT_NODE){var g=p,m=e[0],O=zY,P=g.localName.replace(O,"");if(!(this.layers_&&!Object(et.f)(this.layers_,P))){var V=P+kY;m.featureType=V,m.featureNS=this.featureNS_;var $={};$[V]=Yn(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var ot=Rr([m.featureNS,null],$);g.setAttribute("namespaceURI",this.featureNS_);var yt=kr([],ot,g,e,this.gmlFormat_);yt&&Object(et.c)(a,yt)}}}if(i=="FeatureCollection"){var Lt=kr([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);Lt&&(a=Lt)}return a},r.prototype.readFeaturesFromNode=function(t,e){var i={};return e&&Object(yn.a)(i,this.getReadOptions(t,e)),this.readFeatures_(t,[i])},r}(hv),WY=VY,YY=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T0=[null,"http://www.opengis.net/wmts/1.0"],Mp=[null,"http://www.opengis.net/ows/1.1"],HY=Rr(T0,{Contents:Me(iH)}),XY=function(n){YY(r,n);function r(){var t=n.call(this)||this;return t.owsParser_=new k9,t}return r.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var i=this.owsParser_.readFromNode(t);return i?(i.version=e,i=kr(i,HY,t,[]),i||null):null},r}(J3),KY=Rr(T0,{Layer:va(oH),TileMatrixSet:va(aH)}),$Y=Rr(T0,{Style:va(sH),Format:va(Xr),TileMatrixSetLink:va(lH),Dimension:va(uH),ResourceURL:va(cH)},Rr(Mp,{Title:Me(Xr),Abstract:Me(Xr),WGS84BoundingBox:Me(AS),Identifier:Me(Xr)})),ZY=Rr(T0,{LegendURL:va(hH)},Rr(Mp,{Title:Me(Xr),Identifier:Me(Xr)})),qY=Rr(T0,{TileMatrixSet:Me(Xr),TileMatrixSetLimits:Me(dH)}),JY=Rr(T0,{TileMatrixLimits:Yn(pH)}),QY=Rr(T0,{TileMatrix:Me(Xr),MinTileRow:Me(cs),MaxTileRow:Me(cs),MinTileCol:Me(cs),MaxTileCol:Me(cs)}),tH=Rr(T0,{Default:Me(Xr),Value:va(Xr)},Rr(Mp,{Identifier:Me(Xr)})),eH=Rr(Mp,{LowerCorner:Yn(u4),UpperCorner:Yn(u4)}),rH=Rr(T0,{WellKnownScaleSet:Me(Xr),TileMatrix:va(fH)},Rr(Mp,{SupportedCRS:Me(Xr),Identifier:Me(Xr),BoundingBox:Me(AS)})),nH=Rr(T0,{TopLeftCorner:Me(u4),ScaleDenominator:Me(bo),TileWidth:Me(cs),TileHeight:Me(cs),MatrixWidth:Me(cs),MatrixHeight:Me(cs)},Rr(Mp,{Identifier:Me(Xr)}));function iH(n,r){return kr({},KY,n,r)}function oH(n,r){return kr({},$Y,n,r)}function aH(n,r){return kr({},rH,n,r)}function sH(n,r){var t=kr({},ZY,n,r);if(!!t){var e=n.getAttribute("isDefault")==="true";return t.isDefault=e,t}}function lH(n,r){return kr({},qY,n,r)}function uH(n,r){return kr({},tH,n,r)}function cH(n,r){var t=n.getAttribute("format"),e=n.getAttribute("template"),i=n.getAttribute("resourceType"),a={};return t&&(a.format=t),e&&(a.template=e),i&&(a.resourceType=i),a}function AS(n,r){var t=kr([],eH,n,r);if(t.length==2)return At(t)}function hH(n,r){var t={};return t.format=n.getAttribute("format"),t.href=xp(n),t}function u4(n,r){var t=Xr(n).split(/\s+/);if(!(!t||t.length!=2)){var e=+t[0],i=+t[1];if(!(isNaN(e)||isNaN(i)))return[e,i]}}function fH(n,r){return kr({},nH,n,r)}function dH(n,r){return kr([],JY,n,r)}function pH(n,r){return kr({},QY,n,r)}var vH=XY;function Oy(n){if(Oy.installed){console.error("OPENLAYERS MAP ALREADY INSTALLED");return}Oy.installed=!0,n.use(y),n.use(w),n.use(M),n.use(A),n.use(I),n.use(K),n.use(z),n.use(X),n.provide("ol-feature",In),n.provide("ol-geom",H),n.provide("ol-animations",d),n.provide("ol-format",J),n.provide("ol-loadingstrategy",E),n.provide("ol-selectconditions",v),n.provide("ol-extent",h)}u.default=Oy},fb6a:function(l,u,s){var h=s("23e7"),d=s("da84"),v=s("e8b5"),y=s("68ee"),E=s("861d"),w=s("23cb"),M=s("07fa"),A=s("fc6a"),I=s("8418"),K=s("b622"),z=s("1dde"),X=s("f36a"),H=z("slice"),J=K("species"),nt=d.Array,pt=Math.max;h({target:"Array",proto:!0,forced:!H},{slice:function(N,_t){var Rt=A(this),Bt=M(Rt),St=w(N,Bt),Xt=w(_t===void 0?Bt:_t,Bt),It,Dt,Jt;if(v(Rt)&&(It=Rt.constructor,y(It)&&(It===nt||v(It.prototype))?It=void 0:E(It)&&(It=It[J],It===null&&(It=void 0)),It===nt||It===void 0))return X(Rt,St,Xt);for(Dt=new(It===void 0?nt:It)(pt(Xt-St,0)),Jt=0;St<Xt;St++,Jt++)St in Rt&&I(Dt,Jt,Rt[St]);return Dt.length=Jt,Dt}})},fc6a:function(l,u,s){var h=s("44ad"),d=s("1d80");l.exports=function(v){return h(d(v))}},fce3:function(l,u,s){var h=s("d039"),d=s("da84"),v=d.RegExp;l.exports=h(function(){var y=v(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},fdbc:function(l,u){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(l,u,s){var h=s("4930");l.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(MA);var Rit=dO(MA.exports),RA={exports:{}};(function(o,l){(function(u,s){o.exports=s()})(window,function(){return function(u){var s={};function h(d){if(s[d])return s[d].exports;var v=s[d]={i:d,l:!1,exports:{}};return u[d].call(v.exports,v,v.exports,h),v.l=!0,v.exports}return h.m=u,h.c=s,h.d=function(d,v,y){h.o(d,v)||Object.defineProperty(d,v,{enumerable:!0,get:y})},h.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},h.t=function(d,v){if(1&v&&(d=h(d)),8&v||4&v&&typeof d=="object"&&d&&d.__esModule)return d;var y=Object.create(null);if(h.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:d}),2&v&&typeof d!="string")for(var E in d)h.d(y,E,function(w){return d[w]}.bind(null,E));return y},h.n=function(d){var v=d&&d.__esModule?function(){return d.default}:function(){return d};return h.d(v,"a",v),v},h.o=function(d,v){return Object.prototype.hasOwnProperty.call(d,v)},h.p="",h(h.s=0)}([function(u,s,h){function d(){return window.Piwik.getAsyncTracker()}function v(z){return new Promise(function(X,H){var J=document.createElement("script");J.async=!0,J.defer=!0,J.src=z,(document.head||document.getElementsByTagName("head")[0]).appendChild(J),J.onload=X,J.onerror=H})}function y(z,X){return z.resolve(X).href}h.r(s),h.d(s,"matomoKey",function(){return w}),h.d(s,"default",function(){return K});var E={debug:!1,disableCookies:!1,requireCookieConsent:!1,enableHeartBeatTimer:!1,enableLinkTracking:!0,heartBeatTimerInterval:15,requireConsent:!1,trackInitialView:!0,trackSiteSearch:!1,trackerFileName:"matomo",trackerUrl:void 0,trackerScriptUrl:void 0,userId:void 0,cookieDomain:void 0,domains:void 0,preInitActions:[]},w="Matomo";function M(z,X,H){if(typeof z.trackSiteSearch=="function"){var J=z.trackSiteSearch(X);if(J)return void function(nt,pt){var it=pt.keyword,N=pt.category,_t=pt.resultsCount,Rt=d();nt.debug&&console.debug("[vue-matomo] Site Search "+it),Rt.trackSiteSearch(it,N,_t)}(z,J)}(function(nt,pt,it){var N,_t,Rt,Bt=d();if(nt.router){if(_t=y(nt.router,pt.fullPath),Rt=it&&it.fullPath?y(nt.router,it.fullPath):void 0,pt.meta.analyticsIgnore)return void(nt.debug&&console.debug("[vue-matomo] Ignoring "+_t));nt.debug&&console.debug("[vue-matomo] Tracking "+_t),N=pt.meta.title||_t}Rt&&Bt.setReferrerUrl(Rt),_t&&Bt.setCustomUrl(_t),Bt.trackPageView(N)})(z,X,H)}function A(z,X){var H=d();if(Number(z.version.split(".")[0])>2?(z.config.globalProperties.$piwik=H,z.config.globalProperties.$matomo=H,z.provide(w,H)):(z.prototype.$piwik=H,z.prototype.$matomo=H),X.trackInitialView&&X.router){var J=X.router.currentRoute.value?X.router.currentRoute.value:X.router.currentRoute;M(X,J)}X.router&&X.router.afterEach(function(nt,pt){M(X,nt,pt),X.enableLinkTracking&&H.enableLinkTracking()})}function I(){return new Promise(function(z,X){var H=Date.now(),J=setInterval(function(){if(window.Piwik)return clearInterval(J),z();if(Date.now()>=H+3e3)throw clearInterval(J),new Error("[vue-matomo]: window.Piwik undefined after waiting for ".concat(3e3,"ms"))},50)})}function K(z){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=Object.assign({},E,X),J=H.host,nt=H.siteId,pt=H.trackerFileName,it=H.trackerUrl,N=H.trackerScriptUrl,_t=N||"".concat(J,"/").concat(pt,".js"),Rt=it||"".concat(J,"/").concat(pt,".php");window._paq=window._paq||[],window._paq.push(["setTrackerUrl",Rt]),window._paq.push(["setSiteId",nt]),H.requireConsent&&window._paq.push(["requireConsent"]),H.userId&&window._paq.push(["setUserId",H.userId]),H.enableLinkTracking&&window._paq.push(["enableLinkTracking"]),H.disableCookies&&window._paq.push(["disableCookies"]),H.requireCookieConsent&&window._paq.push(["requireCookieConsent"]),H.enableHeartBeatTimer&&window._paq.push(["enableHeartBeatTimer",H.heartBeatTimerInterval]),H.cookieDomain&&window._paq.push(["setCookieDomain",H.cookieDomain]),H.domains&&window._paq.push(["setDomains",H.domains]),H.preInitActions.forEach(function(Bt){return window._paq.push(Bt)}),v(_t).then(function(){return I()}).then(function(){return A(z,H)}).catch(function(Bt){if(Bt.target)return console.error("[vue-matomo] An error occurred trying to load ".concat(Bt.target.src,". ")+"If the file exists you may have an ad- or trackingblocker enabled.");console.error(Bt)})}}])})})(RA);var Cit=dO(RA.exports);try{self["workbox:window:6.5.2"]&&_()}catch{}function wx(o,l){return new Promise(function(u){var s=new MessageChannel;s.port1.onmessage=function(h){u(h.data)},o.postMessage(l,[s.port2])})}function ent(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}function xx(o,l){(l==null||l>o.length)&&(l=o.length);for(var u=0,s=new Array(l);u<l;u++)s[u]=o[u];return s}function rnt(o,l){var u;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(u=function(h,d){if(h){if(typeof h=="string")return xx(h,d);var v=Object.prototype.toString.call(h).slice(8,-1);return v==="Object"&&h.constructor&&(v=h.constructor.name),v==="Map"||v==="Set"?Array.from(h):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?xx(h,d):void 0}}(o))||l&&o&&typeof o.length=="number"){u&&(o=u);var s=0;return function(){return s>=o.length?{done:!0}:{done:!1,value:o[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(u=o[Symbol.iterator]()).next.bind(u)}try{self["workbox:core:6.5.2"]&&_()}catch{}var I4=function(){var o=this;this.promise=new Promise(function(l,u){o.resolve=l,o.reject=u})};function P4(o,l){var u=location.href;return new URL(o,u).href===new URL(l,u).href}var Dv=function(o,l){this.type=o,Object.assign(this,l)};function Xy(o,l,u){return u?l?l(o):o:(o&&o.then||(o=Promise.resolve(o)),l?o.then(l):o)}function nnt(){}var int={type:"SKIP_WAITING"};function Tx(o,l){if(!l)return o&&o.then?o.then(nnt):Promise.resolve()}var bit=function(o){var l,u;function s(y,E){var w,M;return E===void 0&&(E={}),(w=o.call(this)||this).nn={},w.tn=0,w.rn=new I4,w.en=new I4,w.on=new I4,w.un=0,w.an=new Set,w.cn=function(){var A=w.fn,I=A.installing;w.tn>0||!P4(I.scriptURL,w.sn.toString())||performance.now()>w.un+6e4?(w.vn=I,A.removeEventListener("updatefound",w.cn)):(w.hn=I,w.an.add(I),w.rn.resolve(I)),++w.tn,I.addEventListener("statechange",w.ln)},w.ln=function(A){var I=w.fn,K=A.target,z=K.state,X=K===w.vn,H={sw:K,isExternal:X,originalEvent:A};!X&&w.mn&&(H.isUpdate=!0),w.dispatchEvent(new Dv(z,H)),z==="installed"?w.wn=self.setTimeout(function(){z==="installed"&&I.waiting===K&&w.dispatchEvent(new Dv("waiting",H))},200):z==="activating"&&(clearTimeout(w.wn),X||w.en.resolve(K))},w.dn=function(A){var I=w.hn,K=I!==navigator.serviceWorker.controller;w.dispatchEvent(new Dv("controlling",{isExternal:K,originalEvent:A,sw:I,isUpdate:w.mn})),K||w.on.resolve(I)},w.gn=(M=function(A){var I=A.data,K=A.ports,z=A.source;return Xy(w.getSW(),function(){w.an.has(z)&&w.dispatchEvent(new Dv("message",{data:I,originalEvent:A,ports:K,sw:z}))})},function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];try{return Promise.resolve(M.apply(this,A))}catch(K){return Promise.reject(K)}}),w.sn=y,w.nn=E,navigator.serviceWorker.addEventListener("message",w.gn),w}u=o,(l=s).prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u;var h,d,v=s.prototype;return v.register=function(y){var E=(y===void 0?{}:y).immediate,w=E!==void 0&&E;try{var M=this;return function(A,I){var K=A();return K&&K.then?K.then(I):I(K)}(function(){if(!w&&document.readyState!=="complete")return Tx(new Promise(function(A){return window.addEventListener("load",A)}))},function(){return M.mn=Boolean(navigator.serviceWorker.controller),M.yn=M.pn(),Xy(M.bn(),function(A){M.fn=A,M.yn&&(M.hn=M.yn,M.en.resolve(M.yn),M.on.resolve(M.yn),M.yn.addEventListener("statechange",M.ln,{once:!0}));var I=M.fn.waiting;return I&&P4(I.scriptURL,M.sn.toString())&&(M.hn=I,Promise.resolve().then(function(){M.dispatchEvent(new Dv("waiting",{sw:I,wasWaitingBeforeRegister:!0}))}).then(function(){})),M.hn&&(M.rn.resolve(M.hn),M.an.add(M.hn)),M.fn.addEventListener("updatefound",M.cn),navigator.serviceWorker.addEventListener("controllerchange",M.dn),M.fn})})}catch(A){return Promise.reject(A)}},v.update=function(){try{return this.fn?Tx(this.fn.update()):void 0}catch(y){return Promise.reject(y)}},v.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},v.messageSW=function(y){try{return Xy(this.getSW(),function(E){return wx(E,y)})}catch(E){return Promise.reject(E)}},v.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&wx(this.fn.waiting,int)},v.pn=function(){var y=navigator.serviceWorker.controller;return y&&P4(y.scriptURL,this.sn.toString())?y:void 0},v.bn=function(){try{var y=this;return function(E,w){try{var M=E()}catch(A){return w(A)}return M&&M.then?M.then(void 0,w):M}(function(){return Xy(navigator.serviceWorker.register(y.sn,y.nn),function(E){return y.un=performance.now(),E})},function(E){throw E})}catch(E){return Promise.reject(E)}},h=s,(d=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&ent(h.prototype,d),s}(function(){function o(){this.Pn=new Map}var l=o.prototype;return l.addEventListener=function(u,s){this.Sn(u).add(s)},l.removeEventListener=function(u,s){this.Sn(u).delete(s)},l.dispatchEvent=function(u){u.target=this;for(var s,h=rnt(this.Sn(u.type));!(s=h()).done;)(0,s.value)(u)},l.Sn=function(u){return this.Pn.has(u)||this.Pn.set(u,new Set),this.Pn.get(u)},o}());export{Rg as A,TK as B,stt as C,Aa as D,$p as E,nl as F,Ait as G,pK as H,sm as I,H$ as J,FQ as K,Sit as L,Cg as M,O4 as N,mit as O,AK as P,bK as Q,_it as R,yit as S,s8 as T,bit as U,K$ as V,Rit as W,Mit as X,Cit as Y,VJ as a,n8 as b,MK as c,LK as d,i8 as e,Sg as f,AT as g,r8 as h,OK as i,jX as j,Eg as k,Xv as l,NQ as m,bH as n,Pm as o,DX as p,e0 as q,IK as r,wit as s,IH as t,Eit as u,nq as v,Y6 as w,xit as x,Tit as y,Oit as z};
