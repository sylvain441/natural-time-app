var PV=Object.defineProperty;var IV=(a,c,d)=>c in a?PV(a,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[c]=d;var Fs=(a,c,d)=>(IV(a,typeof c!="symbol"?c+"":c,d),d);function Zg(a,c){const d=Object.create(null),u=a.split(",");for(let p=0;p<u.length;p++)d[u[p]]=!0;return c?p=>!!d[p.toLowerCase()]:p=>!!d[p]}const NV="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",FV=Zg(NV),DV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jV=Zg(DV);function mS(a){return!!a||a===""}function uv(a){if(Xn(a)){const c={};for(let d=0;d<a.length;d++){const u=a[d],p=Ia(u)?UV(u):uv(u);if(p)for(const g in p)c[g]=p[g]}return c}else{if(Ia(a))return a;if($a(a))return a}}const GV=/;(?![^(]*\))/g,BV=/:(.+)/;function UV(a){const c={};return a.split(GV).forEach(d=>{if(d){const u=d.split(BV);u.length>1&&(c[u[0].trim()]=u[1].trim())}}),c}function cv(a){let c="";if(Ia(a))c=a;else if(Xn(a))for(let d=0;d<a.length;d++){const u=cv(a[d]);u&&(c+=u+" ")}else if($a(a))for(const d in a)a[d]&&(c+=d+" ");return c.trim()}function kV(a){if(!a)return null;let{class:c,style:d}=a;return c&&!Ia(c)&&(a.class=cv(c)),d&&(a.style=uv(d)),a}function zV(a,c){if(a.length!==c.length)return!1;let d=!0;for(let u=0;d&&u<a.length;u++)d=Df(a[u],c[u]);return d}function Df(a,c){if(a===c)return!0;let d=Z9(a),u=Z9(c);if(d||u)return d&&u?a.getTime()===c.getTime():!1;if(d=Xn(a),u=Xn(c),d||u)return d&&u?zV(a,c):!1;if(d=$a(a),u=$a(c),d||u){if(!d||!u)return!1;const p=Object.keys(a).length,g=Object.keys(c).length;if(p!==g)return!1;for(const E in a){const b=a.hasOwnProperty(E),M=c.hasOwnProperty(E);if(b&&!M||!b&&M||!Df(a[E],c[E]))return!1}}return String(a)===String(c)}function Jg(a,c){return a.findIndex(d=>Df(d,c))}const VV=a=>Ia(a)?a:a==null?"":Xn(a)||$a(a)&&(a.toString===_S||!Fi(a.toString))?JSON.stringify(a,yS,2):String(a),yS=(a,c)=>c&&c.__v_isRef?yS(a,c.value):np(c)?{[`Map(${c.size})`]:[...c.entries()].reduce((d,[u,p])=>(d[`${u} =>`]=p,d),{})}:zh(c)?{[`Set(${c.size})`]:[...c.values()]}:$a(c)&&!Xn(c)&&!ES(c)?String(c):c,Vo={},rp=[],V0=()=>{},WV=()=>!1,HV=/^on[^a-z]/,fv=a=>HV.test(a),z4=a=>a.startsWith("onUpdate:"),Ka=Object.assign,V4=(a,c)=>{const d=a.indexOf(c);d>-1&&a.splice(d,1)},YV=Object.prototype.hasOwnProperty,Po=(a,c)=>YV.call(a,c),Xn=Array.isArray,np=a=>qg(a)==="[object Map]",zh=a=>qg(a)==="[object Set]",Z9=a=>a instanceof Date,Fi=a=>typeof a=="function",Ia=a=>typeof a=="string",W4=a=>typeof a=="symbol",$a=a=>a!==null&&typeof a=="object",H4=a=>$a(a)&&Fi(a.then)&&Fi(a.catch),_S=Object.prototype.toString,qg=a=>_S.call(a),XV=a=>qg(a).slice(8,-1),ES=a=>qg(a)==="[object Object]",Y4=a=>Ia(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,V1=Zg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qg=a=>{const c=Object.create(null);return d=>c[d]||(c[d]=a(d))},KV=/-(\w)/g,Wu=Qg(a=>a.replace(KV,(c,d)=>d?d.toUpperCase():"")),$V=/\B([A-Z])/g,mc=Qg(a=>a.replace($V,"-$1").toLowerCase()),hv=Qg(a=>a.charAt(0).toUpperCase()+a.slice(1)),W1=Qg(a=>a?`on${hv(a)}`:""),tv=(a,c)=>!Object.is(a,c),ip=(a,c)=>{for(let d=0;d<a.length;d++)a[d](c)},Pg=(a,c,d)=>{Object.defineProperty(a,c,{configurable:!0,enumerable:!1,value:d})},jf=a=>{const c=parseFloat(a);return isNaN(c)?a:c};let J9;const ZV=()=>J9||(J9=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let g0;class X4{constructor(c=!1){this.active=!0,this.effects=[],this.cleanups=[],!c&&g0&&(this.parent=g0,this.index=(g0.scopes||(g0.scopes=[])).push(this)-1)}run(c){if(this.active)try{return g0=this,c()}finally{g0=this.parent}}on(){g0=this}off(){g0=this.parent}stop(c){if(this.active){let d,u;for(d=0,u=this.effects.length;d<u;d++)this.effects[d].stop();for(d=0,u=this.cleanups.length;d<u;d++)this.cleanups[d]();if(this.scopes)for(d=0,u=this.scopes.length;d<u;d++)this.scopes[d].stop(!0);if(this.parent&&!c){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.active=!1}}}function JV(a){return new X4(a)}function SS(a,c=g0){c&&c.active&&c.effects.push(a)}function qV(){return g0}function QV(a){g0&&g0.cleanups.push(a)}const K4=a=>{const c=new Set(a);return c.w=0,c.n=0,c},wS=a=>(a.w&Gf)>0,xS=a=>(a.n&Gf)>0,tW=({deps:a})=>{if(a.length)for(let c=0;c<a.length;c++)a[c].w|=Gf},eW=a=>{const{deps:c}=a;if(c.length){let d=0;for(let u=0;u<c.length;u++){const p=c[u];wS(p)&&!xS(p)?p.delete(a):c[d++]=p,p.w&=~Gf,p.n&=~Gf}c.length=d}},q3=new WeakMap;let U1=0,Gf=1;const Q3=30;let gc;const Gh=Symbol(""),t4=Symbol("");class dv{constructor(c,d=null,u){this.fn=c,this.scheduler=d,this.active=!0,this.deps=[],this.parent=void 0,SS(this,u)}run(){if(!this.active)return this.fn();let c=gc,d=If;for(;c;){if(c===this)return;c=c.parent}try{return this.parent=gc,gc=this,If=!0,Gf=1<<++U1,U1<=Q3?tW(this):q9(this),this.fn()}finally{U1<=Q3&&eW(this),Gf=1<<--U1,gc=this.parent,If=d,this.parent=void 0}}stop(){this.active&&(q9(this),this.onStop&&this.onStop(),this.active=!1)}}function q9(a){const{deps:c}=a;if(c.length){for(let d=0;d<c.length;d++)c[d].delete(a);c.length=0}}function rW(a,c){a.effect&&(a=a.effect.fn);const d=new dv(a);c&&(Ka(d,c),c.scope&&SS(d,c.scope)),(!c||!c.lazy)&&d.run();const u=d.run.bind(d);return u.effect=d,u}function nW(a){a.effect.stop()}let If=!0;const OS=[];function Vh(){OS.push(If),If=!1}function Wh(){const a=OS.pop();If=a===void 0?!0:a}function Hu(a,c,d){if(If&&gc){let u=q3.get(a);u||q3.set(a,u=new Map);let p=u.get(d);p||u.set(d,p=K4()),TS(p)}}function TS(a,c){let d=!1;U1<=Q3?xS(a)||(a.n|=Gf,d=!wS(a)):d=!a.has(gc),d&&(a.add(gc),gc.deps.push(a))}function Bc(a,c,d,u,p,g){const E=q3.get(a);if(!E)return;let b=[];if(c==="clear")b=[...E.values()];else if(d==="length"&&Xn(a))E.forEach((M,P)=>{(P==="length"||P>=u)&&b.push(M)});else switch(d!==void 0&&b.push(E.get(d)),c){case"add":Xn(a)?Y4(d)&&b.push(E.get("length")):(b.push(E.get(Gh)),np(a)&&b.push(E.get(t4)));break;case"delete":Xn(a)||(b.push(E.get(Gh)),np(a)&&b.push(E.get(t4)));break;case"set":np(a)&&b.push(E.get(Gh));break}if(b.length===1)b[0]&&e4(b[0]);else{const M=[];for(const P of b)P&&M.push(...P);e4(K4(M))}}function e4(a,c){for(const d of Xn(a)?a:[...a])(d!==gc||d.allowRecurse)&&(d.scheduler?d.scheduler():d.run())}const iW=Zg("__proto__,__v_isRef,__isVue"),bS=new Set(Object.getOwnPropertyNames(Symbol).map(a=>Symbol[a]).filter(W4)),oW=tm(),aW=tm(!1,!0),sW=tm(!0),lW=tm(!0,!0),Q9=uW();function uW(){const a={};return["includes","indexOf","lastIndexOf"].forEach(c=>{a[c]=function(...d){const u=vo(this);for(let g=0,E=this.length;g<E;g++)Hu(u,"get",g+"");const p=u[c](...d);return p===-1||p===!1?u[c](...d.map(vo)):p}}),["push","pop","shift","unshift","splice"].forEach(c=>{a[c]=function(...d){Vh();const u=vo(this)[c].apply(this,d);return Wh(),u}}),a}function tm(a=!1,c=!1){return function(u,p,g){if(p==="__v_isReactive")return!a;if(p==="__v_isReadonly")return a;if(p==="__v_isShallow")return c;if(p==="__v_raw"&&g===(a?c?IS:PS:c?LS:CS).get(u))return u;const E=Xn(u);if(!a&&E&&Po(Q9,p))return Reflect.get(Q9,p,g);const b=Reflect.get(u,p,g);return(W4(p)?bS.has(p):iW(p))||(a||Hu(u,"get",p),c)?b:fs(b)?!E||!Y4(p)?b.value:b:$a(b)?a?Z4(b):yp(b):b}}const cW=AS(),fW=AS(!0);function AS(a=!1){return function(d,u,p,g){let E=d[u];if(up(E)&&fs(E)&&!fs(p))return!1;if(!a&&!up(p)&&(J4(p)||(p=vo(p),E=vo(E)),!Xn(d)&&fs(E)&&!fs(p)))return E.value=p,!0;const b=Xn(d)&&Y4(u)?Number(u)<d.length:Po(d,u),M=Reflect.set(d,u,p,g);return d===vo(g)&&(b?tv(p,E)&&Bc(d,"set",u,p):Bc(d,"add",u,p)),M}}function hW(a,c){const d=Po(a,c);a[c];const u=Reflect.deleteProperty(a,c);return u&&d&&Bc(a,"delete",c,void 0),u}function dW(a,c){const d=Reflect.has(a,c);return(!W4(c)||!bS.has(c))&&Hu(a,"has",c),d}function pW(a){return Hu(a,"iterate",Xn(a)?"length":Gh),Reflect.ownKeys(a)}const MS={get:oW,set:cW,deleteProperty:hW,has:dW,ownKeys:pW},RS={get:sW,set(a,c){return!0},deleteProperty(a,c){return!0}},vW=Ka({},MS,{get:aW,set:fW}),gW=Ka({},RS,{get:lW}),$4=a=>a,em=a=>Reflect.getPrototypeOf(a);function gg(a,c,d=!1,u=!1){a=a.__v_raw;const p=vo(a),g=vo(c);c!==g&&!d&&Hu(p,"get",c),!d&&Hu(p,"get",g);const{has:E}=em(p),b=u?$4:d?t_:ev;if(E.call(p,c))return b(a.get(c));if(E.call(p,g))return b(a.get(g));a!==p&&a.get(c)}function mg(a,c=!1){const d=this.__v_raw,u=vo(d),p=vo(a);return a!==p&&!c&&Hu(u,"has",a),!c&&Hu(u,"has",p),a===p?d.has(a):d.has(a)||d.has(p)}function yg(a,c=!1){return a=a.__v_raw,!c&&Hu(vo(a),"iterate",Gh),Reflect.get(a,"size",a)}function tE(a){a=vo(a);const c=vo(this);return em(c).has.call(c,a)||(c.add(a),Bc(c,"add",a,a)),this}function eE(a,c){c=vo(c);const d=vo(this),{has:u,get:p}=em(d);let g=u.call(d,a);g||(a=vo(a),g=u.call(d,a));const E=p.call(d,a);return d.set(a,c),g?tv(c,E)&&Bc(d,"set",a,c):Bc(d,"add",a,c),this}function rE(a){const c=vo(this),{has:d,get:u}=em(c);let p=d.call(c,a);p||(a=vo(a),p=d.call(c,a)),u&&u.call(c,a);const g=c.delete(a);return p&&Bc(c,"delete",a,void 0),g}function nE(){const a=vo(this),c=a.size!==0,d=a.clear();return c&&Bc(a,"clear",void 0,void 0),d}function _g(a,c){return function(u,p){const g=this,E=g.__v_raw,b=vo(E),M=c?$4:a?t_:ev;return!a&&Hu(b,"iterate",Gh),E.forEach((P,k)=>u.call(p,M(P),M(k),g))}}function Eg(a,c,d){return function(...u){const p=this.__v_raw,g=vo(p),E=np(g),b=a==="entries"||a===Symbol.iterator&&E,M=a==="keys"&&E,P=p[a](...u),k=d?$4:c?t_:ev;return!c&&Hu(g,"iterate",M?t4:Gh),{next(){const{value:C,done:z}=P.next();return z?{value:C,done:z}:{value:b?[k(C[0]),k(C[1])]:k(C),done:z}},[Symbol.iterator](){return this}}}}function Of(a){return function(...c){return a==="delete"?!1:this}}function mW(){const a={get(g){return gg(this,g)},get size(){return yg(this)},has:mg,add:tE,set:eE,delete:rE,clear:nE,forEach:_g(!1,!1)},c={get(g){return gg(this,g,!1,!0)},get size(){return yg(this)},has:mg,add:tE,set:eE,delete:rE,clear:nE,forEach:_g(!1,!0)},d={get(g){return gg(this,g,!0)},get size(){return yg(this,!0)},has(g){return mg.call(this,g,!0)},add:Of("add"),set:Of("set"),delete:Of("delete"),clear:Of("clear"),forEach:_g(!0,!1)},u={get(g){return gg(this,g,!0,!0)},get size(){return yg(this,!0)},has(g){return mg.call(this,g,!0)},add:Of("add"),set:Of("set"),delete:Of("delete"),clear:Of("clear"),forEach:_g(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(g=>{a[g]=Eg(g,!1,!1),d[g]=Eg(g,!0,!1),c[g]=Eg(g,!1,!0),u[g]=Eg(g,!0,!0)}),[a,d,c,u]}const[yW,_W,EW,SW]=mW();function rm(a,c){const d=c?a?SW:EW:a?_W:yW;return(u,p,g)=>p==="__v_isReactive"?!a:p==="__v_isReadonly"?a:p==="__v_raw"?u:Reflect.get(Po(d,p)&&p in u?d:u,p,g)}const wW={get:rm(!1,!1)},xW={get:rm(!1,!0)},OW={get:rm(!0,!1)},TW={get:rm(!0,!0)},CS=new WeakMap,LS=new WeakMap,PS=new WeakMap,IS=new WeakMap;function bW(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AW(a){return a.__v_skip||!Object.isExtensible(a)?0:bW(XV(a))}function yp(a){return up(a)?a:nm(a,!1,MS,wW,CS)}function NS(a){return nm(a,!1,vW,xW,LS)}function Z4(a){return nm(a,!0,RS,OW,PS)}function MW(a){return nm(a,!0,gW,TW,IS)}function nm(a,c,d,u,p){if(!$a(a)||a.__v_raw&&!(c&&a.__v_isReactive))return a;const g=p.get(a);if(g)return g;const E=AW(a);if(E===0)return a;const b=new Proxy(a,E===2?u:d);return p.set(a,b),b}function Bh(a){return up(a)?Bh(a.__v_raw):!!(a&&a.__v_isReactive)}function up(a){return!!(a&&a.__v_isReadonly)}function J4(a){return!!(a&&a.__v_isShallow)}function q4(a){return Bh(a)||up(a)}function vo(a){const c=a&&a.__v_raw;return c?vo(c):a}function Q4(a){return Pg(a,"__v_skip",!0),a}const ev=a=>$a(a)?yp(a):a,t_=a=>$a(a)?Z4(a):a;function e_(a){If&&gc&&(a=vo(a),TS(a.dep||(a.dep=K4())))}function im(a,c){a=vo(a),a.dep&&e4(a.dep)}function fs(a){return!!(a&&a.__v_isRef===!0)}function pc(a){return DS(a,!1)}function FS(a){return DS(a,!0)}function DS(a,c){return fs(a)?a:new RW(a,c)}class RW{constructor(c,d){this.__v_isShallow=d,this.dep=void 0,this.__v_isRef=!0,this._rawValue=d?c:vo(c),this._value=d?c:ev(c)}get value(){return e_(this),this._value}set value(c){c=this.__v_isShallow?c:vo(c),tv(c,this._rawValue)&&(this._rawValue=c,this._value=this.__v_isShallow?c:ev(c),im(this))}}function CW(a){im(a)}function op(a){return fs(a)?a.value:a}const LW={get:(a,c,d)=>op(Reflect.get(a,c,d)),set:(a,c,d,u)=>{const p=a[c];return fs(p)&&!fs(d)?(p.value=d,!0):Reflect.set(a,c,d,u)}};function r_(a){return Bh(a)?a:new Proxy(a,LW)}class PW{constructor(c){this.dep=void 0,this.__v_isRef=!0;const{get:d,set:u}=c(()=>e_(this),()=>im(this));this._get=d,this._set=u}get value(){return this._get()}set value(c){this._set(c)}}function IW(a){return new PW(a)}function NW(a){const c=Xn(a)?new Array(a.length):{};for(const d in a)c[d]=jS(a,d);return c}class FW{constructor(c,d,u){this._object=c,this._key=d,this._defaultValue=u,this.__v_isRef=!0}get value(){const c=this._object[this._key];return c===void 0?this._defaultValue:c}set value(c){this._object[this._key]=c}}function jS(a,c,d){const u=a[c];return fs(u)?u:new FW(a,c,d)}class DW{constructor(c,d,u,p){this._setter=d,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new dv(c,()=>{this._dirty||(this._dirty=!0,im(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!p,this.__v_isReadonly=u}get value(){const c=vo(this);return e_(c),(c._dirty||!c._cacheable)&&(c._dirty=!1,c._value=c.effect.run()),c._value}set value(c){this._setter(c)}}function jW(a,c,d=!1){let u,p;const g=Fi(a);return g?(u=a,p=V0):(u=a.get,p=a.set),new DW(u,p,g||!p,d)}Promise.resolve();const H1=[];function GS(a,...c){Vh();const d=H1.length?H1[H1.length-1].component:null,u=d&&d.appContext.config.warnHandler,p=GW();if(u)yc(u,d,11,[a+c.join(""),d&&d.proxy,p.map(({vnode:g})=>`at <${bw(d,g.type)}>`).join(`
`),p]);else{const g=[`[Vue warn]: ${a}`,...c];p.length&&g.push(`
`,...BW(p)),console.warn(...g)}Wh()}function GW(){let a=H1[H1.length-1];if(!a)return[];const c=[];for(;a;){const d=c[0];d&&d.vnode===a?d.recurseCount++:c.push({vnode:a,recurseCount:0});const u=a.component&&a.component.parent;a=u&&u.vnode}return c}function BW(a){const c=[];return a.forEach((d,u)=>{c.push(...u===0?[]:[`
`],...UW(d))}),c}function UW({vnode:a,recurseCount:c}){const d=c>0?`... (${c} recursive calls)`:"",u=a.component?a.component.parent==null:!1,p=` at <${bw(a.component,a.type,u)}`,g=">"+d;return a.props?[p,...kW(a.props),g]:[p+g]}function kW(a){const c=[],d=Object.keys(a);return d.slice(0,3).forEach(u=>{c.push(...BS(u,a[u]))}),d.length>3&&c.push(" ..."),c}function BS(a,c,d){return Ia(c)?(c=JSON.stringify(c),d?c:[`${a}=${c}`]):typeof c=="number"||typeof c=="boolean"||c==null?d?c:[`${a}=${c}`]:fs(c)?(c=BS(a,vo(c.value),!0),d?c:[`${a}=Ref<`,c,">"]):Fi(c)?[`${a}=fn${c.name?`<${c.name}>`:""}`]:(c=vo(c),d?c:[`${a}=`,c])}function yc(a,c,d,u){let p;try{p=u?a(...u):a()}catch(g){Hh(g,c,d)}return p}function Vu(a,c,d,u){if(Fi(a)){const g=yc(a,c,d,u);return g&&H4(g)&&g.catch(E=>{Hh(E,c,d)}),g}const p=[];for(let g=0;g<a.length;g++)p.push(Vu(a[g],c,d,u));return p}function Hh(a,c,d,u=!0){const p=c?c.vnode:null;if(c){let g=c.parent;const E=c.proxy,b=d;for(;g;){const P=g.ec;if(P){for(let k=0;k<P.length;k++)if(P[k](a,E,b)===!1)return}g=g.parent}const M=c.appContext.config.errorHandler;if(M){yc(M,null,10,[a,E,b]);return}}zW(a,d,p,u)}function zW(a,c,d,u=!0){console.error(a)}let Ig=!1,r4=!1;const ku=[];let jc=0;const Y1=[];let k1=null,Zd=0;const X1=[];let Cf=null,Jd=0;const US=Promise.resolve();let n_=null,n4=null;function om(a){const c=n_||US;return a?c.then(this?a.bind(this):a):c}function VW(a){let c=jc+1,d=ku.length;for(;c<d;){const u=c+d>>>1;rv(ku[u])<a?c=u+1:d=u}return c}function i_(a){(!ku.length||!ku.includes(a,Ig&&a.allowRecurse?jc+1:jc))&&a!==n4&&(a.id==null?ku.push(a):ku.splice(VW(a.id),0,a),kS())}function kS(){!Ig&&!r4&&(r4=!0,n_=US.then(VS))}function WW(a){const c=ku.indexOf(a);c>jc&&ku.splice(c,1)}function zS(a,c,d,u){Xn(a)?d.push(...a):(!c||!c.includes(a,a.allowRecurse?u+1:u))&&d.push(a),kS()}function HW(a){zS(a,k1,Y1,Zd)}function o_(a){zS(a,Cf,X1,Jd)}function a_(a,c=null){if(Y1.length){for(n4=c,k1=[...new Set(Y1)],Y1.length=0,Zd=0;Zd<k1.length;Zd++)k1[Zd]();k1=null,Zd=0,n4=null,a_(a,c)}}function Ng(a){if(X1.length){const c=[...new Set(X1)];if(X1.length=0,Cf){Cf.push(...c);return}for(Cf=c,Cf.sort((d,u)=>rv(d)-rv(u)),Jd=0;Jd<Cf.length;Jd++)Cf[Jd]();Cf=null,Jd=0}}const rv=a=>a.id==null?1/0:a.id;function VS(a){r4=!1,Ig=!0,a_(a),ku.sort((d,u)=>rv(d)-rv(u));const c=V0;try{for(jc=0;jc<ku.length;jc++){const d=ku[jc];d&&d.active!==!1&&yc(d,null,14)}}finally{jc=0,ku.length=0,Ng(),Ig=!1,n_=null,(ku.length||Y1.length||X1.length)&&VS(a)}}let qd,Sg=[];function WS(a,c){var d,u;qd=a,qd?(qd.enabled=!0,Sg.forEach(({event:p,args:g})=>qd.emit(p,...g)),Sg=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((u=(d=window.navigator)===null||d===void 0?void 0:d.userAgent)===null||u===void 0)&&u.includes("jsdom"))?((c.__VUE_DEVTOOLS_HOOK_REPLAY__=c.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(g=>{WS(g,c)}),setTimeout(()=>{qd||(c.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Sg=[])},3e3)):Sg=[]}function YW(a,c,...d){const u=a.vnode.props||Vo;let p=d;const g=c.startsWith("update:"),E=g&&c.slice(7);if(E&&E in u){const k=`${E==="modelValue"?"model":E}Modifiers`,{number:C,trim:z}=u[k]||Vo;z?p=d.map(it=>it.trim()):C&&(p=d.map(jf))}let b,M=u[b=W1(c)]||u[b=W1(Wu(c))];!M&&g&&(M=u[b=W1(mc(c))]),M&&Vu(M,a,6,p);const P=u[b+"Once"];if(P){if(!a.emitted)a.emitted={};else if(a.emitted[b])return;a.emitted[b]=!0,Vu(P,a,6,p)}}function HS(a,c,d=!1){const u=c.emitsCache,p=u.get(a);if(p!==void 0)return p;const g=a.emits;let E={},b=!1;if(!Fi(a)){const M=P=>{const k=HS(P,c,!0);k&&(b=!0,Ka(E,k))};!d&&c.mixins.length&&c.mixins.forEach(M),a.extends&&M(a.extends),a.mixins&&a.mixins.forEach(M)}return!g&&!b?(u.set(a,null),null):(Xn(g)?g.forEach(M=>E[M]=null):Ka(E,g),u.set(a,E),E)}function s_(a,c){return!a||!fv(c)?!1:(c=c.slice(2).replace(/Once$/,""),Po(a,c[0].toLowerCase()+c.slice(1))||Po(a,mc(c))||Po(a,c))}let zu=null,am=null;function nv(a){const c=zu;return zu=a,am=a&&a.type.__scopeId||null,c}function XW(a){am=a}function KW(){am=null}const $W=a=>l_;function l_(a,c=zu,d){if(!c||a._n)return a;const u=(...p)=>{u._d&&l4(-1);const g=nv(c),E=a(...p);return nv(g),u._d&&l4(1),E};return u._n=!0,u._c=!0,u._d=!0,u}function Rg(a){const{type:c,vnode:d,proxy:u,withProxy:p,props:g,propsOptions:[E],slots:b,attrs:M,emit:P,render:k,renderCache:C,data:z,setupState:it,ctx:q,inheritAttrs:tt}=a;let J,ot;const ct=nv(a);try{if(d.shapeFlag&4){const nt=p||u;J=Uu(k.call(nt,nt,C,g,it,z,q)),ot=M}else{const nt=c;J=Uu(nt.length>1?nt(g,{attrs:M,slots:b,emit:P}):nt(g,null)),ot=c.props?M:JW(M)}}catch(nt){Z1.length=0,Hh(nt,a,1),J=ia(kl)}let wt=J;if(ot&&tt!==!1){const nt=Object.keys(ot),{shapeFlag:F}=wt;nt.length&&F&7&&(E&&nt.some(z4)&&(ot=qW(ot,E)),wt=kf(wt,ot))}return d.dirs&&(wt.dirs=wt.dirs?wt.dirs.concat(d.dirs):d.dirs),d.transition&&(wt.transition=d.transition),J=wt,nv(ct),J}function ZW(a){let c;for(let d=0;d<a.length;d++){const u=a[d];if(Uf(u)){if(u.type!==kl||u.children==="v-if"){if(c)return;c=u}}else return}return c}const JW=a=>{let c;for(const d in a)(d==="class"||d==="style"||fv(d))&&((c||(c={}))[d]=a[d]);return c},qW=(a,c)=>{const d={};for(const u in a)(!z4(u)||!(u.slice(9)in c))&&(d[u]=a[u]);return d};function QW(a,c,d){const{props:u,children:p,component:g}=a,{props:E,children:b,patchFlag:M}=c,P=g.emitsOptions;if(c.dirs||c.transition)return!0;if(d&&M>=0){if(M&1024)return!0;if(M&16)return u?iE(u,E,P):!!E;if(M&8){const k=c.dynamicProps;for(let C=0;C<k.length;C++){const z=k[C];if(E[z]!==u[z]&&!s_(P,z))return!0}}}else return(p||b)&&(!b||!b.$stable)?!0:u===E?!1:u?E?iE(u,E,P):!0:!!E;return!1}function iE(a,c,d){const u=Object.keys(c);if(u.length!==Object.keys(a).length)return!0;for(let p=0;p<u.length;p++){const g=u[p];if(c[g]!==a[g]&&!s_(d,g))return!0}return!1}function u_({vnode:a,parent:c},d){for(;c&&c.subTree===a;)(a=c.vnode).el=d,c=c.parent}const tH=a=>a.__isSuspense,eH={name:"Suspense",__isSuspense:!0,process(a,c,d,u,p,g,E,b,M,P){a==null?nH(c,d,u,p,g,E,b,M,P):iH(a,c,d,u,p,E,b,M,P)},hydrate:oH,create:c_,normalize:aH},rH=eH;function iv(a,c){const d=a.props&&a.props[c];Fi(d)&&d()}function nH(a,c,d,u,p,g,E,b,M){const{p:P,o:{createElement:k}}=M,C=k("div"),z=a.suspense=c_(a,p,u,c,C,d,g,E,b,M);P(null,z.pendingBranch=a.ssContent,C,null,u,z,g,E),z.deps>0?(iv(a,"onPending"),iv(a,"onFallback"),P(null,a.ssFallback,c,d,u,null,g,E),ap(z,a.ssFallback)):z.resolve()}function iH(a,c,d,u,p,g,E,b,{p:M,um:P,o:{createElement:k}}){const C=c.suspense=a.suspense;C.vnode=c,c.el=a.el;const z=c.ssContent,it=c.ssFallback,{activeBranch:q,pendingBranch:tt,isInFallback:J,isHydrating:ot}=C;if(tt)C.pendingBranch=z,vc(z,tt)?(M(tt,z,C.hiddenContainer,null,p,C,g,E,b),C.deps<=0?C.resolve():J&&(M(q,it,d,u,p,null,g,E,b),ap(C,it))):(C.pendingId++,ot?(C.isHydrating=!1,C.activeBranch=tt):P(tt,p,C),C.deps=0,C.effects.length=0,C.hiddenContainer=k("div"),J?(M(null,z,C.hiddenContainer,null,p,C,g,E,b),C.deps<=0?C.resolve():(M(q,it,d,u,p,null,g,E,b),ap(C,it))):q&&vc(z,q)?(M(q,z,d,u,p,C,g,E,b),C.resolve(!0)):(M(null,z,C.hiddenContainer,null,p,C,g,E,b),C.deps<=0&&C.resolve()));else if(q&&vc(z,q))M(q,z,d,u,p,C,g,E,b),ap(C,z);else if(iv(c,"onPending"),C.pendingBranch=z,C.pendingId++,M(null,z,C.hiddenContainer,null,p,C,g,E,b),C.deps<=0)C.resolve();else{const{timeout:ct,pendingId:wt}=C;ct>0?setTimeout(()=>{C.pendingId===wt&&C.fallback(it)},ct):ct===0&&C.fallback(it)}}function c_(a,c,d,u,p,g,E,b,M,P,k=!1){const{p:C,m:z,um:it,n:q,o:{parentNode:tt,remove:J}}=P,ot=jf(a.props&&a.props.timeout),ct={vnode:a,parent:c,parentComponent:d,isSVG:E,container:u,hiddenContainer:p,anchor:g,deps:0,pendingId:0,timeout:typeof ot=="number"?ot:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:k,isUnmounted:!1,effects:[],resolve(wt=!1){const{vnode:nt,activeBranch:F,pendingBranch:bt,pendingId:jt,effects:te,parentComponent:Ot,container:ee}=ct;if(ct.isHydrating)ct.isHydrating=!1;else if(!wt){const le=F&&bt.transition&&bt.transition.mode==="out-in";le&&(F.transition.afterLeave=()=>{jt===ct.pendingId&&z(bt,ee,ye,0)});let{anchor:ye}=ct;F&&(ye=q(F),it(F,Ot,ct,!0)),le||z(bt,ee,ye,0)}ap(ct,bt),ct.pendingBranch=null,ct.isInFallback=!1;let Dt=ct.parent,Wt=!1;for(;Dt;){if(Dt.pendingBranch){Dt.effects.push(...te),Wt=!0;break}Dt=Dt.parent}Wt||o_(te),ct.effects=[],iv(nt,"onResolve")},fallback(wt){if(!ct.pendingBranch)return;const{vnode:nt,activeBranch:F,parentComponent:bt,container:jt,isSVG:te}=ct;iv(nt,"onFallback");const Ot=q(F),ee=()=>{!ct.isInFallback||(C(null,wt,jt,Ot,bt,null,te,b,M),ap(ct,wt))},Dt=wt.transition&&wt.transition.mode==="out-in";Dt&&(F.transition.afterLeave=ee),ct.isInFallback=!0,it(F,bt,null,!0),Dt||ee()},move(wt,nt,F){ct.activeBranch&&z(ct.activeBranch,wt,nt,F),ct.container=wt},next(){return ct.activeBranch&&q(ct.activeBranch)},registerDep(wt,nt){const F=!!ct.pendingBranch;F&&ct.deps++;const bt=wt.vnode.el;wt.asyncDep.catch(jt=>{Hh(jt,wt,0)}).then(jt=>{if(wt.isUnmounted||ct.isUnmounted||ct.pendingId!==wt.suspenseId)return;wt.asyncResolved=!0;const{vnode:te}=wt;f4(wt,jt,!1),bt&&(te.el=bt);const Ot=!bt&&wt.subTree.el;nt(wt,te,tt(bt||wt.subTree.el),bt?null:q(wt.subTree),ct,E,M),Ot&&J(Ot),u_(wt,te.el),F&&--ct.deps===0&&ct.resolve()})},unmount(wt,nt){ct.isUnmounted=!0,ct.activeBranch&&it(ct.activeBranch,d,wt,nt),ct.pendingBranch&&it(ct.pendingBranch,d,wt,nt)}};return ct}function oH(a,c,d,u,p,g,E,b,M){const P=c.suspense=c_(c,u,d,a.parentNode,document.createElement("div"),null,p,g,E,b,!0),k=M(a,P.pendingBranch=c.ssContent,d,P,g,E);return P.deps===0&&P.resolve(),k}function aH(a){const{shapeFlag:c,children:d}=a,u=c&32;a.ssContent=oE(u?d.default:d),a.ssFallback=u?oE(d.fallback):ia(kl)}function oE(a){let c;if(Fi(a)){const d=fp&&a._c;d&&(a._d=!1,fm()),a=a(),d&&(a._d=!0,c=_c,vw())}return Xn(a)&&(a=ZW(a)),a=Uu(a),c&&!a.dynamicChildren&&(a.dynamicChildren=c.filter(d=>d!==a)),a}function YS(a,c){c&&c.pendingBranch?Xn(a)?c.effects.push(...a):c.effects.push(a):o_(a)}function ap(a,c){a.activeBranch=c;const{vnode:d,parentComponent:u}=a,p=d.el=c.el;u&&u.subTree===d&&(u.vnode.el=p,u_(u,p))}function K1(a,c){if(xs){let d=xs.provides;const u=xs.parent&&xs.parent.provides;u===d&&(d=xs.provides=Object.create(u)),d[a]=c}}function gu(a,c,d=!1){const u=xs||zu;if(u){const p=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(p&&a in p)return p[a];if(arguments.length>1)return d&&Fi(c)?c.call(u.proxy):c}}function sH(a,c){return pv(a,null,c)}function XS(a,c){return pv(a,null,{flush:"post"})}function lH(a,c){return pv(a,null,{flush:"sync"})}const aE={};function Nf(a,c,d){return pv(a,c,d)}function pv(a,c,{immediate:d,deep:u,flush:p,onTrack:g,onTrigger:E}=Vo){const b=xs;let M,P=!1,k=!1;if(fs(a)?(M=()=>a.value,P=J4(a)):Bh(a)?(M=()=>a,u=!0):Xn(a)?(k=!0,P=a.some(Bh),M=()=>a.map(ot=>{if(fs(ot))return ot.value;if(Bh(ot))return Fh(ot);if(Fi(ot))return yc(ot,b,2)})):Fi(a)?c?M=()=>yc(a,b,2):M=()=>{if(!(b&&b.isUnmounted))return C&&C(),Vu(a,b,3,[z])}:M=V0,c&&u){const ot=M;M=()=>Fh(ot())}let C,z=ot=>{C=J.onStop=()=>{yc(ot,b,4)}};if(hp)return z=V0,c?d&&Vu(c,b,3,[M(),k?[]:void 0,z]):M(),V0;let it=k?[]:aE;const q=()=>{if(!!J.active)if(c){const ot=J.run();(u||P||(k?ot.some((ct,wt)=>tv(ct,it[wt])):tv(ot,it)))&&(C&&C(),Vu(c,b,3,[ot,it===aE?void 0:it,z]),it=ot)}else J.run()};q.allowRecurse=!!c;let tt;p==="sync"?tt=q:p==="post"?tt=()=>qs(q,b&&b.suspense):tt=()=>{!b||b.isMounted?HW(q):q()};const J=new dv(M,tt);return c?d?q():it=J.run():p==="post"?qs(J.run.bind(J),b&&b.suspense):J.run(),()=>{J.stop(),b&&b.scope&&V4(b.scope.effects,J)}}function uH(a,c,d){const u=this.proxy,p=Ia(a)?a.includes(".")?KS(u,a):()=>u[a]:a.bind(u,u);let g;Fi(c)?g=c:(g=c.handler,d=c);const E=xs;zf(this);const b=pv(p,g.bind(u),d);return E?zf(E):Ff(),b}function KS(a,c){const d=c.split(".");return()=>{let u=a;for(let p=0;p<d.length&&u;p++)u=u[d[p]];return u}}function Fh(a,c){if(!$a(a)||a.__v_skip||(c=c||new Set,c.has(a)))return a;if(c.add(a),fs(a))Fh(a.value,c);else if(Xn(a))for(let d=0;d<a.length;d++)Fh(a[d],c);else if(zh(a)||np(a))a.forEach(d=>{Fh(d,c)});else if(ES(a))for(const d in a)Fh(a[d],c);return a}function f_(){const a={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _p(()=>{a.isMounted=!0}),cm(()=>{a.isUnmounting=!0}),a}const v0=[Function,Array],cH={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:v0,onEnter:v0,onAfterEnter:v0,onEnterCancelled:v0,onBeforeLeave:v0,onLeave:v0,onAfterLeave:v0,onLeaveCancelled:v0,onBeforeAppear:v0,onAppear:v0,onAfterAppear:v0,onAppearCancelled:v0},setup(a,{slots:c}){const d=W0(),u=f_();let p;return()=>{const g=c.default&&sm(c.default(),!0);if(!g||!g.length)return;const E=vo(a),{mode:b}=E,M=g[0];if(u.isLeaving)return G3(M);const P=sE(M);if(!P)return G3(M);const k=cp(P,E,u,d);kh(P,k);const C=d.subTree,z=C&&sE(C);let it=!1;const{getTransitionKey:q}=P.type;if(q){const tt=q();p===void 0?p=tt:tt!==p&&(p=tt,it=!0)}if(z&&z.type!==kl&&(!vc(P,z)||it)){const tt=cp(z,E,u,d);if(kh(z,tt),b==="out-in")return u.isLeaving=!0,tt.afterLeave=()=>{u.isLeaving=!1,d.update()},G3(M);b==="in-out"&&P.type!==kl&&(tt.delayLeave=(J,ot,ct)=>{const wt=$S(u,z);wt[String(z.key)]=z,J._leaveCb=()=>{ot(),J._leaveCb=void 0,delete k.delayedLeave},k.delayedLeave=ct})}return M}}},h_=cH;function $S(a,c){const{leavingVNodes:d}=a;let u=d.get(c.type);return u||(u=Object.create(null),d.set(c.type,u)),u}function cp(a,c,d,u){const{appear:p,mode:g,persisted:E=!1,onBeforeEnter:b,onEnter:M,onAfterEnter:P,onEnterCancelled:k,onBeforeLeave:C,onLeave:z,onAfterLeave:it,onLeaveCancelled:q,onBeforeAppear:tt,onAppear:J,onAfterAppear:ot,onAppearCancelled:ct}=c,wt=String(a.key),nt=$S(d,a),F=(jt,te)=>{jt&&Vu(jt,u,9,te)},bt={mode:g,persisted:E,beforeEnter(jt){let te=b;if(!d.isMounted)if(p)te=tt||b;else return;jt._leaveCb&&jt._leaveCb(!0);const Ot=nt[wt];Ot&&vc(a,Ot)&&Ot.el._leaveCb&&Ot.el._leaveCb(),F(te,[jt])},enter(jt){let te=M,Ot=P,ee=k;if(!d.isMounted)if(p)te=J||M,Ot=ot||P,ee=ct||k;else return;let Dt=!1;const Wt=jt._enterCb=le=>{Dt||(Dt=!0,le?F(ee,[jt]):F(Ot,[jt]),bt.delayedLeave&&bt.delayedLeave(),jt._enterCb=void 0)};te?(te(jt,Wt),te.length<=1&&Wt()):Wt()},leave(jt,te){const Ot=String(a.key);if(jt._enterCb&&jt._enterCb(!0),d.isUnmounting)return te();F(C,[jt]);let ee=!1;const Dt=jt._leaveCb=Wt=>{ee||(ee=!0,te(),Wt?F(q,[jt]):F(it,[jt]),jt._leaveCb=void 0,nt[Ot]===a&&delete nt[Ot])};nt[Ot]=a,z?(z(jt,Dt),z.length<=1&&Dt()):Dt()},clone(jt){return cp(jt,c,d,u)}};return bt}function G3(a){if(gv(a))return a=kf(a),a.children=null,a}function sE(a){return gv(a)?a.children?a.children[0]:void 0:a}function kh(a,c){a.shapeFlag&6&&a.component?kh(a.component.subTree,c):a.shapeFlag&128?(a.ssContent.transition=c.clone(a.ssContent),a.ssFallback.transition=c.clone(a.ssFallback)):a.transition=c}function sm(a,c=!1){let d=[],u=0;for(let p=0;p<a.length;p++){const g=a[p];g.type===ws?(g.patchFlag&128&&u++,d=d.concat(sm(g.children,c))):(c||g.type!==kl)&&d.push(g)}if(u>1)for(let p=0;p<d.length;p++)d[p].patchFlag=-2;return d}function vv(a){return Fi(a)?{setup:a,name:a.name}:a}const ov=a=>!!a.type.__asyncLoader;function fH(a){Fi(a)&&(a={loader:a});const{loader:c,loadingComponent:d,errorComponent:u,delay:p=200,timeout:g,suspensible:E=!0,onError:b}=a;let M=null,P,k=0;const C=()=>(k++,M=null,z()),z=()=>{let it;return M||(it=M=c().catch(q=>{if(q=q instanceof Error?q:new Error(String(q)),b)return new Promise((tt,J)=>{b(q,()=>tt(C()),()=>J(q),k+1)});throw q}).then(q=>it!==M&&M?M:(q&&(q.__esModule||q[Symbol.toStringTag]==="Module")&&(q=q.default),P=q,q)))};return vv({name:"AsyncComponentWrapper",__asyncLoader:z,get __asyncResolved(){return P},setup(){const it=xs;if(P)return()=>B3(P,it);const q=ct=>{M=null,Hh(ct,it,13,!u)};if(E&&it.suspense||hp)return z().then(ct=>()=>B3(ct,it)).catch(ct=>(q(ct),()=>u?ia(u,{error:ct}):null));const tt=pc(!1),J=pc(),ot=pc(!!p);return p&&setTimeout(()=>{ot.value=!1},p),g!=null&&setTimeout(()=>{if(!tt.value&&!J.value){const ct=new Error(`Async component timed out after ${g}ms.`);q(ct),J.value=ct}},g),z().then(()=>{tt.value=!0,it.parent&&gv(it.parent.vnode)&&i_(it.parent.update)}).catch(ct=>{q(ct),J.value=ct}),()=>{if(tt.value&&P)return B3(P,it);if(J.value&&u)return ia(u,{error:J.value});if(d&&!ot.value)return ia(d)}}})}function B3(a,{vnode:{ref:c,props:d,children:u}}){const p=ia(a,d,u);return p.ref=c,p}const gv=a=>a.type.__isKeepAlive,hH={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(a,{slots:c}){const d=W0(),u=d.ctx;if(!u.renderer)return c.default;const p=new Map,g=new Set;let E=null;const b=d.suspense,{renderer:{p:M,m:P,um:k,o:{createElement:C}}}=u,z=C("div");u.activate=(ct,wt,nt,F,bt)=>{const jt=ct.component;P(ct,wt,nt,0,b),M(jt.vnode,ct,wt,nt,jt,b,F,ct.slotScopeIds,bt),qs(()=>{jt.isDeactivated=!1,jt.a&&ip(jt.a);const te=ct.props&&ct.props.onVnodeMounted;te&&vu(te,jt.parent,ct)},b)},u.deactivate=ct=>{const wt=ct.component;P(ct,z,null,1,b),qs(()=>{wt.da&&ip(wt.da);const nt=ct.props&&ct.props.onVnodeUnmounted;nt&&vu(nt,wt.parent,ct),wt.isDeactivated=!0},b)};function it(ct){U3(ct),k(ct,d,b,!0)}function q(ct){p.forEach((wt,nt)=>{const F=Bg(wt.type);F&&(!ct||!ct(F))&&tt(nt)})}function tt(ct){const wt=p.get(ct);!E||wt.type!==E.type?it(wt):E&&U3(E),p.delete(ct),g.delete(ct)}Nf(()=>[a.include,a.exclude],([ct,wt])=>{ct&&q(nt=>z1(ct,nt)),wt&&q(nt=>!z1(wt,nt))},{flush:"post",deep:!0});let J=null;const ot=()=>{J!=null&&p.set(J,k3(d.subTree))};return _p(ot),um(ot),cm(()=>{p.forEach(ct=>{const{subTree:wt,suspense:nt}=d,F=k3(wt);if(ct.type===F.type){U3(F);const bt=F.component.da;bt&&qs(bt,nt);return}it(ct)})}),()=>{if(J=null,!c.default)return null;const ct=c.default(),wt=ct[0];if(ct.length>1)return E=null,ct;if(!Uf(wt)||!(wt.shapeFlag&4)&&!(wt.shapeFlag&128))return E=null,wt;let nt=k3(wt);const F=nt.type,bt=Bg(ov(nt)?nt.type.__asyncResolved||{}:F),{include:jt,exclude:te,max:Ot}=a;if(jt&&(!bt||!z1(jt,bt))||te&&bt&&z1(te,bt))return E=nt,wt;const ee=nt.key==null?F:nt.key,Dt=p.get(ee);return nt.el&&(nt=kf(nt),wt.shapeFlag&128&&(wt.ssContent=nt)),J=ee,Dt?(nt.el=Dt.el,nt.component=Dt.component,nt.transition&&kh(nt,nt.transition),nt.shapeFlag|=512,g.delete(ee),g.add(ee)):(g.add(ee),Ot&&g.size>parseInt(Ot,10)&&tt(g.values().next().value)),nt.shapeFlag|=256,E=nt,wt}}},dH=hH;function z1(a,c){return Xn(a)?a.some(d=>z1(d,c)):Ia(a)?a.split(",").includes(c):a.test?a.test(c):!1}function d_(a,c){ZS(a,"a",c)}function p_(a,c){ZS(a,"da",c)}function ZS(a,c,d=xs){const u=a.__wdc||(a.__wdc=()=>{let p=d;for(;p;){if(p.isDeactivated)return;p=p.parent}return a()});if(lm(c,u,d),d){let p=d.parent;for(;p&&p.parent;)gv(p.parent.vnode)&&pH(u,c,d,p),p=p.parent}}function pH(a,c,d,u){const p=lm(c,a,u,!0);Ep(()=>{V4(u[c],p)},d)}function U3(a){let c=a.shapeFlag;c&256&&(c-=256),c&512&&(c-=512),a.shapeFlag=c}function k3(a){return a.shapeFlag&128?a.ssContent:a}function lm(a,c,d=xs,u=!1){if(d){const p=d[a]||(d[a]=[]),g=c.__weh||(c.__weh=(...E)=>{if(d.isUnmounted)return;Vh(),zf(d);const b=Vu(c,d,a,E);return Ff(),Wh(),b});return u?p.unshift(g):p.push(g),g}}const Uc=a=>(c,d=xs)=>(!hp||a==="sp")&&lm(a,c,d),JS=Uc("bm"),_p=Uc("m"),qS=Uc("bu"),um=Uc("u"),cm=Uc("bum"),Ep=Uc("um"),QS=Uc("sp"),tw=Uc("rtg"),ew=Uc("rtc");function rw(a,c=xs){lm("ec",a,c)}let i4=!0;function vH(a){const c=iw(a),d=a.proxy,u=a.ctx;i4=!1,c.beforeCreate&&lE(c.beforeCreate,a,"bc");const{data:p,computed:g,methods:E,watch:b,provide:M,inject:P,created:k,beforeMount:C,mounted:z,beforeUpdate:it,updated:q,activated:tt,deactivated:J,beforeDestroy:ot,beforeUnmount:ct,destroyed:wt,unmounted:nt,render:F,renderTracked:bt,renderTriggered:jt,errorCaptured:te,serverPrefetch:Ot,expose:ee,inheritAttrs:Dt,components:Wt,directives:le,filters:ye}=c;if(P&&gH(P,u,null,a.appContext.config.unwrapInjectedRef),E)for(const Kt in E){const ae=E[Kt];Fi(ae)&&(u[Kt]=ae.bind(d))}if(p){const Kt=p.call(d,d);$a(Kt)&&(a.data=yp(Kt))}if(i4=!0,g)for(const Kt in g){const ae=g[Kt],Sr=Fi(ae)?ae.bind(d,d):Fi(ae.get)?ae.get.bind(d,d):V0,xr=!Fi(ae)&&Fi(ae.set)?ae.set.bind(d):V0,ar=El({get:Sr,set:xr});Object.defineProperty(u,Kt,{enumerable:!0,configurable:!0,get:()=>ar.value,set:jr=>ar.value=jr})}if(b)for(const Kt in b)nw(b[Kt],u,d,Kt);if(M){const Kt=Fi(M)?M.call(d):M;Reflect.ownKeys(Kt).forEach(ae=>{K1(ae,Kt[ae])})}k&&lE(k,a,"c");function mt(Kt,ae){Xn(ae)?ae.forEach(Sr=>Kt(Sr.bind(d))):ae&&Kt(ae.bind(d))}if(mt(JS,C),mt(_p,z),mt(qS,it),mt(um,q),mt(d_,tt),mt(p_,J),mt(rw,te),mt(ew,bt),mt(tw,jt),mt(cm,ct),mt(Ep,nt),mt(QS,Ot),Xn(ee))if(ee.length){const Kt=a.exposed||(a.exposed={});ee.forEach(ae=>{Object.defineProperty(Kt,ae,{get:()=>d[ae],set:Sr=>d[ae]=Sr})})}else a.exposed||(a.exposed={});F&&a.render===V0&&(a.render=F),Dt!=null&&(a.inheritAttrs=Dt),Wt&&(a.components=Wt),le&&(a.directives=le)}function gH(a,c,d=V0,u=!1){Xn(a)&&(a=o4(a));for(const p in a){const g=a[p];let E;$a(g)?"default"in g?E=gu(g.from||p,g.default,!0):E=gu(g.from||p):E=gu(g),fs(E)&&u?Object.defineProperty(c,p,{enumerable:!0,configurable:!0,get:()=>E.value,set:b=>E.value=b}):c[p]=E}}function lE(a,c,d){Vu(Xn(a)?a.map(u=>u.bind(c.proxy)):a.bind(c.proxy),c,d)}function nw(a,c,d,u){const p=u.includes(".")?KS(d,u):()=>d[u];if(Ia(a)){const g=c[a];Fi(g)&&Nf(p,g)}else if(Fi(a))Nf(p,a.bind(d));else if($a(a))if(Xn(a))a.forEach(g=>nw(g,c,d,u));else{const g=Fi(a.handler)?a.handler.bind(d):c[a.handler];Fi(g)&&Nf(p,g,a)}}function iw(a){const c=a.type,{mixins:d,extends:u}=c,{mixins:p,optionsCache:g,config:{optionMergeStrategies:E}}=a.appContext,b=g.get(c);let M;return b?M=b:!p.length&&!d&&!u?M=c:(M={},p.length&&p.forEach(P=>Fg(M,P,E,!0)),Fg(M,c,E)),g.set(c,M),M}function Fg(a,c,d,u=!1){const{mixins:p,extends:g}=c;g&&Fg(a,g,d,!0),p&&p.forEach(E=>Fg(a,E,d,!0));for(const E in c)if(!(u&&E==="expose")){const b=mH[E]||d&&d[E];a[E]=b?b(a[E],c[E]):c[E]}return a}const mH={data:uE,props:Ph,emits:Ph,methods:Ph,computed:Ph,beforeCreate:Bl,created:Bl,beforeMount:Bl,mounted:Bl,beforeUpdate:Bl,updated:Bl,beforeDestroy:Bl,beforeUnmount:Bl,destroyed:Bl,unmounted:Bl,activated:Bl,deactivated:Bl,errorCaptured:Bl,serverPrefetch:Bl,components:Ph,directives:Ph,watch:_H,provide:uE,inject:yH};function uE(a,c){return c?a?function(){return Ka(Fi(a)?a.call(this,this):a,Fi(c)?c.call(this,this):c)}:c:a}function yH(a,c){return Ph(o4(a),o4(c))}function o4(a){if(Xn(a)){const c={};for(let d=0;d<a.length;d++)c[a[d]]=a[d];return c}return a}function Bl(a,c){return a?[...new Set([].concat(a,c))]:c}function Ph(a,c){return a?Ka(Ka(Object.create(null),a),c):c}function _H(a,c){if(!a)return c;if(!c)return a;const d=Ka(Object.create(null),a);for(const u in c)d[u]=Bl(a[u],c[u]);return d}function EH(a,c,d,u=!1){const p={},g={};Pg(g,hm,1),a.propsDefaults=Object.create(null),ow(a,c,p,g);for(const E in a.propsOptions[0])E in p||(p[E]=void 0);d?a.props=u?p:NS(p):a.type.props?a.props=p:a.props=g,a.attrs=g}function SH(a,c,d,u){const{props:p,attrs:g,vnode:{patchFlag:E}}=a,b=vo(p),[M]=a.propsOptions;let P=!1;if((u||E>0)&&!(E&16)){if(E&8){const k=a.vnode.dynamicProps;for(let C=0;C<k.length;C++){let z=k[C];const it=c[z];if(M)if(Po(g,z))it!==g[z]&&(g[z]=it,P=!0);else{const q=Wu(z);p[q]=a4(M,b,q,it,a,!1)}else it!==g[z]&&(g[z]=it,P=!0)}}}else{ow(a,c,p,g)&&(P=!0);let k;for(const C in b)(!c||!Po(c,C)&&((k=mc(C))===C||!Po(c,k)))&&(M?d&&(d[C]!==void 0||d[k]!==void 0)&&(p[C]=a4(M,b,C,void 0,a,!0)):delete p[C]);if(g!==b)for(const C in g)(!c||!Po(c,C)&&!0)&&(delete g[C],P=!0)}P&&Bc(a,"set","$attrs")}function ow(a,c,d,u){const[p,g]=a.propsOptions;let E=!1,b;if(c)for(let M in c){if(V1(M))continue;const P=c[M];let k;p&&Po(p,k=Wu(M))?!g||!g.includes(k)?d[k]=P:(b||(b={}))[k]=P:s_(a.emitsOptions,M)||(!(M in u)||P!==u[M])&&(u[M]=P,E=!0)}if(g){const M=vo(d),P=b||Vo;for(let k=0;k<g.length;k++){const C=g[k];d[C]=a4(p,M,C,P[C],a,!Po(P,C))}}return E}function a4(a,c,d,u,p,g){const E=a[d];if(E!=null){const b=Po(E,"default");if(b&&u===void 0){const M=E.default;if(E.type!==Function&&Fi(M)){const{propsDefaults:P}=p;d in P?u=P[d]:(zf(p),u=P[d]=M.call(null,c),Ff())}else u=M}E[0]&&(g&&!b?u=!1:E[1]&&(u===""||u===mc(d))&&(u=!0))}return u}function aw(a,c,d=!1){const u=c.propsCache,p=u.get(a);if(p)return p;const g=a.props,E={},b=[];let M=!1;if(!Fi(a)){const k=C=>{M=!0;const[z,it]=aw(C,c,!0);Ka(E,z),it&&b.push(...it)};!d&&c.mixins.length&&c.mixins.forEach(k),a.extends&&k(a.extends),a.mixins&&a.mixins.forEach(k)}if(!g&&!M)return u.set(a,rp),rp;if(Xn(g))for(let k=0;k<g.length;k++){const C=Wu(g[k]);cE(C)&&(E[C]=Vo)}else if(g)for(const k in g){const C=Wu(k);if(cE(C)){const z=g[k],it=E[C]=Xn(z)||Fi(z)?{type:z}:z;if(it){const q=dE(Boolean,it.type),tt=dE(String,it.type);it[0]=q>-1,it[1]=tt<0||q<tt,(q>-1||Po(it,"default"))&&b.push(C)}}}const P=[E,b];return u.set(a,P),P}function cE(a){return a[0]!=="$"}function fE(a){const c=a&&a.toString().match(/^\s*function (\w+)/);return c?c[1]:a===null?"null":""}function hE(a,c){return fE(a)===fE(c)}function dE(a,c){return Xn(c)?c.findIndex(d=>hE(d,a)):Fi(c)&&hE(c,a)?0:-1}const sw=a=>a[0]==="_"||a==="$stable",v_=a=>Xn(a)?a.map(Uu):[Uu(a)],wH=(a,c,d)=>{const u=l_((...p)=>v_(c(...p)),d);return u._c=!1,u},lw=(a,c,d)=>{const u=a._ctx;for(const p in a){if(sw(p))continue;const g=a[p];if(Fi(g))c[p]=wH(p,g,u);else if(g!=null){const E=v_(g);c[p]=()=>E}}},uw=(a,c)=>{const d=v_(c);a.slots.default=()=>d},xH=(a,c)=>{if(a.vnode.shapeFlag&32){const d=c._;d?(a.slots=vo(c),Pg(c,"_",d)):lw(c,a.slots={})}else a.slots={},c&&uw(a,c);Pg(a.slots,hm,1)},OH=(a,c,d)=>{const{vnode:u,slots:p}=a;let g=!0,E=Vo;if(u.shapeFlag&32){const b=c._;b?d&&b===1?g=!1:(Ka(p,c),!d&&b===1&&delete p._):(g=!c.$stable,lw(c,p)),E=c}else c&&(uw(a,c),E={default:1});if(g)for(const b in p)!sw(b)&&!(b in E)&&delete p[b]};function TH(a,c){const d=zu;if(d===null)return a;const u=d.proxy,p=a.dirs||(a.dirs=[]);for(let g=0;g<c.length;g++){let[E,b,M,P=Vo]=c[g];Fi(E)&&(E={mounted:E,updated:E}),E.deep&&Fh(b),p.push({dir:E,instance:u,value:b,oldValue:void 0,arg:M,modifiers:P})}return a}function dc(a,c,d,u){const p=a.dirs,g=c&&c.dirs;for(let E=0;E<p.length;E++){const b=p[E];g&&(b.oldValue=g[E].value);let M=b.dir[u];M&&(Vh(),Vu(M,d,8,[a.el,b,a,c]),Wh())}}function cw(){return{app:null,config:{isNativeTag:WV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bH=0;function AH(a,c){return function(u,p=null){p!=null&&!$a(p)&&(p=null);const g=cw(),E=new Set;let b=!1;const M=g.app={_uid:bH++,_component:u,_props:p,_container:null,_context:g,_instance:null,version:Cw,get config(){return g.config},set config(P){},use(P,...k){return E.has(P)||(P&&Fi(P.install)?(E.add(P),P.install(M,...k)):Fi(P)&&(E.add(P),P(M,...k))),M},mixin(P){return g.mixins.includes(P)||g.mixins.push(P),M},component(P,k){return k?(g.components[P]=k,M):g.components[P]},directive(P,k){return k?(g.directives[P]=k,M):g.directives[P]},mount(P,k,C){if(!b){const z=ia(u,p);return z.appContext=g,k&&c?c(z,P):a(z,P,C),b=!0,M._container=P,P.__vue_app__=M,x_(z.component)||z.component.proxy}},unmount(){b&&(a(null,M._container),delete M._container.__vue_app__)},provide(P,k){return g.provides[P]=k,M}};return M}}function Dg(a,c,d,u,p=!1){if(Xn(a)){a.forEach((z,it)=>Dg(z,c&&(Xn(c)?c[it]:c),d,u,p));return}if(ov(u)&&!p)return;const g=u.shapeFlag&4?x_(u.component)||u.component.proxy:u.el,E=p?null:g,{i:b,r:M}=a,P=c&&c.r,k=b.refs===Vo?b.refs={}:b.refs,C=b.setupState;if(P!=null&&P!==M&&(Ia(P)?(k[P]=null,Po(C,P)&&(C[P]=null)):fs(P)&&(P.value=null)),Fi(M))yc(M,b,12,[E,k]);else{const z=Ia(M),it=fs(M);if(z||it){const q=()=>{if(a.f){const tt=z?k[M]:M.value;p?Xn(tt)&&V4(tt,g):Xn(tt)?tt.includes(g)||tt.push(g):z?k[M]=[g]:(M.value=[g],a.k&&(k[a.k]=M.value))}else z?(k[M]=E,Po(C,M)&&(C[M]=E)):fs(M)&&(M.value=E,a.k&&(k[a.k]=E))};E?(q.id=-1,qs(q,d)):q()}}}let Tf=!1;const wg=a=>/svg/.test(a.namespaceURI)&&a.tagName!=="foreignObject",z3=a=>a.nodeType===8;function MH(a){const{mt:c,p:d,o:{patchProp:u,nextSibling:p,parentNode:g,remove:E,insert:b,createComment:M}}=a,P=(J,ot)=>{if(!ot.hasChildNodes()){d(null,J,ot),Ng();return}Tf=!1,k(ot.firstChild,J,null,null,null),Ng(),Tf&&console.error("Hydration completed but contains mismatches.")},k=(J,ot,ct,wt,nt,F=!1)=>{const bt=z3(J)&&J.data==="[",jt=()=>q(J,ot,ct,wt,nt,bt),{type:te,ref:Ot,shapeFlag:ee}=ot,Dt=J.nodeType;ot.el=J;let Wt=null;switch(te){case Bf:Dt!==3?Wt=jt():(J.data!==ot.children&&(Tf=!0,J.data=ot.children),Wt=p(J));break;case kl:Dt!==8||bt?Wt=jt():Wt=p(J);break;case Uh:if(Dt!==1)Wt=jt();else{Wt=J;const le=!ot.children.length;for(let ye=0;ye<ot.staticCount;ye++)le&&(ot.children+=Wt.outerHTML),ye===ot.staticCount-1&&(ot.anchor=Wt),Wt=p(Wt);return Wt}break;case ws:bt?Wt=it(J,ot,ct,wt,nt,F):Wt=jt();break;default:if(ee&1)Dt!==1||ot.type.toLowerCase()!==J.tagName.toLowerCase()?Wt=jt():Wt=C(J,ot,ct,wt,nt,F);else if(ee&6){ot.slotScopeIds=nt;const le=g(J);if(c(ot,le,null,ct,wt,wg(le),F),Wt=bt?tt(J):p(J),ov(ot)){let ye;bt?(ye=ia(ws),ye.anchor=Wt?Wt.previousSibling:le.lastChild):ye=J.nodeType===3?S_(""):ia("div"),ye.el=J,ot.component.subTree=ye}}else ee&64?Dt!==8?Wt=jt():Wt=ot.type.hydrate(J,ot,ct,wt,nt,F,a,z):ee&128&&(Wt=ot.type.hydrate(J,ot,ct,wt,wg(g(J)),nt,F,a,k))}return Ot!=null&&Dg(Ot,null,wt,ot),Wt},C=(J,ot,ct,wt,nt,F)=>{F=F||!!ot.dynamicChildren;const{type:bt,props:jt,patchFlag:te,shapeFlag:Ot,dirs:ee}=ot,Dt=bt==="input"&&ee||bt==="option";if(Dt||te!==-1){if(ee&&dc(ot,null,ct,"created"),jt)if(Dt||!F||te&48)for(const le in jt)(Dt&&le.endsWith("value")||fv(le)&&!V1(le))&&u(J,le,null,jt[le],!1,void 0,ct);else jt.onClick&&u(J,"onClick",null,jt.onClick,!1,void 0,ct);let Wt;if((Wt=jt&&jt.onVnodeBeforeMount)&&vu(Wt,ct,ot),ee&&dc(ot,null,ct,"beforeMount"),((Wt=jt&&jt.onVnodeMounted)||ee)&&YS(()=>{Wt&&vu(Wt,ct,ot),ee&&dc(ot,null,ct,"mounted")},wt),Ot&16&&!(jt&&(jt.innerHTML||jt.textContent))){let le=z(J.firstChild,ot,J,ct,wt,nt,F);for(;le;){Tf=!0;const ye=le;le=le.nextSibling,E(ye)}}else Ot&8&&J.textContent!==ot.children&&(Tf=!0,J.textContent=ot.children)}return J.nextSibling},z=(J,ot,ct,wt,nt,F,bt)=>{bt=bt||!!ot.dynamicChildren;const jt=ot.children,te=jt.length;for(let Ot=0;Ot<te;Ot++){const ee=bt?jt[Ot]:jt[Ot]=Uu(jt[Ot]);if(J)J=k(J,ee,wt,nt,F,bt);else{if(ee.type===Bf&&!ee.children)continue;Tf=!0,d(null,ee,ct,null,wt,nt,wg(ct),F)}}return J},it=(J,ot,ct,wt,nt,F)=>{const{slotScopeIds:bt}=ot;bt&&(nt=nt?nt.concat(bt):bt);const jt=g(J),te=z(p(J),ot,jt,ct,wt,nt,F);return te&&z3(te)&&te.data==="]"?p(ot.anchor=te):(Tf=!0,b(ot.anchor=M("]"),jt,te),te)},q=(J,ot,ct,wt,nt,F)=>{if(Tf=!0,ot.el=null,F){const te=tt(J);for(;;){const Ot=p(J);if(Ot&&Ot!==te)E(Ot);else break}}const bt=p(J),jt=g(J);return E(J),d(null,ot,jt,bt,ct,wt,wg(jt),nt),bt},tt=J=>{let ot=0;for(;J;)if(J=p(J),J&&z3(J)&&(J.data==="["&&ot++,J.data==="]")){if(ot===0)return p(J);ot--}return J};return[P,k]}const qs=YS;function fw(a){return dw(a)}function hw(a){return dw(a,MH)}function dw(a,c){const d=ZV();d.__VUE__=!0;const{insert:u,remove:p,patchProp:g,createElement:E,createText:b,createComment:M,setText:P,setElementText:k,parentNode:C,nextSibling:z,setScopeId:it=V0,cloneNode:q,insertStaticContent:tt}=a,J=(Tt,ft,Rt,Qt=null,$t=null,he=null,Pe=!1,Ue=null,Gt=!!ft.dynamicChildren)=>{if(Tt===ft)return;Tt&&!vc(Tt,ft)&&(Qt=Fr(Tt),Xr(Tt,$t,he,!0),Tt=null),ft.patchFlag===-2&&(Gt=!1,ft.dynamicChildren=null);const{type:at,ref:$,shapeFlag:Q}=ft;switch(at){case Bf:ot(Tt,ft,Rt,Qt);break;case kl:ct(Tt,ft,Rt,Qt);break;case Uh:Tt==null&&wt(ft,Rt,Qt,Pe);break;case ws:le(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt);break;default:Q&1?bt(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt):Q&6?ye(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt):(Q&64||Q&128)&&at.process(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt,Ur)}$!=null&&$t&&Dg($,Tt&&Tt.ref,he,ft||Tt,!ft)},ot=(Tt,ft,Rt,Qt)=>{if(Tt==null)u(ft.el=b(ft.children),Rt,Qt);else{const $t=ft.el=Tt.el;ft.children!==Tt.children&&P($t,ft.children)}},ct=(Tt,ft,Rt,Qt)=>{Tt==null?u(ft.el=M(ft.children||""),Rt,Qt):ft.el=Tt.el},wt=(Tt,ft,Rt,Qt)=>{[Tt.el,Tt.anchor]=tt(Tt.children,ft,Rt,Qt,Tt.el,Tt.anchor)},nt=({el:Tt,anchor:ft},Rt,Qt)=>{let $t;for(;Tt&&Tt!==ft;)$t=z(Tt),u(Tt,Rt,Qt),Tt=$t;u(ft,Rt,Qt)},F=({el:Tt,anchor:ft})=>{let Rt;for(;Tt&&Tt!==ft;)Rt=z(Tt),p(Tt),Tt=Rt;p(ft)},bt=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt)=>{Pe=Pe||ft.type==="svg",Tt==null?jt(ft,Rt,Qt,$t,he,Pe,Ue,Gt):ee(Tt,ft,$t,he,Pe,Ue,Gt)},jt=(Tt,ft,Rt,Qt,$t,he,Pe,Ue)=>{let Gt,at;const{type:$,props:Q,shapeFlag:dt,transition:ue,patchFlag:De,dirs:We}=Tt;if(Tt.el&&q!==void 0&&De===-1)Gt=Tt.el=q(Tt.el);else{if(Gt=Tt.el=E(Tt.type,he,Q&&Q.is,Q),dt&8?k(Gt,Tt.children):dt&16&&Ot(Tt.children,Gt,null,Qt,$t,he&&$!=="foreignObject",Pe,Ue),We&&dc(Tt,null,Qt,"created"),Q){for(const tn in Q)tn!=="value"&&!V1(tn)&&g(Gt,tn,null,Q[tn],he,Tt.children,Qt,$t,_r);"value"in Q&&g(Gt,"value",null,Q.value),(at=Q.onVnodeBeforeMount)&&vu(at,Qt,Tt)}te(Gt,Tt,Tt.scopeId,Pe,Qt)}We&&dc(Tt,null,Qt,"beforeMount");const Pr=(!$t||$t&&!$t.pendingBranch)&&ue&&!ue.persisted;Pr&&ue.beforeEnter(Gt),u(Gt,ft,Rt),((at=Q&&Q.onVnodeMounted)||Pr||We)&&qs(()=>{at&&vu(at,Qt,Tt),Pr&&ue.enter(Gt),We&&dc(Tt,null,Qt,"mounted")},$t)},te=(Tt,ft,Rt,Qt,$t)=>{if(Rt&&it(Tt,Rt),Qt)for(let he=0;he<Qt.length;he++)it(Tt,Qt[he]);if($t){let he=$t.subTree;if(ft===he){const Pe=$t.vnode;te(Tt,Pe,Pe.scopeId,Pe.slotScopeIds,$t.parent)}}},Ot=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt=0)=>{for(let at=Gt;at<Tt.length;at++){const $=Tt[at]=Ue?Lf(Tt[at]):Uu(Tt[at]);J(null,$,ft,Rt,Qt,$t,he,Pe,Ue)}},ee=(Tt,ft,Rt,Qt,$t,he,Pe)=>{const Ue=ft.el=Tt.el;let{patchFlag:Gt,dynamicChildren:at,dirs:$}=ft;Gt|=Tt.patchFlag&16;const Q=Tt.props||Vo,dt=ft.props||Vo;let ue;Rt&&Rh(Rt,!1),(ue=dt.onVnodeBeforeUpdate)&&vu(ue,Rt,ft,Tt),$&&dc(ft,Tt,Rt,"beforeUpdate"),Rt&&Rh(Rt,!0);const De=$t&&ft.type!=="foreignObject";if(at?Dt(Tt.dynamicChildren,at,Ue,Rt,Qt,De,he):Pe||Sr(Tt,ft,Ue,null,Rt,Qt,De,he,!1),Gt>0){if(Gt&16)Wt(Ue,ft,Q,dt,Rt,Qt,$t);else if(Gt&2&&Q.class!==dt.class&&g(Ue,"class",null,dt.class,$t),Gt&4&&g(Ue,"style",Q.style,dt.style,$t),Gt&8){const We=ft.dynamicProps;for(let Pr=0;Pr<We.length;Pr++){const tn=We[Pr],ln=Q[tn],Fn=dt[tn];(Fn!==ln||tn==="value")&&g(Ue,tn,ln,Fn,$t,Tt.children,Rt,Qt,_r)}}Gt&1&&Tt.children!==ft.children&&k(Ue,ft.children)}else!Pe&&at==null&&Wt(Ue,ft,Q,dt,Rt,Qt,$t);((ue=dt.onVnodeUpdated)||$)&&qs(()=>{ue&&vu(ue,Rt,ft,Tt),$&&dc(ft,Tt,Rt,"updated")},Qt)},Dt=(Tt,ft,Rt,Qt,$t,he,Pe)=>{for(let Ue=0;Ue<ft.length;Ue++){const Gt=Tt[Ue],at=ft[Ue],$=Gt.el&&(Gt.type===ws||!vc(Gt,at)||Gt.shapeFlag&70)?C(Gt.el):Rt;J(Gt,at,$,null,Qt,$t,he,Pe,!0)}},Wt=(Tt,ft,Rt,Qt,$t,he,Pe)=>{if(Rt!==Qt){for(const Ue in Qt){if(V1(Ue))continue;const Gt=Qt[Ue],at=Rt[Ue];Gt!==at&&Ue!=="value"&&g(Tt,Ue,at,Gt,Pe,ft.children,$t,he,_r)}if(Rt!==Vo)for(const Ue in Rt)!V1(Ue)&&!(Ue in Qt)&&g(Tt,Ue,Rt[Ue],null,Pe,ft.children,$t,he,_r);"value"in Qt&&g(Tt,"value",Rt.value,Qt.value)}},le=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt)=>{const at=ft.el=Tt?Tt.el:b(""),$=ft.anchor=Tt?Tt.anchor:b("");let{patchFlag:Q,dynamicChildren:dt,slotScopeIds:ue}=ft;ue&&(Ue=Ue?Ue.concat(ue):ue),Tt==null?(u(at,Rt,Qt),u($,Rt,Qt),Ot(ft.children,Rt,$,$t,he,Pe,Ue,Gt)):Q>0&&Q&64&&dt&&Tt.dynamicChildren?(Dt(Tt.dynamicChildren,dt,Rt,$t,he,Pe,Ue),(ft.key!=null||$t&&ft===$t.subTree)&&g_(Tt,ft,!0)):Sr(Tt,ft,Rt,$,$t,he,Pe,Ue,Gt)},ye=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt)=>{ft.slotScopeIds=Ue,Tt==null?ft.shapeFlag&512?$t.ctx.activate(ft,Rt,Qt,Pe,Gt):Qe(ft,Rt,Qt,$t,he,Pe,Gt):mt(Tt,ft,Gt)},Qe=(Tt,ft,Rt,Qt,$t,he,Pe)=>{const Ue=Tt.component=Sw(Tt,Qt,$t);if(gv(Tt)&&(Ue.ctx.renderer=Ur),xw(Ue),Ue.asyncDep){if($t&&$t.registerDep(Ue,Kt),!Tt.el){const Gt=Ue.subTree=ia(kl);ct(null,Gt,ft,Rt)}return}Kt(Ue,Tt,ft,Rt,$t,he,Pe)},mt=(Tt,ft,Rt)=>{const Qt=ft.component=Tt.component;if(QW(Tt,ft,Rt))if(Qt.asyncDep&&!Qt.asyncResolved){ae(Qt,ft,Rt);return}else Qt.next=ft,WW(Qt.update),Qt.update();else ft.component=Tt.component,ft.el=Tt.el,Qt.vnode=ft},Kt=(Tt,ft,Rt,Qt,$t,he,Pe)=>{const Ue=()=>{if(Tt.isMounted){let{next:$,bu:Q,u:dt,parent:ue,vnode:De}=Tt,We=$,Pr;Rh(Tt,!1),$?($.el=De.el,ae(Tt,$,Pe)):$=De,Q&&ip(Q),(Pr=$.props&&$.props.onVnodeBeforeUpdate)&&vu(Pr,ue,$,De),Rh(Tt,!0);const tn=Rg(Tt),ln=Tt.subTree;Tt.subTree=tn,J(ln,tn,C(ln.el),Fr(ln),Tt,$t,he),$.el=tn.el,We===null&&u_(Tt,tn.el),dt&&qs(dt,$t),(Pr=$.props&&$.props.onVnodeUpdated)&&qs(()=>vu(Pr,ue,$,De),$t)}else{let $;const{el:Q,props:dt}=ft,{bm:ue,m:De,parent:We}=Tt,Pr=ov(ft);if(Rh(Tt,!1),ue&&ip(ue),!Pr&&($=dt&&dt.onVnodeBeforeMount)&&vu($,We,ft),Rh(Tt,!0),Q&&ie){const tn=()=>{Tt.subTree=Rg(Tt),ie(Q,Tt.subTree,Tt,$t,null)};Pr?ft.type.__asyncLoader().then(()=>!Tt.isUnmounted&&tn()):tn()}else{const tn=Tt.subTree=Rg(Tt);J(null,tn,Rt,Qt,Tt,$t,he),ft.el=tn.el}if(De&&qs(De,$t),!Pr&&($=dt&&dt.onVnodeMounted)){const tn=ft;qs(()=>vu($,We,tn),$t)}ft.shapeFlag&256&&Tt.a&&qs(Tt.a,$t),Tt.isMounted=!0,ft=Rt=Qt=null}},Gt=Tt.effect=new dv(Ue,()=>i_(Tt.update),Tt.scope),at=Tt.update=Gt.run.bind(Gt);at.id=Tt.uid,Rh(Tt,!0),at()},ae=(Tt,ft,Rt)=>{ft.component=Tt;const Qt=Tt.vnode.props;Tt.vnode=ft,Tt.next=null,SH(Tt,ft.props,Qt,Rt),OH(Tt,ft.children,Rt),Vh(),a_(void 0,Tt.update),Wh()},Sr=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt=!1)=>{const at=Tt&&Tt.children,$=Tt?Tt.shapeFlag:0,Q=ft.children,{patchFlag:dt,shapeFlag:ue}=ft;if(dt>0){if(dt&128){ar(at,Q,Rt,Qt,$t,he,Pe,Ue,Gt);return}else if(dt&256){xr(at,Q,Rt,Qt,$t,he,Pe,Ue,Gt);return}}ue&8?($&16&&_r(at,$t,he),Q!==at&&k(Rt,Q)):$&16?ue&16?ar(at,Q,Rt,Qt,$t,he,Pe,Ue,Gt):_r(at,$t,he,!0):($&8&&k(Rt,""),ue&16&&Ot(Q,Rt,Qt,$t,he,Pe,Ue,Gt))},xr=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt)=>{Tt=Tt||rp,ft=ft||rp;const at=Tt.length,$=ft.length,Q=Math.min(at,$);let dt;for(dt=0;dt<Q;dt++){const ue=ft[dt]=Gt?Lf(ft[dt]):Uu(ft[dt]);J(Tt[dt],ue,Rt,null,$t,he,Pe,Ue,Gt)}at>$?_r(Tt,$t,he,!0,!1,Q):Ot(ft,Rt,Qt,$t,he,Pe,Ue,Gt,Q)},ar=(Tt,ft,Rt,Qt,$t,he,Pe,Ue,Gt)=>{let at=0;const $=ft.length;let Q=Tt.length-1,dt=$-1;for(;at<=Q&&at<=dt;){const ue=Tt[at],De=ft[at]=Gt?Lf(ft[at]):Uu(ft[at]);if(vc(ue,De))J(ue,De,Rt,null,$t,he,Pe,Ue,Gt);else break;at++}for(;at<=Q&&at<=dt;){const ue=Tt[Q],De=ft[dt]=Gt?Lf(ft[dt]):Uu(ft[dt]);if(vc(ue,De))J(ue,De,Rt,null,$t,he,Pe,Ue,Gt);else break;Q--,dt--}if(at>Q){if(at<=dt){const ue=dt+1,De=ue<$?ft[ue].el:Qt;for(;at<=dt;)J(null,ft[at]=Gt?Lf(ft[at]):Uu(ft[at]),Rt,De,$t,he,Pe,Ue,Gt),at++}}else if(at>dt)for(;at<=Q;)Xr(Tt[at],$t,he,!0),at++;else{const ue=at,De=at,We=new Map;for(at=De;at<=dt;at++){const Kn=ft[at]=Gt?Lf(ft[at]):Uu(ft[at]);Kn.key!=null&&We.set(Kn.key,at)}let Pr,tn=0;const ln=dt-De+1;let Fn=!1,qn=0;const Ci=new Array(ln);for(at=0;at<ln;at++)Ci[at]=0;for(at=ue;at<=Q;at++){const Kn=Tt[at];if(tn>=ln){Xr(Kn,$t,he,!0);continue}let ui;if(Kn.key!=null)ui=We.get(Kn.key);else for(Pr=De;Pr<=dt;Pr++)if(Ci[Pr-De]===0&&vc(Kn,ft[Pr])){ui=Pr;break}ui===void 0?Xr(Kn,$t,he,!0):(Ci[ui-De]=at+1,ui>=qn?qn=ui:Fn=!0,J(Kn,ft[ui],Rt,null,$t,he,Pe,Ue,Gt),tn++)}const ao=Fn?RH(Ci):rp;for(Pr=ao.length-1,at=ln-1;at>=0;at--){const Kn=De+at,ui=ft[Kn],Li=Kn+1<$?ft[Kn+1].el:Qt;Ci[at]===0?J(null,ui,Rt,Li,$t,he,Pe,Ue,Gt):Fn&&(Pr<0||at!==ao[Pr]?jr(ui,Rt,Li,2):Pr--)}}},jr=(Tt,ft,Rt,Qt,$t=null)=>{const{el:he,type:Pe,transition:Ue,children:Gt,shapeFlag:at}=Tt;if(at&6){jr(Tt.component.subTree,ft,Rt,Qt);return}if(at&128){Tt.suspense.move(ft,Rt,Qt);return}if(at&64){Pe.move(Tt,ft,Rt,Ur);return}if(Pe===ws){u(he,ft,Rt);for(let Q=0;Q<Gt.length;Q++)jr(Gt[Q],ft,Rt,Qt);u(Tt.anchor,ft,Rt);return}if(Pe===Uh){nt(Tt,ft,Rt);return}if(Qt!==2&&at&1&&Ue)if(Qt===0)Ue.beforeEnter(he),u(he,ft,Rt),qs(()=>Ue.enter(he),$t);else{const{leave:Q,delayLeave:dt,afterLeave:ue}=Ue,De=()=>u(he,ft,Rt),We=()=>{Q(he,()=>{De(),ue&&ue()})};dt?dt(he,De,We):We()}else u(he,ft,Rt)},Xr=(Tt,ft,Rt,Qt=!1,$t=!1)=>{const{type:he,props:Pe,ref:Ue,children:Gt,dynamicChildren:at,shapeFlag:$,patchFlag:Q,dirs:dt}=Tt;if(Ue!=null&&Dg(Ue,null,Rt,Tt,!0),$&256){ft.ctx.deactivate(Tt);return}const ue=$&1&&dt,De=!ov(Tt);let We;if(De&&(We=Pe&&Pe.onVnodeBeforeUnmount)&&vu(We,ft,Tt),$&6)er(Tt.component,Rt,Qt);else{if($&128){Tt.suspense.unmount(Rt,Qt);return}ue&&dc(Tt,null,ft,"beforeUnmount"),$&64?Tt.type.remove(Tt,ft,Rt,$t,Ur,Qt):at&&(he!==ws||Q>0&&Q&64)?_r(at,ft,Rt,!1,!0):(he===ws&&Q&384||!$t&&$&16)&&_r(Gt,ft,Rt),Qt&&wn(Tt)}(De&&(We=Pe&&Pe.onVnodeUnmounted)||ue)&&qs(()=>{We&&vu(We,ft,Tt),ue&&dc(Tt,null,ft,"unmounted")},Rt)},wn=Tt=>{const{type:ft,el:Rt,anchor:Qt,transition:$t}=Tt;if(ft===ws){_e(Rt,Qt);return}if(ft===Uh){F(Tt);return}const he=()=>{p(Rt),$t&&!$t.persisted&&$t.afterLeave&&$t.afterLeave()};if(Tt.shapeFlag&1&&$t&&!$t.persisted){const{leave:Pe,delayLeave:Ue}=$t,Gt=()=>Pe(Rt,he);Ue?Ue(Tt.el,he,Gt):Gt()}else he()},_e=(Tt,ft)=>{let Rt;for(;Tt!==ft;)Rt=z(Tt),p(Tt),Tt=Rt;p(ft)},er=(Tt,ft,Rt)=>{const{bum:Qt,scope:$t,update:he,subTree:Pe,um:Ue}=Tt;Qt&&ip(Qt),$t.stop(),he&&(he.active=!1,Xr(Pe,Tt,ft,Rt)),Ue&&qs(Ue,ft),qs(()=>{Tt.isUnmounted=!0},ft),ft&&ft.pendingBranch&&!ft.isUnmounted&&Tt.asyncDep&&!Tt.asyncResolved&&Tt.suspenseId===ft.pendingId&&(ft.deps--,ft.deps===0&&ft.resolve())},_r=(Tt,ft,Rt,Qt=!1,$t=!1,he=0)=>{for(let Pe=he;Pe<Tt.length;Pe++)Xr(Tt[Pe],ft,Rt,Qt,$t)},Fr=Tt=>Tt.shapeFlag&6?Fr(Tt.component.subTree):Tt.shapeFlag&128?Tt.suspense.next():z(Tt.anchor||Tt.el),jn=(Tt,ft,Rt)=>{Tt==null?ft._vnode&&Xr(ft._vnode,null,null,!0):J(ft._vnode||null,Tt,ft,null,null,null,Rt),Ng(),ft._vnode=Tt},Ur={p:J,um:Xr,m:jr,r:wn,mt:Qe,mc:Ot,pc:Sr,pbc:Dt,n:Fr,o:a};let Vt,ie;return c&&([Vt,ie]=c(Ur)),{render:jn,hydrate:Vt,createApp:AH(jn,Vt)}}function Rh({effect:a,update:c},d){a.allowRecurse=c.allowRecurse=d}function g_(a,c,d=!1){const u=a.children,p=c.children;if(Xn(u)&&Xn(p))for(let g=0;g<u.length;g++){const E=u[g];let b=p[g];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=p[g]=Lf(p[g]),b.el=E.el),d||g_(E,b))}}function RH(a){const c=a.slice(),d=[0];let u,p,g,E,b;const M=a.length;for(u=0;u<M;u++){const P=a[u];if(P!==0){if(p=d[d.length-1],a[p]<P){c[u]=p,d.push(u);continue}for(g=0,E=d.length-1;g<E;)b=g+E>>1,a[d[b]]<P?g=b+1:E=b;P<a[d[g]]&&(g>0&&(c[u]=d[g-1]),d[g]=u)}}for(g=d.length,E=d[g-1];g-- >0;)d[g]=E,E=c[E];return d}const CH=a=>a.__isTeleport,$1=a=>a&&(a.disabled||a.disabled===""),pE=a=>typeof SVGElement!="undefined"&&a instanceof SVGElement,s4=(a,c)=>{const d=a&&a.to;return Ia(d)?c?c(d):null:d},LH={__isTeleport:!0,process(a,c,d,u,p,g,E,b,M,P){const{mc:k,pc:C,pbc:z,o:{insert:it,querySelector:q,createText:tt,createComment:J}}=P,ot=$1(c.props);let{shapeFlag:ct,children:wt,dynamicChildren:nt}=c;if(a==null){const F=c.el=tt(""),bt=c.anchor=tt("");it(F,d,u),it(bt,d,u);const jt=c.target=s4(c.props,q),te=c.targetAnchor=tt("");jt&&(it(te,jt),E=E||pE(jt));const Ot=(ee,Dt)=>{ct&16&&k(wt,ee,Dt,p,g,E,b,M)};ot?Ot(d,bt):jt&&Ot(jt,te)}else{c.el=a.el;const F=c.anchor=a.anchor,bt=c.target=a.target,jt=c.targetAnchor=a.targetAnchor,te=$1(a.props),Ot=te?d:bt,ee=te?F:jt;if(E=E||pE(bt),nt?(z(a.dynamicChildren,nt,Ot,p,g,E,b),g_(a,c,!0)):M||C(a,c,Ot,ee,p,g,E,b,!1),ot)te||xg(c,d,F,P,1);else if((c.props&&c.props.to)!==(a.props&&a.props.to)){const Dt=c.target=s4(c.props,q);Dt&&xg(c,Dt,null,P,0)}else te&&xg(c,bt,jt,P,1)}},remove(a,c,d,u,{um:p,o:{remove:g}},E){const{shapeFlag:b,children:M,anchor:P,targetAnchor:k,target:C,props:z}=a;if(C&&g(k),(E||!$1(z))&&(g(P),b&16))for(let it=0;it<M.length;it++){const q=M[it];p(q,c,d,!0,!!q.dynamicChildren)}},move:xg,hydrate:PH};function xg(a,c,d,{o:{insert:u},m:p},g=2){g===0&&u(a.targetAnchor,c,d);const{el:E,anchor:b,shapeFlag:M,children:P,props:k}=a,C=g===2;if(C&&u(E,c,d),(!C||$1(k))&&M&16)for(let z=0;z<P.length;z++)p(P[z],c,d,2);C&&u(b,c,d)}function PH(a,c,d,u,p,g,{o:{nextSibling:E,parentNode:b,querySelector:M}},P){const k=c.target=s4(c.props,M);if(k){const C=k._lpa||k.firstChild;c.shapeFlag&16&&($1(c.props)?(c.anchor=P(E(a),c,b(a),d,u,p,g),c.targetAnchor=C):(c.anchor=E(a),c.targetAnchor=P(C,c,k,d,u,p,g)),k._lpa=c.targetAnchor&&E(c.targetAnchor))}return c.anchor&&E(c.anchor)}const IH=LH,m_="components",NH="directives";function FH(a,c){return y_(m_,a,!0,c)||a}const pw=Symbol();function DH(a){return Ia(a)?y_(m_,a,!1)||a:a||pw}function jH(a){return y_(NH,a)}function y_(a,c,d=!0,u=!1){const p=zu||xs;if(p){const g=p.type;if(a===m_){const b=Bg(g);if(b&&(b===c||b===Wu(c)||b===hv(Wu(c))))return g}const E=vE(p[a]||g[a],c)||vE(p.appContext[a],c);return!E&&u?g:E}}function vE(a,c){return a&&(a[c]||a[Wu(c)]||a[hv(Wu(c))])}const ws=Symbol(void 0),Bf=Symbol(void 0),kl=Symbol(void 0),Uh=Symbol(void 0),Z1=[];let _c=null;function fm(a=!1){Z1.push(_c=a?null:[])}function vw(){Z1.pop(),_c=Z1[Z1.length-1]||null}let fp=1;function l4(a){fp+=a}function gw(a){return a.dynamicChildren=fp>0?_c||rp:null,vw(),fp>0&&_c&&_c.push(a),a}function GH(a,c,d,u,p,g){return gw(E_(a,c,d,u,p,g,!0))}function __(a,c,d,u,p){return gw(ia(a,c,d,u,p,!0))}function Uf(a){return a?a.__v_isVNode===!0:!1}function vc(a,c){return a.type===c.type&&a.key===c.key}function BH(a){}const hm="__vInternal",mw=({key:a})=>a!=null?a:null,Cg=({ref:a,ref_key:c,ref_for:d})=>a!=null?Ia(a)||fs(a)||Fi(a)?{i:zu,r:a,k:c,f:!!d}:a:null;function E_(a,c=null,d=null,u=0,p=null,g=a===ws?0:1,E=!1,b=!1){const M={__v_isVNode:!0,__v_skip:!0,type:a,props:c,key:c&&mw(c),ref:c&&Cg(c),scopeId:am,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:u,dynamicProps:p,dynamicChildren:null,appContext:null};return b?(w_(M,d),g&128&&a.normalize(M)):d&&(M.shapeFlag|=Ia(d)?8:16),fp>0&&!E&&_c&&(M.patchFlag>0||g&6)&&M.patchFlag!==32&&_c.push(M),M}const ia=UH;function UH(a,c=null,d=null,u=0,p=null,g=!1){if((!a||a===pw)&&(a=kl),Uf(a)){const b=kf(a,c,!0);return d&&w_(b,d),b}if(rY(a)&&(a=a.__vccOpts),c){c=yw(c);let{class:b,style:M}=c;b&&!Ia(b)&&(c.class=cv(b)),$a(M)&&(q4(M)&&!Xn(M)&&(M=Ka({},M)),c.style=uv(M))}const E=Ia(a)?1:tH(a)?128:CH(a)?64:$a(a)?4:Fi(a)?2:0;return E_(a,c,d,u,p,E,g,!0)}function yw(a){return a?q4(a)||hm in a?Ka({},a):a:null}function kf(a,c,d=!1){const{props:u,ref:p,patchFlag:g,children:E}=a,b=c?_w(u||{},c):u;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:b,key:b&&mw(b),ref:c&&c.ref?d&&p?Xn(p)?p.concat(Cg(c)):[p,Cg(c)]:Cg(c):p,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:E,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:c&&a.type!==ws?g===-1?16:g|16:g,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&kf(a.ssContent),ssFallback:a.ssFallback&&kf(a.ssFallback),el:a.el,anchor:a.anchor}}function S_(a=" ",c=0){return ia(Bf,null,a,c)}function kH(a,c){const d=ia(Uh,null,a);return d.staticCount=c,d}function zH(a="",c=!1){return c?(fm(),__(kl,null,a)):ia(kl,null,a)}function Uu(a){return a==null||typeof a=="boolean"?ia(kl):Xn(a)?ia(ws,null,a.slice()):typeof a=="object"?Lf(a):ia(Bf,null,String(a))}function Lf(a){return a.el===null||a.memo?a:kf(a)}function w_(a,c){let d=0;const{shapeFlag:u}=a;if(c==null)c=null;else if(Xn(c))d=16;else if(typeof c=="object")if(u&65){const p=c.default;p&&(p._c&&(p._d=!1),w_(a,p()),p._c&&(p._d=!0));return}else{d=32;const p=c._;!p&&!(hm in c)?c._ctx=zu:p===3&&zu&&(zu.slots._===1?c._=1:(c._=2,a.patchFlag|=1024))}else Fi(c)?(c={default:c,_ctx:zu},d=32):(c=String(c),u&64?(d=16,c=[S_(c)]):d=8);a.children=c,a.shapeFlag|=d}function _w(...a){const c={};for(let d=0;d<a.length;d++){const u=a[d];for(const p in u)if(p==="class")c.class!==u.class&&(c.class=cv([c.class,u.class]));else if(p==="style")c.style=uv([c.style,u.style]);else if(fv(p)){const g=c[p],E=u[p];E&&g!==E&&!(Xn(g)&&g.includes(E))&&(c[p]=g?[].concat(g,E):E)}else p!==""&&(c[p]=u[p])}return c}function vu(a,c,d,u=null){Vu(a,c,7,[d,u])}function VH(a,c,d,u){let p;const g=d&&d[u];if(Xn(a)||Ia(a)){p=new Array(a.length);for(let E=0,b=a.length;E<b;E++)p[E]=c(a[E],E,void 0,g&&g[E])}else if(typeof a=="number"){p=new Array(a);for(let E=0;E<a;E++)p[E]=c(E+1,E,void 0,g&&g[E])}else if($a(a))if(a[Symbol.iterator])p=Array.from(a,(E,b)=>c(E,b,void 0,g&&g[b]));else{const E=Object.keys(a);p=new Array(E.length);for(let b=0,M=E.length;b<M;b++){const P=E[b];p[b]=c(a[P],P,b,g&&g[b])}}else p=[];return d&&(d[u]=p),p}function WH(a,c){for(let d=0;d<c.length;d++){const u=c[d];if(Xn(u))for(let p=0;p<u.length;p++)a[u[p].name]=u[p].fn;else u&&(a[u.name]=u.fn)}return a}function HH(a,c,d={},u,p){if(zu.isCE)return ia("slot",c==="default"?null:{name:c},u&&u());let g=a[c];g&&g._c&&(g._d=!1),fm();const E=g&&Ew(g(d)),b=__(ws,{key:d.key||`_${c}`},E||(u?u():[]),E&&a._===1?64:-2);return!p&&b.scopeId&&(b.slotScopeIds=[b.scopeId+"-s"]),g&&g._c&&(g._d=!0),b}function Ew(a){return a.some(c=>Uf(c)?!(c.type===kl||c.type===ws&&!Ew(c.children)):!0)?a:null}function YH(a){const c={};for(const d in a)c[W1(d)]=a[d];return c}const u4=a=>a?ww(a)?x_(a)||a.proxy:u4(a.parent):null,jg=Ka(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>u4(a.parent),$root:a=>u4(a.root),$emit:a=>a.emit,$options:a=>iw(a),$forceUpdate:a=>()=>i_(a.update),$nextTick:a=>om.bind(a.proxy),$watch:a=>uH.bind(a)}),c4={get({_:a},c){const{ctx:d,setupState:u,data:p,props:g,accessCache:E,type:b,appContext:M}=a;let P;if(c[0]!=="$"){const it=E[c];if(it!==void 0)switch(it){case 1:return u[c];case 2:return p[c];case 4:return d[c];case 3:return g[c]}else{if(u!==Vo&&Po(u,c))return E[c]=1,u[c];if(p!==Vo&&Po(p,c))return E[c]=2,p[c];if((P=a.propsOptions[0])&&Po(P,c))return E[c]=3,g[c];if(d!==Vo&&Po(d,c))return E[c]=4,d[c];i4&&(E[c]=0)}}const k=jg[c];let C,z;if(k)return c==="$attrs"&&Hu(a,"get",c),k(a);if((C=b.__cssModules)&&(C=C[c]))return C;if(d!==Vo&&Po(d,c))return E[c]=4,d[c];if(z=M.config.globalProperties,Po(z,c))return z[c]},set({_:a},c,d){const{data:u,setupState:p,ctx:g}=a;return p!==Vo&&Po(p,c)?(p[c]=d,!0):u!==Vo&&Po(u,c)?(u[c]=d,!0):Po(a.props,c)||c[0]==="$"&&c.slice(1)in a?!1:(g[c]=d,!0)},has({_:{data:a,setupState:c,accessCache:d,ctx:u,appContext:p,propsOptions:g}},E){let b;return!!d[E]||a!==Vo&&Po(a,E)||c!==Vo&&Po(c,E)||(b=g[0])&&Po(b,E)||Po(u,E)||Po(jg,E)||Po(p.config.globalProperties,E)},defineProperty(a,c,d){return d.get!=null?this.set(a,c,d.get(),null):d.value!=null&&this.set(a,c,d.value,null),Reflect.defineProperty(a,c,d)}},XH=Ka({},c4,{get(a,c){if(c!==Symbol.unscopables)return c4.get(a,c,a)},has(a,c){return c[0]!=="_"&&!FV(c)}}),KH=cw();let $H=0;function Sw(a,c,d){const u=a.type,p=(c?c.appContext:a.appContext)||KH,g={uid:$H++,vnode:a,type:u,parent:c,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,scope:new X4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:c?c.provides:Object.create(p.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aw(u,p),emitsOptions:HS(u,p),emit:null,emitted:null,propsDefaults:Vo,inheritAttrs:u.inheritAttrs,ctx:Vo,data:Vo,props:Vo,attrs:Vo,slots:Vo,refs:Vo,setupState:Vo,setupContext:null,suspense:d,suspenseId:d?d.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=c?c.root:g,g.emit=YW.bind(null,g),a.ce&&a.ce(g),g}let xs=null;const W0=()=>xs||zu,zf=a=>{xs=a,a.scope.on()},Ff=()=>{xs&&xs.scope.off(),xs=null};function ww(a){return a.vnode.shapeFlag&4}let hp=!1;function xw(a,c=!1){hp=c;const{props:d,children:u}=a.vnode,p=ww(a);EH(a,d,p,c),xH(a,u);const g=p?ZH(a,c):void 0;return hp=!1,g}function ZH(a,c){const d=a.type;a.accessCache=Object.create(null),a.proxy=Q4(new Proxy(a.ctx,c4));const{setup:u}=d;if(u){const p=a.setupContext=u.length>1?Tw(a):null;zf(a),Vh();const g=yc(u,a,0,[a.props,p]);if(Wh(),Ff(),H4(g)){if(g.then(Ff,Ff),c)return g.then(E=>{f4(a,E,c)}).catch(E=>{Hh(E,a,0)});a.asyncDep=g}else f4(a,g,c)}else Ow(a,c)}function f4(a,c,d){Fi(c)?a.type.__ssrInlineRender?a.ssrRender=c:a.render=c:$a(c)&&(a.setupState=r_(c)),Ow(a,d)}let Gg,h4;function JH(a){Gg=a,h4=c=>{c.render._rc&&(c.withProxy=new Proxy(c.ctx,XH))}}const qH=()=>!Gg;function Ow(a,c,d){const u=a.type;if(!a.render){if(!c&&Gg&&!u.render){const p=u.template;if(p){const{isCustomElement:g,compilerOptions:E}=a.appContext.config,{delimiters:b,compilerOptions:M}=u,P=Ka(Ka({isCustomElement:g,delimiters:b},E),M);u.render=Gg(p,P)}}a.render=u.render||V0,h4&&h4(a)}zf(a),Vh(),vH(a),Wh(),Ff()}function QH(a){return new Proxy(a.attrs,{get(c,d){return Hu(a,"get","$attrs"),c[d]}})}function Tw(a){const c=u=>{a.exposed=u||{}};let d;return{get attrs(){return d||(d=QH(a))},slots:a.slots,emit:a.emit,expose:c}}function x_(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(r_(Q4(a.exposed)),{get(c,d){if(d in c)return c[d];if(d in jg)return jg[d](a)}}))}const tY=/(?:^|[-_])(\w)/g,eY=a=>a.replace(tY,c=>c.toUpperCase()).replace(/[-_]/g,"");function Bg(a){return Fi(a)&&a.displayName||a.name}function bw(a,c,d=!1){let u=Bg(c);if(!u&&c.__file){const p=c.__file.match(/([^/\\]+)\.\w+$/);p&&(u=p[1])}if(!u&&a&&a.parent){const p=g=>{for(const E in g)if(g[E]===c)return E};u=p(a.components||a.parent.type.components)||p(a.appContext.components)}return u?eY(u):d?"App":"Anonymous"}function rY(a){return Fi(a)&&"__vccOpts"in a}const El=(a,c)=>jW(a,c,hp);function nY(){return null}function iY(){return null}function oY(a){}function aY(a,c){return null}function sY(){return Aw().slots}function lY(){return Aw().attrs}function Aw(){const a=W0();return a.setupContext||(a.setupContext=Tw(a))}function uY(a,c){const d=Xn(a)?a.reduce((u,p)=>(u[p]={},u),{}):a;for(const u in c){const p=d[u];p?Xn(p)||Fi(p)?d[u]={type:p,default:c[u]}:p.default=c[u]:p===null&&(d[u]={default:c[u]})}return d}function cY(a,c){const d={};for(const u in a)c.includes(u)||Object.defineProperty(d,u,{enumerable:!0,get:()=>a[u]});return d}function fY(a){const c=W0();let d=a();return Ff(),H4(d)&&(d=d.catch(u=>{throw zf(c),u})),[d,()=>zf(c)]}function Ec(a,c,d){const u=arguments.length;return u===2?$a(c)&&!Xn(c)?Uf(c)?ia(a,null,[c]):ia(a,c):ia(a,null,c):(u>3?d=Array.prototype.slice.call(arguments,2):u===3&&Uf(d)&&(d=[d]),ia(a,c,d))}const Mw=Symbol(""),hY=()=>{{const a=gu(Mw);return a||GS("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),a}};function dY(){}function pY(a,c,d,u){const p=d[u];if(p&&Rw(p,a))return p;const g=c();return g.memo=a.slice(),d[u]=g}function Rw(a,c){const d=a.memo;if(d.length!=c.length)return!1;for(let u=0;u<d.length;u++)if(d[u]!==c[u])return!1;return fp>0&&_c&&_c.push(a),!0}const Cw="3.2.31",vY={createComponentInstance:Sw,setupComponent:xw,renderComponentRoot:Rg,setCurrentRenderingInstance:nv,isVNode:Uf,normalizeVNode:Uu},gY=vY,mY=null,yY=null,_Y="http://www.w3.org/2000/svg",Nh=typeof document!="undefined"?document:null,gE=Nh&&Nh.createElement("template"),EY={insert:(a,c,d)=>{c.insertBefore(a,d||null)},remove:a=>{const c=a.parentNode;c&&c.removeChild(a)},createElement:(a,c,d,u)=>{const p=c?Nh.createElementNS(_Y,a):Nh.createElement(a,d?{is:d}:void 0);return a==="select"&&u&&u.multiple!=null&&p.setAttribute("multiple",u.multiple),p},createText:a=>Nh.createTextNode(a),createComment:a=>Nh.createComment(a),setText:(a,c)=>{a.nodeValue=c},setElementText:(a,c)=>{a.textContent=c},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>Nh.querySelector(a),setScopeId(a,c){a.setAttribute(c,"")},cloneNode(a){const c=a.cloneNode(!0);return"_value"in a&&(c._value=a._value),c},insertStaticContent(a,c,d,u,p,g){const E=d?d.previousSibling:c.lastChild;if(p&&(p===g||p.nextSibling))for(;c.insertBefore(p.cloneNode(!0),d),!(p===g||!(p=p.nextSibling)););else{gE.innerHTML=u?`<svg>${a}</svg>`:a;const b=gE.content;if(u){const M=b.firstChild;for(;M.firstChild;)b.appendChild(M.firstChild);b.removeChild(M)}c.insertBefore(b,d)}return[E?E.nextSibling:c.firstChild,d?d.previousSibling:c.lastChild]}};function SY(a,c,d){const u=a._vtc;u&&(c=(c?[c,...u]:[...u]).join(" ")),c==null?a.removeAttribute("class"):d?a.setAttribute("class",c):a.className=c}function wY(a,c,d){const u=a.style,p=Ia(d);if(d&&!p){for(const g in d)d4(u,g,d[g]);if(c&&!Ia(c))for(const g in c)d[g]==null&&d4(u,g,"")}else{const g=u.display;p?c!==d&&(u.cssText=d):c&&a.removeAttribute("style"),"_vod"in a&&(u.display=g)}}const mE=/\s*!important$/;function d4(a,c,d){if(Xn(d))d.forEach(u=>d4(a,c,u));else if(c.startsWith("--"))a.setProperty(c,d);else{const u=xY(a,c);mE.test(d)?a.setProperty(mc(u),d.replace(mE,""),"important"):a[u]=d}}const yE=["Webkit","Moz","ms"],V3={};function xY(a,c){const d=V3[c];if(d)return d;let u=Wu(c);if(u!=="filter"&&u in a)return V3[c]=u;u=hv(u);for(let p=0;p<yE.length;p++){const g=yE[p]+u;if(g in a)return V3[c]=g}return c}const _E="http://www.w3.org/1999/xlink";function OY(a,c,d,u,p){if(u&&c.startsWith("xlink:"))d==null?a.removeAttributeNS(_E,c.slice(6,c.length)):a.setAttributeNS(_E,c,d);else{const g=jV(c);d==null||g&&!mS(d)?a.removeAttribute(c):a.setAttribute(c,g?"":d)}}function TY(a,c,d,u,p,g,E){if(c==="innerHTML"||c==="textContent"){u&&E(u,p,g),a[c]=d==null?"":d;return}if(c==="value"&&a.tagName!=="PROGRESS"&&!a.tagName.includes("-")){a._value=d;const b=d==null?"":d;(a.value!==b||a.tagName==="OPTION")&&(a.value=b),d==null&&a.removeAttribute(c);return}if(d===""||d==null){const b=typeof a[c];if(b==="boolean"){a[c]=mS(d);return}else if(d==null&&b==="string"){a[c]="",a.removeAttribute(c);return}else if(b==="number"){try{a[c]=0}catch{}a.removeAttribute(c);return}}try{a[c]=d}catch{}}let Ug=Date.now,Lw=!1;if(typeof window!="undefined"){Ug()>document.createEvent("Event").timeStamp&&(Ug=()=>performance.now());const a=navigator.userAgent.match(/firefox\/(\d+)/i);Lw=!!(a&&Number(a[1])<=53)}let p4=0;const bY=Promise.resolve(),AY=()=>{p4=0},MY=()=>p4||(bY.then(AY),p4=Ug());function Gc(a,c,d,u){a.addEventListener(c,d,u)}function RY(a,c,d,u){a.removeEventListener(c,d,u)}function CY(a,c,d,u,p=null){const g=a._vei||(a._vei={}),E=g[c];if(u&&E)E.value=u;else{const[b,M]=LY(c);if(u){const P=g[c]=PY(u,p);Gc(a,b,P,M)}else E&&(RY(a,b,E,M),g[c]=void 0)}}const EE=/(?:Once|Passive|Capture)$/;function LY(a){let c;if(EE.test(a)){c={};let d;for(;d=a.match(EE);)a=a.slice(0,a.length-d[0].length),c[d[0].toLowerCase()]=!0}return[mc(a.slice(2)),c]}function PY(a,c){const d=u=>{const p=u.timeStamp||Ug();(Lw||p>=d.attached-1)&&Vu(IY(u,d.value),c,5,[u])};return d.value=a,d.attached=MY(),d}function IY(a,c){if(Xn(c)){const d=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{d.call(a),a._stopped=!0},c.map(u=>p=>!p._stopped&&u&&u(p))}else return c}const SE=/^on[a-z]/,NY=(a,c,d,u,p=!1,g,E,b,M)=>{c==="class"?SY(a,u,p):c==="style"?wY(a,d,u):fv(c)?z4(c)||CY(a,c,d,u,E):(c[0]==="."?(c=c.slice(1),!0):c[0]==="^"?(c=c.slice(1),!1):FY(a,c,u,p))?TY(a,c,u,g,E,b,M):(c==="true-value"?a._trueValue=u:c==="false-value"&&(a._falseValue=u),OY(a,c,u,p))};function FY(a,c,d,u){return u?!!(c==="innerHTML"||c==="textContent"||c in a&&SE.test(c)&&Fi(d)):c==="spellcheck"||c==="draggable"||c==="form"||c==="list"&&a.tagName==="INPUT"||c==="type"&&a.tagName==="TEXTAREA"||SE.test(c)&&Ia(d)?!1:c in a}function Pw(a,c){const d=vv(a);class u extends dm{constructor(g){super(d,g,c)}}return u.def=d,u}const DY=a=>Pw(a,Hw),jY=typeof HTMLElement!="undefined"?HTMLElement:class{};class dm extends jY{constructor(c,d={},u){super();this._def=c,this._props=d,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&u?u(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,om(()=>{this._connected||(g4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let u=0;u<this.attributes.length;u++)this._setAttr(this.attributes[u].name);new MutationObserver(u=>{for(const p of u)this._setAttr(p.attributeName)}).observe(this,{attributes:!0});const c=u=>{const{props:p,styles:g}=u,E=!Xn(p),b=p?E?Object.keys(p):p:[];let M;if(E)for(const P in this._props){const k=p[P];(k===Number||k&&k.type===Number)&&(this._props[P]=jf(this._props[P]),(M||(M=Object.create(null)))[P]=!0)}this._numberProps=M;for(const P of Object.keys(this))P[0]!=="_"&&this._setProp(P,this[P],!0,!1);for(const P of b.map(Wu))Object.defineProperty(this,P,{get(){return this._getProp(P)},set(k){this._setProp(P,k)}});this._applyStyles(g),this._update()},d=this._def.__asyncLoader;d?d().then(c):c(this._def)}_setAttr(c){let d=this.getAttribute(c);this._numberProps&&this._numberProps[c]&&(d=jf(d)),this._setProp(Wu(c),d,!1)}_getProp(c){return this._props[c]}_setProp(c,d,u=!0,p=!0){d!==this._props[c]&&(this._props[c]=d,p&&this._instance&&this._update(),u&&(d===!0?this.setAttribute(mc(c),""):typeof d=="string"||typeof d=="number"?this.setAttribute(mc(c),d+""):d||this.removeAttribute(mc(c))))}_update(){g4(this._createVNode(),this.shadowRoot)}_createVNode(){const c=ia(this._def,Ka({},this._props));return this._instance||(c.ce=d=>{this._instance=d,d.isCE=!0,d.emit=(p,...g)=>{this.dispatchEvent(new CustomEvent(p,{detail:g}))};let u=this;for(;u=u&&(u.parentNode||u.host);)if(u instanceof dm){d.parent=u._instance;break}}),c}_applyStyles(c){c&&c.forEach(d=>{const u=document.createElement("style");u.textContent=d,this.shadowRoot.appendChild(u)})}}function GY(a="$style"){{const c=W0();if(!c)return Vo;const d=c.type.__cssModules;if(!d)return Vo;const u=d[a];return u||Vo}}function BY(a){const c=W0();if(!c)return;const d=()=>v4(c.subTree,a(c.proxy));XS(d),_p(()=>{const u=new MutationObserver(d);u.observe(c.subTree.el.parentNode,{childList:!0}),Ep(()=>u.disconnect())})}function v4(a,c){if(a.shapeFlag&128){const d=a.suspense;a=d.activeBranch,d.pendingBranch&&!d.isHydrating&&d.effects.push(()=>{v4(d.activeBranch,c)})}for(;a.component;)a=a.component.subTree;if(a.shapeFlag&1&&a.el)wE(a.el,c);else if(a.type===ws)a.children.forEach(d=>v4(d,c));else if(a.type===Uh){let{el:d,anchor:u}=a;for(;d&&(wE(d,c),d!==u);)d=d.nextSibling}}function wE(a,c){if(a.nodeType===1){const d=a.style;for(const u in c)d.setProperty(`--${u}`,c[u])}}const bf="transition",F1="animation",O_=(a,{slots:c})=>Ec(h_,Nw(a),c);O_.displayName="Transition";const Iw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},UY=O_.props=Ka({},h_.props,Iw),Ch=(a,c=[])=>{Xn(a)?a.forEach(d=>d(...c)):a&&a(...c)},xE=a=>a?Xn(a)?a.some(c=>c.length>1):a.length>1:!1;function Nw(a){const c={};for(const Wt in a)Wt in Iw||(c[Wt]=a[Wt]);if(a.css===!1)return c;const{name:d="v",type:u,duration:p,enterFromClass:g=`${d}-enter-from`,enterActiveClass:E=`${d}-enter-active`,enterToClass:b=`${d}-enter-to`,appearFromClass:M=g,appearActiveClass:P=E,appearToClass:k=b,leaveFromClass:C=`${d}-leave-from`,leaveActiveClass:z=`${d}-leave-active`,leaveToClass:it=`${d}-leave-to`}=a,q=kY(p),tt=q&&q[0],J=q&&q[1],{onBeforeEnter:ot,onEnter:ct,onEnterCancelled:wt,onLeave:nt,onLeaveCancelled:F,onBeforeAppear:bt=ot,onAppear:jt=ct,onAppearCancelled:te=wt}=c,Ot=(Wt,le,ye)=>{Ih(Wt,le?k:b),Ih(Wt,le?P:E),ye&&ye()},ee=(Wt,le)=>{Ih(Wt,it),Ih(Wt,z),le&&le()},Dt=Wt=>(le,ye)=>{const Qe=Wt?jt:ct,mt=()=>Ot(le,Wt,ye);Ch(Qe,[le,mt]),OE(()=>{Ih(le,Wt?M:g),Dc(le,Wt?k:b),xE(Qe)||TE(le,u,tt,mt)})};return Ka(c,{onBeforeEnter(Wt){Ch(ot,[Wt]),Dc(Wt,g),Dc(Wt,E)},onBeforeAppear(Wt){Ch(bt,[Wt]),Dc(Wt,M),Dc(Wt,P)},onEnter:Dt(!1),onAppear:Dt(!0),onLeave(Wt,le){const ye=()=>ee(Wt,le);Dc(Wt,C),Dw(),Dc(Wt,z),OE(()=>{Ih(Wt,C),Dc(Wt,it),xE(nt)||TE(Wt,u,J,ye)}),Ch(nt,[Wt,ye])},onEnterCancelled(Wt){Ot(Wt,!1),Ch(wt,[Wt])},onAppearCancelled(Wt){Ot(Wt,!0),Ch(te,[Wt])},onLeaveCancelled(Wt){ee(Wt),Ch(F,[Wt])}})}function kY(a){if(a==null)return null;if($a(a))return[W3(a.enter),W3(a.leave)];{const c=W3(a);return[c,c]}}function W3(a){return jf(a)}function Dc(a,c){c.split(/\s+/).forEach(d=>d&&a.classList.add(d)),(a._vtc||(a._vtc=new Set)).add(c)}function Ih(a,c){c.split(/\s+/).forEach(u=>u&&a.classList.remove(u));const{_vtc:d}=a;d&&(d.delete(c),d.size||(a._vtc=void 0))}function OE(a){requestAnimationFrame(()=>{requestAnimationFrame(a)})}let zY=0;function TE(a,c,d,u){const p=a._endId=++zY,g=()=>{p===a._endId&&u()};if(d)return setTimeout(g,d);const{type:E,timeout:b,propCount:M}=Fw(a,c);if(!E)return u();const P=E+"end";let k=0;const C=()=>{a.removeEventListener(P,z),g()},z=it=>{it.target===a&&++k>=M&&C()};setTimeout(()=>{k<M&&C()},b+1),a.addEventListener(P,z)}function Fw(a,c){const d=window.getComputedStyle(a),u=q=>(d[q]||"").split(", "),p=u(bf+"Delay"),g=u(bf+"Duration"),E=bE(p,g),b=u(F1+"Delay"),M=u(F1+"Duration"),P=bE(b,M);let k=null,C=0,z=0;c===bf?E>0&&(k=bf,C=E,z=g.length):c===F1?P>0&&(k=F1,C=P,z=M.length):(C=Math.max(E,P),k=C>0?E>P?bf:F1:null,z=k?k===bf?g.length:M.length:0);const it=k===bf&&/\b(transform|all)(,|$)/.test(d[bf+"Property"]);return{type:k,timeout:C,propCount:z,hasTransform:it}}function bE(a,c){for(;a.length<c.length;)a=a.concat(a);return Math.max(...c.map((d,u)=>AE(d)+AE(a[u])))}function AE(a){return Number(a.slice(0,-1).replace(",","."))*1e3}function Dw(){return document.body.offsetHeight}const jw=new WeakMap,Gw=new WeakMap,VY={name:"TransitionGroup",props:Ka({},UY,{tag:String,moveClass:String}),setup(a,{slots:c}){const d=W0(),u=f_();let p,g;return um(()=>{if(!p.length)return;const E=a.moveClass||`${a.name||"v"}-move`;if(!KY(p[0].el,d.vnode.el,E))return;p.forEach(HY),p.forEach(YY);const b=p.filter(XY);Dw(),b.forEach(M=>{const P=M.el,k=P.style;Dc(P,E),k.transform=k.webkitTransform=k.transitionDuration="";const C=P._moveCb=z=>{z&&z.target!==P||(!z||/transform$/.test(z.propertyName))&&(P.removeEventListener("transitionend",C),P._moveCb=null,Ih(P,E))};P.addEventListener("transitionend",C)})}),()=>{const E=vo(a),b=Nw(E);let M=E.tag||ws;p=g,g=c.default?sm(c.default()):[];for(let P=0;P<g.length;P++){const k=g[P];k.key!=null&&kh(k,cp(k,b,u,d))}if(p)for(let P=0;P<p.length;P++){const k=p[P];kh(k,cp(k,b,u,d)),jw.set(k,k.el.getBoundingClientRect())}return ia(M,null,g)}}},WY=VY;function HY(a){const c=a.el;c._moveCb&&c._moveCb(),c._enterCb&&c._enterCb()}function YY(a){Gw.set(a,a.el.getBoundingClientRect())}function XY(a){const c=jw.get(a),d=Gw.get(a),u=c.left-d.left,p=c.top-d.top;if(u||p){const g=a.el.style;return g.transform=g.webkitTransform=`translate(${u}px,${p}px)`,g.transitionDuration="0s",a}}function KY(a,c,d){const u=a.cloneNode();a._vtc&&a._vtc.forEach(E=>{E.split(/\s+/).forEach(b=>b&&u.classList.remove(b))}),d.split(/\s+/).forEach(E=>E&&u.classList.add(E)),u.style.display="none";const p=c.nodeType===1?c:c.parentNode;p.appendChild(u);const{hasTransform:g}=Fw(u);return p.removeChild(u),g}const Vf=a=>{const c=a.props["onUpdate:modelValue"];return Xn(c)?d=>ip(c,d):c};function $Y(a){a.target.composing=!0}function ME(a){const c=a.target;c.composing&&(c.composing=!1,ZY(c,"input"))}function ZY(a,c){const d=document.createEvent("HTMLEvents");d.initEvent(c,!0,!0),a.dispatchEvent(d)}const kg={created(a,{modifiers:{lazy:c,trim:d,number:u}},p){a._assign=Vf(p);const g=u||p.props&&p.props.type==="number";Gc(a,c?"change":"input",E=>{if(E.target.composing)return;let b=a.value;d?b=b.trim():g&&(b=jf(b)),a._assign(b)}),d&&Gc(a,"change",()=>{a.value=a.value.trim()}),c||(Gc(a,"compositionstart",$Y),Gc(a,"compositionend",ME),Gc(a,"change",ME))},mounted(a,{value:c}){a.value=c==null?"":c},beforeUpdate(a,{value:c,modifiers:{lazy:d,trim:u,number:p}},g){if(a._assign=Vf(g),a.composing||document.activeElement===a&&(d||u&&a.value.trim()===c||(p||a.type==="number")&&jf(a.value)===c))return;const E=c==null?"":c;a.value!==E&&(a.value=E)}},T_={deep:!0,created(a,c,d){a._assign=Vf(d),Gc(a,"change",()=>{const u=a._modelValue,p=dp(a),g=a.checked,E=a._assign;if(Xn(u)){const b=Jg(u,p),M=b!==-1;if(g&&!M)E(u.concat(p));else if(!g&&M){const P=[...u];P.splice(b,1),E(P)}}else if(zh(u)){const b=new Set(u);g?b.add(p):b.delete(p),E(b)}else E(Uw(a,g))})},mounted:RE,beforeUpdate(a,c,d){a._assign=Vf(d),RE(a,c,d)}};function RE(a,{value:c,oldValue:d},u){a._modelValue=c,Xn(c)?a.checked=Jg(c,u.props.value)>-1:zh(c)?a.checked=c.has(u.props.value):c!==d&&(a.checked=Df(c,Uw(a,!0)))}const b_={created(a,{value:c},d){a.checked=Df(c,d.props.value),a._assign=Vf(d),Gc(a,"change",()=>{a._assign(dp(a))})},beforeUpdate(a,{value:c,oldValue:d},u){a._assign=Vf(u),c!==d&&(a.checked=Df(c,u.props.value))}},Bw={deep:!0,created(a,{value:c,modifiers:{number:d}},u){const p=zh(c);Gc(a,"change",()=>{const g=Array.prototype.filter.call(a.options,E=>E.selected).map(E=>d?jf(dp(E)):dp(E));a._assign(a.multiple?p?new Set(g):g:g[0])}),a._assign=Vf(u)},mounted(a,{value:c}){CE(a,c)},beforeUpdate(a,c,d){a._assign=Vf(d)},updated(a,{value:c}){CE(a,c)}};function CE(a,c){const d=a.multiple;if(!(d&&!Xn(c)&&!zh(c))){for(let u=0,p=a.options.length;u<p;u++){const g=a.options[u],E=dp(g);if(d)Xn(c)?g.selected=Jg(c,E)>-1:g.selected=c.has(E);else if(Df(dp(g),c)){a.selectedIndex!==u&&(a.selectedIndex=u);return}}!d&&a.selectedIndex!==-1&&(a.selectedIndex=-1)}}function dp(a){return"_value"in a?a._value:a.value}function Uw(a,c){const d=c?"_trueValue":"_falseValue";return d in a?a[d]:c}const JY={created(a,c,d){Og(a,c,d,null,"created")},mounted(a,c,d){Og(a,c,d,null,"mounted")},beforeUpdate(a,c,d,u){Og(a,c,d,u,"beforeUpdate")},updated(a,c,d,u){Og(a,c,d,u,"updated")}};function Og(a,c,d,u,p){let g;switch(a.tagName){case"SELECT":g=Bw;break;case"TEXTAREA":g=kg;break;default:switch(d.props&&d.props.type){case"checkbox":g=T_;break;case"radio":g=b_;break;default:g=kg}}const E=g[p];E&&E(a,c,d,u)}function qY(){kg.getSSRProps=({value:a})=>({value:a}),b_.getSSRProps=({value:a},c)=>{if(c.props&&Df(c.props.value,a))return{checked:!0}},T_.getSSRProps=({value:a},c)=>{if(Xn(a)){if(c.props&&Jg(a,c.props.value)>-1)return{checked:!0}}else if(zh(a)){if(c.props&&a.has(c.props.value))return{checked:!0}}else if(a)return{checked:!0}}}const QY=["ctrl","shift","alt","meta"],tX={stop:a=>a.stopPropagation(),prevent:a=>a.preventDefault(),self:a=>a.target!==a.currentTarget,ctrl:a=>!a.ctrlKey,shift:a=>!a.shiftKey,alt:a=>!a.altKey,meta:a=>!a.metaKey,left:a=>"button"in a&&a.button!==0,middle:a=>"button"in a&&a.button!==1,right:a=>"button"in a&&a.button!==2,exact:(a,c)=>QY.some(d=>a[`${d}Key`]&&!c.includes(d))},eX=(a,c)=>(d,...u)=>{for(let p=0;p<c.length;p++){const g=tX[c[p]];if(g&&g(d,c))return}return a(d,...u)},rX={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nX=(a,c)=>d=>{if(!("key"in d))return;const u=mc(d.key);if(c.some(p=>p===u||rX[p]===u))return a(d)},kw={beforeMount(a,{value:c},{transition:d}){a._vod=a.style.display==="none"?"":a.style.display,d&&c?d.beforeEnter(a):D1(a,c)},mounted(a,{value:c},{transition:d}){d&&c&&d.enter(a)},updated(a,{value:c,oldValue:d},{transition:u}){!c!=!d&&(u?c?(u.beforeEnter(a),D1(a,!0),u.enter(a)):u.leave(a,()=>{D1(a,!1)}):D1(a,c))},beforeUnmount(a,{value:c}){D1(a,c)}};function D1(a,c){a.style.display=c?a._vod:"none"}function iX(){kw.getSSRProps=({value:a})=>{if(!a)return{style:{display:"none"}}}}const zw=Ka({patchProp:NY},EY);let J1,LE=!1;function Vw(){return J1||(J1=fw(zw))}function Ww(){return J1=LE?J1:hw(zw),LE=!0,J1}const g4=(...a)=>{Vw().render(...a)},Hw=(...a)=>{Ww().hydrate(...a)},oX=(...a)=>{const c=Vw().createApp(...a),{mount:d}=c;return c.mount=u=>{const p=Yw(u);if(!p)return;const g=c._component;!Fi(g)&&!g.render&&!g.template&&(g.template=p.innerHTML),p.innerHTML="";const E=d(p,!1,p instanceof SVGElement);return p instanceof Element&&(p.removeAttribute("v-cloak"),p.setAttribute("data-v-app","")),E},c},aX=(...a)=>{const c=Ww().createApp(...a),{mount:d}=c;return c.mount=u=>{const p=Yw(u);if(p)return d(p,!0,p instanceof SVGElement)},c};function Yw(a){return Ia(a)?document.querySelector(a):a}let PE=!1;const sX=()=>{PE||(PE=!0,qY(),iX())},lX=()=>{};var uX=Object.freeze(Object.defineProperty({__proto__:null,compile:lX,EffectScope:X4,ReactiveEffect:dv,customRef:IW,effect:rW,effectScope:JV,getCurrentScope:qV,isProxy:q4,isReactive:Bh,isReadonly:up,isRef:fs,isShallow:J4,markRaw:Q4,onScopeDispose:QV,proxyRefs:r_,reactive:yp,readonly:Z4,ref:pc,shallowReactive:NS,shallowReadonly:MW,shallowRef:FS,stop:nW,toRaw:vo,toRef:jS,toRefs:NW,triggerRef:CW,unref:op,camelize:Wu,capitalize:hv,normalizeClass:cv,normalizeProps:kV,normalizeStyle:uv,toDisplayString:VV,toHandlerKey:W1,BaseTransition:h_,Comment:kl,Fragment:ws,KeepAlive:dH,Static:Uh,Suspense:rH,Teleport:IH,Text:Bf,callWithAsyncErrorHandling:Vu,callWithErrorHandling:yc,cloneVNode:kf,compatUtils:yY,computed:El,createBlock:__,createCommentVNode:zH,createElementBlock:GH,createElementVNode:E_,createHydrationRenderer:hw,createPropsRestProxy:cY,createRenderer:fw,createSlots:WH,createStaticVNode:kH,createTextVNode:S_,createVNode:ia,defineAsyncComponent:fH,defineComponent:vv,defineEmits:iY,defineExpose:oY,defineProps:nY,get devtools(){return qd},getCurrentInstance:W0,getTransitionRawChildren:sm,guardReactiveProps:yw,h:Ec,handleError:Hh,initCustomFormatter:dY,inject:gu,isMemoSame:Rw,isRuntimeOnly:qH,isVNode:Uf,mergeDefaults:uY,mergeProps:_w,nextTick:om,onActivated:d_,onBeforeMount:JS,onBeforeUnmount:cm,onBeforeUpdate:qS,onDeactivated:p_,onErrorCaptured:rw,onMounted:_p,onRenderTracked:ew,onRenderTriggered:tw,onServerPrefetch:QS,onUnmounted:Ep,onUpdated:um,openBlock:fm,popScopeId:KW,provide:K1,pushScopeId:XW,queuePostFlushCb:o_,registerRuntimeCompiler:JH,renderList:VH,renderSlot:HH,resolveComponent:FH,resolveDirective:jH,resolveDynamicComponent:DH,resolveFilter:mY,resolveTransitionHooks:cp,setBlockTracking:l4,setDevtoolsHook:WS,setTransitionHooks:kh,ssrContextKey:Mw,ssrUtils:gY,toHandlers:YH,transformVNodeArgs:BH,useAttrs:lY,useSSRContext:hY,useSlots:sY,useTransitionState:f_,version:Cw,warn:GS,watch:Nf,watchEffect:sH,watchPostEffect:XS,watchSyncEffect:lH,withAsyncContext:fY,withCtx:l_,withDefaults:aY,withDirectives:TH,withMemo:pY,withScopeId:$W,Transition:O_,TransitionGroup:WY,VueElement:dm,createApp:oX,createSSRApp:aX,defineCustomElement:Pw,defineSSRCustomElement:DY,hydrate:Hw,initDirectivesForSSR:sX,render:g4,useCssModule:GY,useCssVars:BY,vModelCheckbox:T_,vModelDynamic:JY,vModelRadio:b_,vModelSelect:Bw,vModelText:kg,vShow:kw,withKeys:nX,withModifiers:eX},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Xw=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Sp=a=>Xw?Symbol(a):"_vr_"+a,Kw=Sp("rvlm"),IE=Sp("rvd"),pm=Sp("r"),A_=Sp("rl"),m4=Sp("rvl"),Qd=typeof window!="undefined";function cX(a){return a.__esModule||Xw&&a[Symbol.toStringTag]==="Module"}const na=Object.assign;function H3(a,c){const d={};for(const u in c){const p=c[u];d[u]=Array.isArray(p)?p.map(a):a(p)}return d}const q1=()=>{},fX=/\/$/,hX=a=>a.replace(fX,"");function Y3(a,c,d="/"){let u,p={},g="",E="";const b=c.indexOf("?"),M=c.indexOf("#",b>-1?b:0);return b>-1&&(u=c.slice(0,b),g=c.slice(b+1,M>-1?M:c.length),p=a(g)),M>-1&&(u=u||c.slice(0,M),E=c.slice(M,c.length)),u=gX(u!=null?u:c,d),{fullPath:u+(g&&"?")+g+E,path:u,query:p,hash:E}}function dX(a,c){const d=c.query?a(c.query):"";return c.path+(d&&"?")+d+(c.hash||"")}function NE(a,c){return!c||!a.toLowerCase().startsWith(c.toLowerCase())?a:a.slice(c.length)||"/"}function pX(a,c,d){const u=c.matched.length-1,p=d.matched.length-1;return u>-1&&u===p&&pp(c.matched[u],d.matched[p])&&$w(c.params,d.params)&&a(c.query)===a(d.query)&&c.hash===d.hash}function pp(a,c){return(a.aliasOf||a)===(c.aliasOf||c)}function $w(a,c){if(Object.keys(a).length!==Object.keys(c).length)return!1;for(const d in a)if(!vX(a[d],c[d]))return!1;return!0}function vX(a,c){return Array.isArray(a)?FE(a,c):Array.isArray(c)?FE(c,a):a===c}function FE(a,c){return Array.isArray(c)?a.length===c.length&&a.every((d,u)=>d===c[u]):a.length===1&&a[0]===c}function gX(a,c){if(a.startsWith("/"))return a;if(!a)return c;const d=c.split("/"),u=a.split("/");let p=d.length-1,g,E;for(g=0;g<u.length;g++)if(E=u[g],!(p===1||E==="."))if(E==="..")p--;else break;return d.slice(0,p).join("/")+"/"+u.slice(g-(g===u.length?1:0)).join("/")}var av;(function(a){a.pop="pop",a.push="push"})(av||(av={}));var Q1;(function(a){a.back="back",a.forward="forward",a.unknown=""})(Q1||(Q1={}));function mX(a){if(!a)if(Qd){const c=document.querySelector("base");a=c&&c.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),hX(a)}const yX=/^[^#]+#/;function _X(a,c){return a.replace(yX,"#")+c}function EX(a,c){const d=document.documentElement.getBoundingClientRect(),u=a.getBoundingClientRect();return{behavior:c.behavior,left:u.left-d.left-(c.left||0),top:u.top-d.top-(c.top||0)}}const vm=()=>({left:window.pageXOffset,top:window.pageYOffset});function SX(a){let c;if("el"in a){const d=a.el,u=typeof d=="string"&&d.startsWith("#"),p=typeof d=="string"?u?document.getElementById(d.slice(1)):document.querySelector(d):d;if(!p)return;c=EX(p,a)}else c=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(c):window.scrollTo(c.left!=null?c.left:window.pageXOffset,c.top!=null?c.top:window.pageYOffset)}function DE(a,c){return(history.state?history.state.position-c:-1)+a}const y4=new Map;function wX(a,c){y4.set(a,c)}function xX(a){const c=y4.get(a);return y4.delete(a),c}let OX=()=>location.protocol+"//"+location.host;function Zw(a,c){const{pathname:d,search:u,hash:p}=c,g=a.indexOf("#");if(g>-1){let b=p.includes(a.slice(g))?a.slice(g).length:1,M=p.slice(b);return M[0]!=="/"&&(M="/"+M),NE(M,"")}return NE(d,a)+u+p}function TX(a,c,d,u){let p=[],g=[],E=null;const b=({state:z})=>{const it=Zw(a,location),q=d.value,tt=c.value;let J=0;if(z){if(d.value=it,c.value=z,E&&E===q){E=null;return}J=tt?z.position-tt.position:0}else u(it);p.forEach(ot=>{ot(d.value,q,{delta:J,type:av.pop,direction:J?J>0?Q1.forward:Q1.back:Q1.unknown})})};function M(){E=d.value}function P(z){p.push(z);const it=()=>{const q=p.indexOf(z);q>-1&&p.splice(q,1)};return g.push(it),it}function k(){const{history:z}=window;!z.state||z.replaceState(na({},z.state,{scroll:vm()}),"")}function C(){for(const z of g)z();g=[],window.removeEventListener("popstate",b),window.removeEventListener("beforeunload",k)}return window.addEventListener("popstate",b),window.addEventListener("beforeunload",k),{pauseListeners:M,listen:P,destroy:C}}function jE(a,c,d,u=!1,p=!1){return{back:a,current:c,forward:d,replaced:u,position:window.history.length,scroll:p?vm():null}}function bX(a){const{history:c,location:d}=window,u={value:Zw(a,d)},p={value:c.state};p.value||g(u.value,{back:null,current:u.value,forward:null,position:c.length-1,replaced:!0,scroll:null},!0);function g(M,P,k){const C=a.indexOf("#"),z=C>-1?(d.host&&document.querySelector("base")?a:a.slice(C))+M:OX()+a+M;try{c[k?"replaceState":"pushState"](P,"",z),p.value=P}catch(it){console.error(it),d[k?"replace":"assign"](z)}}function E(M,P){const k=na({},c.state,jE(p.value.back,M,p.value.forward,!0),P,{position:p.value.position});g(M,k,!0),u.value=M}function b(M,P){const k=na({},p.value,c.state,{forward:M,scroll:vm()});g(k.current,k,!0);const C=na({},jE(u.value,M,null),{position:k.position+1},P);g(M,C,!1),u.value=M}return{location:u,state:p,push:b,replace:E}}function AX(a){a=mX(a);const c=bX(a),d=TX(a,c.state,c.location,c.replace);function u(g,E=!0){E||d.pauseListeners(),history.go(g)}const p=na({location:"",base:a,go:u,createHref:_X.bind(null,a)},c,d);return Object.defineProperty(p,"location",{enumerable:!0,get:()=>c.location.value}),Object.defineProperty(p,"state",{enumerable:!0,get:()=>c.state.value}),p}function FJ(a){return a=location.host?a||location.pathname+location.search:"",a.includes("#")||(a+="#"),AX(a)}function MX(a){return typeof a=="string"||a&&typeof a=="object"}function Jw(a){return typeof a=="string"||typeof a=="symbol"}const Af={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qw=Sp("nf");var GE;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(GE||(GE={}));function vp(a,c){return na(new Error,{type:a,[qw]:!0},c)}function Mf(a,c){return a instanceof Error&&qw in a&&(c==null||!!(a.type&c))}const BE="[^/]+?",RX={sensitive:!1,strict:!1,start:!0,end:!0},CX=/[.+*?^${}()[\]/\\]/g;function LX(a,c){const d=na({},RX,c),u=[];let p=d.start?"^":"";const g=[];for(const P of a){const k=P.length?[]:[90];d.strict&&!P.length&&(p+="/");for(let C=0;C<P.length;C++){const z=P[C];let it=40+(d.sensitive?.25:0);if(z.type===0)C||(p+="/"),p+=z.value.replace(CX,"\\$&"),it+=40;else if(z.type===1){const{value:q,repeatable:tt,optional:J,regexp:ot}=z;g.push({name:q,repeatable:tt,optional:J});const ct=ot||BE;if(ct!==BE){it+=10;try{new RegExp(`(${ct})`)}catch(nt){throw new Error(`Invalid custom RegExp for param "${q}" (${ct}): `+nt.message)}}let wt=tt?`((?:${ct})(?:/(?:${ct}))*)`:`(${ct})`;C||(wt=J&&P.length<2?`(?:/${wt})`:"/"+wt),J&&(wt+="?"),p+=wt,it+=20,J&&(it+=-8),tt&&(it+=-20),ct===".*"&&(it+=-50)}k.push(it)}u.push(k)}if(d.strict&&d.end){const P=u.length-1;u[P][u[P].length-1]+=.7000000000000001}d.strict||(p+="/?"),d.end?p+="$":d.strict&&(p+="(?:/|$)");const E=new RegExp(p,d.sensitive?"":"i");function b(P){const k=P.match(E),C={};if(!k)return null;for(let z=1;z<k.length;z++){const it=k[z]||"",q=g[z-1];C[q.name]=it&&q.repeatable?it.split("/"):it}return C}function M(P){let k="",C=!1;for(const z of a){(!C||!k.endsWith("/"))&&(k+="/"),C=!1;for(const it of z)if(it.type===0)k+=it.value;else if(it.type===1){const{value:q,repeatable:tt,optional:J}=it,ot=q in P?P[q]:"";if(Array.isArray(ot)&&!tt)throw new Error(`Provided param "${q}" is an array but it is not repeatable (* or + modifiers)`);const ct=Array.isArray(ot)?ot.join("/"):ot;if(!ct)if(J)z.length<2&&(k.endsWith("/")?k=k.slice(0,-1):C=!0);else throw new Error(`Missing required param "${q}"`);k+=ct}}return k}return{re:E,score:u,keys:g,parse:b,stringify:M}}function PX(a,c){let d=0;for(;d<a.length&&d<c.length;){const u=c[d]-a[d];if(u)return u;d++}return a.length<c.length?a.length===1&&a[0]===40+40?-1:1:a.length>c.length?c.length===1&&c[0]===40+40?1:-1:0}function IX(a,c){let d=0;const u=a.score,p=c.score;for(;d<u.length&&d<p.length;){const g=PX(u[d],p[d]);if(g)return g;d++}return p.length-u.length}const NX={type:0,value:""},FX=/[a-zA-Z0-9_]/;function DX(a){if(!a)return[[]];if(a==="/")return[[NX]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function c(it){throw new Error(`ERR (${d})/"${P}": ${it}`)}let d=0,u=d;const p=[];let g;function E(){g&&p.push(g),g=[]}let b=0,M,P="",k="";function C(){!P||(d===0?g.push({type:0,value:P}):d===1||d===2||d===3?(g.length>1&&(M==="*"||M==="+")&&c(`A repeatable param (${P}) must be alone in its segment. eg: '/:ids+.`),g.push({type:1,value:P,regexp:k,repeatable:M==="*"||M==="+",optional:M==="*"||M==="?"})):c("Invalid state to consume buffer"),P="")}function z(){P+=M}for(;b<a.length;){if(M=a[b++],M==="\\"&&d!==2){u=d,d=4;continue}switch(d){case 0:M==="/"?(P&&C(),E()):M===":"?(C(),d=1):z();break;case 4:z(),d=u;break;case 1:M==="("?d=2:FX.test(M)?z():(C(),d=0,M!=="*"&&M!=="?"&&M!=="+"&&b--);break;case 2:M===")"?k[k.length-1]=="\\"?k=k.slice(0,-1)+M:d=3:k+=M;break;case 3:C(),d=0,M!=="*"&&M!=="?"&&M!=="+"&&b--,k="";break;default:c("Unknown state");break}}return d===2&&c(`Unfinished custom RegExp for param "${P}"`),C(),E(),p}function jX(a,c,d){const u=LX(DX(a.path),d),p=na(u,{record:a,parent:c,children:[],alias:[]});return c&&!p.record.aliasOf==!c.record.aliasOf&&c.children.push(p),p}function GX(a,c){const d=[],u=new Map;c=kE({strict:!1,end:!0,sensitive:!1},c);function p(k){return u.get(k)}function g(k,C,z){const it=!z,q=UX(k);q.aliasOf=z&&z.record;const tt=kE(c,k),J=[q];if("alias"in k){const wt=typeof k.alias=="string"?[k.alias]:k.alias;for(const nt of wt)J.push(na({},q,{components:z?z.record.components:q.components,path:nt,aliasOf:z?z.record:q}))}let ot,ct;for(const wt of J){const{path:nt}=wt;if(C&&nt[0]!=="/"){const F=C.record.path,bt=F[F.length-1]==="/"?"":"/";wt.path=C.record.path+(nt&&bt+nt)}if(ot=jX(wt,C,tt),z?z.alias.push(ot):(ct=ct||ot,ct!==ot&&ct.alias.push(ot),it&&k.name&&!UE(ot)&&E(k.name)),"children"in q){const F=q.children;for(let bt=0;bt<F.length;bt++)g(F[bt],ot,z&&z.children[bt])}z=z||ot,M(ot)}return ct?()=>{E(ct)}:q1}function E(k){if(Jw(k)){const C=u.get(k);C&&(u.delete(k),d.splice(d.indexOf(C),1),C.children.forEach(E),C.alias.forEach(E))}else{const C=d.indexOf(k);C>-1&&(d.splice(C,1),k.record.name&&u.delete(k.record.name),k.children.forEach(E),k.alias.forEach(E))}}function b(){return d}function M(k){let C=0;for(;C<d.length&&IX(k,d[C])>=0&&(k.record.path!==d[C].record.path||!Qw(k,d[C]));)C++;d.splice(C,0,k),k.record.name&&!UE(k)&&u.set(k.record.name,k)}function P(k,C){let z,it={},q,tt;if("name"in k&&k.name){if(z=u.get(k.name),!z)throw vp(1,{location:k});tt=z.record.name,it=na(BX(C.params,z.keys.filter(ct=>!ct.optional).map(ct=>ct.name)),k.params),q=z.stringify(it)}else if("path"in k)q=k.path,z=d.find(ct=>ct.re.test(q)),z&&(it=z.parse(q),tt=z.record.name);else{if(z=C.name?u.get(C.name):d.find(ct=>ct.re.test(C.path)),!z)throw vp(1,{location:k,currentLocation:C});tt=z.record.name,it=na({},C.params,k.params),q=z.stringify(it)}const J=[];let ot=z;for(;ot;)J.unshift(ot.record),ot=ot.parent;return{name:tt,path:q,params:it,matched:J,meta:zX(J)}}return a.forEach(k=>g(k)),{addRoute:g,resolve:P,removeRoute:E,getRoutes:b,getRecordMatcher:p}}function BX(a,c){const d={};for(const u of c)u in a&&(d[u]=a[u]);return d}function UX(a){return{path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:void 0,beforeEnter:a.beforeEnter,props:kX(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||{}:{default:a.component}}}function kX(a){const c={},d=a.props||!1;if("component"in a)c.default=d;else for(const u in a.components)c[u]=typeof d=="boolean"?d:d[u];return c}function UE(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function zX(a){return a.reduce((c,d)=>na(c,d.meta),{})}function kE(a,c){const d={};for(const u in a)d[u]=u in c?c[u]:a[u];return d}function Qw(a,c){return c.children.some(d=>d===a||Qw(a,d))}const tx=/#/g,VX=/&/g,WX=/\//g,HX=/=/g,YX=/\?/g,ex=/\+/g,XX=/%5B/g,KX=/%5D/g,rx=/%5E/g,$X=/%60/g,nx=/%7B/g,ZX=/%7C/g,ix=/%7D/g,JX=/%20/g;function M_(a){return encodeURI(""+a).replace(ZX,"|").replace(XX,"[").replace(KX,"]")}function qX(a){return M_(a).replace(nx,"{").replace(ix,"}").replace(rx,"^")}function _4(a){return M_(a).replace(ex,"%2B").replace(JX,"+").replace(tx,"%23").replace(VX,"%26").replace($X,"`").replace(nx,"{").replace(ix,"}").replace(rx,"^")}function QX(a){return _4(a).replace(HX,"%3D")}function tK(a){return M_(a).replace(tx,"%23").replace(YX,"%3F")}function eK(a){return a==null?"":tK(a).replace(WX,"%2F")}function zg(a){try{return decodeURIComponent(""+a)}catch{}return""+a}function rK(a){const c={};if(a===""||a==="?")return c;const u=(a[0]==="?"?a.slice(1):a).split("&");for(let p=0;p<u.length;++p){const g=u[p].replace(ex," "),E=g.indexOf("="),b=zg(E<0?g:g.slice(0,E)),M=E<0?null:zg(g.slice(E+1));if(b in c){let P=c[b];Array.isArray(P)||(P=c[b]=[P]),P.push(M)}else c[b]=M}return c}function zE(a){let c="";for(let d in a){const u=a[d];if(d=QX(d),u==null){u!==void 0&&(c+=(c.length?"&":"")+d);continue}(Array.isArray(u)?u.map(g=>g&&_4(g)):[u&&_4(u)]).forEach(g=>{g!==void 0&&(c+=(c.length?"&":"")+d,g!=null&&(c+="="+g))})}return c}function nK(a){const c={};for(const d in a){const u=a[d];u!==void 0&&(c[d]=Array.isArray(u)?u.map(p=>p==null?null:""+p):u==null?u:""+u)}return c}function j1(){let a=[];function c(u){return a.push(u),()=>{const p=a.indexOf(u);p>-1&&a.splice(p,1)}}function d(){a=[]}return{add:c,list:()=>a,reset:d}}function iK(a,c,d){const u=()=>{a[c].delete(d)};Ep(u),p_(u),d_(()=>{a[c].add(d)}),a[c].add(d)}function DJ(a){const c=gu(Kw,{}).value;!c||iK(c,"updateGuards",a)}function Pf(a,c,d,u,p){const g=u&&(u.enterCallbacks[p]=u.enterCallbacks[p]||[]);return()=>new Promise((E,b)=>{const M=C=>{C===!1?b(vp(4,{from:d,to:c})):C instanceof Error?b(C):MX(C)?b(vp(2,{from:c,to:C})):(g&&u.enterCallbacks[p]===g&&typeof C=="function"&&g.push(C),E())},P=a.call(u&&u.instances[p],c,d,M);let k=Promise.resolve(P);a.length<3&&(k=k.then(M)),k.catch(C=>b(C))})}function X3(a,c,d,u){const p=[];for(const g of a)for(const E in g.components){let b=g.components[E];if(!(c!=="beforeRouteEnter"&&!g.instances[E]))if(oK(b)){const P=(b.__vccOpts||b)[c];P&&p.push(Pf(P,d,u,g,E))}else{let M=b();p.push(()=>M.then(P=>{if(!P)return Promise.reject(new Error(`Couldn't resolve component "${E}" at "${g.path}"`));const k=cX(P)?P.default:P;g.components[E]=k;const z=(k.__vccOpts||k)[c];return z&&Pf(z,d,u,g,E)()}))}}return p}function oK(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function VE(a){const c=gu(pm),d=gu(A_),u=El(()=>c.resolve(op(a.to))),p=El(()=>{const{matched:M}=u.value,{length:P}=M,k=M[P-1],C=d.matched;if(!k||!C.length)return-1;const z=C.findIndex(pp.bind(null,k));if(z>-1)return z;const it=WE(M[P-2]);return P>1&&WE(k)===it&&C[C.length-1].path!==it?C.findIndex(pp.bind(null,M[P-2])):z}),g=El(()=>p.value>-1&&uK(d.params,u.value.params)),E=El(()=>p.value>-1&&p.value===d.matched.length-1&&$w(d.params,u.value.params));function b(M={}){return lK(M)?c[op(a.replace)?"replace":"push"](op(a.to)).catch(q1):Promise.resolve()}return{route:u,href:El(()=>u.value.href),isActive:g,isExactActive:E,navigate:b}}const aK=vv({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:VE,setup(a,{slots:c}){const d=yp(VE(a)),{options:u}=gu(pm),p=El(()=>({[HE(a.activeClass,u.linkActiveClass,"router-link-active")]:d.isActive,[HE(a.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:d.isExactActive}));return()=>{const g=c.default&&c.default(d);return a.custom?g:Ec("a",{"aria-current":d.isExactActive?a.ariaCurrentValue:null,href:d.href,onClick:d.navigate,class:p.value},g)}}}),sK=aK;function lK(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const c=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(c))return}return a.preventDefault&&a.preventDefault(),!0}}function uK(a,c){for(const d in c){const u=c[d],p=a[d];if(typeof u=="string"){if(u!==p)return!1}else if(!Array.isArray(p)||p.length!==u.length||u.some((g,E)=>g!==p[E]))return!1}return!0}function WE(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const HE=(a,c,d)=>a!=null?a:c!=null?c:d,cK=vv({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(a,{attrs:c,slots:d}){const u=gu(m4),p=El(()=>a.route||u.value),g=gu(IE,0),E=El(()=>p.value.matched[g]);K1(IE,g+1),K1(Kw,E),K1(m4,p);const b=pc();return Nf(()=>[b.value,E.value,a.name],([M,P,k],[C,z,it])=>{P&&(P.instances[k]=M,z&&z!==P&&M&&M===C&&(P.leaveGuards.size||(P.leaveGuards=z.leaveGuards),P.updateGuards.size||(P.updateGuards=z.updateGuards))),M&&P&&(!z||!pp(P,z)||!C)&&(P.enterCallbacks[k]||[]).forEach(q=>q(M))},{flush:"post"}),()=>{const M=p.value,P=E.value,k=P&&P.components[a.name],C=a.name;if(!k)return YE(d.default,{Component:k,route:M});const z=P.props[a.name],it=z?z===!0?M.params:typeof z=="function"?z(M):z:null,tt=Ec(k,na({},it,c,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(P.instances[C]=null)},ref:b}));return YE(d.default,{Component:tt,route:M})||tt}}});function YE(a,c){if(!a)return null;const d=a(c);return d.length===1?d[0]:d}const fK=cK;function jJ(a){const c=GX(a.routes,a),d=a.parseQuery||rK,u=a.stringifyQuery||zE,p=a.history,g=j1(),E=j1(),b=j1(),M=FS(Af);let P=Af;Qd&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=H3.bind(null,_e=>""+_e),C=H3.bind(null,eK),z=H3.bind(null,zg);function it(_e,er){let _r,Fr;return Jw(_e)?(_r=c.getRecordMatcher(_e),Fr=er):Fr=_e,c.addRoute(Fr,_r)}function q(_e){const er=c.getRecordMatcher(_e);er&&c.removeRoute(er)}function tt(){return c.getRoutes().map(_e=>_e.record)}function J(_e){return!!c.getRecordMatcher(_e)}function ot(_e,er){if(er=na({},er||M.value),typeof _e=="string"){const ie=Y3(d,_e,er.path),Tt=c.resolve({path:ie.path},er),ft=p.createHref(ie.fullPath);return na(ie,Tt,{params:z(Tt.params),hash:zg(ie.hash),redirectedFrom:void 0,href:ft})}let _r;if("path"in _e)_r=na({},_e,{path:Y3(d,_e.path,er.path).path});else{const ie=na({},_e.params);for(const Tt in ie)ie[Tt]==null&&delete ie[Tt];_r=na({},_e,{params:C(_e.params)}),er.params=C(er.params)}const Fr=c.resolve(_r,er),jn=_e.hash||"";Fr.params=k(z(Fr.params));const Ur=dX(u,na({},_e,{hash:qX(jn),path:Fr.path})),Vt=p.createHref(Ur);return na({fullPath:Ur,hash:jn,query:u===zE?nK(_e.query):_e.query||{}},Fr,{redirectedFrom:void 0,href:Vt})}function ct(_e){return typeof _e=="string"?Y3(d,_e,M.value.path):na({},_e)}function wt(_e,er){if(P!==_e)return vp(8,{from:er,to:_e})}function nt(_e){return jt(_e)}function F(_e){return nt(na(ct(_e),{replace:!0}))}function bt(_e){const er=_e.matched[_e.matched.length-1];if(er&&er.redirect){const{redirect:_r}=er;let Fr=typeof _r=="function"?_r(_e):_r;return typeof Fr=="string"&&(Fr=Fr.includes("?")||Fr.includes("#")?Fr=ct(Fr):{path:Fr},Fr.params={}),na({query:_e.query,hash:_e.hash,params:_e.params},Fr)}}function jt(_e,er){const _r=P=ot(_e),Fr=M.value,jn=_e.state,Ur=_e.force,Vt=_e.replace===!0,ie=bt(_r);if(ie)return jt(na(ct(ie),{state:jn,force:Ur,replace:Vt}),er||_r);const Tt=_r;Tt.redirectedFrom=er;let ft;return!Ur&&pX(u,Fr,_r)&&(ft=vp(16,{to:Tt,from:Fr}),xr(Fr,Fr,!0,!1)),(ft?Promise.resolve(ft):Ot(Tt,Fr)).catch(Rt=>Mf(Rt)?Mf(Rt,2)?Rt:Sr(Rt):Kt(Rt,Tt,Fr)).then(Rt=>{if(Rt){if(Mf(Rt,2))return jt(na(ct(Rt.to),{state:jn,force:Ur,replace:Vt}),er||Tt)}else Rt=Dt(Tt,Fr,!0,Vt,jn);return ee(Tt,Fr,Rt),Rt})}function te(_e,er){const _r=wt(_e,er);return _r?Promise.reject(_r):Promise.resolve()}function Ot(_e,er){let _r;const[Fr,jn,Ur]=hK(_e,er);_r=X3(Fr.reverse(),"beforeRouteLeave",_e,er);for(const ie of Fr)ie.leaveGuards.forEach(Tt=>{_r.push(Pf(Tt,_e,er))});const Vt=te.bind(null,_e,er);return _r.push(Vt),Kd(_r).then(()=>{_r=[];for(const ie of g.list())_r.push(Pf(ie,_e,er));return _r.push(Vt),Kd(_r)}).then(()=>{_r=X3(jn,"beforeRouteUpdate",_e,er);for(const ie of jn)ie.updateGuards.forEach(Tt=>{_r.push(Pf(Tt,_e,er))});return _r.push(Vt),Kd(_r)}).then(()=>{_r=[];for(const ie of _e.matched)if(ie.beforeEnter&&!er.matched.includes(ie))if(Array.isArray(ie.beforeEnter))for(const Tt of ie.beforeEnter)_r.push(Pf(Tt,_e,er));else _r.push(Pf(ie.beforeEnter,_e,er));return _r.push(Vt),Kd(_r)}).then(()=>(_e.matched.forEach(ie=>ie.enterCallbacks={}),_r=X3(Ur,"beforeRouteEnter",_e,er),_r.push(Vt),Kd(_r))).then(()=>{_r=[];for(const ie of E.list())_r.push(Pf(ie,_e,er));return _r.push(Vt),Kd(_r)}).catch(ie=>Mf(ie,8)?ie:Promise.reject(ie))}function ee(_e,er,_r){for(const Fr of b.list())Fr(_e,er,_r)}function Dt(_e,er,_r,Fr,jn){const Ur=wt(_e,er);if(Ur)return Ur;const Vt=er===Af,ie=Qd?history.state:{};_r&&(Fr||Vt?p.replace(_e.fullPath,na({scroll:Vt&&ie&&ie.scroll},jn)):p.push(_e.fullPath,jn)),M.value=_e,xr(_e,er,_r,Vt),Sr()}let Wt;function le(){Wt=p.listen((_e,er,_r)=>{const Fr=ot(_e),jn=bt(Fr);if(jn){jt(na(jn,{replace:!0}),Fr).catch(q1);return}P=Fr;const Ur=M.value;Qd&&wX(DE(Ur.fullPath,_r.delta),vm()),Ot(Fr,Ur).catch(Vt=>Mf(Vt,12)?Vt:Mf(Vt,2)?(jt(Vt.to,Fr).then(ie=>{Mf(ie,20)&&!_r.delta&&_r.type===av.pop&&p.go(-1,!1)}).catch(q1),Promise.reject()):(_r.delta&&p.go(-_r.delta,!1),Kt(Vt,Fr,Ur))).then(Vt=>{Vt=Vt||Dt(Fr,Ur,!1),Vt&&(_r.delta?p.go(-_r.delta,!1):_r.type===av.pop&&Mf(Vt,20)&&p.go(-1,!1)),ee(Fr,Ur,Vt)}).catch(q1)})}let ye=j1(),Qe=j1(),mt;function Kt(_e,er,_r){Sr(_e);const Fr=Qe.list();return Fr.length?Fr.forEach(jn=>jn(_e,er,_r)):console.error(_e),Promise.reject(_e)}function ae(){return mt&&M.value!==Af?Promise.resolve():new Promise((_e,er)=>{ye.add([_e,er])})}function Sr(_e){return mt||(mt=!_e,le(),ye.list().forEach(([er,_r])=>_e?_r(_e):er()),ye.reset()),_e}function xr(_e,er,_r,Fr){const{scrollBehavior:jn}=a;if(!Qd||!jn)return Promise.resolve();const Ur=!_r&&xX(DE(_e.fullPath,0))||(Fr||!_r)&&history.state&&history.state.scroll||null;return om().then(()=>jn(_e,er,Ur)).then(Vt=>Vt&&SX(Vt)).catch(Vt=>Kt(Vt,_e,er))}const ar=_e=>p.go(_e);let jr;const Xr=new Set;return{currentRoute:M,addRoute:it,removeRoute:q,hasRoute:J,getRoutes:tt,resolve:ot,options:a,push:nt,replace:F,go:ar,back:()=>ar(-1),forward:()=>ar(1),beforeEach:g.add,beforeResolve:E.add,afterEach:b.add,onError:Qe.add,isReady:ae,install(_e){const er=this;_e.component("RouterLink",sK),_e.component("RouterView",fK),_e.config.globalProperties.$router=er,Object.defineProperty(_e.config.globalProperties,"$route",{enumerable:!0,get:()=>op(M)}),Qd&&!jr&&M.value===Af&&(jr=!0,nt(p.location).catch(jn=>{}));const _r={};for(const jn in Af)_r[jn]=El(()=>M.value[jn]);_e.provide(pm,er),_e.provide(A_,yp(_r)),_e.provide(m4,M);const Fr=_e.unmount;Xr.add(_e),_e.unmount=function(){Xr.delete(_e),Xr.size<1&&(P=Af,Wt&&Wt(),M.value=Af,jr=!1,mt=!1),Fr()}}}}function Kd(a){return a.reduce((c,d)=>c.then(()=>d()),Promise.resolve())}function hK(a,c){const d=[],u=[],p=[],g=Math.max(c.matched.length,a.matched.length);for(let E=0;E<g;E++){const b=c.matched[E];b&&(a.matched.find(P=>pp(P,b))?u.push(b):d.push(b));const M=a.matched[E];M&&(c.matched.find(P=>pp(P,M))||p.push(M))}return[d,u,p]}function GJ(){return gu(pm)}function BJ(){return gu(A_)}/*!
  * @intlify/shared v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const dK=typeof window!="undefined";let pK,vK;const gK=/\{([0-9a-zA-Z]+)\}/g;function ox(a,...c){return c.length===1&&Gs(c[0])&&(c=c[0]),(!c||!c.hasOwnProperty)&&(c={}),a.replace(gK,(d,u)=>c.hasOwnProperty(u)?c[u]:"")}const mK=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",kc=a=>mK?Symbol(a):a,ax=(a,c,d)=>sx({l:a,k:c,s:d}),sx=a=>JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Sl=a=>typeof a=="number"&&isFinite(a),lx=a=>gm(a)==="[object Date]",sv=a=>gm(a)==="[object RegExp]",mv=a=>Ao(a)&&Object.keys(a).length===0;function ux(a,c){typeof console!="undefined"&&(console.warn("[intlify] "+a),c&&console.warn(c.stack))}const js=Object.assign;let XE;const sp=()=>XE||(XE=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function E4(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const yK=Object.prototype.hasOwnProperty;function R_(a,c){return yK.call(a,c)}const Qs=Array.isArray,Ds=a=>typeof a=="function",ti=a=>typeof a=="string",Os=a=>typeof a=="boolean",_K=a=>typeof a=="symbol",Gs=a=>a!==null&&typeof a=="object",EK=a=>Gs(a)&&Ds(a.then)&&Ds(a.catch),C_=Object.prototype.toString,gm=a=>C_.call(a),Ao=a=>gm(a)==="[object Object]",cx=a=>a==null?"":Qs(a)||Ao(a)&&a.toString===C_?JSON.stringify(a,null,2):String(a),KE=2;function SK(a,c=0,d=a.length){const u=a.split(/\r?\n/);let p=0;const g=[];for(let E=0;E<u.length;E++)if(p+=u[E].length+1,p>=c){for(let b=E-KE;b<=E+KE||d>p;b++){if(b<0||b>=u.length)continue;const M=b+1;g.push(`${M}${" ".repeat(3-String(M).length)}|  ${u[b]}`);const P=u[b].length;if(b===E){const k=c-(p-P)+1,C=Math.max(1,d>p?P-k:d-c);g.push("   |  "+" ".repeat(k)+"^".repeat(C))}else if(b>E){if(d>p){const k=Math.max(Math.min(d-p,P),1);g.push("   |  "+"^".repeat(k))}p+=P+1}}break}return g.join(`
`)}function wK(){const a=new Map;return{events:a,on(d,u){const p=a.get(d);p&&p.push(u)||a.set(d,[u])},off(d,u){const p=a.get(d);p&&p.splice(p.indexOf(u)>>>0,1)},emit(d,u){(a.get(d)||[]).slice().map(p=>p(u)),(a.get("*")||[]).slice().map(p=>p(d,u))}}}var xK=Object.freeze(Object.defineProperty({__proto__:null,assign:js,createEmitter:wK,escapeHtml:E4,format:ox,friendlyJSONstringify:sx,generateCodeFrame:SK,generateFormatCacheKey:ax,getGlobalThis:sp,hasOwn:R_,inBrowser:dK,isArray:Qs,isBoolean:Os,isDate:lx,isEmptyObject:mv,isFunction:Ds,isNumber:Sl,isObject:Gs,isPlainObject:Ao,isPromise:EK,isRegExp:sv,isString:ti,isSymbol:_K,makeSymbol:kc,mark:pK,measure:vK,objectToString:C_,toDisplayString:cx,toTypeString:gm,warn:ux},Symbol.toStringTag,{value:"Module"}));/*!
  * @intlify/message-resolver v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const OK=Object.prototype.hasOwnProperty;function TK(a,c){return OK.call(a,c)}const Lg=a=>a!==null&&typeof a=="object",Wf=[];Wf[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Wf[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Wf[2]={w:[2],i:[3,0],["0"]:[3,0]};Wf[3]={i:[3,0],["0"]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Wf[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Wf[5]={["'"]:[4,0],o:8,l:[5,0]};Wf[6]={['"']:[4,0],o:8,l:[6,0]};const bK=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function AK(a){return bK.test(a)}function MK(a){const c=a.charCodeAt(0),d=a.charCodeAt(a.length-1);return c===d&&(c===34||c===39)?a.slice(1,-1):a}function RK(a){if(a==null)return"o";switch(a.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return a;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function CK(a){const c=a.trim();return a.charAt(0)==="0"&&isNaN(parseInt(a))?!1:AK(c)?MK(c):"*"+c}function fx(a){const c=[];let d=-1,u=0,p=0,g,E,b,M,P,k,C;const z=[];z[0]=()=>{E===void 0?E=b:E+=b},z[1]=()=>{E!==void 0&&(c.push(E),E=void 0)},z[2]=()=>{z[0](),p++},z[3]=()=>{if(p>0)p--,u=4,z[0]();else{if(p=0,E===void 0||(E=CK(E),E===!1))return!1;z[1]()}};function it(){const q=a[d+1];if(u===5&&q==="'"||u===6&&q==='"')return d++,b="\\"+q,z[0](),!0}for(;u!==null;)if(d++,g=a[d],!(g==="\\"&&it())){if(M=RK(g),C=Wf[u],P=C[M]||C.l||8,P===8||(u=P[0],P[1]!==void 0&&(k=z[P[1]],k&&(b=g,k()===!1))))return;if(u===7)return c}}const $E=new Map;function lv(a,c){if(!Lg(a))return null;let d=$E.get(c);if(d||(d=fx(c),d&&$E.set(c,d)),!d)return null;const u=d.length;let p=a,g=0;for(;g<u;){const E=p[d[g]];if(E===void 0)return null;p=E,g++}return p}function Vg(a){if(!Lg(a))return a;for(const c in a)if(!!TK(a,c))if(!c.includes("."))Lg(a[c])&&Vg(a[c]);else{const d=c.split("."),u=d.length-1;let p=a;for(let g=0;g<u;g++)d[g]in p||(p[d[g]]={}),p=p[d[g]];p[d[u]]=a[c],delete a[c],Lg(p[d[u]])&&Vg(p[d[u]])}return a}/*!
  * @intlify/runtime v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const LK=a=>a,PK=a=>"",hx="text",IK=a=>a.length===0?"":a.join(""),NK=cx;function ZE(a,c){return a=Math.abs(a),c===2?a?a>1?1:0:1:a?Math.min(a,2):0}function FK(a){const c=Sl(a.pluralIndex)?a.pluralIndex:-1;return a.named&&(Sl(a.named.count)||Sl(a.named.n))?Sl(a.named.count)?a.named.count:Sl(a.named.n)?a.named.n:c:c}function DK(a,c){c.count||(c.count=a),c.n||(c.n=a)}function dx(a={}){const c=a.locale,d=FK(a),u=Gs(a.pluralRules)&&ti(c)&&Ds(a.pluralRules[c])?a.pluralRules[c]:ZE,p=Gs(a.pluralRules)&&ti(c)&&Ds(a.pluralRules[c])?ZE:void 0,g=J=>J[u(d,J.length,p)],E=a.list||[],b=J=>E[J],M=a.named||{};Sl(a.pluralIndex)&&DK(d,M);const P=J=>M[J];function k(J){const ot=Ds(a.messages)?a.messages(J):Gs(a.messages)?a.messages[J]:!1;return ot||(a.parent?a.parent.message(J):PK)}const C=J=>a.modifiers?a.modifiers[J]:LK,z=Ao(a.processor)&&Ds(a.processor.normalize)?a.processor.normalize:IK,it=Ao(a.processor)&&Ds(a.processor.interpolate)?a.processor.interpolate:NK,q=Ao(a.processor)&&ti(a.processor.type)?a.processor.type:hx,tt={list:b,named:P,plural:g,linked:(J,ot)=>{const ct=k(J)(tt);return ti(ot)?C(ot)(ct):ct},message:k,type:q,interpolate:it,normalize:z};return tt}/*!
  * @intlify/message-compiler v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */function yv(a,c,d={}){const{domain:u,messages:p,args:g}=d,E=a,b=new SyntaxError(String(E));return b.code=a,c&&(b.location=c),b.domain=u,b}function jK(a){throw a}function GK(a,c,d){return{line:a,column:c,offset:d}}function S4(a,c,d){const u={start:a,end:c};return d!=null&&(u.source=d),u}const Fc=" ",BK="\r",Ul=`
`,UK=String.fromCharCode(8232),kK=String.fromCharCode(8233);function zK(a){const c=a;let d=0,u=1,p=1,g=0;const E=jt=>c[jt]===BK&&c[jt+1]===Ul,b=jt=>c[jt]===Ul,M=jt=>c[jt]===kK,P=jt=>c[jt]===UK,k=jt=>E(jt)||b(jt)||M(jt)||P(jt),C=()=>d,z=()=>u,it=()=>p,q=()=>g,tt=jt=>E(jt)||M(jt)||P(jt)?Ul:c[jt],J=()=>tt(d),ot=()=>tt(d+g);function ct(){return g=0,k(d)&&(u++,p=0),E(d)&&d++,d++,p++,c[d]}function wt(){return E(d+g)&&g++,g++,c[d+g]}function nt(){d=0,u=1,p=1,g=0}function F(jt=0){g=jt}function bt(){const jt=d+g;for(;jt!==d;)ct();g=0}return{index:C,line:z,column:it,peekOffset:q,charAt:tt,currentChar:J,currentPeek:ot,next:ct,peek:wt,reset:nt,resetPeek:F,skipToPeek:bt}}const Rf=void 0,JE="'",VK="tokenizer";function WK(a,c={}){const d=c.location!==!1,u=zK(a),p=()=>u.index(),g=()=>GK(u.line(),u.column(),u.index()),E=g(),b=p(),M={currentType:14,offset:b,startLoc:E,endLoc:E,lastType:14,lastOffset:b,lastStartLoc:E,lastEndLoc:E,braceNest:0,inLinked:!1,text:""},P=()=>M,{onError:k}=c;function C(Vt,ie,Tt,...ft){const Rt=P();if(ie.column+=Tt,ie.offset+=Tt,k){const Qt=S4(Rt.startLoc,ie),$t=yv(Vt,Qt,{domain:VK,args:ft});k($t)}}function z(Vt,ie,Tt){Vt.endLoc=g(),Vt.currentType=ie;const ft={type:ie};return d&&(ft.loc=S4(Vt.startLoc,Vt.endLoc)),Tt!=null&&(ft.value=Tt),ft}const it=Vt=>z(Vt,14);function q(Vt,ie){return Vt.currentChar()===ie?(Vt.next(),ie):(C(0,g(),0,ie),"")}function tt(Vt){let ie="";for(;Vt.currentPeek()===Fc||Vt.currentPeek()===Ul;)ie+=Vt.currentPeek(),Vt.peek();return ie}function J(Vt){const ie=tt(Vt);return Vt.skipToPeek(),ie}function ot(Vt){if(Vt===Rf)return!1;const ie=Vt.charCodeAt(0);return ie>=97&&ie<=122||ie>=65&&ie<=90||ie===95}function ct(Vt){if(Vt===Rf)return!1;const ie=Vt.charCodeAt(0);return ie>=48&&ie<=57}function wt(Vt,ie){const{currentType:Tt}=ie;if(Tt!==2)return!1;tt(Vt);const ft=ot(Vt.currentPeek());return Vt.resetPeek(),ft}function nt(Vt,ie){const{currentType:Tt}=ie;if(Tt!==2)return!1;tt(Vt);const ft=Vt.currentPeek()==="-"?Vt.peek():Vt.currentPeek(),Rt=ct(ft);return Vt.resetPeek(),Rt}function F(Vt,ie){const{currentType:Tt}=ie;if(Tt!==2)return!1;tt(Vt);const ft=Vt.currentPeek()===JE;return Vt.resetPeek(),ft}function bt(Vt,ie){const{currentType:Tt}=ie;if(Tt!==8)return!1;tt(Vt);const ft=Vt.currentPeek()===".";return Vt.resetPeek(),ft}function jt(Vt,ie){const{currentType:Tt}=ie;if(Tt!==9)return!1;tt(Vt);const ft=ot(Vt.currentPeek());return Vt.resetPeek(),ft}function te(Vt,ie){const{currentType:Tt}=ie;if(!(Tt===8||Tt===12))return!1;tt(Vt);const ft=Vt.currentPeek()===":";return Vt.resetPeek(),ft}function Ot(Vt,ie){const{currentType:Tt}=ie;if(Tt!==10)return!1;const ft=()=>{const Qt=Vt.currentPeek();return Qt==="{"?ot(Vt.peek()):Qt==="@"||Qt==="%"||Qt==="|"||Qt===":"||Qt==="."||Qt===Fc||!Qt?!1:Qt===Ul?(Vt.peek(),ft()):ot(Qt)},Rt=ft();return Vt.resetPeek(),Rt}function ee(Vt){tt(Vt);const ie=Vt.currentPeek()==="|";return Vt.resetPeek(),ie}function Dt(Vt,ie=!0){const Tt=(Rt=!1,Qt="",$t=!1)=>{const he=Vt.currentPeek();return he==="{"?Qt==="%"?!1:Rt:he==="@"||!he?Qt==="%"?!0:Rt:he==="%"?(Vt.peek(),Tt(Rt,"%",!0)):he==="|"?Qt==="%"||$t?!0:!(Qt===Fc||Qt===Ul):he===Fc?(Vt.peek(),Tt(!0,Fc,$t)):he===Ul?(Vt.peek(),Tt(!0,Ul,$t)):!0},ft=Tt();return ie&&Vt.resetPeek(),ft}function Wt(Vt,ie){const Tt=Vt.currentChar();return Tt===Rf?Rf:ie(Tt)?(Vt.next(),Tt):null}function le(Vt){return Wt(Vt,Tt=>{const ft=Tt.charCodeAt(0);return ft>=97&&ft<=122||ft>=65&&ft<=90||ft>=48&&ft<=57||ft===95||ft===36})}function ye(Vt){return Wt(Vt,Tt=>{const ft=Tt.charCodeAt(0);return ft>=48&&ft<=57})}function Qe(Vt){return Wt(Vt,Tt=>{const ft=Tt.charCodeAt(0);return ft>=48&&ft<=57||ft>=65&&ft<=70||ft>=97&&ft<=102})}function mt(Vt){let ie="",Tt="";for(;ie=ye(Vt);)Tt+=ie;return Tt}function Kt(Vt){let ie="";for(;;){const Tt=Vt.currentChar();if(Tt==="{"||Tt==="}"||Tt==="@"||Tt==="|"||!Tt)break;if(Tt==="%")if(Dt(Vt))ie+=Tt,Vt.next();else break;else if(Tt===Fc||Tt===Ul)if(Dt(Vt))ie+=Tt,Vt.next();else{if(ee(Vt))break;ie+=Tt,Vt.next()}else ie+=Tt,Vt.next()}return ie}function ae(Vt){J(Vt);let ie="",Tt="";for(;ie=le(Vt);)Tt+=ie;return Vt.currentChar()===Rf&&C(6,g(),0),Tt}function Sr(Vt){J(Vt);let ie="";return Vt.currentChar()==="-"?(Vt.next(),ie+=`-${mt(Vt)}`):ie+=mt(Vt),Vt.currentChar()===Rf&&C(6,g(),0),ie}function xr(Vt){J(Vt),q(Vt,"'");let ie="",Tt="";const ft=Qt=>Qt!==JE&&Qt!==Ul;for(;ie=Wt(Vt,ft);)ie==="\\"?Tt+=ar(Vt):Tt+=ie;const Rt=Vt.currentChar();return Rt===Ul||Rt===Rf?(C(2,g(),0),Rt===Ul&&(Vt.next(),q(Vt,"'")),Tt):(q(Vt,"'"),Tt)}function ar(Vt){const ie=Vt.currentChar();switch(ie){case"\\":case"'":return Vt.next(),`\\${ie}`;case"u":return jr(Vt,ie,4);case"U":return jr(Vt,ie,6);default:return C(3,g(),0,ie),""}}function jr(Vt,ie,Tt){q(Vt,ie);let ft="";for(let Rt=0;Rt<Tt;Rt++){const Qt=Qe(Vt);if(!Qt){C(4,g(),0,`\\${ie}${ft}${Vt.currentChar()}`);break}ft+=Qt}return`\\${ie}${ft}`}function Xr(Vt){J(Vt);let ie="",Tt="";const ft=Rt=>Rt!=="{"&&Rt!=="}"&&Rt!==Fc&&Rt!==Ul;for(;ie=Wt(Vt,ft);)Tt+=ie;return Tt}function wn(Vt){let ie="",Tt="";for(;ie=le(Vt);)Tt+=ie;return Tt}function _e(Vt){const ie=(Tt=!1,ft)=>{const Rt=Vt.currentChar();return Rt==="{"||Rt==="%"||Rt==="@"||Rt==="|"||!Rt||Rt===Fc?ft:Rt===Ul?(ft+=Rt,Vt.next(),ie(Tt,ft)):(ft+=Rt,Vt.next(),ie(!0,ft))};return ie(!1,"")}function er(Vt){J(Vt);const ie=q(Vt,"|");return J(Vt),ie}function _r(Vt,ie){let Tt=null;switch(Vt.currentChar()){case"{":return ie.braceNest>=1&&C(8,g(),0),Vt.next(),Tt=z(ie,2,"{"),J(Vt),ie.braceNest++,Tt;case"}":return ie.braceNest>0&&ie.currentType===2&&C(7,g(),0),Vt.next(),Tt=z(ie,3,"}"),ie.braceNest--,ie.braceNest>0&&J(Vt),ie.inLinked&&ie.braceNest===0&&(ie.inLinked=!1),Tt;case"@":return ie.braceNest>0&&C(6,g(),0),Tt=Fr(Vt,ie)||it(ie),ie.braceNest=0,Tt;default:let Rt=!0,Qt=!0,$t=!0;if(ee(Vt))return ie.braceNest>0&&C(6,g(),0),Tt=z(ie,1,er(Vt)),ie.braceNest=0,ie.inLinked=!1,Tt;if(ie.braceNest>0&&(ie.currentType===5||ie.currentType===6||ie.currentType===7))return C(6,g(),0),ie.braceNest=0,jn(Vt,ie);if(Rt=wt(Vt,ie))return Tt=z(ie,5,ae(Vt)),J(Vt),Tt;if(Qt=nt(Vt,ie))return Tt=z(ie,6,Sr(Vt)),J(Vt),Tt;if($t=F(Vt,ie))return Tt=z(ie,7,xr(Vt)),J(Vt),Tt;if(!Rt&&!Qt&&!$t)return Tt=z(ie,13,Xr(Vt)),C(1,g(),0,Tt.value),J(Vt),Tt;break}return Tt}function Fr(Vt,ie){const{currentType:Tt}=ie;let ft=null;const Rt=Vt.currentChar();switch((Tt===8||Tt===9||Tt===12||Tt===10)&&(Rt===Ul||Rt===Fc)&&C(9,g(),0),Rt){case"@":return Vt.next(),ft=z(ie,8,"@"),ie.inLinked=!0,ft;case".":return J(Vt),Vt.next(),z(ie,9,".");case":":return J(Vt),Vt.next(),z(ie,10,":");default:return ee(Vt)?(ft=z(ie,1,er(Vt)),ie.braceNest=0,ie.inLinked=!1,ft):bt(Vt,ie)||te(Vt,ie)?(J(Vt),Fr(Vt,ie)):jt(Vt,ie)?(J(Vt),z(ie,12,wn(Vt))):Ot(Vt,ie)?(J(Vt),Rt==="{"?_r(Vt,ie)||ft:z(ie,11,_e(Vt))):(Tt===8&&C(9,g(),0),ie.braceNest=0,ie.inLinked=!1,jn(Vt,ie))}}function jn(Vt,ie){let Tt={type:14};if(ie.braceNest>0)return _r(Vt,ie)||it(ie);if(ie.inLinked)return Fr(Vt,ie)||it(ie);const ft=Vt.currentChar();switch(ft){case"{":return _r(Vt,ie)||it(ie);case"}":return C(5,g(),0),Vt.next(),z(ie,3,"}");case"@":return Fr(Vt,ie)||it(ie);default:if(ee(Vt))return Tt=z(ie,1,er(Vt)),ie.braceNest=0,ie.inLinked=!1,Tt;if(Dt(Vt))return z(ie,0,Kt(Vt));if(ft==="%")return Vt.next(),z(ie,4,"%");break}return Tt}function Ur(){const{currentType:Vt,offset:ie,startLoc:Tt,endLoc:ft}=M;return M.lastType=Vt,M.lastOffset=ie,M.lastStartLoc=Tt,M.lastEndLoc=ft,M.offset=p(),M.startLoc=g(),u.currentChar()===Rf?z(M,14):jn(u,M)}return{nextToken:Ur,currentOffset:p,currentPosition:g,context:P}}const HK="parser",YK=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function XK(a,c,d){switch(a){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(c||d,16);return u<=55295||u>=57344?String.fromCodePoint(u):"\uFFFD"}}}function KK(a={}){const c=a.location!==!1,{onError:d}=a;function u(ot,ct,wt,nt,...F){const bt=ot.currentPosition();if(bt.offset+=nt,bt.column+=nt,d){const jt=S4(wt,bt),te=yv(ct,jt,{domain:HK,args:F});d(te)}}function p(ot,ct,wt){const nt={type:ot,start:ct,end:ct};return c&&(nt.loc={start:wt,end:wt}),nt}function g(ot,ct,wt,nt){ot.end=ct,nt&&(ot.type=nt),c&&ot.loc&&(ot.loc.end=wt)}function E(ot,ct){const wt=ot.context(),nt=p(3,wt.offset,wt.startLoc);return nt.value=ct,g(nt,ot.currentOffset(),ot.currentPosition()),nt}function b(ot,ct){const wt=ot.context(),{lastOffset:nt,lastStartLoc:F}=wt,bt=p(5,nt,F);return bt.index=parseInt(ct,10),ot.nextToken(),g(bt,ot.currentOffset(),ot.currentPosition()),bt}function M(ot,ct){const wt=ot.context(),{lastOffset:nt,lastStartLoc:F}=wt,bt=p(4,nt,F);return bt.key=ct,ot.nextToken(),g(bt,ot.currentOffset(),ot.currentPosition()),bt}function P(ot,ct){const wt=ot.context(),{lastOffset:nt,lastStartLoc:F}=wt,bt=p(9,nt,F);return bt.value=ct.replace(YK,XK),ot.nextToken(),g(bt,ot.currentOffset(),ot.currentPosition()),bt}function k(ot){const ct=ot.nextToken(),wt=ot.context(),{lastOffset:nt,lastStartLoc:F}=wt,bt=p(8,nt,F);return ct.type!==12?(u(ot,11,wt.lastStartLoc,0),bt.value="",g(bt,nt,F),{nextConsumeToken:ct,node:bt}):(ct.value==null&&u(ot,13,wt.lastStartLoc,0,hc(ct)),bt.value=ct.value||"",g(bt,ot.currentOffset(),ot.currentPosition()),{node:bt})}function C(ot,ct){const wt=ot.context(),nt=p(7,wt.offset,wt.startLoc);return nt.value=ct,g(nt,ot.currentOffset(),ot.currentPosition()),nt}function z(ot){const ct=ot.context(),wt=p(6,ct.offset,ct.startLoc);let nt=ot.nextToken();if(nt.type===9){const F=k(ot);wt.modifier=F.node,nt=F.nextConsumeToken||ot.nextToken()}switch(nt.type!==10&&u(ot,13,ct.lastStartLoc,0,hc(nt)),nt=ot.nextToken(),nt.type===2&&(nt=ot.nextToken()),nt.type){case 11:nt.value==null&&u(ot,13,ct.lastStartLoc,0,hc(nt)),wt.key=C(ot,nt.value||"");break;case 5:nt.value==null&&u(ot,13,ct.lastStartLoc,0,hc(nt)),wt.key=M(ot,nt.value||"");break;case 6:nt.value==null&&u(ot,13,ct.lastStartLoc,0,hc(nt)),wt.key=b(ot,nt.value||"");break;case 7:nt.value==null&&u(ot,13,ct.lastStartLoc,0,hc(nt)),wt.key=P(ot,nt.value||"");break;default:u(ot,12,ct.lastStartLoc,0);const F=ot.context(),bt=p(7,F.offset,F.startLoc);return bt.value="",g(bt,F.offset,F.startLoc),wt.key=bt,g(wt,F.offset,F.startLoc),{nextConsumeToken:nt,node:wt}}return g(wt,ot.currentOffset(),ot.currentPosition()),{node:wt}}function it(ot){const ct=ot.context(),wt=ct.currentType===1?ot.currentOffset():ct.offset,nt=ct.currentType===1?ct.endLoc:ct.startLoc,F=p(2,wt,nt);F.items=[];let bt=null;do{const Ot=bt||ot.nextToken();switch(bt=null,Ot.type){case 0:Ot.value==null&&u(ot,13,ct.lastStartLoc,0,hc(Ot)),F.items.push(E(ot,Ot.value||""));break;case 6:Ot.value==null&&u(ot,13,ct.lastStartLoc,0,hc(Ot)),F.items.push(b(ot,Ot.value||""));break;case 5:Ot.value==null&&u(ot,13,ct.lastStartLoc,0,hc(Ot)),F.items.push(M(ot,Ot.value||""));break;case 7:Ot.value==null&&u(ot,13,ct.lastStartLoc,0,hc(Ot)),F.items.push(P(ot,Ot.value||""));break;case 8:const ee=z(ot);F.items.push(ee.node),bt=ee.nextConsumeToken||null;break}}while(ct.currentType!==14&&ct.currentType!==1);const jt=ct.currentType===1?ct.lastOffset:ot.currentOffset(),te=ct.currentType===1?ct.lastEndLoc:ot.currentPosition();return g(F,jt,te),F}function q(ot,ct,wt,nt){const F=ot.context();let bt=nt.items.length===0;const jt=p(1,ct,wt);jt.cases=[],jt.cases.push(nt);do{const te=it(ot);bt||(bt=te.items.length===0),jt.cases.push(te)}while(F.currentType!==14);return bt&&u(ot,10,wt,0),g(jt,ot.currentOffset(),ot.currentPosition()),jt}function tt(ot){const ct=ot.context(),{offset:wt,startLoc:nt}=ct,F=it(ot);return ct.currentType===14?F:q(ot,wt,nt,F)}function J(ot){const ct=WK(ot,js({},a)),wt=ct.context(),nt=p(0,wt.offset,wt.startLoc);return c&&nt.loc&&(nt.loc.source=ot),nt.body=tt(ct),wt.currentType!==14&&u(ct,13,wt.lastStartLoc,0,ot[wt.offset]||""),g(nt,ct.currentOffset(),ct.currentPosition()),nt}return{parse:J}}function hc(a){if(a.type===14)return"EOF";const c=(a.value||"").replace(/\r?\n/gu,"\\n");return c.length>10?c.slice(0,9)+"\u2026":c}function $K(a,c={}){const d={ast:a,helpers:new Set};return{context:()=>d,helper:g=>(d.helpers.add(g),g)}}function qE(a,c){for(let d=0;d<a.length;d++)L_(a[d],c)}function L_(a,c){switch(a.type){case 1:qE(a.cases,c),c.helper("plural");break;case 2:qE(a.items,c);break;case 6:L_(a.key,c),c.helper("linked");break;case 5:c.helper("interpolate"),c.helper("list");break;case 4:c.helper("interpolate"),c.helper("named");break}}function ZK(a,c={}){const d=$K(a);d.helper("normalize"),a.body&&L_(a.body,d);const u=d.context();a.helpers=Array.from(u.helpers)}function JK(a,c){const{sourceMap:d,filename:u,breakLineCode:p,needIndent:g}=c,E={source:a.loc.source,filename:u,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:p,needIndent:g,indentLevel:0},b=()=>E;function M(tt,J){E.code+=tt}function P(tt,J=!0){const ot=J?p:"";M(g?ot+"  ".repeat(tt):ot)}function k(tt=!0){const J=++E.indentLevel;tt&&P(J)}function C(tt=!0){const J=--E.indentLevel;tt&&P(J)}function z(){P(E.indentLevel)}return{context:b,push:M,indent:k,deindent:C,newline:z,helper:tt=>`_${tt}`,needIndent:()=>E.needIndent}}function qK(a,c){const{helper:d}=a;a.push(`${d("linked")}(`),gp(a,c.key),c.modifier&&(a.push(", "),gp(a,c.modifier)),a.push(")")}function QK(a,c){const{helper:d,needIndent:u}=a;a.push(`${d("normalize")}([`),a.indent(u());const p=c.items.length;for(let g=0;g<p&&(gp(a,c.items[g]),g!==p-1);g++)a.push(", ");a.deindent(u()),a.push("])")}function t$(a,c){const{helper:d,needIndent:u}=a;if(c.cases.length>1){a.push(`${d("plural")}([`),a.indent(u());const p=c.cases.length;for(let g=0;g<p&&(gp(a,c.cases[g]),g!==p-1);g++)a.push(", ");a.deindent(u()),a.push("])")}}function e$(a,c){c.body?gp(a,c.body):a.push("null")}function gp(a,c){const{helper:d}=a;switch(c.type){case 0:e$(a,c);break;case 1:t$(a,c);break;case 2:QK(a,c);break;case 6:qK(a,c);break;case 8:a.push(JSON.stringify(c.value),c);break;case 7:a.push(JSON.stringify(c.value),c);break;case 5:a.push(`${d("interpolate")}(${d("list")}(${c.index}))`,c);break;case 4:a.push(`${d("interpolate")}(${d("named")}(${JSON.stringify(c.key)}))`,c);break;case 9:a.push(JSON.stringify(c.value),c);break;case 3:a.push(JSON.stringify(c.value),c);break}}const r$=(a,c={})=>{const d=ti(c.mode)?c.mode:"normal",u=ti(c.filename)?c.filename:"message.intl",p=!!c.sourceMap,g=c.breakLineCode!=null?c.breakLineCode:d==="arrow"?";":`
`,E=c.needIndent?c.needIndent:d!=="arrow",b=a.helpers||[],M=JK(a,{mode:d,filename:u,sourceMap:p,breakLineCode:g,needIndent:E});M.push(d==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),M.indent(E),b.length>0&&(M.push(`const { ${b.map(C=>`${C}: _${C}`).join(", ")} } = ctx`),M.newline()),M.push("return "),gp(M,a),M.deindent(E),M.push("}");const{code:P,map:k}=M.context();return{ast:a,code:P,map:k?k.toJSON():void 0}};function n$(a,c={}){const d=js({},c),p=KK(d).parse(a);return ZK(p,d),r$(p,d)}/*!
  * @intlify/devtools-if v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const px={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */let mp=null;function vx(a){mp=a}function i$(){return mp}function gx(a,c,d){mp&&mp.emit(px.I18nInit,{timestamp:Date.now(),i18n:a,version:c,meta:d})}const mx=o$(px.FunctionTranslate);function o$(a){return c=>mp&&mp.emit(a,c)}const a$={[0]:"Not found '{key}' key in '{locale}' locale messages.",[1]:"Fall back to translate '{key}' key with '{target}' locale.",[2]:"Cannot format a number value due to not supported Intl.NumberFormat.",[3]:"Fall back to number format '{key}' key with '{target}' locale.",[4]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[5]:"Fall back to datetime format '{key}' key with '{target}' locale."};function s$(a,...c){return ox(a$[a],...c)}const yx="9.1.10",_v=-1,w4="";function l$(){return{upper:a=>ti(a)?a.toUpperCase():a,lower:a=>ti(a)?a.toLowerCase():a,capitalize:a=>ti(a)?`${a.charAt(0).toLocaleUpperCase()}${a.substr(1)}`:a}}let _x;function Ex(a){_x=a}let Sx=null;const x4=a=>{Sx=a},wx=()=>Sx;let QE=0;function xx(a={}){const c=ti(a.version)?a.version:yx,d=ti(a.locale)?a.locale:"en-US",u=Qs(a.fallbackLocale)||Ao(a.fallbackLocale)||ti(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:d,p=Ao(a.messages)?a.messages:{[d]:{}},g=Ao(a.datetimeFormats)?a.datetimeFormats:{[d]:{}},E=Ao(a.numberFormats)?a.numberFormats:{[d]:{}},b=js({},a.modifiers||{},l$()),M=a.pluralRules||{},P=Ds(a.missing)?a.missing:null,k=Os(a.missingWarn)||sv(a.missingWarn)?a.missingWarn:!0,C=Os(a.fallbackWarn)||sv(a.fallbackWarn)?a.fallbackWarn:!0,z=!!a.fallbackFormat,it=!!a.unresolving,q=Ds(a.postTranslation)?a.postTranslation:null,tt=Ao(a.processor)?a.processor:null,J=Os(a.warnHtmlMessage)?a.warnHtmlMessage:!0,ot=!!a.escapeParameter,ct=Ds(a.messageCompiler)?a.messageCompiler:_x,wt=Ds(a.onWarn)?a.onWarn:ux,nt=a,F=Gs(nt.__datetimeFormatters)?nt.__datetimeFormatters:new Map,bt=Gs(nt.__numberFormatters)?nt.__numberFormatters:new Map,jt=Gs(nt.__meta)?nt.__meta:{};QE++;const te={version:c,cid:QE,locale:d,fallbackLocale:u,messages:p,datetimeFormats:g,numberFormats:E,modifiers:b,pluralRules:M,missing:P,missingWarn:k,fallbackWarn:C,fallbackFormat:z,unresolving:it,postTranslation:q,processor:tt,warnHtmlMessage:J,escapeParameter:ot,messageCompiler:ct,onWarn:wt,__datetimeFormatters:F,__numberFormatters:bt,__meta:jt};return __INTLIFY_PROD_DEVTOOLS__&&gx(te,c,jt),te}function u$(a,c){return a instanceof RegExp?a.test(c):a}function c$(a,c){return a instanceof RegExp?a.test(c):a}function mm(a,c,d,u,p){const{missing:g,onWarn:E}=a;if(g!==null){const b=g(a,d,c,p);return ti(b)?b:c}else return c}function wp(a,c,d){const u=a;u.__localeChainCache||(u.__localeChainCache=new Map);let p=u.__localeChainCache.get(d);if(!p){p=[];let g=[d];for(;Qs(g);)g=tS(p,g,c);const E=Qs(c)?c:Ao(c)?c.default?c.default:null:c;g=ti(E)?[E]:E,Qs(g)&&tS(p,g,!1),u.__localeChainCache.set(d,p)}return p}function tS(a,c,d){let u=!0;for(let p=0;p<c.length&&Os(u);p++){const g=c[p];ti(g)&&(u=f$(a,c[p],d))}return u}function f$(a,c,d){let u;const p=c.split("-");do{const g=p.join("-");u=h$(a,g,d),p.splice(-1,1)}while(p.length&&u===!0);return u}function h$(a,c,d){let u=!1;if(!a.includes(c)&&(u=!0,c)){u=c[c.length-1]!=="!";const p=c.replace(/!/g,"");a.push(p),(Qs(d)||Ao(d))&&d[p]&&(u=d[p])}return u}function tp(a,c,d){const u=a;u.__localeChainCache=new Map,wp(a,d,c)}const d$=a=>a;let O4=Object.create(null);function p$(){O4=Object.create(null)}function Ox(a,c={}){{const u=(c.onCacheKey||d$)(a),p=O4[u];if(p)return p;let g=!1;const E=c.onError||jK;c.onError=P=>{g=!0,E(P)};const{code:b}=n$(a,c),M=new Function(`return ${b}`)();return g?M:O4[u]=M}}function Dh(a){return yv(a,null,void 0)}const eS=()=>"",z0=a=>Ds(a);function T4(a,...c){const{fallbackFormat:d,postTranslation:u,unresolving:p,fallbackLocale:g,messages:E}=a,[b,M]=Wg(...c),P=Os(M.missingWarn)?M.missingWarn:a.missingWarn,k=Os(M.fallbackWarn)?M.fallbackWarn:a.fallbackWarn,C=Os(M.escapeParameter)?M.escapeParameter:a.escapeParameter,z=!!M.resolvedMessage,it=ti(M.default)||Os(M.default)?Os(M.default)?b:M.default:d?b:"",q=d||it!=="",tt=ti(M.locale)?M.locale:a.locale;C&&v$(M);let[J,ot,ct]=z?[b,tt,E[tt]||{}]:g$(a,b,tt,g,k,P),wt=b;if(!z&&!(ti(J)||z0(J))&&q&&(J=it,wt=J),!z&&(!(ti(J)||z0(J))||!ti(ot)))return p?_v:b;let nt=!1;const F=()=>{nt=!0},bt=z0(J)?J:Tx(a,b,ot,J,wt,F);if(nt)return J;const jt=_$(a,ot,ct,M),te=dx(jt),Ot=m$(a,bt,te),ee=u?u(Ot):Ot;if(__INTLIFY_PROD_DEVTOOLS__){const Dt={timestamp:Date.now(),key:ti(b)?b:z0(J)?J.key:"",locale:ot||(z0(J)?J.locale:""),format:ti(J)?J:z0(J)?J.source:"",message:ee};Dt.meta=js({},a.__meta,wx()||{}),mx(Dt)}return ee}function v$(a){Qs(a.list)?a.list=a.list.map(c=>ti(c)?E4(c):c):Gs(a.named)&&Object.keys(a.named).forEach(c=>{ti(a.named[c])&&(a.named[c]=E4(a.named[c]))})}function g$(a,c,d,u,p,g){const{messages:E,onWarn:b}=a,M=wp(a,u,d);let P={},k,C=null;const z="translate";for(let it=0;it<M.length&&(k=M[it],P=E[k]||{},(C=lv(P,c))===null&&(C=P[c]),!(ti(C)||Ds(C)));it++){const q=mm(a,c,k,g,z);q!==c&&(C=q)}return[C,k,P]}function Tx(a,c,d,u,p,g){const{messageCompiler:E,warnHtmlMessage:b}=a;if(z0(u)){const P=u;return P.locale=P.locale||d,P.key=P.key||c,P}const M=E(u,y$(a,d,p,u,b,g));return M.locale=d,M.key=c,M.source=u,M}function m$(a,c,d){return c(d)}function Wg(...a){const[c,d,u]=a,p={};if(!ti(c)&&!Sl(c)&&!z0(c))throw Dh(14);const g=Sl(c)?String(c):(z0(c),c);return Sl(d)?p.plural=d:ti(d)?p.default=d:Ao(d)&&!mv(d)?p.named=d:Qs(d)&&(p.list=d),Sl(u)?p.plural=u:ti(u)?p.default=u:Ao(u)&&js(p,u),[g,p]}function y$(a,c,d,u,p,g){return{warnHtmlMessage:p,onError:E=>{throw g&&g(E),E},onCacheKey:E=>ax(c,d,E)}}function _$(a,c,d,u){const{modifiers:p,pluralRules:g}=a,b={locale:c,modifiers:p,pluralRules:g,messages:M=>{const P=lv(d,M);if(ti(P)){let k=!1;const z=Tx(a,M,c,P,M,()=>{k=!0});return k?eS:z}else return z0(P)?P:eS}};return a.processor&&(b.processor=a.processor),u.list&&(b.list=u.list),u.named&&(b.named=u.named),Sl(u.plural)&&(b.pluralIndex=u.plural),b}function b4(a,...c){const{datetimeFormats:d,unresolving:u,fallbackLocale:p,onWarn:g}=a,{__datetimeFormatters:E}=a,[b,M,P,k]=Hg(...c),C=Os(P.missingWarn)?P.missingWarn:a.missingWarn;Os(P.fallbackWarn)?P.fallbackWarn:a.fallbackWarn;const z=!!P.part,it=ti(P.locale)?P.locale:a.locale,q=wp(a,p,it);if(!ti(b)||b==="")return new Intl.DateTimeFormat(it).format(M);let tt={},J,ot=null;const ct="datetime format";for(let F=0;F<q.length&&(J=q[F],tt=d[J]||{},ot=tt[b],!Ao(ot));F++)mm(a,b,J,C,ct);if(!Ao(ot)||!ti(J))return u?_v:b;let wt=`${J}__${b}`;mv(k)||(wt=`${wt}__${JSON.stringify(k)}`);let nt=E.get(wt);return nt||(nt=new Intl.DateTimeFormat(J,js({},ot,k)),E.set(wt,nt)),z?nt.formatToParts(M):nt.format(M)}function Hg(...a){const[c,d,u,p]=a;let g={},E={},b;if(ti(c)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(c))throw Dh(16);b=new Date(c);try{b.toISOString()}catch{throw Dh(16)}}else if(lx(c)){if(isNaN(c.getTime()))throw Dh(15);b=c}else if(Sl(c))b=c;else throw Dh(14);return ti(d)?g.key=d:Ao(d)&&(g=d),ti(u)?g.locale=u:Ao(u)&&(E=u),Ao(p)&&(E=p),[g.key||"",b,g,E]}function A4(a,c,d){const u=a;for(const p in d){const g=`${c}__${p}`;!u.__datetimeFormatters.has(g)||u.__datetimeFormatters.delete(g)}}function M4(a,...c){const{numberFormats:d,unresolving:u,fallbackLocale:p,onWarn:g}=a,{__numberFormatters:E}=a,[b,M,P,k]=Yg(...c),C=Os(P.missingWarn)?P.missingWarn:a.missingWarn;Os(P.fallbackWarn)?P.fallbackWarn:a.fallbackWarn;const z=!!P.part,it=ti(P.locale)?P.locale:a.locale,q=wp(a,p,it);if(!ti(b)||b==="")return new Intl.NumberFormat(it).format(M);let tt={},J,ot=null;const ct="number format";for(let F=0;F<q.length&&(J=q[F],tt=d[J]||{},ot=tt[b],!Ao(ot));F++)mm(a,b,J,C,ct);if(!Ao(ot)||!ti(J))return u?_v:b;let wt=`${J}__${b}`;mv(k)||(wt=`${wt}__${JSON.stringify(k)}`);let nt=E.get(wt);return nt||(nt=new Intl.NumberFormat(J,js({},ot,k)),E.set(wt,nt)),z?nt.formatToParts(M):nt.format(M)}function Yg(...a){const[c,d,u,p]=a;let g={},E={};if(!Sl(c))throw Dh(14);const b=c;return ti(d)?g.key=d:Ao(d)&&(g=d),ti(u)?g.locale=u:Ao(u)&&(E=u),Ao(p)&&(E=p),[g.key||"",b,g,E]}function R4(a,c,d){const u=a;for(const p in d){const g=`${c}__${p}`;!u.__numberFormatters.has(g)||u.__numberFormatters.delete(g)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sp().__INTLIFY_PROD_DEVTOOLS__=!1);var E$=Object.freeze(Object.defineProperty({__proto__:null,MISSING_RESOLVE_VALUE:w4,NOT_REOSLVED:_v,VERSION:yx,clearCompileCache:p$,clearDateTimeFormat:A4,clearNumberFormat:R4,compileToFunction:Ox,createCoreContext:xx,createCoreError:Dh,datetime:b4,getAdditionalMeta:wx,getDevToolsHook:i$,getLocaleChain:wp,getWarnMessage:s$,handleMissing:mm,initI18nDevTools:gx,isMessageFunction:z0,isTranslateFallbackWarn:u$,isTranslateMissingWarn:c$,number:M4,parseDateTimeArgs:Hg,parseNumberArgs:Yg,parseTranslateArgs:Wg,registerMessageCompiler:Ex,setAdditionalMeta:x4,setDevToolsHook:vx,translate:T4,translateDevTools:mx,updateFallbackLocale:tp,createCompileError:yv,handleFlatJson:Vg,parse:fx,resolveValue:lv,DEFAULT_MESSAGE_DATA_TYPE:hx,createMessageContext:dx},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-i18n v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const S$="9.1.10";function w$(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(sp().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(sp().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sp().__INTLIFY_PROD_DEVTOOLS__=!1)}function jh(a,...c){return yv(a,null,void 0)}const K3="__INTLIFY_META__",C4=kc("__transrateVNode"),L4=kc("__datetimeParts"),P4=kc("__numberParts");kc("__enableEmitter");kc("__disableEmitter");const x$=kc("__setPluralRules");kc("__intlifyMeta");const bx=kc("__injectWithOption");let rS=0;function nS(a){return(c,d,u,p)=>a(d,u,W0()||void 0,p)}function Ax(a,c){const{messages:d,__i18n:u}=c,p=Ao(d)?d:Qs(u)?{}:{[a]:{}};if(Qs(u)&&u.forEach(({locale:g,resource:E})=>{g?(p[g]=p[g]||{},Xg(E,p[g])):Xg(E,p)}),c.flatJson)for(const g in p)R_(p,g)&&Vg(p[g]);return p}const Tg=a=>!Gs(a)||Qs(a);function Xg(a,c){if(Tg(a)||Tg(c))throw jh(20);for(const d in a)R_(a,d)&&(Tg(a[d])||Tg(c[d])?c[d]=a[d]:Xg(a[d],c[d]))}const O$=()=>{const a=W0();return a&&a.type[K3]?{[K3]:a.type[K3]}:null};function T$(a={}){const{__root:c}=a,d=c===void 0;let u=Os(a.inheritLocale)?a.inheritLocale:!0;const p=pc(c&&u?c.locale.value:ti(a.locale)?a.locale:"en-US"),g=pc(c&&u?c.fallbackLocale.value:ti(a.fallbackLocale)||Qs(a.fallbackLocale)||Ao(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:p.value),E=pc(Ax(p.value,a)),b=pc(Ao(a.datetimeFormats)?a.datetimeFormats:{[p.value]:{}}),M=pc(Ao(a.numberFormats)?a.numberFormats:{[p.value]:{}});let P=c?c.missingWarn:Os(a.missingWarn)||sv(a.missingWarn)?a.missingWarn:!0,k=c?c.fallbackWarn:Os(a.fallbackWarn)||sv(a.fallbackWarn)?a.fallbackWarn:!0,C=c?c.fallbackRoot:Os(a.fallbackRoot)?a.fallbackRoot:!0,z=!!a.fallbackFormat,it=Ds(a.missing)?a.missing:null,q=Ds(a.missing)?nS(a.missing):null,tt=Ds(a.postTranslation)?a.postTranslation:null,J=Os(a.warnHtmlMessage)?a.warnHtmlMessage:!0,ot=!!a.escapeParameter;const ct=c?c.modifiers:Ao(a.modifiers)?a.modifiers:{};let wt=a.pluralRules||c&&c.pluralRules,nt;function F(){return xx({version:S$,locale:p.value,fallbackLocale:g.value,messages:E.value,datetimeFormats:b.value,numberFormats:M.value,modifiers:ct,pluralRules:wt,missing:q===null?void 0:q,missingWarn:P,fallbackWarn:k,fallbackFormat:z,unresolving:!0,postTranslation:tt===null?void 0:tt,warnHtmlMessage:J,escapeParameter:ot,__datetimeFormatters:Ao(nt)?nt.__datetimeFormatters:void 0,__numberFormatters:Ao(nt)?nt.__numberFormatters:void 0,__v_emitter:Ao(nt)?nt.__v_emitter:void 0,__meta:{framework:"vue"}})}nt=F(),tp(nt,p.value,g.value);function bt(){return[p.value,g.value,E.value,b.value,M.value]}const jt=El({get:()=>p.value,set:Gt=>{p.value=Gt,nt.locale=p.value}}),te=El({get:()=>g.value,set:Gt=>{g.value=Gt,nt.fallbackLocale=g.value,tp(nt,p.value,Gt)}}),Ot=El(()=>E.value),ee=El(()=>b.value),Dt=El(()=>M.value);function Wt(){return Ds(tt)?tt:null}function le(Gt){tt=Gt,nt.postTranslation=Gt}function ye(){return it}function Qe(Gt){Gt!==null&&(q=nS(Gt)),it=Gt,nt.missing=q}function mt(Gt,at,$,Q,dt,ue){bt();let De;if(__INTLIFY_PROD_DEVTOOLS__)try{x4(O$()),De=Gt(nt)}finally{x4(null)}else De=Gt(nt);if(Sl(De)&&De===_v){const[We,Pr]=at();return c&&C?Q(c):dt(We)}else{if(ue(De))return De;throw jh(14)}}function Kt(...Gt){return mt(at=>T4(at,...Gt),()=>Wg(...Gt),"translate",at=>at.t(...Gt),at=>at,at=>ti(at))}function ae(...Gt){const[at,$,Q]=Gt;if(Q&&!Gs(Q))throw jh(15);return Kt(at,$,js({resolvedMessage:!0},Q||{}))}function Sr(...Gt){return mt(at=>b4(at,...Gt),()=>Hg(...Gt),"datetime format",at=>at.d(...Gt),()=>w4,at=>ti(at))}function xr(...Gt){return mt(at=>M4(at,...Gt),()=>Yg(...Gt),"number format",at=>at.n(...Gt),()=>w4,at=>ti(at))}function ar(Gt){return Gt.map(at=>ti(at)?ia(Bf,null,at,0):at)}const Xr={normalize:ar,interpolate:Gt=>Gt,type:"vnode"};function wn(...Gt){return mt(at=>{let $;const Q=at;try{Q.processor=Xr,$=T4(Q,...Gt)}finally{Q.processor=null}return $},()=>Wg(...Gt),"translate",at=>at[C4](...Gt),at=>[ia(Bf,null,at,0)],at=>Qs(at))}function _e(...Gt){return mt(at=>M4(at,...Gt),()=>Yg(...Gt),"number format",at=>at[P4](...Gt),()=>[],at=>ti(at)||Qs(at))}function er(...Gt){return mt(at=>b4(at,...Gt),()=>Hg(...Gt),"datetime format",at=>at[L4](...Gt),()=>[],at=>ti(at)||Qs(at))}function _r(Gt){wt=Gt,nt.pluralRules=wt}function Fr(Gt,at){const $=ti(at)?at:p.value,Q=Vt($);return lv(Q,Gt)!==null}function jn(Gt){let at=null;const $=wp(nt,g.value,p.value);for(let Q=0;Q<$.length;Q++){const dt=E.value[$[Q]]||{},ue=lv(dt,Gt);if(ue!=null){at=ue;break}}return at}function Ur(Gt){const at=jn(Gt);return at!=null?at:c?c.tm(Gt)||{}:{}}function Vt(Gt){return E.value[Gt]||{}}function ie(Gt,at){E.value[Gt]=at,nt.messages=E.value}function Tt(Gt,at){E.value[Gt]=E.value[Gt]||{},Xg(at,E.value[Gt]),nt.messages=E.value}function ft(Gt){return b.value[Gt]||{}}function Rt(Gt,at){b.value[Gt]=at,nt.datetimeFormats=b.value,A4(nt,Gt,at)}function Qt(Gt,at){b.value[Gt]=js(b.value[Gt]||{},at),nt.datetimeFormats=b.value,A4(nt,Gt,at)}function $t(Gt){return M.value[Gt]||{}}function he(Gt,at){M.value[Gt]=at,nt.numberFormats=M.value,R4(nt,Gt,at)}function Pe(Gt,at){M.value[Gt]=js(M.value[Gt]||{},at),nt.numberFormats=M.value,R4(nt,Gt,at)}return rS++,c&&(Nf(c.locale,Gt=>{u&&(p.value=Gt,nt.locale=Gt,tp(nt,p.value,g.value))}),Nf(c.fallbackLocale,Gt=>{u&&(g.value=Gt,nt.fallbackLocale=Gt,tp(nt,p.value,g.value))})),{id:rS,locale:jt,fallbackLocale:te,get inheritLocale(){return u},set inheritLocale(Gt){u=Gt,Gt&&c&&(p.value=c.locale.value,g.value=c.fallbackLocale.value,tp(nt,p.value,g.value))},get availableLocales(){return Object.keys(E.value).sort()},messages:Ot,datetimeFormats:ee,numberFormats:Dt,get modifiers(){return ct},get pluralRules(){return wt||{}},get isGlobal(){return d},get missingWarn(){return P},set missingWarn(Gt){P=Gt,nt.missingWarn=P},get fallbackWarn(){return k},set fallbackWarn(Gt){k=Gt,nt.fallbackWarn=k},get fallbackRoot(){return C},set fallbackRoot(Gt){C=Gt},get fallbackFormat(){return z},set fallbackFormat(Gt){z=Gt,nt.fallbackFormat=z},get warnHtmlMessage(){return J},set warnHtmlMessage(Gt){J=Gt,nt.warnHtmlMessage=Gt},get escapeParameter(){return ot},set escapeParameter(Gt){ot=Gt,nt.escapeParameter=Gt},t:Kt,rt:ae,d:Sr,n:xr,te:Fr,tm:Ur,getLocaleMessage:Vt,setLocaleMessage:ie,mergeLocaleMessage:Tt,getDateTimeFormat:ft,setDateTimeFormat:Rt,mergeDateTimeFormat:Qt,getNumberFormat:$t,setNumberFormat:he,mergeNumberFormat:Pe,getPostTranslationHandler:Wt,setPostTranslationHandler:le,getMissingHandler:ye,setMissingHandler:Qe,[C4]:wn,[P4]:_e,[L4]:er,[x$]:_r,[bx]:a.__injectWithOption}}const P_={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:a=>a==="parent"||a==="global",default:"parent"},i18n:{type:Object}};js({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:a=>Sl(a)||!isNaN(a)}},P_);function b$({slots:a},c){return c.length===1&&c[0]==="default"?a.default?a.default():[]:c.reduce((d,u)=>{const p=a[u];return p&&(d[u]=p()),d},{})}function Mx(a,c,d,u){const{slots:p,attrs:g}=c;return()=>{const E={part:!0};let b={};a.locale&&(E.locale=a.locale),ti(a.format)?E.key=a.format:Gs(a.format)&&(ti(a.format.key)&&(E.key=a.format.key),b=Object.keys(a.format).reduce((C,z)=>d.includes(z)?js({},C,{[z]:a.format[z]}):C,{}));const M=u(a.value,E,b);let P=[E.key];Qs(M)?P=M.map((C,z)=>{const it=p[C.type];return it?it({[C.type]:C.value,index:z,parts:M}):[C.value]}):ti(M)&&(P=[M]);const k=js({},g);return ti(a.tag)||Gs(a.tag)?Ec(a.tag,k,P):Ec(ws,k,P)}}const A$=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];js({value:{type:Number,required:!0},format:{type:[String,Object]}},P_);const M$=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];js({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},P_);function I_(a={}){const c=W0();if(c==null)throw jh(16);if(!c.appContext.app.__VUE_I18N_SYMBOL__)throw jh(17);const d=gu(c.appContext.app.__VUE_I18N_SYMBOL__);if(!d)throw jh(22);const u=d.mode==="composition"?d.global:d.global.__composer,p=mv(a)?"__i18n"in c.type?"local":"global":a.useScope?a.useScope:"local";if(p==="global"){let b=Gs(a.messages)?a.messages:{};"__i18nGlobal"in c.type&&(b=Ax(u.locale.value,{messages:b,__i18n:c.type.__i18nGlobal}));const M=Object.keys(b);if(M.length&&M.forEach(P=>{u.mergeLocaleMessage(P,b[P])}),Gs(a.datetimeFormats)){const P=Object.keys(a.datetimeFormats);P.length&&P.forEach(k=>{u.mergeDateTimeFormat(k,a.datetimeFormats[k])})}if(Gs(a.numberFormats)){const P=Object.keys(a.numberFormats);P.length&&P.forEach(k=>{u.mergeNumberFormat(k,a.numberFormats[k])})}return u}if(p==="parent"){let b=R$(d,c,a.__useComponent);return b==null&&(b=u),b}if(d.mode==="legacy")throw jh(18);const g=d;let E=g.__getInstance(c);if(E==null){const b=c.type,M=js({},a);b.__i18n&&(M.__i18n=b.__i18n),u&&(M.__root=u),E=T$(M),C$(g,c),g.__setInstance(c,E)}return E}function R$(a,c,d=!1){let u=null;const p=c.root;let g=c.parent;for(;g!=null;){const E=a;if(a.mode==="composition")u=E.__getInstance(g);else{const b=E.__getInstance(g);b!=null&&(u=b.__composer),d&&u&&!u[bx]&&(u=null)}if(u!=null||p===g)break;g=g.parent}return u}function C$(a,c,d){_p(()=>{},c),Ep(()=>{a.__deleteInstance(c)},c)}Ex(Ox);w$();if(__INTLIFY_PROD_DEVTOOLS__){const a=sp();a.__INTLIFY__=!0,vx(a.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var xp={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Op={};Op[xp.RADIANS]=6370997/(2*Math.PI);Op[xp.DEGREES]=2*Math.PI*6370997/360;Op[xp.FEET]=.3048;Op[xp.METERS]=1;Op[xp.USFEET]=1200/3937;var Rx=xp,L$=function(){function a(c){this.code_=c.code,this.units_=c.units,this.extent_=c.extent!==void 0?c.extent:null,this.worldExtent_=c.worldExtent!==void 0?c.worldExtent:null,this.axisOrientation_=c.axisOrientation!==void 0?c.axisOrientation:"enu",this.global_=c.global!==void 0?c.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=c.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=c.metersPerUnit}return a.prototype.canWrapX=function(){return this.canWrapX_},a.prototype.getCode=function(){return this.code_},a.prototype.getExtent=function(){return this.extent_},a.prototype.getUnits=function(){return this.units_},a.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Op[this.units_]},a.prototype.getWorldExtent=function(){return this.worldExtent_},a.prototype.getAxisOrientation=function(){return this.axisOrientation_},a.prototype.isGlobal=function(){return this.global_},a.prototype.setGlobal=function(c){this.global_=c,this.canWrapX_=!!(c&&this.extent_)},a.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},a.prototype.setDefaultTileGrid=function(c){this.defaultTileGrid_=c},a.prototype.setExtent=function(c){this.extent_=c,this.canWrapX_=!!(this.global_&&c)},a.prototype.setWorldExtent=function(c){this.worldExtent_=c},a.prototype.setGetPointResolution=function(c){this.getPointResolutionFunc_=c},a.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},a}(),Cx=L$,P$=function(){var a;return"cosh"in Math?a=Math.cosh:a=function(c){var d=Math.exp(c);return(d+1/d)/2},a}();function I$(a,c){var d=a%c;return d*c<0?d+c:d}var N$=globalThis&&globalThis.__extends||function(){var a=function(c,d){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},a(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(c,d);function u(){this.constructor=c}c.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}(),Ev=6378137,ep=Math.PI*Ev,F$=[-ep,-ep,ep,ep],D$=[-180,-85,180,85],bg=Ev*Math.log(Math.tan(Math.PI/2)),$d=function(a){N$(c,a);function c(d){return a.call(this,{code:d,units:Rx.METERS,extent:F$,global:!0,worldExtent:D$,getPointResolution:function(u,p){return u/P$(p[1]/Ev)}})||this}return c}(Cx),iS=[new $d("EPSG:3857"),new $d("EPSG:102100"),new $d("EPSG:102113"),new $d("EPSG:900913"),new $d("http://www.opengis.net/def/crs/EPSG/0/3857"),new $d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function j$(a,c,d){var u=a.length,p=d>1?d:2,g=c;g===void 0&&(p>2?g=a.slice():g=new Array(u));for(var E=0;E<u;E+=p){g[E]=ep*a[E]/180;var b=Ev*Math.log(Math.tan(Math.PI*(+a[E+1]+90)/360));b>bg?b=bg:b<-bg&&(b=-bg),g[E+1]=b}return g}function G$(a,c,d){var u=a.length,p=d>1?d:2,g=c;g===void 0&&(p>2?g=a.slice():g=new Array(u));for(var E=0;E<u;E+=p)g[E]=180*a[E]/ep,g[E+1]=360*Math.atan(Math.exp(a[E+1]/Ev))/Math.PI-90;return g}var B$=globalThis&&globalThis.__extends||function(){var a=function(c,d){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},a(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(c,d);function u(){this.constructor=c}c.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}(),U$=6378137,oS=[-180,-90,180,90],k$=Math.PI*U$/180,Lh=function(a){B$(c,a);function c(d,u){return a.call(this,{code:d,units:Rx.DEGREES,extent:oS,axisOrientation:u,global:!0,metersPerUnit:k$,worldExtent:oS})||this}return c}(Cx),aS=[new Lh("CRS:84"),new Lh("EPSG:4326","neu"),new Lh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Lh("urn:ogc:def:crs:OGC:2:84"),new Lh("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Lh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Lh("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],I4={};function z$(a){return I4[a]||I4[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function V$(a,c){I4[a]=c}var lp={};function Kg(a,c,d){var u=a.getCode(),p=c.getCode();u in lp||(lp[u]={}),lp[u][p]=d}function W$(a,c){var d;return a in lp&&c in lp[a]&&(d=lp[a][c]),d}function Lx(a,c,d){var u;if(c!==void 0){for(var p=0,g=a.length;p<g;++p)c[p]=a[p];u=c}else u=a.slice();return u}function H$(a,c,d){if(c!==void 0&&a!==c){for(var u=0,p=a.length;u<p;++u)c[u]=a[u];a=c}return a}function Y$(a){V$(a.getCode(),a),Kg(a,a,Lx)}function X$(a){a.forEach(Y$)}function sS(a){return typeof a=="string"?z$(a):a||null}function lS(a){X$(a),a.forEach(function(c){a.forEach(function(d){c!==d&&Kg(c,d,Lx)})})}function K$(a,c,d,u){a.forEach(function(p){c.forEach(function(g){Kg(p,g,d),Kg(g,p,u)})})}function UJ(a,c){return Px(a,"EPSG:4326",c!==void 0?c:"EPSG:3857")}function kJ(a,c){var d=Px(a,c!==void 0?c:"EPSG:3857","EPSG:4326"),u=d[0];return(u<-180||u>180)&&(d[0]=I$(u+180,360)-180),d}function $$(a,c){var d=a.getCode(),u=c.getCode(),p=W$(d,u);return p||(p=H$),p}function Z$(a,c){var d=sS(a),u=sS(c);return $$(d,u)}function Px(a,c,d){var u=Z$(c,d);return u(a,void 0,a.length)}function J$(){lS(iS),lS(aS),K$(aS,iS,j$,G$)}J$();function q$(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function N_(a){if(a.__esModule)return a;var c=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(d){var u=Object.getOwnPropertyDescriptor(a,d);Object.defineProperty(c,d,u.get?u:{enumerable:!0,get:function(){return a[d]}})}),c}var N4={};/**
    @preserve

    Astronomy library for JavaScript (browser and Node.js).
    https://github.com/cosinekitty/astronomy

    MIT License

    Copyright (c) 2019-2022 Don Cross <cosinekitty@gmail.com>

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
*/(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.HelioDistance=a.HelioVector=a.JupiterMoons=a.JupiterMoonsInfo=a.GeoEmbState=a.GeoMoonState=a.EclipticGeoMoon=a.GeoMoon=a.Ecliptic=a.ObserverGravity=a.VectorObserver=a.ObserverState=a.ObserverVector=a.Equator=a.SunPosition=a.Observer=a.Horizon=a.EclipticCoordinates=a.HorizontalCoordinates=a.MakeRotation=a.RotationMatrix=a.EquatorialCoordinates=a.Spherical=a.StateVector=a.Vector=a.SiderealTime=a.Libration=a.LibrationInfo=a.CalcMoonCount=a.MakeTime=a.AstroTime=a.SetDeltaTFunction=a.DeltaT_JplHorizons=a.DeltaT_EspenakMeeus=a.Body=a.AngleBetween=a.MassProduct=a.CALLISTO_RADIUS_KM=a.GANYMEDE_RADIUS_KM=a.EUROPA_RADIUS_KM=a.IO_RADIUS_KM=a.JUPITER_MEAN_RADIUS_KM=a.JUPITER_POLAR_RADIUS_KM=a.JUPITER_EQUATORIAL_RADIUS_KM=a.RAD2HOUR=a.RAD2DEG=a.HOUR2RAD=a.DEG2RAD=a.KM_PER_AU=a.C_AUDAY=void 0,a.Rotation_EQD_HOR=a.Rotation_EQD_EQJ=a.Rotation_EQJ_EQD=a.Rotation_ECL_EQJ=a.Rotation_EQJ_ECL=a.RotateState=a.RotateVector=a.InverseRefraction=a.Refraction=a.VectorFromHorizon=a.HorizonFromVector=a.SphereFromVector=a.EquatorFromVector=a.VectorFromSphere=a.Pivot=a.IdentityMatrix=a.CombineRotation=a.InverseRotation=a.NextPlanetApsis=a.SearchPlanetApsis=a.NextLunarApsis=a.SearchLunarApsis=a.Apsis=a.ApsisKind=a.SearchPeakMagnitude=a.SearchMaxElongation=a.Elongation=a.ElongationEvent=a.Seasons=a.SeasonInfo=a.SearchHourAngle=a.HourAngleEvent=a.SearchAltitude=a.SearchRiseSet=a.NextMoonQuarter=a.SearchMoonQuarter=a.MoonQuarter=a.SearchMoonPhase=a.MoonPhase=a.SearchRelativeLongitude=a.Illumination=a.IlluminationInfo=a.EclipticLongitude=a.AngleFromSun=a.PairLongitude=a.SearchSunLongitude=a.Search=a.HelioState=a.BaryState=a.GeoVector=void 0,a.LagrangePointFast=a.LagrangePoint=a.RotationAxis=a.AxisInfo=a.NextMoonNode=a.SearchMoonNode=a.NodeEventInfo=a.NodeEventKind=a.NextTransit=a.SearchTransit=a.TransitInfo=a.NextLocalSolarEclipse=a.SearchLocalSolarEclipse=a.LocalSolarEclipseInfo=a.EclipseEvent=a.NextGlobalSolarEclipse=a.SearchGlobalSolarEclipse=a.NextLunarEclipse=a.GlobalSolarEclipseInfo=a.SearchLunarEclipse=a.LunarEclipseInfo=a.EclipseKind=a.Constellation=a.ConstellationInfo=a.Rotation_GAL_EQJ=a.Rotation_EQJ_GAL=a.Rotation_HOR_ECL=a.Rotation_ECL_HOR=a.Rotation_ECL_EQD=a.Rotation_EQD_ECL=a.Rotation_EQJ_HOR=a.Rotation_HOR_EQJ=a.Rotation_HOR_EQD=void 0,a.C_AUDAY=173.1446326846693,a.KM_PER_AU=14959787069098932e-8,a.DEG2RAD=.017453292519943295,a.HOUR2RAD=.26179938779914946,a.RAD2DEG=57.29577951308232,a.RAD2HOUR=3.819718634205488,a.JUPITER_EQUATORIAL_RADIUS_KM=71492,a.JUPITER_POLAR_RADIUS_KM=66854,a.JUPITER_MEAN_RADIUS_KM=69911,a.IO_RADIUS_KM=1821.6,a.EUROPA_RADIUS_KM=1560.8,a.GANYMEDE_RADIUS_KM=2631.2,a.CALLISTO_RADIUS_KM=2410.3;const c=365.24217,d=new Date("2000-01-01T12:00:00Z"),u=2*Math.PI,p=3600*(180/Math.PI),g=484813681109536e-20,E=180*60*60,b=2*E,M=7292115e-11,P=E/Math.PI,k=-.17-5*Math.log10(P),C=29.530588,z=24*3600,it=z*1e3,q=.9972695717592592,tt=695700,J=tt/a.KM_PER_AU,ot=.996647180302104,ct=ot*ot,wt=6378.1366,nt=wt/a.KM_PER_AU,F=wt*ot,bt=6371,te=bt+88,Ot=1738.1,ee=1737.4,Dt=1736,Wt=Ot/a.KM_PER_AU,le=34/60,ye=81.30056,Qe=.0002959122082855911,mt=4912547451450812e-26,Kt=7243452486162703e-25,ae=8887692390113509e-25,Sr=9549535105779258e-26,xr=2825345909524226e-22,ar=8459715185680659e-23,jr=1292024916781969e-23,Xr=1524358900784276e-23,wn=218869976542597e-26,_e=ae/ye;function er(I){switch(I){case ft.Sun:return Qe;case ft.Mercury:return mt;case ft.Venus:return Kt;case ft.Earth:return ae;case ft.Moon:return _e;case ft.EMB:return ae+_e;case ft.Mars:return Sr;case ft.Jupiter:return xr;case ft.Saturn:return ar;case ft.Uranus:return jr;case ft.Neptune:return Xr;case ft.Pluto:return wn;default:throw`Do not know mass product for body: ${I}`}}a.MassProduct=er;let _r,Fr,jn;function Ur(I){if(I!==!0&&I!==!1)throw console.trace(),`Value is not boolean: ${I}`;return I}function Vt(I){if(!Number.isFinite(I))throw console.trace(),`Value is not a finite number: ${I}`;return I}function ie(I){return I-Math.floor(I)}function Tt(I,j){const Y=I.x*I.x+I.y*I.y+I.z*I.z;if(Math.abs(Y)<1e-8)throw"AngleBetween: first vector is too short.";const lt=j.x*j.x+j.y*j.y+j.z*j.z;if(Math.abs(lt)<1e-8)throw"AngleBetween: second vector is too short.";const gt=(I.x*j.x+I.y*j.y+I.z*j.z)/Math.sqrt(Y*lt);return gt<=-1?180:gt>=1?0:a.RAD2DEG*Math.acos(gt)}a.AngleBetween=Tt;var ft;(function(I){I.Sun="Sun",I.Moon="Moon",I.Mercury="Mercury",I.Venus="Venus",I.Earth="Earth",I.Mars="Mars",I.Jupiter="Jupiter",I.Saturn="Saturn",I.Uranus="Uranus",I.Neptune="Neptune",I.Pluto="Pluto",I.SSB="SSB",I.EMB="EMB"})(ft=a.Body||(a.Body={}));var Rt;(function(I){I[I.From2000=0]="From2000",I[I.Into2000=1]="Into2000"})(Rt||(Rt={}));const Qt={Mercury:{OrbitalPeriod:87.969},Venus:{OrbitalPeriod:224.701},Earth:{OrbitalPeriod:365.256},Mars:{OrbitalPeriod:686.98},Jupiter:{OrbitalPeriod:4332.589},Saturn:{OrbitalPeriod:10759.22},Uranus:{OrbitalPeriod:30685.4},Neptune:{OrbitalPeriod:60189},Pluto:{OrbitalPeriod:90560}},$t={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function he(I){var j,Y,lt,gt,At,y,S;const x=2e3+(I-14)/c;return x<-500?(j=(x-1820)/100,-20+32*j*j):x<500?(j=x/100,Y=j*j,lt=j*Y,gt=Y*Y,At=Y*lt,y=lt*lt,10583.6-1014.41*j+33.78311*Y-5.952053*lt-.1798452*gt+.022174192*At+.0090316521*y):x<1600?(j=(x-1e3)/100,Y=j*j,lt=j*Y,gt=Y*Y,At=Y*lt,y=lt*lt,1574.2-556.01*j+71.23472*Y+.319781*lt-.8503463*gt-.005050998*At+.0083572073*y):x<1700?(j=x-1600,Y=j*j,lt=j*Y,120-.9808*j-.01532*Y+lt/7129):x<1800?(j=x-1700,Y=j*j,lt=j*Y,gt=Y*Y,8.83+.1603*j-.0059285*Y+13336e-8*lt-gt/1174e3):x<1860?(j=x-1800,Y=j*j,lt=j*Y,gt=Y*Y,At=Y*lt,y=lt*lt,S=lt*gt,13.72-.332447*j+.0068612*Y+.0041116*lt-37436e-8*gt+121272e-10*At-1699e-10*y+875e-12*S):x<1900?(j=x-1860,Y=j*j,lt=j*Y,gt=Y*Y,At=Y*lt,7.62+.5737*j-.251754*Y+.01680668*lt-.0004473624*gt+At/233174):x<1920?(j=x-1900,Y=j*j,lt=j*Y,gt=Y*Y,-2.79+1.494119*j-.0598939*Y+.0061966*lt-197e-6*gt):x<1941?(j=x-1920,Y=j*j,lt=j*Y,21.2+.84493*j-.0761*Y+.0020936*lt):x<1961?(j=x-1950,Y=j*j,lt=j*Y,29.07+.407*j-Y/233+lt/2547):x<1986?(j=x-1975,Y=j*j,lt=j*Y,45.45+1.067*j-Y/260-lt/718):x<2005?(j=x-2e3,Y=j*j,lt=j*Y,gt=Y*Y,At=Y*lt,63.86+.3345*j-.060374*Y+.0017275*lt+651814e-9*gt+2373599e-11*At):x<2050?(j=x-2e3,62.92+.32217*j+.005589*j*j):x<2150?(j=(x-1820)/100,-20+32*j*j-.5628*(2150-x)):(j=(x-1820)/100,-20+32*j*j)}a.DeltaT_EspenakMeeus=he;function Pe(I){return he(Math.min(I,17*c))}a.DeltaT_JplHorizons=Pe;let Ue=he;function Gt(I){Ue=I}a.SetDeltaTFunction=Gt;function at(I){return I+Ue(I)/86400}class ${constructor(j){if(j instanceof $){this.date=j.date,this.ut=j.ut,this.tt=j.tt;return}const Y=1e3*3600*24;if(j instanceof Date&&Number.isFinite(j.getTime())){this.date=j,this.ut=(j.getTime()-d.getTime())/Y,this.tt=at(this.ut);return}if(Number.isFinite(j)){this.date=new Date(d.getTime()+j*Y),this.ut=j,this.tt=at(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(j){let Y=new $(j);for(;;){const lt=j-Y.tt;if(Math.abs(lt)<1e-12)return Y;Y=Y.AddDays(lt)}}toString(){return this.date.toISOString()}AddDays(j){return new $(this.ut+j)}}a.AstroTime=$;function Q(I,j,Y){return new $(I.ut+Y*(j.ut-I.ut))}function dt(I){return I instanceof $?I:new $(I)}a.MakeTime=dt;const ue=[[[0,0,0,0,1],[-172064161,-174666,33386,92052331,9086,15377]],[[0,0,2,-2,2],[-13170906,-1675,-13696,5730336,-3015,-4587]],[[0,0,2,0,2],[-2276413,-234,2796,978459,-485,1374]],[[0,0,0,0,2],[2074554,207,-698,-897492,470,-291]],[[0,1,0,0,0],[1475877,-3633,11817,73871,-184,-1924]],[[0,1,2,-2,2],[-516821,1226,-524,224386,-677,-174]],[[1,0,0,0,0],[711159,73,-872,-6750,0,358]],[[0,0,2,0,1],[-387298,-367,380,200728,18,318]],[[1,0,2,0,2],[-301461,-36,816,129025,-63,367]],[[0,-1,2,-2,2],[215829,-494,111,-95929,299,132]],[[0,0,2,-2,1],[128227,137,181,-68982,-9,39]],[[-1,0,2,0,2],[123457,11,19,-53311,32,-4]],[[-1,0,0,2,0],[156994,10,-168,-1235,0,82]],[[1,0,0,0,1],[63110,63,27,-33228,0,-9]],[[-1,0,0,0,1],[-57976,-63,-189,31429,0,-75]],[[-1,0,2,2,2],[-59641,-11,149,25543,-11,66]],[[1,0,2,0,1],[-51613,-42,129,26366,0,78]],[[-2,0,2,0,1],[45893,50,31,-24236,-10,20]],[[0,0,0,2,0],[63384,11,-150,-1220,0,29]],[[0,0,2,2,2],[-38571,-1,158,16452,-11,68]],[[0,-2,2,-2,2],[32481,0,0,-13870,0,0]],[[-2,0,0,2,0],[-47722,0,-18,477,0,-25]],[[2,0,2,0,2],[-31046,-1,131,13238,-11,59]],[[1,0,2,-2,2],[28593,0,-1,-12338,10,-3]],[[-1,0,2,0,1],[20441,21,10,-10758,0,-3]],[[2,0,0,0,0],[29243,0,-74,-609,0,13]],[[0,0,2,0,0],[25887,0,-66,-550,0,11]],[[0,1,0,0,1],[-14053,-25,79,8551,-2,-45]],[[-1,0,0,2,1],[15164,10,11,-8001,0,-1]],[[0,2,2,-2,2],[-15794,72,-16,6850,-42,-5]],[[0,0,-2,2,0],[21783,0,13,-167,0,13]],[[1,0,0,-2,1],[-12873,-10,-37,6953,0,-14]],[[0,-1,0,0,1],[-12654,11,63,6415,0,26]],[[-1,0,2,2,1],[-10204,0,25,5222,0,15]],[[0,2,0,0,0],[16707,-85,-10,168,-1,10]],[[1,0,2,2,2],[-7691,0,44,3268,0,19]],[[-2,0,2,0,0],[-11024,0,-14,104,0,2]],[[0,1,2,0,2],[7566,-21,-11,-3250,0,-5]],[[0,0,2,2,1],[-6637,-11,25,3353,0,14]],[[0,-1,2,0,2],[-7141,21,8,3070,0,4]],[[0,0,0,2,1],[-6302,-11,2,3272,0,4]],[[1,0,2,-2,1],[5800,10,2,-3045,0,-1]],[[2,0,2,-2,2],[6443,0,-7,-2768,0,-4]],[[-2,0,0,2,1],[-5774,-11,-15,3041,0,-5]],[[2,0,2,0,1],[-5350,0,21,2695,0,12]],[[0,-1,2,-2,1],[-4752,-11,-3,2719,0,-3]],[[0,0,0,-2,1],[-4940,-11,-21,2720,0,-9]],[[-1,-1,0,2,0],[7350,0,-8,-51,0,4]],[[2,0,0,-2,1],[4065,0,6,-2206,0,1]],[[1,0,0,2,0],[6579,0,-24,-199,0,2]],[[0,1,2,-2,1],[3579,0,5,-1900,0,1]],[[1,-1,0,0,0],[4725,0,-6,-41,0,3]],[[-2,0,2,0,2],[-3075,0,-2,1313,0,-1]],[[3,0,2,0,2],[-2904,0,15,1233,0,7]],[[0,-1,0,2,0],[4348,0,-10,-81,0,2]],[[1,-1,2,0,2],[-2878,0,8,1232,0,4]],[[0,0,0,1,0],[-4230,0,5,-20,0,-2]],[[-1,-1,2,2,2],[-2819,0,7,1207,0,3]],[[-1,0,2,0,0],[-4056,0,5,40,0,-2]],[[0,-1,2,2,2],[-2647,0,11,1129,0,5]],[[-2,0,0,0,1],[-2294,0,-10,1266,0,-4]],[[1,1,2,0,2],[2481,0,-7,-1062,0,-3]],[[2,0,0,0,1],[2179,0,-2,-1129,0,-2]],[[-1,1,0,1,0],[3276,0,1,-9,0,0]],[[1,1,0,0,0],[-3389,0,5,35,0,-2]],[[1,0,2,0,0],[3339,0,-13,-107,0,1]],[[-1,0,2,-2,1],[-1987,0,-6,1073,0,-2]],[[1,0,0,0,2],[-1981,0,0,854,0,0]],[[-1,0,0,1,0],[4026,0,-353,-553,0,-139]],[[0,0,2,1,2],[1660,0,-5,-710,0,-2]],[[-1,0,2,4,2],[-1521,0,9,647,0,4]],[[-1,1,0,1,1],[1314,0,0,-700,0,0]],[[0,-2,2,-2,1],[-1283,0,0,672,0,0]],[[1,0,2,2,1],[-1331,0,8,663,0,4]],[[-2,0,2,2,2],[1383,0,-2,-594,0,-2]],[[-1,0,0,0,2],[1405,0,4,-610,0,2]],[[1,1,2,-2,2],[1290,0,0,-556,0,0]]];function De(I){var j,Y,lt,gt,At,y,S,x,U,Z,K,ht,xt,yt;function re(me){return me%b*g}for(Y=I.tt/36525,lt=re(485868.249036+Y*17179159232178e-4),gt=re(128710479305e-5+Y*1295965810481e-4),At=re(335779.526232+Y*17395272628478e-4),y=re(107226070369e-5+Y*1602961601209e-3),S=re(450160.398036-Y*69628905431e-4),U=0,Z=0,j=76;j>=0;--j)xt=ue[j][0],yt=ue[j][1],x=(xt[0]*lt+xt[1]*gt+xt[2]*At+xt[3]*y+xt[4]*S)%u,K=Math.sin(x),ht=Math.cos(x),U+=(yt[0]+yt[1]*Y)*K+yt[2]*ht,Z+=(yt[3]+yt[4]*Y)*ht+yt[5]*K;return{dpsi:-135e-6+U*1e-7,deps:388e-6+Z*1e-7}}function We(I){var j=I.tt/36525,Y=((((-434e-10*j-576e-9)*j+.0020034)*j-1831e-7)*j-46.836769)*j+84381.406;return Y/3600}var Pr;function tn(I){if(!Pr||Math.abs(Pr.tt-I.tt)>1e-6){const j=De(I),Y=We(I),lt=Y+j.deps/3600;Pr={tt:I.tt,dpsi:j.dpsi,deps:j.deps,ee:j.dpsi*Math.cos(Y*a.DEG2RAD)/15,mobl:Y,tobl:lt}}return Pr}function ln(I,j){var Y=We(I)*a.DEG2RAD,lt=Math.cos(Y),gt=Math.sin(Y);return[j[0],j[1]*lt-j[2]*gt,j[1]*gt+j[2]*lt]}a.CalcMoonCount=0;function Fn(I){++a.CalcMoonCount;const j=I.tt/36525;function Y(He,Er){const kr=[];let ke;for(ke=0;ke<=Er-He;++ke)kr.push(0);return{min:He,array:kr}}function lt(He,Er,kr,ke){const Mn=[];for(let Qn=0;Qn<=Er-He;++Qn)Mn.push(Y(kr,ke));return{min:He,array:Mn}}function gt(He,Er,kr){const ke=He.array[Er-He.min];return ke.array[kr-ke.min]}function At(He,Er,kr,ke){const Mn=He.array[Er-He.min];Mn.array[kr-Mn.min]=ke}let y,S,x,U,Z,K,ht,xt,yt,re,me,se,Ne,Ye,$e,cr,Vr,Qr,Kr,$r,tr,dn,Zn,Pi=lt(-6,6,1,4),_i=lt(-6,6,1,4);function ki(He,Er){return gt(Pi,He,Er)}function Xi(He,Er){return gt(_i,He,Er)}function qi(He,Er,kr){return At(Pi,He,Er,kr)}function ro(He,Er,kr){return At(_i,He,Er,kr)}function pa(He,Er,kr,ke,Mn){Mn(He*kr-Er*ke,Er*kr+He*ke)}function xi(He){return Math.sin(u*He)}ht=j*j,yt=0,Zn=0,me=0,se=3422.7;var Zo=xi(.19833+.05611*j),wa=xi(.27869+.04508*j),xa=xi(.16827-.36903*j),Mo=xi(.34734-5.37261*j),Ba=xi(.10498-5.37899*j),Zi=xi(.42681-.41855*j),G=xi(.14943-5.37511*j);for(Qr=.84*Zo+.31*wa+14.27*xa+7.26*Mo+.28*Ba+.24*Zi,Kr=2.94*Zo+.31*wa+14.27*xa+9.34*Mo+1.12*Ba+.83*Zi,$r=-6.4*Zo-1.89*Zi,tr=.21*Zo+.31*wa+14.27*xa-88.7*Mo-15.3*Ba+.24*Zi-1.86*G,dn=Qr-$r,xt=-3332e-9*xi(.59734-5.37261*j)-539e-9*xi(.35498-5.37899*j)-64e-9*xi(.39943-5.37511*j),Ne=u*ie(.60643382+1336.85522467*j-313e-8*ht)+Qr/p,Ye=u*ie(.37489701+1325.55240982*j+2565e-8*ht)+Kr/p,$e=u*ie(.99312619+99.99735956*j-44e-8*ht)+$r/p,cr=u*ie(.25909118+1342.2278298*j-892e-8*ht)+tr/p,Vr=u*ie(.82736186+1236.85308708*j-397e-8*ht)+dn/p,Z=1;Z<=4;++Z){switch(Z){case 1:x=Ye,S=4,U=1.000002208;break;case 2:x=$e,S=3,U=.997504612-.002495388*j;break;case 3:x=cr,S=4,U=1.000002708+139.978*xt;break;case 4:x=Vr,S=6,U=1;break;default:throw`Internal error: I = ${Z}`}for(qi(0,Z,1),qi(1,Z,Math.cos(x)*U),ro(0,Z,0),ro(1,Z,Math.sin(x)*U),K=2;K<=S;++K)pa(ki(K-1,Z),Xi(K-1,Z),ki(1,Z),Xi(1,Z),(He,Er)=>(qi(K,Z,He),ro(K,Z,Er)));for(K=1;K<=S;++K)qi(-K,Z,ki(K,Z)),ro(-K,Z,-Xi(K,Z))}function Et(He,Er,kr,ke){for(var Mn={x:1,y:0},Qn=[0,He,Er,kr,ke],fn=1;fn<=4;++fn)Qn[fn]!==0&&pa(Mn.x,Mn.y,ki(Qn[fn],fn),Xi(Qn[fn],fn),(pi,si)=>(Mn.x=pi,Mn.y=si));return Mn}function Lt(He,Er,kr,ke,Mn,Qn,fn,pi){var si=Et(Mn,Qn,fn,pi);yt+=He*si.y,Zn+=Er*si.y,me+=kr*si.x,se+=ke*si.x}Lt(13.902,14.06,-.001,.2607,0,0,0,4),Lt(.403,-4.01,.394,.0023,0,0,0,3),Lt(2369.912,2373.36,.601,28.2333,0,0,0,2),Lt(-125.154,-112.79,-.725,-.9781,0,0,0,1),Lt(1.979,6.98,-.445,.0433,1,0,0,4),Lt(191.953,192.72,.029,3.0861,1,0,0,2),Lt(-8.466,-13.51,.455,-.1093,1,0,0,1),Lt(22639.5,22609.07,.079,186.5398,1,0,0,0),Lt(18.609,3.59,-.094,.0118,1,0,0,-1),Lt(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),Lt(3.215,5.44,.192,-.0386,1,0,0,-3),Lt(-38.428,-38.64,.001,.6008,1,0,0,-4),Lt(-.393,-1.43,-.092,.0086,1,0,0,-6),Lt(-.289,-1.59,.123,-.0053,0,1,0,4),Lt(-24.42,-25.1,.04,-.3,0,1,0,2),Lt(18.023,17.93,.007,.1494,0,1,0,1),Lt(-668.146,-126.98,-1.302,-.3997,0,1,0,0),Lt(.56,.32,-.001,-.0037,0,1,0,-1),Lt(-165.145,-165.06,.054,1.9178,0,1,0,-2),Lt(-1.877,-6.46,-.416,.0339,0,1,0,-4),Lt(.213,1.02,-.074,.0054,2,0,0,4),Lt(14.387,14.78,-.017,.2833,2,0,0,2),Lt(-.586,-1.2,.054,-.01,2,0,0,1),Lt(769.016,767.96,.107,10.1657,2,0,0,0),Lt(1.75,2.01,-.018,.0155,2,0,0,-1),Lt(-211.656,-152.53,5.679,-.3039,2,0,0,-2),Lt(1.225,.91,-.03,-.0088,2,0,0,-3),Lt(-30.773,-34.07,-.308,.3722,2,0,0,-4),Lt(-.57,-1.4,-.074,.0109,2,0,0,-6),Lt(-2.921,-11.75,.787,-.0484,1,1,0,2),Lt(1.267,1.52,-.022,.0164,1,1,0,1),Lt(-109.673,-115.18,.461,-.949,1,1,0,0),Lt(-205.962,-182.36,2.056,1.4437,1,1,0,-2),Lt(.233,.36,.012,-.0025,1,1,0,-3),Lt(-4.391,-9.66,-.471,.0673,1,1,0,-4),Lt(.283,1.53,-.111,.006,1,-1,0,4),Lt(14.577,31.7,-1.54,.2302,1,-1,0,2),Lt(147.687,138.76,.679,1.1528,1,-1,0,0),Lt(-1.089,.55,.021,0,1,-1,0,-1),Lt(28.475,23.59,-.443,-.2257,1,-1,0,-2),Lt(-.276,-.38,-.006,-.0036,1,-1,0,-3),Lt(.636,2.27,.146,-.0102,1,-1,0,-4),Lt(-.189,-1.68,.131,-.0028,0,2,0,2),Lt(-7.486,-.66,-.037,-.0086,0,2,0,0),Lt(-8.096,-16.35,-.74,.0918,0,2,0,-2),Lt(-5.741,-.04,0,-9e-4,0,0,2,2),Lt(.255,0,0,0,0,0,2,1),Lt(-411.608,-.2,0,-.0124,0,0,2,0),Lt(.584,.84,0,.0071,0,0,2,-1),Lt(-55.173,-52.14,0,-.1052,0,0,2,-2),Lt(.254,.25,0,-.0017,0,0,2,-3),Lt(.025,-1.67,0,.0031,0,0,2,-4),Lt(1.06,2.96,-.166,.0243,3,0,0,2),Lt(36.124,50.64,-1.3,.6215,3,0,0,0),Lt(-13.193,-16.4,.258,-.1187,3,0,0,-2),Lt(-1.187,-.74,.042,.0074,3,0,0,-4),Lt(-.293,-.31,-.002,.0046,3,0,0,-6),Lt(-.29,-1.45,.116,-.0051,2,1,0,2),Lt(-7.649,-10.56,.259,-.1038,2,1,0,0),Lt(-8.627,-7.59,.078,-.0192,2,1,0,-2),Lt(-2.74,-2.54,.022,.0324,2,1,0,-4),Lt(1.181,3.32,-.212,.0213,2,-1,0,2),Lt(9.703,11.67,-.151,.1268,2,-1,0,0),Lt(-.352,-.37,.001,-.0028,2,-1,0,-1),Lt(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),Lt(.36,.2,-.012,-.0043,2,-1,0,-4),Lt(-1.167,-1.25,.008,-.0106,1,2,0,0),Lt(-7.412,-6.12,.117,.0484,1,2,0,-2),Lt(-.311,-.65,-.032,.0044,1,2,0,-4),Lt(.757,1.82,-.105,.0112,1,-2,0,2),Lt(2.58,2.32,.027,.0196,1,-2,0,0),Lt(2.533,2.4,-.014,-.0212,1,-2,0,-2),Lt(-.344,-.57,-.025,.0036,0,3,0,-2),Lt(-.992,-.02,0,0,1,0,2,2),Lt(-45.099,-.02,0,-.001,1,0,2,0),Lt(-.179,-9.52,0,-.0833,1,0,2,-2),Lt(-.301,-.33,0,.0014,1,0,2,-4),Lt(-6.382,-3.37,0,-.0481,1,0,-2,2),Lt(39.528,85.13,0,-.7136,1,0,-2,0),Lt(9.366,.71,0,-.0112,1,0,-2,-2),Lt(.202,.02,0,0,1,0,-2,-4),Lt(.415,.1,0,.0013,0,1,2,0),Lt(-2.152,-2.26,0,-.0066,0,1,2,-2),Lt(-1.44,-1.3,0,.0014,0,1,-2,2),Lt(.384,-.04,0,0,0,1,-2,-2),Lt(1.938,3.6,-.145,.0401,4,0,0,0),Lt(-.952,-1.58,.052,-.013,4,0,0,-2),Lt(-.551,-.94,.032,-.0097,3,1,0,0),Lt(-.482,-.57,.005,-.0045,3,1,0,-2),Lt(.681,.96,-.026,.0115,3,-1,0,0),Lt(-.297,-.27,.002,-9e-4,2,2,0,-2),Lt(.254,.21,-.003,0,2,-2,0,-2),Lt(-.25,-.22,.004,.0014,1,3,0,-2),Lt(-3.996,0,0,4e-4,2,0,2,0),Lt(.557,-.75,0,-.009,2,0,2,-2),Lt(-.459,-.38,0,-.0053,2,0,-2,2),Lt(-1.298,.74,0,4e-4,2,0,-2,0),Lt(.538,1.14,0,-.0141,2,0,-2,-2),Lt(.263,.02,0,0,1,1,2,0),Lt(.426,.07,0,-6e-4,1,1,-2,-2),Lt(-.304,.03,0,3e-4,1,-1,2,0),Lt(-.372,-.19,0,-.0027,1,-1,-2,2),Lt(.418,0,0,0,0,0,4,0),Lt(-.33,-.04,0,0,3,0,2,0);function we(He,Er,kr,ke,Mn){return He*Et(Er,kr,ke,Mn).y}re=0,re+=we(-526.069,0,0,1,-2),re+=we(-3.352,0,0,1,-4),re+=we(44.297,1,0,1,-2),re+=we(-6,1,0,1,-4),re+=we(20.599,-1,0,1,0),re+=we(-30.598,-1,0,1,-2),re+=we(-24.649,-2,0,1,0),re+=we(-2,-2,0,1,-2),re+=we(-22.571,0,1,1,-2),re+=we(10.985,0,-1,1,-2),yt+=.82*xi(.7736-62.5512*j)+.31*xi(.0466-125.1025*j)+.35*xi(.5785-25.1042*j)+.66*xi(.4591+1335.8075*j)+.64*xi(.313-91.568*j)+1.14*xi(.148+1331.2898*j)+.21*xi(.5918+1056.5859*j)+.44*xi(.5784+1322.8595*j)+.24*xi(.2275-5.7374*j)+.28*xi(.2965+2.6929*j)+.33*xi(.3132+6.3368*j),y=cr+Zn/p;let Ve=(1.000002708+139.978*xt)*(18518.511+1.189+me)*Math.sin(y)-6.24*Math.sin(3*y)+re;return{geo_eclip_lon:u*ie((Ne+yt/p)/u),geo_eclip_lat:Math.PI/(180*3600)*Ve,distance_au:p*nt/(.999953253*se)}}class qn{constructor(j,Y,lt,gt,At,y){this.elat=j,this.elon=Y,this.mlat=lt,this.mlon=gt,this.dist_km=At,this.diam_deg=y}}a.LibrationInfo=qn;function Ci(I){const j=dt(I),Y=j.tt/36525,lt=Y*Y,gt=lt*Y,At=lt*lt,y=Fn(j),S=y.geo_eclip_lon,x=y.geo_eclip_lat,U=y.distance_au*a.KM_PER_AU,Z=a.DEG2RAD*1.543,K=a.DEG2RAD*Jt(93.272095+483202.0175233*Y-.0036539*lt-gt/3526e3+At/86331e4),ht=a.DEG2RAD*Jt(125.0445479-1934.1362891*Y+.0020754*lt+gt/467441-At/60616e3),xt=a.DEG2RAD*Jt(357.5291092+35999.0502909*Y-1536e-7*lt+gt/2449e4),yt=a.DEG2RAD*Jt(134.9633964+477198.8675055*Y+.0087414*lt+gt/69699-At/14712e3),re=a.DEG2RAD*Jt(297.8501921+445267.1114034*Y-.0018819*lt+gt/545868-At/113065e3),me=1-.002516*Y-74e-7*lt,se=S-ht,Ne=Math.atan2(Math.sin(se)*Math.cos(x)*Math.cos(Z)-Math.sin(x)*Math.sin(Z),Math.cos(se)*Math.cos(x)),Ye=Zt(a.RAD2DEG*(Ne-K)),$e=Math.asin(-Math.sin(se)*Math.cos(x)*Math.sin(Z)-Math.sin(x)*Math.cos(Z)),cr=a.DEG2RAD*(119.75+131.849*Y),Vr=a.DEG2RAD*(72.56+20.186*Y),Qr=-.02752*Math.cos(yt)+-.02245*Math.sin(K)+.00684*Math.cos(yt-2*K)+-.00293*Math.cos(2*K)+-85e-5*Math.cos(2*K-2*re)+-54e-5*Math.cos(yt-2*re)+-2e-4*Math.sin(yt+K)+-2e-4*Math.cos(yt+2*K)+-2e-4*Math.cos(yt-K)+14e-5*Math.cos(yt+2*K-2*re),Kr=-.02816*Math.sin(yt)+.02244*Math.cos(K)+-.00682*Math.sin(yt-2*K)+-.00279*Math.sin(2*K)+-83e-5*Math.sin(2*K-2*re)+69e-5*Math.sin(yt-2*re)+4e-4*Math.cos(yt+K)+-25e-5*Math.sin(2*yt)+-23e-5*Math.sin(yt+2*K)+2e-4*Math.cos(yt-K)+19e-5*Math.sin(yt-K)+13e-5*Math.sin(yt+2*K-2*re)+-1e-4*Math.cos(yt-3*K),tr=-(.0252*me*Math.sin(xt)+.00473*Math.sin(2*yt-2*K)+-.00467*Math.sin(yt)+.00396*Math.sin(cr)+.00276*Math.sin(2*yt-2*re)+.00196*Math.sin(ht)+-.00183*Math.cos(yt-K)+.00115*Math.sin(yt-2*re)+-96e-5*Math.sin(yt-re)+46e-5*Math.sin(2*K-2*re)+-39e-5*Math.sin(yt-K)+-32e-5*Math.sin(yt-xt-re)+27e-5*Math.sin(2*yt-xt-2*re)+23e-5*Math.sin(Vr)+-14e-5*Math.sin(2*re)+14e-5*Math.cos(2*yt-2*K)+-12e-5*Math.sin(yt-2*K)+-12e-5*Math.sin(2*yt)+11e-5*Math.sin(2*yt-2*xt-2*re))+(Qr*Math.cos(Ne)+Kr*Math.sin(Ne))*Math.tan($e),dn=Kr*Math.cos(Ne)-Qr*Math.sin(Ne),Zn=2*a.RAD2DEG*Math.atan(ee/Math.sqrt(U*U-ee*ee));return new qn(a.RAD2DEG*$e+dn,Ye+tr,a.RAD2DEG*x,a.RAD2DEG*S,U,Zn)}a.Libration=Ci;function ao(I,j){return[I.rot[0][0]*j[0]+I.rot[1][0]*j[1]+I.rot[2][0]*j[2],I.rot[0][1]*j[0]+I.rot[1][1]*j[1]+I.rot[2][1]*j[2],I.rot[0][2]*j[0]+I.rot[1][2]*j[1]+I.rot[2][2]*j[2]]}function Kn(I,j,Y){const lt=Li(j,Y);return ao(lt,I)}function ui(I,j,Y){const lt=Li(j,Y);return As(lt,I)}function Li(I,j){const Y=I.tt/36525;let lt=84381.406,gt=((((-951e-10*Y+132851e-9)*Y-.00114045)*Y-1.0790069)*Y+5038.481507)*Y,At=((((3337e-10*Y-467e-9)*Y-.00772503)*Y+.0512623)*Y-.025754)*Y+lt,y=((((-56e-9*Y+170663e-9)*Y-.00121197)*Y-2.3814292)*Y+10.556403)*Y;lt*=g,gt*=g,At*=g,y*=g;const S=Math.sin(lt),x=Math.cos(lt),U=Math.sin(-gt),Z=Math.cos(-gt),K=Math.sin(-At),ht=Math.cos(-At),xt=Math.sin(y),yt=Math.cos(y),re=yt*Z-U*xt*ht,me=yt*U*x+xt*ht*Z*x-S*xt*K,se=yt*U*S+xt*ht*Z*S+x*xt*K,Ne=-xt*Z-U*yt*ht,Ye=-xt*U*x+yt*ht*Z*x-S*yt*K,$e=-xt*U*S+yt*ht*Z*S+x*yt*K,cr=U*K,Vr=-K*Z*x-S*ht,Qr=-K*Z*S+ht*x;if(j===Rt.Into2000)return new ei([[re,me,se],[Ne,Ye,$e],[cr,Vr,Qr]]);if(j===Rt.From2000)return new ei([[re,Ne,cr],[me,Ye,Vr],[se,$e,Qr]]);throw"Invalid precess direction"}function _n(I){const j=.779057273264+.00273781191135448*I.ut,Y=I.ut%1;let lt=360*((j+Y)%1);return lt<0&&(lt+=360),lt}let uo;function zn(I){if(!uo||uo.tt!==I.tt){const j=I.tt/36525;let Y=15*tn(I).ee;const lt=_n(I);let At=((Y+.014506+((((-368e-10*j-29956e-9)*j-44e-8)*j+1.3915817)*j+4612.156534)*j)/3600+lt)%360/15;At<0&&(At+=24),uo={tt:I.tt,st:At}}return uo.st}function Na(I){const j=dt(I);return zn(j)}a.SiderealTime=Na;function Wo(I,j){const Y=I[0]*a.KM_PER_AU,lt=I[1]*a.KM_PER_AU,gt=I[2]*a.KM_PER_AU,At=Math.hypot(Y,lt);let y,S,x;if(At<1e-6)y=0,S=gt>0?90:-90,x=Math.abs(gt)-F;else{const U=Math.atan2(lt,Y);for(y=a.RAD2DEG*U-15*j;y<=-180;)y+=360;for(;y>180;)y-=360;let Z=Math.atan2(gt,At),K,ht,xt;for(;;){K=Math.cos(Z),ht=Math.sin(Z);const re=(ct-1)*wt,me=K*K,se=ht*ht,Ne=me+ct*se;xt=Math.sqrt(Ne);const Ye=re*ht*K/xt-gt*K+At*ht;if(Math.abs(Ye)<1e-12)break;const $e=re*((me-se)/xt-se*me*(ct-1)/(re*Ne))+gt*ht+At*K;Z-=Ye/$e}S=a.RAD2DEG*Z;const yt=wt/xt;Math.abs(ht)>Math.abs(K)?x=gt/ht-ct*yt:x=At/K-yt}return new tl(S,y,1e3*x)}function Ji(I,j){const Y=I.latitude*a.DEG2RAD,lt=Math.sin(Y),gt=Math.cos(Y),At=1/Math.hypot(gt,ot*lt),y=ct*At,S=I.height/1e3,x=wt*At+S,U=wt*y+S,Z=(15*j+I.longitude)*a.DEG2RAD,K=Math.sin(Z),ht=Math.cos(Z);return{pos:[x*gt*ht/a.KM_PER_AU,x*gt*K/a.KM_PER_AU,U*lt/a.KM_PER_AU],vel:[-M*x*gt*K*86400/a.KM_PER_AU,M*x*gt*ht*86400/a.KM_PER_AU,0]}}function on(I,j,Y){const lt=rn(j,Y);return ao(lt,I)}function fr(I,j,Y){const lt=rn(j,Y);return As(lt,I)}function rn(I,j){const Y=tn(I),lt=Y.mobl*a.DEG2RAD,gt=Y.tobl*a.DEG2RAD,At=Y.dpsi*g,y=Math.cos(lt),S=Math.sin(lt),x=Math.cos(gt),U=Math.sin(gt),Z=Math.cos(At),K=Math.sin(At),ht=Z,xt=-K*y,yt=-K*S,re=K*x,me=Z*y*x+S*U,se=Z*S*x-y*U,Ne=K*U,Ye=Z*y*U-S*x,$e=Z*S*U+y*x;if(j===Rt.From2000)return new ei([[ht,re,Ne],[xt,me,Ye],[yt,se,$e]]);if(j===Rt.Into2000)return new ei([[ht,xt,yt],[re,me,se],[Ne,Ye,$e]]);throw"Invalid precess direction"}function Ln(I,j,Y){return Y===Rt.Into2000?Kn(on(I,j,Y),j,Y):on(Kn(I,j,Y),j,Y)}function hi(I,j,Y){return Y===Rt.Into2000?ui(fr(I,j,Y),j,Y):fr(ui(I,j,Y),j,Y)}function bi(I,j){const Y=zn(I),lt=Ji(j,Y).pos;return Ln(lt,I,Rt.Into2000)}class Tn{constructor(j,Y,lt,gt){this.x=j,this.y=Y,this.z=lt,this.t=gt}Length(){return Math.hypot(this.x,this.y,this.z)}}a.Vector=Tn;class en{constructor(j,Y,lt,gt,At,y,S){this.x=j,this.y=Y,this.z=lt,this.vx=gt,this.vy=At,this.vz=y,this.t=S}}a.StateVector=en;class Ti{constructor(j,Y,lt){this.lat=Vt(j),this.lon=Vt(Y),this.dist=Vt(lt)}}a.Spherical=Ti;class Io{constructor(j,Y,lt,gt){this.ra=Vt(j),this.dec=Vt(Y),this.dist=Vt(lt),this.vec=gt}}a.EquatorialCoordinates=Io;function ya(I){if(!(I instanceof Array)||I.length!==3)return!1;for(let j=0;j<3;++j){if(!(I[j]instanceof Array)||I[j].length!==3)return!1;for(let Y=0;Y<3;++Y)if(!Number.isFinite(I[j][Y]))return!1}return!0}class ei{constructor(j){this.rot=j}}a.RotationMatrix=ei;function zl(I){if(!ya(I))throw"Argument must be a [3][3] array of numbers";return new ei(I)}a.MakeRotation=zl;class Ts{constructor(j,Y,lt,gt){this.azimuth=Vt(j),this.altitude=Vt(Y),this.ra=Vt(lt),this.dec=Vt(gt)}}a.HorizontalCoordinates=Ts;class Bs{constructor(j,Y,lt){this.vec=j,this.elat=Vt(Y),this.elon=Vt(lt)}}a.EclipticCoordinates=Bs;function co(I,j){return new Tn(I[0],I[1],I[2],j)}function Yu(I,j){const Y=co(I,j),lt=Y.x*Y.x+Y.y*Y.y,gt=Math.sqrt(lt+Y.z*Y.z);if(lt===0){if(Y.z===0)throw"Indeterminate sky coordinates";return new Io(0,Y.z<0?-90:90,gt,Y)}let At=a.RAD2HOUR*Math.atan2(Y.y,Y.x);At<0&&(At+=24);const y=a.RAD2DEG*Math.atan2(I[2],Math.sqrt(lt));return new Io(At,y,gt,Y)}function Za(I,j){const Y=I*a.DEG2RAD,lt=Math.cos(Y),gt=Math.sin(Y);return[lt*j[0]+gt*j[1],lt*j[1]-gt*j[0],j[2]]}function Ja(I,j,Y,lt,gt){let At=dt(I);_a(j),Vt(Y),Vt(lt);const y=Math.sin(j.latitude*a.DEG2RAD),S=Math.cos(j.latitude*a.DEG2RAD),x=Math.sin(j.longitude*a.DEG2RAD),U=Math.cos(j.longitude*a.DEG2RAD),Z=Math.sin(lt*a.DEG2RAD),K=Math.cos(lt*a.DEG2RAD),ht=Math.sin(Y*a.HOUR2RAD),xt=Math.cos(Y*a.HOUR2RAD);let yt=[S*U,S*x,y],re=[-y*U,-y*x,S],me=[x,-U,0];const se=-15*zn(At);let Ne=Za(se,yt),Ye=Za(se,re),$e=Za(se,me),cr=[K*xt,K*ht,Z];const Vr=cr[0]*Ne[0]+cr[1]*Ne[1]+cr[2]*Ne[2],Qr=cr[0]*Ye[0]+cr[1]*Ye[1]+cr[2]*Ye[2],Kr=cr[0]*$e[0]+cr[1]*$e[1]+cr[2]*$e[2];let $r=Math.hypot(Qr,Kr),tr;$r>0?(tr=-a.RAD2DEG*Math.atan2(Kr,Qr),tr<0&&(tr+=360)):tr=0;let dn=a.RAD2DEG*Math.atan2($r,Vr),Zn=Y,Pi=lt;if(gt){let ki=dn,Xi=ds(gt,90-dn);if(dn-=Xi,Xi>0&&dn>3e-4){const qi=Math.sin(dn*a.DEG2RAD),ro=Math.cos(dn*a.DEG2RAD),pa=Math.sin(ki*a.DEG2RAD),xi=Math.cos(ki*a.DEG2RAD);var _i=[];for(let Zo=0;Zo<3;++Zo)_i.push((cr[Zo]-xi*Ne[Zo])/pa*qi+Ne[Zo]*ro);$r=Math.hypot(_i[0],_i[1]),$r>0?(Zn=a.RAD2HOUR*Math.atan2(_i[1],_i[0]),Zn<0&&(Zn+=24)):Zn=0,Pi=a.RAD2DEG*Math.atan2(_i[2],$r)}}return new Ts(tr,90-dn,Zn,Pi)}a.Horizon=Ja;function _a(I){if(!(I instanceof tl))throw`Not an instance of the Observer class: ${I}`;if(Vt(I.latitude),Vt(I.longitude),Vt(I.height),I.latitude<-90||I.latitude>90)throw`Latitude ${I.latitude} is out of range. Must be -90..+90.`;return I}class tl{constructor(j,Y,lt){this.latitude=j,this.longitude=Y,this.height=lt,_a(this)}}a.Observer=tl;function Xu(I){const j=dt(I).AddDays(-1/a.C_AUDAY),Y=$o($t.Earth,j),lt=[-Y.x,-Y.y,-Y.z],[gt,At,y]=Ln(lt,j,Rt.From2000),S=a.DEG2RAD*tn(j).tobl,x=Math.cos(S),U=Math.sin(S),Z=new Tn(gt,At,y,j);return Vl(Z,x,U)}a.SunPosition=Xu;function qo(I,j,Y,lt,gt){_a(Y),Ur(lt),Ur(gt);const At=dt(j),y=bi(At,Y),S=Tr(I,At,gt),x=[S.x-y[0],S.y-y[1],S.z-y[2]];if(!lt)return Yu(x,At);const U=Ln(x,At,Rt.From2000);return Yu(U,At)}a.Equator=qo;function Us(I,j,Y){const lt=dt(I),gt=zn(lt);let At=Ji(j,gt).pos;return Y||(At=Ln(At,lt,Rt.Into2000)),co(At,lt)}a.ObserverVector=Us;function el(I,j,Y){const lt=dt(I),gt=zn(lt),At=Ji(j,gt),y=new en(At.pos[0],At.pos[1],At.pos[2],At.vel[0],At.vel[1],At.vel[2],lt);return Y?y:hi(y,lt,Rt.Into2000)}a.ObserverState=el;function H0(I,j){const Y=zn(I.t);let lt=[I.x,I.y,I.z];return j||(lt=Kn(lt,I.t,Rt.From2000),lt=on(lt,I.t,Rt.From2000)),Wo(lt,Y)}a.VectorObserver=H0;function Sc(I,j){const Y=Math.sin(I*a.DEG2RAD),lt=Y*Y;return 9.7803253359*(1+.00193185265241*lt)/Math.sqrt(1-.00669437999013*lt)*(1-(315704e-12-210269e-14*lt)*j+737452e-19*j*j)}a.ObserverGravity=Sc;function Vl(I,j,Y){const lt=I.x,gt=I.y*j+I.z*Y,At=-I.y*Y+I.z*j,y=Math.hypot(lt,gt);let S=0;y>0&&(S=a.RAD2DEG*Math.atan2(gt,lt),S<0&&(S+=360));let x=a.RAD2DEG*Math.atan2(At,y),U=new Tn(lt,gt,At,I.t);return new Bs(U,x,S)}function Fa(I){return _r===void 0&&(_r=a.DEG2RAD*tn(dt(d)).mobl,Fr=Math.cos(_r),jn=Math.sin(_r)),Vl(I,Fr,jn)}a.Ecliptic=Fa;function Qo(I){const j=dt(I),Y=Fn(j),lt=Y.distance_au*Math.cos(Y.geo_eclip_lat),gt=[lt*Math.cos(Y.geo_eclip_lon),lt*Math.sin(Y.geo_eclip_lon),Y.distance_au*Math.sin(Y.geo_eclip_lat)],At=ln(j,gt),y=Kn(At,j,Rt.Into2000);return new Tn(y[0],y[1],y[2],j)}a.GeoMoon=Qo;function rl(I){const j=dt(I),Y=Fn(j);return new Ti(Y.geo_eclip_lat*a.RAD2DEG,Y.geo_eclip_lon*a.RAD2DEG,Y.distance_au)}a.EclipticGeoMoon=rl;function _o(I){const j=dt(I),Y=1e-5,lt=j.AddDays(-Y),gt=j.AddDays(+Y),At=Qo(lt),y=Qo(gt);return new en((At.x+y.x)/2,(At.y+y.y)/2,(At.z+y.z)/2,(y.x-At.x)/(2*Y),(y.y-At.y)/(2*Y),(y.z-At.z)/(2*Y),j)}a.GeoMoonState=_o;function mu(I){const j=dt(I),Y=_o(j),lt=1+ye;return new en(Y.x/lt,Y.y/lt,Y.z/lt,Y.vx/lt,Y.vy/lt,Y.vz/lt,j)}a.GeoEmbState=mu;function jo(I,j,Y){let lt=1,gt=0;for(let At of I){let y=0;for(let[x,U,Z]of At)y+=x*Math.cos(U+j*Z);let S=lt*y;Y&&(S%=u),gt+=S,lt*=j}return gt}function fa(I,j){let Y=1,lt=0,gt=0,At=0;for(let y of I){let S=0,x=0;for(let[U,Z,K]of y){let ht=Z+j*K;S+=U*K*Math.sin(ht),At>0&&(x+=U*Math.cos(ht))}gt+=At*lt*x-Y*S,lt=Y,Y*=j,++At}return gt}const ks=365250,Ku=0,qa=1,yu=2;function $u(I){return new li(I[0]+44036e-11*I[1]-190919e-12*I[2],-479966e-12*I[0]+.917482137087*I[1]-.397776982902*I[2],.397776982902*I[1]+.917482137087*I[2])}function m0(I,j,Y){const lt=Y*Math.cos(j),gt=Math.cos(I),At=Math.sin(I);return[lt*gt,lt*At,Y*Math.sin(j)]}function $o(I,j){const Y=j.tt/ks,lt=jo(I[Ku],Y,!0),gt=jo(I[qa],Y,!1),At=jo(I[yu],Y,!1),y=m0(lt,gt,At);return $u(y).ToAstroVector(j)}function go(I,j){const Y=j/ks,lt=jo(I[Ku],Y,!0),gt=jo(I[qa],Y,!1),At=jo(I[yu],Y,!1),y=fa(I[Ku],Y),S=fa(I[qa],Y),x=fa(I[yu],Y),U=Math.cos(lt),Z=Math.sin(lt),K=Math.cos(gt),ht=Math.sin(gt),xt=+(x*K*U)-At*ht*U*S-At*K*Z*y,yt=+(x*K*Z)-At*ht*Z*S+At*K*U*y,re=+(x*ht)+At*K*S,me=m0(lt,gt,At),se=[xt/ks,yt/ks,re/ks],Ne=$u(me),Ye=$u(se);return new Hr(j,Ne,Ye)}function Bi(I,j,Y,lt){const gt=lt/(lt+Qe),At=$o($t[Y],j);I.x+=gt*At.x,I.y+=gt*At.y,I.z+=gt*At.z}function pn(I){const j=new Tn(0,0,0,I);return Bi(j,I,ft.Jupiter,xr),Bi(j,I,ft.Saturn,ar),Bi(j,I,ft.Uranus,jr),Bi(j,I,ft.Neptune,Xr),j}const y0=51,Hf=29200,hs=146,un=201,No=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class li{constructor(j,Y,lt){this.x=j,this.y=Y,this.z=lt}ToAstroVector(j){return new Tn(this.x,this.y,this.z,j)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(j){return new li(this.x+j.x,this.y+j.y,this.z+j.z)}sub(j){return new li(this.x-j.x,this.y-j.y,this.z-j.z)}incr(j){this.x+=j.x,this.y+=j.y,this.z+=j.z}decr(j){this.x-=j.x,this.y-=j.y,this.z-=j.z}mul(j){return new li(j*this.x,j*this.y,j*this.z)}div(j){return new li(this.x/j,this.y/j,this.z/j)}mean(j){return new li((this.x+j.x)/2,(this.y+j.y)/2,(this.z+j.z)/2)}}class Hr{constructor(j,Y,lt){this.tt=j,this.r=Y,this.v=lt}}function Yf(I){let[j,[Y,lt,gt],[At,y,S]]=I;return new Hr(j,new li(Y,lt,gt),new li(At,y,S))}function Qa(I,j,Y,lt){const gt=lt/(lt+Qe),At=go($t[Y],j);return I.r.incr(At.r.mul(gt)),I.v.incr(At.v.mul(gt)),At}function L(I,j,Y){const lt=Y.sub(I),gt=lt.quadrature();return lt.mul(j/(gt*Math.sqrt(gt)))}class O{constructor(j){let Y=new Hr(j,new li(0,0,0),new li(0,0,0));this.Jupiter=Qa(Y,j,ft.Jupiter,xr),this.Saturn=Qa(Y,j,ft.Saturn,ar),this.Uranus=Qa(Y,j,ft.Uranus,jr),this.Neptune=Qa(Y,j,ft.Neptune,Xr),this.Jupiter.r.decr(Y.r),this.Jupiter.v.decr(Y.v),this.Saturn.r.decr(Y.r),this.Saturn.v.decr(Y.v),this.Uranus.r.decr(Y.r),this.Uranus.v.decr(Y.v),this.Neptune.r.decr(Y.r),this.Neptune.v.decr(Y.v),this.Sun=new Hr(j,Y.r.mul(-1),Y.v.mul(-1))}Acceleration(j){let Y=L(j,Qe,this.Sun.r);return Y.incr(L(j,xr,this.Jupiter.r)),Y.incr(L(j,ar,this.Saturn.r)),Y.incr(L(j,jr,this.Uranus.r)),Y.incr(L(j,Xr,this.Neptune.r)),Y}}class T{constructor(j,Y,lt,gt){this.tt=j,this.r=Y,this.v=lt,this.a=gt}}class N{constructor(j,Y){this.bary=j,this.grav=Y}}function W(I,j,Y,lt){return new li(j.x+I*(Y.x+I*lt.x/2),j.y+I*(Y.y+I*lt.y/2),j.z+I*(Y.z+I*lt.z/2))}function D(I,j,Y){return new li(j.x+I*Y.x,j.y+I*Y.y,j.z+I*Y.z)}function X(I,j){const Y=I-j.tt,lt=new O(I),gt=W(Y,j.r,j.v,j.a),At=lt.Acceleration(gt).mean(j.a),y=W(Y,j.r,j.v,At),S=j.v.add(At.mul(Y)),x=lt.Acceleration(y),U=new T(I,y,S,x);return new N(lt,U)}const rt=[];function st(I,j){const Y=Math.floor(I);return Y<0?0:Y>=j?j-1:Y}function _t(I){const j=Yf(I),Y=new O(j.tt),lt=j.r.add(Y.Sun.r),gt=j.v.add(Y.Sun.v),At=Y.Acceleration(lt),y=new T(j.tt,lt,gt,At);return new N(Y,y)}function Bt(I,j){const Y=No[0][0];if(j<Y||j>No[y0-1][0])return null;const lt=st((j-Y)/Hf,y0-1);if(!I[lt]){const At=I[lt]=[];At[0]=_t(No[lt]).grav,At[un-1]=_t(No[lt+1]).grav;let y,S=At[0].tt;for(y=1;y<un-1;++y)At[y]=X(S+=hs,At[y-1]).grav;S=At[un-1].tt;var gt=[];for(gt[un-1]=At[un-1],y=un-2;y>0;--y)gt[y]=X(S-=hs,gt[y+1]).grav;for(y=un-2;y>0;--y){const x=y/(un-1);At[y].r=At[y].r.mul(1-x).add(gt[y].r.mul(x)),At[y].v=At[y].v.mul(1-x).add(gt[y].v.mul(x)),At[y].a=At[y].a.mul(1-x).add(gt[y].a.mul(x))}}return I[lt]}function Ut(I,j,Y){let lt=_t(I);const gt=Math.ceil((j-lt.grav.tt)/Y);for(let At=0;At<gt;++At)lt=X(At+1===gt?j:lt.grav.tt+Y,lt.grav);return lt}function Xt(I,j){let Y,lt,gt;const At=Bt(rt,I.tt);if(At){const y=st((I.tt-At[0].tt)/hs,un-1),S=At[y],x=At[y+1],U=S.a.mean(x.a),Z=W(I.tt-S.tt,S.r,S.v,U),K=D(I.tt-S.tt,S.v,U),ht=W(I.tt-x.tt,x.r,x.v,U),xt=D(I.tt-x.tt,x.v,U),yt=(I.tt-S.tt)/hs;Y=Z.mul(1-yt).add(ht.mul(yt)),lt=K.mul(1-yt).add(xt.mul(yt))}else{let y;I.tt<No[0][0]?y=Ut(No[0],I.tt,-hs):y=Ut(No[y0-1],I.tt,+hs),Y=y.grav.r,lt=y.grav.v,gt=y.bary}return j&&(gt||(gt=new O(I.tt)),Y=Y.sub(gt.Sun.r),lt=lt.sub(gt.Sun.v)),new en(Y.x,Y.y,Y.z,lt.x,lt.y,lt.z,I)}const pt=new ei([[.999432765338654,-.0336771074697641,0],[.0303959428906285,.902057912352809,.430543388542295],[-.0144994559663353,-.430299169409101,.902569881273754]]),ce=[{mu:282489428433814e-21,al:[1.446213296021224,3.5515522861824],a:[[.0028210960212903,0,0]],l:[[-.0001925258348666,4.9369589722645,.01358483658305],[-970803596076e-16,4.3188796477322,.01303413843243],[-8988174165e-14,1.9080016428617,.00305064867158],[-553101050262e-16,1.4936156681569,.01293892891155]],z:[[.0041510849668155,4.089939635545,-.01290686414666],[.0006260521444113,1.446188898627,3.5515522949802],[352747346169e-16,2.1256287034578,.00012727416567]],zeta:[[.0003142172466014,2.7964219722923,-.002315096098],[904169207946e-16,1.0477061879627,-.00056920638196]]},{mu:282483274392893e-21,al:[-.3735263437471362,1.76932271112347],a:[[.0044871037804314,0,0],[4324367498e-16,1.819645606291,1.7822295777568]],l:[[.0008576433172936,4.3188693178264,.01303413830805],[.0004549582875086,1.4936531751079,.01293892881962],[.0003248939825174,1.8196494533458,1.7822295777568],[-.0003074250079334,4.9377037005911,.01358483286724],[.0001982386144784,1.907986905476,.00305101212869],[.0001834063551804,2.1402853388529,.00145009789338],[-.0001434383188452,5.622214036663,.89111478887838],[-771939140944e-16,4.300272437235,2.6733443704266]],z:[[-.0093589104136341,4.0899396509039,-.01290686414666],[.0002988994545555,5.9097265185595,1.7693227079462],[.000213903639035,2.1256289300016,.00012727418407],[.0001980963564781,2.743516829265,.00067797343009],[.0001210388158965,5.5839943711203,320566149e-13],[837042048393e-16,1.6094538368039,-.90402165808846],[823525166369e-16,1.4461887708689,3.5515522949802]],zeta:[[.0040404917832303,1.0477063169425,-.0005692064054],[.0002200421034564,3.3368857864364,-.00012491307307],[.0001662544744719,2.4134862374711,0],[590282470983e-16,5.9719930968366,-3056160225e-14]]},{mu:282498184184723e-21,al:[.2874089391143348,.878207923589328],a:[[.0071566594572575,0,0],[1393029911e-15,1.1586745884981,2.6733443704266]],l:[[.0002310797886226,2.1402987195942,.00145009784384],[-.0001828635964118,4.3188672736968,.01303413828263],[.0001512378778204,4.9373102372298,.01358483481252],[-.0001163720969778,4.300265986149,2.6733443704266],[-955478069846e-16,1.4936612842567,.01293892879857],[815246854464e-16,5.6222137132535,.89111478887838],[-801219679602e-16,1.2995922951532,1.0034433456729],[-607017260182e-16,.64978769669238,.50172167043264]],z:[[.0014289811307319,2.1256295942739,.00012727413029],[.000771093122676,5.5836330003496,320643411e-13],[.0005925911780766,4.0899396636448,-.01290686414666],[.0002045597496146,5.2713683670372,-.12523544076106],[.0001785118648258,.28743156721063,.8782079244252],[.0001131999784893,1.4462127277818,3.5515522949802],[-65877816921e-15,2.2702423990985,-1.7951364394537],[497058888328e-16,5.9096792204858,1.7693227129285]],zeta:[[.0015932721570848,3.3368862796665,-.00012491307058],[.0008533093128905,2.4133881688166,0],[.0003513347911037,5.9720789850127,-3056101771e-14],[-.0001441929255483,1.0477061764435,-.00056920632124]]},{mu:282492144889909e-21,al:[-.3620341291375704,.376486233433828],a:[[.0125879701715314,0,0],[3595204947e-15,.64965776007116,.50172168165034],[27580210652e-16,1.808423578151,3.1750660413359]],l:[[.0005586040123824,2.1404207189815,.00145009793231],[-.0003805813868176,2.7358844897853,2972965062e-14],[.0002205152863262,.649796525964,.5017216724358],[.0001877895151158,1.8084787604005,3.1750660413359],[766916975242e-16,6.2720114319755,1.3928364636651],[747056855106e-16,1.2995916202344,1.0034433456729]],z:[[.0073755808467977,5.5836071576084,3206509914e-14],[.0002065924169942,5.9209831565786,.37648624194703],[.0001589869764021,.28744006242623,.8782079244252],[-.0001561131605348,2.1257397865089,.00012727441285],[.0001486043380971,1.4462134301023,3.5515522949802],[635073108731e-16,5.9096803285954,1.7693227129285],[599351698525e-16,4.1125517584798,-2.7985797954589],[540660842731e-16,5.5390350845569,.00286834082283],[-489596900866e-16,4.6218149483338,-.62695712529519]],zeta:[[.0038422977898495,2.4133922085557,0],[.0022453891791894,5.9721736773277,-3056125525e-14],[-.0002604479450559,3.3368746306409,-.00012491309972],[33211214323e-15,5.5604137742337,.00290037688507]]}];class ne{constructor(j,Y,lt,gt){this.io=j,this.europa=Y,this.ganymede=lt,this.callisto=gt}}a.JupiterMoonsInfo=ne;function Te(I,j,Y){const lt=Y[0],gt=Y[1],At=Y[2],y=Y[3],S=Y[4],x=Y[5],U=Math.sqrt(j/(lt*lt*lt));let Z,K,ht,xt=gt+At*Math.sin(gt)-y*Math.cos(gt);do Z=Math.cos(xt),K=Math.sin(xt),ht=(gt-xt+At*K-y*Z)/(1-At*Z-y*K),xt+=ht;while(Math.abs(ht)>=1e-12);Z=Math.cos(xt),K=Math.sin(xt);const yt=y*Z-At*K,re=-At*Z-y*K,me=1/(1+re),se=Math.sqrt(1-At*At-y*y),Ne=1/(1+se),Ye=lt*(Z-At-Ne*y*yt),$e=lt*(K-y+Ne*At*yt),cr=U*me*lt*(-K-Ne*y*re),Vr=U*me*lt*(+Z+Ne*At*re),Qr=2*Math.sqrt(1-S*S-x*x),Kr=1-2*x*x,$r=1-2*S*S,tr=2*x*S;return new en(Ye*Kr+$e*tr,Ye*tr+$e*$r,(S*$e-Ye*x)*Qr,cr*Kr+Vr*tr,cr*tr+Vr*$r,(S*Vr-cr*x)*Qr,I)}function Yt(I,j){const Y=I.tt+18262.5,lt=[0,j.al[0]+Y*j.al[1],0,0,0,0];for(let[At,y,S]of j.a)lt[0]+=At*Math.cos(y+Y*S);for(let[At,y,S]of j.l)lt[1]+=At*Math.sin(y+Y*S);lt[1]%=u,lt[1]<0&&(lt[1]+=u);for(let[At,y,S]of j.z){const x=y+Y*S;lt[2]+=At*Math.cos(x),lt[3]+=At*Math.sin(x)}for(let[At,y,S]of j.zeta){const x=y+Y*S;lt[4]+=At*Math.cos(x),lt[5]+=At*Math.sin(x)}const gt=Te(I,j.mu,lt);return As(pt,gt)}function pe(I){const j=new $(I);return new ne(Yt(j,ce[0]),Yt(j,ce[1]),Yt(j,ce[2]),Yt(j,ce[3]))}a.JupiterMoons=pe;function ze(I,j){var Y=dt(j);if(I in $t)return $o($t[I],Y);if(I===ft.Pluto){const At=Xt(Y,!0);return new Tn(At.x,At.y,At.z,Y)}if(I===ft.Sun)return new Tn(0,0,0,Y);if(I===ft.Moon){var lt=$o($t.Earth,Y),gt=Qo(Y);return new Tn(lt.x+gt.x,lt.y+gt.y,lt.z+gt.z,Y)}if(I===ft.EMB){const At=$o($t.Earth,Y),y=Qo(Y),S=1+ye;return new Tn(At.x+y.x/S,At.y+y.y/S,At.z+y.z/S,Y)}if(I===ft.SSB)return pn(Y);throw`HelioVector: Unknown body "${I}"`}a.HelioVector=ze;function sr(I,j){const Y=dt(j);return I in $t?jo($t[I][yu],Y.tt/ks,!1):ze(I,Y).Length()}a.HelioDistance=sr;function Tr(I,j,Y){Ur(Y);const lt=dt(j);if(I===ft.Moon)return Qo(lt);if(I===ft.Earth)return new Tn(0,0,0,lt);let gt=null,At,y,S=0,x=lt;for(let U=0;U<10;++U){At=ze(I,x),Y?gt=$o($t.Earth,x):gt||(gt=$o($t.Earth,lt)),y=new Tn(At.x-gt.x,At.y-gt.y,At.z-gt.z,lt);let Z=lt.AddDays(-y.Length()/a.C_AUDAY);if(S=Math.abs(Z.tt-x.tt),S<1e-9)return y;x=Z}throw`Light-travel time solver did not converge: dt=${S}`}a.GeoVector=Tr;function Zr(I,j){return new en(I.r.x,I.r.y,I.r.z,I.v.x,I.v.y,I.v.z,j)}function pr(I,j){const Y=dt(j);if(I===ft.SSB)return new en(0,0,0,0,0,0,Y);if(I===ft.Pluto)return Xt(Y,!1);const lt=new O(Y.tt);switch(I){case ft.Sun:return Zr(lt.Sun,Y);case ft.Jupiter:return Zr(lt.Jupiter,Y);case ft.Saturn:return Zr(lt.Saturn,Y);case ft.Uranus:return Zr(lt.Uranus,Y);case ft.Neptune:return Zr(lt.Neptune,Y);case ft.Moon:case ft.EMB:const gt=go($t[ft.Earth],Y.tt),At=I===ft.Moon?_o(Y):mu(Y);return new en(At.x+lt.Sun.r.x+gt.r.x,At.y+lt.Sun.r.y+gt.r.y,At.z+lt.Sun.r.z+gt.r.z,At.vx+lt.Sun.v.x+gt.v.x,At.vy+lt.Sun.v.y+gt.v.y,At.vz+lt.Sun.v.z+gt.v.z,Y)}if(I in $t){const gt=go($t[I],Y.tt);return new en(lt.Sun.r.x+gt.r.x,lt.Sun.r.y+gt.r.y,lt.Sun.r.z+gt.r.z,lt.Sun.v.x+gt.v.x,lt.Sun.v.y+gt.v.y,lt.Sun.v.z+gt.v.z,Y)}throw`BaryState: Unsupported body "${I}"`}a.BaryState=pr;function je(I,j){const Y=dt(j);switch(I){case ft.Sun:return new en(0,0,0,0,0,0,Y);case ft.SSB:const lt=new O(Y.tt);return new en(-lt.Sun.r.x,-lt.Sun.r.y,-lt.Sun.r.z,-lt.Sun.v.x,-lt.Sun.v.y,-lt.Sun.v.z,Y);case ft.Mercury:case ft.Venus:case ft.Earth:case ft.Mars:case ft.Jupiter:case ft.Saturn:case ft.Uranus:case ft.Neptune:const gt=go($t[I],Y.tt);return Zr(gt,Y);case ft.Pluto:return Xt(Y,!0);case ft.Moon:case ft.EMB:const At=go($t.Earth,Y.tt),y=I==ft.Moon?_o(Y):mu(Y);return new en(y.x+At.r.x,y.y+At.r.y,y.z+At.r.z,y.vx+At.v.x,y.vy+At.v.y,y.vz+At.v.z,Y);default:throw`HelioState: Unsupported body "${I}"`}}a.HelioState=je;function Rr(I,j,Y,lt,gt){let At=(gt+Y)/2-lt,y=(gt-Y)/2,S=lt,x;if(At==0){if(y==0||(x=-S/y,x<-1||x>1))return null}else{let K=y*y-4*At*S;if(K<=0)return null;let ht=Math.sqrt(K),xt=(-y+ht)/(2*At),yt=(-y-ht)/(2*At);if(-1<=xt&&xt<=1){if(-1<=yt&&yt<=1)return null;x=xt}else if(-1<=yt&&yt<=1)x=yt;else return null}let U=I+x*j,Z=(2*At*x+y)/j;return{x,t:U,df_dt:Z}}function vr(I,j,Y,lt){const gt=Vt(lt&&lt.dt_tolerance_seconds||1),At=Math.abs(gt/z);let y=lt&&lt.init_f1||I(j),S=lt&&lt.init_f2||I(Y),x=NaN,U=0,Z=lt&&lt.iter_limit||20,K=!0;for(;;){if(++U>Z)throw"Excessive iteration in Search()";let ht=Q(j,Y,.5),xt=ht.ut-j.ut;if(Math.abs(xt)<At)return ht;K?x=I(ht):K=!0;let yt=Rr(ht.ut,Y.ut-ht.ut,y,x,S);if(yt){let re=dt(yt.t),me=I(re);if(yt.df_dt!==0){if(Math.abs(me/yt.df_dt)<At)return re;let se=1.2*Math.abs(me/yt.df_dt);if(se<xt/10){let Ne=re.AddDays(-se),Ye=re.AddDays(+se);if((Ne.ut-j.ut)*(Ne.ut-Y.ut)<0&&(Ye.ut-j.ut)*(Ye.ut-Y.ut)<0){let $e=I(Ne),cr=I(Ye);if($e<0&&cr>=0){y=$e,S=cr,j=Ne,Y=Ye,x=me,K=!1;continue}}}}}if(y<0&&x>=0){Y=ht,S=x;continue}if(x<0&&S>=0){j=ht,y=x;continue}return null}}a.Search=vr;function Zt(I){let j=I;for(;j<=-180;)j+=360;for(;j>180;)j-=360;return j}function Jt(I){for(;I<0;)I+=360;for(;I>=360;)I-=360;return I}function Le(I,j,Y){function lt(y){let S=Xu(y);return Zt(S.elon-I)}Vt(I),Vt(Y);let gt=dt(j),At=gt.AddDays(Y);return vr(lt,gt,At,{dt_tolerance_seconds:.01})}a.SearchSunLongitude=Le;function xe(I,j,Y){if(I===ft.Earth||j===ft.Earth)throw"The Earth does not have a longitude as seen from itself.";const lt=dt(Y),gt=Tr(I,lt,!1),At=Fa(gt),y=Tr(j,lt,!1),S=Fa(y);return Jt(At.elon-S.elon)}a.PairLongitude=xe;function yr(I,j){if(I==ft.Earth)throw"The Earth does not have an angle as seen from itself.";const Y=dt(j),lt=Tr(ft.Sun,Y,!0),gt=Tr(I,Y,!0);return Tt(lt,gt)}a.AngleFromSun=yr;function dr(I,j){if(I===ft.Sun)throw"Cannot calculate heliocentric longitude of the Sun.";const Y=ze(I,j);return Fa(Y).elon}a.EclipticLongitude=dr;function Lr(I,j,Y,lt){let gt,At=0,y=0,S=0;switch(I){case ft.Mercury:gt=-.6,At=4.98,y=-4.88,S=3.02;break;case ft.Venus:j<163.6?(gt=-4.47,At=1.03,y=.57,S=.13):(gt=.98,At=-1.02);break;case ft.Mars:gt=-1.52,At=1.6;break;case ft.Jupiter:gt=-9.4,At=.5;break;case ft.Uranus:gt=-7.19,At=.25;break;case ft.Neptune:gt=-6.87;break;case ft.Pluto:gt=-1,At=4;break;default:throw`VisualMagnitude: unsupported body ${I}`}const x=j/100;let U=gt+x*(At+x*(y+x*S));return U+=5*Math.log10(Y*lt),U}function nr(I,j,Y,lt,gt){const At=Fa(lt),y=a.DEG2RAD*28.06,S=a.DEG2RAD*(169.51+382e-7*gt.tt),x=a.DEG2RAD*At.elat,U=a.DEG2RAD*At.elon,Z=Math.asin(Math.sin(x)*Math.cos(y)-Math.cos(x)*Math.sin(y)*Math.sin(U-S)),K=Math.sin(Math.abs(Z));let ht=-9+.044*I;return ht+=K*(-2.6+1.2*K),ht+=5*Math.log10(j*Y),{mag:ht,ring_tilt:a.RAD2DEG*Z}}function ur(I,j,Y){let lt=I*a.DEG2RAD,gt=lt*lt,At=gt*gt,y=-12.717+1.49*Math.abs(lt)+.0431*At;const S=385000.6/a.KM_PER_AU;let x=Y/S;return y+=5*Math.log10(j*x),y}class Or{constructor(j,Y,lt,gt,At,y,S,x){this.time=j,this.mag=Y,this.phase_angle=lt,this.helio_dist=gt,this.geo_dist=At,this.gc=y,this.hc=S,this.ring_tilt=x,this.phase_fraction=(1+Math.cos(a.DEG2RAD*lt))/2}}a.IlluminationInfo=Or;function xn(I,j){if(I===ft.Earth)throw"The illumination of the Earth is not defined.";const Y=dt(j),lt=$o($t.Earth,Y);let gt,At,y,S;I===ft.Sun?(y=new Tn(-lt.x,-lt.y,-lt.z,Y),At=new Tn(0,0,0,Y),gt=0):(I===ft.Moon?(y=Qo(Y),At=new Tn(lt.x+y.x,lt.y+y.y,lt.z+y.z,Y)):(At=ze(I,j),y=new Tn(At.x-lt.x,At.y-lt.y,At.z-lt.z,Y)),gt=Tt(y,At));let x=y.Length(),U=At.Length(),Z;if(I===ft.Sun)S=k+5*Math.log10(x);else if(I===ft.Moon)S=ur(gt,U,x);else if(I===ft.Saturn){const K=nr(gt,U,x,y,Y);S=K.mag,Z=K.ring_tilt}else S=Lr(I,gt,U,x);return new Or(Y,S,gt,U,x,y,At,Z)}a.Illumination=xn;function It(I){if(I===ft.Earth)throw"The Earth does not have a synodic period as seen from itself.";if(I===ft.Moon)return C;let j=Qt[I];if(!j)throw`Not a valid planet name: ${I}`;const Y=Qt.Earth.OrbitalPeriod,lt=j.OrbitalPeriod;return Math.abs(Y/(Y/lt-1))}function oe(I,j,Y){Vt(j);const lt=Qt[I];if(!lt)throw`Cannot search relative longitude because body is not a planet: ${I}`;if(I===ft.Earth)throw"Cannot search relative longitude for the Earth (it is always 0)";const gt=lt.OrbitalPeriod>Qt.Earth.OrbitalPeriod?1:-1;function At(U){const Z=dr(I,U),K=dr(ft.Earth,U),ht=gt*(K-Z);return Zt(ht-j)}let y=It(I),S=dt(Y),x=At(S);x>0&&(x-=360);for(let U=0;U<100;++U){let Z=-x/360*y;if(S=S.AddDays(Z),Math.abs(Z)*z<1)return S;let K=x;if(x=At(S),Math.abs(K)<30&&K!==x){let ht=K/(K-x);ht>.5&&ht<2&&(y*=ht)}}throw`Relative longitude search failed to converge for ${I} near ${S.toString()} (error_angle = ${x}).`}a.SearchRelativeLongitude=oe;function ge(I){return xe(ft.Moon,ft.Sun,I)}a.MoonPhase=ge;function Ce(I,j,Y){function lt(ht){let xt=ge(ht);return Zt(xt-I)}Vt(I),Vt(Y);const gt=1.5;let At=dt(j),y=lt(At);y>0&&(y-=360);let S=-(C*y)/360,x=S-gt;if(x>Y)return null;let U=Math.min(Y,S+gt),Z=At.AddDays(x),K=At.AddDays(U);return vr(lt,Z,K)}a.SearchMoonPhase=Ce;class Ge{constructor(j,Y){this.quarter=j,this.time=Y}}a.MoonQuarter=Ge;function qe(I){let j=ge(I),lt=(Math.floor(j/90)+1)%4,gt=Ce(90*lt,I,10);if(!gt)throw"Cannot find moon quarter";return new Ge(lt,gt)}a.SearchMoonQuarter=qe;function ir(I){let j=new Date(I.time.date.getTime()+6*it);return qe(j)}a.NextMoonQuarter=ir;function rr(I){switch(I){case ft.Sun:return J;case ft.Moon:return Wt;default:return 0}}function Jr(I,j,Y,lt,gt){let At=rr(I);function y(S){const x=qo(I,S,j,!0,!0),Z=Ja(S,j,x.ra,x.dec).altitude+a.RAD2DEG*(At/x.dist)+le;return Y*Z}return hn(I,j,Y,lt,gt,y)}a.SearchRiseSet=Jr;function Yr(I,j,Y,lt,gt,At){if(!Number.isFinite(At)||At<-90||At>90)throw`Invalid altitude angle: ${At}`;function y(S){const x=qo(I,S,j,!0,!0),U=Ja(S,j,x.ra,x.dec);return Y*(U.altitude-At)}return hn(I,j,Y,lt,gt,y)}a.SearchAltitude=Yr;function hn(I,j,Y,lt,gt,At){if(_a(j),Vt(gt),gt<=0)throw`Invalid value for limitDays: ${gt}`;if(I===ft.Earth)throw"Cannot find altitude event for the Earth.";let y,S;if(Y===1)y=12,S=0;else if(Y===-1)y=0,S=12;else throw`Invalid direction parameter ${Y} -- must be +1 or -1`;let x=dt(lt),U,Z,K,ht=At(x),xt;for(ht>0?(Z=Vn(I,j,y,x),U=Z.time,ht=At(U)):U=x,K=Vn(I,j,S,U),xt=At(K.time);;){if(ht<=0&&xt>0){let yt=vr(At,U,K.time,{init_f1:ht,init_f2:xt});if(yt)return yt}if(Z=Vn(I,j,y,K.time),K=Vn(I,j,S,Z.time),Z.time.ut>=x.ut+gt)return null;U=Z.time,ht=At(Z.time),xt=At(K.time)}}class On{constructor(j,Y){this.time=j,this.hor=Y}}a.HourAngleEvent=On;function Vn(I,j,Y,lt){_a(j);let gt=dt(lt),At=0;if(I===ft.Earth)throw"Cannot search for hour angle of the Earth.";if(Vt(Y),Y<0||Y>=24)throw`Invalid hour angle ${Y}`;for(;;){++At;let y=zn(gt),S=qo(I,gt,j,!0,!0),x=(Y+S.ra-j.longitude/15-y)%24;if(At===1?x<0&&(x+=24):x<-12?x+=24:x>12&&(x-=24),Math.abs(x)*3600<.1){const Z=Ja(gt,j,S.ra,S.dec,"normal");return new On(gt,Z)}let U=x/24*q;gt=gt.AddDays(U)}}a.SearchHourAngle=Vn;class mr{constructor(j,Y,lt,gt){this.mar_equinox=j,this.jun_solstice=Y,this.sep_equinox=lt,this.dec_solstice=gt}}a.SeasonInfo=mr;function fe(I){function j(y,S,x){let U=new Date(Date.UTC(I,S-1,x)),Z=Le(y,U,20);if(!Z)throw`Cannot find season change near ${U.toISOString()}`;return Z}if(I instanceof Date&&Number.isFinite(I.getTime())&&(I=I.getUTCFullYear()),!Number.isSafeInteger(I))throw`Cannot calculate seasons because year argument ${I} is neither a Date nor a safe integer.`;let Y=j(0,3,10),lt=j(90,6,10),gt=j(180,9,10),At=j(270,12,10);return new mr(Y,lt,gt,At)}a.Seasons=fe;class ci{constructor(j,Y,lt,gt){this.time=j,this.visibility=Y,this.elongation=lt,this.ecliptic_separation=gt}}a.ElongationEvent=ci;function An(I,j){let Y=dt(j),lt=xe(I,ft.Sun,Y),gt;lt>180?(gt="morning",lt=360-lt):gt="evening";let At=yr(I,Y);return new ci(Y,gt,At,lt)}a.Elongation=An;function zr(I,j){function lt(x){const U=x.AddDays(-.005),Z=x.AddDays(.01/2);let K=yr(I,U),ht=yr(I,Z);return(K-ht)/.01}let gt=dt(j);const y={Mercury:{s1:50,s2:85},Venus:{s1:40,s2:50}}[I];if(!y)throw"SearchMaxElongation works for Mercury and Venus only.";let S=0;for(;++S<=2;){let x=dr(I,gt),U=dr(ft.Earth,gt),Z=Zt(x-U),K,ht,xt;Z>=-y.s1&&Z<+y.s1?(xt=0,K=+y.s1,ht=+y.s2):Z>=+y.s2||Z<-y.s2?(xt=0,K=-y.s2,ht=-y.s1):Z>=0?(xt=-It(I)/4,K=+y.s1,ht=+y.s2):(xt=-It(I)/4,K=-y.s2,ht=-y.s1);let yt=gt.AddDays(xt),re=oe(I,K,yt),me=oe(I,ht,re),se=lt(re);if(se>=0)throw`SearchMaxElongation: internal error: m1 = ${se}`;let Ne=lt(me);if(Ne<=0)throw`SearchMaxElongation: internal error: m2 = ${Ne}`;let Ye=vr(lt,re,me,{init_f1:se,init_f2:Ne,dt_tolerance_seconds:10});if(!Ye)throw`SearchMaxElongation: failed search iter ${S} (t1=${re.toString()}, t2=${me.toString()})`;if(Ye.tt>=gt.tt)return An(I,Ye);gt=me.AddDays(1)}throw"SearchMaxElongation: failed to find event after 2 tries."}a.SearchMaxElongation=zr;function nn(I,j){if(I!==ft.Venus)throw"SearchPeakMagnitude currently works for Venus only.";const Y=.01;function lt(x){const U=x.AddDays(-Y/2),Z=x.AddDays(+Y/2),K=xn(I,U).mag;return(xn(I,Z).mag-K)/Y}let gt=dt(j);const At=10,y=30;let S=0;for(;++S<=2;){let x=dr(I,gt),U=dr(ft.Earth,gt),Z=Zt(x-U),K,ht,xt;Z>=-At&&Z<+At?(xt=0,K=+At,ht=+y):Z>=+y||Z<-y?(xt=0,K=-y,ht=-At):Z>=0?(xt=-It(I)/4,K=+At,ht=+y):(xt=-It(I)/4,K=-y,ht=-At);let yt=gt.AddDays(xt),re=oe(I,K,yt),me=oe(I,ht,re),se=lt(re);if(se>=0)throw`SearchPeakMagnitude: internal error: m1 = ${se}`;let Ne=lt(me);if(Ne<=0)throw`SearchPeakMagnitude: internal error: m2 = ${Ne}`;let Ye=vr(lt,re,me,{init_f1:se,init_f2:Ne,dt_tolerance_seconds:10});if(!Ye)throw`SearchPeakMagnitude: failed search iter ${S} (t1=${re.toString()}, t2=${me.toString()})`;if(Ye.tt>=gt.tt)return xn(I,Ye);gt=me.AddDays(1)}throw"SearchPeakMagnitude: failed to find event after 2 tries."}a.SearchPeakMagnitude=nn;var sn;(function(I){I[I.Pericenter=0]="Pericenter",I[I.Apocenter=1]="Apocenter"})(sn=a.ApsisKind||(a.ApsisKind={}));class an{constructor(j,Y,lt){this.time=j,this.kind=Y,this.dist_au=lt,this.dist_km=lt*a.KM_PER_AU}}a.Apsis=an;function Bn(I){function Y(x){let U=x.AddDays(-5e-4),Z=x.AddDays(.001/2),K=Fn(U).distance_au;return(Fn(Z).distance_au-K)/.001}function lt(x){return-Y(x)}let gt=dt(I),At=Y(gt);const y=5;for(var S=0;S*y<2*C;++S){let x=gt.AddDays(y),U=Y(x);if(At*U<=0){if(At<0||U>0){let Z=vr(Y,gt,x,{init_f1:At,init_f2:U});if(!Z)throw"SearchLunarApsis INTERNAL ERROR: perigee search failed!";let K=Fn(Z).distance_au;return new an(Z,0,K)}if(At>0||U<0){let Z=vr(lt,gt,x,{init_f1:-At,init_f2:-U});if(!Z)throw"SearchLunarApsis INTERNAL ERROR: apogee search failed!";let K=Fn(Z).distance_au;return new an(Z,1,K)}throw"SearchLunarApsis INTERNAL ERROR: cannot classify apsis event!"}gt=x,At=U}throw"SearchLunarApsis INTERNAL ERROR: could not find apsis within 2 synodic months of start date."}a.SearchLunarApsis=Bn;function di(I){let Y=Bn(I.time.AddDays(11));if(Y.kind+I.kind!==1)throw`NextLunarApsis INTERNAL ERROR: did not find alternating apogee/perigee: prev=${I.kind} @ ${I.time.toString()}, next=${Y.kind} @ ${Y.time.toString()}`;return Y}a.NextLunarApsis=di;function ai(I,j,Y,lt){const gt=j===sn.Apocenter?1:-1,At=10;for(;;){const y=lt/(At-1);if(y<1/1440){const U=Y.AddDays(y/2),Z=sr(I,U);return new an(U,j,Z)}let S=-1,x=0;for(let U=0;U<At;++U){const Z=Y.AddDays(U*y),K=gt*sr(I,Z);(U==0||K>x)&&(S=U,x=K)}Y=Y.AddDays((S-1)*y),lt=2*y}}function wi(I,j){const lt=j.AddDays(Qt[I].OrbitalPeriod*-.08333333333333333),gt=j.AddDays(Qt[I].OrbitalPeriod*(270/360));let At=lt,y=lt,S=-1,x=-1;const U=(gt.ut-lt.ut)/(100-1);for(let ht=0;ht<100;++ht){const xt=lt.AddDays(ht*U),yt=sr(I,xt);ht===0?x=S=yt:(yt>x&&(x=yt,y=xt),yt<S&&(S=yt,At=xt))}const Z=ai(I,0,At.AddDays(-2*U),4*U),K=ai(I,1,y.AddDays(-2*U),4*U);if(Z.time.tt>=j.tt)return K.time.tt>=j.tt&&K.time.tt<Z.time.tt?K:Z;if(K.time.tt>=j.tt)return K;throw"Internal error: failed to find Neptune apsis."}function zi(I,j){if(j=dt(j),I===ft.Neptune||I===ft.Pluto)return wi(I,j);function Y(x){let Z=x.AddDays(-5e-4),K=x.AddDays(.001/2),ht=sr(I,Z);return(sr(I,K)-ht)/.001}function lt(x){return-Y(x)}const gt=Qt[I].OrbitalPeriod,At=gt/6;let y=j,S=Y(y);for(let x=0;x*At<2*gt;++x){const U=y.AddDays(At),Z=Y(U);if(S*Z<=0){let K,ht;if(S<0||Z>0)K=Y,ht=sn.Pericenter;else if(S>0||Z<0)K=lt,ht=sn.Apocenter;else throw"Internal error with slopes in SearchPlanetApsis";const xt=vr(K,y,U);if(!xt)throw"Failed to find slope transition in planetary apsis search.";const yt=sr(I,xt);return new an(xt,ht,yt)}y=U,S=Z}throw"Internal error: should have found planetary apsis within 2 orbital periods."}a.SearchPlanetApsis=zi;function ri(I,j){if(j.kind!==sn.Pericenter&&j.kind!==sn.Apocenter)throw`Invalid apsis kind: ${j.kind}`;const Y=.25*Qt[I].OrbitalPeriod,lt=j.time.AddDays(Y),gt=zi(I,lt);if(gt.kind+j.kind!==1)throw`Internal error: previous apsis was ${j.kind}, but found ${gt.kind} for next apsis.`;return gt}a.NextPlanetApsis=ri;function Wn(I){return new ei([[I.rot[0][0],I.rot[1][0],I.rot[2][0]],[I.rot[0][1],I.rot[1][1],I.rot[2][1]],[I.rot[0][2],I.rot[1][2],I.rot[2][2]]])}a.InverseRotation=Wn;function yi(I,j){return new ei([[j.rot[0][0]*I.rot[0][0]+j.rot[1][0]*I.rot[0][1]+j.rot[2][0]*I.rot[0][2],j.rot[0][1]*I.rot[0][0]+j.rot[1][1]*I.rot[0][1]+j.rot[2][1]*I.rot[0][2],j.rot[0][2]*I.rot[0][0]+j.rot[1][2]*I.rot[0][1]+j.rot[2][2]*I.rot[0][2]],[j.rot[0][0]*I.rot[1][0]+j.rot[1][0]*I.rot[1][1]+j.rot[2][0]*I.rot[1][2],j.rot[0][1]*I.rot[1][0]+j.rot[1][1]*I.rot[1][1]+j.rot[2][1]*I.rot[1][2],j.rot[0][2]*I.rot[1][0]+j.rot[1][2]*I.rot[1][1]+j.rot[2][2]*I.rot[1][2]],[j.rot[0][0]*I.rot[2][0]+j.rot[1][0]*I.rot[2][1]+j.rot[2][0]*I.rot[2][2],j.rot[0][1]*I.rot[2][0]+j.rot[1][1]*I.rot[2][1]+j.rot[2][1]*I.rot[2][2],j.rot[0][2]*I.rot[2][0]+j.rot[1][2]*I.rot[2][1]+j.rot[2][2]*I.rot[2][2]]])}a.CombineRotation=yi;function vn(){return new ei([[1,0,0],[0,1,0],[0,0,1]])}a.IdentityMatrix=vn;function Da(I,j,Y){if(j!==0&&j!==1&&j!==2)throw`Invalid axis ${j}. Must be [0, 1, 2].`;const lt=Vt(Y)*a.DEG2RAD,gt=Math.cos(lt),At=Math.sin(lt),y=(j+1)%3,S=(j+2)%3,x=j;let U=[[0,0,0],[0,0,0],[0,0,0]];return U[y][y]=gt*I.rot[y][y]-At*I.rot[y][S],U[y][S]=At*I.rot[y][y]+gt*I.rot[y][S],U[y][x]=I.rot[y][x],U[S][y]=gt*I.rot[S][y]-At*I.rot[S][S],U[S][S]=At*I.rot[S][y]+gt*I.rot[S][S],U[S][x]=I.rot[S][x],U[x][y]=gt*I.rot[x][y]-At*I.rot[x][S],U[x][S]=At*I.rot[x][y]+gt*I.rot[x][S],U[x][x]=I.rot[x][x],new ei(U)}a.Pivot=Da;function Dn(I,j){j=dt(j);const Y=I.lat*a.DEG2RAD,lt=I.lon*a.DEG2RAD,gt=I.dist*Math.cos(Y);return new Tn(gt*Math.cos(lt),gt*Math.sin(lt),I.dist*Math.sin(Y),j)}a.VectorFromSphere=Dn;function ha(I){const j=Vi(I);return new Io(j.lon/15,j.lat,j.dist,I)}a.EquatorFromVector=ha;function Vi(I){const j=I.x*I.x+I.y*I.y,Y=Math.sqrt(j+I.z*I.z);let lt,gt;if(j===0){if(I.z===0)throw"Zero-length vector not allowed.";gt=0,lt=I.z<0?-90:90}else gt=a.RAD2DEG*Math.atan2(I.y,I.x),gt<0&&(gt+=360),lt=a.RAD2DEG*Math.atan2(I.z,Math.sqrt(j));return new Ti(lt,gt,Y)}a.SphereFromVector=Vi;function Eo(I){return I=360-I,I>=360?I-=360:I<0&&(I+=360),I}function bs(I,j){const Y=Vi(I);return Y.lon=Eo(Y.lon),Y.lat+=ds(j,Y.lat),Y}a.HorizonFromVector=bs;function Wi(I,j,Y){j=dt(j);const lt=Eo(I.lon),gt=I.lat+Go(Y,I.lat),At=new Ti(gt,lt,I.dist);return Dn(At,j)}a.VectorFromHorizon=Wi;function ds(I,j){let Y;if(Vt(j),j<-90||j>90)return 0;if(I==="normal"||I==="jplhor"){let lt=j;lt<-1&&(lt=-1),Y=1.02/Math.tan((lt+10.3/(lt+5.11))*a.DEG2RAD)/60,I==="normal"&&j<-1&&(Y*=(j+90)/89)}else if(!I)Y=0;else throw`Invalid refraction option: ${I}`;return Y}a.Refraction=ds;function Go(I,j){if(j<-90||j>90)return 0;let Y=j-ds(I,j);for(;;){let lt=Y+ds(I,Y)-j;if(Math.abs(lt)<1e-14)return Y-j;Y-=lt}}a.InverseRefraction=Go;function Ea(I,j){return new Tn(I.rot[0][0]*j.x+I.rot[1][0]*j.y+I.rot[2][0]*j.z,I.rot[0][1]*j.x+I.rot[1][1]*j.y+I.rot[2][1]*j.z,I.rot[0][2]*j.x+I.rot[1][2]*j.y+I.rot[2][2]*j.z,j.t)}a.RotateVector=Ea;function As(I,j){return new en(I.rot[0][0]*j.x+I.rot[1][0]*j.y+I.rot[2][0]*j.z,I.rot[0][1]*j.x+I.rot[1][1]*j.y+I.rot[2][1]*j.z,I.rot[0][2]*j.x+I.rot[1][2]*j.y+I.rot[2][2]*j.z,I.rot[0][0]*j.vx+I.rot[1][0]*j.vy+I.rot[2][0]*j.vz,I.rot[0][1]*j.vx+I.rot[1][1]*j.vy+I.rot[2][1]*j.vz,I.rot[0][2]*j.vx+I.rot[1][2]*j.vy+I.rot[2][2]*j.vz,j.t)}a.RotateState=As;function So(){const I=.9174821430670688,j=.3977769691083922;return new ei([[1,0,0],[0,+I,-j],[0,+j,+I]])}a.Rotation_EQJ_ECL=So;function Yn(){const I=.9174821430670688,j=.3977769691083922;return new ei([[1,0,0],[0,+I,+j],[0,-j,+I]])}a.Rotation_ECL_EQJ=Yn;function gn(I){I=dt(I);const j=Li(I,Rt.From2000),Y=rn(I,Rt.From2000);return yi(j,Y)}a.Rotation_EQJ_EQD=gn;function ta(I){I=dt(I);const j=rn(I,Rt.Into2000),Y=Li(I,Rt.Into2000);return yi(j,Y)}a.Rotation_EQD_EQJ=ta;function oa(I,j){I=dt(I);const Y=Math.sin(j.latitude*a.DEG2RAD),lt=Math.cos(j.latitude*a.DEG2RAD),gt=Math.sin(j.longitude*a.DEG2RAD),At=Math.cos(j.longitude*a.DEG2RAD),y=[lt*At,lt*gt,Y],S=[-Y*At,-Y*gt,lt],x=[gt,-At,0],U=-15*zn(I),Z=Za(U,y),K=Za(U,S),ht=Za(U,x);return new ei([[K[0],ht[0],Z[0]],[K[1],ht[1],Z[1]],[K[2],ht[2],Z[2]]])}a.Rotation_EQD_HOR=oa;function zs(I,j){const Y=oa(I,j);return Wn(Y)}a.Rotation_HOR_EQD=zs;function ps(I,j){I=dt(I);const Y=zs(I,j),lt=ta(I);return yi(Y,lt)}a.Rotation_HOR_EQJ=ps;function Un(I,j){const Y=ps(I,j);return Wn(Y)}a.Rotation_EQJ_HOR=Un;function $i(I){const j=ta(I),Y=So();return yi(j,Y)}a.Rotation_EQD_ECL=$i;function ts(I){const j=$i(I);return Wn(j)}a.Rotation_ECL_EQD=ts;function ja(I,j){I=dt(I);const Y=ts(I),lt=oa(I,j);return yi(Y,lt)}a.Rotation_ECL_HOR=ja;function da(I,j){const Y=ja(I,j);return Wn(Y)}a.Rotation_HOR_ECL=da;function cn(){return new ei([[-.0548624779711344,.4941095946388765,-.8676668813529025],[-.8734572784246782,-.4447938112296831,-.1980677870294097],[-.483800052994852,.7470034631630423,.4559861124470794]])}a.Rotation_EQJ_GAL=cn;function is(){return new ei([[-.0548624779711344,-.8734572784246782,-.483800052994852],[.4941095946388765,-.4447938112296831,.7470034631630423],[-.8676668813529025,-.1980677870294097,.4559861124470794]])}a.Rotation_GAL_EQJ=is;const _u=[["And","Andromeda"],["Ant","Antila"],["Aps","Apus"],["Aql","Aquila"],["Aqr","Aquarius"],["Ara","Ara"],["Ari","Aries"],["Aur","Auriga"],["Boo","Bootes"],["Cae","Caelum"],["Cam","Camelopardis"],["Cap","Capricornus"],["Car","Carina"],["Cas","Cassiopeia"],["Cen","Centaurus"],["Cep","Cepheus"],["Cet","Cetus"],["Cha","Chamaeleon"],["Cir","Circinus"],["CMa","Canis Major"],["CMi","Canis Minor"],["Cnc","Cancer"],["Col","Columba"],["Com","Coma Berenices"],["CrA","Corona Australis"],["CrB","Corona Borealis"],["Crt","Crater"],["Cru","Crux"],["Crv","Corvus"],["CVn","Canes Venatici"],["Cyg","Cygnus"],["Del","Delphinus"],["Dor","Dorado"],["Dra","Draco"],["Equ","Equuleus"],["Eri","Eridanus"],["For","Fornax"],["Gem","Gemini"],["Gru","Grus"],["Her","Hercules"],["Hor","Horologium"],["Hya","Hydra"],["Hyi","Hydrus"],["Ind","Indus"],["Lac","Lacerta"],["Leo","Leo"],["Lep","Lepus"],["Lib","Libra"],["LMi","Leo Minor"],["Lup","Lupus"],["Lyn","Lynx"],["Lyr","Lyra"],["Men","Mensa"],["Mic","Microscopium"],["Mon","Monoceros"],["Mus","Musca"],["Nor","Norma"],["Oct","Octans"],["Oph","Ophiuchus"],["Ori","Orion"],["Pav","Pavo"],["Peg","Pegasus"],["Per","Perseus"],["Phe","Phoenix"],["Pic","Pictor"],["PsA","Pisces Austrinus"],["Psc","Pisces"],["Pup","Puppis"],["Pyx","Pyxis"],["Ret","Reticulum"],["Scl","Sculptor"],["Sco","Scorpius"],["Sct","Scutum"],["Ser","Serpens"],["Sex","Sextans"],["Sge","Sagitta"],["Sgr","Sagittarius"],["Tau","Taurus"],["Tel","Telescopium"],["TrA","Triangulum Australe"],["Tri","Triangulum"],["Tuc","Tucana"],["UMa","Ursa Major"],["UMi","Ursa Minor"],["Vel","Vela"],["Vir","Virgo"],["Vol","Volans"],["Vul","Vulpecula"]],xl=[[83,0,8640,2112],[83,2880,5220,2076],[83,7560,8280,2068],[83,6480,7560,2064],[15,0,2880,2040],[10,3300,3840,1968],[15,0,1800,1920],[10,3840,5220,1920],[83,6300,6480,1920],[33,7260,7560,1920],[15,0,1263,1848],[10,4140,4890,1848],[83,5952,6300,1800],[15,7260,7440,1800],[10,2868,3300,1764],[33,3300,4080,1764],[83,4680,5952,1680],[13,1116,1230,1632],[33,7350,7440,1608],[33,4080,4320,1596],[15,0,120,1584],[83,5040,5640,1584],[15,8490,8640,1584],[33,4320,4860,1536],[33,4860,5190,1512],[15,8340,8490,1512],[10,2196,2520,1488],[33,7200,7350,1476],[15,7393.2,7416,1462],[10,2520,2868,1440],[82,2868,3030,1440],[33,7116,7200,1428],[15,7200,7393.2,1428],[15,8232,8340,1418],[13,0,876,1404],[33,6990,7116,1392],[13,612,687,1380],[13,876,1116,1368],[10,1116,1140,1368],[15,8034,8232,1350],[10,1800,2196,1344],[82,5052,5190,1332],[33,5190,6990,1332],[10,1140,1200,1320],[15,7968,8034,1320],[15,7416,7908,1316],[13,0,612,1296],[50,2196,2340,1296],[82,4350,4860,1272],[33,5490,5670,1272],[15,7908,7968,1266],[10,1200,1800,1260],[13,8232,8400,1260],[33,5670,6120,1236],[62,735,906,1212],[33,6120,6564,1212],[13,0,492,1200],[62,492,600,1200],[50,2340,2448,1200],[13,8400,8640,1200],[82,4860,5052,1164],[13,0,402,1152],[13,8490,8640,1152],[39,6543,6564,1140],[33,6564,6870,1140],[30,6870,6900,1140],[62,600,735,1128],[82,3030,3300,1128],[13,60,312,1104],[82,4320,4350,1080],[50,2448,2652,1068],[30,7887,7908,1056],[30,7875,7887,1050],[30,6900,6984,1044],[82,3300,3660,1008],[82,3660,3882,960],[8,5556,5670,960],[39,5670,5880,960],[50,3330,3450,954],[0,0,906,882],[62,906,924,882],[51,6969,6984,876],[62,1620,1689,864],[30,7824,7875,864],[44,7875,7920,864],[7,2352,2652,852],[50,2652,2790,852],[0,0,720,840],[44,7920,8214,840],[44,8214,8232,828],[0,8232,8460,828],[62,924,978,816],[82,3882,3960,816],[29,4320,4440,816],[50,2790,3330,804],[48,3330,3558,804],[0,258,507,792],[8,5466,5556,792],[0,8460,8550,770],[29,4440,4770,768],[0,8550,8640,752],[29,5025,5052,738],[80,870,978,736],[62,978,1620,736],[7,1620,1710,720],[51,6543,6969,720],[82,3960,4320,696],[30,7080,7530,696],[7,1710,2118,684],[48,3558,3780,684],[29,4770,5025,684],[0,0,24,672],[80,507,600,672],[7,2118,2352,672],[37,2838,2880,672],[30,7530,7824,672],[30,6933,7080,660],[80,690,870,654],[25,5820,5880,648],[8,5430,5466,624],[25,5466,5820,624],[51,6612,6792,624],[48,3870,3960,612],[51,6792,6933,612],[80,600,690,600],[66,258,306,570],[48,3780,3870,564],[87,7650,7710,564],[77,2052,2118,548],[0,24,51,528],[73,5730,5772,528],[37,2118,2238,516],[87,7140,7290,510],[87,6792,6930,506],[0,51,306,504],[87,7290,7404,492],[37,2811,2838,480],[87,7404,7650,468],[87,6930,7140,460],[6,1182,1212,456],[75,6792,6840,444],[59,2052,2076,432],[37,2238,2271,420],[75,6840,7140,388],[77,1788,1920,384],[39,5730,5790,384],[75,7140,7290,378],[77,1662,1788,372],[77,1920,2016,372],[23,4620,4860,360],[39,6210,6570,344],[23,4272,4620,336],[37,2700,2811,324],[39,6030,6210,308],[61,0,51,300],[77,2016,2076,300],[37,2520,2700,300],[61,7602,7680,300],[37,2271,2496,288],[39,6570,6792,288],[31,7515,7578,284],[61,7578,7602,284],[45,4146,4272,264],[59,2247,2271,240],[37,2496,2520,240],[21,2811,2853,240],[61,8580,8640,240],[6,600,1182,238],[31,7251,7308,204],[8,4860,5430,192],[61,8190,8580,180],[21,2853,3330,168],[45,3330,3870,168],[58,6570,6718.4,150],[3,6718.4,6792,150],[31,7500,7515,144],[20,2520,2526,132],[73,6570,6633,108],[39,5790,6030,96],[58,6570,6633,72],[61,7728,7800,66],[66,0,720,48],[73,6690,6792,48],[31,7308,7500,48],[34,7500,7680,48],[61,7680,7728,48],[61,7920,8190,48],[61,7800,7920,42],[20,2526,2592,36],[77,1290,1662,0],[59,1662,1680,0],[20,2592,2910,0],[85,5280,5430,0],[58,6420,6570,0],[16,954,1182,-42],[77,1182,1290,-42],[73,5430,5856,-78],[59,1680,1830,-96],[59,2100,2247,-96],[73,6420,6468,-96],[73,6570,6690,-96],[3,6690,6792,-96],[66,8190,8580,-96],[45,3870,4146,-144],[85,4146,4260,-144],[66,0,120,-168],[66,8580,8640,-168],[85,5130,5280,-192],[58,5730,5856,-192],[3,7200,7392,-216],[4,7680,7872,-216],[58,6180,6468,-240],[54,2100,2910,-264],[35,1770,1830,-264],[59,1830,2100,-264],[41,2910,3012,-264],[74,3450,3870,-264],[85,4260,4620,-264],[58,6330,6360,-280],[3,6792,7200,-288.8],[35,1740,1770,-348],[4,7392,7680,-360],[73,6180,6570,-384],[72,6570,6792,-384],[41,3012,3090,-408],[58,5856,5895,-438],[41,3090,3270,-456],[26,3870,3900,-456],[71,5856,5895,-462],[47,5640,5730,-480],[28,4530,4620,-528],[85,4620,5130,-528],[41,3270,3510,-576],[16,600,954,-585.2],[35,954,1350,-585.2],[26,3900,4260,-588],[28,4260,4530,-588],[47,5130,5370,-588],[58,5856,6030,-590],[16,0,600,-612],[11,7680,7872,-612],[4,7872,8580,-612],[16,8580,8640,-612],[41,3510,3690,-636],[35,1692,1740,-654],[46,1740,2202,-654],[11,7200,7680,-672],[41,3690,3810,-700],[41,4530,5370,-708],[47,5370,5640,-708],[71,5640,5760,-708],[35,1650,1692,-720],[58,6030,6336,-720],[76,6336,6420,-720],[41,3810,3900,-748],[19,2202,2652,-792],[41,4410,4530,-792],[41,3900,4410,-840],[36,1260,1350,-864],[68,3012,3372,-882],[35,1536,1650,-888],[76,6420,6900,-888],[65,7680,8280,-888],[70,8280,8400,-888],[36,1080,1260,-950],[1,3372,3960,-954],[70,0,600,-960],[36,600,1080,-960],[35,1392,1536,-960],[70,8400,8640,-960],[14,5100,5370,-1008],[49,5640,5760,-1008],[71,5760,5911.5,-1008],[9,1740,1800,-1032],[22,1800,2370,-1032],[67,2880,3012,-1032],[35,1230,1392,-1056],[71,5911.5,6420,-1092],[24,6420,6900,-1092],[76,6900,7320,-1092],[53,7320,7680,-1092],[35,1080,1230,-1104],[9,1620,1740,-1116],[49,5520,5640,-1152],[63,0,840,-1156],[35,960,1080,-1176],[40,1470,1536,-1176],[9,1536,1620,-1176],[38,7680,7920,-1200],[67,2160,2880,-1218],[84,2880,2940,-1218],[35,870,960,-1224],[40,1380,1470,-1224],[63,0,660,-1236],[12,2160,2220,-1260],[84,2940,3042,-1272],[40,1260,1380,-1276],[32,1380,1440,-1276],[63,0,570,-1284],[35,780,870,-1296],[64,1620,1800,-1296],[49,5418,5520,-1296],[84,3042,3180,-1308],[12,2220,2340,-1320],[14,4260,4620,-1320],[49,5100,5418,-1320],[56,5418,5520,-1320],[32,1440,1560,-1356],[84,3180,3960,-1356],[14,3960,4050,-1356],[5,6300,6480,-1368],[78,6480,7320,-1368],[38,7920,8400,-1368],[40,1152,1260,-1380],[64,1800,1980,-1380],[12,2340,2460,-1392],[63,0,480,-1404],[35,480,780,-1404],[63,8400,8640,-1404],[32,1560,1650,-1416],[56,5520,5911.5,-1440],[43,7320,7680,-1440],[64,1980,2160,-1464],[18,5460,5520,-1464],[5,5911.5,5970,-1464],[18,5370,5460,-1526],[5,5970,6030,-1526],[64,2160,2460,-1536],[12,2460,3252,-1536],[14,4050,4260,-1536],[27,4260,4620,-1536],[14,4620,5232,-1536],[18,4860,4920,-1560],[5,6030,6060,-1560],[40,780,1152,-1620],[69,1152,1650,-1620],[18,5310,5370,-1620],[5,6060,6300,-1620],[60,6300,6480,-1620],[81,7920,8400,-1620],[32,1650,2370,-1680],[18,4920,5310,-1680],[79,5310,6120,-1680],[81,0,480,-1800],[42,1260,1650,-1800],[86,2370,3252,-1800],[12,3252,4050,-1800],[55,4050,4920,-1800],[60,6480,7680,-1800],[43,7680,8400,-1800],[81,8400,8640,-1800],[81,270,480,-1824],[42,0,1260,-1980],[17,2760,4920,-1980],[2,4920,6480,-1980],[52,1260,2760,-2040],[57,0,8640,-2160]];let vs,Ee;class Aa{constructor(j,Y,lt,gt){this.symbol=j,this.name=Y,this.ra1875=lt,this.dec1875=gt}}a.ConstellationInfo=Aa;function aa(I,j){if(Vt(I),Vt(j),j<-90||j>90)throw"Invalid declination angle. Must be -90..+90.";I%=24,I<0&&(I+=24),vs||(vs=gn(new $(-45655.74141261017)),Ee=new $(0));const Y=new Ti(j,15*I,1),lt=Dn(Y,Ee),gt=Ea(vs,lt),At=ha(gt),y=10/(4*60),S=y/15;for(let x of xl){const U=x[3]*y,Z=x[1]*S,K=x[2]*S;if(U<=At.dec&&Z<=At.ra&&At.ra<K){const ht=_u[x[0]];return new Aa(ht[0],ht[1],At.ra,At.dec)}}throw"Unable to find constellation for given coordinates."}a.Constellation=aa;var Yi;(function(I){I.Penumbral="penumbral",I.Partial="partial",I.Annular="annular",I.Total="total"})(Yi=a.EclipseKind||(a.EclipseKind={}));class Ui{constructor(j,Y,lt,gt,At){this.kind=j,this.peak=Y,this.sd_penum=lt,this.sd_partial=gt,this.sd_total=At}}a.LunarEclipseInfo=Ui;class sa{constructor(j,Y,lt,gt,At,y,S){this.time=j,this.u=Y,this.r=lt,this.k=gt,this.p=At,this.target=y,this.dir=S}}function nl(I,j,Y,lt){const gt=(lt.x*Y.x+lt.y*Y.y+lt.z*Y.z)/(lt.x*lt.x+lt.y*lt.y+lt.z*lt.z),At=gt*lt.x-Y.x,y=gt*lt.y-Y.y,S=gt*lt.z-Y.z,x=a.KM_PER_AU*Math.hypot(At,y,S),U=+tt-(1+gt)*(tt-I),Z=-tt+(1+gt)*(tt+I);return new sa(j,gt,x,U,Z,Y,lt)}function Sa(I){const j=$o($t.Earth,I),Y=Qo(I);return nl(te,I,Y,j)}function Wl(I){const j=$o($t.Earth,I),Y=Qo(I),lt=new Tn(-Y.x,-Y.y,-Y.z,Y.t);return Y.x+=j.x,Y.y+=j.y,Y.z+=j.z,nl(ee,I,lt,Y)}function Ga(I,j){const Y=bi(I,j),lt=$o($t.Earth,I),gt=Qo(I),At=new Tn(Y[0]-gt.x,Y[1]-gt.y,Y[2]-gt.z,I);return gt.x+=lt.x,gt.y+=lt.y,gt.z+=lt.z,nl(ee,I,At,gt)}function Vs(I,j,Y){const lt=Tr(I,Y,!1),gt=Tr(ft.Sun,Y,!1),At=new Tn(lt.x-gt.x,lt.y-gt.y,lt.z-gt.z,Y);return gt.x=-lt.x,gt.y=-lt.y,gt.z=-lt.z,nl(j,Y,gt,At)}function Ms(I,j){const Y=11574074074074073e-21,lt=j.AddDays(-Y),gt=j.AddDays(+Y),At=I(lt);return(I(gt).r-At.r)/Y}function Ol(I,j,Y){const lt=11574074074074073e-21,gt=Vs(I,j,Y.AddDays(-lt));return(Vs(I,j,Y.AddDays(+lt)).r-gt.r)/lt}function Hl(I){const Y=I.AddDays(-.03),lt=I.AddDays(.03),gt=vr(At=>Ms(Sa,At),Y,lt);if(!gt)throw"Failed to find peak Earth shadow time.";return Sa(gt)}function Eu(I){const Y=I.AddDays(-.03),lt=I.AddDays(.03),gt=vr(At=>Ms(Wl,At),Y,lt);if(!gt)throw"Failed to find peak Moon shadow time.";return Wl(gt)}function Yl(I,j,Y){const gt=Y.AddDays(-1),At=Y.AddDays(1),y=vr(S=>Ol(I,j,S),gt,At);if(!y)throw"Failed to find peak planet shadow time.";return Vs(I,j,y)}function il(I,j){const lt=I.AddDays(-.2),gt=I.AddDays(.2);function At(S){return Ga(S,j)}const y=vr(S=>Ms(At,S),lt,gt);if(!y)throw`PeakLocalMoonShadow: search failure for search_center_time = ${I}`;return Ga(y,j)}function Zu(I,j,Y){const lt=Y/1440,gt=I.AddDays(-lt),At=I.AddDays(+lt),y=vr(x=>-(Sa(x).r-j),gt,I),S=vr(x=>+(Sa(x).r-j),I,At);if(!y||!S)throw"Failed to find shadow semiduration";return(S.ut-y.ut)*(24*60/2)}function Ju(I){const j=Fn(I);return a.RAD2DEG*j.geo_eclip_lat}function Y0(I){let Y=dt(I);for(let lt=0;lt<12;++lt){const gt=Ce(180,Y,40);if(!gt)throw"Cannot find full moon.";const At=Ju(gt);if(Math.abs(At)<1.8){const y=Hl(gt);if(y.r<y.p+ee){let S=Yi.Penumbral,x=0,U=0,Z=Zu(y.time,y.p+ee,200);return y.r<y.k+ee&&(S=Yi.Partial,U=Zu(y.time,y.k+ee,Z),y.r+ee<y.k&&(S=Yi.Total,x=Zu(y.time,y.k-ee,U))),new Ui(S,y.time,Z,U,x)}}Y=gt.AddDays(10)}throw"Failed to find lunar eclipse within 12 full moons."}a.SearchLunarEclipse=Y0;class Su{constructor(j,Y,lt,gt,At){this.kind=j,this.peak=Y,this.distance=lt,this.latitude=gt,this.longitude=At}}a.GlobalSolarEclipseInfo=Su;function qu(I){return I>.014?Yi.Total:Yi.Annular}function Bo(I){let j=Yi.Partial,Y=I.time,lt=I.r,gt,At;const y=gn(I.time),S=Ea(y,I.dir),x=Ea(y,I.target);S.x*=a.KM_PER_AU,S.y*=a.KM_PER_AU,S.z*=a.KM_PER_AU/ot,x.x*=a.KM_PER_AU,x.y*=a.KM_PER_AU,x.z*=a.KM_PER_AU/ot;const U=wt,Z=S.x*S.x+S.y*S.y+S.z*S.z,K=-2*(S.x*x.x+S.y*x.y+S.z*x.z),ht=x.x*x.x+x.y*x.y+x.z*x.z-U*U,xt=K*K-4*Z*ht;if(xt>0){const yt=(-K-Math.sqrt(xt))/(2*Z),re=yt*S.x-x.x,me=yt*S.y-x.y,se=(yt*S.z-x.z)*ot,Ne=Math.hypot(re,me)*ct;Ne==0?gt=se>0?90:-90:gt=a.RAD2DEG*Math.atan(se/Ne);const Ye=zn(Y);At=(a.RAD2DEG*Math.atan2(me,re)-15*Ye)%360,At<=-180?At+=360:At>180&&(At-=360);const $e=Wn(y);let cr=new Tn(re/a.KM_PER_AU,me/a.KM_PER_AU,se/a.KM_PER_AU,I.time);cr=Ea($e,cr),cr.x+=I.target.x,cr.y+=I.target.y,cr.z+=I.target.z;const Vr=nl(Dt,I.time,cr,I.dir);if(Vr.r>1e-9||Vr.r<0)throw`Unexpected shadow distance from geoid intersection = ${Vr.r}`;j=qu(Vr.k)}return new Su(j,Y,lt,gt,At)}function _0(I){I=dt(I);const j=I.AddDays(10);return Y0(j)}a.NextLunarEclipse=_0;function Rs(I){I=dt(I);const j=1.8;let Y=I,lt;for(lt=0;lt<12;++lt){const gt=Ce(0,Y,40);if(!gt)throw"Cannot find new moon";const At=Ju(gt);if(Math.abs(At)<j){const y=Eu(gt);if(y.r<y.p+bt)return Bo(y)}Y=gt.AddDays(10)}throw"Failed to find solar eclipse within 12 full moons."}a.SearchGlobalSolarEclipse=Rs;function Qu(I){I=dt(I);const j=I.AddDays(10);return Rs(j)}a.NextGlobalSolarEclipse=Qu;class Xl{constructor(j,Y){this.time=j,this.altitude=Y}}a.EclipseEvent=Xl;class X0{constructor(j,Y,lt,gt,At,y){this.kind=j,this.partial_begin=Y,this.total_begin=lt,this.peak=gt,this.total_end=At,this.partial_end=y}}a.LocalSolarEclipseInfo=X0;function gs(I){return I.p-I.r}function Cs(I){return Math.abs(I.k)-I.r}function la(I,j){const gt=wu(j,I.time);let At=I.time.AddDays(-.2),y=I.time.AddDays(.2);const S=al(j,1,gs,At,I.time),x=al(j,-1,gs,I.time,y);let U,Z,K;return I.r<Math.abs(I.k)?(At=I.time.AddDays(-.01),y=I.time.AddDays(.01),U=al(j,1,Cs,At,I.time),Z=al(j,-1,Cs,I.time,y),K=qu(I.k)):K=Yi.Partial,new X0(K,S,U,gt,Z,x)}function al(I,j,Y,lt,gt){function At(S){const x=Ga(S,I);return j*Y(x)}const y=vr(At,lt,gt);if(!y)throw"Local eclipse transition search failed.";return wu(I,y)}function wu(I,j){const Y=xu(j,I);return new Xl(j,Y)}function xu(I,j){const Y=qo(ft.Sun,I,j,!0,!0);return Ja(I,j,Y.ra,Y.dec,"normal").altitude}function E0(I,j){I=dt(I),_a(j);const Y=1.8;let lt=I;for(;;){const gt=Ce(0,lt,40);if(!gt)throw"Cannot find next new moon";const At=Ju(gt);if(Math.abs(At)<Y){const y=il(gt,j);if(y.r<y.p){const S=la(y,j);if(S.partial_begin.altitude>0||S.partial_end.altitude>0)return S}}lt=gt.AddDays(10)}}a.SearchLocalSolarEclipse=E0;function Kl(I,j){I=dt(I);const Y=I.AddDays(10);return E0(Y,j)}a.NextLocalSolarEclipse=Kl;class Tl{constructor(j,Y,lt,gt){this.start=j,this.peak=Y,this.finish=lt,this.separation=gt}}a.TransitInfo=Tl;function K0(I,j,Y,lt){const gt=Vs(j,Y,I);return lt*(gt.r-gt.p)}function Ou(I,j,Y,lt,gt){const At=vr(y=>K0(y,I,j,gt),Y,lt);if(!At)throw"Planet transit boundary search failed";return At}function Gn(I,j){j=dt(j);const Y=.4,lt=1;let gt;switch(I){case ft.Mercury:gt=2439.7;break;case ft.Venus:gt=6051.8;break;default:throw`Invalid body: ${I}`}let At=j;for(;;){const y=oe(I,0,At);if(yr(I,y)<Y){const x=Yl(I,gt,y);if(x.r<x.p){const U=x.time.AddDays(-lt),Z=Ou(I,gt,U,x.time,-1),K=x.time.AddDays(+lt),ht=Ou(I,gt,x.time,K,1),xt=60*yr(I,x.time);return new Tl(Z,x.time,ht,xt)}}At=y.AddDays(10)}}a.SearchTransit=Gn;function Tu(I,j){j=dt(j);const Y=j.AddDays(100);return Gn(I,Y)}a.NextTransit=Tu;var Ws;(function(I){I[I.Invalid=0]="Invalid",I[I.Ascending=1]="Ascending",I[I.Descending=-1]="Descending"})(Ws=a.NodeEventKind||(a.NodeEventKind={}));class Hs{constructor(j,Y){this.kind=j,this.time=Y}}a.NodeEventInfo=Hs;const sl=10;function $l(I){let j=dt(I),Y=rl(j);for(;;){const lt=j.AddDays(sl),gt=rl(lt);if(Y.lat*gt.lat<=0){const At=gt.lat>Y.lat?Ws.Ascending:Ws.Descending,y=vr(S=>At*rl(S).lat,j,lt);if(!y)throw"Could not find moon node.";return new Hs(At,y)}j=lt,Y=gt}}a.SearchMoonNode=$l;function ll(I){const j=I.time.AddDays(sl),Y=$l(j);switch(I.kind){case Ws.Ascending:if(Y.kind!==Ws.Descending)throw`Internal error: previous node was ascending, but this node was: ${Y.kind}`;break;case Ws.Descending:if(Y.kind!==Ws.Ascending)throw`Internal error: previous node was descending, but this node was: ${Y.kind}`;break;default:throw`Previous node has an invalid node kind: ${I.kind}`}return Y}a.NextMoonNode=ll;class mo{constructor(j,Y,lt,gt){this.ra=j,this.dec=Y,this.spin=lt,this.north=gt}}a.AxisInfo=mo;function ul(I){const j=on([0,0,1],I,Rt.Into2000),Y=Kn(j,I,Rt.Into2000),lt=new Tn(Y[0],Y[1],Y[2],I),gt=ha(lt),At=190.41375788700253+360.9856122880876*I.ut;return new mo(gt.ra,gt.dec,At,lt)}function bl(I,j){const Y=dt(j),lt=Y.tt,gt=lt/36525;let At,y,S;switch(I){case ft.Sun:At=286.13,y=63.87,S=84.176+14.1844*lt;break;case ft.Mercury:At=281.0103-.0328*gt,y=61.4155-.0049*gt,S=329.5988+6.1385108*lt+.01067257*Math.sin(a.DEG2RAD*(174.7910857+4.092335*lt))-.00112309*Math.sin(a.DEG2RAD*(349.5821714+8.18467*lt))-1104e-7*Math.sin(a.DEG2RAD*(164.3732571+12.277005*lt))-2539e-8*Math.sin(a.DEG2RAD*(339.1643429+16.36934*lt))-571e-8*Math.sin(a.DEG2RAD*(153.9554286+20.461675*lt));break;case ft.Venus:At=272.76,y=67.16,S=160.2-1.4813688*lt;break;case ft.Earth:return ul(Y);case ft.Moon:const ht=a.DEG2RAD*(125.045-.0529921*lt),xt=a.DEG2RAD*(250.089-.1059842*lt),yt=a.DEG2RAD*(260.008+13.0120009*lt),re=a.DEG2RAD*(176.625+13.3407154*lt),me=a.DEG2RAD*(357.529+.9856003*lt),se=a.DEG2RAD*(311.589+26.4057084*lt),Ne=a.DEG2RAD*(134.963+13.064993*lt),Ye=a.DEG2RAD*(276.617+.3287146*lt),$e=a.DEG2RAD*(34.226+1.7484877*lt),cr=a.DEG2RAD*(15.134-.1589763*lt),Vr=a.DEG2RAD*(119.743+.0036096*lt),Qr=a.DEG2RAD*(239.961+.1643573*lt),Kr=a.DEG2RAD*(25.053+12.9590088*lt);At=269.9949+.0031*gt-3.8787*Math.sin(ht)-.1204*Math.sin(xt)+.07*Math.sin(yt)-.0172*Math.sin(re)+.0072*Math.sin(se)-.0052*Math.sin(cr)+.0043*Math.sin(Kr),y=66.5392+.013*gt+1.5419*Math.cos(ht)+.0239*Math.cos(xt)-.0278*Math.cos(yt)+.0068*Math.cos(re)-.0029*Math.cos(se)+9e-4*Math.cos(Ne)+8e-4*Math.cos(cr)-9e-4*Math.cos(Kr),S=38.3213+(13.17635815-14e-13*lt)*lt+3.561*Math.sin(ht)+.1208*Math.sin(xt)-.0642*Math.sin(yt)+.0158*Math.sin(re)+.0252*Math.sin(me)-.0066*Math.sin(se)-.0047*Math.sin(Ne)-.0046*Math.sin(Ye)+.0028*Math.sin($e)+.0052*Math.sin(cr)+.004*Math.sin(Vr)+.0019*Math.sin(Qr)-.0044*Math.sin(Kr);break;case ft.Mars:At=317.269202-.10927547*gt+68e-6*Math.sin(a.DEG2RAD*(198.991226+19139.4819985*gt))+238e-6*Math.sin(a.DEG2RAD*(226.292679+38280.8511281*gt))+52e-6*Math.sin(a.DEG2RAD*(249.663391+57420.7251593*gt))+9e-6*Math.sin(a.DEG2RAD*(266.18351+76560.636795*gt))+.419057*Math.sin(a.DEG2RAD*(79.398797+.5042615*gt)),y=54.432516-.05827105*gt+51e-6*Math.cos(a.DEG2RAD*(122.433576+19139.9407476*gt))+141e-6*Math.cos(a.DEG2RAD*(43.058401+38280.8753272*gt))+31e-6*Math.cos(a.DEG2RAD*(57.663379+57420.7517205*gt))+5e-6*Math.cos(a.DEG2RAD*(79.476401+76560.6495004*gt))+1.591274*Math.cos(a.DEG2RAD*(166.325722+.5042615*gt)),S=176.049863+350.891982443297*lt+145e-6*Math.sin(a.DEG2RAD*(129.071773+19140.0328244*gt))+157e-6*Math.sin(a.DEG2RAD*(36.352167+38281.0473591*gt))+4e-5*Math.sin(a.DEG2RAD*(56.668646+57420.929536*gt))+1e-6*Math.sin(a.DEG2RAD*(67.364003+76560.2552215*gt))+1e-6*Math.sin(a.DEG2RAD*(104.79268+95700.4387578*gt))+.584542*Math.sin(a.DEG2RAD*(95.391654+.5042615*gt));break;case ft.Jupiter:const $r=a.DEG2RAD*(99.360714+4850.4046*gt),tr=a.DEG2RAD*(175.895369+1191.9605*gt),dn=a.DEG2RAD*(300.323162+262.5475*gt),Zn=a.DEG2RAD*(114.012305+6070.2476*gt),Pi=a.DEG2RAD*(49.511251+64.3*gt);At=268.056595-.006499*gt+117e-6*Math.sin($r)+938e-6*Math.sin(tr)+.001432*Math.sin(dn)+3e-5*Math.sin(Zn)+.00215*Math.sin(Pi),y=64.495303+.002413*gt+5e-5*Math.cos($r)+404e-6*Math.cos(tr)+617e-6*Math.cos(dn)-13e-6*Math.cos(Zn)+926e-6*Math.cos(Pi),S=284.95+870.536*lt;break;case ft.Saturn:At=40.589-.036*gt,y=83.537-.004*gt,S=38.9+810.7939024*lt;break;case ft.Uranus:At=257.311,y=-15.175,S=203.81-501.1600928*lt;break;case ft.Neptune:const _i=a.DEG2RAD*(357.85+52.316*gt);At=299.36+.7*Math.sin(_i),y=43.46-.51*Math.cos(_i),S=249.978+541.1397757*lt-.48*Math.sin(_i);break;case ft.Pluto:At=132.993,y=-6.163,S=302.695+56.3625225*lt;break;default:throw`Invalid body: ${I}`}const x=y*a.DEG2RAD,U=At*a.DEG2RAD,Z=Math.cos(x),K=new Tn(Z*Math.cos(U),Z*Math.sin(U),Math.sin(x),Y);return new mo(At/15,y,S,K)}a.RotationAxis=bl;function $n(I,j,Y,lt){const gt=dt(j),At=er(Y),y=er(lt);let S,x;return Y===ft.Earth&&lt===ft.Moon?(S=new en(0,0,0,0,0,0,gt),x=_o(gt)):(S=je(Y,gt),x=je(lt,gt)),Al(I,S,At,x,y)}a.LagrangePoint=$n;function Al(I,j,Y,lt,gt){const y=.8660254037844386;if(I<1||I>5)throw`Invalid lagrange point ${I}`;if(!Number.isFinite(Y)||Y<=0)throw"Major mass must be a positive number.";if(!Number.isFinite(gt)||gt<=0)throw"Minor mass must be a negative number.";let S=lt.x-j.x,x=lt.y-j.y,U=lt.z-j.z;const Z=S*S+x*x+U*U,K=Math.sqrt(Z),ht=lt.vx-j.vx,xt=lt.vy-j.vy,yt=lt.vz-j.vz;let re;if(I===4||I===5){const me=x*yt-U*xt,se=U*ht-S*yt,Ne=S*xt-x*ht;let Ye=se*U-Ne*x,$e=Ne*S-me*U,cr=me*x-se*S;const Vr=Math.sqrt(Ye*Ye+$e*$e+cr*cr);Ye/=Vr,$e/=Vr,cr/=Vr,S/=K,x/=K,U/=K;const Qr=I==4?+y:-y,Kr=.5*S+Qr*Ye,$r=.5*x+Qr*$e,tr=.5*U+Qr*cr,dn=.5*Ye-Qr*S,Zn=.5*$e-Qr*x,Pi=.5*cr-Qr*U,_i=K*Kr,ki=K*$r,Xi=K*tr,qi=ht*S+xt*x+yt*U,ro=ht*Ye+xt*$e+yt*cr,pa=qi*Kr+ro*dn,xi=qi*$r+ro*Zn,Zo=qi*tr+ro*Pi;re=new en(_i,ki,Xi,pa,xi,Zo,j.t)}else{const me=-K*(gt/(Y+gt)),se=+K*(Y/(Y+gt)),Ne=(Y+gt)/(Z*K);let Ye,$e,cr;if(I===1||I===2)Ye=Y/(Y+gt)*Math.cbrt(gt/(3*Y)),$e=-Y,I==1?(Ye=1-Ye,cr=+gt):(Ye=1+Ye,cr=-gt);else if(I===3)Ye=(7/12*gt-Y)/(gt+Y),$e=+Y,cr=+gt;else throw`Invalid Langrage point ${I}. Must be an integer 1..5.`;let Vr=K*Ye-me,Qr;do{const Kr=Vr-me,$r=Vr-se,tr=Ne*Vr+$e/(Kr*Kr)+cr/($r*$r),dn=Ne-2*$e/(Kr*Kr*Kr)-2*cr/($r*$r*$r);Qr=tr/dn,Vr-=Qr}while(Math.abs(Qr/K)>1e-14);Ye=(Vr-me)/K,re=new en(Ye*S,Ye*x,Ye*U,Ye*ht,Ye*xt,Ye*yt,j.t)}return re}a.LagrangePointFast=Al})(N4);const G1={},pu=class{constructor(c,d){Fs(this,"unixTime");Fs(this,"longitude");Fs(this,"year");Fs(this,"moon");Fs(this,"week");Fs(this,"weekOfMoon");Fs(this,"day");Fs(this,"dayOfYear");Fs(this,"dayOfMoon");Fs(this,"dayOfWeek");Fs(this,"isRainbowDay");Fs(this,"time");Fs(this,"yearStart");Fs(this,"yearDuration");Fs(this,"nadir");if(c=new Date(c),this.unixTime=c.getTime(),this.longitude=d,Number.isFinite(this.unixTime)){const u=(E,b)=>{let M=`${E}_${b}`;if(G1!=null&&G1[M])return G1[M];let P=N4.Seasons(E).dec_solstice.date,k=N4.Seasons(E+1).dec_solstice.date,C=Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()+(P.getUTCHours()>=12?1:0),12,0,0),z=Date.UTC(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()+(k.getUTCHours()>=12?1:0),12,0,0);return G1[M]={start:parseInt(C+(-b+180)*pu.MILLISECONDS_PER_DAY/360),duration:(z-C)/pu.MILLISECONDS_PER_DAY}};let p=u(c.getUTCFullYear()-1,d);this.unixTime-p.start>=p.duration*pu.MILLISECONDS_PER_DAY&&(p=u(c.getUTCFullYear(),d)),this.yearStart=p.start,this.yearDuration=p.duration;let g=(this.unixTime-this.yearStart)/pu.MILLISECONDS_PER_DAY;this.year=new Date(this.yearStart).getUTCFullYear()-new Date(pu.END_OF_ARTIFICIAL_TIME).getUTCFullYear()+1,this.moon=parseInt(g/28)+1,this.week=parseInt(g/7)+1,this.weekOfMoon=parseInt(g/7)%4+1,this.day=parseInt((this.unixTime-(pu.END_OF_ARTIFICIAL_TIME+(-d+180)*pu.MILLISECONDS_PER_DAY/360))/pu.MILLISECONDS_PER_DAY),this.dayOfYear=parseInt(g)+1,this.dayOfMoon=parseInt(g)%28+1,this.dayOfWeek=parseInt(g)%7+1,this.nadir=this.yearStart+parseInt(g)*pu.MILLISECONDS_PER_DAY,this.time=(this.unixTime-this.nadir)*360/pu.MILLISECONDS_PER_DAY,this.isRainbowDay=this.dayOfYear>13*28;return}throw"Argument must be a Date object or a Unix timestamp"}getTimeOfEvent(c){return c=new Date(c).getTime(),c<this.nadir||c>this.nadir+pu.MILLISECONDS_PER_DAY?!1:(c-this.nadir)*(360/pu.MILLISECONDS_PER_DAY)}toString(){return this.toDateString()+" "+this.toTimeString()+" "+this.toLongitudeString()}toDateString(c=")"){return this.isRainbowDay?`${this.toYearString()}${c}RAINBOW${this.dayOfYear==366?"+":""}`:`${this.toYearString()}${c}${this.toMoonString()}${c}${this.toDayOfMoonString()}`}toTimeString(c=2,d=1){let u=parseInt(this.time),p=parseInt(this.time%1*Math.pow(10,c));return p=Math.floor(p/d)*d,String(u).padStart(3,"0")+"\xB0"+(c?String(p).padStart(c,"0"):"")}toLongitudeString(c=1){return this.longitude==0?"NTZ":"NT"+(this.longitude>0?"+":"")+this.longitude.toFixed(c)}toYearString(){return(this.year<0?"-":"")+String(Math.abs(this.year)).padStart(3,"0")}toMoonString(){return String(this.moon).padStart(2,"0")}toDayOfMoonString(){return String(this.dayOfMoon).padStart(2,"0")}};let $3=pu;Fs($3,"END_OF_ARTIFICIAL_TIME",13560912e5),Fs($3,"MILLISECONDS_PER_DAY",864e5);var Q$={};/**
    @preserve

    Astronomy library for JavaScript (browser and Node.js).
    https://github.com/cosinekitty/astronomy

    MIT License

    Copyright (c) 2019-2022 Don Cross <cosinekitty@gmail.com>

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
*/(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.HelioDistance=a.HelioVector=a.JupiterMoons=a.JupiterMoonsInfo=a.GeoEmbState=a.GeoMoonState=a.EclipticGeoMoon=a.GeoMoon=a.Ecliptic=a.ObserverGravity=a.VectorObserver=a.ObserverState=a.ObserverVector=a.Equator=a.SunPosition=a.Observer=a.Horizon=a.EclipticCoordinates=a.HorizontalCoordinates=a.MakeRotation=a.RotationMatrix=a.EquatorialCoordinates=a.Spherical=a.StateVector=a.Vector=a.SiderealTime=a.Libration=a.LibrationInfo=a.CalcMoonCount=a.MakeTime=a.AstroTime=a.SetDeltaTFunction=a.DeltaT_JplHorizons=a.DeltaT_EspenakMeeus=a.Body=a.AngleBetween=a.MassProduct=a.CALLISTO_RADIUS_KM=a.GANYMEDE_RADIUS_KM=a.EUROPA_RADIUS_KM=a.IO_RADIUS_KM=a.JUPITER_MEAN_RADIUS_KM=a.JUPITER_POLAR_RADIUS_KM=a.JUPITER_EQUATORIAL_RADIUS_KM=a.RAD2HOUR=a.RAD2DEG=a.HOUR2RAD=a.DEG2RAD=a.KM_PER_AU=a.C_AUDAY=void 0,a.Rotation_ECL_EQJ=a.Rotation_EQJ_ECL=a.RotateState=a.RotateVector=a.InverseRefraction=a.Refraction=a.VectorFromHorizon=a.HorizonFromVector=a.SphereFromVector=a.EquatorFromVector=a.VectorFromSphere=a.Pivot=a.IdentityMatrix=a.CombineRotation=a.InverseRotation=a.NextPlanetApsis=a.SearchPlanetApsis=a.NextLunarApsis=a.SearchLunarApsis=a.Apsis=a.ApsisKind=a.SearchPeakMagnitude=a.SearchMaxElongation=a.Elongation=a.ElongationEvent=a.Seasons=a.SeasonInfo=a.SearchHourAngle=a.HourAngleEvent=a.SearchAltitude=a.SearchRiseSet=a.NextMoonQuarter=a.SearchMoonQuarter=a.MoonQuarter=a.SearchMoonPhase=a.MoonPhase=a.SearchRelativeLongitude=a.Illumination=a.IlluminationInfo=a.EclipticLongitude=a.AngleFromSun=a.PairLongitude=a.SearchSunLongitude=a.Search=a.HelioState=a.BaryState=a.GeoVector=a.BackdatePosition=a.CorrectLightTravel=a.PositionFunction=void 0,a.GravitySimulator=a.LagrangePointFast=a.LagrangePoint=a.RotationAxis=a.AxisInfo=a.NextMoonNode=a.SearchMoonNode=a.NodeEventInfo=a.NodeEventKind=a.NextTransit=a.SearchTransit=a.TransitInfo=a.NextLocalSolarEclipse=a.SearchLocalSolarEclipse=a.LocalSolarEclipseInfo=a.EclipseEvent=a.NextGlobalSolarEclipse=a.SearchGlobalSolarEclipse=a.NextLunarEclipse=a.GlobalSolarEclipseInfo=a.SearchLunarEclipse=a.LunarEclipseInfo=a.EclipseKind=a.Constellation=a.ConstellationInfo=a.Rotation_GAL_EQJ=a.Rotation_EQJ_GAL=a.Rotation_HOR_ECL=a.Rotation_ECL_HOR=a.Rotation_ECL_EQD=a.Rotation_EQD_ECL=a.Rotation_EQJ_HOR=a.Rotation_HOR_EQJ=a.Rotation_HOR_EQD=a.Rotation_EQD_HOR=a.Rotation_EQD_EQJ=a.Rotation_EQJ_EQD=void 0,a.C_AUDAY=173.1446326846693,a.KM_PER_AU=14959787069098932e-8,a.DEG2RAD=.017453292519943295,a.HOUR2RAD=.26179938779914946,a.RAD2DEG=57.29577951308232,a.RAD2HOUR=3.819718634205488,a.JUPITER_EQUATORIAL_RADIUS_KM=71492,a.JUPITER_POLAR_RADIUS_KM=66854,a.JUPITER_MEAN_RADIUS_KM=69911,a.IO_RADIUS_KM=1821.6,a.EUROPA_RADIUS_KM=1560.8,a.GANYMEDE_RADIUS_KM=2631.2,a.CALLISTO_RADIUS_KM=2410.3;const c=365.24217,d=new Date("2000-01-01T12:00:00Z"),u=2*Math.PI,p=3600*(180/Math.PI),g=484813681109536e-20,E=180*60*60,b=2*E,M=7292115e-11,P=E/Math.PI,k=-.17-5*Math.log10(P),C=29.530588,z=24*3600,it=z*1e3,q=.9972695717592592,tt=695700,J=tt/a.KM_PER_AU,ot=.996647180302104,ct=ot*ot,wt=6378.1366,nt=wt/a.KM_PER_AU,F=wt*ot,bt=6371,te=bt+88,Ot=1738.1,ee=1737.4,Dt=1736,Wt=Ot/a.KM_PER_AU,le=34/60,ye=81.30056,Qe=.0002959122082855911,mt=4912547451450812e-26,Kt=7243452486162703e-25,ae=8887692390113509e-25,Sr=9549535105779258e-26,xr=2825345909524226e-22,ar=8459715185680659e-23,jr=1292024916781969e-23,Xr=1524358900784276e-23,wn=218869976542597e-26,_e=ae/ye;function er(y){switch(y){case ft.Sun:return Qe;case ft.Mercury:return mt;case ft.Venus:return Kt;case ft.Earth:return ae;case ft.Moon:return _e;case ft.EMB:return ae+_e;case ft.Mars:return Sr;case ft.Jupiter:return xr;case ft.Saturn:return ar;case ft.Uranus:return jr;case ft.Neptune:return Xr;case ft.Pluto:return wn;default:throw`Do not know mass product for body: ${y}`}}a.MassProduct=er;let _r,Fr,jn;function Ur(y){if(y!==!0&&y!==!1)throw console.trace(),`Value is not boolean: ${y}`;return y}function Vt(y){if(!Number.isFinite(y))throw console.trace(),`Value is not a finite number: ${y}`;return y}function ie(y){return y-Math.floor(y)}function Tt(y,S){const x=y.x*y.x+y.y*y.y+y.z*y.z;if(Math.abs(x)<1e-8)throw"AngleBetween: first vector is too short.";const U=S.x*S.x+S.y*S.y+S.z*S.z;if(Math.abs(U)<1e-8)throw"AngleBetween: second vector is too short.";const Z=(y.x*S.x+y.y*S.y+y.z*S.z)/Math.sqrt(x*U);return Z<=-1?180:Z>=1?0:a.RAD2DEG*Math.acos(Z)}a.AngleBetween=Tt;var ft;(function(y){y.Sun="Sun",y.Moon="Moon",y.Mercury="Mercury",y.Venus="Venus",y.Earth="Earth",y.Mars="Mars",y.Jupiter="Jupiter",y.Saturn="Saturn",y.Uranus="Uranus",y.Neptune="Neptune",y.Pluto="Pluto",y.SSB="SSB",y.EMB="EMB"})(ft=a.Body||(a.Body={}));var Rt;(function(y){y[y.From2000=0]="From2000",y[y.Into2000=1]="Into2000"})(Rt||(Rt={}));const Qt={Mercury:{OrbitalPeriod:87.969},Venus:{OrbitalPeriod:224.701},Earth:{OrbitalPeriod:365.256},Mars:{OrbitalPeriod:686.98},Jupiter:{OrbitalPeriod:4332.589},Saturn:{OrbitalPeriod:10759.22},Uranus:{OrbitalPeriod:30685.4},Neptune:{OrbitalPeriod:60189},Pluto:{OrbitalPeriod:90560}},$t={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function he(y){var S,x,U,Z,K,ht,xt;const yt=2e3+(y-14)/c;return yt<-500?(S=(yt-1820)/100,-20+32*S*S):yt<500?(S=yt/100,x=S*S,U=S*x,Z=x*x,K=x*U,ht=U*U,10583.6-1014.41*S+33.78311*x-5.952053*U-.1798452*Z+.022174192*K+.0090316521*ht):yt<1600?(S=(yt-1e3)/100,x=S*S,U=S*x,Z=x*x,K=x*U,ht=U*U,1574.2-556.01*S+71.23472*x+.319781*U-.8503463*Z-.005050998*K+.0083572073*ht):yt<1700?(S=yt-1600,x=S*S,U=S*x,120-.9808*S-.01532*x+U/7129):yt<1800?(S=yt-1700,x=S*S,U=S*x,Z=x*x,8.83+.1603*S-.0059285*x+13336e-8*U-Z/1174e3):yt<1860?(S=yt-1800,x=S*S,U=S*x,Z=x*x,K=x*U,ht=U*U,xt=U*Z,13.72-.332447*S+.0068612*x+.0041116*U-37436e-8*Z+121272e-10*K-1699e-10*ht+875e-12*xt):yt<1900?(S=yt-1860,x=S*S,U=S*x,Z=x*x,K=x*U,7.62+.5737*S-.251754*x+.01680668*U-.0004473624*Z+K/233174):yt<1920?(S=yt-1900,x=S*S,U=S*x,Z=x*x,-2.79+1.494119*S-.0598939*x+.0061966*U-197e-6*Z):yt<1941?(S=yt-1920,x=S*S,U=S*x,21.2+.84493*S-.0761*x+.0020936*U):yt<1961?(S=yt-1950,x=S*S,U=S*x,29.07+.407*S-x/233+U/2547):yt<1986?(S=yt-1975,x=S*S,U=S*x,45.45+1.067*S-x/260-U/718):yt<2005?(S=yt-2e3,x=S*S,U=S*x,Z=x*x,K=x*U,63.86+.3345*S-.060374*x+.0017275*U+651814e-9*Z+2373599e-11*K):yt<2050?(S=yt-2e3,62.92+.32217*S+.005589*S*S):yt<2150?(S=(yt-1820)/100,-20+32*S*S-.5628*(2150-yt)):(S=(yt-1820)/100,-20+32*S*S)}a.DeltaT_EspenakMeeus=he;function Pe(y){return he(Math.min(y,17*c))}a.DeltaT_JplHorizons=Pe;let Ue=he;function Gt(y){Ue=y}a.SetDeltaTFunction=Gt;function at(y){return y+Ue(y)/86400}class ${constructor(S){if(S instanceof $){this.date=S.date,this.ut=S.ut,this.tt=S.tt;return}const x=1e3*3600*24;if(S instanceof Date&&Number.isFinite(S.getTime())){this.date=S,this.ut=(S.getTime()-d.getTime())/x,this.tt=at(this.ut);return}if(Number.isFinite(S)){this.date=new Date(d.getTime()+S*x),this.ut=S,this.tt=at(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(S){let x=new $(S);for(;;){const U=S-x.tt;if(Math.abs(U)<1e-12)return x;x=x.AddDays(U)}}toString(){return this.date.toISOString()}AddDays(S){return new $(this.ut+S)}}a.AstroTime=$;function Q(y,S,x){return new $(y.ut+x*(S.ut-y.ut))}function dt(y){return y instanceof $?y:new $(y)}a.MakeTime=dt;const ue=[[[0,0,0,0,1],[-172064161,-174666,33386,92052331,9086,15377]],[[0,0,2,-2,2],[-13170906,-1675,-13696,5730336,-3015,-4587]],[[0,0,2,0,2],[-2276413,-234,2796,978459,-485,1374]],[[0,0,0,0,2],[2074554,207,-698,-897492,470,-291]],[[0,1,0,0,0],[1475877,-3633,11817,73871,-184,-1924]],[[0,1,2,-2,2],[-516821,1226,-524,224386,-677,-174]],[[1,0,0,0,0],[711159,73,-872,-6750,0,358]],[[0,0,2,0,1],[-387298,-367,380,200728,18,318]],[[1,0,2,0,2],[-301461,-36,816,129025,-63,367]],[[0,-1,2,-2,2],[215829,-494,111,-95929,299,132]],[[0,0,2,-2,1],[128227,137,181,-68982,-9,39]],[[-1,0,2,0,2],[123457,11,19,-53311,32,-4]],[[-1,0,0,2,0],[156994,10,-168,-1235,0,82]],[[1,0,0,0,1],[63110,63,27,-33228,0,-9]],[[-1,0,0,0,1],[-57976,-63,-189,31429,0,-75]],[[-1,0,2,2,2],[-59641,-11,149,25543,-11,66]],[[1,0,2,0,1],[-51613,-42,129,26366,0,78]],[[-2,0,2,0,1],[45893,50,31,-24236,-10,20]],[[0,0,0,2,0],[63384,11,-150,-1220,0,29]],[[0,0,2,2,2],[-38571,-1,158,16452,-11,68]],[[0,-2,2,-2,2],[32481,0,0,-13870,0,0]],[[-2,0,0,2,0],[-47722,0,-18,477,0,-25]],[[2,0,2,0,2],[-31046,-1,131,13238,-11,59]],[[1,0,2,-2,2],[28593,0,-1,-12338,10,-3]],[[-1,0,2,0,1],[20441,21,10,-10758,0,-3]],[[2,0,0,0,0],[29243,0,-74,-609,0,13]],[[0,0,2,0,0],[25887,0,-66,-550,0,11]],[[0,1,0,0,1],[-14053,-25,79,8551,-2,-45]],[[-1,0,0,2,1],[15164,10,11,-8001,0,-1]],[[0,2,2,-2,2],[-15794,72,-16,6850,-42,-5]],[[0,0,-2,2,0],[21783,0,13,-167,0,13]],[[1,0,0,-2,1],[-12873,-10,-37,6953,0,-14]],[[0,-1,0,0,1],[-12654,11,63,6415,0,26]],[[-1,0,2,2,1],[-10204,0,25,5222,0,15]],[[0,2,0,0,0],[16707,-85,-10,168,-1,10]],[[1,0,2,2,2],[-7691,0,44,3268,0,19]],[[-2,0,2,0,0],[-11024,0,-14,104,0,2]],[[0,1,2,0,2],[7566,-21,-11,-3250,0,-5]],[[0,0,2,2,1],[-6637,-11,25,3353,0,14]],[[0,-1,2,0,2],[-7141,21,8,3070,0,4]],[[0,0,0,2,1],[-6302,-11,2,3272,0,4]],[[1,0,2,-2,1],[5800,10,2,-3045,0,-1]],[[2,0,2,-2,2],[6443,0,-7,-2768,0,-4]],[[-2,0,0,2,1],[-5774,-11,-15,3041,0,-5]],[[2,0,2,0,1],[-5350,0,21,2695,0,12]],[[0,-1,2,-2,1],[-4752,-11,-3,2719,0,-3]],[[0,0,0,-2,1],[-4940,-11,-21,2720,0,-9]],[[-1,-1,0,2,0],[7350,0,-8,-51,0,4]],[[2,0,0,-2,1],[4065,0,6,-2206,0,1]],[[1,0,0,2,0],[6579,0,-24,-199,0,2]],[[0,1,2,-2,1],[3579,0,5,-1900,0,1]],[[1,-1,0,0,0],[4725,0,-6,-41,0,3]],[[-2,0,2,0,2],[-3075,0,-2,1313,0,-1]],[[3,0,2,0,2],[-2904,0,15,1233,0,7]],[[0,-1,0,2,0],[4348,0,-10,-81,0,2]],[[1,-1,2,0,2],[-2878,0,8,1232,0,4]],[[0,0,0,1,0],[-4230,0,5,-20,0,-2]],[[-1,-1,2,2,2],[-2819,0,7,1207,0,3]],[[-1,0,2,0,0],[-4056,0,5,40,0,-2]],[[0,-1,2,2,2],[-2647,0,11,1129,0,5]],[[-2,0,0,0,1],[-2294,0,-10,1266,0,-4]],[[1,1,2,0,2],[2481,0,-7,-1062,0,-3]],[[2,0,0,0,1],[2179,0,-2,-1129,0,-2]],[[-1,1,0,1,0],[3276,0,1,-9,0,0]],[[1,1,0,0,0],[-3389,0,5,35,0,-2]],[[1,0,2,0,0],[3339,0,-13,-107,0,1]],[[-1,0,2,-2,1],[-1987,0,-6,1073,0,-2]],[[1,0,0,0,2],[-1981,0,0,854,0,0]],[[-1,0,0,1,0],[4026,0,-353,-553,0,-139]],[[0,0,2,1,2],[1660,0,-5,-710,0,-2]],[[-1,0,2,4,2],[-1521,0,9,647,0,4]],[[-1,1,0,1,1],[1314,0,0,-700,0,0]],[[0,-2,2,-2,1],[-1283,0,0,672,0,0]],[[1,0,2,2,1],[-1331,0,8,663,0,4]],[[-2,0,2,2,2],[1383,0,-2,-594,0,-2]],[[-1,0,0,0,2],[1405,0,4,-610,0,2]],[[1,1,2,-2,2],[1290,0,0,-556,0,0]]];function De(y){var S,x,U,Z,K,ht,xt,yt,re,me,se,Ne,Ye,$e;function cr(Vr){return Vr%b*g}for(x=y.tt/36525,U=cr(485868.249036+x*17179159232178e-4),Z=cr(128710479305e-5+x*1295965810481e-4),K=cr(335779.526232+x*17395272628478e-4),ht=cr(107226070369e-5+x*1602961601209e-3),xt=cr(450160.398036-x*69628905431e-4),re=0,me=0,S=76;S>=0;--S)Ye=ue[S][0],$e=ue[S][1],yt=(Ye[0]*U+Ye[1]*Z+Ye[2]*K+Ye[3]*ht+Ye[4]*xt)%u,se=Math.sin(yt),Ne=Math.cos(yt),re+=($e[0]+$e[1]*x)*se+$e[2]*Ne,me+=($e[3]+$e[4]*x)*Ne+$e[5]*se;return{dpsi:-135e-6+re*1e-7,deps:388e-6+me*1e-7}}function We(y){var S=y.tt/36525,x=((((-434e-10*S-576e-9)*S+.0020034)*S-1831e-7)*S-46.836769)*S+84381.406;return x/3600}var Pr;function tn(y){if(!Pr||Math.abs(Pr.tt-y.tt)>1e-6){const S=De(y),x=We(y),U=x+S.deps/3600;Pr={tt:y.tt,dpsi:S.dpsi,deps:S.deps,ee:S.dpsi*Math.cos(x*a.DEG2RAD)/15,mobl:x,tobl:U}}return Pr}function ln(y,S){var x=We(y)*a.DEG2RAD,U=Math.cos(x),Z=Math.sin(x);return[S[0],S[1]*U-S[2]*Z,S[1]*Z+S[2]*U]}a.CalcMoonCount=0;function Fn(y){++a.CalcMoonCount;const S=y.tt/36525;function x(fn,pi){const si=[];let Hi;for(Hi=0;Hi<=pi-fn;++Hi)si.push(0);return{min:fn,array:si}}function U(fn,pi,si,Hi){const Di=[];for(let wo=0;wo<=pi-fn;++wo)Di.push(x(si,Hi));return{min:fn,array:Di}}function Z(fn,pi,si){const Hi=fn.array[pi-fn.min];return Hi.array[si-Hi.min]}function K(fn,pi,si,Hi){const Di=fn.array[pi-fn.min];Di.array[si-Di.min]=Hi}let ht,xt,yt,re,me,se,Ne,Ye,$e,cr,Vr,Qr,Kr,$r,tr,dn,Zn,Pi,_i,ki,Xi,qi,ro,pa=U(-6,6,1,4),xi=U(-6,6,1,4);function Zo(fn,pi){return Z(pa,fn,pi)}function wa(fn,pi){return Z(xi,fn,pi)}function xa(fn,pi,si){return K(pa,fn,pi,si)}function Mo(fn,pi,si){return K(xi,fn,pi,si)}function Ba(fn,pi,si,Hi,Di){Di(fn*si-pi*Hi,pi*si+fn*Hi)}function Zi(fn){return Math.sin(u*fn)}Ne=S*S,$e=0,ro=0,Vr=0,Qr=3422.7;var G=Zi(.19833+.05611*S),Et=Zi(.27869+.04508*S),Lt=Zi(.16827-.36903*S),we=Zi(.34734-5.37261*S),Ve=Zi(.10498-5.37899*S),He=Zi(.42681-.41855*S),Er=Zi(.14943-5.37511*S);for(Pi=.84*G+.31*Et+14.27*Lt+7.26*we+.28*Ve+.24*He,_i=2.94*G+.31*Et+14.27*Lt+9.34*we+1.12*Ve+.83*He,ki=-6.4*G-1.89*He,Xi=.21*G+.31*Et+14.27*Lt-88.7*we-15.3*Ve+.24*He-1.86*Er,qi=Pi-ki,Ye=-3332e-9*Zi(.59734-5.37261*S)-539e-9*Zi(.35498-5.37899*S)-64e-9*Zi(.39943-5.37511*S),Kr=u*ie(.60643382+1336.85522467*S-313e-8*Ne)+Pi/p,$r=u*ie(.37489701+1325.55240982*S+2565e-8*Ne)+_i/p,tr=u*ie(.99312619+99.99735956*S-44e-8*Ne)+ki/p,dn=u*ie(.25909118+1342.2278298*S-892e-8*Ne)+Xi/p,Zn=u*ie(.82736186+1236.85308708*S-397e-8*Ne)+qi/p,me=1;me<=4;++me){switch(me){case 1:yt=$r,xt=4,re=1.000002208;break;case 2:yt=tr,xt=3,re=.997504612-.002495388*S;break;case 3:yt=dn,xt=4,re=1.000002708+139.978*Ye;break;case 4:yt=Zn,xt=6,re=1;break;default:throw`Internal error: I = ${me}`}for(xa(0,me,1),xa(1,me,Math.cos(yt)*re),Mo(0,me,0),Mo(1,me,Math.sin(yt)*re),se=2;se<=xt;++se)Ba(Zo(se-1,me),wa(se-1,me),Zo(1,me),wa(1,me),(fn,pi)=>(xa(se,me,fn),Mo(se,me,pi)));for(se=1;se<=xt;++se)xa(-se,me,Zo(se,me)),Mo(-se,me,-wa(se,me))}function kr(fn,pi,si,Hi){for(var Di={x:1,y:0},wo=[0,fn,pi,si,Hi],va=1;va<=4;++va)wo[va]!==0&&Ba(Di.x,Di.y,Zo(wo[va],va),wa(wo[va],va),(os,ms)=>(Di.x=os,Di.y=ms));return Di}function ke(fn,pi,si,Hi,Di,wo,va,os){var ms=kr(Di,wo,va,os);$e+=fn*ms.y,ro+=pi*ms.y,Vr+=si*ms.x,Qr+=Hi*ms.x}ke(13.902,14.06,-.001,.2607,0,0,0,4),ke(.403,-4.01,.394,.0023,0,0,0,3),ke(2369.912,2373.36,.601,28.2333,0,0,0,2),ke(-125.154,-112.79,-.725,-.9781,0,0,0,1),ke(1.979,6.98,-.445,.0433,1,0,0,4),ke(191.953,192.72,.029,3.0861,1,0,0,2),ke(-8.466,-13.51,.455,-.1093,1,0,0,1),ke(22639.5,22609.07,.079,186.5398,1,0,0,0),ke(18.609,3.59,-.094,.0118,1,0,0,-1),ke(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),ke(3.215,5.44,.192,-.0386,1,0,0,-3),ke(-38.428,-38.64,.001,.6008,1,0,0,-4),ke(-.393,-1.43,-.092,.0086,1,0,0,-6),ke(-.289,-1.59,.123,-.0053,0,1,0,4),ke(-24.42,-25.1,.04,-.3,0,1,0,2),ke(18.023,17.93,.007,.1494,0,1,0,1),ke(-668.146,-126.98,-1.302,-.3997,0,1,0,0),ke(.56,.32,-.001,-.0037,0,1,0,-1),ke(-165.145,-165.06,.054,1.9178,0,1,0,-2),ke(-1.877,-6.46,-.416,.0339,0,1,0,-4),ke(.213,1.02,-.074,.0054,2,0,0,4),ke(14.387,14.78,-.017,.2833,2,0,0,2),ke(-.586,-1.2,.054,-.01,2,0,0,1),ke(769.016,767.96,.107,10.1657,2,0,0,0),ke(1.75,2.01,-.018,.0155,2,0,0,-1),ke(-211.656,-152.53,5.679,-.3039,2,0,0,-2),ke(1.225,.91,-.03,-.0088,2,0,0,-3),ke(-30.773,-34.07,-.308,.3722,2,0,0,-4),ke(-.57,-1.4,-.074,.0109,2,0,0,-6),ke(-2.921,-11.75,.787,-.0484,1,1,0,2),ke(1.267,1.52,-.022,.0164,1,1,0,1),ke(-109.673,-115.18,.461,-.949,1,1,0,0),ke(-205.962,-182.36,2.056,1.4437,1,1,0,-2),ke(.233,.36,.012,-.0025,1,1,0,-3),ke(-4.391,-9.66,-.471,.0673,1,1,0,-4),ke(.283,1.53,-.111,.006,1,-1,0,4),ke(14.577,31.7,-1.54,.2302,1,-1,0,2),ke(147.687,138.76,.679,1.1528,1,-1,0,0),ke(-1.089,.55,.021,0,1,-1,0,-1),ke(28.475,23.59,-.443,-.2257,1,-1,0,-2),ke(-.276,-.38,-.006,-.0036,1,-1,0,-3),ke(.636,2.27,.146,-.0102,1,-1,0,-4),ke(-.189,-1.68,.131,-.0028,0,2,0,2),ke(-7.486,-.66,-.037,-.0086,0,2,0,0),ke(-8.096,-16.35,-.74,.0918,0,2,0,-2),ke(-5.741,-.04,0,-9e-4,0,0,2,2),ke(.255,0,0,0,0,0,2,1),ke(-411.608,-.2,0,-.0124,0,0,2,0),ke(.584,.84,0,.0071,0,0,2,-1),ke(-55.173,-52.14,0,-.1052,0,0,2,-2),ke(.254,.25,0,-.0017,0,0,2,-3),ke(.025,-1.67,0,.0031,0,0,2,-4),ke(1.06,2.96,-.166,.0243,3,0,0,2),ke(36.124,50.64,-1.3,.6215,3,0,0,0),ke(-13.193,-16.4,.258,-.1187,3,0,0,-2),ke(-1.187,-.74,.042,.0074,3,0,0,-4),ke(-.293,-.31,-.002,.0046,3,0,0,-6),ke(-.29,-1.45,.116,-.0051,2,1,0,2),ke(-7.649,-10.56,.259,-.1038,2,1,0,0),ke(-8.627,-7.59,.078,-.0192,2,1,0,-2),ke(-2.74,-2.54,.022,.0324,2,1,0,-4),ke(1.181,3.32,-.212,.0213,2,-1,0,2),ke(9.703,11.67,-.151,.1268,2,-1,0,0),ke(-.352,-.37,.001,-.0028,2,-1,0,-1),ke(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),ke(.36,.2,-.012,-.0043,2,-1,0,-4),ke(-1.167,-1.25,.008,-.0106,1,2,0,0),ke(-7.412,-6.12,.117,.0484,1,2,0,-2),ke(-.311,-.65,-.032,.0044,1,2,0,-4),ke(.757,1.82,-.105,.0112,1,-2,0,2),ke(2.58,2.32,.027,.0196,1,-2,0,0),ke(2.533,2.4,-.014,-.0212,1,-2,0,-2),ke(-.344,-.57,-.025,.0036,0,3,0,-2),ke(-.992,-.02,0,0,1,0,2,2),ke(-45.099,-.02,0,-.001,1,0,2,0),ke(-.179,-9.52,0,-.0833,1,0,2,-2),ke(-.301,-.33,0,.0014,1,0,2,-4),ke(-6.382,-3.37,0,-.0481,1,0,-2,2),ke(39.528,85.13,0,-.7136,1,0,-2,0),ke(9.366,.71,0,-.0112,1,0,-2,-2),ke(.202,.02,0,0,1,0,-2,-4),ke(.415,.1,0,.0013,0,1,2,0),ke(-2.152,-2.26,0,-.0066,0,1,2,-2),ke(-1.44,-1.3,0,.0014,0,1,-2,2),ke(.384,-.04,0,0,0,1,-2,-2),ke(1.938,3.6,-.145,.0401,4,0,0,0),ke(-.952,-1.58,.052,-.013,4,0,0,-2),ke(-.551,-.94,.032,-.0097,3,1,0,0),ke(-.482,-.57,.005,-.0045,3,1,0,-2),ke(.681,.96,-.026,.0115,3,-1,0,0),ke(-.297,-.27,.002,-9e-4,2,2,0,-2),ke(.254,.21,-.003,0,2,-2,0,-2),ke(-.25,-.22,.004,.0014,1,3,0,-2),ke(-3.996,0,0,4e-4,2,0,2,0),ke(.557,-.75,0,-.009,2,0,2,-2),ke(-.459,-.38,0,-.0053,2,0,-2,2),ke(-1.298,.74,0,4e-4,2,0,-2,0),ke(.538,1.14,0,-.0141,2,0,-2,-2),ke(.263,.02,0,0,1,1,2,0),ke(.426,.07,0,-6e-4,1,1,-2,-2),ke(-.304,.03,0,3e-4,1,-1,2,0),ke(-.372,-.19,0,-.0027,1,-1,-2,2),ke(.418,0,0,0,0,0,4,0),ke(-.33,-.04,0,0,3,0,2,0);function Mn(fn,pi,si,Hi,Di){return fn*kr(pi,si,Hi,Di).y}cr=0,cr+=Mn(-526.069,0,0,1,-2),cr+=Mn(-3.352,0,0,1,-4),cr+=Mn(44.297,1,0,1,-2),cr+=Mn(-6,1,0,1,-4),cr+=Mn(20.599,-1,0,1,0),cr+=Mn(-30.598,-1,0,1,-2),cr+=Mn(-24.649,-2,0,1,0),cr+=Mn(-2,-2,0,1,-2),cr+=Mn(-22.571,0,1,1,-2),cr+=Mn(10.985,0,-1,1,-2),$e+=.82*Zi(.7736-62.5512*S)+.31*Zi(.0466-125.1025*S)+.35*Zi(.5785-25.1042*S)+.66*Zi(.4591+1335.8075*S)+.64*Zi(.313-91.568*S)+1.14*Zi(.148+1331.2898*S)+.21*Zi(.5918+1056.5859*S)+.44*Zi(.5784+1322.8595*S)+.24*Zi(.2275-5.7374*S)+.28*Zi(.2965+2.6929*S)+.33*Zi(.3132+6.3368*S),ht=dn+ro/p;let Qn=(1.000002708+139.978*Ye)*(18518.511+1.189+Vr)*Math.sin(ht)-6.24*Math.sin(3*ht)+cr;return{geo_eclip_lon:u*ie((Kr+$e/p)/u),geo_eclip_lat:Math.PI/(180*3600)*Qn,distance_au:p*nt/(.999953253*Qr)}}class qn{constructor(S,x,U,Z,K,ht){this.elat=S,this.elon=x,this.mlat=U,this.mlon=Z,this.dist_km=K,this.diam_deg=ht}}a.LibrationInfo=qn;function Ci(y){const S=dt(y),x=S.tt/36525,U=x*x,Z=U*x,K=U*U,ht=Fn(S),xt=ht.geo_eclip_lon,yt=ht.geo_eclip_lat,re=ht.distance_au*a.KM_PER_AU,me=a.DEG2RAD*1.543,se=a.DEG2RAD*dr(93.272095+483202.0175233*x-.0036539*U-Z/3526e3+K/86331e4),Ne=a.DEG2RAD*dr(125.0445479-1934.1362891*x+.0020754*U+Z/467441-K/60616e3),Ye=a.DEG2RAD*dr(357.5291092+35999.0502909*x-1536e-7*U+Z/2449e4),$e=a.DEG2RAD*dr(134.9633964+477198.8675055*x+.0087414*U+Z/69699-K/14712e3),cr=a.DEG2RAD*dr(297.8501921+445267.1114034*x-.0018819*U+Z/545868-K/113065e3),Vr=1-.002516*x-74e-7*U,Qr=xt-Ne,Kr=Math.atan2(Math.sin(Qr)*Math.cos(yt)*Math.cos(me)-Math.sin(yt)*Math.sin(me),Math.cos(Qr)*Math.cos(yt)),$r=yr(a.RAD2DEG*(Kr-se)),tr=Math.asin(-Math.sin(Qr)*Math.cos(yt)*Math.sin(me)-Math.sin(yt)*Math.cos(me)),dn=a.DEG2RAD*(119.75+131.849*x),Zn=a.DEG2RAD*(72.56+20.186*x),Pi=-.02752*Math.cos($e)+-.02245*Math.sin(se)+.00684*Math.cos($e-2*se)+-.00293*Math.cos(2*se)+-85e-5*Math.cos(2*se-2*cr)+-54e-5*Math.cos($e-2*cr)+-2e-4*Math.sin($e+se)+-2e-4*Math.cos($e+2*se)+-2e-4*Math.cos($e-se)+14e-5*Math.cos($e+2*se-2*cr),_i=-.02816*Math.sin($e)+.02244*Math.cos(se)+-.00682*Math.sin($e-2*se)+-.00279*Math.sin(2*se)+-83e-5*Math.sin(2*se-2*cr)+69e-5*Math.sin($e-2*cr)+4e-4*Math.cos($e+se)+-25e-5*Math.sin(2*$e)+-23e-5*Math.sin($e+2*se)+2e-4*Math.cos($e-se)+19e-5*Math.sin($e-se)+13e-5*Math.sin($e+2*se-2*cr)+-1e-4*Math.cos($e-3*se),Xi=-(.0252*Vr*Math.sin(Ye)+.00473*Math.sin(2*$e-2*se)+-.00467*Math.sin($e)+.00396*Math.sin(dn)+.00276*Math.sin(2*$e-2*cr)+.00196*Math.sin(Ne)+-.00183*Math.cos($e-se)+.00115*Math.sin($e-2*cr)+-96e-5*Math.sin($e-cr)+46e-5*Math.sin(2*se-2*cr)+-39e-5*Math.sin($e-se)+-32e-5*Math.sin($e-Ye-cr)+27e-5*Math.sin(2*$e-Ye-2*cr)+23e-5*Math.sin(Zn)+-14e-5*Math.sin(2*cr)+14e-5*Math.cos(2*$e-2*se)+-12e-5*Math.sin($e-2*se)+-12e-5*Math.sin(2*$e)+11e-5*Math.sin(2*$e-2*Ye-2*cr))+(Pi*Math.cos(Kr)+_i*Math.sin(Kr))*Math.tan(tr),qi=_i*Math.cos(Kr)-Pi*Math.sin(Kr),ro=2*a.RAD2DEG*Math.atan(ee/Math.sqrt(re*re-ee*ee));return new qn(a.RAD2DEG*tr+qi,$r+Xi,a.RAD2DEG*yt,a.RAD2DEG*xt,re,ro)}a.Libration=Ci;function ao(y,S){return[y.rot[0][0]*S[0]+y.rot[1][0]*S[1]+y.rot[2][0]*S[2],y.rot[0][1]*S[0]+y.rot[1][1]*S[1]+y.rot[2][1]*S[2],y.rot[0][2]*S[0]+y.rot[1][2]*S[1]+y.rot[2][2]*S[2]]}function Kn(y,S,x){const U=Li(S,x);return ao(U,y)}function ui(y,S,x){const U=Li(S,x);return ta(U,y)}function Li(y,S){const x=y.tt/36525;let U=84381.406,Z=((((-951e-10*x+132851e-9)*x-.00114045)*x-1.0790069)*x+5038.481507)*x,K=((((3337e-10*x-467e-9)*x-.00772503)*x+.0512623)*x-.025754)*x+U,ht=((((-56e-9*x+170663e-9)*x-.00121197)*x-2.3814292)*x+10.556403)*x;U*=g,Z*=g,K*=g,ht*=g;const xt=Math.sin(U),yt=Math.cos(U),re=Math.sin(-Z),me=Math.cos(-Z),se=Math.sin(-K),Ne=Math.cos(-K),Ye=Math.sin(ht),$e=Math.cos(ht),cr=$e*me-re*Ye*Ne,Vr=$e*re*yt+Ye*Ne*me*yt-xt*Ye*se,Qr=$e*re*xt+Ye*Ne*me*xt+yt*Ye*se,Kr=-Ye*me-re*$e*Ne,$r=-Ye*re*yt+$e*Ne*me*yt-xt*$e*se,tr=-Ye*re*xt+$e*Ne*me*xt+yt*$e*se,dn=re*se,Zn=-se*me*yt-xt*Ne,Pi=-se*me*xt+Ne*yt;if(S===Rt.Into2000)return new ei([[cr,Vr,Qr],[Kr,$r,tr],[dn,Zn,Pi]]);if(S===Rt.From2000)return new ei([[cr,Kr,dn],[Vr,$r,Zn],[Qr,tr,Pi]]);throw"Invalid precess direction"}function _n(y){const S=.779057273264+.00273781191135448*y.ut,x=y.ut%1;let U=360*((S+x)%1);return U<0&&(U+=360),U}let uo;function zn(y){if(!uo||uo.tt!==y.tt){const S=y.tt/36525;let x=15*tn(y).ee;const U=_n(y);let K=((x+.014506+((((-368e-10*S-29956e-9)*S-44e-8)*S+1.3915817)*S+4612.156534)*S)/3600+U)%360/15;K<0&&(K+=24),uo={tt:y.tt,st:K}}return uo.st}function Na(y){const S=dt(y);return zn(S)}a.SiderealTime=Na;function Wo(y,S){const x=y[0]*a.KM_PER_AU,U=y[1]*a.KM_PER_AU,Z=y[2]*a.KM_PER_AU,K=Math.hypot(x,U);let ht,xt,yt;if(K<1e-6)ht=0,xt=Z>0?90:-90,yt=Math.abs(Z)-F;else{const re=Math.atan2(U,x);for(ht=a.RAD2DEG*re-15*S;ht<=-180;)ht+=360;for(;ht>180;)ht-=360;let me=Math.atan2(Z,K),se,Ne,Ye;for(;;){se=Math.cos(me),Ne=Math.sin(me);const cr=(ct-1)*wt,Vr=se*se,Qr=Ne*Ne,Kr=Vr+ct*Qr;Ye=Math.sqrt(Kr);const $r=cr*Ne*se/Ye-Z*se+K*Ne;if(Math.abs($r)<1e-12)break;const tr=cr*((Vr-Qr)/Ye-Qr*Vr*(ct-1)/(cr*Kr))+Z*Ne+K*se;me-=$r/tr}xt=a.RAD2DEG*me;const $e=wt/Ye;Math.abs(Ne)>Math.abs(se)?yt=Z/Ne-ct*$e:yt=K/se-$e}return new tl(xt,ht,1e3*yt)}function Ji(y,S){const x=y.latitude*a.DEG2RAD,U=Math.sin(x),Z=Math.cos(x),K=1/Math.hypot(Z,ot*U),ht=ct*K,xt=y.height/1e3,yt=wt*K+xt,re=wt*ht+xt,me=(15*S+y.longitude)*a.DEG2RAD,se=Math.sin(me),Ne=Math.cos(me);return{pos:[yt*Z*Ne/a.KM_PER_AU,yt*Z*se/a.KM_PER_AU,re*U/a.KM_PER_AU],vel:[-M*yt*Z*se*86400/a.KM_PER_AU,M*yt*Z*Ne*86400/a.KM_PER_AU,0]}}function on(y,S,x){const U=rn(S,x);return ao(U,y)}function fr(y,S,x){const U=rn(S,x);return ta(U,y)}function rn(y,S){const x=tn(y),U=x.mobl*a.DEG2RAD,Z=x.tobl*a.DEG2RAD,K=x.dpsi*g,ht=Math.cos(U),xt=Math.sin(U),yt=Math.cos(Z),re=Math.sin(Z),me=Math.cos(K),se=Math.sin(K),Ne=me,Ye=-se*ht,$e=-se*xt,cr=se*yt,Vr=me*ht*yt+xt*re,Qr=me*xt*yt-ht*re,Kr=se*re,$r=me*ht*re-xt*yt,tr=me*xt*re+ht*yt;if(S===Rt.From2000)return new ei([[Ne,cr,Kr],[Ye,Vr,$r],[$e,Qr,tr]]);if(S===Rt.Into2000)return new ei([[Ne,Ye,$e],[cr,Vr,Qr],[Kr,$r,tr]]);throw"Invalid precess direction"}function Ln(y,S,x){return x===Rt.Into2000?Kn(on(y,S,x),S,x):on(Kn(y,S,x),S,x)}function hi(y,S,x){return x===Rt.Into2000?ui(fr(y,S,x),S,x):fr(ui(y,S,x),S,x)}function bi(y,S){const x=zn(y),U=Ji(S,x).pos;return Ln(U,y,Rt.Into2000)}class Tn{constructor(S,x,U,Z){this.x=S,this.y=x,this.z=U,this.t=Z}Length(){return Math.hypot(this.x,this.y,this.z)}}a.Vector=Tn;class en{constructor(S,x,U,Z,K,ht,xt){this.x=S,this.y=x,this.z=U,this.vx=Z,this.vy=K,this.vz=ht,this.t=xt}}a.StateVector=en;class Ti{constructor(S,x,U){this.lat=Vt(S),this.lon=Vt(x),this.dist=Vt(U)}}a.Spherical=Ti;class Io{constructor(S,x,U,Z){this.ra=Vt(S),this.dec=Vt(x),this.dist=Vt(U),this.vec=Z}}a.EquatorialCoordinates=Io;function ya(y){if(!(y instanceof Array)||y.length!==3)return!1;for(let S=0;S<3;++S){if(!(y[S]instanceof Array)||y[S].length!==3)return!1;for(let x=0;x<3;++x)if(!Number.isFinite(y[S][x]))return!1}return!0}class ei{constructor(S){this.rot=S}}a.RotationMatrix=ei;function zl(y){if(!ya(y))throw"Argument must be a [3][3] array of numbers";return new ei(y)}a.MakeRotation=zl;class Ts{constructor(S,x,U,Z){this.azimuth=Vt(S),this.altitude=Vt(x),this.ra=Vt(U),this.dec=Vt(Z)}}a.HorizontalCoordinates=Ts;class Bs{constructor(S,x,U){this.vec=S,this.elat=Vt(x),this.elon=Vt(U)}}a.EclipticCoordinates=Bs;function co(y,S){return new Tn(y[0],y[1],y[2],S)}function Yu(y,S){const x=co(y,S),U=x.x*x.x+x.y*x.y,Z=Math.sqrt(U+x.z*x.z);if(U===0){if(x.z===0)throw"Indeterminate sky coordinates";return new Io(0,x.z<0?-90:90,Z,x)}let K=a.RAD2HOUR*Math.atan2(x.y,x.x);K<0&&(K+=24);const ht=a.RAD2DEG*Math.atan2(y[2],Math.sqrt(U));return new Io(K,ht,Z,x)}function Za(y,S){const x=y*a.DEG2RAD,U=Math.cos(x),Z=Math.sin(x);return[U*S[0]+Z*S[1],U*S[1]-Z*S[0],S[2]]}function Ja(y,S,x,U,Z){let K=dt(y);_a(S),Vt(x),Vt(U);const ht=Math.sin(S.latitude*a.DEG2RAD),xt=Math.cos(S.latitude*a.DEG2RAD),yt=Math.sin(S.longitude*a.DEG2RAD),re=Math.cos(S.longitude*a.DEG2RAD),me=Math.sin(U*a.DEG2RAD),se=Math.cos(U*a.DEG2RAD),Ne=Math.sin(x*a.HOUR2RAD),Ye=Math.cos(x*a.HOUR2RAD);let $e=[xt*re,xt*yt,ht],cr=[-ht*re,-ht*yt,xt],Vr=[yt,-re,0];const Qr=-15*zn(K);let Kr=Za(Qr,$e),$r=Za(Qr,cr),tr=Za(Qr,Vr),dn=[se*Ye,se*Ne,me];const Zn=dn[0]*Kr[0]+dn[1]*Kr[1]+dn[2]*Kr[2],Pi=dn[0]*$r[0]+dn[1]*$r[1]+dn[2]*$r[2],_i=dn[0]*tr[0]+dn[1]*tr[1]+dn[2]*tr[2];let ki=Math.hypot(Pi,_i),Xi;ki>0?(Xi=-a.RAD2DEG*Math.atan2(_i,Pi),Xi<0&&(Xi+=360)):Xi=0;let qi=a.RAD2DEG*Math.atan2(ki,Zn),ro=x,pa=U;if(Z){let Zo=qi,wa=So(Z,90-qi);if(qi-=wa,wa>0&&qi>3e-4){const xa=Math.sin(qi*a.DEG2RAD),Mo=Math.cos(qi*a.DEG2RAD),Ba=Math.sin(Zo*a.DEG2RAD),Zi=Math.cos(Zo*a.DEG2RAD);var xi=[];for(let G=0;G<3;++G)xi.push((dn[G]-Zi*Kr[G])/Ba*xa+Kr[G]*Mo);ki=Math.hypot(xi[0],xi[1]),ki>0?(ro=a.RAD2HOUR*Math.atan2(xi[1],xi[0]),ro<0&&(ro+=24)):ro=0,pa=a.RAD2DEG*Math.atan2(xi[2],ki)}}return new Ts(Xi,90-qi,ro,pa)}a.Horizon=Ja;function _a(y){if(!(y instanceof tl))throw`Not an instance of the Observer class: ${y}`;if(Vt(y.latitude),Vt(y.longitude),Vt(y.height),y.latitude<-90||y.latitude>90)throw`Latitude ${y.latitude} is out of range. Must be -90..+90.`;return y}class tl{constructor(S,x,U){this.latitude=S,this.longitude=x,this.height=U,_a(this)}}a.Observer=tl;function Xu(y){const S=dt(y).AddDays(-1/a.C_AUDAY),x=$o($t.Earth,S),U=[-x.x,-x.y,-x.z],[Z,K,ht]=Ln(U,S,Rt.From2000),xt=a.DEG2RAD*tn(S).tobl,yt=Math.cos(xt),re=Math.sin(xt),me=new Tn(Z,K,ht,S);return Vl(me,yt,re)}a.SunPosition=Xu;function qo(y,S,x,U,Z){_a(x),Ur(U),Ur(Z);const K=dt(S),ht=bi(K,x),xt=Rr(y,K,Z),yt=[xt.x-ht[0],xt.y-ht[1],xt.z-ht[2]];if(!U)return Yu(yt,K);const re=Ln(yt,K,Rt.From2000);return Yu(re,K)}a.Equator=qo;function Us(y,S,x){const U=dt(y),Z=zn(U);let K=Ji(S,Z).pos;return x||(K=Ln(K,U,Rt.Into2000)),co(K,U)}a.ObserverVector=Us;function el(y,S,x){const U=dt(y),Z=zn(U),K=Ji(S,Z),ht=new en(K.pos[0],K.pos[1],K.pos[2],K.vel[0],K.vel[1],K.vel[2],U);return x?ht:hi(ht,U,Rt.Into2000)}a.ObserverState=el;function H0(y,S){const x=zn(y.t);let U=[y.x,y.y,y.z];return S||(U=Kn(U,y.t,Rt.From2000),U=on(U,y.t,Rt.From2000)),Wo(U,x)}a.VectorObserver=H0;function Sc(y,S){const x=Math.sin(y*a.DEG2RAD),U=x*x;return 9.7803253359*(1+.00193185265241*U)/Math.sqrt(1-.00669437999013*U)*(1-(315704e-12-210269e-14*U)*S+737452e-19*S*S)}a.ObserverGravity=Sc;function Vl(y,S,x){const U=y.x,Z=y.y*S+y.z*x,K=-y.y*x+y.z*S,ht=Math.hypot(U,Z);let xt=0;ht>0&&(xt=a.RAD2DEG*Math.atan2(Z,U),xt<0&&(xt+=360));let yt=a.RAD2DEG*Math.atan2(K,ht),re=new Tn(U,Z,K,y.t);return new Bs(re,yt,xt)}function Fa(y){return _r===void 0&&(_r=a.DEG2RAD*tn(dt(d)).mobl,Fr=Math.cos(_r),jn=Math.sin(_r)),Vl(y,Fr,jn)}a.Ecliptic=Fa;function Qo(y){const S=dt(y),x=Fn(S),U=x.distance_au*Math.cos(x.geo_eclip_lat),Z=[U*Math.cos(x.geo_eclip_lon),U*Math.sin(x.geo_eclip_lon),x.distance_au*Math.sin(x.geo_eclip_lat)],K=ln(S,Z),ht=Kn(K,S,Rt.Into2000);return new Tn(ht[0],ht[1],ht[2],S)}a.GeoMoon=Qo;function rl(y){const S=dt(y),x=Fn(S);return new Ti(x.geo_eclip_lat*a.RAD2DEG,x.geo_eclip_lon*a.RAD2DEG,x.distance_au)}a.EclipticGeoMoon=rl;function _o(y){const S=dt(y),x=1e-5,U=S.AddDays(-x),Z=S.AddDays(+x),K=Qo(U),ht=Qo(Z);return new en((K.x+ht.x)/2,(K.y+ht.y)/2,(K.z+ht.z)/2,(ht.x-K.x)/(2*x),(ht.y-K.y)/(2*x),(ht.z-K.z)/(2*x),S)}a.GeoMoonState=_o;function mu(y){const S=dt(y),x=_o(S),U=1+ye;return new en(x.x/U,x.y/U,x.z/U,x.vx/U,x.vy/U,x.vz/U,S)}a.GeoEmbState=mu;function jo(y,S,x){let U=1,Z=0;for(let K of y){let ht=0;for(let[yt,re,me]of K)ht+=yt*Math.cos(re+S*me);let xt=U*ht;x&&(xt%=u),Z+=xt,U*=S}return Z}function fa(y,S){let x=1,U=0,Z=0,K=0;for(let ht of y){let xt=0,yt=0;for(let[re,me,se]of ht){let Ne=me+S*se;xt+=re*se*Math.sin(Ne),K>0&&(yt+=re*Math.cos(Ne))}Z+=K*U*yt-x*xt,U=x,x*=S,++K}return Z}const ks=365250,Ku=0,qa=1,yu=2;function $u(y){return new li(y[0]+44036e-11*y[1]-190919e-12*y[2],-479966e-12*y[0]+.917482137087*y[1]-.397776982902*y[2],.397776982902*y[1]+.917482137087*y[2])}function m0(y,S,x){const U=x*Math.cos(S),Z=Math.cos(y),K=Math.sin(y);return[U*Z,U*K,x*Math.sin(S)]}function $o(y,S){const x=S.tt/ks,U=jo(y[Ku],x,!0),Z=jo(y[qa],x,!1),K=jo(y[yu],x,!1),ht=m0(U,Z,K);return $u(ht).ToAstroVector(S)}function go(y,S){const x=S/ks,U=jo(y[Ku],x,!0),Z=jo(y[qa],x,!1),K=jo(y[yu],x,!1),ht=fa(y[Ku],x),xt=fa(y[qa],x),yt=fa(y[yu],x),re=Math.cos(U),me=Math.sin(U),se=Math.cos(Z),Ne=Math.sin(Z),Ye=+(yt*se*re)-K*Ne*re*xt-K*se*me*ht,$e=+(yt*se*me)-K*Ne*me*xt+K*se*re*ht,cr=+(yt*Ne)+K*se*xt,Vr=m0(U,Z,K),Qr=[Ye/ks,$e/ks,cr/ks],Kr=$u(Vr),$r=$u(Qr);return new Hr(S,Kr,$r)}function Bi(y,S,x,U){const Z=U/(U+Qe),K=$o($t[x],S);y.x+=Z*K.x,y.y+=Z*K.y,y.z+=Z*K.z}function pn(y){const S=new Tn(0,0,0,y);return Bi(S,y,ft.Jupiter,xr),Bi(S,y,ft.Saturn,ar),Bi(S,y,ft.Uranus,jr),Bi(S,y,ft.Neptune,Xr),S}const y0=51,Hf=29200,hs=146,un=201,No=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class li{constructor(S,x,U){this.x=S,this.y=x,this.z=U}clone(){return new li(this.x,this.y,this.z)}ToAstroVector(S){return new Tn(this.x,this.y,this.z,S)}static zero(){return new li(0,0,0)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(S){return new li(this.x+S.x,this.y+S.y,this.z+S.z)}sub(S){return new li(this.x-S.x,this.y-S.y,this.z-S.z)}incr(S){this.x+=S.x,this.y+=S.y,this.z+=S.z}decr(S){this.x-=S.x,this.y-=S.y,this.z-=S.z}mul(S){return new li(S*this.x,S*this.y,S*this.z)}div(S){return new li(this.x/S,this.y/S,this.z/S)}mean(S){return new li((this.x+S.x)/2,(this.y+S.y)/2,(this.z+S.z)/2)}neg(){return new li(-this.x,-this.y,-this.z)}}class Hr{constructor(S,x,U){this.tt=S,this.r=x,this.v=U}clone(){return new Hr(this.tt,this.r,this.v)}sub(S){return new Hr(this.tt,this.r.sub(S.r),this.v.sub(S.v))}}function Yf(y){let[S,[x,U,Z],[K,ht,xt]]=y;return new Hr(S,new li(x,U,Z),new li(K,ht,xt))}function Qa(y,S,x,U){const Z=U/(U+Qe),K=go($t[x],S);return y.r.incr(K.r.mul(Z)),y.v.incr(K.v.mul(Z)),K}function L(y,S,x){const U=x.sub(y),Z=U.quadrature();return U.mul(S/(Z*Math.sqrt(Z)))}class O{constructor(S){let x=new Hr(S,new li(0,0,0),new li(0,0,0));this.Jupiter=Qa(x,S,ft.Jupiter,xr),this.Saturn=Qa(x,S,ft.Saturn,ar),this.Uranus=Qa(x,S,ft.Uranus,jr),this.Neptune=Qa(x,S,ft.Neptune,Xr),this.Jupiter.r.decr(x.r),this.Jupiter.v.decr(x.v),this.Saturn.r.decr(x.r),this.Saturn.v.decr(x.v),this.Uranus.r.decr(x.r),this.Uranus.v.decr(x.v),this.Neptune.r.decr(x.r),this.Neptune.v.decr(x.v),this.Sun=new Hr(S,x.r.mul(-1),x.v.mul(-1))}Acceleration(S){let x=L(S,Qe,this.Sun.r);return x.incr(L(S,xr,this.Jupiter.r)),x.incr(L(S,ar,this.Saturn.r)),x.incr(L(S,jr,this.Uranus.r)),x.incr(L(S,Xr,this.Neptune.r)),x}}class T{constructor(S,x,U,Z){this.tt=S,this.r=x,this.v=U,this.a=Z}clone(){return new T(this.tt,this.r.clone(),this.v.clone(),this.a.clone())}}class N{constructor(S,x){this.bary=S,this.grav=x}}function W(y,S,x,U){return new li(S.x+y*(x.x+y*U.x/2),S.y+y*(x.y+y*U.y/2),S.z+y*(x.z+y*U.z/2))}function D(y,S,x){return new li(S.x+y*x.x,S.y+y*x.y,S.z+y*x.z)}function X(y,S){const x=y-S.tt,U=new O(y),Z=W(x,S.r,S.v,S.a),K=U.Acceleration(Z).mean(S.a),ht=W(x,S.r,S.v,K),xt=S.v.add(K.mul(x)),yt=U.Acceleration(ht),re=new T(y,ht,xt,yt);return new N(U,re)}const rt=[];function st(y,S){const x=Math.floor(y);return x<0?0:x>=S?S-1:x}function _t(y){const S=Yf(y),x=new O(S.tt),U=S.r.add(x.Sun.r),Z=S.v.add(x.Sun.v),K=x.Acceleration(U),ht=new T(S.tt,U,Z,K);return new N(x,ht)}function Bt(y,S){const x=No[0][0];if(S<x||S>No[y0-1][0])return null;const U=st((S-x)/Hf,y0-1);if(!y[U]){const K=y[U]=[];K[0]=_t(No[U]).grav,K[un-1]=_t(No[U+1]).grav;let ht,xt=K[0].tt;for(ht=1;ht<un-1;++ht)K[ht]=X(xt+=hs,K[ht-1]).grav;xt=K[un-1].tt;var Z=[];for(Z[un-1]=K[un-1],ht=un-2;ht>0;--ht)Z[ht]=X(xt-=hs,Z[ht+1]).grav;for(ht=un-2;ht>0;--ht){const yt=ht/(un-1);K[ht].r=K[ht].r.mul(1-yt).add(Z[ht].r.mul(yt)),K[ht].v=K[ht].v.mul(1-yt).add(Z[ht].v.mul(yt)),K[ht].a=K[ht].a.mul(1-yt).add(Z[ht].a.mul(yt))}}return y[U]}function Ut(y,S,x){let U=_t(y);const Z=Math.ceil((S-U.grav.tt)/x);for(let K=0;K<Z;++K)U=X(K+1===Z?S:U.grav.tt+x,U.grav);return U}function Xt(y,S){let x,U,Z;const K=Bt(rt,y.tt);if(K){const ht=st((y.tt-K[0].tt)/hs,un-1),xt=K[ht],yt=K[ht+1],re=xt.a.mean(yt.a),me=W(y.tt-xt.tt,xt.r,xt.v,re),se=D(y.tt-xt.tt,xt.v,re),Ne=W(y.tt-yt.tt,yt.r,yt.v,re),Ye=D(y.tt-yt.tt,yt.v,re),$e=(y.tt-xt.tt)/hs;x=me.mul(1-$e).add(Ne.mul($e)),U=se.mul(1-$e).add(Ye.mul($e))}else{let ht;y.tt<No[0][0]?ht=Ut(No[0],y.tt,-hs):ht=Ut(No[y0-1],y.tt,+hs),x=ht.grav.r,U=ht.grav.v,Z=ht.bary}return S&&(Z||(Z=new O(y.tt)),x=x.sub(Z.Sun.r),U=U.sub(Z.Sun.v)),new en(x.x,x.y,x.z,U.x,U.y,U.z,y)}const pt=new ei([[.999432765338654,-.0336771074697641,0],[.0303959428906285,.902057912352809,.430543388542295],[-.0144994559663353,-.430299169409101,.902569881273754]]),ce=[{mu:282489428433814e-21,al:[1.446213296021224,3.5515522861824],a:[[.0028210960212903,0,0]],l:[[-.0001925258348666,4.9369589722645,.01358483658305],[-970803596076e-16,4.3188796477322,.01303413843243],[-8988174165e-14,1.9080016428617,.00305064867158],[-553101050262e-16,1.4936156681569,.01293892891155]],z:[[.0041510849668155,4.089939635545,-.01290686414666],[.0006260521444113,1.446188898627,3.5515522949802],[352747346169e-16,2.1256287034578,.00012727416567]],zeta:[[.0003142172466014,2.7964219722923,-.002315096098],[904169207946e-16,1.0477061879627,-.00056920638196]]},{mu:282483274392893e-21,al:[-.3735263437471362,1.76932271112347],a:[[.0044871037804314,0,0],[4324367498e-16,1.819645606291,1.7822295777568]],l:[[.0008576433172936,4.3188693178264,.01303413830805],[.0004549582875086,1.4936531751079,.01293892881962],[.0003248939825174,1.8196494533458,1.7822295777568],[-.0003074250079334,4.9377037005911,.01358483286724],[.0001982386144784,1.907986905476,.00305101212869],[.0001834063551804,2.1402853388529,.00145009789338],[-.0001434383188452,5.622214036663,.89111478887838],[-771939140944e-16,4.300272437235,2.6733443704266]],z:[[-.0093589104136341,4.0899396509039,-.01290686414666],[.0002988994545555,5.9097265185595,1.7693227079462],[.000213903639035,2.1256289300016,.00012727418407],[.0001980963564781,2.743516829265,.00067797343009],[.0001210388158965,5.5839943711203,320566149e-13],[837042048393e-16,1.6094538368039,-.90402165808846],[823525166369e-16,1.4461887708689,3.5515522949802]],zeta:[[.0040404917832303,1.0477063169425,-.0005692064054],[.0002200421034564,3.3368857864364,-.00012491307307],[.0001662544744719,2.4134862374711,0],[590282470983e-16,5.9719930968366,-3056160225e-14]]},{mu:282498184184723e-21,al:[.2874089391143348,.878207923589328],a:[[.0071566594572575,0,0],[1393029911e-15,1.1586745884981,2.6733443704266]],l:[[.0002310797886226,2.1402987195942,.00145009784384],[-.0001828635964118,4.3188672736968,.01303413828263],[.0001512378778204,4.9373102372298,.01358483481252],[-.0001163720969778,4.300265986149,2.6733443704266],[-955478069846e-16,1.4936612842567,.01293892879857],[815246854464e-16,5.6222137132535,.89111478887838],[-801219679602e-16,1.2995922951532,1.0034433456729],[-607017260182e-16,.64978769669238,.50172167043264]],z:[[.0014289811307319,2.1256295942739,.00012727413029],[.000771093122676,5.5836330003496,320643411e-13],[.0005925911780766,4.0899396636448,-.01290686414666],[.0002045597496146,5.2713683670372,-.12523544076106],[.0001785118648258,.28743156721063,.8782079244252],[.0001131999784893,1.4462127277818,3.5515522949802],[-65877816921e-15,2.2702423990985,-1.7951364394537],[497058888328e-16,5.9096792204858,1.7693227129285]],zeta:[[.0015932721570848,3.3368862796665,-.00012491307058],[.0008533093128905,2.4133881688166,0],[.0003513347911037,5.9720789850127,-3056101771e-14],[-.0001441929255483,1.0477061764435,-.00056920632124]]},{mu:282492144889909e-21,al:[-.3620341291375704,.376486233433828],a:[[.0125879701715314,0,0],[3595204947e-15,.64965776007116,.50172168165034],[27580210652e-16,1.808423578151,3.1750660413359]],l:[[.0005586040123824,2.1404207189815,.00145009793231],[-.0003805813868176,2.7358844897853,2972965062e-14],[.0002205152863262,.649796525964,.5017216724358],[.0001877895151158,1.8084787604005,3.1750660413359],[766916975242e-16,6.2720114319755,1.3928364636651],[747056855106e-16,1.2995916202344,1.0034433456729]],z:[[.0073755808467977,5.5836071576084,3206509914e-14],[.0002065924169942,5.9209831565786,.37648624194703],[.0001589869764021,.28744006242623,.8782079244252],[-.0001561131605348,2.1257397865089,.00012727441285],[.0001486043380971,1.4462134301023,3.5515522949802],[635073108731e-16,5.9096803285954,1.7693227129285],[599351698525e-16,4.1125517584798,-2.7985797954589],[540660842731e-16,5.5390350845569,.00286834082283],[-489596900866e-16,4.6218149483338,-.62695712529519]],zeta:[[.0038422977898495,2.4133922085557,0],[.0022453891791894,5.9721736773277,-3056125525e-14],[-.0002604479450559,3.3368746306409,-.00012491309972],[33211214323e-15,5.5604137742337,.00290037688507]]}];class ne{constructor(S,x,U,Z){this.io=S,this.europa=x,this.ganymede=U,this.callisto=Z}}a.JupiterMoonsInfo=ne;function Te(y,S,x){const U=x[0],Z=x[1],K=x[2],ht=x[3],xt=x[4],yt=x[5],re=Math.sqrt(S/(U*U*U));let me,se,Ne,Ye=Z+K*Math.sin(Z)-ht*Math.cos(Z);do me=Math.cos(Ye),se=Math.sin(Ye),Ne=(Z-Ye+K*se-ht*me)/(1-K*me-ht*se),Ye+=Ne;while(Math.abs(Ne)>=1e-12);me=Math.cos(Ye),se=Math.sin(Ye);const $e=ht*me-K*se,cr=-K*me-ht*se,Vr=1/(1+cr),Qr=Math.sqrt(1-K*K-ht*ht),Kr=1/(1+Qr),$r=U*(me-K-Kr*ht*$e),tr=U*(se-ht+Kr*K*$e),dn=re*Vr*U*(-se-Kr*ht*cr),Zn=re*Vr*U*(+me+Kr*K*cr),Pi=2*Math.sqrt(1-xt*xt-yt*yt),_i=1-2*yt*yt,ki=1-2*xt*xt,Xi=2*yt*xt;return new en($r*_i+tr*Xi,$r*Xi+tr*ki,(xt*tr-$r*yt)*Pi,dn*_i+Zn*Xi,dn*Xi+Zn*ki,(xt*Zn-dn*yt)*Pi,y)}function Yt(y,S){const x=y.tt+18262.5,U=[0,S.al[0]+x*S.al[1],0,0,0,0];for(let[K,ht,xt]of S.a)U[0]+=K*Math.cos(ht+x*xt);for(let[K,ht,xt]of S.l)U[1]+=K*Math.sin(ht+x*xt);U[1]%=u,U[1]<0&&(U[1]+=u);for(let[K,ht,xt]of S.z){const yt=ht+x*xt;U[2]+=K*Math.cos(yt),U[3]+=K*Math.sin(yt)}for(let[K,ht,xt]of S.zeta){const yt=ht+x*xt;U[4]+=K*Math.cos(yt),U[5]+=K*Math.sin(yt)}const Z=Te(y,S.mu,U);return ta(pt,Z)}function pe(y){const S=new $(y);return new ne(Yt(S,ce[0]),Yt(S,ce[1]),Yt(S,ce[2]),Yt(S,ce[3]))}a.JupiterMoons=pe;function ze(y,S){var x=dt(S);if(y in $t)return $o($t[y],x);if(y===ft.Pluto){const K=Xt(x,!0);return new Tn(K.x,K.y,K.z,x)}if(y===ft.Sun)return new Tn(0,0,0,x);if(y===ft.Moon){var U=$o($t.Earth,x),Z=Qo(x);return new Tn(U.x+Z.x,U.y+Z.y,U.z+Z.z,x)}if(y===ft.EMB){const K=$o($t.Earth,x),ht=Qo(x),xt=1+ye;return new Tn(K.x+ht.x/xt,K.y+ht.y/xt,K.z+ht.z/xt,x)}if(y===ft.SSB)return pn(x);throw`HelioVector: Unknown body "${y}"`}a.HelioVector=ze;function sr(y,S){const x=dt(S);return y in $t?jo($t[y][yu],x.tt/ks,!1):ze(y,x).Length()}a.HelioDistance=sr;class Tr{}a.PositionFunction=Tr;function Zr(y,S){let x=S,U;for(let Z=0;Z<10;++Z){const K=y.Position(x),ht=S.AddDays(-K.Length()/a.C_AUDAY);if(U=Math.abs(ht.tt-x.tt),U<1e-9)return K;x=ht}throw"Light-travel time solver did not converge."}a.CorrectLightTravel=Zr;class pr extends Tr{constructor(S,x,U,Z){super();this.observerBody=S,this.targetBody=x,this.aberration=U,this.observerPos=Z}Position(S){this.aberration&&(this.observerPos=ze(this.observerBody,S));const x=ze(this.targetBody,S);return new Tn(x.x-this.observerPos.x,x.y-this.observerPos.y,x.z-this.observerPos.z,S)}}function je(y,S,x,U){Ur(U);const Z=dt(y);let K;U?K=new Tn(0,0,0,Z):K=ze(S,Z);const ht=new pr(S,x,U,K);return Zr(ht,Z)}a.BackdatePosition=je;function Rr(y,S,x){Ur(x);const U=dt(S);switch(y){case ft.Earth:return new Tn(0,0,0,U);case ft.Moon:return Qo(U);default:const Z=je(U,ft.Earth,y,x);return Z.t=U,Z}}a.GeoVector=Rr;function vr(y,S){return new en(y.r.x,y.r.y,y.r.z,y.v.x,y.v.y,y.v.z,S)}function Zt(y,S){const x=dt(S);if(y===ft.SSB)return new en(0,0,0,0,0,0,x);if(y===ft.Pluto)return Xt(x,!1);const U=new O(x.tt);switch(y){case ft.Sun:return vr(U.Sun,x);case ft.Jupiter:return vr(U.Jupiter,x);case ft.Saturn:return vr(U.Saturn,x);case ft.Uranus:return vr(U.Uranus,x);case ft.Neptune:return vr(U.Neptune,x);case ft.Moon:case ft.EMB:const Z=go($t[ft.Earth],x.tt),K=y===ft.Moon?_o(x):mu(x);return new en(K.x+U.Sun.r.x+Z.r.x,K.y+U.Sun.r.y+Z.r.y,K.z+U.Sun.r.z+Z.r.z,K.vx+U.Sun.v.x+Z.v.x,K.vy+U.Sun.v.y+Z.v.y,K.vz+U.Sun.v.z+Z.v.z,x)}if(y in $t){const Z=go($t[y],x.tt);return new en(U.Sun.r.x+Z.r.x,U.Sun.r.y+Z.r.y,U.Sun.r.z+Z.r.z,U.Sun.v.x+Z.v.x,U.Sun.v.y+Z.v.y,U.Sun.v.z+Z.v.z,x)}throw`BaryState: Unsupported body "${y}"`}a.BaryState=Zt;function Jt(y,S){const x=dt(S);switch(y){case ft.Sun:return new en(0,0,0,0,0,0,x);case ft.SSB:const U=new O(x.tt);return new en(-U.Sun.r.x,-U.Sun.r.y,-U.Sun.r.z,-U.Sun.v.x,-U.Sun.v.y,-U.Sun.v.z,x);case ft.Mercury:case ft.Venus:case ft.Earth:case ft.Mars:case ft.Jupiter:case ft.Saturn:case ft.Uranus:case ft.Neptune:const Z=go($t[y],x.tt);return vr(Z,x);case ft.Pluto:return Xt(x,!0);case ft.Moon:case ft.EMB:const K=go($t.Earth,x.tt),ht=y==ft.Moon?_o(x):mu(x);return new en(ht.x+K.r.x,ht.y+K.r.y,ht.z+K.r.z,ht.vx+K.v.x,ht.vy+K.v.y,ht.vz+K.v.z,x);default:throw`HelioState: Unsupported body "${y}"`}}a.HelioState=Jt;function Le(y,S,x,U,Z){let K=(Z+x)/2-U,ht=(Z-x)/2,xt=U,yt;if(K==0){if(ht==0||(yt=-xt/ht,yt<-1||yt>1))return null}else{let se=ht*ht-4*K*xt;if(se<=0)return null;let Ne=Math.sqrt(se),Ye=(-ht+Ne)/(2*K),$e=(-ht-Ne)/(2*K);if(-1<=Ye&&Ye<=1){if(-1<=$e&&$e<=1)return null;yt=Ye}else if(-1<=$e&&$e<=1)yt=$e;else return null}let re=y+yt*S,me=(2*K*yt+ht)/S;return{x:yt,t:re,df_dt:me}}function xe(y,S,x,U){const Z=Vt(U&&U.dt_tolerance_seconds||1),K=Math.abs(Z/z);let ht=U&&U.init_f1||y(S),xt=U&&U.init_f2||y(x),yt=NaN,re=0,me=U&&U.iter_limit||20,se=!0;for(;;){if(++re>me)throw"Excessive iteration in Search()";let Ne=Q(S,x,.5),Ye=Ne.ut-S.ut;if(Math.abs(Ye)<K)return Ne;se?yt=y(Ne):se=!0;let $e=Le(Ne.ut,x.ut-Ne.ut,ht,yt,xt);if($e){let cr=dt($e.t),Vr=y(cr);if($e.df_dt!==0){if(Math.abs(Vr/$e.df_dt)<K)return cr;let Qr=1.2*Math.abs(Vr/$e.df_dt);if(Qr<Ye/10){let Kr=cr.AddDays(-Qr),$r=cr.AddDays(+Qr);if((Kr.ut-S.ut)*(Kr.ut-x.ut)<0&&($r.ut-S.ut)*($r.ut-x.ut)<0){let tr=y(Kr),dn=y($r);if(tr<0&&dn>=0){ht=tr,xt=dn,S=Kr,x=$r,yt=Vr,se=!1;continue}}}}}if(ht<0&&yt>=0){x=Ne,xt=yt;continue}if(yt<0&&xt>=0){S=Ne,ht=yt;continue}return null}}a.Search=xe;function yr(y){let S=y;for(;S<=-180;)S+=360;for(;S>180;)S-=360;return S}function dr(y){for(;y<0;)y+=360;for(;y>=360;)y-=360;return y}function Lr(y,S,x){function U(ht){let xt=Xu(ht);return yr(xt.elon-y)}Vt(y),Vt(x);let Z=dt(S),K=Z.AddDays(x);return xe(U,Z,K,{dt_tolerance_seconds:.01})}a.SearchSunLongitude=Lr;function nr(y,S,x){if(y===ft.Earth||S===ft.Earth)throw"The Earth does not have a longitude as seen from itself.";const U=dt(x),Z=Rr(y,U,!1),K=Fa(Z),ht=Rr(S,U,!1),xt=Fa(ht);return dr(K.elon-xt.elon)}a.PairLongitude=nr;function ur(y,S){if(y==ft.Earth)throw"The Earth does not have an angle as seen from itself.";const x=dt(S),U=Rr(ft.Sun,x,!0),Z=Rr(y,x,!0);return Tt(U,Z)}a.AngleFromSun=ur;function Or(y,S){if(y===ft.Sun)throw"Cannot calculate heliocentric longitude of the Sun.";const x=ze(y,S);return Fa(x).elon}a.EclipticLongitude=Or;function xn(y,S,x,U){let Z,K=0,ht=0,xt=0;switch(y){case ft.Mercury:Z=-.6,K=4.98,ht=-4.88,xt=3.02;break;case ft.Venus:S<163.6?(Z=-4.47,K=1.03,ht=.57,xt=.13):(Z=.98,K=-1.02);break;case ft.Mars:Z=-1.52,K=1.6;break;case ft.Jupiter:Z=-9.4,K=.5;break;case ft.Uranus:Z=-7.19,K=.25;break;case ft.Neptune:Z=-6.87;break;case ft.Pluto:Z=-1,K=4;break;default:throw`VisualMagnitude: unsupported body ${y}`}const yt=S/100;let re=Z+yt*(K+yt*(ht+yt*xt));return re+=5*Math.log10(x*U),re}function It(y,S,x,U,Z){const K=Fa(U),ht=a.DEG2RAD*28.06,xt=a.DEG2RAD*(169.51+382e-7*Z.tt),yt=a.DEG2RAD*K.elat,re=a.DEG2RAD*K.elon,me=Math.asin(Math.sin(yt)*Math.cos(ht)-Math.cos(yt)*Math.sin(ht)*Math.sin(re-xt)),se=Math.sin(Math.abs(me));let Ne=-9+.044*y;return Ne+=se*(-2.6+1.2*se),Ne+=5*Math.log10(S*x),{mag:Ne,ring_tilt:a.RAD2DEG*me}}function oe(y,S,x){let U=y*a.DEG2RAD,Z=U*U,K=Z*Z,ht=-12.717+1.49*Math.abs(U)+.0431*K;const xt=385000.6/a.KM_PER_AU;let yt=x/xt;return ht+=5*Math.log10(S*yt),ht}class ge{constructor(S,x,U,Z,K,ht,xt,yt){this.time=S,this.mag=x,this.phase_angle=U,this.helio_dist=Z,this.geo_dist=K,this.gc=ht,this.hc=xt,this.ring_tilt=yt,this.phase_fraction=(1+Math.cos(a.DEG2RAD*U))/2}}a.IlluminationInfo=ge;function Ce(y,S){if(y===ft.Earth)throw"The illumination of the Earth is not defined.";const x=dt(S),U=$o($t.Earth,x);let Z,K,ht,xt;y===ft.Sun?(ht=new Tn(-U.x,-U.y,-U.z,x),K=new Tn(0,0,0,x),Z=0):(y===ft.Moon?(ht=Qo(x),K=new Tn(U.x+ht.x,U.y+ht.y,U.z+ht.z,x)):(K=ze(y,S),ht=new Tn(K.x-U.x,K.y-U.y,K.z-U.z,x)),Z=Tt(ht,K));let yt=ht.Length(),re=K.Length(),me;if(y===ft.Sun)xt=k+5*Math.log10(yt);else if(y===ft.Moon)xt=oe(Z,re,yt);else if(y===ft.Saturn){const se=It(Z,re,yt,ht,x);xt=se.mag,me=se.ring_tilt}else xt=xn(y,Z,re,yt);return new ge(x,xt,Z,re,yt,ht,K,me)}a.Illumination=Ce;function Ge(y){if(y===ft.Earth)throw"The Earth does not have a synodic period as seen from itself.";if(y===ft.Moon)return C;let S=Qt[y];if(!S)throw`Not a valid planet name: ${y}`;const x=Qt.Earth.OrbitalPeriod,U=S.OrbitalPeriod;return Math.abs(x/(x/U-1))}function qe(y,S,x){Vt(S);const U=Qt[y];if(!U)throw`Cannot search relative longitude because body is not a planet: ${y}`;if(y===ft.Earth)throw"Cannot search relative longitude for the Earth (it is always 0)";const Z=U.OrbitalPeriod>Qt.Earth.OrbitalPeriod?1:-1;function K(re){const me=Or(y,re),se=Or(ft.Earth,re),Ne=Z*(se-me);return yr(Ne-S)}let ht=Ge(y),xt=dt(x),yt=K(xt);yt>0&&(yt-=360);for(let re=0;re<100;++re){let me=-yt/360*ht;if(xt=xt.AddDays(me),Math.abs(me)*z<1)return xt;let se=yt;if(yt=K(xt),Math.abs(se)<30&&se!==yt){let Ne=se/(se-yt);Ne>.5&&Ne<2&&(ht*=Ne)}}throw`Relative longitude search failed to converge for ${y} near ${xt.toString()} (error_angle = ${yt}).`}a.SearchRelativeLongitude=qe;function ir(y){return nr(ft.Moon,ft.Sun,y)}a.MoonPhase=ir;function rr(y,S,x){function U(Ne){let Ye=ir(Ne);return yr(Ye-y)}Vt(y),Vt(x);const Z=1.5;let K=dt(S),ht=U(K);ht>0&&(ht-=360);let xt=-(C*ht)/360,yt=xt-Z;if(yt>x)return null;let re=Math.min(x,xt+Z),me=K.AddDays(yt),se=K.AddDays(re);return xe(U,me,se)}a.SearchMoonPhase=rr;class Jr{constructor(S,x){this.quarter=S,this.time=x}}a.MoonQuarter=Jr;function Yr(y){let S=ir(y),U=(Math.floor(S/90)+1)%4,Z=rr(90*U,y,10);if(!Z)throw"Cannot find moon quarter";return new Jr(U,Z)}a.SearchMoonQuarter=Yr;function hn(y){let S=new Date(y.time.date.getTime()+6*it);return Yr(S)}a.NextMoonQuarter=hn;function On(y){switch(y){case ft.Sun:return J;case ft.Moon:return Wt;default:return 0}}function Vn(y,S,x,U,Z){let K=On(y);function ht(xt){const yt=qo(y,xt,S,!0,!0),me=Ja(xt,S,yt.ra,yt.dec).altitude+a.RAD2DEG*(K/yt.dist)+le;return x*me}return fe(y,S,x,U,Z,ht)}a.SearchRiseSet=Vn;function mr(y,S,x,U,Z,K){if(!Number.isFinite(K)||K<-90||K>90)throw`Invalid altitude angle: ${K}`;function ht(xt){const yt=qo(y,xt,S,!0,!0),re=Ja(xt,S,yt.ra,yt.dec);return x*(re.altitude-K)}return fe(y,S,x,U,Z,ht)}a.SearchAltitude=mr;function fe(y,S,x,U,Z,K){if(_a(S),Vt(Z),Z<=0)throw`Invalid value for limitDays: ${Z}`;if(y===ft.Earth)throw"Cannot find altitude event for the Earth.";let ht,xt;if(x===1)ht=12,xt=0;else if(x===-1)ht=0,xt=12;else throw`Invalid direction parameter ${x} -- must be +1 or -1`;let yt=dt(U),re,me,se,Ne=K(yt),Ye;for(Ne>0?(me=An(y,S,ht,yt),re=me.time,Ne=K(re)):re=yt,se=An(y,S,xt,re),Ye=K(se.time);;){if(Ne<=0&&Ye>0){let $e=xe(K,re,se.time,{init_f1:Ne,init_f2:Ye});if($e)return $e}if(me=An(y,S,ht,se.time),se=An(y,S,xt,me.time),me.time.ut>=yt.ut+Z)return null;re=me.time,Ne=K(me.time),Ye=K(se.time)}}class ci{constructor(S,x){this.time=S,this.hor=x}}a.HourAngleEvent=ci;function An(y,S,x,U){_a(S);let Z=dt(U),K=0;if(y===ft.Earth)throw"Cannot search for hour angle of the Earth.";if(Vt(x),x<0||x>=24)throw`Invalid hour angle ${x}`;for(;;){++K;let ht=zn(Z),xt=qo(y,Z,S,!0,!0),yt=(x+xt.ra-S.longitude/15-ht)%24;if(K===1?yt<0&&(yt+=24):yt<-12?yt+=24:yt>12&&(yt-=24),Math.abs(yt)*3600<.1){const me=Ja(Z,S,xt.ra,xt.dec,"normal");return new ci(Z,me)}let re=yt/24*q;Z=Z.AddDays(re)}}a.SearchHourAngle=An;class zr{constructor(S,x,U,Z){this.mar_equinox=S,this.jun_solstice=x,this.sep_equinox=U,this.dec_solstice=Z}}a.SeasonInfo=zr;function nn(y){function S(ht,xt,yt){let re=new Date(Date.UTC(y,xt-1,yt)),me=Lr(ht,re,20);if(!me)throw`Cannot find season change near ${re.toISOString()}`;return me}if(y instanceof Date&&Number.isFinite(y.getTime())&&(y=y.getUTCFullYear()),!Number.isSafeInteger(y))throw`Cannot calculate seasons because year argument ${y} is neither a Date nor a safe integer.`;let x=S(0,3,10),U=S(90,6,10),Z=S(180,9,10),K=S(270,12,10);return new zr(x,U,Z,K)}a.Seasons=nn;class sn{constructor(S,x,U,Z){this.time=S,this.visibility=x,this.elongation=U,this.ecliptic_separation=Z}}a.ElongationEvent=sn;function an(y,S){let x=dt(S),U=nr(y,ft.Sun,x),Z;U>180?(Z="morning",U=360-U):Z="evening";let K=ur(y,x);return new sn(x,Z,K,U)}a.Elongation=an;function Bn(y,S){function U(yt){const re=yt.AddDays(-.005),me=yt.AddDays(.01/2);let se=ur(y,re),Ne=ur(y,me);return(se-Ne)/.01}let Z=dt(S);const ht={Mercury:{s1:50,s2:85},Venus:{s1:40,s2:50}}[y];if(!ht)throw"SearchMaxElongation works for Mercury and Venus only.";let xt=0;for(;++xt<=2;){let yt=Or(y,Z),re=Or(ft.Earth,Z),me=yr(yt-re),se,Ne,Ye;me>=-ht.s1&&me<+ht.s1?(Ye=0,se=+ht.s1,Ne=+ht.s2):me>=+ht.s2||me<-ht.s2?(Ye=0,se=-ht.s2,Ne=-ht.s1):me>=0?(Ye=-Ge(y)/4,se=+ht.s1,Ne=+ht.s2):(Ye=-Ge(y)/4,se=-ht.s2,Ne=-ht.s1);let $e=Z.AddDays(Ye),cr=qe(y,se,$e),Vr=qe(y,Ne,cr),Qr=U(cr);if(Qr>=0)throw`SearchMaxElongation: internal error: m1 = ${Qr}`;let Kr=U(Vr);if(Kr<=0)throw`SearchMaxElongation: internal error: m2 = ${Kr}`;let $r=xe(U,cr,Vr,{init_f1:Qr,init_f2:Kr,dt_tolerance_seconds:10});if(!$r)throw`SearchMaxElongation: failed search iter ${xt} (t1=${cr.toString()}, t2=${Vr.toString()})`;if($r.tt>=Z.tt)return an(y,$r);Z=Vr.AddDays(1)}throw"SearchMaxElongation: failed to find event after 2 tries."}a.SearchMaxElongation=Bn;function di(y,S){if(y!==ft.Venus)throw"SearchPeakMagnitude currently works for Venus only.";const x=.01;function U(yt){const re=yt.AddDays(-x/2),me=yt.AddDays(+x/2),se=Ce(y,re).mag;return(Ce(y,me).mag-se)/x}let Z=dt(S);const K=10,ht=30;let xt=0;for(;++xt<=2;){let yt=Or(y,Z),re=Or(ft.Earth,Z),me=yr(yt-re),se,Ne,Ye;me>=-K&&me<+K?(Ye=0,se=+K,Ne=+ht):me>=+ht||me<-ht?(Ye=0,se=-ht,Ne=-K):me>=0?(Ye=-Ge(y)/4,se=+K,Ne=+ht):(Ye=-Ge(y)/4,se=-ht,Ne=-K);let $e=Z.AddDays(Ye),cr=qe(y,se,$e),Vr=qe(y,Ne,cr),Qr=U(cr);if(Qr>=0)throw`SearchPeakMagnitude: internal error: m1 = ${Qr}`;let Kr=U(Vr);if(Kr<=0)throw`SearchPeakMagnitude: internal error: m2 = ${Kr}`;let $r=xe(U,cr,Vr,{init_f1:Qr,init_f2:Kr,dt_tolerance_seconds:10});if(!$r)throw`SearchPeakMagnitude: failed search iter ${xt} (t1=${cr.toString()}, t2=${Vr.toString()})`;if($r.tt>=Z.tt)return Ce(y,$r);Z=Vr.AddDays(1)}throw"SearchPeakMagnitude: failed to find event after 2 tries."}a.SearchPeakMagnitude=di;var ai;(function(y){y[y.Pericenter=0]="Pericenter",y[y.Apocenter=1]="Apocenter"})(ai=a.ApsisKind||(a.ApsisKind={}));class wi{constructor(S,x,U){this.time=S,this.kind=x,this.dist_au=U,this.dist_km=U*a.KM_PER_AU}}a.Apsis=wi;function zi(y){function x(yt){let re=yt.AddDays(-5e-4),me=yt.AddDays(.001/2),se=Fn(re).distance_au;return(Fn(me).distance_au-se)/.001}function U(yt){return-x(yt)}let Z=dt(y),K=x(Z);const ht=5;for(var xt=0;xt*ht<2*C;++xt){let yt=Z.AddDays(ht),re=x(yt);if(K*re<=0){if(K<0||re>0){let me=xe(x,Z,yt,{init_f1:K,init_f2:re});if(!me)throw"SearchLunarApsis INTERNAL ERROR: perigee search failed!";let se=Fn(me).distance_au;return new wi(me,0,se)}if(K>0||re<0){let me=xe(U,Z,yt,{init_f1:-K,init_f2:-re});if(!me)throw"SearchLunarApsis INTERNAL ERROR: apogee search failed!";let se=Fn(me).distance_au;return new wi(me,1,se)}throw"SearchLunarApsis INTERNAL ERROR: cannot classify apsis event!"}Z=yt,K=re}throw"SearchLunarApsis INTERNAL ERROR: could not find apsis within 2 synodic months of start date."}a.SearchLunarApsis=zi;function ri(y){let x=zi(y.time.AddDays(11));if(x.kind+y.kind!==1)throw`NextLunarApsis INTERNAL ERROR: did not find alternating apogee/perigee: prev=${y.kind} @ ${y.time.toString()}, next=${x.kind} @ ${x.time.toString()}`;return x}a.NextLunarApsis=ri;function Wn(y,S,x,U){const Z=S===ai.Apocenter?1:-1,K=10;for(;;){const ht=U/(K-1);if(ht<1/1440){const re=x.AddDays(ht/2),me=sr(y,re);return new wi(re,S,me)}let xt=-1,yt=0;for(let re=0;re<K;++re){const me=x.AddDays(re*ht),se=Z*sr(y,me);(re==0||se>yt)&&(xt=re,yt=se)}x=x.AddDays((xt-1)*ht),U=2*ht}}function yi(y,S){const U=S.AddDays(Qt[y].OrbitalPeriod*-.08333333333333333),Z=S.AddDays(Qt[y].OrbitalPeriod*(270/360));let K=U,ht=U,xt=-1,yt=-1;const re=(Z.ut-U.ut)/(100-1);for(let Ne=0;Ne<100;++Ne){const Ye=U.AddDays(Ne*re),$e=sr(y,Ye);Ne===0?yt=xt=$e:($e>yt&&(yt=$e,ht=Ye),$e<xt&&(xt=$e,K=Ye))}const me=Wn(y,0,K.AddDays(-2*re),4*re),se=Wn(y,1,ht.AddDays(-2*re),4*re);if(me.time.tt>=S.tt)return se.time.tt>=S.tt&&se.time.tt<me.time.tt?se:me;if(se.time.tt>=S.tt)return se;throw"Internal error: failed to find Neptune apsis."}function vn(y,S){if(S=dt(S),y===ft.Neptune||y===ft.Pluto)return yi(y,S);function x(yt){let me=yt.AddDays(-5e-4),se=yt.AddDays(.001/2),Ne=sr(y,me);return(sr(y,se)-Ne)/.001}function U(yt){return-x(yt)}const Z=Qt[y].OrbitalPeriod,K=Z/6;let ht=S,xt=x(ht);for(let yt=0;yt*K<2*Z;++yt){const re=ht.AddDays(K),me=x(re);if(xt*me<=0){let se,Ne;if(xt<0||me>0)se=x,Ne=ai.Pericenter;else if(xt>0||me<0)se=U,Ne=ai.Apocenter;else throw"Internal error with slopes in SearchPlanetApsis";const Ye=xe(se,ht,re);if(!Ye)throw"Failed to find slope transition in planetary apsis search.";const $e=sr(y,Ye);return new wi(Ye,Ne,$e)}ht=re,xt=me}throw"Internal error: should have found planetary apsis within 2 orbital periods."}a.SearchPlanetApsis=vn;function Da(y,S){if(S.kind!==ai.Pericenter&&S.kind!==ai.Apocenter)throw`Invalid apsis kind: ${S.kind}`;const x=.25*Qt[y].OrbitalPeriod,U=S.time.AddDays(x),Z=vn(y,U);if(Z.kind+S.kind!==1)throw`Internal error: previous apsis was ${S.kind}, but found ${Z.kind} for next apsis.`;return Z}a.NextPlanetApsis=Da;function Dn(y){return new ei([[y.rot[0][0],y.rot[1][0],y.rot[2][0]],[y.rot[0][1],y.rot[1][1],y.rot[2][1]],[y.rot[0][2],y.rot[1][2],y.rot[2][2]]])}a.InverseRotation=Dn;function ha(y,S){return new ei([[S.rot[0][0]*y.rot[0][0]+S.rot[1][0]*y.rot[0][1]+S.rot[2][0]*y.rot[0][2],S.rot[0][1]*y.rot[0][0]+S.rot[1][1]*y.rot[0][1]+S.rot[2][1]*y.rot[0][2],S.rot[0][2]*y.rot[0][0]+S.rot[1][2]*y.rot[0][1]+S.rot[2][2]*y.rot[0][2]],[S.rot[0][0]*y.rot[1][0]+S.rot[1][0]*y.rot[1][1]+S.rot[2][0]*y.rot[1][2],S.rot[0][1]*y.rot[1][0]+S.rot[1][1]*y.rot[1][1]+S.rot[2][1]*y.rot[1][2],S.rot[0][2]*y.rot[1][0]+S.rot[1][2]*y.rot[1][1]+S.rot[2][2]*y.rot[1][2]],[S.rot[0][0]*y.rot[2][0]+S.rot[1][0]*y.rot[2][1]+S.rot[2][0]*y.rot[2][2],S.rot[0][1]*y.rot[2][0]+S.rot[1][1]*y.rot[2][1]+S.rot[2][1]*y.rot[2][2],S.rot[0][2]*y.rot[2][0]+S.rot[1][2]*y.rot[2][1]+S.rot[2][2]*y.rot[2][2]]])}a.CombineRotation=ha;function Vi(){return new ei([[1,0,0],[0,1,0],[0,0,1]])}a.IdentityMatrix=Vi;function Eo(y,S,x){if(S!==0&&S!==1&&S!==2)throw`Invalid axis ${S}. Must be [0, 1, 2].`;const U=Vt(x)*a.DEG2RAD,Z=Math.cos(U),K=Math.sin(U),ht=(S+1)%3,xt=(S+2)%3,yt=S;let re=[[0,0,0],[0,0,0],[0,0,0]];return re[ht][ht]=Z*y.rot[ht][ht]-K*y.rot[ht][xt],re[ht][xt]=K*y.rot[ht][ht]+Z*y.rot[ht][xt],re[ht][yt]=y.rot[ht][yt],re[xt][ht]=Z*y.rot[xt][ht]-K*y.rot[xt][xt],re[xt][xt]=K*y.rot[xt][ht]+Z*y.rot[xt][xt],re[xt][yt]=y.rot[xt][yt],re[yt][ht]=Z*y.rot[yt][ht]-K*y.rot[yt][xt],re[yt][xt]=K*y.rot[yt][ht]+Z*y.rot[yt][xt],re[yt][yt]=y.rot[yt][yt],new ei(re)}a.Pivot=Eo;function bs(y,S){S=dt(S);const x=y.lat*a.DEG2RAD,U=y.lon*a.DEG2RAD,Z=y.dist*Math.cos(x);return new Tn(Z*Math.cos(U),Z*Math.sin(U),y.dist*Math.sin(x),S)}a.VectorFromSphere=bs;function Wi(y){const S=ds(y);return new Io(S.lon/15,S.lat,S.dist,y)}a.EquatorFromVector=Wi;function ds(y){const S=y.x*y.x+y.y*y.y,x=Math.sqrt(S+y.z*y.z);let U,Z;if(S===0){if(y.z===0)throw"Zero-length vector not allowed.";Z=0,U=y.z<0?-90:90}else Z=a.RAD2DEG*Math.atan2(y.y,y.x),Z<0&&(Z+=360),U=a.RAD2DEG*Math.atan2(y.z,Math.sqrt(S));return new Ti(U,Z,x)}a.SphereFromVector=ds;function Go(y){return y=360-y,y>=360?y-=360:y<0&&(y+=360),y}function Ea(y,S){const x=ds(y);return x.lon=Go(x.lon),x.lat+=So(S,x.lat),x}a.HorizonFromVector=Ea;function As(y,S,x){S=dt(S);const U=Go(y.lon),Z=y.lat+Yn(x,y.lat),K=new Ti(Z,U,y.dist);return bs(K,S)}a.VectorFromHorizon=As;function So(y,S){let x;if(Vt(S),S<-90||S>90)return 0;if(y==="normal"||y==="jplhor"){let U=S;U<-1&&(U=-1),x=1.02/Math.tan((U+10.3/(U+5.11))*a.DEG2RAD)/60,y==="normal"&&S<-1&&(x*=(S+90)/89)}else if(!y)x=0;else throw`Invalid refraction option: ${y}`;return x}a.Refraction=So;function Yn(y,S){if(S<-90||S>90)return 0;let x=S-So(y,S);for(;;){let U=x+So(y,x)-S;if(Math.abs(U)<1e-14)return x-S;x-=U}}a.InverseRefraction=Yn;function gn(y,S){return new Tn(y.rot[0][0]*S.x+y.rot[1][0]*S.y+y.rot[2][0]*S.z,y.rot[0][1]*S.x+y.rot[1][1]*S.y+y.rot[2][1]*S.z,y.rot[0][2]*S.x+y.rot[1][2]*S.y+y.rot[2][2]*S.z,S.t)}a.RotateVector=gn;function ta(y,S){return new en(y.rot[0][0]*S.x+y.rot[1][0]*S.y+y.rot[2][0]*S.z,y.rot[0][1]*S.x+y.rot[1][1]*S.y+y.rot[2][1]*S.z,y.rot[0][2]*S.x+y.rot[1][2]*S.y+y.rot[2][2]*S.z,y.rot[0][0]*S.vx+y.rot[1][0]*S.vy+y.rot[2][0]*S.vz,y.rot[0][1]*S.vx+y.rot[1][1]*S.vy+y.rot[2][1]*S.vz,y.rot[0][2]*S.vx+y.rot[1][2]*S.vy+y.rot[2][2]*S.vz,S.t)}a.RotateState=ta;function oa(){const y=.9174821430670688,S=.3977769691083922;return new ei([[1,0,0],[0,+y,-S],[0,+S,+y]])}a.Rotation_EQJ_ECL=oa;function zs(){const y=.9174821430670688,S=.3977769691083922;return new ei([[1,0,0],[0,+y,+S],[0,-S,+y]])}a.Rotation_ECL_EQJ=zs;function ps(y){y=dt(y);const S=Li(y,Rt.From2000),x=rn(y,Rt.From2000);return ha(S,x)}a.Rotation_EQJ_EQD=ps;function Un(y){y=dt(y);const S=rn(y,Rt.Into2000),x=Li(y,Rt.Into2000);return ha(S,x)}a.Rotation_EQD_EQJ=Un;function $i(y,S){y=dt(y);const x=Math.sin(S.latitude*a.DEG2RAD),U=Math.cos(S.latitude*a.DEG2RAD),Z=Math.sin(S.longitude*a.DEG2RAD),K=Math.cos(S.longitude*a.DEG2RAD),ht=[U*K,U*Z,x],xt=[-x*K,-x*Z,U],yt=[Z,-K,0],re=-15*zn(y),me=Za(re,ht),se=Za(re,xt),Ne=Za(re,yt);return new ei([[se[0],Ne[0],me[0]],[se[1],Ne[1],me[1]],[se[2],Ne[2],me[2]]])}a.Rotation_EQD_HOR=$i;function ts(y,S){const x=$i(y,S);return Dn(x)}a.Rotation_HOR_EQD=ts;function ja(y,S){y=dt(y);const x=ts(y,S),U=Un(y);return ha(x,U)}a.Rotation_HOR_EQJ=ja;function da(y,S){const x=ja(y,S);return Dn(x)}a.Rotation_EQJ_HOR=da;function cn(y){const S=Un(y),x=oa();return ha(S,x)}a.Rotation_EQD_ECL=cn;function is(y){const S=cn(y);return Dn(S)}a.Rotation_ECL_EQD=is;function _u(y,S){y=dt(y);const x=is(y),U=$i(y,S);return ha(x,U)}a.Rotation_ECL_HOR=_u;function xl(y,S){const x=_u(y,S);return Dn(x)}a.Rotation_HOR_ECL=xl;function vs(){return new ei([[-.0548624779711344,.4941095946388765,-.8676668813529025],[-.8734572784246782,-.4447938112296831,-.1980677870294097],[-.483800052994852,.7470034631630423,.4559861124470794]])}a.Rotation_EQJ_GAL=vs;function Ee(){return new ei([[-.0548624779711344,-.8734572784246782,-.483800052994852],[.4941095946388765,-.4447938112296831,.7470034631630423],[-.8676668813529025,-.1980677870294097,.4559861124470794]])}a.Rotation_GAL_EQJ=Ee;const Aa=[["And","Andromeda"],["Ant","Antila"],["Aps","Apus"],["Aql","Aquila"],["Aqr","Aquarius"],["Ara","Ara"],["Ari","Aries"],["Aur","Auriga"],["Boo","Bootes"],["Cae","Caelum"],["Cam","Camelopardis"],["Cap","Capricornus"],["Car","Carina"],["Cas","Cassiopeia"],["Cen","Centaurus"],["Cep","Cepheus"],["Cet","Cetus"],["Cha","Chamaeleon"],["Cir","Circinus"],["CMa","Canis Major"],["CMi","Canis Minor"],["Cnc","Cancer"],["Col","Columba"],["Com","Coma Berenices"],["CrA","Corona Australis"],["CrB","Corona Borealis"],["Crt","Crater"],["Cru","Crux"],["Crv","Corvus"],["CVn","Canes Venatici"],["Cyg","Cygnus"],["Del","Delphinus"],["Dor","Dorado"],["Dra","Draco"],["Equ","Equuleus"],["Eri","Eridanus"],["For","Fornax"],["Gem","Gemini"],["Gru","Grus"],["Her","Hercules"],["Hor","Horologium"],["Hya","Hydra"],["Hyi","Hydrus"],["Ind","Indus"],["Lac","Lacerta"],["Leo","Leo"],["Lep","Lepus"],["Lib","Libra"],["LMi","Leo Minor"],["Lup","Lupus"],["Lyn","Lynx"],["Lyr","Lyra"],["Men","Mensa"],["Mic","Microscopium"],["Mon","Monoceros"],["Mus","Musca"],["Nor","Norma"],["Oct","Octans"],["Oph","Ophiuchus"],["Ori","Orion"],["Pav","Pavo"],["Peg","Pegasus"],["Per","Perseus"],["Phe","Phoenix"],["Pic","Pictor"],["PsA","Pisces Austrinus"],["Psc","Pisces"],["Pup","Puppis"],["Pyx","Pyxis"],["Ret","Reticulum"],["Scl","Sculptor"],["Sco","Scorpius"],["Sct","Scutum"],["Ser","Serpens"],["Sex","Sextans"],["Sge","Sagitta"],["Sgr","Sagittarius"],["Tau","Taurus"],["Tel","Telescopium"],["TrA","Triangulum Australe"],["Tri","Triangulum"],["Tuc","Tucana"],["UMa","Ursa Major"],["UMi","Ursa Minor"],["Vel","Vela"],["Vir","Virgo"],["Vol","Volans"],["Vul","Vulpecula"]],aa=[[83,0,8640,2112],[83,2880,5220,2076],[83,7560,8280,2068],[83,6480,7560,2064],[15,0,2880,2040],[10,3300,3840,1968],[15,0,1800,1920],[10,3840,5220,1920],[83,6300,6480,1920],[33,7260,7560,1920],[15,0,1263,1848],[10,4140,4890,1848],[83,5952,6300,1800],[15,7260,7440,1800],[10,2868,3300,1764],[33,3300,4080,1764],[83,4680,5952,1680],[13,1116,1230,1632],[33,7350,7440,1608],[33,4080,4320,1596],[15,0,120,1584],[83,5040,5640,1584],[15,8490,8640,1584],[33,4320,4860,1536],[33,4860,5190,1512],[15,8340,8490,1512],[10,2196,2520,1488],[33,7200,7350,1476],[15,7393.2,7416,1462],[10,2520,2868,1440],[82,2868,3030,1440],[33,7116,7200,1428],[15,7200,7393.2,1428],[15,8232,8340,1418],[13,0,876,1404],[33,6990,7116,1392],[13,612,687,1380],[13,876,1116,1368],[10,1116,1140,1368],[15,8034,8232,1350],[10,1800,2196,1344],[82,5052,5190,1332],[33,5190,6990,1332],[10,1140,1200,1320],[15,7968,8034,1320],[15,7416,7908,1316],[13,0,612,1296],[50,2196,2340,1296],[82,4350,4860,1272],[33,5490,5670,1272],[15,7908,7968,1266],[10,1200,1800,1260],[13,8232,8400,1260],[33,5670,6120,1236],[62,735,906,1212],[33,6120,6564,1212],[13,0,492,1200],[62,492,600,1200],[50,2340,2448,1200],[13,8400,8640,1200],[82,4860,5052,1164],[13,0,402,1152],[13,8490,8640,1152],[39,6543,6564,1140],[33,6564,6870,1140],[30,6870,6900,1140],[62,600,735,1128],[82,3030,3300,1128],[13,60,312,1104],[82,4320,4350,1080],[50,2448,2652,1068],[30,7887,7908,1056],[30,7875,7887,1050],[30,6900,6984,1044],[82,3300,3660,1008],[82,3660,3882,960],[8,5556,5670,960],[39,5670,5880,960],[50,3330,3450,954],[0,0,906,882],[62,906,924,882],[51,6969,6984,876],[62,1620,1689,864],[30,7824,7875,864],[44,7875,7920,864],[7,2352,2652,852],[50,2652,2790,852],[0,0,720,840],[44,7920,8214,840],[44,8214,8232,828],[0,8232,8460,828],[62,924,978,816],[82,3882,3960,816],[29,4320,4440,816],[50,2790,3330,804],[48,3330,3558,804],[0,258,507,792],[8,5466,5556,792],[0,8460,8550,770],[29,4440,4770,768],[0,8550,8640,752],[29,5025,5052,738],[80,870,978,736],[62,978,1620,736],[7,1620,1710,720],[51,6543,6969,720],[82,3960,4320,696],[30,7080,7530,696],[7,1710,2118,684],[48,3558,3780,684],[29,4770,5025,684],[0,0,24,672],[80,507,600,672],[7,2118,2352,672],[37,2838,2880,672],[30,7530,7824,672],[30,6933,7080,660],[80,690,870,654],[25,5820,5880,648],[8,5430,5466,624],[25,5466,5820,624],[51,6612,6792,624],[48,3870,3960,612],[51,6792,6933,612],[80,600,690,600],[66,258,306,570],[48,3780,3870,564],[87,7650,7710,564],[77,2052,2118,548],[0,24,51,528],[73,5730,5772,528],[37,2118,2238,516],[87,7140,7290,510],[87,6792,6930,506],[0,51,306,504],[87,7290,7404,492],[37,2811,2838,480],[87,7404,7650,468],[87,6930,7140,460],[6,1182,1212,456],[75,6792,6840,444],[59,2052,2076,432],[37,2238,2271,420],[75,6840,7140,388],[77,1788,1920,384],[39,5730,5790,384],[75,7140,7290,378],[77,1662,1788,372],[77,1920,2016,372],[23,4620,4860,360],[39,6210,6570,344],[23,4272,4620,336],[37,2700,2811,324],[39,6030,6210,308],[61,0,51,300],[77,2016,2076,300],[37,2520,2700,300],[61,7602,7680,300],[37,2271,2496,288],[39,6570,6792,288],[31,7515,7578,284],[61,7578,7602,284],[45,4146,4272,264],[59,2247,2271,240],[37,2496,2520,240],[21,2811,2853,240],[61,8580,8640,240],[6,600,1182,238],[31,7251,7308,204],[8,4860,5430,192],[61,8190,8580,180],[21,2853,3330,168],[45,3330,3870,168],[58,6570,6718.4,150],[3,6718.4,6792,150],[31,7500,7515,144],[20,2520,2526,132],[73,6570,6633,108],[39,5790,6030,96],[58,6570,6633,72],[61,7728,7800,66],[66,0,720,48],[73,6690,6792,48],[31,7308,7500,48],[34,7500,7680,48],[61,7680,7728,48],[61,7920,8190,48],[61,7800,7920,42],[20,2526,2592,36],[77,1290,1662,0],[59,1662,1680,0],[20,2592,2910,0],[85,5280,5430,0],[58,6420,6570,0],[16,954,1182,-42],[77,1182,1290,-42],[73,5430,5856,-78],[59,1680,1830,-96],[59,2100,2247,-96],[73,6420,6468,-96],[73,6570,6690,-96],[3,6690,6792,-96],[66,8190,8580,-96],[45,3870,4146,-144],[85,4146,4260,-144],[66,0,120,-168],[66,8580,8640,-168],[85,5130,5280,-192],[58,5730,5856,-192],[3,7200,7392,-216],[4,7680,7872,-216],[58,6180,6468,-240],[54,2100,2910,-264],[35,1770,1830,-264],[59,1830,2100,-264],[41,2910,3012,-264],[74,3450,3870,-264],[85,4260,4620,-264],[58,6330,6360,-280],[3,6792,7200,-288.8],[35,1740,1770,-348],[4,7392,7680,-360],[73,6180,6570,-384],[72,6570,6792,-384],[41,3012,3090,-408],[58,5856,5895,-438],[41,3090,3270,-456],[26,3870,3900,-456],[71,5856,5895,-462],[47,5640,5730,-480],[28,4530,4620,-528],[85,4620,5130,-528],[41,3270,3510,-576],[16,600,954,-585.2],[35,954,1350,-585.2],[26,3900,4260,-588],[28,4260,4530,-588],[47,5130,5370,-588],[58,5856,6030,-590],[16,0,600,-612],[11,7680,7872,-612],[4,7872,8580,-612],[16,8580,8640,-612],[41,3510,3690,-636],[35,1692,1740,-654],[46,1740,2202,-654],[11,7200,7680,-672],[41,3690,3810,-700],[41,4530,5370,-708],[47,5370,5640,-708],[71,5640,5760,-708],[35,1650,1692,-720],[58,6030,6336,-720],[76,6336,6420,-720],[41,3810,3900,-748],[19,2202,2652,-792],[41,4410,4530,-792],[41,3900,4410,-840],[36,1260,1350,-864],[68,3012,3372,-882],[35,1536,1650,-888],[76,6420,6900,-888],[65,7680,8280,-888],[70,8280,8400,-888],[36,1080,1260,-950],[1,3372,3960,-954],[70,0,600,-960],[36,600,1080,-960],[35,1392,1536,-960],[70,8400,8640,-960],[14,5100,5370,-1008],[49,5640,5760,-1008],[71,5760,5911.5,-1008],[9,1740,1800,-1032],[22,1800,2370,-1032],[67,2880,3012,-1032],[35,1230,1392,-1056],[71,5911.5,6420,-1092],[24,6420,6900,-1092],[76,6900,7320,-1092],[53,7320,7680,-1092],[35,1080,1230,-1104],[9,1620,1740,-1116],[49,5520,5640,-1152],[63,0,840,-1156],[35,960,1080,-1176],[40,1470,1536,-1176],[9,1536,1620,-1176],[38,7680,7920,-1200],[67,2160,2880,-1218],[84,2880,2940,-1218],[35,870,960,-1224],[40,1380,1470,-1224],[63,0,660,-1236],[12,2160,2220,-1260],[84,2940,3042,-1272],[40,1260,1380,-1276],[32,1380,1440,-1276],[63,0,570,-1284],[35,780,870,-1296],[64,1620,1800,-1296],[49,5418,5520,-1296],[84,3042,3180,-1308],[12,2220,2340,-1320],[14,4260,4620,-1320],[49,5100,5418,-1320],[56,5418,5520,-1320],[32,1440,1560,-1356],[84,3180,3960,-1356],[14,3960,4050,-1356],[5,6300,6480,-1368],[78,6480,7320,-1368],[38,7920,8400,-1368],[40,1152,1260,-1380],[64,1800,1980,-1380],[12,2340,2460,-1392],[63,0,480,-1404],[35,480,780,-1404],[63,8400,8640,-1404],[32,1560,1650,-1416],[56,5520,5911.5,-1440],[43,7320,7680,-1440],[64,1980,2160,-1464],[18,5460,5520,-1464],[5,5911.5,5970,-1464],[18,5370,5460,-1526],[5,5970,6030,-1526],[64,2160,2460,-1536],[12,2460,3252,-1536],[14,4050,4260,-1536],[27,4260,4620,-1536],[14,4620,5232,-1536],[18,4860,4920,-1560],[5,6030,6060,-1560],[40,780,1152,-1620],[69,1152,1650,-1620],[18,5310,5370,-1620],[5,6060,6300,-1620],[60,6300,6480,-1620],[81,7920,8400,-1620],[32,1650,2370,-1680],[18,4920,5310,-1680],[79,5310,6120,-1680],[81,0,480,-1800],[42,1260,1650,-1800],[86,2370,3252,-1800],[12,3252,4050,-1800],[55,4050,4920,-1800],[60,6480,7680,-1800],[43,7680,8400,-1800],[81,8400,8640,-1800],[81,270,480,-1824],[42,0,1260,-1980],[17,2760,4920,-1980],[2,4920,6480,-1980],[52,1260,2760,-2040],[57,0,8640,-2160]];let Yi,Ui;class sa{constructor(S,x,U,Z){this.symbol=S,this.name=x,this.ra1875=U,this.dec1875=Z}}a.ConstellationInfo=sa;function nl(y,S){if(Vt(y),Vt(S),S<-90||S>90)throw"Invalid declination angle. Must be -90..+90.";y%=24,y<0&&(y+=24),Yi||(Yi=ps(new $(-45655.74141261017)),Ui=new $(0));const x=new Ti(S,15*y,1),U=bs(x,Ui),Z=gn(Yi,U),K=Wi(Z),ht=10/(4*60),xt=ht/15;for(let yt of aa){const re=yt[3]*ht,me=yt[1]*xt,se=yt[2]*xt;if(re<=K.dec&&me<=K.ra&&K.ra<se){const Ne=Aa[yt[0]];return new sa(Ne[0],Ne[1],K.ra,K.dec)}}throw"Unable to find constellation for given coordinates."}a.Constellation=nl;var Sa;(function(y){y.Penumbral="penumbral",y.Partial="partial",y.Annular="annular",y.Total="total"})(Sa=a.EclipseKind||(a.EclipseKind={}));class Wl{constructor(S,x,U,Z,K){this.kind=S,this.peak=x,this.sd_penum=U,this.sd_partial=Z,this.sd_total=K}}a.LunarEclipseInfo=Wl;class Ga{constructor(S,x,U,Z,K,ht,xt){this.time=S,this.u=x,this.r=U,this.k=Z,this.p=K,this.target=ht,this.dir=xt}}function Vs(y,S,x,U){const Z=(U.x*x.x+U.y*x.y+U.z*x.z)/(U.x*U.x+U.y*U.y+U.z*U.z),K=Z*U.x-x.x,ht=Z*U.y-x.y,xt=Z*U.z-x.z,yt=a.KM_PER_AU*Math.hypot(K,ht,xt),re=+tt-(1+Z)*(tt-y),me=-tt+(1+Z)*(tt+y);return new Ga(S,Z,yt,re,me,x,U)}function Ms(y){const S=$o($t.Earth,y),x=Qo(y);return Vs(te,y,x,S)}function Ol(y){const S=$o($t.Earth,y),x=Qo(y),U=new Tn(-x.x,-x.y,-x.z,x.t);return x.x+=S.x,x.y+=S.y,x.z+=S.z,Vs(ee,y,U,x)}function Hl(y,S){const x=bi(y,S),U=$o($t.Earth,y),Z=Qo(y),K=new Tn(x[0]-Z.x,x[1]-Z.y,x[2]-Z.z,y);return Z.x+=U.x,Z.y+=U.y,Z.z+=U.z,Vs(ee,y,K,Z)}function Eu(y,S,x){const U=Rr(y,x,!1),Z=Rr(ft.Sun,x,!1),K=new Tn(U.x-Z.x,U.y-Z.y,U.z-Z.z,x);return Z.x=-U.x,Z.y=-U.y,Z.z=-U.z,Vs(S,x,Z,K)}function Yl(y,S){const x=11574074074074073e-21,U=S.AddDays(-x),Z=S.AddDays(+x),K=y(U);return(y(Z).r-K.r)/x}function il(y,S,x){const U=11574074074074073e-21,Z=Eu(y,S,x.AddDays(-U));return(Eu(y,S,x.AddDays(+U)).r-Z.r)/U}function Zu(y){const x=y.AddDays(-.03),U=y.AddDays(.03),Z=xe(K=>Yl(Ms,K),x,U);if(!Z)throw"Failed to find peak Earth shadow time.";return Ms(Z)}function Ju(y){const x=y.AddDays(-.03),U=y.AddDays(.03),Z=xe(K=>Yl(Ol,K),x,U);if(!Z)throw"Failed to find peak Moon shadow time.";return Ol(Z)}function Y0(y,S,x){const Z=x.AddDays(-1),K=x.AddDays(1),ht=xe(xt=>il(y,S,xt),Z,K);if(!ht)throw"Failed to find peak planet shadow time.";return Eu(y,S,ht)}function Su(y,S){const U=y.AddDays(-.2),Z=y.AddDays(.2);function K(xt){return Hl(xt,S)}const ht=xe(xt=>Yl(K,xt),U,Z);if(!ht)throw`PeakLocalMoonShadow: search failure for search_center_time = ${y}`;return Hl(ht,S)}function qu(y,S,x){const U=x/1440,Z=y.AddDays(-U),K=y.AddDays(+U),ht=xe(yt=>-(Ms(yt).r-S),Z,y),xt=xe(yt=>+(Ms(yt).r-S),y,K);if(!ht||!xt)throw"Failed to find shadow semiduration";return(xt.ut-ht.ut)*(24*60/2)}function Bo(y){const S=Fn(y);return a.RAD2DEG*S.geo_eclip_lat}function _0(y){let x=dt(y);for(let U=0;U<12;++U){const Z=rr(180,x,40);if(!Z)throw"Cannot find full moon.";const K=Bo(Z);if(Math.abs(K)<1.8){const ht=Zu(Z);if(ht.r<ht.p+ee){let xt=Sa.Penumbral,yt=0,re=0,me=qu(ht.time,ht.p+ee,200);return ht.r<ht.k+ee&&(xt=Sa.Partial,re=qu(ht.time,ht.k+ee,me),ht.r+ee<ht.k&&(xt=Sa.Total,yt=qu(ht.time,ht.k-ee,re))),new Wl(xt,ht.time,me,re,yt)}}x=Z.AddDays(10)}throw"Failed to find lunar eclipse within 12 full moons."}a.SearchLunarEclipse=_0;class Rs{constructor(S,x,U,Z,K){this.kind=S,this.peak=x,this.distance=U,this.latitude=Z,this.longitude=K}}a.GlobalSolarEclipseInfo=Rs;function Qu(y){return y>.014?Sa.Total:Sa.Annular}function Xl(y){let S=Sa.Partial,x=y.time,U=y.r,Z,K;const ht=ps(y.time),xt=gn(ht,y.dir),yt=gn(ht,y.target);xt.x*=a.KM_PER_AU,xt.y*=a.KM_PER_AU,xt.z*=a.KM_PER_AU/ot,yt.x*=a.KM_PER_AU,yt.y*=a.KM_PER_AU,yt.z*=a.KM_PER_AU/ot;const re=wt,me=xt.x*xt.x+xt.y*xt.y+xt.z*xt.z,se=-2*(xt.x*yt.x+xt.y*yt.y+xt.z*yt.z),Ne=yt.x*yt.x+yt.y*yt.y+yt.z*yt.z-re*re,Ye=se*se-4*me*Ne;if(Ye>0){const $e=(-se-Math.sqrt(Ye))/(2*me),cr=$e*xt.x-yt.x,Vr=$e*xt.y-yt.y,Qr=($e*xt.z-yt.z)*ot,Kr=Math.hypot(cr,Vr)*ct;Kr==0?Z=Qr>0?90:-90:Z=a.RAD2DEG*Math.atan(Qr/Kr);const $r=zn(x);K=(a.RAD2DEG*Math.atan2(Vr,cr)-15*$r)%360,K<=-180?K+=360:K>180&&(K-=360);const tr=Dn(ht);let dn=new Tn(cr/a.KM_PER_AU,Vr/a.KM_PER_AU,Qr/a.KM_PER_AU,y.time);dn=gn(tr,dn),dn.x+=y.target.x,dn.y+=y.target.y,dn.z+=y.target.z;const Zn=Vs(Dt,y.time,dn,y.dir);if(Zn.r>1e-9||Zn.r<0)throw`Unexpected shadow distance from geoid intersection = ${Zn.r}`;S=Qu(Zn.k)}return new Rs(S,x,U,Z,K)}function X0(y){y=dt(y);const S=y.AddDays(10);return _0(S)}a.NextLunarEclipse=X0;function gs(y){y=dt(y);const S=1.8;let x=y,U;for(U=0;U<12;++U){const Z=rr(0,x,40);if(!Z)throw"Cannot find new moon";const K=Bo(Z);if(Math.abs(K)<S){const ht=Ju(Z);if(ht.r<ht.p+bt)return Xl(ht)}x=Z.AddDays(10)}throw"Failed to find solar eclipse within 12 full moons."}a.SearchGlobalSolarEclipse=gs;function Cs(y){y=dt(y);const S=y.AddDays(10);return gs(S)}a.NextGlobalSolarEclipse=Cs;class la{constructor(S,x){this.time=S,this.altitude=x}}a.EclipseEvent=la;class al{constructor(S,x,U,Z,K,ht){this.kind=S,this.partial_begin=x,this.total_begin=U,this.peak=Z,this.total_end=K,this.partial_end=ht}}a.LocalSolarEclipseInfo=al;function wu(y){return y.p-y.r}function xu(y){return Math.abs(y.k)-y.r}function E0(y,S){const Z=Tl(S,y.time);let K=y.time.AddDays(-.2),ht=y.time.AddDays(.2);const xt=Kl(S,1,wu,K,y.time),yt=Kl(S,-1,wu,y.time,ht);let re,me,se;return y.r<Math.abs(y.k)?(K=y.time.AddDays(-.01),ht=y.time.AddDays(.01),re=Kl(S,1,xu,K,y.time),me=Kl(S,-1,xu,y.time,ht),se=Qu(y.k)):se=Sa.Partial,new al(se,xt,re,Z,me,yt)}function Kl(y,S,x,U,Z){function K(xt){const yt=Hl(xt,y);return S*x(yt)}const ht=xe(K,U,Z);if(!ht)throw"Local eclipse transition search failed.";return Tl(y,ht)}function Tl(y,S){const x=K0(S,y);return new la(S,x)}function K0(y,S){const x=qo(ft.Sun,y,S,!0,!0);return Ja(y,S,x.ra,x.dec,"normal").altitude}function Ou(y,S){y=dt(y),_a(S);const x=1.8;let U=y;for(;;){const Z=rr(0,U,40);if(!Z)throw"Cannot find next new moon";const K=Bo(Z);if(Math.abs(K)<x){const ht=Su(Z,S);if(ht.r<ht.p){const xt=E0(ht,S);if(xt.partial_begin.altitude>0||xt.partial_end.altitude>0)return xt}}U=Z.AddDays(10)}}a.SearchLocalSolarEclipse=Ou;function Gn(y,S){y=dt(y);const x=y.AddDays(10);return Ou(x,S)}a.NextLocalSolarEclipse=Gn;class Tu{constructor(S,x,U,Z){this.start=S,this.peak=x,this.finish=U,this.separation=Z}}a.TransitInfo=Tu;function Ws(y,S,x,U){const Z=Eu(S,x,y);return U*(Z.r-Z.p)}function Hs(y,S,x,U,Z){const K=xe(ht=>Ws(ht,y,S,Z),x,U);if(!K)throw"Planet transit boundary search failed";return K}function sl(y,S){S=dt(S);const x=.4,U=1;let Z;switch(y){case ft.Mercury:Z=2439.7;break;case ft.Venus:Z=6051.8;break;default:throw`Invalid body: ${y}`}let K=S;for(;;){const ht=qe(y,0,K);if(ur(y,ht)<x){const yt=Y0(y,Z,ht);if(yt.r<yt.p){const re=yt.time.AddDays(-U),me=Hs(y,Z,re,yt.time,-1),se=yt.time.AddDays(+U),Ne=Hs(y,Z,yt.time,se,1),Ye=60*ur(y,yt.time);return new Tu(me,yt.time,Ne,Ye)}}K=ht.AddDays(10)}}a.SearchTransit=sl;function $l(y,S){S=dt(S);const x=S.AddDays(100);return sl(y,x)}a.NextTransit=$l;var ll;(function(y){y[y.Invalid=0]="Invalid",y[y.Ascending=1]="Ascending",y[y.Descending=-1]="Descending"})(ll=a.NodeEventKind||(a.NodeEventKind={}));class mo{constructor(S,x){this.kind=S,this.time=x}}a.NodeEventInfo=mo;const ul=10;function bl(y){let S=dt(y),x=rl(S);for(;;){const U=S.AddDays(ul),Z=rl(U);if(x.lat*Z.lat<=0){const K=Z.lat>x.lat?ll.Ascending:ll.Descending,ht=xe(xt=>K*rl(xt).lat,S,U);if(!ht)throw"Could not find moon node.";return new mo(K,ht)}S=U,x=Z}}a.SearchMoonNode=bl;function $n(y){const S=y.time.AddDays(ul),x=bl(S);switch(y.kind){case ll.Ascending:if(x.kind!==ll.Descending)throw`Internal error: previous node was ascending, but this node was: ${x.kind}`;break;case ll.Descending:if(x.kind!==ll.Ascending)throw`Internal error: previous node was descending, but this node was: ${x.kind}`;break;default:throw`Previous node has an invalid node kind: ${y.kind}`}return x}a.NextMoonNode=$n;class Al{constructor(S,x,U,Z){this.ra=S,this.dec=x,this.spin=U,this.north=Z}}a.AxisInfo=Al;function I(y){const S=on([0,0,1],y,Rt.Into2000),x=Kn(S,y,Rt.Into2000),U=new Tn(x[0],x[1],x[2],y),Z=Wi(U),K=190.41375788700253+360.9856122880876*y.ut;return new Al(Z.ra,Z.dec,K,U)}function j(y,S){const x=dt(S),U=x.tt,Z=U/36525;let K,ht,xt;switch(y){case ft.Sun:K=286.13,ht=63.87,xt=84.176+14.1844*U;break;case ft.Mercury:K=281.0103-.0328*Z,ht=61.4155-.0049*Z,xt=329.5988+6.1385108*U+.01067257*Math.sin(a.DEG2RAD*(174.7910857+4.092335*U))-.00112309*Math.sin(a.DEG2RAD*(349.5821714+8.18467*U))-1104e-7*Math.sin(a.DEG2RAD*(164.3732571+12.277005*U))-2539e-8*Math.sin(a.DEG2RAD*(339.1643429+16.36934*U))-571e-8*Math.sin(a.DEG2RAD*(153.9554286+20.461675*U));break;case ft.Venus:K=272.76,ht=67.16,xt=160.2-1.4813688*U;break;case ft.Earth:return I(x);case ft.Moon:const Ne=a.DEG2RAD*(125.045-.0529921*U),Ye=a.DEG2RAD*(250.089-.1059842*U),$e=a.DEG2RAD*(260.008+13.0120009*U),cr=a.DEG2RAD*(176.625+13.3407154*U),Vr=a.DEG2RAD*(357.529+.9856003*U),Qr=a.DEG2RAD*(311.589+26.4057084*U),Kr=a.DEG2RAD*(134.963+13.064993*U),$r=a.DEG2RAD*(276.617+.3287146*U),tr=a.DEG2RAD*(34.226+1.7484877*U),dn=a.DEG2RAD*(15.134-.1589763*U),Zn=a.DEG2RAD*(119.743+.0036096*U),Pi=a.DEG2RAD*(239.961+.1643573*U),_i=a.DEG2RAD*(25.053+12.9590088*U);K=269.9949+.0031*Z-3.8787*Math.sin(Ne)-.1204*Math.sin(Ye)+.07*Math.sin($e)-.0172*Math.sin(cr)+.0072*Math.sin(Qr)-.0052*Math.sin(dn)+.0043*Math.sin(_i),ht=66.5392+.013*Z+1.5419*Math.cos(Ne)+.0239*Math.cos(Ye)-.0278*Math.cos($e)+.0068*Math.cos(cr)-.0029*Math.cos(Qr)+9e-4*Math.cos(Kr)+8e-4*Math.cos(dn)-9e-4*Math.cos(_i),xt=38.3213+(13.17635815-14e-13*U)*U+3.561*Math.sin(Ne)+.1208*Math.sin(Ye)-.0642*Math.sin($e)+.0158*Math.sin(cr)+.0252*Math.sin(Vr)-.0066*Math.sin(Qr)-.0047*Math.sin(Kr)-.0046*Math.sin($r)+.0028*Math.sin(tr)+.0052*Math.sin(dn)+.004*Math.sin(Zn)+.0019*Math.sin(Pi)-.0044*Math.sin(_i);break;case ft.Mars:K=317.269202-.10927547*Z+68e-6*Math.sin(a.DEG2RAD*(198.991226+19139.4819985*Z))+238e-6*Math.sin(a.DEG2RAD*(226.292679+38280.8511281*Z))+52e-6*Math.sin(a.DEG2RAD*(249.663391+57420.7251593*Z))+9e-6*Math.sin(a.DEG2RAD*(266.18351+76560.636795*Z))+.419057*Math.sin(a.DEG2RAD*(79.398797+.5042615*Z)),ht=54.432516-.05827105*Z+51e-6*Math.cos(a.DEG2RAD*(122.433576+19139.9407476*Z))+141e-6*Math.cos(a.DEG2RAD*(43.058401+38280.8753272*Z))+31e-6*Math.cos(a.DEG2RAD*(57.663379+57420.7517205*Z))+5e-6*Math.cos(a.DEG2RAD*(79.476401+76560.6495004*Z))+1.591274*Math.cos(a.DEG2RAD*(166.325722+.5042615*Z)),xt=176.049863+350.891982443297*U+145e-6*Math.sin(a.DEG2RAD*(129.071773+19140.0328244*Z))+157e-6*Math.sin(a.DEG2RAD*(36.352167+38281.0473591*Z))+4e-5*Math.sin(a.DEG2RAD*(56.668646+57420.929536*Z))+1e-6*Math.sin(a.DEG2RAD*(67.364003+76560.2552215*Z))+1e-6*Math.sin(a.DEG2RAD*(104.79268+95700.4387578*Z))+.584542*Math.sin(a.DEG2RAD*(95.391654+.5042615*Z));break;case ft.Jupiter:const ki=a.DEG2RAD*(99.360714+4850.4046*Z),Xi=a.DEG2RAD*(175.895369+1191.9605*Z),qi=a.DEG2RAD*(300.323162+262.5475*Z),ro=a.DEG2RAD*(114.012305+6070.2476*Z),pa=a.DEG2RAD*(49.511251+64.3*Z);K=268.056595-.006499*Z+117e-6*Math.sin(ki)+938e-6*Math.sin(Xi)+.001432*Math.sin(qi)+3e-5*Math.sin(ro)+.00215*Math.sin(pa),ht=64.495303+.002413*Z+5e-5*Math.cos(ki)+404e-6*Math.cos(Xi)+617e-6*Math.cos(qi)-13e-6*Math.cos(ro)+926e-6*Math.cos(pa),xt=284.95+870.536*U;break;case ft.Saturn:K=40.589-.036*Z,ht=83.537-.004*Z,xt=38.9+810.7939024*U;break;case ft.Uranus:K=257.311,ht=-15.175,xt=203.81-501.1600928*U;break;case ft.Neptune:const xi=a.DEG2RAD*(357.85+52.316*Z);K=299.36+.7*Math.sin(xi),ht=43.46-.51*Math.cos(xi),xt=249.978+541.1397757*U-.48*Math.sin(xi);break;case ft.Pluto:K=132.993,ht=-6.163,xt=302.695+56.3625225*U;break;default:throw`Invalid body: ${y}`}const yt=ht*a.DEG2RAD,re=K*a.DEG2RAD,me=Math.cos(yt),se=new Tn(me*Math.cos(re),me*Math.sin(re),Math.sin(yt),x);return new Al(K/15,ht,xt,se)}a.RotationAxis=j;function Y(y,S,x,U){const Z=dt(S),K=er(x),ht=er(U);let xt,yt;return x===ft.Earth&&U===ft.Moon?(xt=new en(0,0,0,0,0,0,Z),yt=_o(Z)):(xt=Jt(x,Z),yt=Jt(U,Z)),lt(y,xt,K,yt,ht)}a.LagrangePoint=Y;function lt(y,S,x,U,Z){const ht=.8660254037844386;if(y<1||y>5)throw`Invalid lagrange point ${y}`;if(!Number.isFinite(x)||x<=0)throw"Major mass must be a positive number.";if(!Number.isFinite(Z)||Z<=0)throw"Minor mass must be a negative number.";let xt=U.x-S.x,yt=U.y-S.y,re=U.z-S.z;const me=xt*xt+yt*yt+re*re,se=Math.sqrt(me),Ne=U.vx-S.vx,Ye=U.vy-S.vy,$e=U.vz-S.vz;let cr;if(y===4||y===5){const Vr=yt*$e-re*Ye,Qr=re*Ne-xt*$e,Kr=xt*Ye-yt*Ne;let $r=Qr*re-Kr*yt,tr=Kr*xt-Vr*re,dn=Vr*yt-Qr*xt;const Zn=Math.sqrt($r*$r+tr*tr+dn*dn);$r/=Zn,tr/=Zn,dn/=Zn,xt/=se,yt/=se,re/=se;const Pi=y==4?+ht:-ht,_i=.5*xt+Pi*$r,ki=.5*yt+Pi*tr,Xi=.5*re+Pi*dn,qi=.5*$r-Pi*xt,ro=.5*tr-Pi*yt,pa=.5*dn-Pi*re,xi=se*_i,Zo=se*ki,wa=se*Xi,xa=Ne*xt+Ye*yt+$e*re,Mo=Ne*$r+Ye*tr+$e*dn,Ba=xa*_i+Mo*qi,Zi=xa*ki+Mo*ro,G=xa*Xi+Mo*pa;cr=new en(xi,Zo,wa,Ba,Zi,G,S.t)}else{const Vr=-se*(Z/(x+Z)),Qr=+se*(x/(x+Z)),Kr=(x+Z)/(me*se);let $r,tr,dn;if(y===1||y===2)$r=x/(x+Z)*Math.cbrt(Z/(3*x)),tr=-x,y==1?($r=1-$r,dn=+Z):($r=1+$r,dn=-Z);else if(y===3)$r=(7/12*Z-x)/(Z+x),tr=+x,dn=+Z;else throw`Invalid Langrage point ${y}. Must be an integer 1..5.`;let Zn=se*$r-Vr,Pi;do{const _i=Zn-Vr,ki=Zn-Qr,Xi=Kr*Zn+tr/(_i*_i)+dn/(ki*ki),qi=Kr-2*tr/(_i*_i*_i)-2*dn/(ki*ki*ki);Pi=Xi/qi,Zn-=Pi}while(Math.abs(Pi/se)>1e-14);$r=(Zn-Vr)/se,cr=new en($r*xt,$r*yt,$r*re,$r*Ne,$r*Ye,$r*$e,S.t)}return cr}a.LagrangePointFast=lt;class gt{constructor(S,x,U){const Z=dt(x);this.originBody=S;for(let yt of U)if(yt.t.tt!==Z.tt)throw"Inconsistent times in bodyStates";const K=[],ht=gt.CalcSolarSystem(Z);this.curr=new At(Z,ht,K);const xt=this.InternalBodyState(S);for(let yt of U){const re=new li(yt.x+xt.r.x,yt.y+xt.r.y,yt.z+xt.r.z),me=new li(yt.vx+xt.v.x,yt.vy+xt.v.y,yt.vz+xt.v.z),se=li.zero();K.push(new T(Z.tt,re,me,se))}this.CalcBodyAccelerations(),this.prev=this.Duplicate()}get OriginBody(){return this.originBody}get Time(){return this.curr.time}Update(S){const x=dt(S),U=x.tt-this.curr.time.tt;if(U===0)this.prev=this.Duplicate();else{this.Swap(),this.curr.time=x,this.curr.gravitators=gt.CalcSolarSystem(x);for(let ht=0;ht<this.curr.bodies.length;++ht){const xt=this.prev.bodies[ht];this.curr.bodies[ht].r=W(U,xt.r,xt.v,xt.a)}this.CalcBodyAccelerations();for(let ht=0;ht<this.curr.bodies.length;++ht){const xt=this.prev.bodies[ht],yt=this.curr.bodies[ht],re=xt.a.mean(yt.a);yt.tt=x.tt,yt.r=W(U,xt.r,xt.v,re),yt.v=D(U,xt.v,re)}this.CalcBodyAccelerations()}const Z=[],K=this.InternalBodyState(this.originBody);for(let ht of this.curr.bodies)Z.push(new en(ht.r.x-K.r.x,ht.r.y-K.r.y,ht.r.z-K.r.z,ht.v.x-K.v.x,ht.v.y-K.v.y,ht.v.z-K.v.z,x));return Z}Swap(){const S=this.curr;this.curr=this.prev,this.prev=S}SolarSystemBodyState(S){const x=this.InternalBodyState(S),U=this.InternalBodyState(this.originBody);return vr(x.sub(U),this.curr.time)}InternalBodyState(S){if(S===ft.SSB)return new Hr(this.curr.time.tt,li.zero(),li.zero());const x=this.curr.gravitators[S];if(x)return x;throw`Invalid body: ${S}`}static CalcSolarSystem(S){const x={},U=new Hr(S.tt,li.zero(),li.zero());x[ft.Mercury]=Qa(U,S.tt,ft.Mercury,mt),x[ft.Venus]=Qa(U,S.tt,ft.Venus,Kt),x[ft.Earth]=Qa(U,S.tt,ft.Earth,ae+_e),x[ft.Mars]=Qa(U,S.tt,ft.Mars,Sr),x[ft.Jupiter]=Qa(U,S.tt,ft.Jupiter,xr),x[ft.Saturn]=Qa(U,S.tt,ft.Saturn,ar),x[ft.Uranus]=Qa(U,S.tt,ft.Uranus,jr),x[ft.Neptune]=Qa(U,S.tt,ft.Neptune,Xr);for(let Z in x)x[Z].r.decr(U.r),x[Z].v.decr(U.v);return x[ft.Sun]=new Hr(S.tt,U.r.neg(),U.v.neg()),x}CalcBodyAccelerations(){for(let S of this.curr.bodies)S.a=li.zero(),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Sun].r,Qe),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Mercury].r,mt),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Venus].r,Kt),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Earth].r,ae+_e),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Mars].r,Sr),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Jupiter].r,xr),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Saturn].r,ar),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Uranus].r,jr),gt.AddAcceleration(S.a,S.r,this.curr.gravitators[ft.Neptune].r,Xr)}static AddAcceleration(S,x,U,Z){const K=U.x-x.x,ht=U.y-x.y,xt=U.z-x.z,yt=K*K+ht*ht+xt*xt,re=Z/(yt*Math.sqrt(yt));S.x+=K*re,S.y+=ht*re,S.z+=xt*re}Duplicate(){const S={};for(let U in this.curr.gravitators)S[U]=this.curr.gravitators[U].clone();const x=[];for(let U of this.curr.bodies)x.push(U.clone());return new At(this.curr.time,S,x)}}a.GravitySimulator=gt;class At{constructor(S,x,U){this.time=S,this.gravitators=x,this.bodies=U}}})(Q$);var tZ={exports:{}},zc={},eZ=N_(E$),Ix=N_(uX),rZ=N_(xK);/*!
  * vue-i18n v9.1.10
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */Object.defineProperty(zc,"__esModule",{value:!0});var Co=eZ,Lo=Ix,Mr=rZ;const Nx="9.1.10";function wl(a,...c){return Co.createCompileError(a,null,void 0)}const F4=Mr.makeSymbol("__transrateVNode"),D4=Mr.makeSymbol("__datetimeParts"),j4=Mr.makeSymbol("__numberParts");Mr.makeSymbol("__enableEmitter");Mr.makeSymbol("__disableEmitter");const Fx=Mr.makeSymbol("__setPluralRules");Mr.makeSymbol("__intlifyMeta");const Dx=Mr.makeSymbol("__injectWithOption");let uS=0;function cS(a){return(c,d,u,p)=>a(d,u,Lo.getCurrentInstance()||void 0,p)}function F_(a,c){const{messages:d,__i18n:u}=c,p=Mr.isPlainObject(d)?d:Mr.isArray(u)?{}:{[a]:{}};if(Mr.isArray(u)&&u.forEach(({locale:g,resource:E})=>{g?(p[g]=p[g]||{},$g(E,p[g])):$g(E,p)}),c.flatJson)for(const g in p)Mr.hasOwn(p,g)&&Co.handleFlatJson(p[g]);return p}const Ag=a=>!Mr.isObject(a)||Mr.isArray(a);function $g(a,c){if(Ag(a)||Ag(c))throw wl(20);for(const d in a)Mr.hasOwn(a,d)&&(Ag(a[d])||Ag(c[d])?c[d]=a[d]:$g(a[d],c[d]))}function D_(a={}){const{__root:c}=a,d=c===void 0;let u=Mr.isBoolean(a.inheritLocale)?a.inheritLocale:!0;const p=Lo.ref(c&&u?c.locale.value:Mr.isString(a.locale)?a.locale:"en-US"),g=Lo.ref(c&&u?c.fallbackLocale.value:Mr.isString(a.fallbackLocale)||Mr.isArray(a.fallbackLocale)||Mr.isPlainObject(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:p.value),E=Lo.ref(F_(p.value,a)),b=Lo.ref(Mr.isPlainObject(a.datetimeFormats)?a.datetimeFormats:{[p.value]:{}}),M=Lo.ref(Mr.isPlainObject(a.numberFormats)?a.numberFormats:{[p.value]:{}});let P=c?c.missingWarn:Mr.isBoolean(a.missingWarn)||Mr.isRegExp(a.missingWarn)?a.missingWarn:!0,k=c?c.fallbackWarn:Mr.isBoolean(a.fallbackWarn)||Mr.isRegExp(a.fallbackWarn)?a.fallbackWarn:!0,C=c?c.fallbackRoot:Mr.isBoolean(a.fallbackRoot)?a.fallbackRoot:!0,z=!!a.fallbackFormat,it=Mr.isFunction(a.missing)?a.missing:null,q=Mr.isFunction(a.missing)?cS(a.missing):null,tt=Mr.isFunction(a.postTranslation)?a.postTranslation:null,J=Mr.isBoolean(a.warnHtmlMessage)?a.warnHtmlMessage:!0,ot=!!a.escapeParameter;const ct=c?c.modifiers:Mr.isPlainObject(a.modifiers)?a.modifiers:{};let wt=a.pluralRules||c&&c.pluralRules,nt;function F(){return Co.createCoreContext({version:Nx,locale:p.value,fallbackLocale:g.value,messages:E.value,datetimeFormats:b.value,numberFormats:M.value,modifiers:ct,pluralRules:wt,missing:q===null?void 0:q,missingWarn:P,fallbackWarn:k,fallbackFormat:z,unresolving:!0,postTranslation:tt===null?void 0:tt,warnHtmlMessage:J,escapeParameter:ot,__datetimeFormatters:Mr.isPlainObject(nt)?nt.__datetimeFormatters:void 0,__numberFormatters:Mr.isPlainObject(nt)?nt.__numberFormatters:void 0,__v_emitter:Mr.isPlainObject(nt)?nt.__v_emitter:void 0,__meta:{framework:"vue"}})}nt=F(),Co.updateFallbackLocale(nt,p.value,g.value);function bt(){return[p.value,g.value,E.value,b.value,M.value]}const jt=Lo.computed({get:()=>p.value,set:Gt=>{p.value=Gt,nt.locale=p.value}}),te=Lo.computed({get:()=>g.value,set:Gt=>{g.value=Gt,nt.fallbackLocale=g.value,Co.updateFallbackLocale(nt,p.value,Gt)}}),Ot=Lo.computed(()=>E.value),ee=Lo.computed(()=>b.value),Dt=Lo.computed(()=>M.value);function Wt(){return Mr.isFunction(tt)?tt:null}function le(Gt){tt=Gt,nt.postTranslation=Gt}function ye(){return it}function Qe(Gt){Gt!==null&&(q=cS(Gt)),it=Gt,nt.missing=q}function mt(Gt,at,$,Q,dt,ue){bt();let De;if(De=Gt(nt),Mr.isNumber(De)&&De===Co.NOT_REOSLVED){const[We,Pr]=at();return c&&C?Q(c):dt(We)}else{if(ue(De))return De;throw wl(14)}}function Kt(...Gt){return mt(at=>Co.translate(at,...Gt),()=>Co.parseTranslateArgs(...Gt),"translate",at=>at.t(...Gt),at=>at,at=>Mr.isString(at))}function ae(...Gt){const[at,$,Q]=Gt;if(Q&&!Mr.isObject(Q))throw wl(15);return Kt(at,$,Mr.assign({resolvedMessage:!0},Q||{}))}function Sr(...Gt){return mt(at=>Co.datetime(at,...Gt),()=>Co.parseDateTimeArgs(...Gt),"datetime format",at=>at.d(...Gt),()=>Co.MISSING_RESOLVE_VALUE,at=>Mr.isString(at))}function xr(...Gt){return mt(at=>Co.number(at,...Gt),()=>Co.parseNumberArgs(...Gt),"number format",at=>at.n(...Gt),()=>Co.MISSING_RESOLVE_VALUE,at=>Mr.isString(at))}function ar(Gt){return Gt.map(at=>Mr.isString(at)?Lo.createVNode(Lo.Text,null,at,0):at)}const Xr={normalize:ar,interpolate:Gt=>Gt,type:"vnode"};function wn(...Gt){return mt(at=>{let $;const Q=at;try{Q.processor=Xr,$=Co.translate(Q,...Gt)}finally{Q.processor=null}return $},()=>Co.parseTranslateArgs(...Gt),"translate",at=>at[F4](...Gt),at=>[Lo.createVNode(Lo.Text,null,at,0)],at=>Mr.isArray(at))}function _e(...Gt){return mt(at=>Co.number(at,...Gt),()=>Co.parseNumberArgs(...Gt),"number format",at=>at[j4](...Gt),()=>[],at=>Mr.isString(at)||Mr.isArray(at))}function er(...Gt){return mt(at=>Co.datetime(at,...Gt),()=>Co.parseDateTimeArgs(...Gt),"datetime format",at=>at[D4](...Gt),()=>[],at=>Mr.isString(at)||Mr.isArray(at))}function _r(Gt){wt=Gt,nt.pluralRules=wt}function Fr(Gt,at){const $=Mr.isString(at)?at:p.value,Q=Vt($);return Co.resolveValue(Q,Gt)!==null}function jn(Gt){let at=null;const $=Co.getLocaleChain(nt,g.value,p.value);for(let Q=0;Q<$.length;Q++){const dt=E.value[$[Q]]||{},ue=Co.resolveValue(dt,Gt);if(ue!=null){at=ue;break}}return at}function Ur(Gt){const at=jn(Gt);return at!=null?at:c?c.tm(Gt)||{}:{}}function Vt(Gt){return E.value[Gt]||{}}function ie(Gt,at){E.value[Gt]=at,nt.messages=E.value}function Tt(Gt,at){E.value[Gt]=E.value[Gt]||{},$g(at,E.value[Gt]),nt.messages=E.value}function ft(Gt){return b.value[Gt]||{}}function Rt(Gt,at){b.value[Gt]=at,nt.datetimeFormats=b.value,Co.clearDateTimeFormat(nt,Gt,at)}function Qt(Gt,at){b.value[Gt]=Mr.assign(b.value[Gt]||{},at),nt.datetimeFormats=b.value,Co.clearDateTimeFormat(nt,Gt,at)}function $t(Gt){return M.value[Gt]||{}}function he(Gt,at){M.value[Gt]=at,nt.numberFormats=M.value,Co.clearNumberFormat(nt,Gt,at)}function Pe(Gt,at){M.value[Gt]=Mr.assign(M.value[Gt]||{},at),nt.numberFormats=M.value,Co.clearNumberFormat(nt,Gt,at)}return uS++,c&&(Lo.watch(c.locale,Gt=>{u&&(p.value=Gt,nt.locale=Gt,Co.updateFallbackLocale(nt,p.value,g.value))}),Lo.watch(c.fallbackLocale,Gt=>{u&&(g.value=Gt,nt.fallbackLocale=Gt,Co.updateFallbackLocale(nt,p.value,g.value))})),{id:uS,locale:jt,fallbackLocale:te,get inheritLocale(){return u},set inheritLocale(Gt){u=Gt,Gt&&c&&(p.value=c.locale.value,g.value=c.fallbackLocale.value,Co.updateFallbackLocale(nt,p.value,g.value))},get availableLocales(){return Object.keys(E.value).sort()},messages:Ot,datetimeFormats:ee,numberFormats:Dt,get modifiers(){return ct},get pluralRules(){return wt||{}},get isGlobal(){return d},get missingWarn(){return P},set missingWarn(Gt){P=Gt,nt.missingWarn=P},get fallbackWarn(){return k},set fallbackWarn(Gt){k=Gt,nt.fallbackWarn=k},get fallbackRoot(){return C},set fallbackRoot(Gt){C=Gt},get fallbackFormat(){return z},set fallbackFormat(Gt){z=Gt,nt.fallbackFormat=z},get warnHtmlMessage(){return J},set warnHtmlMessage(Gt){J=Gt,nt.warnHtmlMessage=Gt},get escapeParameter(){return ot},set escapeParameter(Gt){ot=Gt,nt.escapeParameter=Gt},t:Kt,rt:ae,d:Sr,n:xr,te:Fr,tm:Ur,getLocaleMessage:Vt,setLocaleMessage:ie,mergeLocaleMessage:Tt,getDateTimeFormat:ft,setDateTimeFormat:Rt,mergeDateTimeFormat:Qt,getNumberFormat:$t,setNumberFormat:he,mergeNumberFormat:Pe,getPostTranslationHandler:Wt,setPostTranslationHandler:le,getMissingHandler:ye,setMissingHandler:Qe,[F4]:wn,[j4]:_e,[D4]:er,[Fx]:_r,[Dx]:a.__injectWithOption}}function nZ(a){const c=Mr.isString(a.locale)?a.locale:"en-US",d=Mr.isString(a.fallbackLocale)||Mr.isArray(a.fallbackLocale)||Mr.isPlainObject(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:c,u=Mr.isFunction(a.missing)?a.missing:void 0,p=Mr.isBoolean(a.silentTranslationWarn)||Mr.isRegExp(a.silentTranslationWarn)?!a.silentTranslationWarn:!0,g=Mr.isBoolean(a.silentFallbackWarn)||Mr.isRegExp(a.silentFallbackWarn)?!a.silentFallbackWarn:!0,E=Mr.isBoolean(a.fallbackRoot)?a.fallbackRoot:!0,b=!!a.formatFallbackMessages,M=Mr.isPlainObject(a.modifiers)?a.modifiers:{},P=a.pluralizationRules,k=Mr.isFunction(a.postTranslation)?a.postTranslation:void 0,C=Mr.isString(a.warnHtmlInMessage)?a.warnHtmlInMessage!=="off":!0,z=!!a.escapeParameterHtml,it=Mr.isBoolean(a.sync)?a.sync:!0;let q=a.messages;if(Mr.isPlainObject(a.sharedMessages)){const F=a.sharedMessages;q=Object.keys(F).reduce((jt,te)=>{const Ot=jt[te]||(jt[te]={});return Mr.assign(Ot,F[te]),jt},q||{})}const{__i18n:tt,__root:J,__injectWithOption:ot}=a,ct=a.datetimeFormats,wt=a.numberFormats,nt=a.flatJson;return{locale:c,fallbackLocale:d,messages:q,flatJson:nt,datetimeFormats:ct,numberFormats:wt,missing:u,missingWarn:p,fallbackWarn:g,fallbackRoot:E,fallbackFormat:b,modifiers:M,pluralRules:P,postTranslation:k,warnHtmlMessage:C,escapeParameter:z,inheritLocale:it,__i18n:tt,__root:J,__injectWithOption:ot}}function G4(a={}){const c=D_(nZ(a)),d={id:c.id,get locale(){return c.locale.value},set locale(u){c.locale.value=u},get fallbackLocale(){return c.fallbackLocale.value},set fallbackLocale(u){c.fallbackLocale.value=u},get messages(){return c.messages.value},get datetimeFormats(){return c.datetimeFormats.value},get numberFormats(){return c.numberFormats.value},get availableLocales(){return c.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(u){},get missing(){return c.getMissingHandler()},set missing(u){c.setMissingHandler(u)},get silentTranslationWarn(){return Mr.isBoolean(c.missingWarn)?!c.missingWarn:c.missingWarn},set silentTranslationWarn(u){c.missingWarn=Mr.isBoolean(u)?!u:u},get silentFallbackWarn(){return Mr.isBoolean(c.fallbackWarn)?!c.fallbackWarn:c.fallbackWarn},set silentFallbackWarn(u){c.fallbackWarn=Mr.isBoolean(u)?!u:u},get modifiers(){return c.modifiers},get formatFallbackMessages(){return c.fallbackFormat},set formatFallbackMessages(u){c.fallbackFormat=u},get postTranslation(){return c.getPostTranslationHandler()},set postTranslation(u){c.setPostTranslationHandler(u)},get sync(){return c.inheritLocale},set sync(u){c.inheritLocale=u},get warnHtmlInMessage(){return c.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(u){c.warnHtmlMessage=u!=="off"},get escapeParameterHtml(){return c.escapeParameter},set escapeParameterHtml(u){c.escapeParameter=u},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(u){},get pluralizationRules(){return c.pluralRules||{}},__composer:c,t(...u){const[p,g,E]=u,b={};let M=null,P=null;if(!Mr.isString(p))throw wl(15);const k=p;return Mr.isString(g)?b.locale=g:Mr.isArray(g)?M=g:Mr.isPlainObject(g)&&(P=g),Mr.isArray(E)?M=E:Mr.isPlainObject(E)&&(P=E),c.t(k,M||P||{},b)},rt(...u){return c.rt(...u)},tc(...u){const[p,g,E]=u,b={plural:1};let M=null,P=null;if(!Mr.isString(p))throw wl(15);const k=p;return Mr.isString(g)?b.locale=g:Mr.isNumber(g)?b.plural=g:Mr.isArray(g)?M=g:Mr.isPlainObject(g)&&(P=g),Mr.isString(E)?b.locale=E:Mr.isArray(E)?M=E:Mr.isPlainObject(E)&&(P=E),c.t(k,M||P||{},b)},te(u,p){return c.te(u,p)},tm(u){return c.tm(u)},getLocaleMessage(u){return c.getLocaleMessage(u)},setLocaleMessage(u,p){c.setLocaleMessage(u,p)},mergeLocaleMessage(u,p){c.mergeLocaleMessage(u,p)},d(...u){return c.d(...u)},getDateTimeFormat(u){return c.getDateTimeFormat(u)},setDateTimeFormat(u,p){c.setDateTimeFormat(u,p)},mergeDateTimeFormat(u,p){c.mergeDateTimeFormat(u,p)},n(...u){return c.n(...u)},getNumberFormat(u){return c.getNumberFormat(u)},setNumberFormat(u,p){c.setNumberFormat(u,p)},mergeNumberFormat(u,p){c.mergeNumberFormat(u,p)},getChoiceIndex(u,p){return-1},__onComponentInstanceCreated(u){const{componentInstanceCreatedListener:p}=a;p&&p(u,d)}};return d}const j_={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:a=>a==="parent"||a==="global",default:"parent"},i18n:{type:Object}},B4={name:"i18n-t",props:Mr.assign({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:a=>Mr.isNumber(a)||!isNaN(a)}},j_),setup(a,c){const{slots:d,attrs:u}=c,p=a.i18n||ym({useScope:a.scope,__useComponent:!0}),g=Object.keys(d).filter(E=>E!=="_");return()=>{const E={};a.locale&&(E.locale=a.locale),a.plural!==void 0&&(E.plural=Mr.isString(a.plural)?+a.plural:a.plural);const b=iZ(c,g),M=p[F4](a.keypath,b,E),P=Mr.assign({},u);return Mr.isString(a.tag)||Mr.isObject(a.tag)?Lo.h(a.tag,P,M):Lo.h(Lo.Fragment,P,M)}}};function iZ({slots:a},c){return c.length===1&&c[0]==="default"?a.default?a.default():[]:c.reduce((d,u)=>{const p=a[u];return p&&(d[u]=p()),d},{})}function jx(a,c,d,u){const{slots:p,attrs:g}=c;return()=>{const E={part:!0};let b={};a.locale&&(E.locale=a.locale),Mr.isString(a.format)?E.key=a.format:Mr.isObject(a.format)&&(Mr.isString(a.format.key)&&(E.key=a.format.key),b=Object.keys(a.format).reduce((C,z)=>d.includes(z)?Mr.assign({},C,{[z]:a.format[z]}):C,{}));const M=u(a.value,E,b);let P=[E.key];Mr.isArray(M)?P=M.map((C,z)=>{const it=p[C.type];return it?it({[C.type]:C.value,index:z,parts:M}):[C.value]}):Mr.isString(M)&&(P=[M]);const k=Mr.assign({},g);return Mr.isString(a.tag)||Mr.isObject(a.tag)?Lo.h(a.tag,k,P):Lo.h(Lo.Fragment,k,P)}}const oZ=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],U4={name:"i18n-n",props:Mr.assign({value:{type:Number,required:!0},format:{type:[String,Object]}},j_),setup(a,c){const d=a.i18n||ym({useScope:"parent",__useComponent:!0});return jx(a,c,oZ,(...u)=>d[j4](...u))}},aZ=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],k4={name:"i18n-d",props:Mr.assign({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},j_),setup(a,c){const d=a.i18n||ym({useScope:"parent",__useComponent:!0});return jx(a,c,aZ,(...u)=>d[D4](...u))}};function sZ(a,c){const d=a;if(a.mode==="composition")return d.__getInstance(c)||a.global;{const u=d.__getInstance(c);return u!=null?u.__composer:a.global.__composer}}function Gx(a){const c=(d,{instance:u,value:p,modifiers:g})=>{if(!u||!u.$)throw wl(22);const E=sZ(a,u.$),b=lZ(p);d.textContent=E.t(...uZ(b))};return{beforeMount:c,beforeUpdate:c}}function lZ(a){if(Mr.isString(a))return{path:a};if(Mr.isPlainObject(a)){if(!("path"in a))throw wl(19,"path");return a}else throw wl(20)}function uZ(a){const{path:c,locale:d,args:u,choice:p,plural:g}=a,E={},b=u||{};return Mr.isString(d)&&(E.locale=d),Mr.isNumber(p)&&(E.plural=p),Mr.isNumber(g)&&(E.plural=g),[c,b,E]}function cZ(a,c,...d){const u=Mr.isPlainObject(d[0])?d[0]:{},p=!!u.useI18nComponentName;(Mr.isBoolean(u.globalInstall)?u.globalInstall:!0)&&(a.component(p?"i18n":B4.name,B4),a.component(U4.name,U4),a.component(k4.name,k4)),a.directive("t",Gx(c))}function fZ(a,c,d){return{beforeCreate(){const u=Lo.getCurrentInstance();if(!u)throw wl(22);const p=this.$options;if(p.i18n){const g=p.i18n;p.__i18n&&(g.__i18n=p.__i18n),g.__root=c,this===this.$root?this.$i18n=fS(a,g):(g.__injectWithOption=!0,this.$i18n=G4(g))}else p.__i18n?this===this.$root?this.$i18n=fS(a,p):this.$i18n=G4({__i18n:p.__i18n,__injectWithOption:!0,__root:c}):this.$i18n=a;a.__onComponentInstanceCreated(this.$i18n),d.__setInstance(u,this.$i18n),this.$t=(...g)=>this.$i18n.t(...g),this.$rt=(...g)=>this.$i18n.rt(...g),this.$tc=(...g)=>this.$i18n.tc(...g),this.$te=(g,E)=>this.$i18n.te(g,E),this.$d=(...g)=>this.$i18n.d(...g),this.$n=(...g)=>this.$i18n.n(...g),this.$tm=g=>this.$i18n.tm(g)},mounted(){},beforeUnmount(){const u=Lo.getCurrentInstance();if(!u)throw wl(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,d.__deleteInstance(u),delete this.$i18n}}}function fS(a,c){a.locale=c.locale||a.locale,a.fallbackLocale=c.fallbackLocale||a.fallbackLocale,a.missing=c.missing||a.missing,a.silentTranslationWarn=c.silentTranslationWarn||a.silentFallbackWarn,a.silentFallbackWarn=c.silentFallbackWarn||a.silentFallbackWarn,a.formatFallbackMessages=c.formatFallbackMessages||a.formatFallbackMessages,a.postTranslation=c.postTranslation||a.postTranslation,a.warnHtmlInMessage=c.warnHtmlInMessage||a.warnHtmlInMessage,a.escapeParameterHtml=c.escapeParameterHtml||a.escapeParameterHtml,a.sync=c.sync||a.sync,a.__composer[Fx](c.pluralizationRules||a.pluralizationRules);const d=F_(a.locale,{messages:c.messages,__i18n:c.__i18n});return Object.keys(d).forEach(u=>a.mergeLocaleMessage(u,d[u])),c.datetimeFormats&&Object.keys(c.datetimeFormats).forEach(u=>a.mergeDateTimeFormat(u,c.datetimeFormats[u])),c.numberFormats&&Object.keys(c.numberFormats).forEach(u=>a.mergeNumberFormat(u,c.numberFormats[u])),a}function hZ(a={}){const c=Mr.isBoolean(a.legacy)?a.legacy:!0,d=!!a.globalInjection,u=new Map,p=c?G4(a):D_(a),g=Mr.makeSymbol(""),E={get mode(){return c?"legacy":"composition"},async install(b,...M){b.__VUE_I18N_SYMBOL__=g,b.provide(b.__VUE_I18N_SYMBOL__,E),!c&&d&&mZ(b,E.global),cZ(b,E,...M),c&&b.mixin(fZ(p,p.__composer,E))},get global(){return p},__instances:u,__getInstance(b){return u.get(b)||null},__setInstance(b,M){u.set(b,M)},__deleteInstance(b){u.delete(b)}};return E}function ym(a={}){const c=Lo.getCurrentInstance();if(c==null)throw wl(16);if(!c.appContext.app.__VUE_I18N_SYMBOL__)throw wl(17);const d=Lo.inject(c.appContext.app.__VUE_I18N_SYMBOL__);if(!d)throw wl(22);const u=d.mode==="composition"?d.global:d.global.__composer,p=Mr.isEmptyObject(a)?"__i18n"in c.type?"local":"global":a.useScope?a.useScope:"local";if(p==="global"){let b=Mr.isObject(a.messages)?a.messages:{};"__i18nGlobal"in c.type&&(b=F_(u.locale.value,{messages:b,__i18n:c.type.__i18nGlobal}));const M=Object.keys(b);if(M.length&&M.forEach(P=>{u.mergeLocaleMessage(P,b[P])}),Mr.isObject(a.datetimeFormats)){const P=Object.keys(a.datetimeFormats);P.length&&P.forEach(k=>{u.mergeDateTimeFormat(k,a.datetimeFormats[k])})}if(Mr.isObject(a.numberFormats)){const P=Object.keys(a.numberFormats);P.length&&P.forEach(k=>{u.mergeNumberFormat(k,a.numberFormats[k])})}return u}if(p==="parent"){let b=dZ(d,c,a.__useComponent);return b==null&&(b=u),b}if(d.mode==="legacy")throw wl(18);const g=d;let E=g.__getInstance(c);if(E==null){const b=c.type,M=Mr.assign({},a);b.__i18n&&(M.__i18n=b.__i18n),u&&(M.__root=u),E=D_(M),pZ(g,c),g.__setInstance(c,E)}return E}function dZ(a,c,d=!1){let u=null;const p=c.root;let g=c.parent;for(;g!=null;){const E=a;if(a.mode==="composition")u=E.__getInstance(g);else{const b=E.__getInstance(g);b!=null&&(u=b.__composer),d&&u&&!u[Dx]&&(u=null)}if(u!=null||p===g)break;g=g.parent}return u}function pZ(a,c,d){Lo.onMounted(()=>{},c),Lo.onUnmounted(()=>{a.__deleteInstance(c)},c)}const vZ=["locale","fallbackLocale","availableLocales"],gZ=["t","rt","d","n","tm"];function mZ(a,c){const d=Object.create(null);vZ.forEach(u=>{const p=Object.getOwnPropertyDescriptor(c,u);if(!p)throw wl(22);const g=Lo.isRef(p.value)?{get(){return p.value.value},set(E){p.value.value=E}}:{get(){return p.get&&p.get()}};Object.defineProperty(d,u,g)}),a.config.globalProperties.$i18n=d,gZ.forEach(u=>{const p=Object.getOwnPropertyDescriptor(c,u);if(!p||!p.value)throw wl(22);Object.defineProperty(a.config.globalProperties,`$${u}`,p)})}Co.registerMessageCompiler(Co.compileToFunction);zc.DatetimeFormat=k4;zc.NumberFormat=U4;zc.Translation=B4;zc.VERSION=Nx;zc.createI18n=hZ;zc.useI18n=ym;zc.vTDirective=Gx;tZ.exports=zc;function hS(a){return a.type.indexOf("mouse")!==-1?a.clientX:a.touches[0].clientX}function dS(a){return a.type.indexOf("mouse")!==-1?a.clientY:a.touches[0].clientY}var yZ=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,c)}catch{}return a}(),zJ={install:function(a,c){var d=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100},c);function u(tt){var J=this.$$touchObj,ot=tt.type.indexOf("touch")>=0,ct=tt.type.indexOf("mouse")>=0,wt=this;ot&&(J.lastTouchStartTime=tt.timeStamp),!(ct&&J.lastTouchStartTime&&tt.timeStamp-J.lastTouchStartTime<350)&&(J.touchStarted||(C(this),J.touchStarted=!0,J.touchMoved=!1,J.swipeOutBounded=!1,J.startX=hS(tt),J.startY=dS(tt),J.currentX=0,J.currentY=0,J.touchStartTime=tt.timeStamp,J.hasSwipe=P(this,"swipe")||P(this,"swipe.left")||P(this,"swipe.right")||P(this,"swipe.top")||P(this,"swipe.bottom"),P(this,"hold")&&(J.touchHoldTimer=setTimeout(function(){J.touchHoldTimer=null,k(tt,wt,"hold")},J.options.touchHoldTolerance)),k(tt,this,"press")))}function p(tt){var J=this.$$touchObj,ot=hS(tt),ct=dS(tt),wt=J.currentX!=ot||J.currentY!=ct;if(J.currentX=ot,J.currentY=ct,J.touchMoved){if(J.hasSwipe&&!J.swipeOutBounded){var F=J.options.swipeTolerance;J.swipeOutBounded=Math.abs(J.startX-J.currentX)>F&&Math.abs(J.startY-J.currentY)>F}}else{var nt=J.options.tapTolerance;J.touchMoved=Math.abs(J.startX-J.currentX)>nt||Math.abs(J.startY-J.currentY)>nt,J.touchMoved&&(it(J),k(tt,this,"drag.once"))}if(P(this,"rollover")&&wt){var bt=tt.timeStamp,jt=J.options.rollOverFrequency;(J.touchRollTime==null||bt>J.touchRollTime+jt)&&(J.touchRollTime=bt,k(tt,this,"rollover"))}if(P(this,"drag")&&J.touchStarted&&J.touchMoved&&wt){var bt=tt.timeStamp,jt=J.options.dragFrequency;(J.touchDragTime==null||bt>J.touchDragTime+jt)&&(J.touchDragTime=bt,k(tt,this,"drag"))}}function g(){var tt=this.$$touchObj;it(tt),z(this),tt.touchStarted=tt.touchMoved=!1,tt.startX=tt.startY=0}function E(tt){var J=this.$$touchObj,ot=tt.type.indexOf("touch")>=0,ct=tt.type.indexOf("mouse")>=0;ot&&(J.lastTouchEndTime=tt.timeStamp);var wt=ot&&!J.touchHoldTimer;if(it(J),J.touchStarted=!1,z(this),!(ct&&J.lastTouchEndTime&&tt.timeStamp-J.lastTouchEndTime<350))if(k(tt,this,"release"),J.touchMoved){if(J.hasSwipe&&!J.swipeOutBounded){var nt=J.options.swipeTolerance,F,bt=Math.abs(J.startY-J.currentY),jt=Math.abs(J.startX-J.currentX);(bt>nt||jt>nt)&&(bt>nt?F=J.startY>J.currentY?"top":"bottom":F=J.startX>J.currentX?"left":"right",P(this,"swipe."+F)?k(tt,this,"swipe."+F,F):k(tt,this,"swipe",F))}}else if(P(this,"longtap")&&tt.timeStamp-J.touchStartTime>J.options.longTapTimeInterval)tt.cancelable&&tt.preventDefault(),k(tt,this,"longtap");else if(P(this,"hold")&&wt){tt.cancelable&&tt.preventDefault();return}else k(tt,this,"tap")}function b(){C(this)}function M(){z(this)}function P(tt,J){var ot=tt.$$touchObj.callbacks[J];return ot!=null&&ot.length>0}function k(tt,J,ot,ct){var wt=J.$$touchObj,nt=wt.callbacks[ot];if(nt==null||nt.length===0)return null;for(var F=0;F<nt.length;F++){var bt=nt[F];bt.modifiers.stop&&tt.stopPropagation(),bt.modifiers.prevent&&tt.preventDefault(),!(bt.modifiers.self&&tt.target!==tt.currentTarget)&&typeof bt.value=="function"&&(ct?bt.value(ct,tt):bt.value(tt))}}function C(tt){var J=tt.$$touchObj.options.touchClass;J&&tt.classList.add(J)}function z(tt){var J=tt.$$touchObj.options.touchClass;J&&tt.classList.remove(J)}function it(tt){tt.touchHoldTimer&&(clearTimeout(tt.touchHoldTimer),tt.touchHoldTimer=null)}function q(tt,J){var ot=tt.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:d};return J&&(ot.options=Object.assign({},ot.options,J)),tt.$$touchObj=ot,tt.$$touchObj}a.directive("touch",{beforeMount:function(tt,J){var ot=q(tt),ct=yZ?{passive:!0}:!1,wt=J.arg||"tap";switch(wt){case"swipe":var nt=J.modifiers;if(nt.left||nt.right||nt.top||nt.bottom){for(var F in J.modifiers)if(["left","right","top","bottom"].indexOf(F)>=0){var bt="swipe."+F;ot.callbacks[bt]=ot.callbacks[bt]||[],ot.callbacks[bt].push(J)}}else ot.callbacks.swipe=ot.callbacks.swipe||[],ot.callbacks.swipe.push(J);break;case"press":case"drag":J.modifiers.disablePassive&&(ct=!1);default:ot.callbacks[wt]=ot.callbacks[wt]||[],ot.callbacks[wt].push(J)}ot.hasBindTouchEvents||(tt.addEventListener("touchstart",u,ct),tt.addEventListener("touchmove",p,ct),tt.addEventListener("touchcancel",g),tt.addEventListener("touchend",E),ot.options.disableClick||(tt.addEventListener("mousedown",u),tt.addEventListener("mousemove",p),tt.addEventListener("mouseup",E),tt.addEventListener("mouseenter",b),tt.addEventListener("mouseleave",M)),ot.hasBindTouchEvents=!0)},unmounted:function(tt){tt.removeEventListener("touchstart",u),tt.removeEventListener("touchmove",p),tt.removeEventListener("touchcancel",g),tt.removeEventListener("touchend",E),tt.$$touchObj&&!tt.$$touchObj.options.disableClick&&(tt.removeEventListener("mousedown",u),tt.removeEventListener("mousemove",p),tt.removeEventListener("mouseup",E),tt.removeEventListener("mouseenter",b),tt.removeEventListener("mouseleave",M)),delete tt.$$touchObj}}),a.directive("touch-class",{beforeMount:function(tt,J){q(tt,{touchClass:J.value})}}),a.directive("touch-options",{beforeMount:function(tt,J){q(tt,J.value)}})}},Bx={exports:{}};(function(a){a.exports=function(c){function d(C){for(var z=C[0],it=C[1],q,tt,J=0,ot=[];J<z.length;J++)tt=z[J],Object.prototype.hasOwnProperty.call(p,tt)&&p[tt]&&ot.push(p[tt][0]),p[tt]=0;for(q in it)Object.prototype.hasOwnProperty.call(it,q)&&(c[q]=it[q]);for(k&&k(C);ot.length;)ot.shift()()}var u={},p={0:0};function g(C){return E.p+"vue3-openlayers.common."+({}[C]||C)+".js"}function E(C){if(u[C])return u[C].exports;var z=u[C]={i:C,l:!1,exports:{}};return c[C].call(z.exports,z,z.exports,E),z.l=!0,z.exports}E.e=function(z){var it=[],q=p[z];if(q!==0)if(q)it.push(q[2]);else{var tt=new Promise(function(nt,F){q=p[z]=[nt,F]});it.push(q[2]=tt);var J=document.createElement("script"),ot;J.charset="utf-8",J.timeout=120,E.nc&&J.setAttribute("nonce",E.nc),J.src=g(z);var ct=new Error;ot=function(nt){J.onerror=J.onload=null,clearTimeout(wt);var F=p[z];if(F!==0){if(F){var bt=nt&&(nt.type==="load"?"missing":nt.type),jt=nt&&nt.target&&nt.target.src;ct.message="Loading chunk "+z+` failed.
(`+bt+": "+jt+")",ct.name="ChunkLoadError",ct.type=bt,ct.request=jt,F[1](ct)}p[z]=void 0}};var wt=setTimeout(function(){ot({type:"timeout",target:J})},12e4);J.onerror=J.onload=ot,document.head.appendChild(J)}return Promise.all(it)},E.m=c,E.c=u,E.d=function(C,z,it){E.o(C,z)||Object.defineProperty(C,z,{enumerable:!0,get:it})},E.r=function(C){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},E.t=function(C,z){if(z&1&&(C=E(C)),z&8||z&4&&typeof C=="object"&&C&&C.__esModule)return C;var it=Object.create(null);if(E.r(it),Object.defineProperty(it,"default",{enumerable:!0,value:C}),z&2&&typeof C!="string")for(var q in C)E.d(it,q,function(tt){return C[tt]}.bind(null,q));return it},E.n=function(C){var z=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(z,"a",z),z},E.o=function(C,z){return Object.prototype.hasOwnProperty.call(C,z)},E.p="",E.oe=function(C){throw console.error(C),C};var b=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers||[],M=b.push.bind(b);b.push=d,b=b.slice();for(var P=0;P<b.length;P++)d(b[P]);var k=M;return E(E.s="fb15")}({"00b4":function(c,d,u){u("ac1f");var p=u("23e7"),g=u("da84"),E=u("c65b"),b=u("e330"),M=u("1626"),P=u("861d"),k=function(){var it=!1,q=/[ac]/;return q.exec=function(){return it=!0,/./.exec.apply(this,arguments)},q.test("abc")===!0&&it}(),C=g.Error,z=b(/./.test);p({target:"RegExp",proto:!0,forced:!k},{test:function(it){var q=this.exec;if(!M(q))return z(this,it);var tt=E(q,this,it);if(tt!==null&&!P(tt))throw new C("RegExp exec method returned something other than an Object or null");return!!tt}})},"00ee":function(c,d,u){var p=u("b622"),g=p("toStringTag"),E={};E[g]="z",c.exports=String(E)==="[object z]"},"01d4":function(c,d,u){d.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0366":function(c,d,u){var p=u("e330"),g=u("59ed"),E=u("40d5"),b=p(p.bind);c.exports=function(M,P){return g(M),P===void 0?M:E?b(M,P):function(){return M.apply(P,arguments)}}},"04d1":function(c,d,u){var p=u("342f"),g=p.match(/firefox\/(\d+)/i);c.exports=!!g&&+g[1]},"0538":function(c,d,u){var p=u("da84"),g=u("e330"),E=u("59ed"),b=u("861d"),M=u("1a2d"),P=u("f36a"),k=u("40d5"),C=p.Function,z=g([].concat),it=g([].join),q={},tt=function(J,ot,ct){if(!M(q,ot)){for(var wt=[],nt=0;nt<ot;nt++)wt[nt]="a["+nt+"]";q[ot]=C("C,a","return new C("+it(wt,",")+")")}return q[ot](J,ct)};c.exports=k?C.bind:function(ot){var ct=E(this),wt=ct.prototype,nt=P(arguments,1),F=function(){var jt=z(nt,P(arguments));return this instanceof F?tt(ct,jt.length,jt):ct.apply(ot,jt)};return b(wt)&&(F.prototype=wt),F}},"057f":function(c,d,u){var p=u("c6b6"),g=u("fc6a"),E=u("241c").f,b=u("4dae"),M=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],P=function(k){try{return E(k)}catch{return b(M)}};c.exports.f=function(C){return M&&p(C)=="Window"?P(C):E(g(C))}},"06cf":function(c,d,u){var p=u("83ab"),g=u("c65b"),E=u("d1e7"),b=u("5c6c"),M=u("fc6a"),P=u("a04b"),k=u("1a2d"),C=u("0cfb"),z=Object.getOwnPropertyDescriptor;d.f=p?z:function(q,tt){if(q=M(q),tt=P(tt),C)try{return z(q,tt)}catch{}if(k(q,tt))return b(!g(E.f,q,tt),q[tt])}},"07ac":function(c,d,u){var p=u("23e7"),g=u("6f53").values;p({target:"Object",stat:!0},{values:function(b){return g(b)}})},"07fa":function(c,d,u){var p=u("50c4");c.exports=function(g){return p(g.length)}},"0999":function(c,d,u){u.d(d,"a",function(){return g}),u.d(d,"c",function(){return E}),u.d(d,"b",function(){return b}),u.d(d,"g",function(){return M}),u.d(d,"e",function(){return P}),u.d(d,"d",function(){return k}),u.d(d,"f",function(){return C});var p=u("617d");function g(z,it,q,tt){var J;return q&&q.length?J=q.shift():p.g?J=new OffscreenCanvas(z||300,it||300):J=document.createElement("canvas"),z&&(J.width=z),it&&(J.height=it),J.getContext("2d",tt)}function E(z){var it=z.offsetWidth,q=getComputedStyle(z);return it+=parseInt(q.marginLeft,10)+parseInt(q.marginRight,10),it}function b(z){var it=z.offsetHeight,q=getComputedStyle(z);return it+=parseInt(q.marginTop,10)+parseInt(q.marginBottom,10),it}function M(z,it){var q=it.parentNode;q&&q.replaceChild(z,it)}function P(z){return z&&z.parentNode?z.parentNode.removeChild(z):null}function k(z){for(;z.lastChild;)z.removeChild(z.lastChild)}function C(z,it){for(var q=z.childNodes,tt=0;;++tt){var J=q[tt],ot=it[tt];if(!J&&!ot)break;if(J!==ot){if(!J){z.appendChild(ot);continue}if(!ot){z.removeChild(J),--tt;continue}z.insertBefore(ot,J)}}}},"0b42":function(c,d,u){var p=u("da84"),g=u("e8b5"),E=u("68ee"),b=u("861d"),M=u("b622"),P=M("species"),k=p.Array;c.exports=function(C){var z;return g(C)&&(z=C.constructor,E(z)&&(z===k||g(z.prototype))?z=void 0:b(z)&&(z=z[P],z===null&&(z=void 0))),z===void 0?k:z}},"0cb2":function(c,d,u){var p=u("e330"),g=u("7b0b"),E=Math.floor,b=p("".charAt),M=p("".replace),P=p("".slice),k=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,C=/\$([$&'`]|\d{1,2})/g;c.exports=function(z,it,q,tt,J,ot){var ct=q+z.length,wt=tt.length,nt=C;return J!==void 0&&(J=g(J),nt=k),M(ot,nt,function(F,bt){var jt;switch(b(bt,0)){case"$":return"$";case"&":return z;case"`":return P(it,0,q);case"'":return P(it,ct);case"<":jt=J[P(bt,1,-1)];break;default:var te=+bt;if(te===0)return F;if(te>wt){var Ot=E(te/10);return Ot===0?F:Ot<=wt?tt[Ot-1]===void 0?b(bt,1):tt[Ot-1]+b(bt,1):F}jt=tt[te-1]}return jt===void 0?"":jt})}},"0cfb":function(c,d,u){var p=u("83ab"),g=u("d039"),E=u("cc12");c.exports=!p&&!g(function(){return Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a!=7})},"0d51":function(c,d,u){var p=u("da84"),g=p.String;c.exports=function(E){try{return g(E)}catch{return"Object"}}},"0ec0":function(c,d,u){var p=u("da5c"),g=u("cef7"),E=u("57cb"),b=u("38f3"),M=function(){var k=function(C,z){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,q){it.__proto__=q}||function(it,q){for(var tt in q)Object.prototype.hasOwnProperty.call(q,tt)&&(it[tt]=q[tt])},k(C,z)};return function(C,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");k(C,z);function it(){this.constructor=C}C.prototype=z===null?Object.create(z):(it.prototype=z.prototype,new it)}}(),P=function(k){M(C,k);function C(z){var it=k.call(this)||this;return it.eventTarget_=z,it.pendingRemovals_=null,it.dispatching_=null,it.listeners_=null,it}return C.prototype.addEventListener=function(z,it){if(!(!z||!it)){var q=this.listeners_||(this.listeners_={}),tt=q[z]||(q[z]=[]);tt.indexOf(it)===-1&&tt.push(it)}},C.prototype.dispatchEvent=function(z){var it=typeof z=="string"?new g.a(z):z,q=it.type;it.target||(it.target=this.eventTarget_||this);var tt=this.listeners_&&this.listeners_[q],J;if(tt){var ot=this.dispatching_||(this.dispatching_={}),ct=this.pendingRemovals_||(this.pendingRemovals_={});q in ot||(ot[q]=0,ct[q]=0),++ot[q];for(var wt=0,nt=tt.length;wt<nt;++wt)if("handleEvent"in tt[wt]?J=tt[wt].handleEvent(it):J=tt[wt].call(this,it),J===!1||it.propagationStopped){J=!1;break}if(--ot[q],ot[q]===0){var F=ct[q];for(delete ct[q];F--;)this.removeEventListener(q,E.c);delete ot[q]}return J}},C.prototype.disposeInternal=function(){this.listeners_&&Object(b.b)(this.listeners_)},C.prototype.getListeners=function(z){return this.listeners_&&this.listeners_[z]||void 0},C.prototype.hasListener=function(z){return this.listeners_?z?z in this.listeners_:Object.keys(this.listeners_).length>0:!1},C.prototype.removeEventListener=function(z,it){var q=this.listeners_&&this.listeners_[z];if(q){var tt=q.indexOf(it);tt!==-1&&(this.pendingRemovals_&&z in this.pendingRemovals_?(q[tt]=E.c,++this.pendingRemovals_[z]):(q.splice(tt,1),q.length===0&&delete this.listeners_[z]))}},C}(p.a);d.a=P},"107c":function(c,d,u){var p=u("d039"),g=u("da84"),E=g.RegExp;c.exports=p(function(){var b=E("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},"1300":function(c,d,u){u.d(d,"b",function(){return p}),u.d(d,"c",function(){return E}),u.d(d,"a",function(){return b});function p(){return function(){throw new Error("Unimplemented abstract method.")}()}var g=0;function E(M){return M.ol_uid||(M.ol_uid=String(++g))}var b="6.12.0"},"14c3":function(c,d,u){var p=u("da84"),g=u("c65b"),E=u("825a"),b=u("1626"),M=u("c6b6"),P=u("9263"),k=p.TypeError;c.exports=function(C,z){var it=C.exec;if(b(it)){var q=g(it,C,z);return q!==null&&E(q),q}if(M(C)==="RegExp")return g(P,C,z);throw k("RegExp#exec called on incompatible receiver")}},"159b":function(c,d,u){var p=u("da84"),g=u("fdbc"),E=u("785a"),b=u("17c2"),M=u("9112"),P=function(C){if(C&&C.forEach!==b)try{M(C,"forEach",b)}catch{C.forEach=b}};for(var k in g)g[k]&&P(p[k]&&p[k].prototype);P(E)},"1626":function(c,d){c.exports=function(u){return typeof u=="function"}},"17c2":function(c,d,u){var p=u("b727").forEach,g=u("a640"),E=g("forEach");c.exports=E?[].forEach:function(M){return p(this,M,arguments.length>1?arguments[1]:void 0)}},"1a2d":function(c,d,u){var p=u("e330"),g=u("7b0b"),E=p({}.hasOwnProperty);c.exports=Object.hasOwn||function(M,P){return E(g(M),P)}},"1be4":function(c,d,u){var p=u("d066");c.exports=p("document","documentElement")},"1c7e":function(c,d,u){var p=u("b622"),g=p("iterator"),E=!1;try{var b=0,M={next:function(){return{done:!!b++}},return:function(){E=!0}};M[g]=function(){return this},Array.from(M,function(){throw 2})}catch{}c.exports=function(P,k){if(!k&&!E)return!1;var C=!1;try{var z={};z[g]=function(){return{next:function(){return{done:C=!0}}}},P(z)}catch{}return C}},"1d80":function(c,d,u){var p=u("da84"),g=p.TypeError;c.exports=function(E){if(E==null)throw g("Can't call method on "+E);return E}},"1dde":function(c,d,u){var p=u("d039"),g=u("b622"),E=u("2d00"),b=g("species");c.exports=function(M){return E>=51||!p(function(){var P=[],k=P.constructor={};return k[b]=function(){return{foo:1}},P[M](Boolean).foo!==1})}},"1e8d":function(c,d,u){u.d(d,"a",function(){return g}),u.d(d,"b",function(){return E}),u.d(d,"c",function(){return b});var p=u("38f3");function g(M,P,k,C,z){if(C&&C!==M&&(k=k.bind(C)),z){var it=k;k=function(){M.removeEventListener(P,k),it.apply(this,arguments)}}var q={target:M,type:P,listener:k};return M.addEventListener(P,k),q}function E(M,P,k,C){return g(M,P,k,C,!0)}function b(M){M&&M.target&&(M.target.removeEventListener(M.type,M.listener),Object(p.b)(M))}},"1fb5":function(c,d,u){d.byteLength=C,d.toByteArray=it,d.fromByteArray=J;for(var p=[],g=[],E=typeof Uint8Array!="undefined"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,P=b.length;M<P;++M)p[M]=b[M],g[b.charCodeAt(M)]=M;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function k(ot){var ct=ot.length;if(ct%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var wt=ot.indexOf("=");wt===-1&&(wt=ct);var nt=wt===ct?0:4-wt%4;return[wt,nt]}function C(ot){var ct=k(ot),wt=ct[0],nt=ct[1];return(wt+nt)*3/4-nt}function z(ot,ct,wt){return(ct+wt)*3/4-wt}function it(ot){var ct,wt=k(ot),nt=wt[0],F=wt[1],bt=new E(z(ot,nt,F)),jt=0,te=F>0?nt-4:nt,Ot;for(Ot=0;Ot<te;Ot+=4)ct=g[ot.charCodeAt(Ot)]<<18|g[ot.charCodeAt(Ot+1)]<<12|g[ot.charCodeAt(Ot+2)]<<6|g[ot.charCodeAt(Ot+3)],bt[jt++]=ct>>16&255,bt[jt++]=ct>>8&255,bt[jt++]=ct&255;return F===2&&(ct=g[ot.charCodeAt(Ot)]<<2|g[ot.charCodeAt(Ot+1)]>>4,bt[jt++]=ct&255),F===1&&(ct=g[ot.charCodeAt(Ot)]<<10|g[ot.charCodeAt(Ot+1)]<<4|g[ot.charCodeAt(Ot+2)]>>2,bt[jt++]=ct>>8&255,bt[jt++]=ct&255),bt}function q(ot){return p[ot>>18&63]+p[ot>>12&63]+p[ot>>6&63]+p[ot&63]}function tt(ot,ct,wt){for(var nt,F=[],bt=ct;bt<wt;bt+=3)nt=(ot[bt]<<16&16711680)+(ot[bt+1]<<8&65280)+(ot[bt+2]&255),F.push(q(nt));return F.join("")}function J(ot){for(var ct,wt=ot.length,nt=wt%3,F=[],bt=16383,jt=0,te=wt-nt;jt<te;jt+=bt)F.push(tt(ot,jt,jt+bt>te?te:jt+bt));return nt===1?(ct=ot[wt-1],F.push(p[ct>>2]+p[ct<<4&63]+"==")):nt===2&&(ct=(ot[wt-2]<<8)+ot[wt-1],F.push(p[ct>>10]+p[ct>>4&63]+p[ct<<2&63]+"=")),F.join("")}},"21a6":function(c,d,u){(function(p){var g,E,b;(function(M,P){E=[],g=P,b=typeof g=="function"?g.apply(d,E):g,b!==void 0&&(c.exports=b)})(this,function(){function M(tt,J){return typeof J=="undefined"?J={autoBom:!1}:typeof J!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),J={autoBom:!J}),J.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(tt.type)?new Blob(["\uFEFF",tt],{type:tt.type}):tt}function P(tt,J,ot){var ct=new XMLHttpRequest;ct.open("GET",tt),ct.responseType="blob",ct.onload=function(){q(ct.response,J,ot)},ct.onerror=function(){console.error("could not download file")},ct.send()}function k(tt){var J=new XMLHttpRequest;J.open("HEAD",tt,!1);try{J.send()}catch{}return 200<=J.status&&299>=J.status}function C(tt){try{tt.dispatchEvent(new MouseEvent("click"))}catch{var J=document.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),tt.dispatchEvent(J)}}var z=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof p=="object"&&p.global===p?p:void 0,it=z.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),q=z.saveAs||(typeof window!="object"||window!==z?function(){}:"download"in HTMLAnchorElement.prototype&&!it?function(tt,J,ot){var ct=z.URL||z.webkitURL,wt=document.createElement("a");J=J||tt.name||"download",wt.download=J,wt.rel="noopener",typeof tt=="string"?(wt.href=tt,wt.origin===location.origin?C(wt):k(wt.href)?P(tt,J,ot):C(wt,wt.target="_blank")):(wt.href=ct.createObjectURL(tt),setTimeout(function(){ct.revokeObjectURL(wt.href)},4e4),setTimeout(function(){C(wt)},0))}:"msSaveOrOpenBlob"in navigator?function(tt,J,ot){if(J=J||tt.name||"download",typeof tt!="string")navigator.msSaveOrOpenBlob(M(tt,ot),J);else if(k(tt))P(tt,J,ot);else{var ct=document.createElement("a");ct.href=tt,ct.target="_blank",setTimeout(function(){C(ct)})}}:function(tt,J,ot,ct){if(ct=ct||open("","_blank"),ct&&(ct.document.title=ct.document.body.innerText="downloading..."),typeof tt=="string")return P(tt,J,ot);var wt=tt.type==="application/octet-stream",nt=/constructor/i.test(z.HTMLElement)||z.safari,F=/CriOS\/[\d]+/.test(navigator.userAgent);if((F||wt&&nt||it)&&typeof FileReader!="undefined"){var bt=new FileReader;bt.onloadend=function(){var Ot=bt.result;Ot=F?Ot:Ot.replace(/^data:[^;]*;/,"data:attachment/file;"),ct?ct.location.href=Ot:location=Ot,ct=null},bt.readAsDataURL(tt)}else{var jt=z.URL||z.webkitURL,te=jt.createObjectURL(tt);ct?ct.location=te:location.href=te,ct=null,setTimeout(function(){jt.revokeObjectURL(te)},4e4)}});z.saveAs=q.saveAs=q,c.exports=q})}).call(this,u("c8ba"))},"23cb":function(c,d,u){var p=u("5926"),g=Math.max,E=Math.min;c.exports=function(b,M){var P=p(b);return P<0?g(P+M,0):E(P,M)}},"23e7":function(c,d,u){var p=u("da84"),g=u("06cf").f,E=u("9112"),b=u("6eeb"),M=u("ce4e"),P=u("e893"),k=u("94ca");c.exports=function(C,z){var it=C.target,q=C.global,tt=C.stat,J,ot,ct,wt,nt,F;if(q?ot=p:tt?ot=p[it]||M(it,{}):ot=(p[it]||{}).prototype,ot)for(ct in z){if(nt=z[ct],C.noTargetGet?(F=g(ot,ct),wt=F&&F.value):wt=ot[ct],J=k(q?ct:it+(tt?".":"#")+ct,C.forced),!J&&wt!==void 0){if(typeof nt==typeof wt)continue;P(nt,wt)}(C.sham||wt&&wt.sham)&&E(nt,"sham",!0),b(ot,ct,nt,C)}}},"241c":function(c,d,u){var p=u("ca84"),g=u("7839"),E=g.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(M){return p(M,E)}},"2532":function(c,d,u){var p=u("23e7"),g=u("e330"),E=u("5a34"),b=u("1d80"),M=u("577e"),P=u("ab13"),k=g("".indexOf);p({target:"String",proto:!0,forced:!P("includes")},{includes:function(z){return!!~k(M(b(this)),M(E(z)),arguments.length>1?arguments[1]:void 0)}})},"25a5":function(c,d,u){(function(p,g){c.exports=g()})(this,function(){function p(nt,F,bt,jt,te){(function Ot(ee,Dt,Wt,le,ye){for(;le>Wt;){if(le-Wt>600){var Qe=le-Wt+1,mt=Dt-Wt+1,Kt=Math.log(Qe),ae=.5*Math.exp(2*Kt/3),Sr=.5*Math.sqrt(Kt*ae*(Qe-ae)/Qe)*(mt-Qe/2<0?-1:1),xr=Math.max(Wt,Math.floor(Dt-mt*ae/Qe+Sr)),ar=Math.min(le,Math.floor(Dt+(Qe-mt)*ae/Qe+Sr));Ot(ee,Dt,xr,ar,ye)}var jr=ee[Dt],Xr=Wt,wn=le;for(g(ee,Wt,Dt),ye(ee[le],jr)>0&&g(ee,Wt,le);Xr<wn;){for(g(ee,Xr,wn),Xr++,wn--;ye(ee[Xr],jr)<0;)Xr++;for(;ye(ee[wn],jr)>0;)wn--}ye(ee[Wt],jr)===0?g(ee,Wt,wn):g(ee,++wn,le),wn<=Dt&&(Wt=wn+1),Dt<=wn&&(le=wn-1)}})(nt,F,bt||0,jt||nt.length-1,te||E)}function g(nt,F,bt){var jt=nt[F];nt[F]=nt[bt],nt[bt]=jt}function E(nt,F){return nt<F?-1:nt>F?1:0}var b=function(nt){nt===void 0&&(nt=9),this._maxEntries=Math.max(4,nt),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function M(nt,F,bt){if(!bt)return F.indexOf(nt);for(var jt=0;jt<F.length;jt++)if(bt(nt,F[jt]))return jt;return-1}function P(nt,F){k(nt,0,nt.children.length,F,nt)}function k(nt,F,bt,jt,te){te||(te=ct(null)),te.minX=1/0,te.minY=1/0,te.maxX=-1/0,te.maxY=-1/0;for(var Ot=F;Ot<bt;Ot++){var ee=nt.children[Ot];C(te,nt.leaf?jt(ee):ee)}return te}function C(nt,F){return nt.minX=Math.min(nt.minX,F.minX),nt.minY=Math.min(nt.minY,F.minY),nt.maxX=Math.max(nt.maxX,F.maxX),nt.maxY=Math.max(nt.maxY,F.maxY),nt}function z(nt,F){return nt.minX-F.minX}function it(nt,F){return nt.minY-F.minY}function q(nt){return(nt.maxX-nt.minX)*(nt.maxY-nt.minY)}function tt(nt){return nt.maxX-nt.minX+(nt.maxY-nt.minY)}function J(nt,F){return nt.minX<=F.minX&&nt.minY<=F.minY&&F.maxX<=nt.maxX&&F.maxY<=nt.maxY}function ot(nt,F){return F.minX<=nt.maxX&&F.minY<=nt.maxY&&F.maxX>=nt.minX&&F.maxY>=nt.minY}function ct(nt){return{children:nt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function wt(nt,F,bt,jt,te){for(var Ot=[F,bt];Ot.length;)if(!((bt=Ot.pop())-(F=Ot.pop())<=jt)){var ee=F+Math.ceil((bt-F)/jt/2)*jt;p(nt,ee,F,bt,te),Ot.push(F,ee,ee,bt)}}return b.prototype.all=function(){return this._all(this.data,[])},b.prototype.search=function(nt){var F=this.data,bt=[];if(!ot(nt,F))return bt;for(var jt=this.toBBox,te=[];F;){for(var Ot=0;Ot<F.children.length;Ot++){var ee=F.children[Ot],Dt=F.leaf?jt(ee):ee;ot(nt,Dt)&&(F.leaf?bt.push(ee):J(nt,Dt)?this._all(ee,bt):te.push(ee))}F=te.pop()}return bt},b.prototype.collides=function(nt){var F=this.data;if(!ot(nt,F))return!1;for(var bt=[];F;){for(var jt=0;jt<F.children.length;jt++){var te=F.children[jt],Ot=F.leaf?this.toBBox(te):te;if(ot(nt,Ot)){if(F.leaf||J(nt,Ot))return!0;bt.push(te)}}F=bt.pop()}return!1},b.prototype.load=function(nt){if(!nt||!nt.length)return this;if(nt.length<this._minEntries){for(var F=0;F<nt.length;F++)this.insert(nt[F]);return this}var bt=this._build(nt.slice(),0,nt.length-1,0);if(this.data.children.length)if(this.data.height===bt.height)this._splitRoot(this.data,bt);else{if(this.data.height<bt.height){var jt=this.data;this.data=bt,bt=jt}this._insert(bt,this.data.height-bt.height-1,!0)}else this.data=bt;return this},b.prototype.insert=function(nt){return nt&&this._insert(nt,this.data.height-1),this},b.prototype.clear=function(){return this.data=ct([]),this},b.prototype.remove=function(nt,F){if(!nt)return this;for(var bt,jt,te,Ot=this.data,ee=this.toBBox(nt),Dt=[],Wt=[];Ot||Dt.length;){if(Ot||(Ot=Dt.pop(),jt=Dt[Dt.length-1],bt=Wt.pop(),te=!0),Ot.leaf){var le=M(nt,Ot.children,F);if(le!==-1)return Ot.children.splice(le,1),Dt.push(Ot),this._condense(Dt),this}te||Ot.leaf||!J(Ot,ee)?jt?(bt++,Ot=jt.children[bt],te=!1):Ot=null:(Dt.push(Ot),Wt.push(bt),bt=0,jt=Ot,Ot=Ot.children[0])}return this},b.prototype.toBBox=function(nt){return nt},b.prototype.compareMinX=function(nt,F){return nt.minX-F.minX},b.prototype.compareMinY=function(nt,F){return nt.minY-F.minY},b.prototype.toJSON=function(){return this.data},b.prototype.fromJSON=function(nt){return this.data=nt,this},b.prototype._all=function(nt,F){for(var bt=[];nt;)nt.leaf?F.push.apply(F,nt.children):bt.push.apply(bt,nt.children),nt=bt.pop();return F},b.prototype._build=function(nt,F,bt,jt){var te,Ot=bt-F+1,ee=this._maxEntries;if(Ot<=ee)return P(te=ct(nt.slice(F,bt+1)),this.toBBox),te;jt||(jt=Math.ceil(Math.log(Ot)/Math.log(ee)),ee=Math.ceil(Ot/Math.pow(ee,jt-1))),(te=ct([])).leaf=!1,te.height=jt;var Dt=Math.ceil(Ot/ee),Wt=Dt*Math.ceil(Math.sqrt(ee));wt(nt,F,bt,Wt,this.compareMinX);for(var le=F;le<=bt;le+=Wt){var ye=Math.min(le+Wt-1,bt);wt(nt,le,ye,Dt,this.compareMinY);for(var Qe=le;Qe<=ye;Qe+=Dt){var mt=Math.min(Qe+Dt-1,ye);te.children.push(this._build(nt,Qe,mt,jt-1))}}return P(te,this.toBBox),te},b.prototype._chooseSubtree=function(nt,F,bt,jt){for(;jt.push(F),!F.leaf&&jt.length-1!==bt;){for(var te=1/0,Ot=1/0,ee=void 0,Dt=0;Dt<F.children.length;Dt++){var Wt=F.children[Dt],le=q(Wt),ye=(Qe=nt,mt=Wt,(Math.max(mt.maxX,Qe.maxX)-Math.min(mt.minX,Qe.minX))*(Math.max(mt.maxY,Qe.maxY)-Math.min(mt.minY,Qe.minY))-le);ye<Ot?(Ot=ye,te=le<te?le:te,ee=Wt):ye===Ot&&le<te&&(te=le,ee=Wt)}F=ee||F.children[0]}var Qe,mt;return F},b.prototype._insert=function(nt,F,bt){var jt=bt?nt:this.toBBox(nt),te=[],Ot=this._chooseSubtree(jt,this.data,F,te);for(Ot.children.push(nt),C(Ot,jt);F>=0&&te[F].children.length>this._maxEntries;)this._split(te,F),F--;this._adjustParentBBoxes(jt,te,F)},b.prototype._split=function(nt,F){var bt=nt[F],jt=bt.children.length,te=this._minEntries;this._chooseSplitAxis(bt,te,jt);var Ot=this._chooseSplitIndex(bt,te,jt),ee=ct(bt.children.splice(Ot,bt.children.length-Ot));ee.height=bt.height,ee.leaf=bt.leaf,P(bt,this.toBBox),P(ee,this.toBBox),F?nt[F-1].children.push(ee):this._splitRoot(bt,ee)},b.prototype._splitRoot=function(nt,F){this.data=ct([nt,F]),this.data.height=nt.height+1,this.data.leaf=!1,P(this.data,this.toBBox)},b.prototype._chooseSplitIndex=function(nt,F,bt){for(var jt,te,Ot,ee,Dt,Wt,le,ye=1/0,Qe=1/0,mt=F;mt<=bt-F;mt++){var Kt=k(nt,0,mt,this.toBBox),ae=k(nt,mt,bt,this.toBBox),Sr=(te=Kt,Ot=ae,ee=void 0,Dt=void 0,Wt=void 0,le=void 0,ee=Math.max(te.minX,Ot.minX),Dt=Math.max(te.minY,Ot.minY),Wt=Math.min(te.maxX,Ot.maxX),le=Math.min(te.maxY,Ot.maxY),Math.max(0,Wt-ee)*Math.max(0,le-Dt)),xr=q(Kt)+q(ae);Sr<ye?(ye=Sr,jt=mt,Qe=xr<Qe?xr:Qe):Sr===ye&&xr<Qe&&(Qe=xr,jt=mt)}return jt||bt-F},b.prototype._chooseSplitAxis=function(nt,F,bt){var jt=nt.leaf?this.compareMinX:z,te=nt.leaf?this.compareMinY:it;this._allDistMargin(nt,F,bt,jt)<this._allDistMargin(nt,F,bt,te)&&nt.children.sort(jt)},b.prototype._allDistMargin=function(nt,F,bt,jt){nt.children.sort(jt);for(var te=this.toBBox,Ot=k(nt,0,F,te),ee=k(nt,bt-F,bt,te),Dt=tt(Ot)+tt(ee),Wt=F;Wt<bt-F;Wt++){var le=nt.children[Wt];C(Ot,nt.leaf?te(le):le),Dt+=tt(Ot)}for(var ye=bt-F-1;ye>=F;ye--){var Qe=nt.children[ye];C(ee,nt.leaf?te(Qe):Qe),Dt+=tt(ee)}return Dt},b.prototype._adjustParentBBoxes=function(nt,F,bt){for(var jt=bt;jt>=0;jt--)C(F[jt],nt)},b.prototype._condense=function(nt){for(var F=nt.length-1,bt=void 0;F>=0;F--)nt[F].children.length===0?F>0?(bt=nt[F-1].children).splice(bt.indexOf(nt[F]),1):this.clear():P(nt[F],this.toBBox)},b})},"2a62":function(c,d,u){var p=u("c65b"),g=u("825a"),E=u("dc4a");c.exports=function(b,M,P){var k,C;g(b);try{if(k=E(b,"return"),!k){if(M==="throw")throw P;return P}k=p(k,b)}catch(z){C=!0,k=z}if(M==="throw")throw P;if(C)throw k;return g(k),P}},"2ba4":function(c,d,u){var p=u("40d5"),g=Function.prototype,E=g.apply,b=g.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(p?b.bind(E):function(){return b.apply(E,arguments)})},"2d00":function(c,d,u){var p=u("da84"),g=u("342f"),E=p.process,b=p.Deno,M=E&&E.versions||b&&b.version,P=M&&M.v8,k,C;P&&(k=P.split("."),C=k[0]>0&&k[0]<4?1:+(k[0]+k[1])),!C&&g&&(k=g.match(/Edge\/(\d+)/),(!k||k[1]>=74)&&(k=g.match(/Chrome\/(\d+)/),k&&(C=+k[1]))),c.exports=C},"3410":function(c,d,u){var p=u("23e7"),g=u("d039"),E=u("7b0b"),b=u("e163"),M=u("e177"),P=g(function(){b(1)});p({target:"Object",stat:!0,forced:P,sham:!M},{getPrototypeOf:function(C){return b(E(C))}})},"342f":function(c,d,u){var p=u("d066");c.exports=p("navigator","userAgent")||""},"35a1":function(c,d,u){var p=u("f5df"),g=u("dc4a"),E=u("3f8c"),b=u("b622"),M=b("iterator");c.exports=function(P){if(P!=null)return g(P,M)||g(P,"@@iterator")||E[p(P)]}},"35a7":function(c,d,u){u.d(d,"b",function(){return P});var p=u("0ec0"),g=u("01d4"),E=u("1e8d"),b=function(){var k=function(C,z){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,q){it.__proto__=q}||function(it,q){for(var tt in q)Object.prototype.hasOwnProperty.call(q,tt)&&(it[tt]=q[tt])},k(C,z)};return function(C,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");k(C,z);function it(){this.constructor=C}C.prototype=z===null?Object.create(z):(it.prototype=z.prototype,new it)}}(),M=function(k){b(C,k);function C(){var z=k.call(this)||this;return z.on=z.onInternal,z.once=z.onceInternal,z.un=z.unInternal,z.revision_=0,z}return C.prototype.changed=function(){++this.revision_,this.dispatchEvent(g.a.CHANGE)},C.prototype.getRevision=function(){return this.revision_},C.prototype.onInternal=function(z,it){if(Array.isArray(z)){for(var q=z.length,tt=new Array(q),J=0;J<q;++J)tt[J]=Object(E.a)(this,z[J],it);return tt}else return Object(E.a)(this,z,it)},C.prototype.onceInternal=function(z,it){var q;if(Array.isArray(z)){var tt=z.length;q=new Array(tt);for(var J=0;J<tt;++J)q[J]=Object(E.b)(this,z[J],it)}else q=Object(E.b)(this,z,it);return it.ol_key=q,q},C.prototype.unInternal=function(z,it){var q=it.ol_key;if(q)P(q);else if(Array.isArray(z))for(var tt=0,J=z.length;tt<J;++tt)this.removeEventListener(z[tt],it);else this.removeEventListener(z,it)},C}(p.a);M.prototype.on,M.prototype.once,M.prototype.un;function P(k){if(Array.isArray(k))for(var C=0,z=k.length;C<z;++C)Object(E.c)(k[C]);else Object(E.c)(k)}d.a=M},"37e8":function(c,d,u){var p=u("83ab"),g=u("aed9"),E=u("9bf2"),b=u("825a"),M=u("fc6a"),P=u("df75");d.f=p&&!g?Object.defineProperties:function(C,z){b(C);for(var it=M(z),q=P(z),tt=q.length,J=0,ot;tt>J;)E.f(C,ot=q[J++],it[ot]);return C}},"38f3":function(c,d,u){u.d(d,"a",function(){return p}),u.d(d,"b",function(){return g}),u.d(d,"c",function(){return E}),u.d(d,"d",function(){return b});var p=typeof Object.assign=="function"?Object.assign:function(M,P){if(M==null)throw new TypeError("Cannot convert undefined or null to object");for(var k=Object(M),C=1,z=arguments.length;C<z;++C){var it=arguments[C];if(it!=null)for(var q in it)it.hasOwnProperty(q)&&(k[q]=it[q])}return k};function g(M){for(var P in M)delete M[P]}var E=typeof Object.values=="function"?Object.values:function(M){var P=[];for(var k in M)P.push(M[k]);return P};function b(M){var P;for(P in M)return!1;return!P}},"3900":function(c,d,u){u.r(d);var p=u("e269"),g=u("592d"),E=u("57cb"),b=u("1e8d"),M=u("0999"),P=function(){var C=function(z,it){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,tt){q.__proto__=tt}||function(q,tt){for(var J in tt)Object.prototype.hasOwnProperty.call(tt,J)&&(q[J]=tt[J])},C(z,it)};return function(z,it){if(typeof it!="function"&&it!==null)throw new TypeError("Class extends value "+String(it)+" is not a constructor or null");C(z,it);function q(){this.constructor=z}z.prototype=it===null?Object.create(it):(q.prototype=it.prototype,new q)}}(),k=function(C){P(z,C);function z(it){var q=C.call(this)||this,tt=it.element;return tt&&!it.target&&!tt.style.pointerEvents&&(tt.style.pointerEvents="auto"),q.element=tt||null,q.target_=null,q.map_=null,q.listenerKeys=[],it.render&&(q.render=it.render),it.target&&q.setTarget(it.target),q}return z.prototype.disposeInternal=function(){Object(M.e)(this.element),C.prototype.disposeInternal.call(this)},z.prototype.getMap=function(){return this.map_},z.prototype.setMap=function(it){this.map_&&Object(M.e)(this.element);for(var q=0,tt=this.listenerKeys.length;q<tt;++q)Object(b.c)(this.listenerKeys[q]);if(this.listenerKeys.length=0,this.map_=it,this.map_){var J=this.target_?this.target_:it.getOverlayContainerStopEvent();J.appendChild(this.element),this.render!==E.c&&this.listenerKeys.push(Object(b.a)(it,g.a.POSTRENDER,this.render,this)),it.render()}},z.prototype.render=function(it){},z.prototype.setTarget=function(it){this.target_=typeof it=="string"?document.getElementById(it):it},z}(p.a);d.default=k},"3a9b":function(c,d,u){var p=u("e330");c.exports=p({}.isPrototypeOf)},"3bbe":function(c,d,u){var p=u("da84"),g=u("1626"),E=p.String,b=p.TypeError;c.exports=function(M){if(typeof M=="object"||g(M))return M;throw b("Can't set "+E(M)+" as a prototype")}},"3ca3":function(c,d,u){var p=u("6547").charAt,g=u("577e"),E=u("69f3"),b=u("7dd0"),M="String Iterator",P=E.set,k=E.getterFor(M);b(String,"String",function(C){P(this,{type:M,string:g(C),index:0})},function(){var z=k(this),it=z.string,q=z.index,tt;return q>=it.length?{value:void 0,done:!0}:(tt=p(it,q),z.index+=tt.length,{value:tt,done:!1})})},"3f8c":function(c,d){c.exports={}},"408a":function(c,d,u){var p=u("e330");c.exports=p(1 .valueOf)},"40d5":function(c,d,u){var p=u("d039");c.exports=!p(function(){var g=function(){}.bind();return typeof g!="function"||g.hasOwnProperty("prototype")})},"428f":function(c,d,u){var p=u("da84");c.exports=p},"44ad":function(c,d,u){var p=u("da84"),g=u("e330"),E=u("d039"),b=u("c6b6"),M=p.Object,P=g("".split);c.exports=E(function(){return!M("z").propertyIsEnumerable(0)})?function(k){return b(k)=="String"?P(k,""):M(k)}:M},"44d2":function(c,d,u){var p=u("b622"),g=u("7c73"),E=u("9bf2"),b=p("unscopables"),M=Array.prototype;M[b]==null&&E.f(M,b,{configurable:!0,value:g(null)}),c.exports=function(P){M[b][P]=!0}},"44e7":function(c,d,u){var p=u("861d"),g=u("c6b6"),E=u("b622"),b=E("match");c.exports=function(M){var P;return p(M)&&((P=M[b])!==void 0?!!P:g(M)=="RegExp")}},"485a":function(c,d,u){var p=u("da84"),g=u("c65b"),E=u("1626"),b=u("861d"),M=p.TypeError;c.exports=function(P,k){var C,z;if(k==="string"&&E(C=P.toString)&&!b(z=g(C,P))||E(C=P.valueOf)&&!b(z=g(C,P))||k!=="string"&&E(C=P.toString)&&!b(z=g(C,P)))return z;throw M("Can't convert object to primitive value")}},"4930":function(c,d,u){var p=u("2d00"),g=u("d039");c.exports=!!Object.getOwnPropertySymbols&&!g(function(){var E=Symbol();return!String(E)||!(Object(E)instanceof Symbol)||!Symbol.sham&&p&&p<41})},"4ae1":function(c,d,u){var p=u("23e7"),g=u("d066"),E=u("2ba4"),b=u("0538"),M=u("5087"),P=u("825a"),k=u("861d"),C=u("7c73"),z=u("d039"),it=g("Reflect","construct"),q=Object.prototype,tt=[].push,J=z(function(){function wt(){}return!(it(function(){},[],wt)instanceof wt)}),ot=!z(function(){it(function(){})}),ct=J||ot;p({target:"Reflect",stat:!0,forced:ct,sham:ct},{construct:function(nt,F){M(nt),P(F);var bt=arguments.length<3?nt:M(arguments[2]);if(ot&&!J)return it(nt,F,bt);if(nt==bt){switch(F.length){case 0:return new nt;case 1:return new nt(F[0]);case 2:return new nt(F[0],F[1]);case 3:return new nt(F[0],F[1],F[2]);case 4:return new nt(F[0],F[1],F[2],F[3])}var jt=[null];return E(tt,jt,F),new(E(b,nt,jt))}var te=bt.prototype,Ot=C(k(te)?te:q),ee=E(nt,Ot,F);return k(ee)?ee:Ot}})},"4d64":function(c,d,u){var p=u("fc6a"),g=u("23cb"),E=u("07fa"),b=function(M){return function(P,k,C){var z=p(P),it=E(z),q=g(C,it),tt;if(M&&k!=k){for(;it>q;)if(tt=z[q++],tt!=tt)return!0}else for(;it>q;q++)if((M||q in z)&&z[q]===k)return M||q||0;return!M&&-1}};c.exports={includes:b(!0),indexOf:b(!1)}},"4dae":function(c,d,u){var p=u("da84"),g=u("23cb"),E=u("07fa"),b=u("8418"),M=p.Array,P=Math.max;c.exports=function(k,C,z){for(var it=E(k),q=g(C,it),tt=g(z===void 0?it:z,it),J=M(P(tt-q,0)),ot=0;q<tt;q++,ot++)b(J,ot,k[q]);return J.length=ot,J}},"4de4":function(c,d,u){var p=u("23e7"),g=u("b727").filter,E=u("1dde"),b=E("filter");p({target:"Array",proto:!0,forced:!b},{filter:function(P){return g(this,P,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(c,d,u){var p=u("da84"),g=u("0366"),E=u("c65b"),b=u("7b0b"),M=u("9bdd"),P=u("e95a"),k=u("68ee"),C=u("07fa"),z=u("8418"),it=u("9a1f"),q=u("35a1"),tt=p.Array;c.exports=function(ot){var ct=b(ot),wt=k(this),nt=arguments.length,F=nt>1?arguments[1]:void 0,bt=F!==void 0;bt&&(F=g(F,nt>2?arguments[2]:void 0));var jt=q(ct),te=0,Ot,ee,Dt,Wt,le,ye;if(jt&&!(this==tt&&P(jt)))for(Wt=it(ct,jt),le=Wt.next,ee=wt?new this:[];!(Dt=E(le,Wt)).done;te++)ye=bt?M(Wt,F,[Dt.value,te],!0):Dt.value,z(ee,te,ye);else for(Ot=C(ct),ee=wt?new this(Ot):tt(Ot);Ot>te;te++)ye=bt?F(ct[te],te):ct[te],z(ee,te,ye);return ee.length=te,ee}},"4e82":function(c,d,u){var p=u("23e7"),g=u("e330"),E=u("59ed"),b=u("7b0b"),M=u("07fa"),P=u("577e"),k=u("d039"),C=u("addb"),z=u("a640"),it=u("04d1"),q=u("d998"),tt=u("2d00"),J=u("512c"),ot=[],ct=g(ot.sort),wt=g(ot.push),nt=k(function(){ot.sort(void 0)}),F=k(function(){ot.sort(null)}),bt=z("sort"),jt=!k(function(){if(tt)return tt<70;if(!(it&&it>3)){if(q)return!0;if(J)return J<603;var ee="",Dt,Wt,le,ye;for(Dt=65;Dt<76;Dt++){switch(Wt=String.fromCharCode(Dt),Dt){case 66:case 69:case 70:case 72:le=3;break;case 68:case 71:le=4;break;default:le=2}for(ye=0;ye<47;ye++)ot.push({k:Wt+ye,v:le})}for(ot.sort(function(Qe,mt){return mt.v-Qe.v}),ye=0;ye<ot.length;ye++)Wt=ot[ye].k.charAt(0),ee.charAt(ee.length-1)!==Wt&&(ee+=Wt);return ee!=="DGBEFHACIJK"}}),te=nt||!F||!bt||!jt,Ot=function(ee){return function(Dt,Wt){return Wt===void 0?-1:Dt===void 0?1:ee!==void 0?+ee(Dt,Wt)||0:P(Dt)>P(Wt)?1:-1}};p({target:"Array",proto:!0,forced:te},{sort:function(Dt){Dt!==void 0&&E(Dt);var Wt=b(this);if(jt)return Dt===void 0?ct(Wt):ct(Wt,Dt);var le=[],ye=M(Wt),Qe,mt;for(mt=0;mt<ye;mt++)mt in Wt&&wt(le,Wt[mt]);for(C(le,Ot(Dt)),Qe=le.length,mt=0;mt<Qe;)Wt[mt]=le[mt++];for(;mt<ye;)delete Wt[mt++];return Wt}})},"5087":function(c,d,u){var p=u("da84"),g=u("68ee"),E=u("0d51"),b=p.TypeError;c.exports=function(M){if(g(M))return M;throw b(E(M)+" is not a constructor")}},"50c4":function(c,d,u){var p=u("5926"),g=Math.min;c.exports=function(E){return E>0?g(p(E),9007199254740991):0}},"512c":function(c,d,u){var p=u("342f"),g=p.match(/AppleWebKit\/(\d+)\./);c.exports=!!g&&+g[1]},"5319":function(c,d,u){var p=u("2ba4"),g=u("c65b"),E=u("e330"),b=u("d784"),M=u("d039"),P=u("825a"),k=u("1626"),C=u("5926"),z=u("50c4"),it=u("577e"),q=u("1d80"),tt=u("8aa5"),J=u("dc4a"),ot=u("0cb2"),ct=u("14c3"),wt=u("b622"),nt=wt("replace"),F=Math.max,bt=Math.min,jt=E([].concat),te=E([].push),Ot=E("".indexOf),ee=E("".slice),Dt=function(Qe){return Qe===void 0?Qe:String(Qe)},Wt=function(){return"a".replace(/./,"$0")==="$0"}(),le=function(){return/./[nt]?/./[nt]("a","$0")==="":!1}(),ye=!M(function(){var Qe=/./;return Qe.exec=function(){var mt=[];return mt.groups={a:"7"},mt},"".replace(Qe,"$<a>")!=="7"});b("replace",function(Qe,mt,Kt){var ae=le?"$":"$0";return[function(xr,ar){var jr=q(this),Xr=xr==null?void 0:J(xr,nt);return Xr?g(Xr,xr,jr,ar):g(mt,it(jr),xr,ar)},function(Sr,xr){var ar=P(this),jr=it(Sr);if(typeof xr=="string"&&Ot(xr,ae)===-1&&Ot(xr,"$<")===-1){var Xr=Kt(mt,ar,jr,xr);if(Xr.done)return Xr.value}var wn=k(xr);wn||(xr=it(xr));var _e=ar.global;if(_e){var er=ar.unicode;ar.lastIndex=0}for(var _r=[];;){var Fr=ct(ar,jr);if(Fr===null||(te(_r,Fr),!_e))break;var jn=it(Fr[0]);jn===""&&(ar.lastIndex=tt(jr,z(ar.lastIndex),er))}for(var Ur="",Vt=0,ie=0;ie<_r.length;ie++){Fr=_r[ie];for(var Tt=it(Fr[0]),ft=F(bt(C(Fr.index),jr.length),0),Rt=[],Qt=1;Qt<Fr.length;Qt++)te(Rt,Dt(Fr[Qt]));var $t=Fr.groups;if(wn){var he=jt([Tt],Rt,ft,jr);$t!==void 0&&te(he,$t);var Pe=it(p(xr,void 0,he))}else Pe=ot(Tt,jr,ft,Rt,$t,xr);ft>=Vt&&(Ur+=ee(jr,Vt,ft)+Pe,Vt=ft+Tt.length)}return Ur+ee(jr,Vt)}]},!ye||!Wt||le)},"5692":function(c,d,u){var p=u("c430"),g=u("c6cd");(c.exports=function(E,b){return g[E]||(g[E]=b!==void 0?b:{})})("versions",[]).push({version:"3.20.3",mode:p?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(c,d,u){var p=u("d066"),g=u("e330"),E=u("241c"),b=u("7418"),M=u("825a"),P=g([].concat);c.exports=p("Reflect","ownKeys")||function(C){var z=E.f(M(C)),it=b.f;return it?P(z,it(C)):z}},"577e":function(c,d,u){var p=u("da84"),g=u("f5df"),E=p.String;c.exports=function(b){if(g(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return E(b)}},"57cb":function(c,d,u){u.d(d,"b",function(){return g}),u.d(d,"a",function(){return E}),u.d(d,"c",function(){return b}),u.d(d,"d",function(){return M});var p=u("9f5e");function g(){return!0}function E(){return!1}function b(){}function M(P){var k=!1,C,z,it;return function(){var q=Array.prototype.slice.call(arguments);return(!k||this!==it||!Object(p.b)(q,z))&&(k=!0,it=this,z=q,C=P.apply(this,arguments)),C}}},"5899":function(c,d){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"58a8":function(c,d,u){var p=u("e330"),g=u("1d80"),E=u("577e"),b=u("5899"),M=p("".replace),P="["+b+"]",k=RegExp("^"+P+P+"*"),C=RegExp(P+P+"*$"),z=function(it){return function(q){var tt=E(g(q));return it&1&&(tt=M(tt,k,"")),it&2&&(tt=M(tt,C,"")),tt}};c.exports={start:z(1),end:z(2),trim:z(3)}},"5926":function(c,d){var u=Math.ceil,p=Math.floor;c.exports=function(g){var E=+g;return E!==E||E===0?0:(E>0?p:u)(E)}},"592d":function(c,d,u){d.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"59ed":function(c,d,u){var p=u("da84"),g=u("1626"),E=u("0d51"),b=p.TypeError;c.exports=function(M){if(g(M))return M;throw b(E(M)+" is not a function")}},"5a34":function(c,d,u){var p=u("da84"),g=u("44e7"),E=p.TypeError;c.exports=function(b){if(g(b))throw E("The method doesn't accept regular expressions");return b}},"5bc0":function(c,d,u){},"5c6c":function(c,d){c.exports=function(u,p){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:p}}},"5e77":function(c,d,u){var p=u("83ab"),g=u("1a2d"),E=Function.prototype,b=p&&Object.getOwnPropertyDescriptor,M=g(E,"name"),P=M&&function(){}.name==="something",k=M&&(!p||p&&b(E,"name").configurable);c.exports={EXISTS:M,PROPER:P,CONFIGURABLE:k}},"617d":function(c,d,u){u.d(d,"b",function(){return g}),u.d(d,"f",function(){return E}),u.d(d,"d",function(){return b}),u.d(d,"a",function(){return M}),u.d(d,"g",function(){return P}),u.d(d,"c",function(){return k}),u.d(d,"e",function(){return C});var p=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",g=p.indexOf("firefox")!==-1;p.indexOf("safari")!==-1&&p.indexOf("chrom")==-1;var E=p.indexOf("webkit")!==-1&&p.indexOf("edge")==-1,b=p.indexOf("macintosh")!==-1,M=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,P=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,k=typeof Image!="undefined"&&Image.prototype.decode,C=function(){var z=!1;try{var it=Object.defineProperty({},"passive",{get:function(){z=!0}});window.addEventListener("_",null,it),window.removeEventListener("_",null,it)}catch{}return z}()},"6547":function(c,d,u){var p=u("e330"),g=u("5926"),E=u("577e"),b=u("1d80"),M=p("".charAt),P=p("".charCodeAt),k=p("".slice),C=function(z){return function(it,q){var tt=E(b(it)),J=g(q),ot=tt.length,ct,wt;return J<0||J>=ot?z?"":void 0:(ct=P(tt,J),ct<55296||ct>56319||J+1===ot||(wt=P(tt,J+1))<56320||wt>57343?z?M(tt,J):ct:z?k(tt,J,J+2):(ct-55296<<10)+(wt-56320)+65536)}};c.exports={codeAt:C(!1),charAt:C(!0)}},"658f":function(c,d,u){/*!
  * ol-contextmenu - v4.1.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Sat Aug 15 2020 10:43:26 GMT-0300 (Brasilia Standard Time)
  */(function(p,g){c.exports=g(u("3900"))})(this,function(p){function g(Dt){return Dt&&typeof Dt=="object"&&"default"in Dt?Dt:{default:Dt}}var E=g(p),b="ol-ctx-menu",M={namespace:b,container:b+"-container",separator:b+"-separator",submenu:b+"-submenu",hidden:b+"-hidden",icon:b+"-icon",zoomIn:b+"-zoom-in",zoomOut:b+"-zoom-out",unselectable:"ol-unselectable"},P=M,k="beforeopen",C="open",z="close",it="contextmenu",q={width:150,scrollAt:4,eventType:it,defaultItems:!0},tt=[{text:"Zoom In",classname:M.zoomIn+" "+M.icon,callback:function(Dt,Wt){var le=Wt.getView();le.animate({zoom:+le.getZoom()+1,duration:700,center:Dt.coordinate})}},{text:"Zoom Out",classname:M.zoomOut+" "+M.icon,callback:function(Dt,Wt){var le=Wt.getView();le.animate({zoom:+le.getZoom()-1,duration:700,center:Dt.coordinate})}}];function J(Dt,Wt){if(Wt===void 0&&(Wt="Assertion failed"),!Dt)throw typeof Error!="undefined"?new Error(Wt):Wt}function ot(Dt){return/^\d+$/.test(Dt)}function ct(Dt,Wt){return Dt.classList?Dt.classList.contains(Wt):bt(Wt).test(Dt.className)}function wt(Dt,Wt,le){Wt===void 0&&(Wt=window.document);var ye=Array.prototype.slice,Qe=[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(Dt))switch(Dt[0]){case"#":Qe=[nt(Dt.substr(1))];break;case".":Qe=ye.call(Wt.getElementsByClassName(Dt.substr(1).replace(/\./g," ")));break;default:Qe=ye.call(Wt.getElementsByTagName(Dt))}else Qe=ye.call(Wt.querySelectorAll(Dt));return le?Qe:Qe[0]}function nt(Dt){return Dt=Dt[0]==="#"?Dt.substr(1,Dt.length):Dt,document.getElementById(Dt)}function F(Dt){var Wt=document.createDocumentFragment(),le=document.createElement("div");for(le.innerHTML=Dt;le.firstChild;)Wt.appendChild(le.firstChild);return Wt}function bt(Dt){return new RegExp("(^|\\s+) "+Dt+" (\\s+|$)")}function jt(Dt,Wt,le){Dt.classList?Dt.classList.add(Wt):Dt.className=(Dt.className+" "+Wt).trim(),le&&ot(le)&&window.setTimeout(function(){return te(Dt,Wt)},le)}function te(Dt,Wt,le){Dt.classList?Dt.classList.remove(Wt):Dt.className=Dt.className.replace(bt(Wt)," ").trim(),le&&ot(le)&&window.setTimeout(function(){return jt(Dt,Wt)},le)}var Ot=function(Dt){return this.Base=Dt,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:Dt.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this};Ot.prototype.init=function(Dt){this.map=Dt,this.viewport=Dt.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},Ot.prototype.getItemsLength=function(){var Dt=this,Wt=0;return Object.keys(this.items).forEach(function(le){Dt.items[le].submenu||Dt.items[le].separator||Wt++}),Wt},Ot.prototype.getPixelClicked=function(){return this.pixelClicked},Ot.prototype.getCoordinateClicked=function(){return this.coordinateClicked},Ot.prototype.positionContainer=function(Dt){var Wt=this,le=this.Base.container,ye=this.map.getSize(),Qe=ye[1]-Dt[1],mt=ye[0]-Dt[0],Kt=le.offsetWidth,ae=Math.round(this.lineHeight*this.getItemsLength()),Sr=wt("li."+P.submenu+">div",le,!0);mt>=Kt?(le.style.right="auto",le.style.left=Dt[0]+5+"px"):(le.style.left="auto",le.style.right="15px"),Qe>=ae?(le.style.bottom="auto",le.style.top=Dt[1]-10+"px"):(le.style.top="auto",le.style.bottom=0),function xr(ar,jr,Xr){if(Array.isArray(ar))ar.forEach(function(er){return xr(er,jr,Xr)});else for(var wn=Array.isArray(jr)?jr:jr.split(/\s+/),_e=wn.length;_e--;)ct(ar,wn[_e])&&te(ar,wn[_e],Xr)}(le,P.hidden),Sr.length&&(this.submenu.lastLeft=mt<2*Kt?"-"+Kt+"px":this.submenu.left,Sr.forEach(function(xr){var ar,jr,Xr,wn={w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight},_e=(jr=(ar=xr).getBoundingClientRect(),Xr=document.documentElement,{left:jr.left+window.pageXOffset-Xr.clientLeft,top:jr.top+window.pageYOffset-Xr.clientTop,width:ar.offsetWidth,height:ar.offsetHeight}),er=_e.height,_r=Qe-er;_r<0&&(_r=er-(wn.h-_e.top),xr.style.top="-"+_r+"px"),xr.style.left=Wt.submenu.lastLeft}))},Ot.prototype.openMenu=function(Dt,Wt){this.Base.dispatchEvent({type:C,pixel:Dt,coordinate:Wt}),this.opened=!0,this.positionContainer(Dt)},Ot.prototype.closeMenu=function(){this.opened=!1,function Dt(Wt,le,ye){if(Array.isArray(Wt))Wt.forEach(function(Kt){return Dt(Kt,le)});else for(var Qe=Array.isArray(le)?le:le.split(/\s+/),mt=Qe.length;mt--;)ct(Wt,Qe[mt])||jt(Wt,Qe[mt],ye)}(this.Base.container,P.hidden),this.Base.dispatchEvent({type:z})},Ot.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)},Ot.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)},Ot.prototype.handleEvent=function(Dt){var Wt=this;this.coordinateClicked=this.map.getEventCoordinate(Dt),this.pixelClicked=this.map.getEventPixel(Dt),this.Base.dispatchEvent({type:k,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===it&&(Dt.stopPropagation(),Dt.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),Dt.target.addEventListener("pointerdown",{handleEvent:function(le){Wt.opened&&(Wt.closeMenu(),le.stopPropagation(),Dt.target.removeEventListener(le.type,this,!1))}},!1))},Ot.prototype.handleMapMoveEvent=function(Dt){this.closeMenu()},Ot.prototype.setItemListener=function(Dt,Wt){var le,ye=this;Dt&&typeof this.items[Wt].callback=="function"&&(le=this.items[Wt].callback,Dt.addEventListener("click",function(Qe){Qe.preventDefault();var mt={coordinate:ye.getCoordinateClicked(),data:ye.items[Wt].data||null};ye.closeMenu(),le(mt,ye.map)},!1))};var ee=function(Dt){return this.Base=Dt,this.Base.container=this.container=this.createContainer(!0),this};return ee.prototype.createContainer=function(Dt){var Wt=document.createElement("div"),le=document.createElement("ul"),ye=[P.container,P.unselectable];return Dt&&ye.push(P.hidden),Wt.className=ye.join(" "),Wt.style.width=parseInt(this.Base.options.width,10)+"px",Wt.appendChild(le),Wt},ee.prototype.createMenu=function(){var Dt=[];if("items"in this.Base.options?Dt=this.Base.options.defaultItems?this.Base.options.items.concat(tt):this.Base.options.items:this.Base.options.defaultItems&&(Dt=tt),Dt.length===0)return!1;Dt.forEach(this.addMenuEntry,this)},ee.prototype.addMenuEntry=function(Dt){var Wt,le=this;if(Dt.items&&Array.isArray(Dt.items)){Dt.classname=Dt.classname||"",Wt=P.submenu,~Dt.classname.indexOf(Wt)||(Dt.classname=Dt.classname.length?" "+P.submenu:P.submenu);var ye=this.generateHtmlAndPublish(this.container,Dt),Qe=this.createContainer();Qe.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,ye.appendChild(Qe),Dt.items.forEach(function(mt){le.generateHtmlAndPublish(Qe,mt,!0)})}else this.generateHtmlAndPublish(this.container,Dt)},ee.prototype.generateHtmlAndPublish=function(Dt,Wt,le){var ye,Qe,mt="_"+Math.random().toString(36).substr(2,9),Kt=!1;return typeof Wt=="string"&&Wt.trim()==="-"?(ye=F('<li id="'+mt+'" class="'+P.separator+'"><hr></li>'),Qe=[].slice.call(ye.childNodes,0)[0],Dt.firstChild.appendChild(ye),Kt=!0):(Wt.classname=Wt.classname||"",ye=F("<span>"+Wt.text+"</span>"),Qe=document.createElement("li"),Wt.icon&&(Wt.classname===""?Wt.classname=P.icon:Wt.classname.indexOf(P.icon)===-1&&(Wt.classname+=" "+P.icon),Qe.setAttribute("style","background-image:url("+Wt.icon+")")),Qe.id=mt,Qe.className=Wt.classname,Qe.appendChild(ye),Dt.firstChild.appendChild(Qe)),this.Base.Internal.items[mt]={id:mt,submenu:le||0,separator:Kt,callback:Wt.callback,data:Wt.data||null},this.Base.Internal.setItemListener(Qe,mt),Qe},ee.prototype.removeMenuEntry=function(Dt){var Wt=wt("#"+Dt,this.container.firstChild);Wt&&this.container.firstChild.removeChild(Wt),delete this.Base.Internal.items[Dt]},ee.prototype.cloneAndGetLineHeight=function(){var Dt=this.container.cloneNode(),Wt=F("<span>Foo</span>"),le=F("<span>Foo</span>"),ye=document.createElement("li"),Qe=document.createElement("li");ye.appendChild(Wt),Qe.appendChild(le),Dt.appendChild(ye),Dt.appendChild(Qe),this.container.parentNode.appendChild(Dt);var mt=Dt.offsetHeight/2;return this.container.parentNode.removeChild(Dt),mt},function(Dt){function Wt(le){le===void 0&&(le={}),J(typeof le=="object","@param `opt_options` should be object type!"),this.options=function(ye,Qe){var mt={};for(var Kt in ye)mt[Kt]=ye[Kt];for(var ae in Qe)mt[ae]=Qe[ae];return mt}(q,le),this.disabled=!1,this.Internal=new Ot(this),this.Html=new ee(this),Dt.call(this,{element:this.container})}return Dt&&(Wt.__proto__=Dt),Wt.prototype=Object.create(Dt&&Dt.prototype),Wt.prototype.constructor=Wt,Wt.prototype.clear=function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)},Wt.prototype.close=function(){this.Internal.closeMenu()},Wt.prototype.enable=function(){this.disabled=!1},Wt.prototype.disable=function(){this.disabled=!0},Wt.prototype.getDefaultItems=function(){return tt},Wt.prototype.countItems=function(){return Object.keys(this.Internal.items).length},Wt.prototype.extend=function(le){J(Array.isArray(le),"@param `arr` should be an Array."),le.forEach(this.push,this)},Wt.prototype.isOpen=function(){return this.Internal.opened},Wt.prototype.updatePosition=function(le){J(Array.isArray(le),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(le)},Wt.prototype.pop=function(){var le=Object.keys(this.Internal.items);this.Html.removeMenuEntry(le[le.length-1])},Wt.prototype.push=function(le){J(le!=null,"@param `item` must be informed."),this.Html.addMenuEntry(le)},Wt.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},Wt.prototype.setMap=function(le){Dt.prototype.setMap.call(this,le),le?this.Internal.init(le,this):this.Internal.removeListeners()},Wt}(E.default)})},"65f0":function(c,d,u){var p=u("0b42");c.exports=function(g,E){return new(p(g))(E===0?0:E)}},"68ee":function(c,d,u){var p=u("e330"),g=u("d039"),E=u("1626"),b=u("f5df"),M=u("d066"),P=u("8925"),k=function(){},C=[],z=M("Reflect","construct"),it=/^\s*(?:class|function)\b/,q=p(it.exec),tt=!it.exec(k),J=function(wt){if(!E(wt))return!1;try{return z(k,C,wt),!0}catch{return!1}},ot=function(wt){if(!E(wt))return!1;switch(b(wt)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tt||!!q(it,P(wt))}catch{return!0}};ot.sham=!0,c.exports=!z||g(function(){var ct;return J(J.call)||!J(Object)||!J(function(){ct=!0})||ct})?ot:J},"69f3":function(c,d,u){var p=u("7f9a"),g=u("da84"),E=u("e330"),b=u("861d"),M=u("9112"),P=u("1a2d"),k=u("c6cd"),C=u("f772"),z=u("d012"),it="Object already initialized",q=g.TypeError,tt=g.WeakMap,J,ot,ct,wt=function(ee){return ct(ee)?ot(ee):J(ee,{})},nt=function(ee){return function(Dt){var Wt;if(!b(Dt)||(Wt=ot(Dt)).type!==ee)throw q("Incompatible receiver, "+ee+" required");return Wt}};if(p||k.state){var F=k.state||(k.state=new tt),bt=E(F.get),jt=E(F.has),te=E(F.set);J=function(ee,Dt){if(jt(F,ee))throw new q(it);return Dt.facade=ee,te(F,ee,Dt),Dt},ot=function(ee){return bt(F,ee)||{}},ct=function(ee){return jt(F,ee)}}else{var Ot=C("state");z[Ot]=!0,J=function(ee,Dt){if(P(ee,Ot))throw new q(it);return Dt.facade=ee,M(ee,Ot,Dt),Dt},ot=function(ee){return P(ee,Ot)?ee[Ot]:{}},ct=function(ee){return P(ee,Ot)}}c.exports={set:J,get:ot,has:ct,enforce:wt,getterFor:nt}},"6b0d":function(c,d,u){Object.defineProperty(d,"__esModule",{value:!0}),d.default=(p,g)=>{const E=p.__vccOpts||p;for(const[b,M]of g)E[b]=M;return E}},"6eeb":function(c,d,u){var p=u("da84"),g=u("1626"),E=u("1a2d"),b=u("9112"),M=u("ce4e"),P=u("8925"),k=u("69f3"),C=u("5e77").CONFIGURABLE,z=k.get,it=k.enforce,q=String(String).split("String");(c.exports=function(tt,J,ot,ct){var wt=ct?!!ct.unsafe:!1,nt=ct?!!ct.enumerable:!1,F=ct?!!ct.noTargetGet:!1,bt=ct&&ct.name!==void 0?ct.name:J,jt;if(g(ot)&&(String(bt).slice(0,7)==="Symbol("&&(bt="["+String(bt).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!E(ot,"name")||C&&ot.name!==bt)&&b(ot,"name",bt),jt=it(ot),jt.source||(jt.source=q.join(typeof bt=="string"?bt:""))),tt===p){nt?tt[J]=ot:M(J,ot);return}else wt?!F&&tt[J]&&(nt=!0):delete tt[J];nt?tt[J]=ot:b(tt,J,ot)})(Function.prototype,"toString",function(){return g(this)&&z(this).source||P(this)})},"6f53":function(c,d,u){var p=u("83ab"),g=u("e330"),E=u("df75"),b=u("fc6a"),M=u("d1e7").f,P=g(M),k=g([].push),C=function(z){return function(it){for(var q=b(it),tt=E(q),J=tt.length,ot=0,ct=[],wt;J>ot;)wt=tt[ot++],(!p||P(q,wt))&&k(ct,z?[wt,q[wt]]:q[wt]);return ct}};c.exports={entries:C(!0),values:C(!1)}},"7037":function(c,d,u){u("a4d3"),u("e01a"),u("d3b7"),u("d28b"),u("e260"),u("3ca3"),u("ddb0");function p(g){return c.exports=p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},c.exports.__esModule=!0,c.exports.default=c.exports,p(g)}c.exports=p,c.exports.__esModule=!0,c.exports.default=c.exports},"7156":function(c,d,u){var p=u("1626"),g=u("861d"),E=u("d2bb");c.exports=function(b,M,P){var k,C;return E&&p(k=M.constructor)&&k!==P&&g(C=k.prototype)&&C!==P.prototype&&E(b,C),b}},"72ba":function(c,d,u){u.d(d,"b",function(){return Tt}),u.d(d,"a",function(){return ft});var p=Uint8Array,g=Uint16Array,E=Uint32Array,b=new p([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M=new p([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P=new p([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=function(Rt,Qt){for(var $t=new g(31),he=0;he<31;++he)$t[he]=Qt+=1<<Rt[he-1];for(var Pe=new E($t[30]),he=1;he<30;++he)for(var Ue=$t[he];Ue<$t[he+1];++Ue)Pe[Ue]=Ue-$t[he]<<5|he;return[$t,Pe]},C=k(b,2),z=C[0],it=C[1];z[28]=258,it[258]=28;for(var q=k(M,0),tt=q[0],J=q[1],ot=new g(32768),ct=0;ct<32768;++ct){var wt=(ct&43690)>>>1|(ct&21845)<<1;wt=(wt&52428)>>>2|(wt&13107)<<2,wt=(wt&61680)>>>4|(wt&3855)<<4,ot[ct]=((wt&65280)>>>8|(wt&255)<<8)>>>1}for(var nt=function(Rt,Qt,$t){for(var he=Rt.length,Pe=0,Ue=new g(Qt);Pe<he;++Pe)++Ue[Rt[Pe]-1];var Gt=new g(Qt);for(Pe=0;Pe<Qt;++Pe)Gt[Pe]=Gt[Pe-1]+Ue[Pe-1]<<1;var at;if($t){at=new g(1<<Qt);var $=15-Qt;for(Pe=0;Pe<he;++Pe)if(Rt[Pe])for(var Q=Pe<<4|Rt[Pe],dt=Qt-Rt[Pe],ue=Gt[Rt[Pe]-1]++<<dt,De=ue|(1<<dt)-1;ue<=De;++ue)at[ot[ue]>>>$]=Q}else for(at=new g(he),Pe=0;Pe<he;++Pe)at[Pe]=ot[Gt[Rt[Pe]-1]++]>>>15-Rt[Pe];return at},F=new p(288),ct=0;ct<144;++ct)F[ct]=8;for(var ct=144;ct<256;++ct)F[ct]=9;for(var ct=256;ct<280;++ct)F[ct]=7;for(var ct=280;ct<288;++ct)F[ct]=8;for(var bt=new p(32),ct=0;ct<32;++ct)bt[ct]=5;var jt=nt(F,9,0),te=nt(F,9,1),Ot=nt(bt,5,0),ee=nt(bt,5,1),Dt=function(Rt){for(var Qt=Rt[0],$t=1;$t<Rt.length;++$t)Rt[$t]>Qt&&(Qt=Rt[$t]);return Qt},Wt=function(Rt,Qt,$t){var he=Qt/8>>0;return(Rt[he]|Rt[he+1]<<8)>>>(Qt&7)&$t},le=function(Rt,Qt){var $t=Qt/8>>0;return(Rt[$t]|Rt[$t+1]<<8|Rt[$t+2]<<16)>>>(Qt&7)},ye=function(Rt){return(Rt/8>>0)+(Rt&7&&1)},Qe=function(Rt,Qt,$t){(Qt==null||Qt<0)&&(Qt=0),($t==null||$t>Rt.length)&&($t=Rt.length);var he=new(Rt instanceof g?g:Rt instanceof E?E:p)($t-Qt);return he.set(Rt.subarray(Qt,$t)),he},mt=function(Rt,Qt,$t){var he=Rt.length,Pe=!Qt||$t,Ue=!$t||$t.i;$t||($t={}),Qt||(Qt=new p(he*3));var Gt=function(zl){var Ts=Qt.length;if(zl>Ts){var Bs=new p(Math.max(Ts*2,zl));Bs.set(Qt),Qt=Bs}},at=$t.f||0,$=$t.p||0,Q=$t.b||0,dt=$t.l,ue=$t.d,De=$t.m,We=$t.n,Pr=he*8;do{if(!dt){$t.f=at=Wt(Rt,$,1);var tn=Wt(Rt,$+1,3);if($+=3,tn)if(tn==1)dt=te,ue=ee,De=9,We=5;else if(tn==2){var Ci=Wt(Rt,$,31)+257,ao=Wt(Rt,$+10,15)+4,Kn=Ci+Wt(Rt,$+5,31)+1;$+=14;for(var ui=new p(Kn),Li=new p(19),_n=0;_n<ao;++_n)Li[P[_n]]=Wt(Rt,$+_n*3,7);$+=ao*3;var uo=Dt(Li),zn=(1<<uo)-1;if(!Ue&&$+Kn*(uo+7)>Pr)break;for(var Na=nt(Li,uo,1),_n=0;_n<Kn;){var Wo=Na[Wt(Rt,$,zn)];$+=Wo&15;var ln=Wo>>>4;if(ln<16)ui[_n++]=ln;else{var Ji=0,on=0;for(ln==16?(on=3+Wt(Rt,$,3),$+=2,Ji=ui[_n-1]):ln==17?(on=3+Wt(Rt,$,7),$+=3):ln==18&&(on=11+Wt(Rt,$,127),$+=7);on--;)ui[_n++]=Ji}}var fr=ui.subarray(0,Ci),rn=ui.subarray(Ci);De=Dt(fr),We=Dt(rn),dt=nt(fr,De,1),ue=nt(rn,We,1)}else throw"invalid block type";else{var ln=ye($)+4,Fn=Rt[ln-4]|Rt[ln-3]<<8,qn=ln+Fn;if(qn>he){if(Ue)throw"unexpected EOF";break}Pe&&Gt(Q+Fn),Qt.set(Rt.subarray(ln,qn),Q),$t.b=Q+=Fn,$t.p=$=qn*8;continue}if($>Pr)throw"unexpected EOF"}Pe&&Gt(Q+131072);for(var Ln=(1<<De)-1,hi=(1<<We)-1,bi=De+We+18;Ue||$+bi<Pr;){var Ji=dt[le(Rt,$)&Ln],Tn=Ji>>>4;if($+=Ji&15,$>Pr)throw"unexpected EOF";if(!Ji)throw"invalid length/literal";if(Tn<256)Qt[Q++]=Tn;else if(Tn==256){dt=null;break}else{var en=Tn-254;if(Tn>264){var _n=Tn-257,Ti=b[_n];en=Wt(Rt,$,(1<<Ti)-1)+z[_n],$+=Ti}var Io=ue[le(Rt,$)&hi],ya=Io>>>4;if(!Io)throw"invalid distance";$+=Io&15;var rn=tt[ya];if(ya>3){var Ti=M[ya];rn+=le(Rt,$)&(1<<Ti)-1,$+=Ti}if($>Pr)throw"unexpected EOF";Pe&&Gt(Q+131072);for(var ei=Q+en;Q<ei;Q+=4)Qt[Q]=Qt[Q-rn],Qt[Q+1]=Qt[Q+1-rn],Qt[Q+2]=Qt[Q+2-rn],Qt[Q+3]=Qt[Q+3-rn];Q=ei}}$t.l=dt,$t.p=$,$t.b=Q,dt&&(at=1,$t.m=De,$t.d=ue,$t.n=We)}while(!at);return Q==Qt.length?Qt:Qe(Qt,0,Q)},Kt=function(Rt,Qt,$t){$t<<=Qt&7;var he=Qt/8>>0;Rt[he]|=$t,Rt[he+1]|=$t>>>8},ae=function(Rt,Qt,$t){$t<<=Qt&7;var he=Qt/8>>0;Rt[he]|=$t,Rt[he+1]|=$t>>>8,Rt[he+2]|=$t>>>16},Sr=function(Rt,Qt){for(var $t=[],he=0;he<Rt.length;++he)Rt[he]&&$t.push({s:he,f:Rt[he]});var Pe=$t.length,Ue=$t.slice();if(!Pe)return[new p(0),0];if(Pe==1){var Gt=new p($t[0].s+1);return Gt[$t[0].s]=1,[Gt,1]}$t.sort(function(Kn,ui){return Kn.f-ui.f}),$t.push({s:-1,f:25001});var at=$t[0],$=$t[1],Q=0,dt=1,ue=2;for($t[0]={s:-1,f:at.f+$.f,l:at,r:$};dt!=Pe-1;)at=$t[$t[Q].f<$t[ue].f?Q++:ue++],$=$t[Q!=dt&&$t[Q].f<$t[ue].f?Q++:ue++],$t[dt++]={s:-1,f:at.f+$.f,l:at,r:$};for(var De=Ue[0].s,he=1;he<Pe;++he)Ue[he].s>De&&(De=Ue[he].s);var We=new g(De+1),Pr=xr($t[dt-1],We,0);if(Pr>Qt){var he=0,tn=0,ln=Pr-Qt,Fn=1<<ln;for(Ue.sort(function(ui,Li){return We[Li.s]-We[ui.s]||ui.f-Li.f});he<Pe;++he){var qn=Ue[he].s;if(We[qn]>Qt)tn+=Fn-(1<<Pr-We[qn]),We[qn]=Qt;else break}for(tn>>>=ln;tn>0;){var Ci=Ue[he].s;We[Ci]<Qt?tn-=1<<Qt-We[Ci]++-1:++he}for(;he>=0&&tn;--he){var ao=Ue[he].s;We[ao]==Qt&&(--We[ao],++tn)}Pr=Qt}return[new p(We),Pr]},xr=function(Rt,Qt,$t){return Rt.s==-1?Math.max(xr(Rt.l,Qt,$t+1),xr(Rt.r,Qt,$t+1)):Qt[Rt.s]=$t},ar=function(Rt){for(var Qt=Rt.length;Qt&&!Rt[--Qt];);for(var $t=new g(++Qt),he=0,Pe=Rt[0],Ue=1,Gt=function($){$t[he++]=$},at=1;at<=Qt;++at)if(Rt[at]==Pe&&at!=Qt)++Ue;else{if(!Pe&&Ue>2){for(;Ue>138;Ue-=138)Gt(32754);Ue>2&&(Gt(Ue>10?Ue-11<<5|28690:Ue-3<<5|12305),Ue=0)}else if(Ue>3){for(Gt(Pe),--Ue;Ue>6;Ue-=6)Gt(8304);Ue>2&&(Gt(Ue-3<<5|8208),Ue=0)}for(;Ue--;)Gt(Pe);Ue=1,Pe=Rt[at]}return[$t.subarray(0,he),Qt]},jr=function(Rt,Qt){for(var $t=0,he=0;he<Qt.length;++he)$t+=Rt[he]*Qt[he];return $t},Xr=function(Rt,Qt,$t){var he=$t.length,Pe=ye(Qt+2);Rt[Pe]=he&255,Rt[Pe+1]=he>>>8,Rt[Pe+2]=Rt[Pe]^255,Rt[Pe+3]=Rt[Pe+1]^255;for(var Ue=0;Ue<he;++Ue)Rt[Pe+Ue+4]=$t[Ue];return(Pe+4+he)*8},wn=function(Rt,Qt,$t,he,Pe,Ue,Gt,at,$,Q,dt){Kt(Qt,dt++,$t),++Pe[256];for(var ue=Sr(Pe,15),De=ue[0],We=ue[1],Pr=Sr(Ue,15),tn=Pr[0],ln=Pr[1],Fn=ar(De),qn=Fn[0],Ci=Fn[1],ao=ar(tn),Kn=ao[0],ui=ao[1],Li=new g(19),_n=0;_n<qn.length;++_n)Li[qn[_n]&31]++;for(var _n=0;_n<Kn.length;++_n)Li[Kn[_n]&31]++;for(var uo=Sr(Li,7),zn=uo[0],Na=uo[1],Wo=19;Wo>4&&!zn[P[Wo-1]];--Wo);var Ji=Q+5<<3,on=jr(Pe,F)+jr(Ue,bt)+Gt,fr=jr(Pe,De)+jr(Ue,tn)+Gt+14+3*Wo+jr(Li,zn)+(2*Li[16]+3*Li[17]+7*Li[18]);if(Ji<=on&&Ji<=fr)return Xr(Qt,dt,Rt.subarray($,$+Q));var rn,Ln,hi,bi;if(Kt(Qt,dt,1+(fr<on)),dt+=2,fr<on){rn=nt(De,We,0),Ln=De,hi=nt(tn,ln,0),bi=tn;var Tn=nt(zn,Na,0);Kt(Qt,dt,Ci-257),Kt(Qt,dt+5,ui-1),Kt(Qt,dt+10,Wo-4),dt+=14;for(var _n=0;_n<Wo;++_n)Kt(Qt,dt+3*_n,zn[P[_n]]);dt+=3*Wo;for(var en=[qn,Kn],Ti=0;Ti<2;++Ti)for(var Io=en[Ti],_n=0;_n<Io.length;++_n){var ya=Io[_n]&31;Kt(Qt,dt,Tn[ya]),dt+=zn[ya],ya>15&&(Kt(Qt,dt,Io[_n]>>>5&127),dt+=Io[_n]>>>12)}}else rn=jt,Ln=F,hi=Ot,bi=bt;for(var _n=0;_n<at;++_n)if(he[_n]>255){var ya=he[_n]>>>18&31;ae(Qt,dt,rn[ya+257]),dt+=Ln[ya+257],ya>7&&(Kt(Qt,dt,he[_n]>>>23&31),dt+=b[ya]);var ei=he[_n]&31;ae(Qt,dt,hi[ei]),dt+=bi[ei],ei>3&&(ae(Qt,dt,he[_n]>>>5&8191),dt+=M[ei])}else ae(Qt,dt,rn[he[_n]]),dt+=Ln[he[_n]];return ae(Qt,dt,rn[256]),dt+Ln[256]},_e=new E([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),er=new p(0),_r=function(Rt,Qt,$t,he,Pe,Ue){var Gt=Rt.length,at=new p(he+Gt+5*(1+Math.floor(Gt/7e3))+Pe),$=at.subarray(he,at.length-Pe),Q=0;if(!Qt||Gt<8)for(var dt=0;dt<=Gt;dt+=65535){var ue=dt+65535;ue<Gt?Q=Xr($,Q,Rt.subarray(dt,ue)):($[dt]=Ue,Q=Xr($,Q,Rt.subarray(dt,Gt)))}else{for(var De=_e[Qt-1],We=De>>>13,Pr=De&8191,tn=(1<<$t)-1,ln=new g(32768),Fn=new g(tn+1),qn=Math.ceil($t/3),Ci=2*qn,ao=function(tl){return(Rt[tl]^Rt[tl+1]<<qn^Rt[tl+2]<<Ci)&tn},Kn=new E(25e3),ui=new g(288),Li=new g(32),_n=0,uo=0,dt=0,zn=0,Na=0,Wo=0;dt<Gt;++dt){var Ji=ao(dt),on=dt&32767,fr=Fn[Ji];if(ln[on]=fr,Fn[Ji]=on,Na<=dt){var rn=Gt-dt;if((_n>7e3||zn>24576)&&rn>423){Q=wn(Rt,$,0,Kn,ui,Li,uo,zn,Wo,dt-Wo,Q),zn=_n=uo=0,Wo=dt;for(var Ln=0;Ln<286;++Ln)ui[Ln]=0;for(var Ln=0;Ln<30;++Ln)Li[Ln]=0}var hi=2,bi=0,Tn=Pr,en=on-fr&32767;if(rn>2&&Ji==ao(dt-en))for(var Ti=Math.min(We,rn)-1,Io=Math.min(32767,dt),ya=Math.min(258,rn);en<=Io&&--Tn&&on!=fr;){if(Rt[dt+hi]==Rt[dt+hi-en]){for(var ei=0;ei<ya&&Rt[dt+ei]==Rt[dt+ei-en];++ei);if(ei>hi){if(hi=ei,bi=en,ei>Ti)break;for(var zl=Math.min(en,ei-2),Ts=0,Ln=0;Ln<zl;++Ln){var Bs=dt-en+Ln+32768&32767,co=ln[Bs],Yu=Bs-co+32768&32767;Yu>Ts&&(Ts=Yu,fr=Bs)}}}on=fr,fr=ln[on],en+=on-fr+32768&32767}if(bi){Kn[zn++]=268435456|it[hi]<<18|J[bi];var Za=it[hi]&31,Ja=J[bi]&31;uo+=b[Za]+M[Ja],++ui[257+Za],++Li[Ja],Na=dt+hi,++_n}else Kn[zn++]=Rt[dt],++ui[Rt[dt]]}}Q=wn(Rt,$,Ue,Kn,ui,Li,uo,zn,Wo,dt-Wo,Q),Ue||(Q=Xr($,Q,er))}return Qe(at,0,he+ye(Q)+Pe)},Fr=function(){var Rt=1,Qt=0;return{p:function($t){for(var he=Rt,Pe=Qt,Ue=$t.length,Gt=0;Gt!=Ue;){for(var at=Math.min(Gt+5552,Ue);Gt<at;++Gt)he+=$t[Gt],Pe+=he;he%=65521,Pe%=65521}Rt=he,Qt=Pe},d:function(){return(Rt>>>8<<16|(Qt&255)<<8|Qt>>>8)+((Rt&255)<<23)*2}}},jn=function(Rt,Qt,$t,he,Pe){return _r(Rt,Qt.level==null?6:Qt.level,Qt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Rt.length)))*1.5):12+Qt.mem,$t,he,!Pe)},Ur=function(Rt,Qt,$t){for(;$t;++Qt)Rt[Qt]=$t,$t>>>=8},Vt=function(Rt,Qt){var $t=Qt.level,he=$t==0?0:$t<6?1:$t==9?3:2;Rt[0]=120,Rt[1]=he<<6|(he?32-2*he:1)},ie=function(Rt){if((Rt[0]&15)!=8||Rt[0]>>>4>7||(Rt[0]<<8|Rt[1])%31)throw"invalid zlib data";if(Rt[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Tt(Rt,Qt){Qt===void 0&&(Qt={});var $t=Fr();$t.p(Rt);var he=jn(Rt,Qt,2,4);return Vt(he,Qt),Ur(he,he.length-4,$t.d()),he}function ft(Rt,Qt){return mt((ie(Rt),Rt.subarray(2,-4)),Qt)}},"7418":function(c,d){d.f=Object.getOwnPropertySymbols},"746f":function(c,d,u){var p=u("428f"),g=u("1a2d"),E=u("e538"),b=u("9bf2").f;c.exports=function(M){var P=p.Symbol||(p.Symbol={});g(P,M)||b(P,M,{value:E.f(M)})}},"7839":function(c,d){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(c,d,u){var p=u("cc12"),g=p("span").classList,E=g&&g.constructor&&g.constructor.prototype;c.exports=E===Object.prototype?void 0:E},"7915":function(c,d,u){c.exports=g;var p=u("9152");function g(mt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(mt)?mt:new Uint8Array(mt||0),this.pos=0,this.type=0,this.length=this.buf.length}g.Varint=0,g.Fixed64=1,g.Bytes=2,g.Fixed32=5;var E=(1<<16)*(1<<16),b=1/E,M=12,P=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");g.prototype={destroy:function(){this.buf=null},readFields:function(mt,Kt,ae){for(ae=ae||this.length;this.pos<ae;){var Sr=this.readVarint(),xr=Sr>>3,ar=this.pos;this.type=Sr&7,mt(xr,Kt,this),this.pos===ar&&this.skip(Sr)}return Kt},readMessage:function(mt,Kt){return this.readFields(mt,Kt,this.readVarint()+this.pos)},readFixed32:function(){var mt=ee(this.buf,this.pos);return this.pos+=4,mt},readSFixed32:function(){var mt=Wt(this.buf,this.pos);return this.pos+=4,mt},readFixed64:function(){var mt=ee(this.buf,this.pos)+ee(this.buf,this.pos+4)*E;return this.pos+=8,mt},readSFixed64:function(){var mt=ee(this.buf,this.pos)+Wt(this.buf,this.pos+4)*E;return this.pos+=8,mt},readFloat:function(){var mt=p.read(this.buf,this.pos,!0,23,4);return this.pos+=4,mt},readDouble:function(){var mt=p.read(this.buf,this.pos,!0,52,8);return this.pos+=8,mt},readVarint:function(mt){var Kt=this.buf,ae,Sr;return Sr=Kt[this.pos++],ae=Sr&127,Sr<128||(Sr=Kt[this.pos++],ae|=(Sr&127)<<7,Sr<128)||(Sr=Kt[this.pos++],ae|=(Sr&127)<<14,Sr<128)||(Sr=Kt[this.pos++],ae|=(Sr&127)<<21,Sr<128)?ae:(Sr=Kt[this.pos],ae|=(Sr&15)<<28,k(ae,mt,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var mt=this.readVarint();return mt%2===1?(mt+1)/-2:mt/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var mt=this.readVarint()+this.pos,Kt=this.pos;return this.pos=mt,mt-Kt>=M&&P?ye(this.buf,Kt,mt):le(this.buf,Kt,mt)},readBytes:function(){var mt=this.readVarint()+this.pos,Kt=this.buf.subarray(this.pos,mt);return this.pos=mt,Kt},readPackedVarint:function(mt,Kt){if(this.type!==g.Bytes)return mt.push(this.readVarint(Kt));var ae=C(this);for(mt=mt||[];this.pos<ae;)mt.push(this.readVarint(Kt));return mt},readPackedSVarint:function(mt){if(this.type!==g.Bytes)return mt.push(this.readSVarint());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readSVarint());return mt},readPackedBoolean:function(mt){if(this.type!==g.Bytes)return mt.push(this.readBoolean());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readBoolean());return mt},readPackedFloat:function(mt){if(this.type!==g.Bytes)return mt.push(this.readFloat());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readFloat());return mt},readPackedDouble:function(mt){if(this.type!==g.Bytes)return mt.push(this.readDouble());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readDouble());return mt},readPackedFixed32:function(mt){if(this.type!==g.Bytes)return mt.push(this.readFixed32());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readFixed32());return mt},readPackedSFixed32:function(mt){if(this.type!==g.Bytes)return mt.push(this.readSFixed32());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readSFixed32());return mt},readPackedFixed64:function(mt){if(this.type!==g.Bytes)return mt.push(this.readFixed64());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readFixed64());return mt},readPackedSFixed64:function(mt){if(this.type!==g.Bytes)return mt.push(this.readSFixed64());var Kt=C(this);for(mt=mt||[];this.pos<Kt;)mt.push(this.readSFixed64());return mt},skip:function(mt){var Kt=mt&7;if(Kt===g.Varint)for(;this.buf[this.pos++]>127;);else if(Kt===g.Bytes)this.pos=this.readVarint()+this.pos;else if(Kt===g.Fixed32)this.pos+=4;else if(Kt===g.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+Kt)},writeTag:function(mt,Kt){this.writeVarint(mt<<3|Kt)},realloc:function(mt){for(var Kt=this.length||16;Kt<this.pos+mt;)Kt*=2;if(Kt!==this.length){var ae=new Uint8Array(Kt);ae.set(this.buf),this.buf=ae,this.length=Kt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(mt){this.realloc(4),Dt(this.buf,mt,this.pos),this.pos+=4},writeSFixed32:function(mt){this.realloc(4),Dt(this.buf,mt,this.pos),this.pos+=4},writeFixed64:function(mt){this.realloc(8),Dt(this.buf,mt&-1,this.pos),Dt(this.buf,Math.floor(mt*b),this.pos+4),this.pos+=8},writeSFixed64:function(mt){this.realloc(8),Dt(this.buf,mt&-1,this.pos),Dt(this.buf,Math.floor(mt*b),this.pos+4),this.pos+=8},writeVarint:function(mt){if(mt=+mt||0,mt>268435455||mt<0){it(mt,this);return}this.realloc(4),this.buf[this.pos++]=mt&127|(mt>127?128:0),!(mt<=127)&&(this.buf[this.pos++]=(mt>>>=7)&127|(mt>127?128:0),!(mt<=127)&&(this.buf[this.pos++]=(mt>>>=7)&127|(mt>127?128:0),!(mt<=127)&&(this.buf[this.pos++]=mt>>>7&127)))},writeSVarint:function(mt){this.writeVarint(mt<0?-mt*2-1:mt*2)},writeBoolean:function(mt){this.writeVarint(Boolean(mt))},writeString:function(mt){mt=String(mt),this.realloc(mt.length*4),this.pos++;var Kt=this.pos;this.pos=Qe(this.buf,mt,this.pos);var ae=this.pos-Kt;ae>=128&&J(Kt,ae,this),this.pos=Kt-1,this.writeVarint(ae),this.pos+=ae},writeFloat:function(mt){this.realloc(4),p.write(this.buf,mt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(mt){this.realloc(8),p.write(this.buf,mt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(mt){var Kt=mt.length;this.writeVarint(Kt),this.realloc(Kt);for(var ae=0;ae<Kt;ae++)this.buf[this.pos++]=mt[ae]},writeRawMessage:function(mt,Kt){this.pos++;var ae=this.pos;mt(Kt,this);var Sr=this.pos-ae;Sr>=128&&J(ae,Sr,this),this.pos=ae-1,this.writeVarint(Sr),this.pos+=Sr},writeMessage:function(mt,Kt,ae){this.writeTag(mt,g.Bytes),this.writeRawMessage(Kt,ae)},writePackedVarint:function(mt,Kt){Kt.length&&this.writeMessage(mt,ot,Kt)},writePackedSVarint:function(mt,Kt){Kt.length&&this.writeMessage(mt,ct,Kt)},writePackedBoolean:function(mt,Kt){Kt.length&&this.writeMessage(mt,F,Kt)},writePackedFloat:function(mt,Kt){Kt.length&&this.writeMessage(mt,wt,Kt)},writePackedDouble:function(mt,Kt){Kt.length&&this.writeMessage(mt,nt,Kt)},writePackedFixed32:function(mt,Kt){Kt.length&&this.writeMessage(mt,bt,Kt)},writePackedSFixed32:function(mt,Kt){Kt.length&&this.writeMessage(mt,jt,Kt)},writePackedFixed64:function(mt,Kt){Kt.length&&this.writeMessage(mt,te,Kt)},writePackedSFixed64:function(mt,Kt){Kt.length&&this.writeMessage(mt,Ot,Kt)},writeBytesField:function(mt,Kt){this.writeTag(mt,g.Bytes),this.writeBytes(Kt)},writeFixed32Field:function(mt,Kt){this.writeTag(mt,g.Fixed32),this.writeFixed32(Kt)},writeSFixed32Field:function(mt,Kt){this.writeTag(mt,g.Fixed32),this.writeSFixed32(Kt)},writeFixed64Field:function(mt,Kt){this.writeTag(mt,g.Fixed64),this.writeFixed64(Kt)},writeSFixed64Field:function(mt,Kt){this.writeTag(mt,g.Fixed64),this.writeSFixed64(Kt)},writeVarintField:function(mt,Kt){this.writeTag(mt,g.Varint),this.writeVarint(Kt)},writeSVarintField:function(mt,Kt){this.writeTag(mt,g.Varint),this.writeSVarint(Kt)},writeStringField:function(mt,Kt){this.writeTag(mt,g.Bytes),this.writeString(Kt)},writeFloatField:function(mt,Kt){this.writeTag(mt,g.Fixed32),this.writeFloat(Kt)},writeDoubleField:function(mt,Kt){this.writeTag(mt,g.Fixed64),this.writeDouble(Kt)},writeBooleanField:function(mt,Kt){this.writeVarintField(mt,Boolean(Kt))}};function k(mt,Kt,ae){var Sr=ae.buf,xr,ar;if(ar=Sr[ae.pos++],xr=(ar&112)>>4,ar<128||(ar=Sr[ae.pos++],xr|=(ar&127)<<3,ar<128)||(ar=Sr[ae.pos++],xr|=(ar&127)<<10,ar<128)||(ar=Sr[ae.pos++],xr|=(ar&127)<<17,ar<128)||(ar=Sr[ae.pos++],xr|=(ar&127)<<24,ar<128)||(ar=Sr[ae.pos++],xr|=(ar&1)<<31,ar<128))return z(mt,xr,Kt);throw new Error("Expected varint not more than 10 bytes")}function C(mt){return mt.type===g.Bytes?mt.readVarint()+mt.pos:mt.pos+1}function z(mt,Kt,ae){return ae?Kt*4294967296+(mt>>>0):(Kt>>>0)*4294967296+(mt>>>0)}function it(mt,Kt){var ae,Sr;if(mt>=0?(ae=mt%4294967296|0,Sr=mt/4294967296|0):(ae=~(-mt%4294967296),Sr=~(-mt/4294967296),ae^4294967295?ae=ae+1|0:(ae=0,Sr=Sr+1|0)),mt>=18446744073709552e3||mt<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Kt.realloc(10),q(ae,Sr,Kt),tt(Sr,Kt)}function q(mt,Kt,ae){ae.buf[ae.pos++]=mt&127|128,mt>>>=7,ae.buf[ae.pos++]=mt&127|128,mt>>>=7,ae.buf[ae.pos++]=mt&127|128,mt>>>=7,ae.buf[ae.pos++]=mt&127|128,mt>>>=7,ae.buf[ae.pos]=mt&127}function tt(mt,Kt){var ae=(mt&7)<<4;Kt.buf[Kt.pos++]|=ae|((mt>>>=3)?128:0),mt&&(Kt.buf[Kt.pos++]=mt&127|((mt>>>=7)?128:0),mt&&(Kt.buf[Kt.pos++]=mt&127|((mt>>>=7)?128:0),mt&&(Kt.buf[Kt.pos++]=mt&127|((mt>>>=7)?128:0),mt&&(Kt.buf[Kt.pos++]=mt&127|((mt>>>=7)?128:0),mt&&(Kt.buf[Kt.pos++]=mt&127)))))}function J(mt,Kt,ae){var Sr=Kt<=16383?1:Kt<=2097151?2:Kt<=268435455?3:Math.floor(Math.log(Kt)/(Math.LN2*7));ae.realloc(Sr);for(var xr=ae.pos-1;xr>=mt;xr--)ae.buf[xr+Sr]=ae.buf[xr]}function ot(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeVarint(mt[ae])}function ct(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeSVarint(mt[ae])}function wt(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeFloat(mt[ae])}function nt(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeDouble(mt[ae])}function F(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeBoolean(mt[ae])}function bt(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeFixed32(mt[ae])}function jt(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeSFixed32(mt[ae])}function te(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeFixed64(mt[ae])}function Ot(mt,Kt){for(var ae=0;ae<mt.length;ae++)Kt.writeSFixed64(mt[ae])}function ee(mt,Kt){return(mt[Kt]|mt[Kt+1]<<8|mt[Kt+2]<<16)+mt[Kt+3]*16777216}function Dt(mt,Kt,ae){mt[ae]=Kt,mt[ae+1]=Kt>>>8,mt[ae+2]=Kt>>>16,mt[ae+3]=Kt>>>24}function Wt(mt,Kt){return(mt[Kt]|mt[Kt+1]<<8|mt[Kt+2]<<16)+(mt[Kt+3]<<24)}function le(mt,Kt,ae){for(var Sr="",xr=Kt;xr<ae;){var ar=mt[xr],jr=null,Xr=ar>239?4:ar>223?3:ar>191?2:1;if(xr+Xr>ae)break;var wn,_e,er;Xr===1?ar<128&&(jr=ar):Xr===2?(wn=mt[xr+1],(wn&192)===128&&(jr=(ar&31)<<6|wn&63,jr<=127&&(jr=null))):Xr===3?(wn=mt[xr+1],_e=mt[xr+2],(wn&192)===128&&(_e&192)===128&&(jr=(ar&15)<<12|(wn&63)<<6|_e&63,(jr<=2047||jr>=55296&&jr<=57343)&&(jr=null))):Xr===4&&(wn=mt[xr+1],_e=mt[xr+2],er=mt[xr+3],(wn&192)===128&&(_e&192)===128&&(er&192)===128&&(jr=(ar&15)<<18|(wn&63)<<12|(_e&63)<<6|er&63,(jr<=65535||jr>=1114112)&&(jr=null))),jr===null?(jr=65533,Xr=1):jr>65535&&(jr-=65536,Sr+=String.fromCharCode(jr>>>10&1023|55296),jr=56320|jr&1023),Sr+=String.fromCharCode(jr),xr+=Xr}return Sr}function ye(mt,Kt,ae){return P.decode(mt.subarray(Kt,ae))}function Qe(mt,Kt,ae){for(var Sr=0,xr,ar;Sr<Kt.length;Sr++){if(xr=Kt.charCodeAt(Sr),xr>55295&&xr<57344)if(ar)if(xr<56320){mt[ae++]=239,mt[ae++]=191,mt[ae++]=189,ar=xr;continue}else xr=ar-55296<<10|xr-56320|65536,ar=null;else{xr>56319||Sr+1===Kt.length?(mt[ae++]=239,mt[ae++]=191,mt[ae++]=189):ar=xr;continue}else ar&&(mt[ae++]=239,mt[ae++]=191,mt[ae++]=189,ar=null);xr<128?mt[ae++]=xr:(xr<2048?mt[ae++]=xr>>6|192:(xr<65536?mt[ae++]=xr>>12|224:(mt[ae++]=xr>>18|240,mt[ae++]=xr>>12&63|128),mt[ae++]=xr>>6&63|128),mt[ae++]=xr&63|128)}return ae}},"7b0b":function(c,d,u){var p=u("da84"),g=u("1d80"),E=p.Object;c.exports=function(b){return E(g(b))}},"7b4f":function(c,d,u){d.a={PROPERTYCHANGE:"propertychange"}},"7c73":function(c,d,u){var p=u("825a"),g=u("37e8"),E=u("7839"),b=u("d012"),M=u("1be4"),P=u("cc12"),k=u("f772"),C=">",z="<",it="prototype",q="script",tt=k("IE_PROTO"),J=function(){},ot=function(bt){return z+q+C+bt+z+"/"+q+C},ct=function(bt){bt.write(ot("")),bt.close();var jt=bt.parentWindow.Object;return bt=null,jt},wt=function(){var bt=P("iframe"),jt="java"+q+":",te;return bt.style.display="none",M.appendChild(bt),bt.src=String(jt),te=bt.contentWindow.document,te.open(),te.write(ot("document.F=Object")),te.close(),te.F},nt,F=function(){try{nt=new ActiveXObject("htmlfile")}catch{}F=typeof document!="undefined"?document.domain&&nt?ct(nt):wt():ct(nt);for(var bt=E.length;bt--;)delete F[it][E[bt]];return F()};b[tt]=!0,c.exports=Object.create||function(jt,te){var Ot;return jt!==null?(J[it]=p(jt),Ot=new J,J[it]=null,Ot[tt]=jt):Ot=F(),te===void 0?Ot:g.f(Ot,te)}},"7d05":function(c,d,u){},"7dd0":function(c,d,u){var p=u("23e7"),g=u("c65b"),E=u("c430"),b=u("5e77"),M=u("1626"),P=u("9ed3"),k=u("e163"),C=u("d2bb"),z=u("d44e"),it=u("9112"),q=u("6eeb"),tt=u("b622"),J=u("3f8c"),ot=u("ae93"),ct=b.PROPER,wt=b.CONFIGURABLE,nt=ot.IteratorPrototype,F=ot.BUGGY_SAFARI_ITERATORS,bt=tt("iterator"),jt="keys",te="values",Ot="entries",ee=function(){return this};c.exports=function(Dt,Wt,le,ye,Qe,mt,Kt){P(le,Wt,ye);var ae=function(Fr){if(Fr===Qe&&Xr)return Xr;if(!F&&Fr in ar)return ar[Fr];switch(Fr){case jt:return function(){return new le(this,Fr)};case te:return function(){return new le(this,Fr)};case Ot:return function(){return new le(this,Fr)}}return function(){return new le(this)}},Sr=Wt+" Iterator",xr=!1,ar=Dt.prototype,jr=ar[bt]||ar["@@iterator"]||Qe&&ar[Qe],Xr=!F&&jr||ae(Qe),wn=Wt=="Array"&&ar.entries||jr,_e,er,_r;if(wn&&(_e=k(wn.call(new Dt)),_e!==Object.prototype&&_e.next&&(!E&&k(_e)!==nt&&(C?C(_e,nt):M(_e[bt])||q(_e,bt,ee)),z(_e,Sr,!0,!0),E&&(J[Sr]=ee))),ct&&Qe==te&&jr&&jr.name!==te&&(!E&&wt?it(ar,"name",te):(xr=!0,Xr=function(){return g(jr,this)})),Qe)if(er={values:ae(te),keys:mt?Xr:ae(jt),entries:ae(Ot)},Kt)for(_r in er)(F||xr||!(_r in ar))&&q(ar,_r,er[_r]);else p({target:Wt,proto:!0,forced:F||xr},er);return(!E||Kt)&&ar[bt]!==Xr&&q(ar,bt,Xr,{name:Qe}),J[Wt]=Xr,er}},"7f9a":function(c,d,u){var p=u("da84"),g=u("1626"),E=u("8925"),b=p.WeakMap;c.exports=g(b)&&/native code/.test(E(b))},"7fd1":function(c,d,u){(function(p){u.d(d,"a",function(){return g});function g(){var E='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};';return new Worker(typeof Blob=="undefined"?"data:application/javascript;base64,"+p.from(E,"binary").toString("base64"):URL.createObjectURL(new Blob([E],{type:"application/javascript"})))}}).call(this,u("b639").Buffer)},"825a":function(c,d,u){var p=u("da84"),g=u("861d"),E=p.String,b=p.TypeError;c.exports=function(M){if(g(M))return M;throw b(E(M)+" is not an object")}},"83ab":function(c,d,u){var p=u("d039");c.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(c,d,u){var p=u("a04b"),g=u("9bf2"),E=u("5c6c");c.exports=function(b,M,P){var k=p(M);k in b?g.f(b,k,E(0,P)):b[k]=P}},"861d":function(c,d,u){var p=u("1626");c.exports=function(g){return typeof g=="object"?g!==null:p(g)}},"872d":function(c,d,u){},"8875":function(c,d,u){var p,g,E;(function(b,M){g=[],p=M,E=typeof p=="function"?p.apply(d,g):p,E!==void 0&&(c.exports=E)})(typeof self!="undefined"?self:this,function(){function b(){var M=Object.getOwnPropertyDescriptor(document,"currentScript");if(!M&&"currentScript"in document&&document.currentScript||M&&M.get!==b&&document.currentScript)return document.currentScript;try{throw new Error}catch(nt){var P=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,k=/@([^@]*):(\d+):(\d+)\s*$/ig,C=P.exec(nt.stack)||k.exec(nt.stack),z=C&&C[1]||!1,it=C&&C[2]||!1,q=document.location.href.replace(document.location.hash,""),tt,J,ot,ct=document.getElementsByTagName("script");z===q&&(tt=document.documentElement.outerHTML,J=new RegExp("(?:[^\\n]+?\\n){0,"+(it-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),ot=tt.replace(J,"$1").trim());for(var wt=0;wt<ct.length;wt++)if(ct[wt].readyState==="interactive"||ct[wt].src===z||z===q&&ct[wt].innerHTML&&ct[wt].innerHTML.trim()===ot)return ct[wt];return null}}return b})},"8925":function(c,d,u){var p=u("e330"),g=u("1626"),E=u("c6cd"),b=p(Function.toString);g(E.inspectSource)||(E.inspectSource=function(M){return b(M)}),c.exports=E.inspectSource},"8aa5":function(c,d,u){var p=u("6547").charAt;c.exports=function(g,E,b){return E+(b?p(g,E).length:1)}},"8baf":function(c,d,u){(function(p){u.d(d,"a",function(){return _e});var g=u("7037"),E=u.n(g),b=u("72ba");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.0 Built on 2021-12-21T09:44:51.866Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var M=function(){return typeof window!="undefined"?window:typeof p!="undefined"?p:typeof self!="undefined"?self:this}();function P(){M.console&&typeof M.console.log=="function"&&M.console.log.apply(M.console,arguments)}var k={log:P,warn:function(L){M.console&&(typeof M.console.warn=="function"?M.console.warn.apply(M.console,arguments):P.call(null,arguments))},error:function(L){M.console&&(typeof M.console.error=="function"?M.console.error.apply(M.console,arguments):P(L))}};function C(L,O,T){var N=new XMLHttpRequest;N.open("GET",L),N.responseType="blob",N.onload=function(){J(N.response,O,T)},N.onerror=function(){k.error("could not download file")},N.send()}function z(L){var O=new XMLHttpRequest;O.open("HEAD",L,!1);try{O.send()}catch{}return O.status>=200&&O.status<=299}function it(L){try{L.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(O)}}var q,tt,J=M.saveAs||((typeof window=="undefined"?"undefined":E()(window))!=="object"||window!==M?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(L,O,T){var N=M.URL||M.webkitURL,W=document.createElement("a");O=O||L.name||"download",W.download=O,W.rel="noopener",typeof L=="string"?(W.href=L,W.origin!==location.origin?z(W.href)?C(L,O,T):it(W,W.target="_blank"):it(W)):(W.href=N.createObjectURL(L),setTimeout(function(){N.revokeObjectURL(W.href)},4e4),setTimeout(function(){it(W)},0))}:"msSaveOrOpenBlob"in navigator?function(L,O,T){if(O=O||L.name||"download",typeof L=="string")if(z(L))C(L,O,T);else{var N=document.createElement("a");N.href=L,N.target="_blank",setTimeout(function(){it(N)})}else navigator.msSaveOrOpenBlob(function(W,D){return D===void 0?D={autoBom:!1}:E()(D)!=="object"&&(k.warn("Deprecated: Expected third argument to be a object"),D={autoBom:!D}),D.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(W.type)?new Blob([String.fromCharCode(65279),W],{type:W.type}):W}(L,T),O)}:function(L,O,T,N){if((N=N||open("","_blank"))&&(N.document.title=N.document.body.innerText="downloading..."),typeof L=="string")return C(L,O,T);var W=L.type==="application/octet-stream",D=/constructor/i.test(M.HTMLElement)||M.safari,X=/CriOS\/[\d]+/.test(navigator.userAgent);if((X||W&&D)&&(typeof FileReader=="undefined"?"undefined":E()(FileReader))==="object"){var rt=new FileReader;rt.onloadend=function(){var Bt=rt.result;Bt=X?Bt:Bt.replace(/^data:[^;]*;/,"data:attachment/file;"),N?N.location.href=Bt:location=Bt,N=null},rt.readAsDataURL(L)}else{var st=M.URL||M.webkitURL,_t=st.createObjectURL(L);N?N.location=_t:location.href=_t,N=null,setTimeout(function(){st.revokeObjectURL(_t)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ot(L){var O;L=L||"",this.ok=!1,L.charAt(0)=="#"&&(L=L.substr(1,6)),L={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[L=(L=L.replace(/ /g,"")).toLowerCase()]||L;for(var T=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(rt){return[parseInt(rt[1]),parseInt(rt[2]),parseInt(rt[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(rt){return[parseInt(rt[1],16),parseInt(rt[2],16),parseInt(rt[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(rt){return[parseInt(rt[1]+rt[1],16),parseInt(rt[2]+rt[2],16),parseInt(rt[3]+rt[3],16)]}}],N=0;N<T.length;N++){var W=T[N].re,D=T[N].process,X=W.exec(L);X&&(O=D(X),this.r=O[0],this.g=O[1],this.b=O[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var rt=this.r.toString(16),st=this.g.toString(16),_t=this.b.toString(16);return rt.length==1&&(rt="0"+rt),st.length==1&&(st="0"+st),_t.length==1&&(_t="0"+_t),"#"+rt+st+_t}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ct(L,O){var T=L[0],N=L[1],W=L[2],D=L[3];T=nt(T,N,W,D,O[0],7,-680876936),D=nt(D,T,N,W,O[1],12,-389564586),W=nt(W,D,T,N,O[2],17,606105819),N=nt(N,W,D,T,O[3],22,-1044525330),T=nt(T,N,W,D,O[4],7,-176418897),D=nt(D,T,N,W,O[5],12,1200080426),W=nt(W,D,T,N,O[6],17,-1473231341),N=nt(N,W,D,T,O[7],22,-45705983),T=nt(T,N,W,D,O[8],7,1770035416),D=nt(D,T,N,W,O[9],12,-1958414417),W=nt(W,D,T,N,O[10],17,-42063),N=nt(N,W,D,T,O[11],22,-1990404162),T=nt(T,N,W,D,O[12],7,1804603682),D=nt(D,T,N,W,O[13],12,-40341101),W=nt(W,D,T,N,O[14],17,-1502002290),T=F(T,N=nt(N,W,D,T,O[15],22,1236535329),W,D,O[1],5,-165796510),D=F(D,T,N,W,O[6],9,-1069501632),W=F(W,D,T,N,O[11],14,643717713),N=F(N,W,D,T,O[0],20,-373897302),T=F(T,N,W,D,O[5],5,-701558691),D=F(D,T,N,W,O[10],9,38016083),W=F(W,D,T,N,O[15],14,-660478335),N=F(N,W,D,T,O[4],20,-405537848),T=F(T,N,W,D,O[9],5,568446438),D=F(D,T,N,W,O[14],9,-1019803690),W=F(W,D,T,N,O[3],14,-187363961),N=F(N,W,D,T,O[8],20,1163531501),T=F(T,N,W,D,O[13],5,-1444681467),D=F(D,T,N,W,O[2],9,-51403784),W=F(W,D,T,N,O[7],14,1735328473),T=bt(T,N=F(N,W,D,T,O[12],20,-1926607734),W,D,O[5],4,-378558),D=bt(D,T,N,W,O[8],11,-2022574463),W=bt(W,D,T,N,O[11],16,1839030562),N=bt(N,W,D,T,O[14],23,-35309556),T=bt(T,N,W,D,O[1],4,-1530992060),D=bt(D,T,N,W,O[4],11,1272893353),W=bt(W,D,T,N,O[7],16,-155497632),N=bt(N,W,D,T,O[10],23,-1094730640),T=bt(T,N,W,D,O[13],4,681279174),D=bt(D,T,N,W,O[0],11,-358537222),W=bt(W,D,T,N,O[3],16,-722521979),N=bt(N,W,D,T,O[6],23,76029189),T=bt(T,N,W,D,O[9],4,-640364487),D=bt(D,T,N,W,O[12],11,-421815835),W=bt(W,D,T,N,O[15],16,530742520),T=jt(T,N=bt(N,W,D,T,O[2],23,-995338651),W,D,O[0],6,-198630844),D=jt(D,T,N,W,O[7],10,1126891415),W=jt(W,D,T,N,O[14],15,-1416354905),N=jt(N,W,D,T,O[5],21,-57434055),T=jt(T,N,W,D,O[12],6,1700485571),D=jt(D,T,N,W,O[3],10,-1894986606),W=jt(W,D,T,N,O[10],15,-1051523),N=jt(N,W,D,T,O[1],21,-2054922799),T=jt(T,N,W,D,O[8],6,1873313359),D=jt(D,T,N,W,O[15],10,-30611744),W=jt(W,D,T,N,O[6],15,-1560198380),N=jt(N,W,D,T,O[13],21,1309151649),T=jt(T,N,W,D,O[4],6,-145523070),D=jt(D,T,N,W,O[11],10,-1120210379),W=jt(W,D,T,N,O[2],15,718787259),N=jt(N,W,D,T,O[9],21,-343485551),L[0]=Qe(T,L[0]),L[1]=Qe(N,L[1]),L[2]=Qe(W,L[2]),L[3]=Qe(D,L[3])}function wt(L,O,T,N,W,D){return O=Qe(Qe(O,L),Qe(N,D)),Qe(O<<W|O>>>32-W,T)}function nt(L,O,T,N,W,D,X){return wt(O&T|~O&N,L,O,W,D,X)}function F(L,O,T,N,W,D,X){return wt(O&N|T&~N,L,O,W,D,X)}function bt(L,O,T,N,W,D,X){return wt(O^T^N,L,O,W,D,X)}function jt(L,O,T,N,W,D,X){return wt(T^(O|~N),L,O,W,D,X)}function te(L){var O,T=L.length,N=[1732584193,-271733879,-1732584194,271733878];for(O=64;O<=L.length;O+=64)ct(N,Ot(L.substring(O-64,O)));L=L.substring(O-64);var W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(O=0;O<L.length;O++)W[O>>2]|=L.charCodeAt(O)<<(O%4<<3);if(W[O>>2]|=128<<(O%4<<3),O>55)for(ct(N,W),O=0;O<16;O++)W[O]=0;return W[14]=8*T,ct(N,W),N}function Ot(L){var O,T=[];for(O=0;O<64;O+=4)T[O>>2]=L.charCodeAt(O)+(L.charCodeAt(O+1)<<8)+(L.charCodeAt(O+2)<<16)+(L.charCodeAt(O+3)<<24);return T}q=M.atob.bind(M),tt=M.btoa.bind(M);var ee="0123456789abcdef".split("");function Dt(L){for(var O="",T=0;T<4;T++)O+=ee[L>>8*T+4&15]+ee[L>>8*T&15];return O}function Wt(L){return String.fromCharCode((255&L)>>0,(65280&L)>>8,(16711680&L)>>16,(4278190080&L)>>24)}function le(L){return te(L).map(Wt).join("")}var ye=function(L){for(var O=0;O<L.length;O++)L[O]=Dt(L[O]);return L.join("")}(te("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qe(L,O){if(ye){var T=(65535&L)+(65535&O);return(L>>16)+(O>>16)+(T>>16)<<16|65535&T}return L+O&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function mt(L,O){var T,N,W,D;if(L!==T){for(var X=(W=L,D=1+(256/L.length>>0),new Array(D+1).join(W)),rt=[],st=0;st<256;st++)rt[st]=st;var _t=0;for(st=0;st<256;st++){var Bt=rt[st];_t=(_t+Bt+X.charCodeAt(st))%256,rt[st]=rt[_t],rt[_t]=Bt}T=L,N=rt}else rt=N;var Ut=O.length,Xt=0,pt=0,ce="";for(st=0;st<Ut;st++)pt=(pt+(Bt=rt[Xt=(Xt+1)%256]))%256,rt[Xt]=rt[pt],rt[pt]=Bt,X=rt[(rt[Xt]+rt[pt])%256],ce+=String.fromCharCode(O.charCodeAt(st)^X);return ce}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Kt={print:4,modify:8,copy:16,"annot-forms":32};function ae(L,O,T,N){this.v=1,this.r=2;var W=192;L.forEach(function(rt){if(Kt.perm!==void 0)throw new Error("Invalid permission: "+rt);W+=Kt[rt]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var D=(O+this.padding).substr(0,32),X=(T+this.padding).substr(0,32);this.O=this.processOwnerPassword(D,X),this.P=-(1+(255^W)),this.encryptionKey=le(D+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(N)).substr(0,5),this.U=mt(this.encryptionKey,this.padding)}function Sr(L){if(/[^\u0000-\u00ff]/.test(L))throw new Error("Invalid PDF Name Object: "+L+", Only accept ASCII characters.");for(var O="",T=L.length,N=0;N<T;N++){var W=L.charCodeAt(N);W<33||W===35||W===37||W===40||W===41||W===47||W===60||W===62||W===91||W===93||W===123||W===125||W>126?O+="#"+("0"+W.toString(16)).slice(-2):O+=L[N]}return O}function xr(L){if(E()(L)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var O={};this.subscribe=function(T,N,W){if(W=W||!1,typeof T!="string"||typeof N!="function"||typeof W!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");O.hasOwnProperty(T)||(O[T]={});var D=Math.random().toString(35);return O[T][D]=[N,!!W],D},this.unsubscribe=function(T){for(var N in O)if(O[N][T])return delete O[N][T],Object.keys(O[N]).length===0&&delete O[N],!0;return!1},this.publish=function(T){if(O.hasOwnProperty(T)){var N=Array.prototype.slice.call(arguments,1),W=[];for(var D in O[T]){var X=O[T][D];try{X[0].apply(L,N)}catch(rt){M.console&&k.error("jsPDF PubSub Error",rt.message,rt)}X[1]&&W.push(D)}W.length&&W.forEach(this.unsubscribe)}},this.getTopics=function(){return O}}function ar(L){if(!(this instanceof ar))return new ar(L);var O="opacity,stroke-opacity".split(",");for(var T in L)L.hasOwnProperty(T)&&O.indexOf(T)>=0&&(this[T]=L[T]);this.id="",this.objectNumber=-1}function jr(L,O){this.gState=L,this.matrix=O,this.id="",this.objectNumber=-1}function Xr(L,O,T,N,W){if(!(this instanceof Xr))return new Xr(L,O,T,N,W);this.type=L==="axial"?2:3,this.coords=O,this.colors=T,jr.call(this,N,W)}function wn(L,O,T,N,W){if(!(this instanceof wn))return new wn(L,O,T,N,W);this.boundingBox=L,this.xStep=O,this.yStep=T,this.stream="",this.cloneIndex=0,jr.call(this,N,W)}function _e(L){var O,T=typeof arguments[0]=="string"?arguments[0]:"p",N=arguments[1],W=arguments[2],D=arguments[3],X=[],rt=1,st=16,_t="S",Bt=null;E()(L=L||{})==="object"&&(T=L.orientation,N=L.unit||N,W=L.format||W,D=L.compress||L.compressPdf||D,(Bt=L.encryption||null)!==null&&(Bt.userPassword=Bt.userPassword||"",Bt.ownerPassword=Bt.ownerPassword||"",Bt.userPermissions=Bt.userPermissions||[]),rt=typeof L.userUnit=="number"?Math.abs(L.userUnit):1,L.precision!==void 0&&(O=L.precision),L.floatPrecision!==void 0&&(st=L.floatPrecision),_t=L.defaultPathOperation||"S"),X=L.filters||(D===!0?["FlateEncode"]:X),N=N||"mm",T=(""+(T||"P")).toLowerCase();var Ut=L.putOnlyUsedFonts||!1,Xt={},pt={internal:{},__private__:{}};pt.__private__.PubSub=xr;var ce="1.3",ne=pt.__private__.getPdfVersion=function(){return ce};pt.__private__.setPdfVersion=function(G){ce=G};var Te={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};pt.__private__.getPageFormats=function(){return Te};var Yt=pt.__private__.getPageFormat=function(G){return Te[G]};W=W||"a4";var pe={COMPAT:"compat",ADVANCED:"advanced"},ze=pe.COMPAT;function sr(){this.saveGraphicsState(),fe(new Un(vn,0,0,-vn,0,Ba()*vn).toString()+" cm"),this.setFontSize(this.getFontSize()/vn),_t="n",ze=pe.ADVANCED}function Tr(){this.restoreGraphicsState(),_t="S",ze=pe.COMPAT}var Zr=pt.__private__.combineFontStyleAndFontWeight=function(G,Et){if(G=="bold"&&Et=="normal"||G=="bold"&&Et==400||G=="normal"&&Et=="italic"||G=="bold"&&Et=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Et&&(G=Et==400||Et==="normal"?G==="italic"?"italic":"normal":Et!=700&&Et!=="bold"||G!=="normal"?(Et==700?"bold":Et)+""+G:"bold"),G};pt.advancedAPI=function(G){var Et=ze===pe.COMPAT;return Et&&sr.call(this),typeof G!="function"||(G(this),Et&&Tr.call(this)),this},pt.compatAPI=function(G){var Et=ze===pe.ADVANCED;return Et&&Tr.call(this),typeof G!="function"||(G(this),Et&&sr.call(this)),this},pt.isAdvancedAPI=function(){return ze===pe.ADVANCED};var pr,je=function(G){if(ze!==pe.ADVANCED)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Rr=pt.roundToPrecision=pt.__private__.roundToPrecision=function(G,Et){var Lt=O||Et;if(isNaN(G)||isNaN(Lt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Lt).replace(/0+$/,"")};pr=pt.hpf=pt.__private__.hpf=typeof st=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return Rr(G,st)}:st==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return Rr(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return Rr(G,16)};var vr=pt.f2=pt.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return Rr(G,2)},Zt=pt.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return Rr(G,3)},Jt=pt.scale=pt.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return ze===pe.COMPAT?G*vn:ze===pe.ADVANCED?G:void 0},Le=function(G){return ze===pe.COMPAT?Ba()-G:ze===pe.ADVANCED?G:void 0},xe=function(G){return Jt(Le(G))};pt.__private__.setPrecision=pt.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(O=parseInt(G,10))};var yr,dr="00000000000000000000000000000000",Lr=pt.__private__.getFileId=function(){return dr},nr=pt.__private__.setFileId=function(G){return dr=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():dr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Bt!==null&&(mo=new ae(Bt.userPermissions,Bt.userPassword,Bt.ownerPassword,dr)),dr};pt.setFileId=function(G){return nr(G),this},pt.getFileId=function(){return Lr()};var ur=pt.__private__.convertDateToPDFDate=function(G){var Et=G.getTimezoneOffset(),Lt=Et<0?"+":"-",we=Math.floor(Math.abs(Et/60)),Ve=Math.abs(Et%60),He=[Lt,ge(we),"'",ge(Ve),"'"].join("");return["D:",G.getFullYear(),ge(G.getMonth()+1),ge(G.getDate()),ge(G.getHours()),ge(G.getMinutes()),ge(G.getSeconds()),He].join("")},Or=pt.__private__.convertPDFDateToDate=function(G){var Et=parseInt(G.substr(2,4),10),Lt=parseInt(G.substr(6,2),10)-1,we=parseInt(G.substr(8,2),10),Ve=parseInt(G.substr(10,2),10),He=parseInt(G.substr(12,2),10),Er=parseInt(G.substr(14,2),10);return new Date(Et,Lt,we,Ve,He,Er,0)},xn=pt.__private__.setCreationDate=function(G){var Et;if(G===void 0&&(G=new Date),G instanceof Date)Et=ur(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Et=G}return yr=Et},It=pt.__private__.getCreationDate=function(G){var Et=yr;return G==="jsDate"&&(Et=Or(yr)),Et};pt.setCreationDate=function(G){return xn(G),this},pt.getCreationDate=function(G){return It(G)};var oe,ge=pt.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},Ce=pt.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},Ge=0,qe=[],ir=[],rr=0,Jr=[],Yr=[],hn=!1,On=ir,Vn=function(){Ge=0,rr=0,ir=[],qe=[],Jr=[],xl=cn(),vs=cn()};pt.__private__.setCustomOutputDestination=function(G){hn=!0,On=G};var mr=function(G){hn||(On=G)};pt.__private__.resetCustomOutputDestination=function(){hn=!1,On=ir};var fe=pt.__private__.out=function(G){return G=G.toString(),rr+=G.length+1,On.push(G),On},ci=pt.__private__.write=function(G){return fe(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},An=pt.__private__.getArrayBuffer=function(G){for(var Et=G.length,Lt=new ArrayBuffer(Et),we=new Uint8Array(Lt);Et--;)we[Et]=G.charCodeAt(Et);return Lt},zr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];pt.__private__.getStandardFonts=function(){return zr};var nn=L.fontSize||16;pt.__private__.setFontSize=pt.setFontSize=function(G){return nn=ze===pe.ADVANCED?G/vn:G,this};var sn,an=pt.__private__.getFontSize=pt.getFontSize=function(){return ze===pe.COMPAT?nn:nn*vn},Bn=L.R2L||!1;pt.__private__.setR2L=pt.setR2L=function(G){return Bn=G,this},pt.__private__.getR2L=pt.getR2L=function(){return Bn};var di,ai=pt.__private__.setZoomMode=function(G){var Et=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*%$/.test(G))sn=G;else if(isNaN(G)){if(Et.indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');sn=G}else sn=parseInt(G,10)};pt.__private__.getZoomMode=function(){return sn};var wi,zi=pt.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');di=G};pt.__private__.getPageMode=function(){return di};var ri=pt.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');wi=G};pt.__private__.getLayoutMode=function(){return wi},pt.__private__.setDisplayMode=pt.setDisplayMode=function(G,Et,Lt){return ai(G),ri(Et),zi(Lt),this};var Wn={title:"",subject:"",author:"",keywords:"",creator:""};pt.__private__.getDocumentProperty=function(G){if(Object.keys(Wn).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Wn[G]},pt.__private__.getDocumentProperties=function(){return Wn},pt.__private__.setDocumentProperties=pt.setProperties=pt.setDocumentProperties=function(G){for(var Et in Wn)Wn.hasOwnProperty(Et)&&G[Et]&&(Wn[Et]=G[Et]);return this},pt.__private__.setDocumentProperty=function(G,Et){if(Object.keys(Wn).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Wn[G]=Et};var yi,vn,Da,Dn,ha,Vi={},Eo={},bs=[],Wi={},ds={},Go={},Ea={},As=null,So=0,Yn=[],gn=new xr(pt),ta=L.hotfixes||[],oa={},zs={},ps=[],Un=function G(Et,Lt,we,Ve,He,Er){if(!(this instanceof G))return new G(Et,Lt,we,Ve,He,Er);isNaN(Et)&&(Et=1),isNaN(Lt)&&(Lt=0),isNaN(we)&&(we=0),isNaN(Ve)&&(Ve=1),isNaN(He)&&(He=0),isNaN(Er)&&(Er=0),this._matrix=[Et,Lt,we,Ve,He,Er]};Object.defineProperty(Un.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Un.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Un.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Un.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Un.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Un.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Un.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Un.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Un.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Un.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Un.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Un.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Un.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Un.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Un.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Un.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Un.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(pr).join(G)},Un.prototype.multiply=function(G){var Et=G.sx*this.sx+G.shy*this.shx,Lt=G.sx*this.shy+G.shy*this.sy,we=G.shx*this.sx+G.sy*this.shx,Ve=G.shx*this.shy+G.sy*this.sy,He=G.tx*this.sx+G.ty*this.shx+this.tx,Er=G.tx*this.shy+G.ty*this.sy+this.ty;return new Un(Et,Lt,we,Ve,He,Er)},Un.prototype.decompose=function(){var G=this.sx,Et=this.shy,Lt=this.shx,we=this.sy,Ve=this.tx,He=this.ty,Er=Math.sqrt(G*G+Et*Et),kr=(G/=Er)*Lt+(Et/=Er)*we;Lt-=G*kr,we-=Et*kr;var ke=Math.sqrt(Lt*Lt+we*we);return kr/=ke,G*(we/=ke)<Et*(Lt/=ke)&&(G=-G,Et=-Et,kr=-kr,Er=-Er),{scale:new Un(Er,0,0,ke,0,0),translate:new Un(1,0,0,1,Ve,He),rotate:new Un(G,Et,-Et,G,0,0),skew:new Un(1,0,kr,1,0,0)}},Un.prototype.toString=function(G){return this.join(" ")},Un.prototype.inversed=function(){var G=this.sx,Et=this.shy,Lt=this.shx,we=this.sy,Ve=this.tx,He=this.ty,Er=1/(G*we-Et*Lt),kr=we*Er,ke=-Et*Er,Mn=-Lt*Er,Qn=G*Er;return new Un(kr,ke,Mn,Qn,-kr*Ve-Mn*He,-ke*Ve-Qn*He)},Un.prototype.applyToPoint=function(G){var Et=G.x*this.sx+G.y*this.shx+this.tx,Lt=G.x*this.shy+G.y*this.sy+this.ty;return new qi(Et,Lt)},Un.prototype.applyToRectangle=function(G){var Et=this.applyToPoint(G),Lt=this.applyToPoint(new qi(G.x+G.w,G.y+G.h));return new ro(Et.x,Et.y,Lt.x-Et.x,Lt.y-Et.y)},Un.prototype.clone=function(){var G=this.sx,Et=this.shy,Lt=this.shx,we=this.sy,Ve=this.tx,He=this.ty;return new Un(G,Et,Lt,we,Ve,He)},pt.Matrix=Un;var $i=pt.matrixMult=function(G,Et){return Et.multiply(G)},ts=new Un(1,0,0,1,0,0);pt.unitMatrix=pt.identityMatrix=ts;var ja=function(G,Et){if(!ds[G]){var Lt=(Et instanceof Xr?"Sh":"P")+(Object.keys(Wi).length+1).toString(10);Et.id=Lt,ds[G]=Lt,Wi[Lt]=Et,gn.publish("addPattern",Et)}};pt.ShadingPattern=Xr,pt.TilingPattern=wn,pt.addShadingPattern=function(G,Et){return je("addShadingPattern()"),ja(G,Et),this},pt.beginTilingPattern=function(G){je("beginTilingPattern()"),xi(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},pt.endTilingPattern=function(G,Et){je("endTilingPattern()"),Et.stream=Yr[oe].join(`
`),ja(G,Et),gn.publish("endTilingPattern",Et),ps.pop().restore()};var da=pt.__private__.newObject=function(){var G=cn();return is(G,!0),G},cn=pt.__private__.newObjectDeferred=function(){return Ge++,qe[Ge]=function(){return rr},Ge},is=function(G,Et){return Et=typeof Et=="boolean"&&Et,qe[G]=rr,Et&&fe(G+" 0 obj"),G},_u=pt.__private__.newAdditionalObject=function(){var G={objId:cn(),content:""};return Jr.push(G),G},xl=cn(),vs=cn(),Ee=pt.__private__.decodeColorString=function(G){var Et=G.split(" ");if(Et.length!==2||Et[1]!=="g"&&Et[1]!=="G")Et.length===5&&(Et[4]==="k"||Et[4]==="K")&&(Et=[(1-Et[0])*(1-Et[3]),(1-Et[1])*(1-Et[3]),(1-Et[2])*(1-Et[3]),"r"]);else{var Lt=parseFloat(Et[0]);Et=[Lt,Lt,Lt,"r"]}for(var we="#",Ve=0;Ve<3;Ve++)we+=("0"+Math.floor(255*parseFloat(Et[Ve])).toString(16)).slice(-2);return we},Aa=pt.__private__.encodeColorString=function(G){var Et;typeof G=="string"&&(G={ch1:G});var Lt=G.ch1,we=G.ch2,Ve=G.ch3,He=G.ch4,Er=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Lt=="string"&&Lt.charAt(0)!=="#"){var kr=new ot(Lt);if(kr.ok)Lt=kr.toHex();else if(!/^\d*\.?\d*$/.test(Lt))throw new Error('Invalid color "'+Lt+'" passed to jsPDF.encodeColorString.')}if(typeof Lt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Lt)&&(Lt="#"+Lt[1]+Lt[1]+Lt[2]+Lt[2]+Lt[3]+Lt[3]),typeof Lt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Lt)){var ke=parseInt(Lt.substr(1),16);Lt=ke>>16&255,we=ke>>8&255,Ve=255&ke}if(we===void 0||He===void 0&&Lt===we&&we===Ve)if(typeof Lt=="string")Et=Lt+" "+Er[0];else switch(G.precision){case 2:Et=vr(Lt/255)+" "+Er[0];break;case 3:default:Et=Zt(Lt/255)+" "+Er[0]}else if(He===void 0||E()(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return Et=["1.","1.","1.",Er[1]].join(" ");if(typeof Lt=="string")Et=[Lt,we,Ve,Er[1]].join(" ");else switch(G.precision){case 2:Et=[vr(Lt/255),vr(we/255),vr(Ve/255),Er[1]].join(" ");break;default:case 3:Et=[Zt(Lt/255),Zt(we/255),Zt(Ve/255),Er[1]].join(" ")}}else if(typeof Lt=="string")Et=[Lt,we,Ve,He,Er[2]].join(" ");else switch(G.precision){case 2:Et=[vr(Lt),vr(we),vr(Ve),vr(He),Er[2]].join(" ");break;case 3:default:Et=[Zt(Lt),Zt(we),Zt(Ve),Zt(He),Er[2]].join(" ")}return Et},aa=pt.__private__.getFilters=function(){return X},Yi=pt.__private__.putStream=function(G){var Et=(G=G||{}).data||"",Lt=G.filters||aa(),we=G.alreadyAppliedFilters||[],Ve=G.addLength1||!1,He=Et.length,Er=G.objectId,kr=function(Di){return Di};if(Bt!==null&&Er===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Bt!==null&&(kr=mo.encryptor(Er,0));var ke={};Lt===!0&&(Lt=["FlateEncode"]);var Mn=G.additionalKeyValues||[],Qn=(ke=_e.API.processDataByFilters!==void 0?_e.API.processDataByFilters(Et,Lt):{data:Et,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(ke.data.length!==0&&(Mn.push({key:"Length",value:ke.data.length}),Ve===!0&&Mn.push({key:"Length1",value:He})),Qn.length!=0)if(Qn.split("/").length-1==1)Mn.push({key:"Filter",value:Qn});else{Mn.push({key:"Filter",value:"["+Qn+"]"});for(var fn=0;fn<Mn.length;fn+=1)if(Mn[fn].key==="DecodeParms"){for(var pi=[],si=0;si<ke.reverseChain.split("/").length-1;si+=1)pi.push("null");pi.push(Mn[fn].value),Mn[fn].value="["+pi.join(" ")+"]"}}fe("<<");for(var Hi=0;Hi<Mn.length;Hi++)fe("/"+Mn[Hi].key+" "+Mn[Hi].value);fe(">>"),ke.data.length!==0&&(fe("stream"),fe(kr(ke.data)),fe("endstream"))},Ui=pt.__private__.putPage=function(G){var Et=G.number,Lt=G.data,we=G.objId,Ve=G.contentsObjId;is(we,!0),fe("<</Type /Page"),fe("/Parent "+G.rootDictionaryObjId+" 0 R"),fe("/Resources "+G.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(pr(G.mediaBox.bottomLeftX))+" "+parseFloat(pr(G.mediaBox.bottomLeftY))+" "+pr(G.mediaBox.topRightX)+" "+pr(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&fe("/CropBox ["+pr(G.cropBox.bottomLeftX)+" "+pr(G.cropBox.bottomLeftY)+" "+pr(G.cropBox.topRightX)+" "+pr(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&fe("/BleedBox ["+pr(G.bleedBox.bottomLeftX)+" "+pr(G.bleedBox.bottomLeftY)+" "+pr(G.bleedBox.topRightX)+" "+pr(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&fe("/TrimBox ["+pr(G.trimBox.bottomLeftX)+" "+pr(G.trimBox.bottomLeftY)+" "+pr(G.trimBox.topRightX)+" "+pr(G.trimBox.topRightY)+"]"),G.artBox!==null&&fe("/ArtBox ["+pr(G.artBox.bottomLeftX)+" "+pr(G.artBox.bottomLeftY)+" "+pr(G.artBox.topRightX)+" "+pr(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&fe("/UserUnit "+G.userUnit),gn.publish("putPage",{objId:we,pageContext:Yn[Et],pageNumber:Et,page:Lt}),fe("/Contents "+Ve+" 0 R"),fe(">>"),fe("endobj");var He=Lt.join(`
`);return ze===pe.ADVANCED&&(He+=`
Q`),is(Ve,!0),Yi({data:He,filters:aa(),objectId:Ve}),fe("endobj"),we},sa=pt.__private__.putPages=function(){var G,Et,Lt=[];for(G=1;G<=So;G++)Yn[G].objId=cn(),Yn[G].contentsObjId=cn();for(G=1;G<=So;G++)Lt.push(Ui({number:G,data:Yr[G],objId:Yn[G].objId,contentsObjId:Yn[G].contentsObjId,mediaBox:Yn[G].mediaBox,cropBox:Yn[G].cropBox,bleedBox:Yn[G].bleedBox,trimBox:Yn[G].trimBox,artBox:Yn[G].artBox,userUnit:Yn[G].userUnit,rootDictionaryObjId:xl,resourceDictionaryObjId:vs}));is(xl,!0),fe("<</Type /Pages");var we="/Kids [";for(Et=0;Et<So;Et++)we+=Lt[Et]+" 0 R ";fe(we+"]"),fe("/Count "+So),fe(">>"),fe("endobj"),gn.publish("postPutPages")},nl=function(G){gn.publish("putFont",{font:G,out:fe,newObject:da,putStream:Yi}),G.isAlreadyPutted!==!0&&(G.objectNumber=da(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Sr(G.postScriptName)),fe("/Subtype /Type1"),typeof G.encoding=="string"&&fe("/Encoding /"+G.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Sa=function(){for(var G in Vi)Vi.hasOwnProperty(G)&&(Ut===!1||Ut===!0&&Xt.hasOwnProperty(G))&&nl(Vi[G])},Wl=function(G){G.objectNumber=da();var Et=[];Et.push({key:"Type",value:"/XObject"}),Et.push({key:"Subtype",value:"/Form"}),Et.push({key:"BBox",value:"["+[pr(G.x),pr(G.y),pr(G.x+G.width),pr(G.y+G.height)].join(" ")+"]"}),Et.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Lt=G.pages[1].join(`
`);Yi({data:Lt,additionalKeyValues:Et,objectId:G.objectNumber}),fe("endobj")},Ga=function(){for(var G in oa)oa.hasOwnProperty(G)&&Wl(oa[G])},Vs=function(G,Et){var Lt,we=[],Ve=1/(Et-1);for(Lt=0;Lt<1;Lt+=Ve)we.push(Lt);if(we.push(1),G[0].offset!=0){var He={offset:0,color:G[0].color};G.unshift(He)}if(G[G.length-1].offset!=1){var Er={offset:1,color:G[G.length-1].color};G.push(Er)}for(var kr="",ke=0,Mn=0;Mn<we.length;Mn++){for(Lt=we[Mn];Lt>G[ke+1].offset;)ke++;var Qn=G[ke].offset,fn=(Lt-Qn)/(G[ke+1].offset-Qn),pi=G[ke].color,si=G[ke+1].color;kr+=Ce(Math.round((1-fn)*pi[0]+fn*si[0]).toString(16))+Ce(Math.round((1-fn)*pi[1]+fn*si[1]).toString(16))+Ce(Math.round((1-fn)*pi[2]+fn*si[2]).toString(16))}return kr.trim()},Ms=function(G,Et){Et||(Et=21);var Lt=da(),we=Vs(G.colors,Et),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+Et+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yi({data:we,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Lt}),fe("endobj"),G.objectNumber=da(),fe("<< /ShadingType "+G.type),fe("/ColorSpace /DeviceRGB");var He="/Coords ["+pr(parseFloat(G.coords[0]))+" "+pr(parseFloat(G.coords[1]))+" ";G.type===2?He+=pr(parseFloat(G.coords[2]))+" "+pr(parseFloat(G.coords[3])):He+=pr(parseFloat(G.coords[2]))+" "+pr(parseFloat(G.coords[3]))+" "+pr(parseFloat(G.coords[4]))+" "+pr(parseFloat(G.coords[5])),fe(He+="]"),G.matrix&&fe("/Matrix ["+G.matrix.toString()+"]"),fe("/Function "+Lt+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Ol=function(G,Et){var Lt=cn(),we=da();Et.push({resourcesOid:Lt,objectOid:we}),G.objectNumber=we;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+G.boundingBox.map(pr).join(" ")+"]"}),Ve.push({key:"XStep",value:pr(G.xStep)}),Ve.push({key:"YStep",value:pr(G.yStep)}),Ve.push({key:"Resources",value:Lt+" 0 R"}),G.matrix&&Ve.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),Yi({data:G.stream,additionalKeyValues:Ve,objectId:G.objectNumber}),fe("endobj")},Hl=function(G){var Et;for(Et in Wi)Wi.hasOwnProperty(Et)&&(Wi[Et]instanceof Xr?Ms(Wi[Et]):Wi[Et]instanceof wn&&Ol(Wi[Et],G))},Eu=function(G){for(var Et in G.objectNumber=da(),fe("<<"),G)switch(Et){case"opacity":fe("/ca "+vr(G[Et]));break;case"stroke-opacity":fe("/CA "+vr(G[Et]))}fe(">>"),fe("endobj")},Yl=function(){var G;for(G in Go)Go.hasOwnProperty(G)&&Eu(Go[G])},il=function(){for(var G in fe("/XObject <<"),oa)oa.hasOwnProperty(G)&&oa[G].objectNumber>=0&&fe("/"+G+" "+oa[G].objectNumber+" 0 R");gn.publish("putXobjectDict"),fe(">>")},Zu=function(){mo.oid=da(),fe("<<"),fe("/Filter /Standard"),fe("/V "+mo.v),fe("/R "+mo.r),fe("/U <"+mo.toHexString(mo.U)+">"),fe("/O <"+mo.toHexString(mo.O)+">"),fe("/P "+mo.P),fe(">>"),fe("endobj")},Ju=function(){for(var G in fe("/Font <<"),Vi)Vi.hasOwnProperty(G)&&(Ut===!1||Ut===!0&&Xt.hasOwnProperty(G))&&fe("/"+G+" "+Vi[G].objectNumber+" 0 R");fe(">>")},Y0=function(){if(Object.keys(Wi).length>0){for(var G in fe("/Shading <<"),Wi)Wi.hasOwnProperty(G)&&Wi[G]instanceof Xr&&Wi[G].objectNumber>=0&&fe("/"+G+" "+Wi[G].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),fe(">>")}},Su=function(G){if(Object.keys(Wi).length>0){for(var Et in fe("/Pattern <<"),Wi)Wi.hasOwnProperty(Et)&&Wi[Et]instanceof pt.TilingPattern&&Wi[Et].objectNumber>=0&&Wi[Et].objectNumber<G&&fe("/"+Et+" "+Wi[Et].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),fe(">>")}},qu=function(){if(Object.keys(Go).length>0){var G;for(G in fe("/ExtGState <<"),Go)Go.hasOwnProperty(G)&&Go[G].objectNumber>=0&&fe("/"+G+" "+Go[G].objectNumber+" 0 R");gn.publish("putGStateDict"),fe(">>")}},Bo=function(G){is(G.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ju(),Y0(),Su(G.objectOid),qu(),il(),fe(">>"),fe("endobj")},_0=function(){var G=[];Sa(),Yl(),Ga(),Hl(G),gn.publish("putResources"),G.forEach(Bo),Bo({resourcesOid:vs,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources")},Rs=function(){gn.publish("putAdditionalObjects");for(var G=0;G<Jr.length;G++){var Et=Jr[G];is(Et.objId,!0),fe(Et.content),fe("endobj")}gn.publish("postPutAdditionalObjects")},Qu=function(G){Eo[G.fontName]=Eo[G.fontName]||{},Eo[G.fontName][G.fontStyle]=G.id},Xl=function(G,Et,Lt,we,Ve){var He={id:"F"+(Object.keys(Vi).length+1).toString(10),postScriptName:G,fontName:Et,fontStyle:Lt,encoding:we,isStandardFont:Ve||!1,metadata:{}};return gn.publish("addFont",{font:He,instance:this}),Vi[He.id]=He,Qu(He),He.id},X0=function(G){for(var Et=0,Lt=zr.length;Et<Lt;Et++){var we=Xl.call(this,G[Et][0],G[Et][1],G[Et][2],zr[Et][3],!0);Ut===!1&&(Xt[we]=!0);var Ve=G[Et][0].split("-");Qu({id:we,fontName:Ve[0],fontStyle:Ve[1]||""})}gn.publish("addFonts",{fonts:Vi,dictionary:Eo})},gs=function(G){return G.foo=function(){try{return G.apply(this,arguments)}catch(we){var Et=we.stack||"";~Et.indexOf(" at ")&&(Et=Et.split(" at ")[1]);var Lt="Error in function "+Et.split(`
`)[0].split("<")[0]+": "+we.message;if(!M.console)throw new Error(Lt);M.console.error(Lt,we),M.alert&&alert(Lt)}},G.foo.bar=G,G.foo},Cs=function(G,Et){var Lt,we,Ve,He,Er,kr,ke,Mn,Qn;if(Ve=(Et=Et||{}).sourceEncoding||"Unicode",Er=Et.outputEncoding,(Et.autoencode||Er)&&Vi[yi].metadata&&Vi[yi].metadata[Ve]&&Vi[yi].metadata[Ve].encoding&&(He=Vi[yi].metadata[Ve].encoding,!Er&&Vi[yi].encoding&&(Er=Vi[yi].encoding),!Er&&He.codePages&&(Er=He.codePages[0]),typeof Er=="string"&&(Er=He[Er]),Er)){for(ke=!1,kr=[],Lt=0,we=G.length;Lt<we;Lt++)(Mn=Er[G.charCodeAt(Lt)])?kr.push(String.fromCharCode(Mn)):kr.push(G[Lt]),kr[Lt].charCodeAt(0)>>8&&(ke=!0);G=kr.join("")}for(Lt=G.length;ke===void 0&&Lt!==0;)G.charCodeAt(Lt-1)>>8&&(ke=!0),Lt--;if(!ke)return G;for(kr=Et.noBOM?[]:[254,255],Lt=0,we=G.length;Lt<we;Lt++){if((Qn=(Mn=G.charCodeAt(Lt))>>8)>>8)throw new Error("Character at position "+Lt+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kr.push(Qn),kr.push(Mn-(Qn<<8))}return String.fromCharCode.apply(void 0,kr)},la=pt.__private__.pdfEscape=pt.pdfEscape=function(G,Et){return Cs(G,Et).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},al=pt.__private__.beginPage=function(G){Yr[++So]=[],Yn[So]={objId:0,contentsObjId:0,userUnit:Number(rt),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},E0(So),mr(Yr[oe])},wu=function(G,Et){var Lt,we,Ve;switch(T=Et||T,typeof G=="string"&&(Lt=Yt(G.toLowerCase()),Array.isArray(Lt)&&(we=Lt[0],Ve=Lt[1])),Array.isArray(G)&&(we=G[0]*vn,Ve=G[1]*vn),isNaN(we)&&(we=W[0],Ve=W[1]),(we>14400||Ve>14400)&&(k.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Ve=Math.min(14400,Ve)),W=[we,Ve],T.substr(0,1)){case"l":Ve>we&&(W=[Ve,we]);break;case"p":we>Ve&&(W=[Ve,we])}al(W),me(yt),fe(Kr),_i!==0&&fe(_i+" J"),ki!==0&&fe(ki+" j"),gn.publish("addPage",{pageNumber:So})},xu=function(G){G>0&&G<=So&&(Yr.splice(G,1),Yn.splice(G,1),So--,oe>So&&(oe=So),this.setPage(oe))},E0=function(G){G>0&&G<=So&&(oe=G)},Kl=pt.__private__.getNumberOfPages=pt.getNumberOfPages=function(){return Yr.length-1},Tl=function(G,Et,Lt){var we,Ve=void 0;return Lt=Lt||{},G=G!==void 0?G:Vi[yi].fontName,Et=Et!==void 0?Et:Vi[yi].fontStyle,we=G.toLowerCase(),Eo[we]!==void 0&&Eo[we][Et]!==void 0?Ve=Eo[we][Et]:Eo[G]!==void 0&&Eo[G][Et]!==void 0?Ve=Eo[G][Et]:Lt.disableWarning===!1&&k.warn("Unable to look up font label for font '"+G+"', '"+Et+"'. Refer to getFontList() for available fonts."),Ve||Lt.noFallback||(Ve=Eo.times[Et])==null&&(Ve=Eo.times.normal),Ve},K0=pt.__private__.putInfo=function(){var G=da(),Et=function(we){return we};for(var Lt in Bt!==null&&(Et=mo.encryptor(G,0)),fe("<<"),fe("/Producer ("+la(Et("jsPDF "+_e.version))+")"),Wn)Wn.hasOwnProperty(Lt)&&Wn[Lt]&&fe("/"+Lt.substr(0,1).toUpperCase()+Lt.substr(1)+" ("+la(Et(Wn[Lt]))+")");fe("/CreationDate ("+la(Et(yr))+")"),fe(">>"),fe("endobj")},Ou=pt.__private__.putCatalog=function(G){var Et=(G=G||{}).rootDictionaryObjId||xl;switch(da(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+Et+" 0 R"),sn||(sn="fullwidth"),sn){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Lt=""+sn;Lt.substr(Lt.length-1)==="%"&&(sn=parseInt(sn)/100),typeof sn=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+vr(sn)+"]")}switch(wi||(wi="continuous"),wi){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}di&&fe("/PageMode /"+di),gn.publish("putCatalog"),fe(">>"),fe("endobj")},Gn=pt.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(Ge+1)),fe("/Root "+Ge+" 0 R"),fe("/Info "+(Ge-1)+" 0 R"),Bt!==null&&fe("/Encrypt "+mo.oid+" 0 R"),fe("/ID [ <"+dr+"> <"+dr+"> ]"),fe(">>")},Tu=pt.__private__.putHeader=function(){fe("%PDF-"+ce),fe("%\xBA\xDF\xAC\xE0")},Ws=pt.__private__.putXRef=function(){var G="0000000000";fe("xref"),fe("0 "+(Ge+1)),fe("0000000000 65535 f ");for(var Et=1;Et<=Ge;Et++)typeof qe[Et]=="function"?fe((G+qe[Et]()).slice(-10)+" 00000 n "):qe[Et]!==void 0?fe((G+qe[Et]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Hs=pt.__private__.buildDocument=function(){Vn(),mr(ir),gn.publish("buildDocument"),Tu(),sa(),Rs(),_0(),Bt!==null&&Zu(),K0(),Ou();var G=rr;return Ws(),Gn(),fe("startxref"),fe(""+G),fe("%%EOF"),mr(Yr[oe]),ir.join(`
`)},sl=pt.__private__.getBlob=function(G){return new Blob([An(G)],{type:"application/pdf"})},$l=pt.output=pt.__private__.output=gs(function(G,Et){switch(typeof(Et=Et||{})=="string"?Et={filename:Et}:Et.filename=Et.filename||"generated.pdf",G){case void 0:return Hs();case"save":pt.save(Et.filename);break;case"arraybuffer":return An(Hs());case"blob":return sl(Hs());case"bloburi":case"bloburl":if(M.URL!==void 0&&typeof M.URL.createObjectURL=="function")return M.URL&&M.URL.createObjectURL(sl(Hs()))||void 0;k.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Lt="",we=Hs();try{Lt=tt(we)}catch{Lt=tt(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+Et.filename+";base64,"+Lt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(M)==="[object Window]"){var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(Et.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Et)+");<\/script></body></html>",He=M.open();return He!==null&&He.document.write(Ve),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(M)==="[object Window]"){var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Et.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Et.filename+'" width="500px" height="400px" /></body></html>',kr=M.open();if(kr!==null){kr.document.write(Er);var ke=this;kr.document.documentElement.querySelector("#pdfViewer").onload=function(){kr.document.title=Et.filename,kr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ke.output("bloburl"))}}return kr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(M)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Et)+'"></iframe></body></html>',Qn=M.open();if(Qn!==null&&(Qn.document.write(Mn),Qn.document.title=Et.filename),Qn||typeof safari=="undefined")return Qn;break;case"datauri":case"dataurl":return M.document.location.href=this.output("datauristring",Et);default:return null}}),ll=function(G){return Array.isArray(ta)===!0&&ta.indexOf(G)>-1};switch(N){case"pt":vn=1;break;case"mm":vn=72/25.4;break;case"cm":vn=72/2.54;break;case"in":vn=72;break;case"px":vn=ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":vn=12;break;case"ex":vn=6;break;default:if(typeof N!="number")throw new Error("Invalid unit: "+N);vn=N}var mo=null;xn(),nr();var ul=function(G){return Bt!==null?mo.encryptor(G,0):function(Et){return Et}},bl=pt.__private__.getPageInfo=pt.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yn[G].objId,pageNumber:G,pageContext:Yn[G]}},$n=pt.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Et in Yn)if(Yn[Et].objId===G)break;return bl(Et)},Al=pt.__private__.getCurrentPageInfo=pt.getCurrentPageInfo=function(){return{objId:Yn[oe].objId,pageNumber:oe,pageContext:Yn[oe]}};pt.addPage=function(){return wu.apply(this,arguments),this},pt.setPage=function(){return E0.apply(this,arguments),mr.call(this,Yr[oe]),this},pt.insertPage=function(G){return this.addPage(),this.movePage(oe,G),this},pt.movePage=function(G,Et){var Lt,we;if(G>Et){Lt=Yr[G],we=Yn[G];for(var Ve=G;Ve>Et;Ve--)Yr[Ve]=Yr[Ve-1],Yn[Ve]=Yn[Ve-1];Yr[Et]=Lt,Yn[Et]=we,this.setPage(Et)}else if(G<Et){Lt=Yr[G],we=Yn[G];for(var He=G;He<Et;He++)Yr[He]=Yr[He+1],Yn[He]=Yn[He+1];Yr[Et]=Lt,Yn[Et]=we,this.setPage(Et)}return this},pt.deletePage=function(){return xu.apply(this,arguments),this},pt.__private__.text=pt.text=function(G,Et,Lt,we,Ve){var He,Er,kr,ke,Mn,Qn,fn,pi,si,Hi=(we=we||{}).scope||this;if(typeof G=="number"&&typeof Et=="number"&&(typeof Lt=="string"||Array.isArray(Lt))){var Di=Lt;Lt=Et,Et=G,G=Di}if(arguments[3]instanceof Un?(je("The transform parameter of text() with a Matrix value"),si=Ve):(kr=arguments[4],ke=arguments[5],E()(fn=arguments[3])==="object"&&fn!==null||(typeof kr=="string"&&(ke=kr,kr=null),typeof fn=="string"&&(ke=fn,fn=null),typeof fn=="number"&&(kr=fn,fn=null),we={flags:fn,angle:kr,align:ke})),isNaN(Et)||isNaN(Lt)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return Hi;var wo="",va=!1,os=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:xt,ms=Hi.internal.scaleFactor;function Yh(Uo){return Uo=Uo.split("	").join(Array(we.TabLen||9).join(" ")),la(Uo,fn)}function Xf(Uo){for(var lo,Oa=Uo.concat(),Ua=[],r0=Oa.length;r0--;)typeof(lo=Oa.shift())=="string"?Ua.push(lo):Array.isArray(Uo)&&(lo.length===1||lo[1]===void 0&&lo[2]===void 0)?Ua.push(lo[0]):Ua.push([lo[0],lo[1],lo[2]]);return Ua}function Kf(Uo,lo){var Oa;if(typeof Uo=="string")Oa=lo(Uo)[0];else if(Array.isArray(Uo)){for(var Ua,r0,ua=Uo.concat(),Xc=[],qf=ua.length;qf--;)typeof(Ua=ua.shift())=="string"?Xc.push(lo(Ua)[0]):Array.isArray(Ua)&&typeof Ua[0]=="string"&&(r0=lo(Ua[0],Ua[1],Ua[2]),Xc.push([r0[0],r0[1],r0[2]]));Oa=Xc}return Oa}var bu=!1,$f=!0;if(typeof G=="string")bu=!0;else if(Array.isArray(G)){var Zf=G.concat();Er=[];for(var Ii,cl=Zf.length;cl--;)(typeof(Ii=Zf.shift())!="string"||Array.isArray(Ii)&&typeof Ii[0]!="string")&&($f=!1);bu=$f}if(bu===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var Zl=nn/Hi.internal.scaleFactor,$0=Zl*(os-1);switch(we.baseline){case"bottom":Lt-=$0;break;case"top":Lt+=Zl-$0;break;case"hanging":Lt+=Zl-2*$0;break;case"middle":Lt+=Zl/2-$0}if((Qn=we.maxWidth||0)>0&&(typeof G=="string"?G=Hi.splitTextToSize(G,Qn):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(Uo,lo){return Uo.concat(Hi.splitTextToSize(lo,Qn))},[]))),He={text:G,x:Et,y:Lt,options:we,mutex:{pdfEscape:la,activeFontKey:yi,fonts:Vi,activeFontSize:nn}},gn.publish("preProcessText",He),G=He.text,kr=(we=He.options).angle,!(si instanceof Un)&&kr&&typeof kr=="number"){kr*=Math.PI/180,we.rotationDirection===0&&(kr=-kr),ze===pe.ADVANCED&&(kr=-kr);var Vc=Math.cos(kr),wc=Math.sin(kr);si=new Un(Vc,wc,-wc,Vc,0,0)}else kr&&kr instanceof Un&&(si=kr);ze!==pe.ADVANCED||si||(si=ts),(Mn=we.charSpace||Zn)!==void 0&&(wo+=pr(Jt(Mn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pi=we.horizontalScale)!==void 0&&(wo+=pr(100*pi)+` Tz
`),we.lang;var Ys=-1,Xh=we.renderingMode!==void 0?we.renderingMode:we.stroke,Z0=Hi.internal.getCurrentPageInfo().pageContext;switch(Xh){case 0:case!1:case"fill":Ys=0;break;case 1:case!0:case"stroke":Ys=1;break;case 2:case"fillThenStroke":Ys=2;break;case 3:case"invisible":Ys=3;break;case 4:case"fillAndAddForClipping":Ys=4;break;case 5:case"strokeAndAddPathForClipping":Ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ys=6;break;case 7:case"addToPathForClipping":Ys=7}var Kh=Z0.usedRenderingMode!==void 0?Z0.usedRenderingMode:-1;Ys!==-1?wo+=Ys+` Tr
`:Kh!==-1&&(wo+=`0 Tr
`),Ys!==-1&&(Z0.usedRenderingMode=Ys),ke=we.align||"left";var Au,Wc=nn*os,Tp=Hi.internal.pageSize.getWidth(),bp=Vi[yi];Mn=we.charSpace||Zn,Qn=we.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Mu=[];if(Object.prototype.toString.call(G)==="[object Array]"){var Ml;Er=Xf(G),ke!=="left"&&(Au=Er.map(function(Uo){return Hi.getStringUnitWidth(Uo,{font:bp,charSpace:Mn,fontSize:nn,doKerning:!1})*nn/ms}));var Ru,t0=0;if(ke==="right"){Et-=Au[0],G=[],cl=Er.length;for(var Cu=0;Cu<cl;Cu++)Cu===0?(Ru=$e(Et),Ml=cr(Lt)):(Ru=Jt(t0-Au[Cu]),Ml=-Wc),G.push([Er[Cu],Ru,Ml]),t0=Au[Cu]}else if(ke==="center"){Et-=Au[0]/2,G=[],cl=Er.length;for(var S0=0;S0<cl;S0++)S0===0?(Ru=$e(Et),Ml=cr(Lt)):(Ru=Jt((t0-Au[S0])/2),Ml=-Wc),G.push([Er[S0],Ru,Ml]),t0=Au[S0]}else if(ke==="left"){G=[],cl=Er.length;for(var w0=0;w0<cl;w0++)G.push(Er[w0])}else{if(ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');G=[],cl=Er.length,Qn=Qn!==0?Qn:Tp;for(var so=0;so<cl;so++)Ml=so===0?cr(Lt):-Wc,Ru=so===0?$e(Et):0,so<cl-1?Mu.push(pr(Jt((Qn-Au[so])/(Er[so].split(" ").length-1)))):Mu.push(0),G.push([Er[so],Ru,Ml])}}var Hc=typeof we.R2L=="boolean"?we.R2L:Bn;Hc===!0&&(G=Kf(G,function(Uo,lo,Oa){return[Uo.split("").reverse().join(""),lo,Oa]})),He={text:G,x:Et,y:Lt,options:we,mutex:{pdfEscape:la,activeFontKey:yi,fonts:Vi,activeFontSize:nn}},gn.publish("postProcessText",He),G=He.text,va=He.mutex.isHex||!1;var Jl=Vi[yi].encoding;Jl!=="WinAnsiEncoding"&&Jl!=="StandardEncoding"||(G=Kf(G,function(Uo,lo,Oa){return[Yh(Uo),lo,Oa]})),Er=Xf(G),G=[];for(var x0,Lu,O0,T0=0,Yc=1,e0=Array.isArray(Er[0])?Yc:T0,J0="",Jf=function(Uo,lo,Oa){var Ua="";return Oa instanceof Un?(Oa=typeof we.angle=="number"?$i(Oa,new Un(1,0,0,1,Uo,lo)):$i(new Un(1,0,0,1,Uo,lo),Oa),ze===pe.ADVANCED&&(Oa=$i(new Un(1,0,0,-1,0,0),Oa)),Ua=Oa.join(" ")+` Tm
`):Ua=pr(Uo)+" "+pr(lo)+` Td
`,Ua},ql=0;ql<Er.length;ql++){switch(J0="",e0){case Yc:O0=(va?"<":"(")+Er[ql][0]+(va?">":")"),x0=parseFloat(Er[ql][1]),Lu=parseFloat(Er[ql][2]);break;case T0:O0=(va?"<":"(")+Er[ql]+(va?">":")"),x0=$e(Et),Lu=cr(Lt)}Mu!==void 0&&Mu[ql]!==void 0&&(J0=Mu[ql]+` Tw
`),ql===0?G.push(J0+Jf(x0,Lu,si)+O0):e0===T0?G.push(J0+O0):e0===Yc&&G.push(J0+Jf(x0,Lu,si)+O0)}G=e0===T0?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var b0=`BT
/`;return b0+=yi+" "+nn+` Tf
`,b0+=pr(nn*os)+` TL
`,b0+=tr+`
`,b0+=wo,b0+=G,fe(b0+="ET"),Xt[yi]=!0,Hi};var I=pt.__private__.clip=pt.clip=function(G){return fe(G==="evenodd"?"W*":"W"),this};pt.clipEvenOdd=function(){return I("evenodd")},pt.__private__.discardPath=pt.discardPath=function(){return fe("n"),this};var j=pt.__private__.isValidStyle=function(G){var Et=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(Et=!0),Et};pt.__private__.setDefaultPathOperation=pt.setDefaultPathOperation=function(G){return j(G)&&(_t=G),this};var Y=pt.__private__.getStyle=pt.getStyle=function(G){var Et=_t;switch(G){case"D":case"S":Et="S";break;case"F":Et="f";break;case"FD":case"DF":Et="B";break;case"f":case"f*":case"B":case"B*":Et=G}return Et},lt=pt.close=function(){return fe("h"),this};pt.stroke=function(){return fe("S"),this},pt.fill=function(G){return gt("f",G),this},pt.fillEvenOdd=function(G){return gt("f*",G),this},pt.fillStroke=function(G){return gt("B",G),this},pt.fillStrokeEvenOdd=function(G){return gt("B*",G),this};var gt=function(G,Et){E()(Et)==="object"?S(Et,G):fe(G)},At=function(G){G===null||ze===pe.ADVANCED&&G===void 0||(G=Y(G),fe(G))};function y(G,Et,Lt,we,Ve){var He=new wn(Et||this.boundingBox,Lt||this.xStep,we||this.yStep,this.gState,Ve||this.matrix);He.stream=this.stream;var Er=G+"$$"+this.cloneIndex+++"$$";return ja(Er,He),He}var S=function(G,Et){var Lt=ds[G.key],we=Wi[Lt];if(we instanceof Xr)fe("q"),fe(x(Et)),we.gState&&pt.setGState(we.gState),fe(G.matrix.toString()+" cm"),fe("/"+Lt+" sh"),fe("Q");else if(we instanceof wn){var Ve=new Un(1,0,0,-1,0,Ba());G.matrix&&(Ve=Ve.multiply(G.matrix||ts),Lt=y.call(we,G.key,G.boundingBox,G.xStep,G.yStep,Ve).id),fe("q"),fe("/Pattern cs"),fe("/"+Lt+" scn"),we.gState&&pt.setGState(we.gState),fe(Et),fe("Q")}},x=function(G){switch(G){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},U=pt.moveTo=function(G,Et){return fe(pr(Jt(G))+" "+pr(xe(Et))+" m"),this},Z=pt.lineTo=function(G,Et){return fe(pr(Jt(G))+" "+pr(xe(Et))+" l"),this},K=pt.curveTo=function(G,Et,Lt,we,Ve,He){return fe([pr(Jt(G)),pr(xe(Et)),pr(Jt(Lt)),pr(xe(we)),pr(Jt(Ve)),pr(xe(He)),"c"].join(" ")),this};pt.__private__.line=pt.line=function(G,Et,Lt,we,Ve){if(isNaN(G)||isNaN(Et)||isNaN(Lt)||isNaN(we)||!j(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return ze===pe.COMPAT?this.lines([[Lt-G,we-Et]],G,Et,[1,1],Ve||"S"):this.lines([[Lt-G,we-Et]],G,Et,[1,1]).stroke()},pt.__private__.lines=pt.lines=function(G,Et,Lt,we,Ve,He){var Er,kr,ke,Mn,Qn,fn,pi,si,Hi,Di,wo,va;if(typeof G=="number"&&(va=Lt,Lt=Et,Et=G,G=va),we=we||[1,1],He=He||!1,isNaN(Et)||isNaN(Lt)||!Array.isArray(G)||!Array.isArray(we)||!j(Ve)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(U(Et,Lt),Er=we[0],kr=we[1],Mn=G.length,Di=Et,wo=Lt,ke=0;ke<Mn;ke++)(Qn=G[ke]).length===2?(Di=Qn[0]*Er+Di,wo=Qn[1]*kr+wo,Z(Di,wo)):(fn=Qn[0]*Er+Di,pi=Qn[1]*kr+wo,si=Qn[2]*Er+Di,Hi=Qn[3]*kr+wo,Di=Qn[4]*Er+Di,wo=Qn[5]*kr+wo,K(fn,pi,si,Hi,Di,wo));return He&&lt(),At(Ve),this},pt.path=function(G){for(var Et=0;Et<G.length;Et++){var Lt=G[Et],we=Lt.c;switch(Lt.op){case"m":U(we[0],we[1]);break;case"l":Z(we[0],we[1]);break;case"c":K.apply(this,we);break;case"h":lt()}}return this},pt.__private__.rect=pt.rect=function(G,Et,Lt,we,Ve){if(isNaN(G)||isNaN(Et)||isNaN(Lt)||isNaN(we)||!j(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return ze===pe.COMPAT&&(we=-we),fe([pr(Jt(G)),pr(xe(Et)),pr(Jt(Lt)),pr(Jt(we)),"re"].join(" ")),At(Ve),this},pt.__private__.triangle=pt.triangle=function(G,Et,Lt,we,Ve,He,Er){if(isNaN(G)||isNaN(Et)||isNaN(Lt)||isNaN(we)||isNaN(Ve)||isNaN(He)||!j(Er))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Lt-G,we-Et],[Ve-Lt,He-we],[G-Ve,Et-He]],G,Et,[1,1],Er,!0),this},pt.__private__.roundedRect=pt.roundedRect=function(G,Et,Lt,we,Ve,He,Er){if(isNaN(G)||isNaN(Et)||isNaN(Lt)||isNaN(we)||isNaN(Ve)||isNaN(He)||!j(Er))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kr=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Lt),He=Math.min(He,.5*we),this.lines([[Lt-2*Ve,0],[Ve*kr,0,Ve,He-He*kr,Ve,He],[0,we-2*He],[0,He*kr,-Ve*kr,He,-Ve,He],[2*Ve-Lt,0],[-Ve*kr,0,-Ve,-He*kr,-Ve,-He],[0,2*He-we],[0,-He*kr,Ve*kr,-He,Ve,-He]],G+Ve,Et,[1,1],Er,!0),this},pt.__private__.ellipse=pt.ellipse=function(G,Et,Lt,we,Ve){if(isNaN(G)||isNaN(Et)||isNaN(Lt)||isNaN(we)||!j(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*Lt,Er=4/3*(Math.SQRT2-1)*we;return U(G+Lt,Et),K(G+Lt,Et-Er,G+He,Et-we,G,Et-we),K(G-He,Et-we,G-Lt,Et-Er,G-Lt,Et),K(G-Lt,Et+Er,G-He,Et+we,G,Et+we),K(G+He,Et+we,G+Lt,Et+Er,G+Lt,Et),At(Ve),this},pt.__private__.circle=pt.circle=function(G,Et,Lt,we){if(isNaN(G)||isNaN(Et)||isNaN(Lt)||!j(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,Et,Lt,Lt,we)},pt.setFont=function(G,Et,Lt){return Lt&&(Et=Zr(Et,Lt)),yi=Tl(G,Et,{disableWarning:!1}),this};var ht=pt.__private__.getFont=pt.getFont=function(){return Vi[Tl.apply(pt,arguments)]};pt.__private__.getFontList=pt.getFontList=function(){var G,Et,Lt={};for(G in Eo)if(Eo.hasOwnProperty(G))for(Et in Lt[G]=[],Eo[G])Eo[G].hasOwnProperty(Et)&&Lt[G].push(Et);return Lt},pt.addFont=function(G,Et,Lt,we,Ve){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(Lt=Zr(Lt,we)),Ve=Ve||"Identity-H",Xl.call(this,G,Et,Lt,Ve)};var xt,yt=L.lineWidth||.200025,re=pt.__private__.getLineWidth=pt.getLineWidth=function(){return yt},me=pt.__private__.setLineWidth=pt.setLineWidth=function(G){return yt=G,fe(pr(Jt(G))+" w"),this};pt.__private__.setLineDash=_e.API.setLineDash=_e.API.setLineDashPattern=function(G,Et){if(G=G||[],Et=Et||0,isNaN(Et)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Lt){return pr(Jt(Lt))}).join(" "),Et=pr(Jt(Et)),fe("["+G+"] "+Et+" d"),this};var se=pt.__private__.getLineHeight=pt.getLineHeight=function(){return nn*xt};pt.__private__.getLineHeight=pt.getLineHeight=function(){return nn*xt};var Ne=pt.__private__.setLineHeightFactor=pt.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(xt=G),this},Ye=pt.__private__.getLineHeightFactor=pt.getLineHeightFactor=function(){return xt};Ne(L.lineHeight);var $e=pt.__private__.getHorizontalCoordinate=function(G){return Jt(G)},cr=pt.__private__.getVerticalCoordinate=function(G){return ze===pe.ADVANCED?G:Yn[oe].mediaBox.topRightY-Yn[oe].mediaBox.bottomLeftY-Jt(G)},Vr=pt.__private__.getHorizontalCoordinateString=pt.getHorizontalCoordinateString=function(G){return pr($e(G))},Qr=pt.__private__.getVerticalCoordinateString=pt.getVerticalCoordinateString=function(G){return pr(cr(G))},Kr=L.strokeColor||"0 G";pt.__private__.getStrokeColor=pt.getDrawColor=function(){return Ee(Kr)},pt.__private__.setStrokeColor=pt.setDrawColor=function(G,Et,Lt,we){return Kr=Aa({ch1:G,ch2:Et,ch3:Lt,ch4:we,pdfColorType:"draw",precision:2}),fe(Kr),this};var $r=L.fillColor||"0 g";pt.__private__.getFillColor=pt.getFillColor=function(){return Ee($r)},pt.__private__.setFillColor=pt.setFillColor=function(G,Et,Lt,we){return $r=Aa({ch1:G,ch2:Et,ch3:Lt,ch4:we,pdfColorType:"fill",precision:2}),fe($r),this};var tr=L.textColor||"0 g",dn=pt.__private__.getTextColor=pt.getTextColor=function(){return Ee(tr)};pt.__private__.setTextColor=pt.setTextColor=function(G,Et,Lt,we){return tr=Aa({ch1:G,ch2:Et,ch3:Lt,ch4:we,pdfColorType:"text",precision:3}),this};var Zn=L.charSpace,Pi=pt.__private__.getCharSpace=pt.getCharSpace=function(){return parseFloat(Zn||0)};pt.__private__.setCharSpace=pt.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zn=G,this};var _i=0;pt.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},pt.__private__.setLineCap=pt.setLineCap=function(G){var Et=pt.CapJoinStyles[G];if(Et===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _i=Et,fe(Et+" J"),this};var ki=0;pt.__private__.setLineJoin=pt.setLineJoin=function(G){var Et=pt.CapJoinStyles[G];if(Et===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ki=Et,fe(Et+" j"),this},pt.__private__.setLineMiterLimit=pt.__private__.setMiterLimit=pt.setLineMiterLimit=pt.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(pr(Jt(G))+" M"),this},pt.GState=ar,pt.setGState=function(G){(G=typeof G=="string"?Go[Ea[G]]:Xi(null,G)).equals(As)||(fe("/"+G.id+" gs"),As=G)};var Xi=function(G,Et){if(!G||!Ea[G]){var Lt=!1;for(var we in Go)if(Go.hasOwnProperty(we)&&Go[we].equals(Et)){Lt=!0;break}if(Lt)Et=Go[we];else{var Ve="GS"+(Object.keys(Go).length+1).toString(10);Go[Ve]=Et,Et.id=Ve}return G&&(Ea[G]=Et.id),gn.publish("addGState",Et),Et}};pt.addGState=function(G,Et){return Xi(G,Et),this},pt.saveGraphicsState=function(){return fe("q"),bs.push({key:yi,size:nn,color:tr}),this},pt.restoreGraphicsState=function(){fe("Q");var G=bs.pop();return yi=G.key,nn=G.size,tr=G.color,As=null,this},pt.setCurrentTransformationMatrix=function(G){return fe(G.toString()+" cm"),this},pt.comment=function(G){return fe("#"+G),this};var qi=function(G,Et){var Lt=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Lt},set:function(He){isNaN(He)||(Lt=parseFloat(He))}});var we=Et||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(He){Ve=He.toString()}}),this},ro=function(G,Et,Lt,we){qi.call(this,G,Et),this.type="rect";var Ve=Lt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Er){isNaN(Er)||(Ve=parseFloat(Er))}});var He=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Er){isNaN(Er)||(He=parseFloat(Er))}}),this},pa=function(){this.page=So,this.currentPage=oe,this.pages=Yr.slice(0),this.pagesContext=Yn.slice(0),this.x=Da,this.y=Dn,this.matrix=ha,this.width=xa(oe),this.height=Ba(oe),this.outputDestination=On,this.id="",this.objectNumber=-1};pa.prototype.restore=function(){So=this.page,oe=this.currentPage,Yn=this.pagesContext,Yr=this.pages,Da=this.x,Dn=this.y,ha=this.matrix,Mo(oe,this.width),Zi(oe,this.height),On=this.outputDestination};var xi=function(G,Et,Lt,we,Ve){ps.push(new pa),So=oe=0,Yr=[],Da=G,Dn=Et,ha=Ve,al([Lt,we])},Zo=function(G){if(zs[G])ps.pop().restore();else{var Et=new pa,Lt="Xo"+(Object.keys(oa).length+1).toString(10);Et.id=Lt,zs[G]=Lt,oa[Lt]=Et,gn.publish("addFormObject",Et),ps.pop().restore()}};for(var wa in pt.beginFormObject=function(G,Et,Lt,we,Ve){return xi(G,Et,Lt,we,Ve),this},pt.endFormObject=function(G){return Zo(G),this},pt.doFormObject=function(G,Et){var Lt=oa[zs[G]];return fe("q"),fe(Et.toString()+" cm"),fe("/"+Lt.id+" Do"),fe("Q"),this},pt.getFormObject=function(G){var Et=oa[zs[G]];return{x:Et.x,y:Et.y,width:Et.width,height:Et.height,matrix:Et.matrix}},pt.save=function(G,Et){return G=G||"generated.pdf",(Et=Et||{}).returnPromise=Et.returnPromise||!1,Et.returnPromise===!1?(J(sl(Hs()),G),typeof J.unload=="function"&&M.setTimeout&&setTimeout(J.unload,911),this):new Promise(function(Lt,we){try{var Ve=J(sl(Hs()),G);typeof J.unload=="function"&&M.setTimeout&&setTimeout(J.unload,911),Lt(Ve)}catch(He){we(He.message)}})},_e.API)_e.API.hasOwnProperty(wa)&&(wa==="events"&&_e.API.events.length?function(G,Et){var Lt,we,Ve;for(Ve=Et.length-1;Ve!==-1;Ve--)Lt=Et[Ve][0],we=Et[Ve][1],G.subscribe.apply(G,[Lt].concat(typeof we=="function"?[we]:we))}(gn,_e.API.events):pt[wa]=_e.API[wa]);var xa=pt.getPageWidth=function(G){return(Yn[G=G||oe].mediaBox.topRightX-Yn[G].mediaBox.bottomLeftX)/vn},Mo=pt.setPageWidth=function(G,Et){Yn[G].mediaBox.topRightX=Et*vn+Yn[G].mediaBox.bottomLeftX},Ba=pt.getPageHeight=function(G){return(Yn[G=G||oe].mediaBox.topRightY-Yn[G].mediaBox.bottomLeftY)/vn},Zi=pt.setPageHeight=function(G,Et){Yn[G].mediaBox.topRightY=Et*vn+Yn[G].mediaBox.bottomLeftY};return pt.internal={pdfEscape:la,getStyle:Y,getFont:ht,getFontSize:an,getCharSpace:Pi,getTextColor:dn,getLineHeight:se,getLineHeightFactor:Ye,getLineWidth:re,write:ci,getHorizontalCoordinate:$e,getVerticalCoordinate:cr,getCoordinateString:Vr,getVerticalCoordinateString:Qr,collections:{},newObject:da,newAdditionalObject:_u,newObjectDeferred:cn,newObjectDeferredBegin:is,getFilters:aa,putStream:Yi,events:gn,scaleFactor:vn,pageSize:{getWidth:function(){return xa(oe)},setWidth:function(G){Mo(oe,G)},getHeight:function(){return Ba(oe)},setHeight:function(G){Zi(oe,G)}},encryptionOptions:Bt,encryption:mo,getEncryptor:ul,output:$l,getNumberOfPages:Kl,pages:Yr,out:fe,f2:vr,f3:Zt,getPageInfo:bl,getPageInfoByObjId:$n,getCurrentPageInfo:Al,getPDFVersion:ne,Point:qi,Rectangle:ro,Matrix:Un,hasHotfix:ll},Object.defineProperty(pt.internal.pageSize,"width",{get:function(){return xa(oe)},set:function(G){Mo(oe,G)},enumerable:!0,configurable:!0}),Object.defineProperty(pt.internal.pageSize,"height",{get:function(){return Ba(oe)},set:function(G){Zi(oe,G)},enumerable:!0,configurable:!0}),X0.call(pt,zr),yi="F1",wu(W,T),gn.publish("initialized"),pt}ae.prototype.lsbFirstWord=function(L){return String.fromCharCode(L>>0&255,L>>8&255,L>>16&255,L>>24&255)},ae.prototype.toHexString=function(L){return L.split("").map(function(O){return("0"+(255&O.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ae.prototype.hexToBytes=function(L){for(var O=[],T=0;T<L.length;T+=2)O.push(String.fromCharCode(parseInt(L.substr(T,2),16)));return O.join("")},ae.prototype.processOwnerPassword=function(L,O){return mt(le(O).substr(0,5),L)},ae.prototype.encryptor=function(L,O){var T=le(this.encryptionKey+String.fromCharCode(255&L,L>>8&255,L>>16&255,255&O,O>>8&255)).substr(0,10);return function(N){return mt(T,N)}},ar.prototype.equals=function(L){var O,T="id,objectNumber,equals";if(!L||E()(L)!==E()(this))return!1;var N=0;for(O in this)if(!(T.indexOf(O)>=0)){if(this.hasOwnProperty(O)&&!L.hasOwnProperty(O)||this[O]!==L[O])return!1;N++}for(O in L)L.hasOwnProperty(O)&&T.indexOf(O)<0&&N--;return N===0},_e.API={events:[]},_e.version="2.5.0";var er=_e.API,_r=1,Fr=function(L){return L.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jn=function(L){return L.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ur=function(L){return L.toFixed(2)},Vt=function(L){return L.toFixed(5)};er.__acroform__={};var ie=function(L,O){L.prototype=Object.create(O.prototype),L.prototype.constructor=L},Tt=function(L){return L*_r},ft=function(L){var O=new Fn,T=fr.internal.getHeight(L)||0,N=fr.internal.getWidth(L)||0;return O.BBox=[0,0,Number(Ur(N)),Number(Ur(T))],O},Rt=er.__acroform__.setBit=function(L,O){if(L=L||0,O=O||0,isNaN(L)||isNaN(O))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return L|=1<<O},Qt=er.__acroform__.clearBit=function(L,O){if(L=L||0,O=O||0,isNaN(L)||isNaN(O))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return L&=~(1<<O)},$t=er.__acroform__.getBit=function(L,O){if(isNaN(L)||isNaN(O))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(L&1<<O)==0?0:1},he=er.__acroform__.getBitForPdf=function(L,O){if(isNaN(L)||isNaN(O))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $t(L,O-1)},Pe=er.__acroform__.setBitForPdf=function(L,O){if(isNaN(L)||isNaN(O))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rt(L,O-1)},Ue=er.__acroform__.clearBitForPdf=function(L,O){if(isNaN(L)||isNaN(O))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qt(L,O-1)},Gt=er.__acroform__.calculateCoordinates=function(L,O){var T=O.internal.getHorizontalCoordinate,N=O.internal.getVerticalCoordinate,W=L[0],D=L[1],X=L[2],rt=L[3],st={};return st.lowerLeft_X=T(W)||0,st.lowerLeft_Y=N(D+rt)||0,st.upperRight_X=T(W+X)||0,st.upperRight_Y=N(D)||0,[Number(Ur(st.lowerLeft_X)),Number(Ur(st.lowerLeft_Y)),Number(Ur(st.upperRight_X)),Number(Ur(st.upperRight_Y))]},at=function(L){if(L.appearanceStreamContent)return L.appearanceStreamContent;if(L.V||L.DV){var O=[],T=L._V||L.DV,N=$(L,T),W=L.scope.internal.getFont(L.fontName,L.fontStyle).id;O.push("/Tx BMC"),O.push("q"),O.push("BT"),O.push(L.scope.__private__.encodeColorString(L.color)),O.push("/"+W+" "+Ur(N.fontSize)+" Tf"),O.push("1 0 0 1 0 0 Tm"),O.push(N.text),O.push("ET"),O.push("Q"),O.push("EMC");var D=ft(L);return D.scope=L.scope,D.stream=O.join(`
`),D}},$=function(L,O){var T=L.fontSize===0?L.maxFontSize:L.fontSize,N={text:"",fontSize:""},W=(O=(O=O.substr(0,1)=="("?O.substr(1):O).substr(O.length-1)==")"?O.substr(0,O.length-1):O).split(" ");W=L.multiline?W.map(function(Zt){return Zt.split(`
`)}):W.map(function(Zt){return[Zt]});var D=T,X=fr.internal.getHeight(L)||0;X=X<0?-X:X;var rt=fr.internal.getWidth(L)||0;rt=rt<0?-rt:rt;var st=function(Zt,Jt,Le){if(Zt+1<W.length){var xe=Jt+" "+W[Zt+1][0];return Q(xe,L,Le).width<=rt-4}return!1};D++;t:for(;D>0;){O="",D--;var _t,Bt,Ut=Q("3",L,D).height,Xt=L.multiline?X-D:(X-Ut)/2,pt=Xt+=2,ce=0,ne=0,Te=0;if(D<=0){O=`(...) Tj
`,O+="% Width of Text: "+Q(O,L,D=12).width+", FieldWidth:"+rt+`
`;break}for(var Yt="",pe=0,ze=0;ze<W.length;ze++)if(W.hasOwnProperty(ze)){var sr=!1;if(W[ze].length!==1&&Te!==W[ze].length-1){if((Ut+2)*(pe+2)+2>X)continue t;Yt+=W[ze][Te],sr=!0,ne=ze,ze--}else{Yt=(Yt+=W[ze][Te]+" ").substr(Yt.length-1)==" "?Yt.substr(0,Yt.length-1):Yt;var Tr=parseInt(ze),Zr=st(Tr,Yt,D),pr=ze>=W.length-1;if(Zr&&!pr){Yt+=" ",Te=0;continue}if(Zr||pr){if(pr)ne=Tr;else if(L.multiline&&(Ut+2)*(pe+2)+2>X)continue t}else{if(!L.multiline||(Ut+2)*(pe+2)+2>X)continue t;ne=Tr}}for(var je="",Rr=ce;Rr<=ne;Rr++){var vr=W[Rr];if(L.multiline){if(Rr===ne){je+=vr[Te]+" ",Te=(Te+1)%vr.length;continue}if(Rr===ce){je+=vr[vr.length-1]+" ";continue}}je+=vr[0]+" "}switch(je=je.substr(je.length-1)==" "?je.substr(0,je.length-1):je,Bt=Q(je,L,D).width,L.textAlign){case"right":_t=rt-Bt-2;break;case"center":_t=(rt-Bt)/2;break;case"left":default:_t=2}O+=Ur(_t)+" "+Ur(pt)+` Td
`,O+="("+Fr(je)+`) Tj
`,O+=-Ur(_t)+` 0 Td
`,pt=-(D+2),Bt=0,ce=sr?ne:ne+1,pe++,Yt=""}break}return N.text=O,N.fontSize=D,N},Q=function(L,O,T){var N=O.scope.internal.getFont(O.fontName,O.fontStyle),W=O.scope.getStringUnitWidth(L,{font:N,fontSize:parseFloat(T),charSpace:0})*parseFloat(T);return{height:O.scope.getStringUnitWidth("3",{font:N,fontSize:parseFloat(T),charSpace:0})*parseFloat(T)*1.5,width:W}},dt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ue=function(L,O){var T={type:"reference",object:L};O.internal.getPageInfo(L.page).pageContext.annotations.find(function(N){return N.type===T.type&&N.object===T.object})===void 0&&O.internal.getPageInfo(L.page).pageContext.annotations.push(T)},De=function(L,O){for(var T in L)if(L.hasOwnProperty(T)){var N=T,W=L[T];O.internal.newObjectDeferredBegin(W.objId,!0),E()(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete L[N]}},We=function(L,O){if(O.scope=L,L.internal!==void 0&&(L.internal.acroformPlugin===void 0||L.internal.acroformPlugin.isInitialized===!1)){if(Ci.FieldNum=0,L.internal.acroformPlugin=JSON.parse(JSON.stringify(dt)),L.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_r=L.internal.scaleFactor,L.internal.acroformPlugin.acroFormDictionaryRoot=new qn,L.internal.acroformPlugin.acroFormDictionaryRoot.scope=L,L.internal.acroformPlugin.acroFormDictionaryRoot._eventID=L.internal.events.subscribe("postPutResources",function(){(function(T){T.internal.events.unsubscribe(T.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete T.internal.acroformPlugin.acroFormDictionaryRoot._eventID,T.internal.acroformPlugin.printedOut=!0})(L)}),L.internal.events.subscribe("buildDocument",function(){(function(T){T.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var N=T.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var W in N)if(N.hasOwnProperty(W)){var D=N[W];D.objId=void 0,D.hasAnnotation&&ue(D,T)}})(L)}),L.internal.events.subscribe("putCatalog",function(){(function(T){if(T.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");T.internal.write("/AcroForm "+T.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(L)}),L.internal.events.subscribe("postPutPages",function(T){(function(N,W){var D=!N;for(var X in N||(W.internal.newObjectDeferredBegin(W.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),W.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),N=N||W.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(N.hasOwnProperty(X)){var rt=N[X],st=[],_t=rt.Rect;if(rt.Rect&&(rt.Rect=Gt(rt.Rect,W)),W.internal.newObjectDeferredBegin(rt.objId,!0),rt.DA=fr.createDefaultAppearanceStream(rt),E()(rt)==="object"&&typeof rt.getKeyValueListForStream=="function"&&(st=rt.getKeyValueListForStream()),rt.Rect=_t,rt.hasAppearanceStream&&!rt.appearanceStreamContent){var Bt=at(rt);st.push({key:"AP",value:"<</N "+Bt+">>"}),W.internal.acroformPlugin.xForms.push(Bt)}if(rt.appearanceStreamContent){var Ut="";for(var Xt in rt.appearanceStreamContent)if(rt.appearanceStreamContent.hasOwnProperty(Xt)){var pt=rt.appearanceStreamContent[Xt];if(Ut+="/"+Xt+" ",Ut+="<<",Object.keys(pt).length>=1||Array.isArray(pt)){for(var X in pt)if(pt.hasOwnProperty(X)){var ce=pt[X];typeof ce=="function"&&(ce=ce.call(W,rt)),Ut+="/"+X+" "+ce+" ",W.internal.acroformPlugin.xForms.indexOf(ce)>=0||W.internal.acroformPlugin.xForms.push(ce)}}else typeof(ce=pt)=="function"&&(ce=ce.call(W,rt)),Ut+="/"+X+" "+ce,W.internal.acroformPlugin.xForms.indexOf(ce)>=0||W.internal.acroformPlugin.xForms.push(ce);Ut+=">>"}st.push({key:"AP",value:`<<
`+Ut+">>"})}W.internal.putStream({additionalKeyValues:st,objectId:rt.objId}),W.internal.out("endobj")}D&&De(W.internal.acroformPlugin.xForms,W)})(T,L)}),L.internal.acroformPlugin.isInitialized=!0}},Pr=er.__acroform__.arrayToPdfArray=function(L,O,T){var N=function(X){return X};if(Array.isArray(L)){for(var W="[",D=0;D<L.length;D++)switch(D!==0&&(W+=" "),E()(L[D])){case"boolean":case"number":case"object":W+=L[D].toString();break;case"string":L[D].substr(0,1)!=="/"?(O!==void 0&&T&&(N=T.internal.getEncryptor(O)),W+="("+Fr(N(L[D].toString()))+")"):W+=L[D].toString()}return W+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tn=function(L,O,T){var N=function(W){return W};return O!==void 0&&T&&(N=T.internal.getEncryptor(O)),(L=L||"").toString(),L="("+Fr(N(L))+")"},ln=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(L){this._objId=L}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ln.prototype.toString=function(){return this.objId+" 0 R"},ln.prototype.putStream=function(){var L=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:L,objectId:this.objId}),this.scope.internal.out("endobj")},ln.prototype.getKeyValueListForStream=function(){var L=[],O=Object.getOwnPropertyNames(this).filter(function(D){return D!="content"&&D!="appearanceStreamContent"&&D!="scope"&&D!="objId"&&D.substring(0,1)!="_"});for(var T in O)if(Object.getOwnPropertyDescriptor(this,O[T]).configurable===!1){var N=O[T],W=this[N];W&&(Array.isArray(W)?L.push({key:N,value:Pr(W,this.objId,this.scope)}):W instanceof ln?(W.scope=this.scope,L.push({key:N,value:W.objId+" 0 R"})):typeof W!="function"&&L.push({key:N,value:W}))}return L};var Fn=function(){ln.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var L,O=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return O},set:function(T){O=T}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(T){L=T.trim()},get:function(){return L||null}})};ie(Fn,ln);var qn=function(){ln.call(this);var L,O=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return O.length>0?O:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return O}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(L){var T=function(N){return N};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Fr(T(L))+")"}},set:function(T){L=T}})};ie(qn,ln);var Ci=function L(){ln.call(this);var O=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return O},set:function(Yt){if(isNaN(Yt))throw new Error('Invalid value "'+Yt+'" for attribute F supplied.');O=Yt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(O,3))},set:function(Yt){Boolean(Yt)===!0?this.F=Pe(O,3):this.F=Ue(O,3)}});var T=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return T},set:function(Yt){if(isNaN(Yt))throw new Error('Invalid value "'+Yt+'" for attribute Ff supplied.');T=Yt}});var N=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(N.length!==0)return N},set:function(Yt){N=Yt!==void 0?Yt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!N||isNaN(N[0])?0:N[0]},set:function(Yt){N[0]=Yt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!N||isNaN(N[1])?0:N[1]},set:function(Yt){N[1]=Yt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!N||isNaN(N[2])?0:N[2]},set:function(Yt){N[2]=Yt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!N||isNaN(N[3])?0:N[3]},set:function(Yt){N[3]=Yt}});var W="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return W},set:function(Yt){switch(Yt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":W=Yt;break;default:throw new Error('Invalid value "'+Yt+'" for attribute FT supplied.')}}});var D=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!D||D.length<1){if(this instanceof Na)return;D="FieldObject"+L.FieldNum++}var Yt=function(pe){return pe};return this.scope&&(Yt=this.scope.internal.getEncryptor(this.objId)),"("+Fr(Yt(D))+")"},set:function(Yt){D=Yt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return D},set:function(Yt){D=Yt}});var X="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return X},set:function(Yt){X=Yt}});var rt="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return rt},set:function(Yt){rt=Yt}});var st=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return st},set:function(Yt){st=Yt}});var _t=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return _t===void 0?50/_r:_t},set:function(Yt){_t=Yt}});var Bt="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Bt},set:function(Yt){Bt=Yt}});var Ut="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ut||this instanceof Na||this instanceof Ji))return tn(Ut,this.objId,this.scope)},set:function(Yt){Yt=Yt.toString(),Ut=Yt}});var Xt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Xt)return this instanceof _n?Xt:tn(Xt,this.objId,this.scope)},set:function(Yt){Yt=Yt.toString(),Xt=this instanceof _n?Yt:Yt.substr(0,1)==="("?jn(Yt.substr(1,Yt.length-2)):jn(Yt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _n?jn(Xt.substr(1,Xt.length-1)):Xt},set:function(Yt){Yt=Yt.toString(),Xt=this instanceof _n?"/"+Yt:Yt}});var pt=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(pt)return pt},set:function(Yt){this.V=Yt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(pt)return this instanceof _n?pt:tn(pt,this.objId,this.scope)},set:function(Yt){Yt=Yt.toString(),pt=this instanceof _n?Yt:Yt.substr(0,1)==="("?jn(Yt.substr(1,Yt.length-2)):jn(Yt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _n?jn(pt.substr(1,pt.length-1)):pt},set:function(Yt){Yt=Yt.toString(),pt=this instanceof _n?"/"+Yt:Yt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ce,ne=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ne},set:function(Yt){Yt=Boolean(Yt),ne=Yt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ce)return ce},set:function(Yt){ce=Yt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,1))},set:function(Yt){Boolean(Yt)===!0?this.Ff=Pe(this.Ff,1):this.Ff=Ue(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,2))},set:function(Yt){Boolean(Yt)===!0?this.Ff=Pe(this.Ff,2):this.Ff=Ue(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,3))},set:function(Yt){Boolean(Yt)===!0?this.Ff=Pe(this.Ff,3):this.Ff=Ue(this.Ff,3)}});var Te=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Te!==null)return Te},set:function(Yt){if([0,1,2].indexOf(Yt)===-1)throw new Error('Invalid value "'+Yt+'" for attribute Q supplied.');Te=Yt}}),Object.defineProperty(this,"textAlign",{get:function(){var Yt;switch(Te){case 0:default:Yt="left";break;case 1:Yt="center";break;case 2:Yt="right"}return Yt},configurable:!0,enumerable:!0,set:function(Yt){switch(Yt){case"right":case 2:Te=2;break;case"center":case 1:Te=1;break;case"left":case 0:default:Te=0}}})};ie(Ci,ln);var ao=function(){Ci.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var L=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return L},set:function(T){L=T}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return L},set:function(T){L=T}});var O=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pr(O,this.objId,this.scope)},set:function(T){var N,W;W=[],typeof(N=T)=="string"&&(W=function(D,X,rt){rt||(rt=1);for(var st,_t=[];st=X.exec(D);)_t.push(st[rt]);return _t}(N,/\((.*?)\)/g)),O=W}}),this.getOptions=function(){return O},this.setOptions=function(T){O=T,this.sort&&O.sort()},this.addOption=function(T){T=(T=T||"").toString(),O.push(T),this.sort&&O.sort()},this.removeOption=function(T,N){for(N=N||!1,T=(T=T||"").toString();O.indexOf(T)!==-1&&(O.splice(O.indexOf(T),1),N!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,18))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,18):this.Ff=Ue(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,19))},set:function(T){this.combo===!0&&(Boolean(T)===!0?this.Ff=Pe(this.Ff,19):this.Ff=Ue(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,20))},set:function(T){Boolean(T)===!0?(this.Ff=Pe(this.Ff,20),O.sort()):this.Ff=Ue(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,22))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,22):this.Ff=Ue(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,23))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,23):this.Ff=Ue(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,27))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,27):this.Ff=Ue(this.Ff,27)}}),this.hasAppearanceStream=!1};ie(ao,Ci);var Kn=function(){ao.call(this),this.fontName="helvetica",this.combo=!1};ie(Kn,ao);var ui=function(){Kn.call(this),this.combo=!0};ie(ui,Kn);var Li=function(){ui.call(this),this.edit=!0};ie(Li,ui);var _n=function(){Ci.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,15))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,15):this.Ff=Ue(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,16))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,16):this.Ff=Ue(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,17))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,17):this.Ff=Ue(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,26))},set:function(T){Boolean(T)===!0?this.Ff=Pe(this.Ff,26):this.Ff=Ue(this.Ff,26)}});var L,O={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var T=function(D){return D};if(this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),Object.keys(O).length!==0){var N,W=[];for(N in W.push("<<"),O)W.push("/"+N+" ("+Fr(T(O[N]))+")");return W.push(">>"),W.join(`
`)}},set:function(T){E()(T)==="object"&&(O=T)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return O.CA||""},set:function(T){typeof T=="string"&&(O.CA=T)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return L},set:function(T){L=T}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return L.substr(1,L.length-1)},set:function(T){L="/"+T}})};ie(_n,Ci);var uo=function(){_n.call(this),this.pushButton=!0};ie(uo,_n);var zn=function(){_n.call(this),this.radio=!0,this.pushButton=!1;var L=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return L},set:function(O){L=O!==void 0?O:[]}})};ie(zn,_n);var Na=function(){var L,O;Ci.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return L},set:function(W){L=W}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return O},set:function(W){O=W}});var T,N={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var W=function(rt){return rt};this.scope&&(W=this.scope.internal.getEncryptor(this.objId));var D,X=[];for(D in X.push("<<"),N)X.push("/"+D+" ("+Fr(W(N[D]))+")");return X.push(">>"),X.join(`
`)},set:function(W){E()(W)==="object"&&(N=W)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return N.CA||""},set:function(W){typeof W=="string"&&(N.CA=W)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return T},set:function(W){T=W}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return T.substr(1,T.length-1)},set:function(W){T="/"+W}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ie(Na,Ci),zn.prototype.setAppearance=function(L){if(!("createAppearanceStream"in L)||!("getCA"in L))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var O in this.Kids)if(this.Kids.hasOwnProperty(O)){var T=this.Kids[O];T.appearanceStreamContent=L.createAppearanceStream(T.optionName),T.caption=L.getCA()}},zn.prototype.createOption=function(L){var O=new Na;return O.Parent=this,O.optionName=L,this.Kids.push(O),rn.call(this.scope,O),O};var Wo=function(){_n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fr.CheckBox.createAppearanceStream()};ie(Wo,_n);var Ji=function(){Ci.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,13))},set:function(O){Boolean(O)===!0?this.Ff=Pe(this.Ff,13):this.Ff=Ue(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,21))},set:function(O){Boolean(O)===!0?this.Ff=Pe(this.Ff,21):this.Ff=Ue(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,23))},set:function(O){Boolean(O)===!0?this.Ff=Pe(this.Ff,23):this.Ff=Ue(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,24))},set:function(O){Boolean(O)===!0?this.Ff=Pe(this.Ff,24):this.Ff=Ue(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,25))},set:function(O){Boolean(O)===!0?this.Ff=Pe(this.Ff,25):this.Ff=Ue(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,26))},set:function(O){Boolean(O)===!0?this.Ff=Pe(this.Ff,26):this.Ff=Ue(this.Ff,26)}});var L=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return L},set:function(O){L=O}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return L},set:function(O){Number.isInteger(O)&&(L=O)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ie(Ji,Ci);var on=function(){Ji.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(he(this.Ff,14))},set:function(L){Boolean(L)===!0?this.Ff=Pe(this.Ff,14):this.Ff=Ue(this.Ff,14)}}),this.password=!0};ie(on,Ji);var fr={CheckBox:{createAppearanceStream:function(){return{N:{On:fr.CheckBox.YesNormal},D:{On:fr.CheckBox.YesPushDown,Off:fr.CheckBox.OffPushDown}}},YesPushDown:function(L){var O=ft(L);O.scope=L.scope;var T=[],N=L.scope.internal.getFont(L.fontName,L.fontStyle).id,W=L.scope.__private__.encodeColorString(L.color),D=$(L,L.caption);return T.push("0.749023 g"),T.push("0 0 "+Ur(fr.internal.getWidth(L))+" "+Ur(fr.internal.getHeight(L))+" re"),T.push("f"),T.push("BMC"),T.push("q"),T.push("0 0 1 rg"),T.push("/"+N+" "+Ur(D.fontSize)+" Tf "+W),T.push("BT"),T.push(D.text),T.push("ET"),T.push("Q"),T.push("EMC"),O.stream=T.join(`
`),O},YesNormal:function(L){var O=ft(L);O.scope=L.scope;var T=L.scope.internal.getFont(L.fontName,L.fontStyle).id,N=L.scope.__private__.encodeColorString(L.color),W=[],D=fr.internal.getHeight(L),X=fr.internal.getWidth(L),rt=$(L,L.caption);return W.push("1 g"),W.push("0 0 "+Ur(X)+" "+Ur(D)+" re"),W.push("f"),W.push("q"),W.push("0 0 1 rg"),W.push("0 0 "+Ur(X-1)+" "+Ur(D-1)+" re"),W.push("W"),W.push("n"),W.push("0 g"),W.push("BT"),W.push("/"+T+" "+Ur(rt.fontSize)+" Tf "+N),W.push(rt.text),W.push("ET"),W.push("Q"),O.stream=W.join(`
`),O},OffPushDown:function(L){var O=ft(L);O.scope=L.scope;var T=[];return T.push("0.749023 g"),T.push("0 0 "+Ur(fr.internal.getWidth(L))+" "+Ur(fr.internal.getHeight(L))+" re"),T.push("f"),O.stream=T.join(`
`),O}},RadioButton:{Circle:{createAppearanceStream:function(L){var O={D:{Off:fr.RadioButton.Circle.OffPushDown},N:{}};return O.N[L]=fr.RadioButton.Circle.YesNormal,O.D[L]=fr.RadioButton.Circle.YesPushDown,O},getCA:function(){return"l"},YesNormal:function(L){var O=ft(L);O.scope=L.scope;var T=[],N=fr.internal.getWidth(L)<=fr.internal.getHeight(L)?fr.internal.getWidth(L)/4:fr.internal.getHeight(L)/4;N=Number((.9*N).toFixed(5));var W=fr.internal.Bezier_C,D=Number((N*W).toFixed(5));return T.push("q"),T.push("1 0 0 1 "+Vt(fr.internal.getWidth(L)/2)+" "+Vt(fr.internal.getHeight(L)/2)+" cm"),T.push(N+" 0 m"),T.push(N+" "+D+" "+D+" "+N+" 0 "+N+" c"),T.push("-"+D+" "+N+" -"+N+" "+D+" -"+N+" 0 c"),T.push("-"+N+" -"+D+" -"+D+" -"+N+" 0 -"+N+" c"),T.push(D+" -"+N+" "+N+" -"+D+" "+N+" 0 c"),T.push("f"),T.push("Q"),O.stream=T.join(`
`),O},YesPushDown:function(L){var O=ft(L);O.scope=L.scope;var T=[],N=fr.internal.getWidth(L)<=fr.internal.getHeight(L)?fr.internal.getWidth(L)/4:fr.internal.getHeight(L)/4;N=Number((.9*N).toFixed(5));var W=Number((2*N).toFixed(5)),D=Number((W*fr.internal.Bezier_C).toFixed(5)),X=Number((N*fr.internal.Bezier_C).toFixed(5));return T.push("0.749023 g"),T.push("q"),T.push("1 0 0 1 "+Vt(fr.internal.getWidth(L)/2)+" "+Vt(fr.internal.getHeight(L)/2)+" cm"),T.push(W+" 0 m"),T.push(W+" "+D+" "+D+" "+W+" 0 "+W+" c"),T.push("-"+D+" "+W+" -"+W+" "+D+" -"+W+" 0 c"),T.push("-"+W+" -"+D+" -"+D+" -"+W+" 0 -"+W+" c"),T.push(D+" -"+W+" "+W+" -"+D+" "+W+" 0 c"),T.push("f"),T.push("Q"),T.push("0 g"),T.push("q"),T.push("1 0 0 1 "+Vt(fr.internal.getWidth(L)/2)+" "+Vt(fr.internal.getHeight(L)/2)+" cm"),T.push(N+" 0 m"),T.push(N+" "+X+" "+X+" "+N+" 0 "+N+" c"),T.push("-"+X+" "+N+" -"+N+" "+X+" -"+N+" 0 c"),T.push("-"+N+" -"+X+" -"+X+" -"+N+" 0 -"+N+" c"),T.push(X+" -"+N+" "+N+" -"+X+" "+N+" 0 c"),T.push("f"),T.push("Q"),O.stream=T.join(`
`),O},OffPushDown:function(L){var O=ft(L);O.scope=L.scope;var T=[],N=fr.internal.getWidth(L)<=fr.internal.getHeight(L)?fr.internal.getWidth(L)/4:fr.internal.getHeight(L)/4;N=Number((.9*N).toFixed(5));var W=Number((2*N).toFixed(5)),D=Number((W*fr.internal.Bezier_C).toFixed(5));return T.push("0.749023 g"),T.push("q"),T.push("1 0 0 1 "+Vt(fr.internal.getWidth(L)/2)+" "+Vt(fr.internal.getHeight(L)/2)+" cm"),T.push(W+" 0 m"),T.push(W+" "+D+" "+D+" "+W+" 0 "+W+" c"),T.push("-"+D+" "+W+" -"+W+" "+D+" -"+W+" 0 c"),T.push("-"+W+" -"+D+" -"+D+" -"+W+" 0 -"+W+" c"),T.push(D+" -"+W+" "+W+" -"+D+" "+W+" 0 c"),T.push("f"),T.push("Q"),O.stream=T.join(`
`),O}},Cross:{createAppearanceStream:function(L){var O={D:{Off:fr.RadioButton.Cross.OffPushDown},N:{}};return O.N[L]=fr.RadioButton.Cross.YesNormal,O.D[L]=fr.RadioButton.Cross.YesPushDown,O},getCA:function(){return"8"},YesNormal:function(L){var O=ft(L);O.scope=L.scope;var T=[],N=fr.internal.calculateCross(L);return T.push("q"),T.push("1 1 "+Ur(fr.internal.getWidth(L)-2)+" "+Ur(fr.internal.getHeight(L)-2)+" re"),T.push("W"),T.push("n"),T.push(Ur(N.x1.x)+" "+Ur(N.x1.y)+" m"),T.push(Ur(N.x2.x)+" "+Ur(N.x2.y)+" l"),T.push(Ur(N.x4.x)+" "+Ur(N.x4.y)+" m"),T.push(Ur(N.x3.x)+" "+Ur(N.x3.y)+" l"),T.push("s"),T.push("Q"),O.stream=T.join(`
`),O},YesPushDown:function(L){var O=ft(L);O.scope=L.scope;var T=fr.internal.calculateCross(L),N=[];return N.push("0.749023 g"),N.push("0 0 "+Ur(fr.internal.getWidth(L))+" "+Ur(fr.internal.getHeight(L))+" re"),N.push("f"),N.push("q"),N.push("1 1 "+Ur(fr.internal.getWidth(L)-2)+" "+Ur(fr.internal.getHeight(L)-2)+" re"),N.push("W"),N.push("n"),N.push(Ur(T.x1.x)+" "+Ur(T.x1.y)+" m"),N.push(Ur(T.x2.x)+" "+Ur(T.x2.y)+" l"),N.push(Ur(T.x4.x)+" "+Ur(T.x4.y)+" m"),N.push(Ur(T.x3.x)+" "+Ur(T.x3.y)+" l"),N.push("s"),N.push("Q"),O.stream=N.join(`
`),O},OffPushDown:function(L){var O=ft(L);O.scope=L.scope;var T=[];return T.push("0.749023 g"),T.push("0 0 "+Ur(fr.internal.getWidth(L))+" "+Ur(fr.internal.getHeight(L))+" re"),T.push("f"),O.stream=T.join(`
`),O}}},createDefaultAppearanceStream:function(L){var O=L.scope.internal.getFont(L.fontName,L.fontStyle).id,T=L.scope.__private__.encodeColorString(L.color);return"/"+O+" "+L.fontSize+" Tf "+T}};fr.internal={Bezier_C:.551915024494,calculateCross:function(L){var O=fr.internal.getWidth(L),T=fr.internal.getHeight(L),N=Math.min(O,T);return{x1:{x:(O-N)/2,y:(T-N)/2+N},x2:{x:(O-N)/2+N,y:(T-N)/2},x3:{x:(O-N)/2,y:(T-N)/2},x4:{x:(O-N)/2+N,y:(T-N)/2+N}}}},fr.internal.getWidth=function(L){var O=0;return E()(L)==="object"&&(O=Tt(L.Rect[2])),O},fr.internal.getHeight=function(L){var O=0;return E()(L)==="object"&&(O=Tt(L.Rect[3])),O};var rn=er.addField=function(L){if(We(this,L),!(L instanceof Ci))throw new Error("Invalid argument passed to jsPDF.addField.");var O;return(O=L).scope.internal.acroformPlugin.printedOut&&(O.scope.internal.acroformPlugin.printedOut=!1,O.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),O.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(O),L.page=L.scope.internal.getCurrentPageInfo().pageNumber,this};er.AcroFormChoiceField=ao,er.AcroFormListBox=Kn,er.AcroFormComboBox=ui,er.AcroFormEditBox=Li,er.AcroFormButton=_n,er.AcroFormPushButton=uo,er.AcroFormRadioButton=zn,er.AcroFormCheckBox=Wo,er.AcroFormTextField=Ji,er.AcroFormPasswordField=on,er.AcroFormAppearance=fr,er.AcroForm={ChoiceField:ao,ListBox:Kn,ComboBox:ui,EditBox:Li,Button:_n,PushButton:uo,RadioButton:zn,CheckBox:Wo,TextField:Ji,PasswordField:on,Appearance:fr},_e.AcroForm={ChoiceField:ao,ListBox:Kn,ComboBox:ui,EditBox:Li,Button:_n,PushButton:uo,RadioButton:zn,CheckBox:Wo,TextField:Ji,PasswordField:on,Appearance:fr},_e.AcroForm;function Ln(L){return L.reduce(function(O,T,N){return O[T]=N,O},{})}(function(L){L.__addimage__={};var O="UNKNOWN",T={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},N=L.__addimage__.getImageFileTypeByImageData=function(Zt,Jt){var Le,xe,yr,dr,Lr,nr=O;if((Jt=Jt||O)==="RGBA"||Zt.data!==void 0&&Zt.data instanceof Uint8ClampedArray&&"height"in Zt&&"width"in Zt)return"RGBA";if(Zr(Zt))for(Lr in T)for(yr=T[Lr],Le=0;Le<yr.length;Le+=1){for(dr=!0,xe=0;xe<yr[Le].length;xe+=1)if(yr[Le][xe]!==void 0&&yr[Le][xe]!==Zt[xe]){dr=!1;break}if(dr===!0){nr=Lr;break}}else for(Lr in T)for(yr=T[Lr],Le=0;Le<yr.length;Le+=1){for(dr=!0,xe=0;xe<yr[Le].length;xe+=1)if(yr[Le][xe]!==void 0&&yr[Le][xe]!==Zt.charCodeAt(xe)){dr=!1;break}if(dr===!0){nr=Lr;break}}return nr===O&&Jt!==O&&(nr=Jt),nr},W=function Zt(Jt){for(var Le=this.internal.write,xe=this.internal.putStream,yr=(0,this.internal.getFilters)();yr.indexOf("FlateEncode")!==-1;)yr.splice(yr.indexOf("FlateEncode"),1);Jt.objectId=this.internal.newObject();var dr=[];if(dr.push({key:"Type",value:"/XObject"}),dr.push({key:"Subtype",value:"/Image"}),dr.push({key:"Width",value:Jt.width}),dr.push({key:"Height",value:Jt.height}),Jt.colorSpace===Te.INDEXED?dr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Jt.palette.length/3-1)+" "+("sMask"in Jt&&Jt.sMask!==void 0?Jt.objectId+2:Jt.objectId+1)+" 0 R]"}):(dr.push({key:"ColorSpace",value:"/"+Jt.colorSpace}),Jt.colorSpace===Te.DEVICE_CMYK&&dr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),dr.push({key:"BitsPerComponent",value:Jt.bitsPerComponent}),"decodeParameters"in Jt&&Jt.decodeParameters!==void 0&&dr.push({key:"DecodeParms",value:"<<"+Jt.decodeParameters+">>"}),"transparency"in Jt&&Array.isArray(Jt.transparency)){for(var Lr="",nr=0,ur=Jt.transparency.length;nr<ur;nr++)Lr+=Jt.transparency[nr]+" "+Jt.transparency[nr]+" ";dr.push({key:"Mask",value:"["+Lr+"]"})}Jt.sMask!==void 0&&dr.push({key:"SMask",value:Jt.objectId+1+" 0 R"});var Or=Jt.filter!==void 0?["/"+Jt.filter]:void 0;if(xe({data:Jt.data,additionalKeyValues:dr,alreadyAppliedFilters:Or,objectId:Jt.objectId}),Le("endobj"),"sMask"in Jt&&Jt.sMask!==void 0){var xn="/Predictor "+Jt.predictor+" /Colors 1 /BitsPerComponent "+Jt.bitsPerComponent+" /Columns "+Jt.width,It={width:Jt.width,height:Jt.height,colorSpace:"DeviceGray",bitsPerComponent:Jt.bitsPerComponent,decodeParameters:xn,data:Jt.sMask};"filter"in Jt&&(It.filter=Jt.filter),Zt.call(this,It)}if(Jt.colorSpace===Te.INDEXED){var oe=this.internal.newObject();xe({data:je(new Uint8Array(Jt.palette)),objectId:oe}),Le("endobj")}},D=function(){var Zt=this.internal.collections.addImage_images;for(var Jt in Zt)W.call(this,Zt[Jt])},X=function(){var Zt,Jt=this.internal.collections.addImage_images,Le=this.internal.write;for(var xe in Jt)Le("/I"+(Zt=Jt[xe]).index,Zt.objectId,"0","R")},rt=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",D),this.internal.events.subscribe("putXobjectDict",X))},st=function(){var Zt=this.internal.collections.addImage_images;return rt.call(this),Zt},_t=function(){return Object.keys(this.internal.collections.addImage_images).length},Bt=function(Zt){return typeof L["process"+Zt.toUpperCase()]=="function"},Ut=function(Zt){return E()(Zt)==="object"&&Zt.nodeType===1},Xt=function(Zt,Jt){if(Zt.nodeName==="IMG"&&Zt.hasAttribute("src")){var Le=""+Zt.getAttribute("src");if(Le.indexOf("data:image/")===0)return q(unescape(Le).split("base64,").pop());var xe=L.loadFile(Le,!0);if(xe!==void 0)return xe}if(Zt.nodeName==="CANVAS"){if(Zt.width===0||Zt.height===0)throw new Error("Given canvas must have data. Canvas width: "+Zt.width+", height: "+Zt.height);var yr;switch(Jt){case"PNG":yr="image/png";break;case"WEBP":yr="image/webp";break;case"JPEG":case"JPG":default:yr="image/jpeg"}return q(Zt.toDataURL(yr,1).split("base64,").pop())}},pt=function(Zt){var Jt=this.internal.collections.addImage_images;if(Jt){for(var Le in Jt)if(Zt===Jt[Le].alias)return Jt[Le]}},ce=function(Zt,Jt,Le){return Zt||Jt||(Zt=-96,Jt=-96),Zt<0&&(Zt=-1*Le.width*72/Zt/this.internal.scaleFactor),Jt<0&&(Jt=-1*Le.height*72/Jt/this.internal.scaleFactor),Zt===0&&(Zt=Jt*Le.width/Le.height),Jt===0&&(Jt=Zt*Le.height/Le.width),[Zt,Jt]},ne=function(Zt,Jt,Le,xe,yr,dr){var Lr=ce.call(this,Le,xe,yr),nr=this.internal.getCoordinateString,ur=this.internal.getVerticalCoordinateString,Or=st.call(this);if(Le=Lr[0],xe=Lr[1],Or[yr.index]=yr,dr){dr*=Math.PI/180;var xn=Math.cos(dr),It=Math.sin(dr),oe=function(Ce){return Ce.toFixed(4)},ge=[oe(xn),oe(It),oe(-1*It),oe(xn),0,0,"cm"]}this.internal.write("q"),dr?(this.internal.write([1,"0","0",1,nr(Zt),ur(Jt+xe),"cm"].join(" ")),this.internal.write(ge.join(" ")),this.internal.write([nr(Le),"0","0",nr(xe),"0","0","cm"].join(" "))):this.internal.write([nr(Le),"0","0",nr(xe),nr(Zt),ur(Jt+xe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+yr.index+" Do"),this.internal.write("Q")},Te=L.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};L.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Yt=L.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},pe=L.__addimage__.sHashCode=function(Zt){var Jt,Le,xe=0;if(typeof Zt=="string")for(Le=Zt.length,Jt=0;Jt<Le;Jt++)xe=(xe<<5)-xe+Zt.charCodeAt(Jt),xe|=0;else if(Zr(Zt))for(Le=Zt.byteLength/2,Jt=0;Jt<Le;Jt++)xe=(xe<<5)-xe+Zt[Jt],xe|=0;return xe},ze=L.__addimage__.validateStringAsBase64=function(Zt){(Zt=Zt||"").toString().trim();var Jt=!0;return Zt.length===0&&(Jt=!1),Zt.length%4!=0&&(Jt=!1),/^[A-Za-z0-9+/]+$/.test(Zt.substr(0,Zt.length-2))===!1&&(Jt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Zt.substr(-2))===!1&&(Jt=!1),Jt},sr=L.__addimage__.extractImageFromDataUrl=function(Zt){var Jt=(Zt=Zt||"").split("base64,"),Le=null;if(Jt.length===2){var xe=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Jt[0]);Array.isArray(xe)&&(Le={mimeType:xe[1],charset:xe[2],data:Jt[1]})}return Le},Tr=L.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};L.__addimage__.isArrayBuffer=function(Zt){return Tr()&&Zt instanceof ArrayBuffer};var Zr=L.__addimage__.isArrayBufferView=function(Zt){return Tr()&&typeof Uint32Array!="undefined"&&(Zt instanceof Int8Array||Zt instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&Zt instanceof Uint8ClampedArray||Zt instanceof Int16Array||Zt instanceof Uint16Array||Zt instanceof Int32Array||Zt instanceof Uint32Array||Zt instanceof Float32Array||Zt instanceof Float64Array)},pr=L.__addimage__.binaryStringToUint8Array=function(Zt){for(var Jt=Zt.length,Le=new Uint8Array(Jt),xe=0;xe<Jt;xe++)Le[xe]=Zt.charCodeAt(xe);return Le},je=L.__addimage__.arrayBufferToBinaryString=function(Zt){for(var Jt="",Le=Zr(Zt)?Zt:new Uint8Array(Zt),xe=0;xe<Le.length;xe+=8192)Jt+=String.fromCharCode.apply(null,Le.subarray(xe,xe+8192));return Jt};L.addImage=function(){var Zt,Jt,Le,xe,yr,dr,Lr,nr,ur;if(typeof arguments[1]=="number"?(Jt=O,Le=arguments[1],xe=arguments[2],yr=arguments[3],dr=arguments[4],Lr=arguments[5],nr=arguments[6],ur=arguments[7]):(Jt=arguments[1],Le=arguments[2],xe=arguments[3],yr=arguments[4],dr=arguments[5],Lr=arguments[6],nr=arguments[7],ur=arguments[8]),E()(Zt=arguments[0])==="object"&&!Ut(Zt)&&"imageData"in Zt){var Or=Zt;Zt=Or.imageData,Jt=Or.format||Jt||O,Le=Or.x||Le||0,xe=Or.y||xe||0,yr=Or.w||Or.width||yr,dr=Or.h||Or.height||dr,Lr=Or.alias||Lr,nr=Or.compression||nr,ur=Or.rotation||Or.angle||ur}var xn=this.internal.getFilters();if(nr===void 0&&xn.indexOf("FlateEncode")!==-1&&(nr="SLOW"),isNaN(Le)||isNaN(xe))throw new Error("Invalid coordinates passed to jsPDF.addImage");rt.call(this);var It=Rr.call(this,Zt,Jt,Lr,nr);return ne.call(this,Le,xe,yr,dr,It,ur),this};var Rr=function(Zt,Jt,Le,xe){var yr,dr,Lr;if(typeof Zt=="string"&&N(Zt)===O){Zt=unescape(Zt);var nr=vr(Zt,!1);(nr!==""||(nr=L.loadFile(Zt,!0))!==void 0)&&(Zt=nr)}if(Ut(Zt)&&(Zt=Xt(Zt,Jt)),Jt=N(Zt,Jt),!Bt(Jt))throw new Error("addImage does not support files of type '"+Jt+"', please ensure that a plugin for '"+Jt+"' support is added.");if(((Lr=Le)==null||Lr.length===0)&&(Le=function(ur){return typeof ur=="string"||Zr(ur)?pe(ur):Zr(ur.data)?pe(ur.data):null}(Zt)),(yr=pt.call(this,Le))||(Tr()&&(Zt instanceof Uint8Array||Jt==="RGBA"||(dr=Zt,Zt=pr(Zt))),yr=this["process"+Jt.toUpperCase()](Zt,_t.call(this),Le,function(ur){return ur&&typeof ur=="string"&&(ur=ur.toUpperCase()),ur in L.image_compression?ur:Yt.NONE}(xe),dr)),!yr)throw new Error("An unknown error occurred whilst processing the image.");return yr},vr=L.__addimage__.convertBase64ToBinaryString=function(Zt,Jt){var Le;Jt=typeof Jt!="boolean"||Jt;var xe,yr="";if(typeof Zt=="string"){xe=(Le=sr(Zt))!==null?Le.data:Zt;try{yr=q(xe)}catch(dr){if(Jt)throw ze(xe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+dr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return yr};L.getImageProperties=function(Zt){var Jt,Le,xe="";if(Ut(Zt)&&(Zt=Xt(Zt)),typeof Zt=="string"&&N(Zt)===O&&((xe=vr(Zt,!1))===""&&(xe=L.loadFile(Zt)||""),Zt=xe),Le=N(Zt),!Bt(Le))throw new Error("addImage does not support files of type '"+Le+"', please ensure that a plugin for '"+Le+"' support is added.");if(!Tr()||Zt instanceof Uint8Array||(Zt=pr(Zt)),!(Jt=this["process"+Le.toUpperCase()](Zt)))throw new Error("An unknown error occurred whilst processing the image");return Jt.fileType=Le,Jt}})(_e.API),function(L){var O=function(T){if(T!==void 0&&T!="")return!0};_e.API.events.push(["addPage",function(T){this.internal.getPageInfo(T.pageNumber).pageContext.annotations=[]}]),L.events.push(["putPage",function(T){for(var N,W,D,X=this.internal.getCoordinateString,rt=this.internal.getVerticalCoordinateString,st=this.internal.getPageInfoByObjId(T.objId),_t=T.pageContext.annotations,Bt=!1,Ut=0;Ut<_t.length&&!Bt;Ut++)switch((N=_t[Ut]).type){case"link":(O(N.options.url)||O(N.options.pageNumber))&&(Bt=!0);break;case"reference":case"text":case"freetext":Bt=!0}if(Bt!=0){this.internal.write("/Annots [");for(var Xt=0;Xt<_t.length;Xt++){N=_t[Xt];var pt=this.internal.pdfEscape,ce=this.internal.getEncryptor(T.objId);switch(N.type){case"reference":this.internal.write(" "+N.object.objId+" 0 R ");break;case"text":var ne=this.internal.newAdditionalObject(),Te=this.internal.newAdditionalObject(),Yt=this.internal.getEncryptor(ne.objId),pe=N.title||"Note";D="<</Type /Annot /Subtype /Text "+(W="/Rect ["+X(N.bounds.x)+" "+rt(N.bounds.y+N.bounds.h)+" "+X(N.bounds.x+N.bounds.w)+" "+rt(N.bounds.y)+"] ")+"/Contents ("+pt(Yt(N.contents))+")",D+=" /Popup "+Te.objId+" 0 R",D+=" /P "+st.objId+" 0 R",D+=" /T ("+pt(Yt(pe))+") >>",ne.content=D;var ze=ne.objId+" 0 R";D="<</Type /Annot /Subtype /Popup "+(W="/Rect ["+X(N.bounds.x+30)+" "+rt(N.bounds.y+N.bounds.h)+" "+X(N.bounds.x+N.bounds.w+30)+" "+rt(N.bounds.y)+"] ")+" /Parent "+ze,N.open&&(D+=" /Open true"),D+=" >>",Te.content=D,this.internal.write(ne.objId,"0 R",Te.objId,"0 R");break;case"freetext":W="/Rect ["+X(N.bounds.x)+" "+rt(N.bounds.y)+" "+X(N.bounds.x+N.bounds.w)+" "+rt(N.bounds.y+N.bounds.h)+"] ";var sr=N.color||"#000000";D="<</Type /Annot /Subtype /FreeText "+W+"/Contents ("+pt(ce(N.contents))+")",D+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+sr+")",D+=" /Border [0 0 0]",D+=" >>",this.internal.write(D);break;case"link":if(N.options.name){var Tr=this.annotations._nameMap[N.options.name];N.options.pageNumber=Tr.page,N.options.top=Tr.y}else N.options.top||(N.options.top=0);if(W="/Rect ["+N.finalBounds.x+" "+N.finalBounds.y+" "+N.finalBounds.w+" "+N.finalBounds.h+"] ",D="",N.options.url)D="<</Type /Annot /Subtype /Link "+W+"/Border [0 0 0] /A <</S /URI /URI ("+pt(ce(N.options.url))+") >>";else if(N.options.pageNumber)switch(D="<</Type /Annot /Subtype /Link "+W+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(N.options.pageNumber).objId+" 0 R",N.options.magFactor=N.options.magFactor||"XYZ",N.options.magFactor){case"Fit":D+=" /Fit]";break;case"FitH":D+=" /FitH "+N.options.top+"]";break;case"FitV":N.options.left=N.options.left||0,D+=" /FitV "+N.options.left+"]";break;case"XYZ":default:var Zr=rt(N.options.top);N.options.left=N.options.left||0,N.options.zoom===void 0&&(N.options.zoom=0),D+=" /XYZ "+N.options.left+" "+Zr+" "+N.options.zoom+"]"}D!=""&&(D+=" >>",this.internal.write(D))}}this.internal.write("]")}}]),L.createAnnotation=function(T){var N=this.internal.getCurrentPageInfo();switch(T.type){case"link":this.link(T.bounds.x,T.bounds.y,T.bounds.w,T.bounds.h,T);break;case"text":case"freetext":N.pageContext.annotations.push(T)}},L.link=function(T,N,W,D,X){var rt=this.internal.getCurrentPageInfo(),st=this.internal.getCoordinateString,_t=this.internal.getVerticalCoordinateString;rt.pageContext.annotations.push({finalBounds:{x:st(T),y:_t(N),w:st(T+W),h:_t(N+D)},options:X,type:"link"})},L.textWithLink=function(T,N,W,D){var X,rt,st=this.getTextWidth(T),_t=this.internal.getLineHeight()/this.internal.scaleFactor;if(D.maxWidth!==void 0){rt=D.maxWidth;var Bt=this.splitTextToSize(T,rt).length;X=Math.ceil(_t*Bt)}else rt=st,X=_t;return this.text(T,N,W,D),W+=.2*_t,D.align==="center"&&(N-=st/2),D.align==="right"&&(N-=st),this.link(N,W-_t,rt,X,D),st},L.getTextWidth=function(T){var N=this.internal.getFontSize();return this.getStringUnitWidth(T)*N/this.internal.scaleFactor}}(_e.API),function(L){var O={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},T={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},N={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},W=[1570,1571,1573,1575];L.__arabicParser__={};var D=L.__arabicParser__.isInArabicSubstitutionA=function(ne){return O[ne.charCodeAt(0)]!==void 0},X=L.__arabicParser__.isArabicLetter=function(ne){return typeof ne=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ne)},rt=L.__arabicParser__.isArabicEndLetter=function(ne){return X(ne)&&D(ne)&&O[ne.charCodeAt(0)].length<=2},st=L.__arabicParser__.isArabicAlfLetter=function(ne){return X(ne)&&W.indexOf(ne.charCodeAt(0))>=0};L.__arabicParser__.arabicLetterHasIsolatedForm=function(ne){return X(ne)&&D(ne)&&O[ne.charCodeAt(0)].length>=1};var _t=L.__arabicParser__.arabicLetterHasFinalForm=function(ne){return X(ne)&&D(ne)&&O[ne.charCodeAt(0)].length>=2};L.__arabicParser__.arabicLetterHasInitialForm=function(ne){return X(ne)&&D(ne)&&O[ne.charCodeAt(0)].length>=3};var Bt=L.__arabicParser__.arabicLetterHasMedialForm=function(ne){return X(ne)&&D(ne)&&O[ne.charCodeAt(0)].length==4},Ut=L.__arabicParser__.resolveLigatures=function(ne){var Te=0,Yt=T,pe="",ze=0;for(Te=0;Te<ne.length;Te+=1)Yt[ne.charCodeAt(Te)]!==void 0?(ze++,typeof(Yt=Yt[ne.charCodeAt(Te)])=="number"&&(pe+=String.fromCharCode(Yt),Yt=T,ze=0),Te===ne.length-1&&(Yt=T,pe+=ne.charAt(Te-(ze-1)),Te-=ze-1,ze=0)):(Yt=T,pe+=ne.charAt(Te-ze),Te-=ze,ze=0);return pe};L.__arabicParser__.isArabicDiacritic=function(ne){return ne!==void 0&&N[ne.charCodeAt(0)]!==void 0};var Xt=L.__arabicParser__.getCorrectForm=function(ne,Te,Yt){return X(ne)?D(ne)===!1?-1:!_t(ne)||!X(Te)&&!X(Yt)||!X(Yt)&&rt(Te)||rt(ne)&&!X(Te)||rt(ne)&&st(Te)||rt(ne)&&rt(Te)?0:Bt(ne)&&X(Te)&&!rt(Te)&&X(Yt)&&_t(Yt)?3:rt(ne)||!X(Yt)?1:2:-1},pt=function(ne){var Te=0,Yt=0,pe=0,ze="",sr="",Tr="",Zr=(ne=ne||"").split("\\s+"),pr=[];for(Te=0;Te<Zr.length;Te+=1){for(pr.push(""),Yt=0;Yt<Zr[Te].length;Yt+=1)ze=Zr[Te][Yt],sr=Zr[Te][Yt-1],Tr=Zr[Te][Yt+1],X(ze)?(pe=Xt(ze,sr,Tr),pr[Te]+=pe!==-1?String.fromCharCode(O[ze.charCodeAt(0)][pe]):ze):pr[Te]+=ze;pr[Te]=Ut(pr[Te])}return pr.join(" ")},ce=L.__arabicParser__.processArabic=L.processArabic=function(){var ne,Te=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Yt=[];if(Array.isArray(Te)){var pe=0;for(Yt=[],pe=0;pe<Te.length;pe+=1)Array.isArray(Te[pe])?Yt.push([pt(Te[pe][0]),Te[pe][1],Te[pe][2]]):Yt.push([pt(Te[pe])]);ne=Yt}else ne=pt(Te);return typeof arguments[0]=="string"?ne:(arguments[0].text=ne,arguments[0])};L.events.push(["preProcessText",ce])}(_e.API),_e.API.autoPrint=function(L){var O;switch((L=L||{}).variant=L.variant||"non-conform",L.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){O=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+O+" 0 R")})}return this},function(L){var O=function(){var T=void 0;Object.defineProperty(this,"pdf",{get:function(){return T},set:function(rt){T=rt}});var N=150;Object.defineProperty(this,"width",{get:function(){return N},set:function(rt){N=isNaN(rt)||Number.isInteger(rt)===!1||rt<0?150:rt,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=N+1)}});var W=300;Object.defineProperty(this,"height",{get:function(){return W},set:function(rt){W=isNaN(rt)||Number.isInteger(rt)===!1||rt<0?300:rt,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=W+1)}});var D=[];Object.defineProperty(this,"childNodes",{get:function(){return D},set:function(rt){D=rt}});var X={};Object.defineProperty(this,"style",{get:function(){return X},set:function(rt){X=rt}}),Object.defineProperty(this,"parentNode",{})};O.prototype.getContext=function(T,N){var W;if((T=T||"2d")!=="2d")return null;for(W in N)this.pdf.context2d.hasOwnProperty(W)&&(this.pdf.context2d[W]=N[W]);return this.pdf.context2d._canvas=this,this.pdf.context2d},O.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},L.events.push(["initialized",function(){this.canvas=new O,this.canvas.pdf=this}])}(_e.API),function(L){var O={left:0,top:0,bottom:0,right:0},T=!1,N=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},O),this.internal.__cell__.margins.width=this.getPageWidth(),W.call(this))},W=function(){this.internal.__cell__.lastCell=new D,this.internal.__cell__.pages=1},D=function(){var st=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return st},set:function(ne){st=ne}});var _t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _t},set:function(ne){_t=ne}});var Bt=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Bt},set:function(ne){Bt=ne}});var Ut=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ut},set:function(ne){Ut=ne}});var Xt=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Xt},set:function(ne){Xt=ne}});var pt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return pt},set:function(ne){pt=ne}});var ce=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ce},set:function(ne){ce=ne}}),this};D.prototype.clone=function(){return new D(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},D.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},L.setHeaderFunction=function(st){return N.call(this),this.internal.__cell__.headerFunction=typeof st=="function"?st:void 0,this},L.getTextDimensions=function(st,_t){N.call(this);var Bt=(_t=_t||{}).fontSize||this.getFontSize(),Ut=_t.font||this.getFont(),Xt=_t.scaleFactor||this.internal.scaleFactor,pt=0,ce=0,ne=0,Te=this;if(!Array.isArray(st)&&typeof st!="string"){if(typeof st!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");st=String(st)}var Yt=_t.maxWidth;Yt>0?typeof st=="string"?st=this.splitTextToSize(st,Yt):Object.prototype.toString.call(st)==="[object Array]"&&(st=st.reduce(function(ze,sr){return ze.concat(Te.splitTextToSize(sr,Yt))},[])):st=Array.isArray(st)?st:[st];for(var pe=0;pe<st.length;pe++)pt<(ne=this.getStringUnitWidth(st[pe],{font:Ut})*Bt)&&(pt=ne);return pt!==0&&(ce=st.length),{w:pt/=Xt,h:Math.max((ce*Bt*this.getLineHeightFactor()-Bt*(this.getLineHeightFactor()-1))/Xt,0)}},L.cellAddPage=function(){N.call(this),this.addPage();var st=this.internal.__cell__.margins||O;return this.internal.__cell__.lastCell=new D(st.left,st.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var X=L.cell=function(){var st;st=arguments[0]instanceof D?arguments[0]:new D(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),N.call(this);var _t=this.internal.__cell__.lastCell,Bt=this.internal.__cell__.padding,Ut=this.internal.__cell__.margins||O,Xt=this.internal.__cell__.tableHeaderRow,pt=this.internal.__cell__.printHeaders;return _t.lineNumber!==void 0&&(_t.lineNumber===st.lineNumber?(st.x=(_t.x||0)+(_t.width||0),st.y=_t.y||0):_t.y+_t.height+st.height+Ut.bottom>this.getPageHeight()?(this.cellAddPage(),st.y=Ut.top,pt&&Xt&&(this.printHeaderRow(st.lineNumber,!0),st.y+=Xt[0].height)):st.y=_t.y+_t.height||st.y),st.text[0]!==void 0&&(this.rect(st.x,st.y,st.width,st.height,T===!0?"FD":void 0),st.align==="right"?this.text(st.text,st.x+st.width-Bt,st.y+Bt,{align:"right",baseline:"top"}):st.align==="center"?this.text(st.text,st.x+st.width/2,st.y+Bt,{align:"center",baseline:"top",maxWidth:st.width-Bt-Bt}):this.text(st.text,st.x+Bt,st.y+Bt,{align:"left",baseline:"top",maxWidth:st.width-Bt-Bt})),this.internal.__cell__.lastCell=st,this};L.table=function(st,_t,Bt,Ut,Xt){if(N.call(this),!Bt)throw new Error("No data for PDF table.");var pt,ce,ne,Te,Yt=[],pe=[],ze=[],sr={},Tr={},Zr=[],pr=[],je=(Xt=Xt||{}).autoSize||!1,Rr=Xt.printHeaders!==!1,vr=Xt.css&&Xt.css["font-size"]!==void 0?16*Xt.css["font-size"]:Xt.fontSize||12,Zt=Xt.margins||Object.assign({width:this.getPageWidth()},O),Jt=typeof Xt.padding=="number"?Xt.padding:3,Le=Xt.headerBackgroundColor||"#c8c8c8",xe=Xt.headerTextColor||"#000";if(W.call(this),this.internal.__cell__.printHeaders=Rr,this.internal.__cell__.margins=Zt,this.internal.__cell__.table_font_size=vr,this.internal.__cell__.padding=Jt,this.internal.__cell__.headerBackgroundColor=Le,this.internal.__cell__.headerTextColor=xe,this.setFontSize(vr),Ut==null)pe=Yt=Object.keys(Bt[0]),ze=Yt.map(function(){return"left"});else if(Array.isArray(Ut)&&E()(Ut[0])==="object")for(Yt=Ut.map(function(Or){return Or.name}),pe=Ut.map(function(Or){return Or.prompt||Or.name||""}),ze=Ut.map(function(Or){return Or.align||"left"}),pt=0;pt<Ut.length;pt+=1)Tr[Ut[pt].name]=Ut[pt].width*(19.049976/25.4);else Array.isArray(Ut)&&typeof Ut[0]=="string"&&(pe=Yt=Ut,ze=Yt.map(function(){return"left"}));if(je||Array.isArray(Ut)&&typeof Ut[0]=="string")for(pt=0;pt<Yt.length;pt+=1){for(sr[Te=Yt[pt]]=Bt.map(function(Or){return Or[Te]}),this.setFont(void 0,"bold"),Zr.push(this.getTextDimensions(pe[pt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ce=sr[Te],this.setFont(void 0,"normal"),ne=0;ne<ce.length;ne+=1)Zr.push(this.getTextDimensions(ce[ne],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Tr[Te]=Math.max.apply(null,Zr)+Jt+Jt,Zr=[]}if(Rr){var yr={};for(pt=0;pt<Yt.length;pt+=1)yr[Yt[pt]]={},yr[Yt[pt]].text=pe[pt],yr[Yt[pt]].align=ze[pt];var dr=rt.call(this,yr,Tr);pr=Yt.map(function(Or){return new D(st,_t,Tr[Or],dr,yr[Or].text,void 0,yr[Or].align)}),this.setTableHeaderRow(pr),this.printHeaderRow(1,!1)}var Lr=Ut.reduce(function(Or,xn){return Or[xn.name]=xn.align,Or},{});for(pt=0;pt<Bt.length;pt+=1){"rowStart"in Xt&&Xt.rowStart instanceof Function&&Xt.rowStart({row:pt,data:Bt[pt]},this);var nr=rt.call(this,Bt[pt],Tr);for(ne=0;ne<Yt.length;ne+=1){var ur=Bt[pt][Yt[ne]];"cellStart"in Xt&&Xt.cellStart instanceof Function&&Xt.cellStart({row:pt,col:ne,data:ur},this),X.call(this,new D(st,_t,Tr[Yt[ne]],nr,ur,pt+2,Lr[Yt[ne]]))}}return this.internal.__cell__.table_x=st,this.internal.__cell__.table_y=_t,this};var rt=function(st,_t){var Bt=this.internal.__cell__.padding,Ut=this.internal.__cell__.table_font_size,Xt=this.internal.scaleFactor;return Object.keys(st).map(function(pt){var ce=st[pt];return this.splitTextToSize(ce.hasOwnProperty("text")?ce.text:ce,_t[pt]-Bt-Bt)},this).map(function(pt){return this.getLineHeightFactor()*pt.length*Ut/Xt+Bt+Bt},this).reduce(function(pt,ce){return Math.max(pt,ce)},0)};L.setTableHeaderRow=function(st){N.call(this),this.internal.__cell__.tableHeaderRow=st},L.printHeaderRow=function(st,_t){if(N.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Bt;if(T=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ut=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new D(Ut[0],Ut[1],Ut[2],Ut[3],void 0,-1)}this.setFont(void 0,"bold");for(var Xt=[],pt=0;pt<this.internal.__cell__.tableHeaderRow.length;pt+=1){Bt=this.internal.__cell__.tableHeaderRow[pt].clone(),_t&&(Bt.y=this.internal.__cell__.margins.top||0,Xt.push(Bt)),Bt.lineNumber=st;var ce=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),X.call(this,Bt),this.setTextColor(ce)}Xt.length>0&&this.setTableHeaderRow(Xt),this.setFont(void 0,"normal"),T=!1}}(_e.API);var hi={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bi=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tn=Ln(bi),en=[100,200,300,400,500,600,700,800,900],Ti=Ln(en);function Io(L){var O=L.family.replace(/"|'/g,"").toLowerCase(),T=function(D){return hi[D=D||"normal"]?D:"normal"}(L.style),N=function(D){if(!D)return 400;if(typeof D=="number")return D>=100&&D<=900&&D%100==0?D:400;if(/^\d00$/.test(D))return parseInt(D);switch(D){case"bold":return 700;case"normal":default:return 400}}(L.weight),W=function(D){return typeof Tn[D=D||"normal"]=="number"?D:"normal"}(L.stretch);return{family:O,style:T,weight:N,stretch:W,src:L.src||[],ref:L.ref||{name:O,style:[W,T,N].join(" ")}}}function ya(L,O,T,N){var W;for(W=T;W>=0&&W<O.length;W+=N)if(L[O[W]])return L[O[W]];for(W=T;W>=0&&W<O.length;W-=N)if(L[O[W]])return L[O[W]]}var ei={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zl={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ts(L){return[L.stretch,L.style,L.weight,L.family].join(" ")}function Bs(L,O,T){for(var N=(T=T||{}).defaultFontFamily||"times",W=Object.assign({},ei,T.genericFontFamilies||{}),D=null,X=null,rt=0;rt<O.length;++rt)if(W[(D=Io(O[rt])).family]&&(D.family=W[D.family]),L.hasOwnProperty(D.family)){X=L[D.family];break}if(!(X=X||L[N]))throw new Error("Could not find a font-family for the rule '"+Ts(D)+"' and default family '"+N+"'.");if(X=function(st,_t){if(_t[st])return _t[st];var Bt=Tn[st],Ut=Bt<=Tn.normal?-1:1,Xt=ya(_t,bi,Bt,Ut);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+st);return Xt}(D.stretch,X),X=function(st,_t){if(_t[st])return _t[st];for(var Bt=hi[st],Ut=0;Ut<Bt.length;++Ut)if(_t[Bt[Ut]])return _t[Bt[Ut]];throw new Error("Could not find a matching font-style for "+st)}(D.style,X),!(X=function(st,_t){if(_t[st])return _t[st];if(st===400&&_t[500])return _t[500];if(st===500&&_t[400])return _t[400];var Bt=Ti[st],Ut=ya(_t,en,Bt,st<400?-1:1);if(!Ut)throw new Error("Could not find a matching font-weight for value "+st);return Ut}(D.weight,X)))throw new Error("Failed to resolve a font for the rule '"+Ts(D)+"'.");return X}function co(L){return L.trimLeft()}function Yu(L,O){for(var T=0;T<L.length;){if(L.charAt(T)===O)return[L.substring(0,T),L.substring(T+1)];T+=1}return null}function Za(L){var O=L.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return O===null?null:[O[0],L.substring(O[0].length)]}var Ja,_a,tl,Xu=["times"];(function(L){var O,T,N,W,D,X,rt,st,_t,Bt=function(It){return It=It||{},this.isStrokeTransparent=It.isStrokeTransparent||!1,this.strokeOpacity=It.strokeOpacity||1,this.strokeStyle=It.strokeStyle||"#000000",this.fillStyle=It.fillStyle||"#000000",this.isFillTransparent=It.isFillTransparent||!1,this.fillOpacity=It.fillOpacity||1,this.font=It.font||"10px sans-serif",this.textBaseline=It.textBaseline||"alphabetic",this.textAlign=It.textAlign||"left",this.lineWidth=It.lineWidth||1,this.lineJoin=It.lineJoin||"miter",this.lineCap=It.lineCap||"butt",this.path=It.path||[],this.transform=It.transform!==void 0?It.transform.clone():new st,this.globalCompositeOperation=It.globalCompositeOperation||"normal",this.globalAlpha=It.globalAlpha||1,this.clip_path=It.clip_path||[],this.currentPoint=It.currentPoint||new X,this.miterLimit=It.miterLimit||10,this.lastPoint=It.lastPoint||new X,this.lineDashOffset=It.lineDashOffset||0,this.lineDash=It.lineDash||[],this.margin=It.margin||[0,0,0,0],this.prevPageLastElemOffset=It.prevPageLastElemOffset||0,this.ignoreClearRect=typeof It.ignoreClearRect!="boolean"||It.ignoreClearRect,this};L.events.push(["initialized",function(){this.context2d=new Ut(this),O=this.internal.f2,T=this.internal.getCoordinateString,N=this.internal.getVerticalCoordinateString,W=this.internal.getHorizontalCoordinate,D=this.internal.getVerticalCoordinate,X=this.internal.Point,rt=this.internal.Rectangle,st=this.internal.Matrix,_t=new Bt}]);var Ut=function(It){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var oe=It;Object.defineProperty(this,"pdf",{get:function(){return oe}});var ge=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ge},set:function(mr){ge=Boolean(mr)}});var Ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ce},set:function(mr){Ce=Boolean(mr)}});var Ge=0;Object.defineProperty(this,"posX",{get:function(){return Ge},set:function(mr){isNaN(mr)||(Ge=mr)}});var qe=0;Object.defineProperty(this,"posY",{get:function(){return qe},set:function(mr){isNaN(mr)||(qe=mr)}}),Object.defineProperty(this,"margin",{get:function(){return _t.margin},set:function(mr){var fe;typeof mr=="number"?fe=[mr,mr,mr,mr]:((fe=new Array(4))[0]=mr[0],fe[1]=mr.length>=2?mr[1]:fe[0],fe[2]=mr.length>=3?mr[2]:fe[0],fe[3]=mr.length>=4?mr[3]:fe[1]),_t.margin=fe}});var ir=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ir},set:function(mr){ir=mr}});var rr=0;Object.defineProperty(this,"lastBreak",{get:function(){return rr},set:function(mr){rr=mr}});var Jr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jr},set:function(mr){Jr=mr}}),Object.defineProperty(this,"ctx",{get:function(){return _t},set:function(mr){mr instanceof Bt&&(_t=mr)}}),Object.defineProperty(this,"path",{get:function(){return _t.path},set:function(mr){_t.path=mr}});var Yr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Yr},set:function(mr){Yr=mr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(mr){var fe;fe=Xt(mr),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(mr){var fe=Xt(mr);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(mr){["butt","round","square"].indexOf(mr)!==-1&&(this.ctx.lineCap=mr,this.pdf.setLineCap(mr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(mr){isNaN(mr)||(this.ctx.lineWidth=mr,this.pdf.setLineWidth(mr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(mr){["bevel","round","miter"].indexOf(mr)!==-1&&(this.ctx.lineJoin=mr,this.pdf.setLineJoin(mr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(mr){isNaN(mr)||(this.ctx.miterLimit=mr,this.pdf.setMiterLimit(mr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(mr){this.ctx.textBaseline=mr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(mr){["right","end","center","left","start"].indexOf(mr)!==-1&&(this.ctx.textAlign=mr)}});var hn=null;function On(mr,fe){if(hn===null){var ci=function(An){var zr=[];return Object.keys(An).forEach(function(nn){An[nn].forEach(function(sn){var an=null;switch(sn){case"bold":an={family:nn,weight:"bold"};break;case"italic":an={family:nn,style:"italic"};break;case"bolditalic":an={family:nn,weight:"bold",style:"italic"};break;case"":case"normal":an={family:nn}}an!==null&&(an.ref={name:nn,style:sn},zr.push(an))})}),zr}(mr.getFontList());hn=function(An){for(var zr={},nn=0;nn<An.length;++nn){var sn=Io(An[nn]),an=sn.family,Bn=sn.stretch,di=sn.style,ai=sn.weight;zr[an]=zr[an]||{},zr[an][Bn]=zr[an][Bn]||{},zr[an][Bn][di]=zr[an][Bn][di]||{},zr[an][Bn][di][ai]=sn}return zr}(ci.concat(fe))}return hn}var Vn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Vn},set:function(mr){hn=null,Vn=mr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(mr){var fe;if(this.ctx.font=mr,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(mr))!==null){var ci=fe[1],An=(fe[2],fe[3]),zr=fe[4],nn=(fe[5],fe[6]),sn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(zr)[2];zr=Math.floor(sn==="px"?parseFloat(zr)*this.pdf.internal.scaleFactor:sn==="em"?parseFloat(zr)*this.pdf.getFontSize():parseFloat(zr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(zr);var an=function(Wn){var yi,vn,Da=[],Dn=Wn.trim();if(Dn==="")return Xu;if(Dn in zl)return[zl[Dn]];for(;Dn!=="";){switch(vn=null,yi=(Dn=co(Dn)).charAt(0)){case'"':case"'":vn=Yu(Dn.substring(1),yi);break;default:vn=Za(Dn)}if(vn===null||(Da.push(vn[0]),(Dn=co(vn[1]))!==""&&Dn.charAt(0)!==","))return Xu;Dn=Dn.replace(/^,/,"")}return Da}(nn);if(this.fontFaces){var Bn=Bs(On(this.pdf,this.fontFaces),an.map(function(Wn){return{family:Wn,stretch:"normal",weight:An,style:ci}}));this.pdf.setFont(Bn.ref.name,Bn.ref.style)}else{var di="";(An==="bold"||parseInt(An,10)>=700||ci==="bold")&&(di="bold"),ci==="italic"&&(di+="italic"),di.length===0&&(di="normal");for(var ai="",wi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zi=0;zi<an.length;zi++){if(this.pdf.internal.getFont(an[zi],di,{noFallback:!0,disableWarning:!0})!==void 0){ai=an[zi];break}if(di==="bolditalic"&&this.pdf.internal.getFont(an[zi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ai=an[zi],di="bold";else if(this.pdf.internal.getFont(an[zi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ai=an[zi],di="normal";break}}if(ai===""){for(var ri=0;ri<an.length;ri++)if(wi[an[ri]]){ai=wi[an[ri]];break}}ai=ai===""?"Times":ai,this.pdf.setFont(ai,di)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(mr){this.ctx.globalCompositeOperation=mr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(mr){this.ctx.globalAlpha=mr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(mr){this.ctx.lineDashOffset=mr,xn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(mr){this.ctx.lineDash=mr,xn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(mr){this.ctx.ignoreClearRect=Boolean(mr)}})};Ut.prototype.setLineDash=function(It){this.lineDash=It},Ut.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ut.prototype.fill=function(){sr.call(this,"fill",!1)},Ut.prototype.stroke=function(){sr.call(this,"stroke",!1)},Ut.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ut.prototype.moveTo=function(It,oe){if(isNaN(It)||isNaN(oe))throw k.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ge=this.ctx.transform.applyToPoint(new X(It,oe));this.path.push({type:"mt",x:ge.x,y:ge.y}),this.ctx.lastPoint=new X(It,oe)},Ut.prototype.closePath=function(){var It=new X(0,0),oe=0;for(oe=this.path.length-1;oe!==-1;oe--)if(this.path[oe].type==="begin"&&E()(this.path[oe+1])==="object"&&typeof this.path[oe+1].x=="number"){It=new X(this.path[oe+1].x,this.path[oe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new X(It.x,It.y)},Ut.prototype.lineTo=function(It,oe){if(isNaN(It)||isNaN(oe))throw k.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ge=this.ctx.transform.applyToPoint(new X(It,oe));this.path.push({type:"lt",x:ge.x,y:ge.y}),this.ctx.lastPoint=new X(ge.x,ge.y)},Ut.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),sr.call(this,null,!0)},Ut.prototype.quadraticCurveTo=function(It,oe,ge,Ce){if(isNaN(ge)||isNaN(Ce)||isNaN(It)||isNaN(oe))throw k.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ge=this.ctx.transform.applyToPoint(new X(ge,Ce)),qe=this.ctx.transform.applyToPoint(new X(It,oe));this.path.push({type:"qct",x1:qe.x,y1:qe.y,x:Ge.x,y:Ge.y}),this.ctx.lastPoint=new X(Ge.x,Ge.y)},Ut.prototype.bezierCurveTo=function(It,oe,ge,Ce,Ge,qe){if(isNaN(Ge)||isNaN(qe)||isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce))throw k.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ir=this.ctx.transform.applyToPoint(new X(Ge,qe)),rr=this.ctx.transform.applyToPoint(new X(It,oe)),Jr=this.ctx.transform.applyToPoint(new X(ge,Ce));this.path.push({type:"bct",x1:rr.x,y1:rr.y,x2:Jr.x,y2:Jr.y,x:ir.x,y:ir.y}),this.ctx.lastPoint=new X(ir.x,ir.y)},Ut.prototype.arc=function(It,oe,ge,Ce,Ge,qe){if(isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce)||isNaN(Ge))throw k.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(qe=Boolean(qe),!this.ctx.transform.isIdentity){var ir=this.ctx.transform.applyToPoint(new X(It,oe));It=ir.x,oe=ir.y;var rr=this.ctx.transform.applyToPoint(new X(0,ge)),Jr=this.ctx.transform.applyToPoint(new X(0,0));ge=Math.sqrt(Math.pow(rr.x-Jr.x,2)+Math.pow(rr.y-Jr.y,2))}Math.abs(Ge-Ce)>=2*Math.PI&&(Ce=0,Ge=2*Math.PI),this.path.push({type:"arc",x:It,y:oe,radius:ge,startAngle:Ce,endAngle:Ge,counterclockwise:qe})},Ut.prototype.arcTo=function(It,oe,ge,Ce,Ge){throw new Error("arcTo not implemented.")},Ut.prototype.rect=function(It,oe,ge,Ce){if(isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce))throw k.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(It,oe),this.lineTo(It+ge,oe),this.lineTo(It+ge,oe+Ce),this.lineTo(It,oe+Ce),this.lineTo(It,oe),this.lineTo(It+ge,oe),this.lineTo(It,oe)},Ut.prototype.fillRect=function(It,oe,ge,Ce){if(isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce))throw k.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!pt.call(this)){var Ge={};this.lineCap!=="butt"&&(Ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(It,oe,ge,Ce),this.fill(),Ge.hasOwnProperty("lineCap")&&(this.lineCap=Ge.lineCap),Ge.hasOwnProperty("lineJoin")&&(this.lineJoin=Ge.lineJoin)}},Ut.prototype.strokeRect=function(It,oe,ge,Ce){if(isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce))throw k.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ce.call(this)||(this.beginPath(),this.rect(It,oe,ge,Ce),this.stroke())},Ut.prototype.clearRect=function(It,oe,ge,Ce){if(isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce))throw k.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(It,oe,ge,Ce))},Ut.prototype.save=function(It){It=typeof It!="boolean"||It;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,ge=0;ge<this.pdf.internal.getNumberOfPages();ge++)this.pdf.setPage(ge+1),this.pdf.internal.out("q");if(this.pdf.setPage(oe),It){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ce=new Bt(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ce}},Ut.prototype.restore=function(It){It=typeof It!="boolean"||It;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,ge=0;ge<this.pdf.internal.getNumberOfPages();ge++)this.pdf.setPage(ge+1),this.pdf.internal.out("Q");this.pdf.setPage(oe),It&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ut.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Xt=function(It){var oe,ge,Ce,Ge;if(It.isCanvasGradient===!0&&(It=It.getColor()),!It)return{r:0,g:0,b:0,a:0,style:It};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(It))oe=0,ge=0,Ce=0,Ge=0;else{var qe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(It);if(qe!==null)oe=parseInt(qe[1]),ge=parseInt(qe[2]),Ce=parseInt(qe[3]),Ge=1;else if((qe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(It))!==null)oe=parseInt(qe[1]),ge=parseInt(qe[2]),Ce=parseInt(qe[3]),Ge=parseFloat(qe[4]);else{if(Ge=1,typeof It=="string"&&It.charAt(0)!=="#"){var ir=new ot(It);It=ir.ok?ir.toHex():"#000000"}It.length===4?(oe=It.substring(1,2),oe+=oe,ge=It.substring(2,3),ge+=ge,Ce=It.substring(3,4),Ce+=Ce):(oe=It.substring(1,3),ge=It.substring(3,5),Ce=It.substring(5,7)),oe=parseInt(oe,16),ge=parseInt(ge,16),Ce=parseInt(Ce,16)}}return{r:oe,g:ge,b:Ce,a:Ge,style:It}},pt=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ce=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ut.prototype.fillText=function(It,oe,ge,Ce){if(isNaN(oe)||isNaN(ge)||typeof It!="string")throw k.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ce=isNaN(Ce)?void 0:Ce,!pt.call(this)){var Ge=nr(this.ctx.transform.rotation),qe=this.ctx.transform.scaleX;Jt.call(this,{text:It,x:oe,y:ge,scale:qe,angle:Ge,align:this.textAlign,maxWidth:Ce})}},Ut.prototype.strokeText=function(It,oe,ge,Ce){if(isNaN(oe)||isNaN(ge)||typeof It!="string")throw k.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ce.call(this)){Ce=isNaN(Ce)?void 0:Ce;var Ge=nr(this.ctx.transform.rotation),qe=this.ctx.transform.scaleX;Jt.call(this,{text:It,x:oe,y:ge,scale:qe,renderingMode:"stroke",angle:Ge,align:this.textAlign,maxWidth:Ce})}},Ut.prototype.measureText=function(It){if(typeof It!="string")throw k.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oe=this.pdf,ge=this.pdf.internal.scaleFactor,Ce=oe.internal.getFontSize(),Ge=oe.getStringUnitWidth(It)*Ce/oe.internal.scaleFactor,qe=function(ir){var rr=(ir=ir||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return rr}}),this};return new qe({width:Ge*=Math.round(96*ge/72*1e4)/1e4})},Ut.prototype.scale=function(It,oe){if(isNaN(It)||isNaN(oe))throw k.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ge=new st(It,0,0,oe,0,0);this.ctx.transform=this.ctx.transform.multiply(ge)},Ut.prototype.rotate=function(It){if(isNaN(It))throw k.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oe=new st(Math.cos(It),Math.sin(It),-Math.sin(It),Math.cos(It),0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},Ut.prototype.translate=function(It,oe){if(isNaN(It)||isNaN(oe))throw k.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ge=new st(1,0,0,1,It,oe);this.ctx.transform=this.ctx.transform.multiply(ge)},Ut.prototype.transform=function(It,oe,ge,Ce,Ge,qe){if(isNaN(It)||isNaN(oe)||isNaN(ge)||isNaN(Ce)||isNaN(Ge)||isNaN(qe))throw k.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ir=new st(It,oe,ge,Ce,Ge,qe);this.ctx.transform=this.ctx.transform.multiply(ir)},Ut.prototype.setTransform=function(It,oe,ge,Ce,Ge,qe){It=isNaN(It)?1:It,oe=isNaN(oe)?0:oe,ge=isNaN(ge)?0:ge,Ce=isNaN(Ce)?1:Ce,Ge=isNaN(Ge)?0:Ge,qe=isNaN(qe)?0:qe,this.ctx.transform=new st(It,oe,ge,Ce,Ge,qe)};var ne=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ut.prototype.drawImage=function(It,oe,ge,Ce,Ge,qe,ir,rr,Jr){var Yr=this.pdf.getImageProperties(It),hn=1,On=1,Vn=1,mr=1;Ce!==void 0&&rr!==void 0&&(Vn=rr/Ce,mr=Jr/Ge,hn=Yr.width/Ce*rr/Ce,On=Yr.height/Ge*Jr/Ge),qe===void 0&&(qe=oe,ir=ge,oe=0,ge=0),Ce!==void 0&&rr===void 0&&(rr=Ce,Jr=Ge),Ce===void 0&&rr===void 0&&(rr=Yr.width,Jr=Yr.height);for(var fe,ci=this.ctx.transform.decompose(),An=nr(ci.rotate.shx),zr=new st,nn=(zr=(zr=(zr=zr.multiply(ci.translate)).multiply(ci.skew)).multiply(ci.scale)).applyToRectangle(new rt(qe-oe*Vn,ir-ge*mr,Ce*hn,Ge*On)),sn=Te.call(this,nn),an=[],Bn=0;Bn<sn.length;Bn+=1)an.indexOf(sn[Bn])===-1&&an.push(sn[Bn]);if(ze(an),this.autoPaging)for(var di=an[0],ai=an[an.length-1],wi=di;wi<ai+1;wi++){this.pdf.setPage(wi);var zi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ri=wi===1?this.posY+this.margin[0]:this.margin[0],Wn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vn=wi===1?0:Wn+(wi-2)*yi;if(this.ctx.clip_path.length!==0){var Da=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=pe(fe,this.posX+this.margin[3],-vn+ri+this.ctx.prevPageLastElemOffset),Tr.call(this,"fill",!0),this.path=Da}var Dn=JSON.parse(JSON.stringify(nn));Dn=pe([Dn],this.posX+this.margin[3],-vn+ri+this.ctx.prevPageLastElemOffset)[0];var ha=(wi>di||wi<ai)&&ne.call(this);ha&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zi,yi,null).clip().discardPath()),this.pdf.addImage(It,"JPEG",Dn.x,Dn.y,Dn.w,Dn.h,null,null,An),ha&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(It,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,An)};var Te=function(It,oe,ge){var Ce=[];oe=oe||this.pdf.internal.pageSize.width,ge=ge||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ge=this.posY+this.ctx.prevPageLastElemOffset;switch(It.type){default:case"mt":case"lt":Ce.push(Math.floor((It.y+Ge)/ge)+1);break;case"arc":Ce.push(Math.floor((It.y+Ge-It.radius)/ge)+1),Ce.push(Math.floor((It.y+Ge+It.radius)/ge)+1);break;case"qct":var qe=ur(this.ctx.lastPoint.x,this.ctx.lastPoint.y,It.x1,It.y1,It.x,It.y);Ce.push(Math.floor((qe.y+Ge)/ge)+1),Ce.push(Math.floor((qe.y+qe.h+Ge)/ge)+1);break;case"bct":var ir=Or(this.ctx.lastPoint.x,this.ctx.lastPoint.y,It.x1,It.y1,It.x2,It.y2,It.x,It.y);Ce.push(Math.floor((ir.y+Ge)/ge)+1),Ce.push(Math.floor((ir.y+ir.h+Ge)/ge)+1);break;case"rect":Ce.push(Math.floor((It.y+Ge)/ge)+1),Ce.push(Math.floor((It.y+It.h+Ge)/ge)+1)}for(var rr=0;rr<Ce.length;rr+=1)for(;this.pdf.internal.getNumberOfPages()<Ce[rr];)Yt.call(this);return Ce},Yt=function(){var It=this.fillStyle,oe=this.strokeStyle,ge=this.font,Ce=this.lineCap,Ge=this.lineWidth,qe=this.lineJoin;this.pdf.addPage(),this.fillStyle=It,this.strokeStyle=oe,this.font=ge,this.lineCap=Ce,this.lineWidth=Ge,this.lineJoin=qe},pe=function(It,oe,ge){for(var Ce=0;Ce<It.length;Ce++)switch(It[Ce].type){case"bct":It[Ce].x2+=oe,It[Ce].y2+=ge;case"qct":It[Ce].x1+=oe,It[Ce].y1+=ge;case"mt":case"lt":case"arc":default:It[Ce].x+=oe,It[Ce].y+=ge}return It},ze=function(It){return It.sort(function(oe,ge){return oe-ge})},sr=function(It,oe){for(var ge,Ce,Ge=this.fillStyle,qe=this.strokeStyle,ir=this.lineCap,rr=this.lineWidth,Jr=Math.abs(rr*this.ctx.transform.scaleX),Yr=this.lineJoin,hn=JSON.parse(JSON.stringify(this.path)),On=JSON.parse(JSON.stringify(this.path)),Vn=[],mr=0;mr<On.length;mr++)if(On[mr].x!==void 0)for(var fe=Te.call(this,On[mr]),ci=0;ci<fe.length;ci+=1)Vn.indexOf(fe[ci])===-1&&Vn.push(fe[ci]);for(var An=0;An<Vn.length;An++)for(;this.pdf.internal.getNumberOfPages()<Vn[An];)Yt.call(this);if(ze(Vn),this.autoPaging)for(var zr=Vn[0],nn=Vn[Vn.length-1],sn=zr;sn<nn+1;sn++){this.pdf.setPage(sn),this.fillStyle=Ge,this.strokeStyle=qe,this.lineCap=ir,this.lineWidth=Jr,this.lineJoin=Yr;var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bn=sn===1?this.posY+this.margin[0]:this.margin[0],di=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ai=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wi=sn===1?0:di+(sn-2)*ai;if(this.ctx.clip_path.length!==0){var zi=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=pe(ge,this.posX+this.margin[3],-wi+Bn+this.ctx.prevPageLastElemOffset),Tr.call(this,It,!0),this.path=zi}if(Ce=JSON.parse(JSON.stringify(hn)),this.path=pe(Ce,this.posX+this.margin[3],-wi+Bn+this.ctx.prevPageLastElemOffset),oe===!1||sn===0){var ri=(sn>zr||sn<nn)&&ne.call(this);ri&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,ai,null).clip().discardPath()),Tr.call(this,It,oe),ri&&this.pdf.restoreGraphicsState()}this.lineWidth=rr}else this.lineWidth=Jr,Tr.call(this,It,oe),this.lineWidth=rr;this.path=hn},Tr=function(It,oe){if((It!=="stroke"||oe||!ce.call(this))&&(It==="stroke"||oe||!pt.call(this))){for(var ge,Ce,Ge=[],qe=this.path,ir=0;ir<qe.length;ir++){var rr=qe[ir];switch(rr.type){case"begin":Ge.push({begin:!0});break;case"close":Ge.push({close:!0});break;case"mt":Ge.push({start:rr,deltas:[],abs:[]});break;case"lt":var Jr=Ge.length;if(qe[ir-1]&&!isNaN(qe[ir-1].x)&&(ge=[rr.x-qe[ir-1].x,rr.y-qe[ir-1].y],Jr>0)){for(;Jr>=0;Jr--)if(Ge[Jr-1].close!==!0&&Ge[Jr-1].begin!==!0){Ge[Jr-1].deltas.push(ge),Ge[Jr-1].abs.push(rr);break}}break;case"bct":ge=[rr.x1-qe[ir-1].x,rr.y1-qe[ir-1].y,rr.x2-qe[ir-1].x,rr.y2-qe[ir-1].y,rr.x-qe[ir-1].x,rr.y-qe[ir-1].y],Ge[Ge.length-1].deltas.push(ge);break;case"qct":var Yr=qe[ir-1].x+2/3*(rr.x1-qe[ir-1].x),hn=qe[ir-1].y+2/3*(rr.y1-qe[ir-1].y),On=rr.x+2/3*(rr.x1-rr.x),Vn=rr.y+2/3*(rr.y1-rr.y),mr=rr.x,fe=rr.y;ge=[Yr-qe[ir-1].x,hn-qe[ir-1].y,On-qe[ir-1].x,Vn-qe[ir-1].y,mr-qe[ir-1].x,fe-qe[ir-1].y],Ge[Ge.length-1].deltas.push(ge);break;case"arc":Ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ge[Ge.length-1].abs)&&Ge[Ge.length-1].abs.push(rr)}}Ce=oe?null:It==="stroke"?"stroke":"fill";for(var ci=!1,An=0;An<Ge.length;An++)if(Ge[An].arc)for(var zr=Ge[An].abs,nn=0;nn<zr.length;nn++){var sn=zr[nn];sn.type==="arc"?je.call(this,sn.x,sn.y,sn.radius,sn.startAngle,sn.endAngle,sn.counterclockwise,void 0,oe,!ci):Le.call(this,sn.x,sn.y),ci=!0}else if(Ge[An].close===!0)this.pdf.internal.out("h"),ci=!1;else if(Ge[An].begin!==!0){var an=Ge[An].start.x,Bn=Ge[An].start.y;xe.call(this,Ge[An].deltas,an,Bn),ci=!0}Ce&&Rr.call(this,Ce),oe&&vr.call(this)}},Zr=function(It){var oe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ge=oe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return It-ge;case"top":return It+oe-ge;case"hanging":return It+oe-2*ge;case"middle":return It+oe/2-ge;case"ideographic":return It;case"alphabetic":default:return It}},pr=function(It){return It+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ut.prototype.createLinearGradient=function(){var It=function(){};return It.colorStops=[],It.addColorStop=function(oe,ge){this.colorStops.push([oe,ge])},It.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},It.isCanvasGradient=!0,It},Ut.prototype.createPattern=function(){return this.createLinearGradient()},Ut.prototype.createRadialGradient=function(){return this.createLinearGradient()};var je=function(It,oe,ge,Ce,Ge,qe,ir,rr,Jr){for(var Yr=dr.call(this,ge,Ce,Ge,qe),hn=0;hn<Yr.length;hn++){var On=Yr[hn];hn===0&&(Jr?Zt.call(this,On.x1+It,On.y1+oe):Le.call(this,On.x1+It,On.y1+oe)),yr.call(this,It,oe,On.x2,On.y2,On.x3,On.y3,On.x4,On.y4)}rr?vr.call(this):Rr.call(this,ir)},Rr=function(It){switch(It){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},vr=function(){this.pdf.clip(),this.pdf.discardPath()},Zt=function(It,oe){this.pdf.internal.out(T(It)+" "+N(oe)+" m")},Jt=function(It){var oe;switch(It.align){case"right":case"end":oe="right";break;case"center":oe="center";break;case"left":case"start":default:oe="left"}var ge=this.pdf.getTextDimensions(It.text),Ce=Zr.call(this,It.y),Ge=pr.call(this,Ce)-ge.h,qe=this.ctx.transform.applyToPoint(new X(It.x,Ce)),ir=this.ctx.transform.decompose(),rr=new st;rr=(rr=(rr=rr.multiply(ir.translate)).multiply(ir.skew)).multiply(ir.scale);for(var Jr,Yr,hn,On=this.ctx.transform.applyToRectangle(new rt(It.x,Ce,ge.w,ge.h)),Vn=rr.applyToRectangle(new rt(It.x,Ge,ge.w,ge.h)),mr=Te.call(this,Vn),fe=[],ci=0;ci<mr.length;ci+=1)fe.indexOf(mr[ci])===-1&&fe.push(mr[ci]);if(ze(fe),this.autoPaging)for(var An=fe[0],zr=fe[fe.length-1],nn=An;nn<zr+1;nn++){this.pdf.setPage(nn);var sn=nn===1?this.posY+this.margin[0]:this.margin[0],an=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bn=this.pdf.internal.pageSize.height-this.margin[2],di=Bn-this.margin[0],ai=this.pdf.internal.pageSize.width-this.margin[1],wi=ai-this.margin[3],zi=nn===1?0:an+(nn-2)*di;if(this.ctx.clip_path.length!==0){var ri=this.path;Jr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=pe(Jr,this.posX+this.margin[3],-1*zi+sn),Tr.call(this,"fill",!0),this.path=ri}var Wn=pe([JSON.parse(JSON.stringify(Vn))],this.posX+this.margin[3],-zi+sn+this.ctx.prevPageLastElemOffset)[0];It.scale>=.01&&(Yr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yr*It.scale),hn=this.lineWidth,this.lineWidth=hn*It.scale);var yi=this.autoPaging!=="text";if(yi||Wn.y+Wn.h<=Bn){if(yi||Wn.y>=sn&&Wn.x<=ai){var vn=yi?It.text:this.pdf.splitTextToSize(It.text,It.maxWidth||ai-Wn.x)[0],Da=pe([JSON.parse(JSON.stringify(On))],this.posX+this.margin[3],-zi+sn+this.ctx.prevPageLastElemOffset)[0],Dn=yi&&(nn>An||nn<zr)&&ne.call(this);Dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wi,di,null).clip().discardPath()),this.pdf.text(vn,Da.x,Da.y,{angle:It.angle,align:oe,renderingMode:It.renderingMode}),Dn&&this.pdf.restoreGraphicsState()}}else Wn.y<Bn&&(this.ctx.prevPageLastElemOffset+=Bn-Wn.y);It.scale>=.01&&(this.pdf.setFontSize(Yr),this.lineWidth=hn)}else It.scale>=.01&&(Yr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yr*It.scale),hn=this.lineWidth,this.lineWidth=hn*It.scale),this.pdf.text(It.text,qe.x+this.posX,qe.y+this.posY,{angle:It.angle,align:oe,renderingMode:It.renderingMode,maxWidth:It.maxWidth}),It.scale>=.01&&(this.pdf.setFontSize(Yr),this.lineWidth=hn)},Le=function(It,oe,ge,Ce){ge=ge||0,Ce=Ce||0,this.pdf.internal.out(T(It+ge)+" "+N(oe+Ce)+" l")},xe=function(It,oe,ge){return this.pdf.lines(It,oe,ge,null,null)},yr=function(It,oe,ge,Ce,Ge,qe,ir,rr){this.pdf.internal.out([O(W(ge+It)),O(D(Ce+oe)),O(W(Ge+It)),O(D(qe+oe)),O(W(ir+It)),O(D(rr+oe)),"c"].join(" "))},dr=function(It,oe,ge,Ce){for(var Ge=2*Math.PI,qe=Math.PI/2;oe>ge;)oe-=Ge;var ir=Math.abs(ge-oe);ir<Ge&&Ce&&(ir=Ge-ir);for(var rr=[],Jr=Ce?-1:1,Yr=oe;ir>1e-5;){var hn=Yr+Jr*Math.min(ir,qe);rr.push(Lr.call(this,It,Yr,hn)),ir-=Math.abs(hn-Yr),Yr=hn}return rr},Lr=function(It,oe,ge){var Ce=(ge-oe)/2,Ge=It*Math.cos(Ce),qe=It*Math.sin(Ce),ir=Ge,rr=-qe,Jr=ir*ir+rr*rr,Yr=Jr+ir*Ge+rr*qe,hn=4/3*(Math.sqrt(2*Jr*Yr)-Yr)/(ir*qe-rr*Ge),On=ir-hn*rr,Vn=rr+hn*ir,mr=On,fe=-Vn,ci=Ce+oe,An=Math.cos(ci),zr=Math.sin(ci);return{x1:It*Math.cos(oe),y1:It*Math.sin(oe),x2:On*An-Vn*zr,y2:On*zr+Vn*An,x3:mr*An-fe*zr,y3:mr*zr+fe*An,x4:It*Math.cos(ge),y4:It*Math.sin(ge)}},nr=function(It){return 180*It/Math.PI},ur=function(It,oe,ge,Ce,Ge,qe){var ir=It+.5*(ge-It),rr=oe+.5*(Ce-oe),Jr=Ge+.5*(ge-Ge),Yr=qe+.5*(Ce-qe),hn=Math.min(It,Ge,ir,Jr),On=Math.max(It,Ge,ir,Jr),Vn=Math.min(oe,qe,rr,Yr),mr=Math.max(oe,qe,rr,Yr);return new rt(hn,Vn,On-hn,mr-Vn)},Or=function(It,oe,ge,Ce,Ge,qe,ir,rr){var Jr,Yr,hn,On,Vn,mr,fe,ci,An,zr,nn,sn,an,Bn,di=ge-It,ai=Ce-oe,wi=Ge-ge,zi=qe-Ce,ri=ir-Ge,Wn=rr-qe;for(Yr=0;Yr<41;Yr++)An=(fe=(hn=It+(Jr=Yr/40)*di)+Jr*((Vn=ge+Jr*wi)-hn))+Jr*(Vn+Jr*(Ge+Jr*ri-Vn)-fe),zr=(ci=(On=oe+Jr*ai)+Jr*((mr=Ce+Jr*zi)-On))+Jr*(mr+Jr*(qe+Jr*Wn-mr)-ci),Yr==0?(nn=An,sn=zr,an=An,Bn=zr):(nn=Math.min(nn,An),sn=Math.min(sn,zr),an=Math.max(an,An),Bn=Math.max(Bn,zr));return new rt(Math.round(nn),Math.round(sn),Math.round(an-nn),Math.round(Bn-sn))},xn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var It,oe,ge=(It=this.ctx.lineDash,oe=this.ctx.lineDashOffset,JSON.stringify({lineDash:It,lineDashOffset:oe}));this.prevLineDash!==ge&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ge)}}})(_e.API),function(L){var O=function(D){var X,rt,st,_t,Bt,Ut,Xt,pt,ce,ne;for(/[^\x00-\xFF]/.test(D),rt=[],st=0,_t=(D+=X="\0\0\0\0".slice(D.length%4||4)).length;_t>st;st+=4)(Bt=(D.charCodeAt(st)<<24)+(D.charCodeAt(st+1)<<16)+(D.charCodeAt(st+2)<<8)+D.charCodeAt(st+3))!==0?(Ut=(Bt=((Bt=((Bt=((Bt=(Bt-(ne=Bt%85))/85)-(ce=Bt%85))/85)-(pt=Bt%85))/85)-(Xt=Bt%85))/85)%85,rt.push(Ut+33,Xt+33,pt+33,ce+33,ne+33)):rt.push(122);return function(Te,Yt){for(var pe=Yt;pe>0;pe--)Te.pop()}(rt,X.length),String.fromCharCode.apply(String,rt)+"~>"},T=function(D){var X,rt,st,_t,Bt,Ut=String,Xt="length",pt=255,ce="charCodeAt",ne="slice",Te="replace";for(D[ne](-2),D=D[ne](0,-2)[Te](/\s/g,"")[Te]("z","!!!!!"),st=[],_t=0,Bt=(D+=X="uuuuu"[ne](D[Xt]%5||5))[Xt];Bt>_t;_t+=5)rt=52200625*(D[ce](_t)-33)+614125*(D[ce](_t+1)-33)+7225*(D[ce](_t+2)-33)+85*(D[ce](_t+3)-33)+(D[ce](_t+4)-33),st.push(pt&rt>>24,pt&rt>>16,pt&rt>>8,pt&rt);return function(Yt,pe){for(var ze=pe;ze>0;ze--)Yt.pop()}(st,X[Xt]),Ut.fromCharCode.apply(Ut,st)},N=function(D){var X=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((D=D.replace(/\s/g,"")).indexOf(">")!==-1&&(D=D.substr(0,D.indexOf(">"))),D.length%2&&(D+="0"),X.test(D)===!1)return"";for(var rt="",st=0;st<D.length;st+=2)rt+=String.fromCharCode("0x"+(D[st]+D[st+1]));return rt},W=function(D){for(var X=new Uint8Array(D.length),rt=D.length;rt--;)X[rt]=D.charCodeAt(rt);return D=(X=Object(b.b)(X)).reduce(function(st,_t){return st+String.fromCharCode(_t)},"")};L.processDataByFilters=function(D,X){var rt=0,st=D||"",_t=[];for(typeof(X=X||[])=="string"&&(X=[X]),rt=0;rt<X.length;rt+=1)switch(X[rt]){case"ASCII85Decode":case"/ASCII85Decode":st=T(st),_t.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":st=O(st),_t.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":st=N(st),_t.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":st=st.split("").map(function(Bt){return("0"+Bt.charCodeAt().toString(16)).slice(-2)}).join("")+">",_t.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":st=W(st),_t.push("/FlateDecode");break;default:throw new Error('The filter: "'+X[rt]+'" is not implemented')}return{data:st,reverseChain:_t.reverse().join(" ")}}}(_e.API),function(L){L.loadFile=function(O,T,N){return function(W,D,X){D=D!==!1,X=typeof X=="function"?X:function(){};var rt=void 0;try{rt=function(st,_t,Bt){var Ut=new XMLHttpRequest,Xt=0,pt=function(ce){var ne=ce.length,Te=[],Yt=String.fromCharCode;for(Xt=0;Xt<ne;Xt+=1)Te.push(Yt(255&ce.charCodeAt(Xt)));return Te.join("")};if(Ut.open("GET",st,!_t),Ut.overrideMimeType("text/plain; charset=x-user-defined"),_t===!1&&(Ut.onload=function(){Ut.status===200?Bt(pt(this.responseText)):Bt(void 0)}),Ut.send(null),_t&&Ut.status===200)return pt(Ut.responseText)}(W,D,X)}catch{}return rt}(O,T,N)},L.loadImageFile=L.loadFile}(_e.API),function(L){function O(){return(M.html2canvas?Promise.resolve(M.html2canvas):u.e(3).then(u.t.bind(null,"c0e9",7))).catch(function(X){return Promise.reject(new Error("Could not load html2canvas: "+X))}).then(function(X){return X.default?X.default:X})}function T(){return(M.DOMPurify?Promise.resolve(M.DOMPurify):u.e(2).then(u.t.bind(null,"c0c4",7))).catch(function(X){return Promise.reject(new Error("Could not load dompurify: "+X))}).then(function(X){return X.default?X.default:X})}var N=function(X){var rt=E()(X);return rt==="undefined"?"undefined":rt==="string"||X instanceof String?"string":rt==="number"||X instanceof Number?"number":rt==="function"||X instanceof Function?"function":X&&X.constructor===Array?"array":X&&X.nodeType===1?"element":rt==="object"?"object":"unknown"},W=function(X,rt){var st=document.createElement(X);for(var _t in rt.className&&(st.className=rt.className),rt.innerHTML&&rt.dompurify&&(st.innerHTML=rt.dompurify.sanitize(rt.innerHTML)),rt.style)st.style[_t]=rt.style[_t];return st},D=function X(rt){var st=Object.assign(X.convert(Promise.resolve()),JSON.parse(JSON.stringify(X.template))),_t=X.convert(Promise.resolve(),st);return _t=(_t=_t.setProgress(1,X,1,[X])).set(rt)};(D.prototype=Object.create(Promise.prototype)).constructor=D,D.convert=function(X,rt){return X.__proto__=rt||D.prototype,X},D.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},D.prototype.from=function(X,rt){return this.then(function(){switch(rt=rt||function(st){switch(N(st)){case"string":return"string";case"element":return st.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(X)){case"string":return this.then(T).then(function(st){return this.set({src:W("div",{innerHTML:X,dompurify:st})})});case"element":return this.set({src:X});case"canvas":return this.set({canvas:X});case"img":return this.set({img:X});default:return this.error("Unknown source type.")}})},D.prototype.to=function(X){switch(X){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},D.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var X={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},rt=function st(_t,Bt){for(var Ut=_t.nodeType===3?document.createTextNode(_t.nodeValue):_t.cloneNode(!1),Xt=_t.firstChild;Xt;Xt=Xt.nextSibling)Bt!==!0&&Xt.nodeType===1&&Xt.nodeName==="SCRIPT"||Ut.appendChild(st(Xt,Bt));return _t.nodeType===1&&(_t.nodeName==="CANVAS"?(Ut.width=_t.width,Ut.height=_t.height,Ut.getContext("2d").drawImage(_t,0,0)):_t.nodeName!=="TEXTAREA"&&_t.nodeName!=="SELECT"||(Ut.value=_t.value),Ut.addEventListener("load",function(){Ut.scrollTop=_t.scrollTop,Ut.scrollLeft=_t.scrollLeft},!0)),Ut}(this.prop.src,this.opt.html2canvas.javascriptEnabled);rt.tagName==="BODY"&&(X.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=W("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=W("div",{className:"html2pdf__container",style:X}),this.prop.container.appendChild(rt),this.prop.container.firstChild.appendChild(W("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},D.prototype.toCanvas=function(){var X=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(X).then(O).then(function(rt){var st=Object.assign({},this.opt.html2canvas);return delete st.onrendered,rt(this.prop.container,st)}).then(function(rt){(this.opt.html2canvas.onrendered||function(){})(rt),this.prop.canvas=rt,document.body.removeChild(this.prop.overlay)})},D.prototype.toContext2d=function(){var X=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(X).then(O).then(function(rt){var st=this.opt.jsPDF,_t=this.opt.fontFaces,Bt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ut=Object.assign({async:!0,allowTaint:!0,scale:Bt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ut.onrendered,st.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,st.context2d.posX=this.opt.x,st.context2d.posY=this.opt.y,st.context2d.margin=this.opt.margin,st.context2d.fontFaces=_t,_t)for(var Xt=0;Xt<_t.length;++Xt){var pt=_t[Xt],ce=pt.src.find(function(ne){return ne.format==="truetype"});ce&&st.addFont(ce.url,pt.ref.name,pt.ref.style)}return Ut.windowHeight=Ut.windowHeight||0,Ut.windowHeight=Ut.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ut.windowHeight,st.context2d.save(!0),rt(this.prop.container,Ut)}).then(function(rt){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(rt),this.prop.canvas=rt,document.body.removeChild(this.prop.overlay)})},D.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var X=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=X})},D.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},D.prototype.output=function(X,rt,st){return(st=st||"pdf").toLowerCase()==="img"||st.toLowerCase()==="image"?this.outputImg(X,rt):this.outputPdf(X,rt)},D.prototype.outputPdf=function(X,rt){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(X,rt)})},D.prototype.outputImg=function(X){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(X){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+X+'" is not supported.'}})},D.prototype.save=function(X){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(X?{filename:X}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},D.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},D.prototype.set=function(X){if(N(X)!=="object")return this;var rt=Object.keys(X||{}).map(function(st){if(st in D.template.prop)return function(){this.prop[st]=X[st]};switch(st){case"margin":return this.setMargin.bind(this,X.margin);case"jsPDF":return function(){return this.opt.jsPDF=X.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,X.pageSize);default:return function(){this.opt[st]=X[st]}}},this);return this.then(function(){return this.thenList(rt)})},D.prototype.get=function(X,rt){return this.then(function(){var st=X in D.template.prop?this.prop[X]:this.opt[X];return rt?rt(st):st})},D.prototype.setMargin=function(X){return this.then(function(){switch(N(X)){case"number":X=[X,X,X,X];case"array":if(X.length===2&&(X=[X[0],X[1],X[0],X[1]]),X.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=X}).then(this.setPageSize)},D.prototype.setPageSize=function(X){function rt(st,_t){return Math.floor(st*_t/72*96)}return this.then(function(){(X=X||_e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(X.inner={width:X.width-this.opt.margin[1]-this.opt.margin[3],height:X.height-this.opt.margin[0]-this.opt.margin[2]},X.inner.px={width:rt(X.inner.width,X.k),height:rt(X.inner.height,X.k)},X.inner.ratio=X.inner.height/X.inner.width),this.prop.pageSize=X})},D.prototype.setProgress=function(X,rt,st,_t){return X!=null&&(this.progress.val=X),rt!=null&&(this.progress.state=rt),st!=null&&(this.progress.n=st),_t!=null&&(this.progress.stack=_t),this.progress.ratio=this.progress.val/this.progress.state,this},D.prototype.updateProgress=function(X,rt,st,_t){return this.setProgress(X?this.progress.val+X:null,rt||null,st?this.progress.n+st:null,_t?this.progress.stack.concat(_t):null)},D.prototype.then=function(X,rt){var st=this;return this.thenCore(X,rt,function(_t,Bt){return st.updateProgress(null,null,1,[_t]),Promise.prototype.then.call(this,function(Ut){return st.updateProgress(null,_t),Ut}).then(_t,Bt).then(function(Ut){return st.updateProgress(1),Ut})})},D.prototype.thenCore=function(X,rt,st){st=st||Promise.prototype.then,X&&(X=X.bind(this)),rt&&(rt=rt.bind(this));var _t=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:D.convert(Object.assign({},this),Promise.prototype),Bt=st.call(_t,X,rt);return D.convert(Bt,this.__proto__)},D.prototype.thenExternal=function(X,rt){return Promise.prototype.then.call(this,X,rt)},D.prototype.thenList=function(X){var rt=this;return X.forEach(function(st){rt=rt.thenCore(st)}),rt},D.prototype.catch=function(X){X&&(X=X.bind(this));var rt=Promise.prototype.catch.call(this,X);return D.convert(rt,this)},D.prototype.catchExternal=function(X){return Promise.prototype.catch.call(this,X)},D.prototype.error=function(X){return this.then(function(){throw new Error(X)})},D.prototype.using=D.prototype.set,D.prototype.saveAs=D.prototype.save,D.prototype.export=D.prototype.output,D.prototype.run=D.prototype.then,_e.getPageSize=function(X,rt,st){if(E()(X)==="object"){var _t=X;X=_t.orientation,rt=_t.unit||rt,st=_t.format||st}rt=rt||"mm",st=st||"a4",X=(""+(X||"P")).toLowerCase();var Bt,Ut=(""+st).toLowerCase(),Xt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(rt){case"pt":Bt=1;break;case"mm":Bt=72/25.4;break;case"cm":Bt=72/2.54;break;case"in":Bt=72;break;case"px":Bt=.75;break;case"pc":case"em":Bt=12;break;case"ex":Bt=6;break;default:throw"Invalid unit: "+rt}var pt,ce=0,ne=0;if(Xt.hasOwnProperty(Ut))ce=Xt[Ut][1]/Bt,ne=Xt[Ut][0]/Bt;else try{ce=st[1],ne=st[0]}catch{throw new Error("Invalid format: "+st)}if(X==="p"||X==="portrait")X="p",ne>ce&&(pt=ne,ne=ce,ce=pt);else{if(X!=="l"&&X!=="landscape")throw"Invalid orientation: "+X;X="l",ce>ne&&(pt=ne,ne=ce,ce=pt)}return{width:ne,height:ce,unit:rt,k:Bt,orientation:X}},L.html=function(X,rt){(rt=rt||{}).callback=rt.callback||function(){},rt.html2canvas=rt.html2canvas||{},rt.html2canvas.canvas=rt.html2canvas.canvas||this.canvas,rt.jsPDF=rt.jsPDF||this,rt.fontFaces=rt.fontFaces?rt.fontFaces.map(Io):null;var st=new D(rt);return rt.worker?st:st.from(X).doCallback()}}(_e.API),_e.API.addJS=function(L){return tl=L,this.internal.events.subscribe("postPutResources",function(){Ja=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ja+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tl+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ja!==void 0&&_a!==void 0&&this.internal.out("/Names <</JavaScript "+Ja+" 0 R>>")}),this},function(L){var O;L.events.push(["postPutResources",function(){var T=this,N=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var W=T.outline.render().split(/\r\n/),D=0;D<W.length;D++){var X=W[D],rt=N.exec(X);if(rt!=null){var st=rt[1];T.internal.newObjectDeferredBegin(st,!1)}T.internal.write(X)}if(this.outline.createNamedDestinations){var _t=this.internal.pages.length,Bt=[];for(D=0;D<_t;D++){var Ut=T.internal.newObject();Bt.push(Ut);var Xt=T.internal.getPageInfo(D+1);T.internal.write("<< /D["+Xt.objId+" 0 R /XYZ null null null]>> endobj")}var pt=T.internal.newObject();for(T.internal.write("<< /Names [ "),D=0;D<Bt.length;D++)T.internal.write("(page_"+(D+1)+")"+Bt[D]+" 0 R");T.internal.write(" ] >>","endobj"),O=T.internal.newObject(),T.internal.write("<< /Dests "+pt+" 0 R"),T.internal.write(">>","endobj")}}]),L.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+O+" 0 R"))}]),L.events.push(["initialized",function(){var T=this;T.outline={createNamedDestinations:!1,root:{children:[]}},T.outline.add=function(N,W,D){var X={title:W,options:D,children:[]};return N==null&&(N=this.root),N.children.push(X),X},T.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=T,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},T.outline.genIds_r=function(N){N.id=T.internal.newObjectDeferred();for(var W=0;W<N.children.length;W++)this.genIds_r(N.children[W])},T.outline.renderRoot=function(N){this.objStart(N),this.line("/Type /Outlines"),N.children.length>0&&(this.line("/First "+this.makeRef(N.children[0])),this.line("/Last "+this.makeRef(N.children[N.children.length-1]))),this.line("/Count "+this.count_r({count:0},N)),this.objEnd()},T.outline.renderItems=function(N){for(var W=this.ctx.pdf.internal.getVerticalCoordinateString,D=0;D<N.children.length;D++){var X=N.children[D];this.objStart(X),this.line("/Title "+this.makeString(X.title)),this.line("/Parent "+this.makeRef(N)),D>0&&this.line("/Prev "+this.makeRef(N.children[D-1])),D<N.children.length-1&&this.line("/Next "+this.makeRef(N.children[D+1])),X.children.length>0&&(this.line("/First "+this.makeRef(X.children[0])),this.line("/Last "+this.makeRef(X.children[X.children.length-1])));var rt=this.count=this.count_r({count:0},X);if(rt>0&&this.line("/Count "+rt),X.options&&X.options.pageNumber){var st=T.internal.getPageInfo(X.options.pageNumber);this.line("/Dest ["+st.objId+" 0 R /XYZ 0 "+W(0)+" 0]")}this.objEnd()}for(var _t=0;_t<N.children.length;_t++)this.renderItems(N.children[_t])},T.outline.line=function(N){this.ctx.val+=N+`\r
`},T.outline.makeRef=function(N){return N.id+" 0 R"},T.outline.makeString=function(N){return"("+T.internal.pdfEscape(N)+")"},T.outline.objStart=function(N){this.ctx.val+=`\r
`+N.id+` 0 obj\r
<<\r
`},T.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},T.outline.count_r=function(N,W){for(var D=0;D<W.children.length;D++)N.count++,this.count_r(N,W.children[D]);return N.count}}])}(_e.API),function(L){var O=[192,193,194,195,196,197,198,199];L.processJPEG=function(T,N,W,D,X,rt){var st,_t=this.decode.DCT_DECODE,Bt=null;if(typeof T=="string"||this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T)){switch(T=X||T,T=this.__addimage__.isArrayBuffer(T)?new Uint8Array(T):T,(st=function(Ut){for(var Xt,pt=256*Ut.charCodeAt(4)+Ut.charCodeAt(5),ce=Ut.length,ne={width:0,height:0,numcomponents:1},Te=4;Te<ce;Te+=2){if(Te+=pt,O.indexOf(Ut.charCodeAt(Te+1))!==-1){Xt=256*Ut.charCodeAt(Te+5)+Ut.charCodeAt(Te+6),ne={width:256*Ut.charCodeAt(Te+7)+Ut.charCodeAt(Te+8),height:Xt,numcomponents:Ut.charCodeAt(Te+9)};break}pt=256*Ut.charCodeAt(Te+2)+Ut.charCodeAt(Te+3)}return ne}(T=this.__addimage__.isArrayBufferView(T)?this.__addimage__.arrayBufferToBinaryString(T):T)).numcomponents){case 1:rt=this.color_spaces.DEVICE_GRAY;break;case 4:rt=this.color_spaces.DEVICE_CMYK;break;case 3:rt=this.color_spaces.DEVICE_RGB}Bt={data:T,width:st.width,height:st.height,colorSpace:rt,bitsPerComponent:8,filter:_t,index:N,alias:W}}return Bt}}(_e.API);var qo,Us,el,H0,Sc,Vl=function(){var L,O,T;function N(D){var X,rt,st,_t,Bt,Ut,Xt,pt,ce,ne,Te,Yt,pe,ze;for(this.data=D,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ut=null;;){switch(X=this.readUInt32(),ce=function(){var sr,Tr;for(Tr=[],sr=0;sr<4;++sr)Tr.push(String.fromCharCode(this.data[this.pos++]));return Tr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(X);break;case"fcTL":Ut&&this.animation.frames.push(Ut),this.pos+=4,Ut={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Bt=this.readUInt16(),_t=this.readUInt16()||100,Ut.delay=1e3*Bt/_t,Ut.disposeOp=this.data[this.pos++],Ut.blendOp=this.data[this.pos++],Ut.data=[];break;case"IDAT":case"fdAT":for(ce==="fdAT"&&(this.pos+=4,X-=4),D=(Ut!=null?Ut.data:void 0)||this.imgData,Yt=0;0<=X?Yt<X:Yt>X;0<=X?++Yt:--Yt)D.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(st=this.palette.length/3,this.transparency.indexed=this.read(X),this.transparency.indexed.length>st)throw new Error("More transparent colors than palette size");if((ne=st-this.transparency.indexed.length)>0)for(pe=0;0<=ne?pe<ne:pe>ne;0<=ne?++pe:--pe)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(X)[0];break;case 2:this.transparency.rgb=this.read(X)}break;case"tEXt":Xt=(Te=this.read(X)).indexOf(0),pt=String.fromCharCode.apply(String,Te.slice(0,Xt)),this.text[pt]=String.fromCharCode.apply(String,Te.slice(Xt+1));break;case"IEND":return Ut&&this.animation.frames.push(Ut),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(ze=this.colorType)===4||ze===6,rt=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*rt,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=X}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}N.prototype.read=function(D){var X,rt;for(rt=[],X=0;0<=D?X<D:X>D;0<=D?++X:--X)rt.push(this.data[this.pos++]);return rt},N.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},N.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},N.prototype.decodePixels=function(D){var X=this.pixelBitlength/8,rt=new Uint8Array(this.width*this.height*X),st=0,_t=this;if(D==null&&(D=this.imgData),D.length===0)return new Uint8Array(0);function Bt(Ut,Xt,pt,ce){var ne,Te,Yt,pe,ze,sr,Tr,Zr,pr,je,Rr,vr,Zt,Jt,Le,xe,yr,dr,Lr,nr,ur,Or=Math.ceil((_t.width-Ut)/pt),xn=Math.ceil((_t.height-Xt)/ce),It=_t.width==Or&&_t.height==xn;for(Jt=X*Or,vr=It?rt:new Uint8Array(Jt*xn),sr=D.length,Zt=0,Te=0;Zt<xn&&st<sr;){switch(D[st++]){case 0:for(pe=yr=0;yr<Jt;pe=yr+=1)vr[Te++]=D[st++];break;case 1:for(pe=dr=0;dr<Jt;pe=dr+=1)ne=D[st++],ze=pe<X?0:vr[Te-X],vr[Te++]=(ne+ze)%256;break;case 2:for(pe=Lr=0;Lr<Jt;pe=Lr+=1)ne=D[st++],Yt=(pe-pe%X)/X,Le=Zt&&vr[(Zt-1)*Jt+Yt*X+pe%X],vr[Te++]=(Le+ne)%256;break;case 3:for(pe=nr=0;nr<Jt;pe=nr+=1)ne=D[st++],Yt=(pe-pe%X)/X,ze=pe<X?0:vr[Te-X],Le=Zt&&vr[(Zt-1)*Jt+Yt*X+pe%X],vr[Te++]=(ne+Math.floor((ze+Le)/2))%256;break;case 4:for(pe=ur=0;ur<Jt;pe=ur+=1)ne=D[st++],Yt=(pe-pe%X)/X,ze=pe<X?0:vr[Te-X],Zt===0?Le=xe=0:(Le=vr[(Zt-1)*Jt+Yt*X+pe%X],xe=Yt&&vr[(Zt-1)*Jt+(Yt-1)*X+pe%X]),Tr=ze+Le-xe,Zr=Math.abs(Tr-ze),je=Math.abs(Tr-Le),Rr=Math.abs(Tr-xe),pr=Zr<=je&&Zr<=Rr?ze:je<=Rr?Le:xe,vr[Te++]=(ne+pr)%256;break;default:throw new Error("Invalid filter algorithm: "+D[st-1])}if(!It){var oe=((Xt+Zt*ce)*_t.width+Ut)*X,ge=Zt*Jt;for(pe=0;pe<Or;pe+=1){for(var Ce=0;Ce<X;Ce+=1)rt[oe++]=vr[ge++];oe+=(pt-1)*X}}Zt++}}return D=Object(b.a)(D),_t.interlaceMethod==1?(Bt(0,0,8,8),Bt(4,0,8,8),Bt(0,4,4,8),Bt(2,0,4,4),Bt(0,2,2,4),Bt(1,0,2,2),Bt(0,1,1,2)):Bt(0,0,1,1),rt},N.prototype.decodePalette=function(){var D,X,rt,st,_t,Bt,Ut,Xt,pt;for(rt=this.palette,Bt=this.transparency.indexed||[],_t=new Uint8Array((Bt.length||0)+rt.length),st=0,D=0,X=Ut=0,Xt=rt.length;Ut<Xt;X=Ut+=3)_t[st++]=rt[X],_t[st++]=rt[X+1],_t[st++]=rt[X+2],_t[st++]=(pt=Bt[D++])!=null?pt:255;return _t},N.prototype.copyToImageData=function(D,X){var rt,st,_t,Bt,Ut,Xt,pt,ce,ne,Te,Yt;if(st=this.colors,ne=null,rt=this.hasAlphaChannel,this.palette.length&&(ne=(Yt=this._decodedPalette)!=null?Yt:this._decodedPalette=this.decodePalette(),st=4,rt=!0),ce=(_t=D.data||D).length,Ut=ne||X,Bt=Xt=0,st===1)for(;Bt<ce;)pt=ne?4*X[Bt/4]:Xt,Te=Ut[pt++],_t[Bt++]=Te,_t[Bt++]=Te,_t[Bt++]=Te,_t[Bt++]=rt?Ut[pt++]:255,Xt=pt;else for(;Bt<ce;)pt=ne?4*X[Bt/4]:Xt,_t[Bt++]=Ut[pt++],_t[Bt++]=Ut[pt++],_t[Bt++]=Ut[pt++],_t[Bt++]=rt?Ut[pt++]:255,Xt=pt},N.prototype.decode=function(){var D;return D=new Uint8Array(this.width*this.height*4),this.copyToImageData(D,this.decodePixels()),D};var W=function(){if(Object.prototype.toString.call(M)==="[object Window]"){try{O=M.document.createElement("canvas"),T=O.getContext("2d")}catch{return!1}return!0}return!1};return W(),L=function(D){var X;if(W()===!0)return T.width=D.width,T.height=D.height,T.clearRect(0,0,D.width,D.height),T.putImageData(D,0,0),(X=new Image).src=O.toDataURL(),X;throw new Error("This method requires a Browser with Canvas-capability.")},N.prototype.decodeFrames=function(D){var X,rt,st,_t,Bt,Ut,Xt,pt;if(this.animation){for(pt=[],rt=Bt=0,Ut=(Xt=this.animation.frames).length;Bt<Ut;rt=++Bt)X=Xt[rt],st=D.createImageData(X.width,X.height),_t=this.decodePixels(new Uint8Array(X.data)),this.copyToImageData(st,_t),X.imageData=st,pt.push(X.image=L(st));return pt}},N.prototype.renderFrame=function(D,X){var rt,st,_t;return rt=(st=this.animation.frames)[X],_t=st[X-1],X===0&&D.clearRect(0,0,this.width,this.height),(_t!=null?_t.disposeOp:void 0)===1?D.clearRect(_t.xOffset,_t.yOffset,_t.width,_t.height):(_t!=null?_t.disposeOp:void 0)===2&&D.putImageData(_t.imageData,_t.xOffset,_t.yOffset),rt.blendOp===0&&D.clearRect(rt.xOffset,rt.yOffset,rt.width,rt.height),D.drawImage(rt.image,rt.xOffset,rt.yOffset)},N.prototype.animate=function(D){var X,rt,st,_t,Bt,Ut,Xt=this;return rt=0,Ut=this.animation,_t=Ut.numFrames,st=Ut.frames,Bt=Ut.numPlays,(X=function(){var pt,ce;if(pt=rt++%_t,ce=st[pt],Xt.renderFrame(D,pt),_t>1&&rt/_t<Bt)return Xt.animation._timeout=setTimeout(X,ce.delay)})()},N.prototype.stopAnimation=function(){var D;return clearTimeout((D=this.animation)!=null?D._timeout:void 0)},N.prototype.render=function(D){var X,rt;return D._png&&D._png.stopAnimation(),D._png=this,D.width=this.width,D.height=this.height,X=D.getContext("2d"),this.animation?(this.decodeFrames(X),this.animate(X)):(rt=X.createImageData(this.width,this.height),this.copyToImageData(rt,this.decodePixels()),X.putImageData(rt,0,0))},N}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Fa(L){var O=0;if(L[O++]!==71||L[O++]!==73||L[O++]!==70||L[O++]!==56||(L[O++]+1&253)!=56||L[O++]!==97)throw new Error("Invalid GIF 87a/89a header.");var T=L[O++]|L[O++]<<8,N=L[O++]|L[O++]<<8,W=L[O++],D=W>>7,X=1<<(7&W)+1;L[O++],L[O++];var rt=null,st=null;D&&(rt=O,st=X,O+=3*X);var _t=!0,Bt=[],Ut=0,Xt=null,pt=0,ce=null;for(this.width=T,this.height=N;_t&&O<L.length;)switch(L[O++]){case 33:switch(L[O++]){case 255:if(L[O]!==11||L[O+1]==78&&L[O+2]==69&&L[O+3]==84&&L[O+4]==83&&L[O+5]==67&&L[O+6]==65&&L[O+7]==80&&L[O+8]==69&&L[O+9]==50&&L[O+10]==46&&L[O+11]==48&&L[O+12]==3&&L[O+13]==1&&L[O+16]==0)O+=14,ce=L[O++]|L[O++]<<8,O++;else for(O+=12;;){if(!((Zt=L[O++])>=0))throw Error("Invalid block size");if(Zt===0)break;O+=Zt}break;case 249:if(L[O++]!==4||L[O+4]!==0)throw new Error("Invalid graphics extension block.");var ne=L[O++];Ut=L[O++]|L[O++]<<8,Xt=L[O++],(1&ne)==0&&(Xt=null),pt=ne>>2&7,O++;break;case 254:for(;;){if(!((Zt=L[O++])>=0))throw Error("Invalid block size");if(Zt===0)break;O+=Zt}break;default:throw new Error("Unknown graphic control label: 0x"+L[O-1].toString(16))}break;case 44:var Te=L[O++]|L[O++]<<8,Yt=L[O++]|L[O++]<<8,pe=L[O++]|L[O++]<<8,ze=L[O++]|L[O++]<<8,sr=L[O++],Tr=sr>>6&1,Zr=1<<(7&sr)+1,pr=rt,je=st,Rr=!1;sr>>7&&(Rr=!0,pr=O,je=Zr,O+=3*Zr);var vr=O;for(O++;;){var Zt;if(!((Zt=L[O++])>=0))throw Error("Invalid block size");if(Zt===0)break;O+=Zt}Bt.push({x:Te,y:Yt,width:pe,height:ze,has_local_palette:Rr,palette_offset:pr,palette_size:je,data_offset:vr,data_length:O-vr,transparent_index:Xt,interlaced:!!Tr,delay:Ut,disposal:pt});break;case 59:_t=!1;break;default:throw new Error("Unknown gif block: 0x"+L[O-1].toString(16))}this.numFrames=function(){return Bt.length},this.loopCount=function(){return ce},this.frameInfo=function(Jt){if(Jt<0||Jt>=Bt.length)throw new Error("Frame index out of range.");return Bt[Jt]},this.decodeAndBlitFrameBGRA=function(Jt,Le){var xe=this.frameInfo(Jt),yr=xe.width*xe.height,dr=new Uint8Array(yr);Qo(L,xe.data_offset,dr,yr);var Lr=xe.palette_offset,nr=xe.transparent_index;nr===null&&(nr=256);var ur=xe.width,Or=T-ur,xn=ur,It=4*(xe.y*T+xe.x),oe=4*((xe.y+xe.height)*T+xe.x),ge=It,Ce=4*Or;xe.interlaced===!0&&(Ce+=4*T*7);for(var Ge=8,qe=0,ir=dr.length;qe<ir;++qe){var rr=dr[qe];if(xn===0&&(xn=ur,(ge+=Ce)>=oe&&(Ce=4*Or+4*T*(Ge-1),ge=It+(ur+Or)*(Ge<<1),Ge>>=1)),rr===nr)ge+=4;else{var Jr=L[Lr+3*rr],Yr=L[Lr+3*rr+1],hn=L[Lr+3*rr+2];Le[ge++]=hn,Le[ge++]=Yr,Le[ge++]=Jr,Le[ge++]=255}--xn}},this.decodeAndBlitFrameRGBA=function(Jt,Le){var xe=this.frameInfo(Jt),yr=xe.width*xe.height,dr=new Uint8Array(yr);Qo(L,xe.data_offset,dr,yr);var Lr=xe.palette_offset,nr=xe.transparent_index;nr===null&&(nr=256);var ur=xe.width,Or=T-ur,xn=ur,It=4*(xe.y*T+xe.x),oe=4*((xe.y+xe.height)*T+xe.x),ge=It,Ce=4*Or;xe.interlaced===!0&&(Ce+=4*T*7);for(var Ge=8,qe=0,ir=dr.length;qe<ir;++qe){var rr=dr[qe];if(xn===0&&(xn=ur,(ge+=Ce)>=oe&&(Ce=4*Or+4*T*(Ge-1),ge=It+(ur+Or)*(Ge<<1),Ge>>=1)),rr===nr)ge+=4;else{var Jr=L[Lr+3*rr],Yr=L[Lr+3*rr+1],hn=L[Lr+3*rr+2];Le[ge++]=Jr,Le[ge++]=Yr,Le[ge++]=hn,Le[ge++]=255}--xn}}}function Qo(L,O,T,N){for(var W=L[O++],D=1<<W,X=D+1,rt=X+1,st=W+1,_t=(1<<st)-1,Bt=0,Ut=0,Xt=0,pt=L[O++],ce=new Int32Array(4096),ne=null;;){for(;Bt<16&&pt!==0;)Ut|=L[O++]<<Bt,Bt+=8,pt===1?pt=L[O++]:--pt;if(Bt<st)break;var Te=Ut&_t;if(Ut>>=st,Bt-=st,Te!==D){if(Te===X)break;for(var Yt=Te<rt?Te:ne,pe=0,ze=Yt;ze>D;)ze=ce[ze]>>8,++pe;var sr=ze;if(Xt+pe+(Yt!==Te?1:0)>N)return void k.log("Warning, gif stream longer than expected.");T[Xt++]=sr;var Tr=Xt+=pe;for(Yt!==Te&&(T[Xt++]=sr),ze=Yt;pe--;)ze=ce[ze],T[--Tr]=255&ze,ze>>=8;ne!==null&&rt<4096&&(ce[rt++]=ne<<8|sr,rt>=_t+1&&st<12&&(++st,_t=_t<<1|1)),ne=Te}else rt=X+1,_t=(1<<(st=W+1))-1,ne=null}return Xt!==N&&k.log("Warning, gif stream shorter than expected."),T}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function rl(L){var O,T,N,W,D,X=Math.floor,rt=new Array(64),st=new Array(64),_t=new Array(64),Bt=new Array(64),Ut=new Array(65535),Xt=new Array(65535),pt=new Array(64),ce=new Array(64),ne=[],Te=0,Yt=7,pe=new Array(64),ze=new Array(64),sr=new Array(64),Tr=new Array(256),Zr=new Array(2048),pr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],je=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Rr=[0,1,2,3,4,5,6,7,8,9,10,11],vr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Zt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Jt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Le=[0,1,2,3,4,5,6,7,8,9,10,11],xe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],yr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function dr(It,oe){for(var ge=0,Ce=0,Ge=new Array,qe=1;qe<=16;qe++){for(var ir=1;ir<=It[qe];ir++)Ge[oe[Ce]]=[],Ge[oe[Ce]][0]=ge,Ge[oe[Ce]][1]=qe,Ce++,ge++;ge*=2}return Ge}function Lr(It){for(var oe=It[0],ge=It[1]-1;ge>=0;)oe&1<<ge&&(Te|=1<<Yt),ge--,--Yt<0&&(Te==255?(nr(255),nr(0)):nr(Te),Yt=7,Te=0)}function nr(It){ne.push(It)}function ur(It){nr(It>>8&255),nr(255&It)}function Or(It,oe,ge,Ce,Ge){for(var qe,ir=Ge[0],rr=Ge[240],Jr=function(zr,nn){var sn,an,Bn,di,ai,wi,zi,ri,Wn,yi,vn=0;for(Wn=0;Wn<8;++Wn){sn=zr[vn],an=zr[vn+1],Bn=zr[vn+2],di=zr[vn+3],ai=zr[vn+4],wi=zr[vn+5],zi=zr[vn+6];var Da=sn+(ri=zr[vn+7]),Dn=sn-ri,ha=an+zi,Vi=an-zi,Eo=Bn+wi,bs=Bn-wi,Wi=di+ai,ds=di-ai,Go=Da+Wi,Ea=Da-Wi,As=ha+Eo,So=ha-Eo;zr[vn]=Go+As,zr[vn+4]=Go-As;var Yn=.707106781*(So+Ea);zr[vn+2]=Ea+Yn,zr[vn+6]=Ea-Yn;var gn=.382683433*((Go=ds+bs)-(So=Vi+Dn)),ta=.5411961*Go+gn,oa=1.306562965*So+gn,zs=.707106781*(As=bs+Vi),ps=Dn+zs,Un=Dn-zs;zr[vn+5]=Un+ta,zr[vn+3]=Un-ta,zr[vn+1]=ps+oa,zr[vn+7]=ps-oa,vn+=8}for(vn=0,Wn=0;Wn<8;++Wn){sn=zr[vn],an=zr[vn+8],Bn=zr[vn+16],di=zr[vn+24],ai=zr[vn+32],wi=zr[vn+40],zi=zr[vn+48];var $i=sn+(ri=zr[vn+56]),ts=sn-ri,ja=an+zi,da=an-zi,cn=Bn+wi,is=Bn-wi,_u=di+ai,xl=di-ai,vs=$i+_u,Ee=$i-_u,Aa=ja+cn,aa=ja-cn;zr[vn]=vs+Aa,zr[vn+32]=vs-Aa;var Yi=.707106781*(aa+Ee);zr[vn+16]=Ee+Yi,zr[vn+48]=Ee-Yi;var Ui=.382683433*((vs=xl+is)-(aa=da+ts)),sa=.5411961*vs+Ui,nl=1.306562965*aa+Ui,Sa=.707106781*(Aa=is+da),Wl=ts+Sa,Ga=ts-Sa;zr[vn+40]=Ga+sa,zr[vn+24]=Ga-sa,zr[vn+8]=Wl+nl,zr[vn+56]=Wl-nl,vn++}for(Wn=0;Wn<64;++Wn)yi=zr[Wn]*nn[Wn],pt[Wn]=yi>0?yi+.5|0:yi-.5|0;return pt}(It,oe),Yr=0;Yr<64;++Yr)ce[pr[Yr]]=Jr[Yr];var hn=ce[0]-ge;ge=ce[0],hn==0?Lr(Ce[0]):(Lr(Ce[Xt[qe=32767+hn]]),Lr(Ut[qe]));for(var On=63;On>0&&ce[On]==0;)On--;if(On==0)return Lr(ir),ge;for(var Vn,mr=1;mr<=On;){for(var fe=mr;ce[mr]==0&&mr<=On;)++mr;var ci=mr-fe;if(ci>=16){Vn=ci>>4;for(var An=1;An<=Vn;++An)Lr(rr);ci&=15}qe=32767+ce[mr],Lr(Ge[(ci<<4)+Xt[qe]]),Lr(Ut[qe]),mr++}return On!=63&&Lr(ir),ge}function xn(It){It=Math.min(Math.max(It,1),100),D!=It&&(function(oe){for(var ge=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ce=0;Ce<64;Ce++){var Ge=X((ge[Ce]*oe+50)/100);Ge=Math.min(Math.max(Ge,1),255),rt[pr[Ce]]=Ge}for(var qe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ir=0;ir<64;ir++){var rr=X((qe[ir]*oe+50)/100);rr=Math.min(Math.max(rr,1),255),st[pr[ir]]=rr}for(var Jr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Yr=0,hn=0;hn<8;hn++)for(var On=0;On<8;On++)_t[Yr]=1/(rt[pr[Yr]]*Jr[hn]*Jr[On]*8),Bt[Yr]=1/(st[pr[Yr]]*Jr[hn]*Jr[On]*8),Yr++}(It<50?Math.floor(5e3/It):Math.floor(200-2*It)),D=It)}this.encode=function(It,oe){oe&&xn(oe),ne=new Array,Te=0,Yt=7,ur(65496),ur(65504),ur(16),nr(74),nr(70),nr(73),nr(70),nr(0),nr(1),nr(1),nr(0),ur(1),ur(1),nr(0),nr(0),function(){ur(65499),ur(132),nr(0);for(var an=0;an<64;an++)nr(rt[an]);nr(1);for(var Bn=0;Bn<64;Bn++)nr(st[Bn])}(),function(an,Bn){ur(65472),ur(17),nr(8),ur(Bn),ur(an),nr(3),nr(1),nr(17),nr(0),nr(2),nr(17),nr(1),nr(3),nr(17),nr(1)}(It.width,It.height),function(){ur(65476),ur(418),nr(0);for(var an=0;an<16;an++)nr(je[an+1]);for(var Bn=0;Bn<=11;Bn++)nr(Rr[Bn]);nr(16);for(var di=0;di<16;di++)nr(vr[di+1]);for(var ai=0;ai<=161;ai++)nr(Zt[ai]);nr(1);for(var wi=0;wi<16;wi++)nr(Jt[wi+1]);for(var zi=0;zi<=11;zi++)nr(Le[zi]);nr(17);for(var ri=0;ri<16;ri++)nr(xe[ri+1]);for(var Wn=0;Wn<=161;Wn++)nr(yr[Wn])}(),ur(65498),ur(12),nr(3),nr(1),nr(0),nr(2),nr(17),nr(3),nr(17),nr(0),nr(63),nr(0);var ge=0,Ce=0,Ge=0;Te=0,Yt=7,this.encode.displayName="_encode_";for(var qe,ir,rr,Jr,Yr,hn,On,Vn,mr,fe=It.data,ci=It.width,An=It.height,zr=4*ci,nn=0;nn<An;){for(qe=0;qe<zr;){for(Yr=zr*nn+qe,On=-1,Vn=0,mr=0;mr<64;mr++)hn=Yr+(Vn=mr>>3)*zr+(On=4*(7&mr)),nn+Vn>=An&&(hn-=zr*(nn+1+Vn-An)),qe+On>=zr&&(hn-=qe+On-zr+4),ir=fe[hn++],rr=fe[hn++],Jr=fe[hn++],pe[mr]=(Zr[ir]+Zr[rr+256>>0]+Zr[Jr+512>>0]>>16)-128,ze[mr]=(Zr[ir+768>>0]+Zr[rr+1024>>0]+Zr[Jr+1280>>0]>>16)-128,sr[mr]=(Zr[ir+1280>>0]+Zr[rr+1536>>0]+Zr[Jr+1792>>0]>>16)-128;ge=Or(pe,_t,ge,O,N),Ce=Or(ze,Bt,Ce,T,W),Ge=Or(sr,Bt,Ge,T,W),qe+=32}nn+=8}if(Yt>=0){var sn=[];sn[1]=Yt+1,sn[0]=(1<<Yt+1)-1,Lr(sn)}return ur(65497),new Uint8Array(ne)},L=L||50,function(){for(var It=String.fromCharCode,oe=0;oe<256;oe++)Tr[oe]=It(oe)}(),O=dr(je,Rr),T=dr(Jt,Le),N=dr(vr,Zt),W=dr(xe,yr),function(){for(var It=1,oe=2,ge=1;ge<=15;ge++){for(var Ce=It;Ce<oe;Ce++)Xt[32767+Ce]=ge,Ut[32767+Ce]=[],Ut[32767+Ce][1]=ge,Ut[32767+Ce][0]=Ce;for(var Ge=-(oe-1);Ge<=-It;Ge++)Xt[32767+Ge]=ge,Ut[32767+Ge]=[],Ut[32767+Ge][1]=ge,Ut[32767+Ge][0]=oe-1+Ge;It<<=1,oe<<=1}}(),function(){for(var It=0;It<256;It++)Zr[It]=19595*It,Zr[It+256>>0]=38470*It,Zr[It+512>>0]=7471*It+32768,Zr[It+768>>0]=-11059*It,Zr[It+1024>>0]=-21709*It,Zr[It+1280>>0]=32768*It+8421375,Zr[It+1536>>0]=-27439*It,Zr[It+1792>>0]=-5329*It}(),xn(L)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _o(L,O){if(this.pos=0,this.buffer=L,this.datav=new DataView(L.buffer),this.is_with_alpha=!!O,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mu(L){function O(je){if(!je)throw Error("assert :P")}function T(je,Rr,vr){for(var Zt=0;4>Zt;Zt++)if(je[Rr+Zt]!=vr.charCodeAt(Zt))return!0;return!1}function N(je,Rr,vr,Zt,Jt){for(var Le=0;Le<Jt;Le++)je[Rr+Le]=vr[Zt+Le]}function W(je,Rr,vr,Zt){for(var Jt=0;Jt<Zt;Jt++)je[Rr+Jt]=vr}function D(je){return new Int32Array(je)}function X(je,Rr){for(var vr=[],Zt=0;Zt<je;Zt++)vr.push(new Rr);return vr}function rt(je,Rr){var vr=[];return function Zt(Jt,Le,xe){for(var yr=xe[Le],dr=0;dr<yr&&(Jt.push(xe.length>Le+1?[]:new Rr),!(xe.length<Le+1));dr++)Zt(Jt[dr],Le+1,xe)}(vr,0,je),vr}var st=function(){var je=this;function Rr(m,A){for(var H=1<<A-1>>>0;m&H;)H>>>=1;return H?(m&H-1)+H:m}function vr(m,A,H,ut,St){O(!(ut%H));do m[A+(ut-=H)]=St;while(0<ut)}function Zt(m,A,H,ut,St){if(O(2328>=St),512>=St)var Mt=D(512);else if((Mt=D(St))==null)return 0;return function(Pt,Ft,zt,qt,Me,Ze){var Je,Be,Cr=Ft,gr=1<<zt,Re=D(16),Ie=D(16);for(O(Me!=0),O(qt!=null),O(Pt!=null),O(0<zt),Be=0;Be<Me;++Be){if(15<qt[Be])return 0;++Re[qt[Be]]}if(Re[0]==Me)return 0;for(Ie[1]=0,Je=1;15>Je;++Je){if(Re[Je]>1<<Je)return 0;Ie[Je+1]=Ie[Je]+Re[Je]}for(Be=0;Be<Me;++Be)Je=qt[Be],0<qt[Be]&&(Ze[Ie[Je]++]=Be);if(Ie[15]==1)return(qt=new Jt).g=0,qt.value=Ze[0],vr(Pt,Cr,1,gr,qt),gr;var Ar,Nr=-1,or=gr-1,Dr=0,mn=1,ni=1,lr=1<<zt;for(Be=0,Je=1,Me=2;Je<=zt;++Je,Me<<=1){if(mn+=ni<<=1,0>(ni-=Re[Je]))return 0;for(;0<Re[Je];--Re[Je])(qt=new Jt).g=Je,qt.value=Ze[Be++],vr(Pt,Cr+Dr,Me,lr,qt),Dr=Rr(Dr,Je)}for(Je=zt+1,Me=2;15>=Je;++Je,Me<<=1){if(mn+=ni<<=1,0>(ni-=Re[Je]))return 0;for(;0<Re[Je];--Re[Je]){if(qt=new Jt,(Dr&or)!=Nr){for(Cr+=lr,Ar=1<<(Nr=Je)-zt;15>Nr&&!(0>=(Ar-=Re[Nr]));)++Nr,Ar<<=1;gr+=lr=1<<(Ar=Nr-zt),Pt[Ft+(Nr=Dr&or)].g=Ar+zt,Pt[Ft+Nr].value=Cr-Ft-Nr}qt.g=Je-zt,qt.value=Ze[Be++],vr(Pt,Cr+(Dr>>zt),Me,lr,qt),Dr=Rr(Dr,Je)}}return mn!=2*Ie[15]-1?0:gr}(m,A,H,ut,St,Mt)}function Jt(){this.value=this.g=0}function Le(){this.value=this.g=0}function xe(){this.G=X(5,Jt),this.H=D(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=X(cl,Le)}function yr(m,A,H,ut){O(m!=null),O(A!=null),O(2147483648>ut),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=A,m.pa=H,m.Jd=A,m.Yc=H+ut,m.Zc=4<=ut?H+ut-4+1:H,qe(m)}function dr(m,A){for(var H=0;0<A--;)H|=rr(m,128)<<A;return H}function Lr(m,A){var H=dr(m,A);return ir(m)?-H:H}function nr(m,A,H,ut){var St,Mt=0;for(O(m!=null),O(A!=null),O(4294967288>ut),m.Sb=ut,m.Ra=0,m.u=0,m.h=0,4<ut&&(ut=4),St=0;St<ut;++St)Mt+=A[H+St]<<8*St;m.Ra=Mt,m.bb=ut,m.oa=A,m.pa=H}function ur(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Vc-8>>>0,++m.bb,m.u-=8;ge(m)&&(m.h=1,m.u=0)}function Or(m,A){if(O(0<=A),!m.h&&A<=$0){var H=oe(m)&Zl[A];return m.u+=A,ur(m),H}return m.h=1,m.u=0}function xn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function It(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function oe(m){return m.Ra>>>(m.u&Vc-1)>>>0}function ge(m){return O(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Vc}function Ce(m,A){m.u=A,m.h=ge(m)}function Ge(m){m.u>=wc&&(O(m.u>=wc),ur(m))}function qe(m){O(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(O(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ir(m){return dr(m,1)}function rr(m,A){var H=m.Ca;0>m.b&&qe(m);var ut=m.b,St=H*A>>>8,Mt=(m.I>>>ut>St)+0;for(Mt?(H-=St,m.I-=St+1<<ut>>>0):H=St+1,ut=H,St=0;256<=ut;)St+=8,ut>>=8;return ut=7^St+Ys[ut],m.b-=ut,m.Ca=(H<<ut)-1,Mt}function Jr(m,A,H){m[A+0]=H>>24&255,m[A+1]=H>>16&255,m[A+2]=H>>8&255,m[A+3]=H>>0&255}function Yr(m,A){return m[A+0]<<0|m[A+1]<<8}function hn(m,A){return Yr(m,A)|m[A+2]<<16}function On(m,A){return Yr(m,A)|Yr(m,A+2)<<16}function Vn(m,A){var H=1<<A;return O(m!=null),O(0<A),m.X=D(H),m.X==null?0:(m.Mb=32-A,m.Xa=A,1)}function mr(m,A){O(m!=null),O(A!=null),O(m.Xa==A.Xa),N(A.X,0,m.X,0,1<<A.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function ci(m,A,H,ut){O(H!=null),O(ut!=null);var St=H[0],Mt=ut[0];return St==0&&(St=(m*Mt+A/2)/A),Mt==0&&(Mt=(A*St+m/2)/m),0>=St||0>=Mt?0:(H[0]=St,ut[0]=Mt,1)}function An(m,A){return m+(1<<A)-1>>>A}function zr(m,A){return((4278255360&m)+(4278255360&A)>>>0&4278255360)+((16711935&m)+(16711935&A)>>>0&16711935)>>>0}function nn(m,A){je[A]=function(H,ut,St,Mt,Pt,Ft,zt){var qt;for(qt=0;qt<Pt;++qt){var Me=je[m](Ft[zt+qt-1],St,Mt+qt);Ft[zt+qt]=zr(H[ut+qt],Me)}}}function sn(){this.ud=this.hd=this.jd=0}function an(m,A){return((4278124286&(m^A))>>>1)+(m&A)>>>0}function Bn(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function di(m,A){return Bn(m+(m-A+.5>>1))}function ai(m,A,H){return Math.abs(A-H)-Math.abs(m-H)}function wi(m,A,H,ut,St,Mt,Pt){for(ut=Mt[Pt-1],H=0;H<St;++H)Mt[Pt+H]=ut=zr(m[A+H],ut)}function zi(m,A,H,ut,St){var Mt;for(Mt=0;Mt<H;++Mt){var Pt=m[A+Mt],Ft=Pt>>8&255,zt=16711935&(zt=(zt=16711935&Pt)+((Ft<<16)+Ft));ut[St+Mt]=(4278255360&Pt)+zt>>>0}}function ri(m,A){A.jd=m>>0&255,A.hd=m>>8&255,A.ud=m>>16&255}function Wn(m,A,H,ut,St,Mt){var Pt;for(Pt=0;Pt<ut;++Pt){var Ft=A[H+Pt],zt=Ft>>>8,qt=Ft,Me=255&(Me=(Me=Ft>>>16)+((m.jd<<24>>24)*(zt<<24>>24)>>>5));qt=255&(qt=(qt=qt+((m.hd<<24>>24)*(zt<<24>>24)>>>5))+((m.ud<<24>>24)*(Me<<24>>24)>>>5)),St[Mt+Pt]=(4278255360&Ft)+(Me<<16)+qt}}function yi(m,A,H,ut,St){je[A]=function(Mt,Pt,Ft,zt,qt,Me,Ze,Je,Be){for(zt=Ze;zt<Je;++zt)for(Ze=0;Ze<Be;++Ze)qt[Me++]=St(Ft[ut(Mt[Pt++])])},je[m]=function(Mt,Pt,Ft,zt,qt,Me,Ze){var Je=8>>Mt.b,Be=Mt.Ea,Cr=Mt.K[0],gr=Mt.w;if(8>Je)for(Mt=(1<<Mt.b)-1,gr=(1<<Je)-1;Pt<Ft;++Pt){var Re,Ie=0;for(Re=0;Re<Be;++Re)Re&Mt||(Ie=ut(zt[qt++])),Me[Ze++]=St(Cr[Ie&gr]),Ie>>=Je}else je["VP8LMapColor"+H](zt,qt,Cr,gr,Me,Ze,Pt,Ft,Be)}}function vn(m,A,H,ut,St){for(H=A+H;A<H;){var Mt=m[A++];ut[St++]=Mt>>16&255,ut[St++]=Mt>>8&255,ut[St++]=Mt>>0&255}}function Da(m,A,H,ut,St){for(H=A+H;A<H;){var Mt=m[A++];ut[St++]=Mt>>16&255,ut[St++]=Mt>>8&255,ut[St++]=Mt>>0&255,ut[St++]=Mt>>24&255}}function Dn(m,A,H,ut,St){for(H=A+H;A<H;){var Mt=(Pt=m[A++])>>16&240|Pt>>12&15,Pt=Pt>>0&240|Pt>>28&15;ut[St++]=Mt,ut[St++]=Pt}}function ha(m,A,H,ut,St){for(H=A+H;A<H;){var Mt=(Pt=m[A++])>>16&248|Pt>>13&7,Pt=Pt>>5&224|Pt>>3&31;ut[St++]=Mt,ut[St++]=Pt}}function Vi(m,A,H,ut,St){for(H=A+H;A<H;){var Mt=m[A++];ut[St++]=Mt>>0&255,ut[St++]=Mt>>8&255,ut[St++]=Mt>>16&255}}function Eo(m,A,H,ut,St,Mt){if(Mt==0)for(H=A+H;A<H;)Jr(ut,((Mt=m[A++])[0]>>24|Mt[1]>>8&65280|Mt[2]<<8&16711680|Mt[3]<<24)>>>0),St+=32;else N(ut,St,m,A,H)}function bs(m,A){je[A][0]=je[m+"0"],je[A][1]=je[m+"1"],je[A][2]=je[m+"2"],je[A][3]=je[m+"3"],je[A][4]=je[m+"4"],je[A][5]=je[m+"5"],je[A][6]=je[m+"6"],je[A][7]=je[m+"7"],je[A][8]=je[m+"8"],je[A][9]=je[m+"9"],je[A][10]=je[m+"10"],je[A][11]=je[m+"11"],je[A][12]=je[m+"12"],je[A][13]=je[m+"13"],je[A][14]=je[m+"0"],je[A][15]=je[m+"0"]}function Wi(m){return m==Cp||m==Lp||m==Kc||m==q0}function ds(){this.eb=[],this.size=this.A=this.fb=0}function Go(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ea(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ds,this.f.kb=new Go,this.sd=null}function As(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function So(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yn(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function gn(m,A){var H=m.T,ut=A.ba.f.RGBA,St=ut.eb,Mt=ut.fb+m.ka*ut.A,Pt=as[A.ba.S],Ft=m.y,zt=m.O,qt=m.f,Me=m.N,Ze=m.ea,Je=m.W,Be=A.cc,Cr=A.dc,gr=A.Mc,Re=A.Nc,Ie=m.ka,Ar=m.ka+m.T,Nr=m.U,or=Nr+1>>1;for(Ie==0?Pt(Ft,zt,null,null,qt,Me,Ze,Je,qt,Me,Ze,Je,St,Mt,null,null,Nr):(Pt(A.ec,A.fc,Ft,zt,Be,Cr,gr,Re,qt,Me,Ze,Je,St,Mt-ut.A,St,Mt,Nr),++H);Ie+2<Ar;Ie+=2)Be=qt,Cr=Me,gr=Ze,Re=Je,Me+=m.Rc,Je+=m.Rc,Mt+=2*ut.A,Pt(Ft,(zt+=2*m.fa)-m.fa,Ft,zt,Be,Cr,gr,Re,qt,Me,Ze,Je,St,Mt-ut.A,St,Mt,Nr);return zt+=m.fa,m.j+Ar<m.o?(N(A.ec,A.fc,Ft,zt,Nr),N(A.cc,A.dc,qt,Me,or),N(A.Mc,A.Nc,Ze,Je,or),H--):1&Ar||Pt(Ft,zt,null,null,qt,Me,Ze,Je,qt,Me,Ze,Je,St,Mt+ut.A,null,null,Nr),H}function ta(m,A,H){var ut=m.F,St=[m.J];if(ut!=null){var Mt=m.U,Pt=A.ba.S,Ft=Pt==Zh||Pt==Kc;A=A.ba.f.RGBA;var zt=[0],qt=m.ka;zt[0]=m.T,m.Kb&&(qt==0?--zt[0]:(--qt,St[0]-=m.width),m.j+m.ka+m.T==m.o&&(zt[0]=m.o-m.j-qt));var Me=A.eb;qt=A.fb+qt*A.A,m=qf(ut,St[0],m.width,Mt,zt,Me,qt+(Ft?0:3),A.A),O(H==zt),m&&Wi(Pt)&&ua(Me,qt,Ft,Mt,zt,A.A)}return 0}function oa(m){var A=m.ma,H=A.ba.S,ut=11>H,St=H==$h||H==eh||H==Zh||H==rh||H==12||Wi(H);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!$f(A.Oa,m,St?11:12))return 0;if(St&&Wi(H)&&Er(),m.da)alert("todo:use_scaling");else{if(ut){if(A.Ib=Yn,m.Kb){if(H=m.U+1>>1,A.memory=D(m.U+2*H),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+m.U,A.Mc=A.cc,A.Nc=A.dc+H,A.Ib=gn,Er()}}else alert("todo:EmitYUV");St&&(A.Jb=ta,ut&&Ve())}if(ut&&!oh){for(m=0;256>m;++m)jp[m]=89858*(m-128)+td>>Qh,Pm[m]=-22014*(m-128)+td,Lm[m]=-45773*(m-128),Cm[m]=113618*(m-128)+td>>Qh;for(m=ih;m<Dp;++m)A=76283*(m-16)+td>>Qh,Im[m-ih]=os(A,255),Nm[m-ih]=os(A+8>>4,15);oh=1}return 1}function zs(m){var A=m.ma,H=m.U,ut=m.T;return O(!(1&m.ka)),0>=H||0>=ut?0:(H=A.Ib(m,A),A.Jb!=null&&A.Jb(m,A,H),A.Dc+=H,1)}function ps(m){m.ma.memory=null}function Un(m,A,H,ut){return Or(m,8)!=47?0:(A[0]=Or(m,14)+1,H[0]=Or(m,14)+1,ut[0]=Or(m,1),Or(m,3)!=0?0:!m.h)}function $i(m,A){if(4>m)return m+1;var H=m-2>>1;return(2+(1&m)<<H)+Or(A,H)+1}function ts(m,A){return 120<A?A-120:1<=(H=((H=Pp[A-1])>>4)*m+(8-(15&H)))?H:1;var H}function ja(m,A,H){var ut=oe(H),St=m[A+=255&ut].g-8;return 0<St&&(Ce(H,H.u+8),ut=oe(H),A+=m[A].value,A+=ut&(1<<St)-1),Ce(H,H.u+m[A].g),m[A].value}function da(m,A,H){return H.g+=m.g,H.value+=m.value<<A>>>0,O(8>=H.g),m.g}function cn(m,A,H){var ut=m.xc;return O((A=ut==0?0:m.vc[m.md*(H>>ut)+(A>>ut)])<m.Wb),m.Ya[A]}function is(m,A,H,ut){var St=m.ab,Mt=m.c*A,Pt=m.C;A=Pt+A;var Ft=H,zt=ut;for(ut=m.Ta,H=m.Ua;0<St--;){var qt=m.gc[St],Me=Pt,Ze=A,Je=Ft,Be=zt,Cr=(zt=ut,Ft=H,qt.Ea);switch(O(Me<Ze),O(Ze<=qt.nc),qt.hc){case 2:Kh(Je,Be,(Ze-Me)*Cr,zt,Ft);break;case 0:var gr=Me,Re=Ze,Ie=zt,Ar=Ft,Nr=(lr=qt).Ea;gr==0&&(Xh(Je,Be,null,null,1,Ie,Ar),wi(Je,Be+1,0,0,Nr-1,Ie,Ar+1),Be+=Nr,Ar+=Nr,++gr);for(var or=1<<lr.b,Dr=or-1,mn=An(Nr,lr.b),ni=lr.K,lr=lr.w+(gr>>lr.b)*mn;gr<Re;){var Ro=ni,xo=lr,fo=1;for(Z0(Je,Be,Ie,Ar-Nr,1,Ie,Ar);fo<Nr;){var io=(fo&~Dr)+or;io>Nr&&(io=Nr),(0,Mu[Ro[xo++]>>8&15])(Je,Be+ +fo,Ie,Ar+fo-Nr,io-fo,Ie,Ar+fo),fo=io}Be+=Nr,Ar+=Nr,++gr&Dr||(lr+=mn)}Ze!=qt.nc&&N(zt,Ft-Cr,zt,Ft+(Ze-Me-1)*Cr,Cr);break;case 1:for(Cr=Je,Re=Be,Nr=(Je=qt.Ea)-(Ar=Je&~(Ie=(Be=1<<qt.b)-1)),gr=An(Je,qt.b),or=qt.K,qt=qt.w+(Me>>qt.b)*gr;Me<Ze;){for(Dr=or,mn=qt,ni=new sn,lr=Re+Ar,Ro=Re+Je;Re<lr;)ri(Dr[mn++],ni),Ml(ni,Cr,Re,Be,zt,Ft),Re+=Be,Ft+=Be;Re<Ro&&(ri(Dr[mn++],ni),Ml(ni,Cr,Re,Nr,zt,Ft),Re+=Nr,Ft+=Nr),++Me&Ie||(qt+=gr)}break;case 3:if(Je==zt&&Be==Ft&&0<qt.b){for(Re=zt,Je=Cr=Ft+(Ze-Me)*Cr-(Ar=(Ze-Me)*An(qt.Ea,qt.b)),Be=zt,Ie=Ft,gr=[],Ar=(Nr=Ar)-1;0<=Ar;--Ar)gr[Ar]=Be[Ie+Ar];for(Ar=Nr-1;0<=Ar;--Ar)Re[Je+Ar]=gr[Ar];Au(qt,Me,Ze,zt,Cr,zt,Ft)}else Au(qt,Me,Ze,Je,Be,zt,Ft)}Ft=ut,zt=H}zt!=H&&N(ut,H,Ft,zt,Mt)}function _u(m,A){var H=m.V,ut=m.Ba+m.c*m.C,St=A-m.C;if(O(A<=m.l.o),O(16>=St),0<St){var Mt=m.l,Pt=m.Ta,Ft=m.Ua,zt=Mt.width;if(is(m,St,H,ut),St=Ft=[Ft],O((H=m.C)<(ut=A)),O(Mt.v<Mt.va),ut>Mt.o&&(ut=Mt.o),H<Mt.j){var qt=Mt.j-H;H=Mt.j,St[0]+=qt*zt}if(H>=ut?H=0:(St[0]+=4*Mt.v,Mt.ka=H-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=ut-H,H=1),H){if(Ft=Ft[0],11>(H=m.ca).S){var Me=H.f.RGBA,Ze=(ut=H.S,St=Mt.U,Mt=Mt.T,qt=Me.eb,Me.A),Je=Mt;for(Me=Me.fb+m.Ma*Me.A;0<Je--;){var Be=Pt,Cr=Ft,gr=St,Re=qt,Ie=Me;switch(ut){case th:Ru(Be,Cr,gr,Re,Ie);break;case $h:t0(Be,Cr,gr,Re,Ie);break;case Cp:t0(Be,Cr,gr,Re,Ie),ua(Re,Ie,0,gr,1,0);break;case Ov:w0(Be,Cr,gr,Re,Ie);break;case eh:Eo(Be,Cr,gr,Re,Ie,1);break;case Lp:Eo(Be,Cr,gr,Re,Ie,1),ua(Re,Ie,0,gr,1,0);break;case Zh:Eo(Be,Cr,gr,Re,Ie,0);break;case Kc:Eo(Be,Cr,gr,Re,Ie,0),ua(Re,Ie,1,gr,1,0);break;case rh:Cu(Be,Cr,gr,Re,Ie);break;case q0:Cu(Be,Cr,gr,Re,Ie),Xc(Re,Ie,gr,1,0);break;case Tv:S0(Be,Cr,gr,Re,Ie);break;default:O(0)}Ft+=zt,Me+=Ze}m.Ma+=Mt}else alert("todo:EmitRescaledRowsYUVA");O(m.Ma<=H.height)}}m.C=A,O(m.C<=m.i)}function xl(m){var A;if(0<m.ua)return 0;for(A=0;A<m.Wb;++A){var H=m.Ya[A].G,ut=m.Ya[A].H;if(0<H[1][ut[1]+0].g||0<H[2][ut[2]+0].g||0<H[3][ut[3]+0].g)return 0}return 1}function vs(m,A,H,ut,St,Mt){if(m.Z!=0){var Pt=m.qd,Ft=m.rd;for(O(n0[m.Z]!=null);A<H;++A)n0[m.Z](Pt,Ft,ut,St,ut,St,Mt),Pt=ut,Ft=St,St+=Mt;m.qd=Pt,m.rd=Ft}}function Ee(m,A){var H=m.l.ma,ut=H.Z==0||H.Z==1?m.l.j:m.C;if(ut=m.C<ut?ut:m.C,O(A<=m.l.o),A>ut){var St=m.l.width,Mt=H.ca,Pt=H.tb+St*ut,Ft=m.V,zt=m.Ba+m.c*ut,qt=m.gc;O(m.ab==1),O(qt[0].hc==3),Tp(qt[0],ut,A,Ft,zt,Mt,Pt),vs(H,ut,A,Mt,Pt,St)}m.C=m.Ma=A}function Aa(m,A,H,ut,St,Mt,Pt){var Ft=m.$/ut,zt=m.$%ut,qt=m.m,Me=m.s,Ze=H+m.$,Je=Ze;St=H+ut*St;var Be=H+ut*Mt,Cr=280+Me.ua,gr=m.Pb?Ft:16777216,Re=0<Me.ua?Me.Wa:null,Ie=Me.wc,Ar=Ze<Be?cn(Me,zt,Ft):null;O(m.C<Mt),O(Be<=St);var Nr=!1;t:for(;;){for(;Nr||Ze<Be;){var or=0;if(Ft>=gr){var Dr=Ze-H;O((gr=m).Pb),gr.wd=gr.m,gr.xd=Dr,0<gr.s.ua&&mr(gr.s.Wa,gr.s.vb),gr=Ft+Cl}if(zt&Ie||(Ar=cn(Me,zt,Ft)),O(Ar!=null),Ar.Qb&&(A[Ze]=Ar.qb,Nr=!0),!Nr)if(Ge(qt),Ar.jc){or=qt,Dr=A;var mn=Ze,ni=Ar.pd[oe(or)&cl-1];O(Ar.jc),256>ni.g?(Ce(or,or.u+ni.g),Dr[mn]=ni.value,or=0):(Ce(or,or.u+ni.g-256),O(256<=ni.value),or=ni.value),or==0&&(Nr=!0)}else or=ja(Ar.G[0],Ar.H[0],qt);if(qt.h)break;if(Nr||256>or){if(!Nr)if(Ar.nd)A[Ze]=(Ar.qb|or<<8)>>>0;else{if(Ge(qt),Nr=ja(Ar.G[1],Ar.H[1],qt),Ge(qt),Dr=ja(Ar.G[2],Ar.H[2],qt),mn=ja(Ar.G[3],Ar.H[3],qt),qt.h)break;A[Ze]=(mn<<24|Nr<<16|or<<8|Dr)>>>0}if(Nr=!1,++Ze,++zt>=ut&&(zt=0,++Ft,Pt!=null&&Ft<=Mt&&!(Ft%16)&&Pt(m,Ft),Re!=null))for(;Je<Ze;)or=A[Je++],Re.X[(506832829*or&4294967295)>>>Re.Mb]=or}else if(280>or){if(or=$i(or-256,qt),Dr=ja(Ar.G[4],Ar.H[4],qt),Ge(qt),Dr=ts(ut,Dr=$i(Dr,qt)),qt.h)break;if(Ze-H<Dr||St-Ze<or)break t;for(mn=0;mn<or;++mn)A[Ze+mn]=A[Ze+mn-Dr];for(Ze+=or,zt+=or;zt>=ut;)zt-=ut,++Ft,Pt!=null&&Ft<=Mt&&!(Ft%16)&&Pt(m,Ft);if(O(Ze<=St),zt&Ie&&(Ar=cn(Me,zt,Ft)),Re!=null)for(;Je<Ze;)or=A[Je++],Re.X[(506832829*or&4294967295)>>>Re.Mb]=or}else{if(!(or<Cr))break t;for(Nr=or-280,O(Re!=null);Je<Ze;)or=A[Je++],Re.X[(506832829*or&4294967295)>>>Re.Mb]=or;or=Ze,O(!(Nr>>>(Dr=Re).Xa)),A[or]=Dr.X[Nr],Nr=!0}Nr||O(qt.h==ge(qt))}if(m.Pb&&qt.h&&Ze<St)O(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&mr(m.s.vb,m.s.Wa);else{if(qt.h)break t;Pt!=null&&Pt(m,Ft>Mt?Mt:Ft),m.a=0,m.$=Ze-H}return 1}return m.a=3,0}function aa(m){O(m!=null),m.vc=null,m.yc=null,m.Ya=null;var A=m.Wa;A!=null&&(A.X=null),m.vb=null,O(m!=null)}function Yi(){var m=new Zo;return m==null?null:(m.a=0,m.xb=Jc,bs("Predictor","VP8LPredictors"),bs("Predictor","VP8LPredictors_C"),bs("PredictorAdd","VP8LPredictorsAdd"),bs("PredictorAdd","VP8LPredictorsAdd_C"),Kh=zi,Ml=Wn,Ru=vn,t0=Da,Cu=Dn,S0=ha,w0=Vi,je.VP8LMapColor32b=Wc,je.VP8LMapColor8b=bp,m)}function Ui(m,A,H,ut,St){var Mt=1,Pt=[m],Ft=[A],zt=ut.m,qt=ut.s,Me=null,Ze=0;t:for(;;){if(H)for(;Mt&&Or(zt,1);){var Je=Pt,Be=Ft,Cr=ut,gr=1,Re=Cr.m,Ie=Cr.gc[Cr.ab],Ar=Or(Re,2);if(Cr.Oc&1<<Ar)Mt=0;else{switch(Cr.Oc|=1<<Ar,Ie.hc=Ar,Ie.Ea=Je[0],Ie.nc=Be[0],Ie.K=[null],++Cr.ab,O(4>=Cr.ab),Ar){case 0:case 1:Ie.b=Or(Re,3)+2,gr=Ui(An(Ie.Ea,Ie.b),An(Ie.nc,Ie.b),0,Cr,Ie.K),Ie.K=Ie.K[0];break;case 3:var Nr,or=Or(Re,8)+1,Dr=16<or?0:4<or?1:2<or?2:3;if(Je[0]=An(Ie.Ea,Dr),Ie.b=Dr,Nr=gr=Ui(or,1,0,Cr,Ie.K)){var mn,ni=or,lr=Ie,Ro=1<<(8>>lr.b),xo=D(Ro);if(xo==null)Nr=0;else{var fo=lr.K[0],io=lr.w;for(xo[0]=lr.K[0][0],mn=1;mn<1*ni;++mn)xo[mn]=zr(fo[io+mn],xo[mn-1]);for(;mn<4*Ro;++mn)xo[mn]=0;lr.K[0]=null,lr.K[0]=xo,Nr=1}}gr=Nr;break;case 2:break;default:O(0)}Mt=gr}}if(Pt=Pt[0],Ft=Ft[0],Mt&&Or(zt,1)&&!(Mt=1<=(Ze=Or(zt,4))&&11>=Ze)){ut.a=3;break t}var Ho;if(Ho=Mt)e:{var Yo,Ai,ka,fl=ut,za=Pt,hl=Ft,Cn=Ze,Ll=H,eu=fl.m,Va=fl.s,ys=[null],Xs=1,ea=0,i0=xm[Cn];r:for(;;){if(Ll&&Or(eu,1)){var ho=Or(eu,3)+2,A0=An(za,ho),tc=An(hl,ho),qc=A0*tc;if(!Ui(A0,tc,0,fl,ys))break r;for(ys=ys[0],Va.xc=ho,Yo=0;Yo<qc;++Yo){var ec=ys[Yo]>>8&65535;ys[Yo]=ec,ec>=Xs&&(Xs=ec+1)}}if(eu.h)break r;for(Ai=0;5>Ai;++Ai){var Ma=bv[Ai];!Ai&&0<Cn&&(Ma+=1<<Cn),ea<Ma&&(ea=Ma)}var ah=X(Xs*i0,Jt),Nv=Xs,Gp=X(Nv,xe);if(Gp==null)var Jo=null;else O(65536>=Nv),Jo=Gp;var sh=D(ea);if(Jo==null||sh==null||ah==null){fl.a=1;break r}var rd=ah;for(Yo=ka=0;Yo<Xs;++Yo){var Nu=Jo[Yo],Qc=Nu.G,lh=Nu.H,nd=0,id=1,Fv=0;for(Ai=0;5>Ai;++Ai){Ma=bv[Ai],Qc[Ai]=rd,lh[Ai]=ka,!Ai&&0<Cn&&(Ma+=1<<Cn);i:{var o0,M0=Ma,xc=fl,uh=sh,Bp=rd,Dv=ka,Up=0,R0=xc.m,ch=Or(R0,1);if(W(uh,0,0,M0),ch){var qr=Or(R0,1)+1,jm=Or(R0,1),jv=Or(R0,jm==0?1:8);uh[jv]=1,qr==2&&(uh[jv=Or(R0,8)]=1);var od=1}else{var En=D(19),ss=Or(R0,4)+4;if(19<ss){xc.a=3;var Pl=0;break i}for(o0=0;o0<ss;++o0)En[wm[o0]]=Or(R0,3);var yo=void 0,C0=void 0,Ta=xc,dl=En,ad=M0,kp=uh,a0=0,s0=Ta.m,Gv=8,tf=X(128,Jt);n:for(;Zt(tf,0,7,dl,19);){if(Or(s0,1)){var Bv=2+2*Or(s0,3);if((yo=2+Or(s0,Bv))>ad)break n}else yo=ad;for(C0=0;C0<ad&&yo--;){Ge(s0);var zp=tf[0+(127&oe(s0))];Ce(s0,s0.u+zp.g);var L0=zp.value;if(16>L0)kp[C0++]=L0,L0!=0&&(Gv=L0);else{var Uv=L0==16,sd=L0-16,Gm=Em[sd],kv=Or(s0,_m[sd])+Gm;if(C0+kv>ad)break n;for(var Bm=Uv?Gv:0;0<kv--;)kp[C0++]=Bm}}a0=1;break n}a0||(Ta.a=3),od=a0}(od=od&&!R0.h)&&(Up=Zt(Bp,Dv,8,uh,M0)),od&&Up!=0?Pl=Up:(xc.a=3,Pl=0)}if(Pl==0)break r;if(id&&Sm[Ai]==1&&(id=rd[ka].g==0),nd+=rd[ka].g,ka+=Pl,3>=Ai){var rc,ld=sh[0];for(rc=1;rc<Ma;++rc)sh[rc]>ld&&(ld=sh[rc]);Fv+=ld}}if(Nu.nd=id,Nu.Qb=0,id&&(Nu.qb=(Qc[3][lh[3]+0].value<<24|Qc[1][lh[1]+0].value<<16|Qc[2][lh[2]+0].value)>>>0,nd==0&&256>Qc[0][lh[0]+0].value&&(Nu.Qb=1,Nu.qb+=Qc[0][lh[0]+0].value<<8)),Nu.jc=!Nu.Qb&&6>Fv,Nu.jc){var ru,P0=Nu;for(ru=0;ru<cl;++ru){var I0=ru,Il=P0.pd[I0],ud=P0.G[0][P0.H[0]+I0];256<=ud.value?(Il.g=ud.g+256,Il.value=ud.value):(Il.g=0,Il.value=0,I0>>=da(ud,8,Il),I0>>=da(P0.G[1][P0.H[1]+I0],16,Il),I0>>=da(P0.G[2][P0.H[2]+I0],0,Il),da(P0.G[3][P0.H[3]+I0],24,Il))}}}Va.vc=ys,Va.Wb=Xs,Va.Ya=Jo,Va.yc=ah,Ho=1;break e}Ho=0}if(!(Mt=Ho)){ut.a=3;break t}if(0<Ze){if(qt.ua=1<<Ze,!Vn(qt.Wa,Ze)){ut.a=1,Mt=0;break t}}else qt.ua=0;var Vp=ut,l0=Pt,Um=Ft,cd=Vp.s,pl=cd.xc;if(Vp.c=l0,Vp.i=Um,cd.md=An(l0,pl),cd.wc=pl==0?-1:(1<<pl)-1,H){ut.xb=bm;break t}if((Me=D(Pt*Ft))==null){ut.a=1,Mt=0;break t}Mt=(Mt=Aa(ut,Me,0,Pt,Ft,Ft,null))&&!zt.h;break t}return Mt?(St!=null?St[0]=Me:(O(Me==null),O(H)),ut.$=0,H||aa(qt)):aa(qt),Mt}function sa(m,A){var H=m.c*m.i,ut=H+A+16*A;return O(m.c<=A),m.V=D(ut),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+H+A,1)}function nl(m,A){var H=m.C,ut=A-H,St=m.V,Mt=m.Ba+m.c*H;for(O(A<=m.l.o);0<ut;){var Pt=16<ut?16:ut,Ft=m.l.ma,zt=m.l.width,qt=zt*Pt,Me=Ft.ca,Ze=Ft.tb+zt*H,Je=m.Ta,Be=m.Ua;is(m,Pt,St,Mt),Ap(Je,Be,Me,Ze,qt),vs(Ft,H,H+Pt,Me,Ze,zt),ut-=Pt,St+=Pt*m.c,H+=Pt}O(H==A),m.C=m.Ma=A}function Sa(){this.ub=this.yd=this.td=this.Rb=0}function Wl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ga(){this.Fb=this.Bb=this.Cb=0,this.Zb=D(4),this.Lb=D(4)}function Vs(){this.Yb=function(){var m=[];return function A(H,ut,St){for(var Mt=St[ut],Pt=0;Pt<Mt&&(H.push(St.length>ut+1?[]:0),!(St.length<ut+1));Pt++)A(H[Pt],ut+1,St)}(m,0,[3,11]),m}()}function Ms(){this.jb=D(3),this.Wc=rt([4,8],Vs),this.Xc=rt([4,17],Vs)}function Ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new D(4),this.od=new D(4)}function Hl(){this.ld=this.La=this.dd=this.tc=0}function Eu(){this.Na=this.la=0}function Yl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function il(){this.ad=D(384),this.Za=0,this.Ob=D(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hl),this.Y=0,this.ya=Array(new il),this.aa=0,this.l=new Su}function Ju(){this.y=D(16),this.f=D(8),this.ea=D(8)}function Y0(){this.cb=this.a=0,this.sc="",this.m=new xn,this.Od=new Sa,this.Kc=new Wl,this.ed=new Ol,this.Qa=new Ga,this.Ic=this.$c=this.Aa=0,this.D=new Zu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=X(8,xn),this.ia=0,this.pb=X(4,Yl),this.Pa=new Ms,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ju),this.Hd=0,this.rb=Array(new Eu),this.sb=0,this.wa=Array(new Hl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new il),this.L=this.aa=0,this.gd=rt([4,2],Hl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Su(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qu(){var m=new Y0;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Zc||(Zc=Qu)),m}function Bo(m,A,H){return m.a==0&&(m.a=A,m.sc=H,m.cb=0),0}function _0(m,A,H){return 3<=H&&m[A+0]==157&&m[A+1]==1&&m[A+2]==42}function Rs(m,A){if(m==null)return 0;if(m.a=0,m.sc="OK",A==null)return Bo(m,2,"null VP8Io passed to VP8GetHeaders()");var H=A.data,ut=A.w,St=A.ha;if(4>St)return Bo(m,7,"Truncated header.");var Mt=H[ut+0]|H[ut+1]<<8|H[ut+2]<<16,Pt=m.Od;if(Pt.Rb=!(1&Mt),Pt.td=Mt>>1&7,Pt.yd=Mt>>4&1,Pt.ub=Mt>>5,3<Pt.td)return Bo(m,3,"Incorrect keyframe parameters.");if(!Pt.yd)return Bo(m,4,"Frame not displayable.");ut+=3,St-=3;var Ft=m.Kc;if(Pt.Rb){if(7>St)return Bo(m,7,"cannot parse picture header");if(!_0(H,ut,St))return Bo(m,3,"Bad code word");Ft.c=16383&(H[ut+4]<<8|H[ut+3]),Ft.Td=H[ut+4]>>6,Ft.i=16383&(H[ut+6]<<8|H[ut+5]),Ft.Ud=H[ut+6]>>6,ut+=7,St-=7,m.za=Ft.c+15>>4,m.Ub=Ft.i+15>>4,A.width=Ft.c,A.height=Ft.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,W((Mt=m.Pa).jb,0,255,Mt.jb.length),O((Mt=m.Qa)!=null),Mt.Cb=0,Mt.Bb=0,Mt.Fb=1,W(Mt.Zb,0,0,Mt.Zb.length),W(Mt.Lb,0,0,Mt.Lb)}if(Pt.ub>St)return Bo(m,7,"bad partition length");yr(Mt=m.m,H,ut,Pt.ub),ut+=Pt.ub,St-=Pt.ub,Pt.Rb&&(Ft.Ld=ir(Mt),Ft.Kd=ir(Mt)),Ft=m.Qa;var zt,qt=m.Pa;if(O(Mt!=null),O(Ft!=null),Ft.Cb=ir(Mt),Ft.Cb){if(Ft.Bb=ir(Mt),ir(Mt)){for(Ft.Fb=ir(Mt),zt=0;4>zt;++zt)Ft.Zb[zt]=ir(Mt)?Lr(Mt,7):0;for(zt=0;4>zt;++zt)Ft.Lb[zt]=ir(Mt)?Lr(Mt,6):0}if(Ft.Bb)for(zt=0;3>zt;++zt)qt.jb[zt]=ir(Mt)?dr(Mt,8):255}else Ft.Bb=0;if(Mt.Ka)return Bo(m,3,"cannot parse segment header");if((Ft=m.ed).zd=ir(Mt),Ft.Tb=dr(Mt,6),Ft.wb=dr(Mt,3),Ft.Pc=ir(Mt),Ft.Pc&&ir(Mt)){for(qt=0;4>qt;++qt)ir(Mt)&&(Ft.vd[qt]=Lr(Mt,6));for(qt=0;4>qt;++qt)ir(Mt)&&(Ft.od[qt]=Lr(Mt,6))}if(m.L=Ft.Tb==0?0:Ft.zd?1:2,Mt.Ka)return Bo(m,3,"cannot parse filter header");var Me=St;if(St=zt=ut,ut=zt+Me,Ft=Me,m.Xb=(1<<dr(m.m,2))-1,Me<3*(qt=m.Xb))H=7;else{for(zt+=3*qt,Ft-=3*qt,Me=0;Me<qt;++Me){var Ze=H[St+0]|H[St+1]<<8|H[St+2]<<16;Ze>Ft&&(Ze=Ft),yr(m.Jc[+Me],H,zt,Ze),zt+=Ze,Ft-=Ze,St+=3}yr(m.Jc[+qt],H,zt,Ft),H=zt<ut?0:5}if(H!=0)return Bo(m,H,"cannot parse partitions");for(H=dr(zt=m.m,7),St=ir(zt)?Lr(zt,4):0,ut=ir(zt)?Lr(zt,4):0,Ft=ir(zt)?Lr(zt,4):0,qt=ir(zt)?Lr(zt,4):0,zt=ir(zt)?Lr(zt,4):0,Me=m.Qa,Ze=0;4>Ze;++Ze){if(Me.Cb){var Je=Me.Zb[Ze];Me.Fb||(Je+=H)}else{if(0<Ze){m.pb[Ze]=m.pb[0];continue}Je=H}var Be=m.pb[Ze];Be.Sc[0]=$c[os(Je+St,127)],Be.Sc[1]=Jh[os(Je+0,127)],Be.Eb[0]=2*$c[os(Je+ut,127)],Be.Eb[1]=101581*Jh[os(Je+Ft,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=$c[os(Je+qt,117)],Be.Qc[1]=Jh[os(Je+zt,127)],Be.lc=Je+zt}if(!Pt.Rb)return Bo(m,4,"Not a key frame.");for(ir(Mt),Pt=m.Pa,H=0;4>H;++H){for(St=0;8>St;++St)for(ut=0;3>ut;++ut)for(Ft=0;11>Ft;++Ft)qt=rr(Mt,Fp[H][St][ut][Ft])?dr(Mt,8):Om[H][St][ut][Ft],Pt.Wc[H][St].Yb[ut][Ft]=qt;for(St=0;17>St;++St)Pt.Xc[H][St]=Pt.Wc[H][Tm[St]]}return m.kc=ir(Mt),m.kc&&(m.Bd=dr(Mt,8)),m.cb=1}function Qu(m,A,H,ut,St,Mt,Pt){var Ft=A[St].Yb[H];for(H=0;16>St;++St){if(!rr(m,Ft[H+0]))return St;for(;!rr(m,Ft[H+1]);)if(Ft=A[++St].Yb[0],H=0,St==16)return 16;var zt=A[St+1].Yb;if(rr(m,Ft[H+2])){var qt=m,Me=0;if(rr(qt,(Je=Ft)[(Ze=H)+3]))if(rr(qt,Je[Ze+6])){for(Ft=0,Ze=2*(Me=rr(qt,Je[Ze+8]))+(Je=rr(qt,Je[Ze+9+Me])),Me=0,Je=Av[Ze];Je[Ft];++Ft)Me+=Me+rr(qt,Je[Ft]);Me+=3+(8<<Ze)}else rr(qt,Je[Ze+7])?(Me=7+2*rr(qt,165),Me+=rr(qt,145)):Me=5+rr(qt,159);else Me=rr(qt,Je[Ze+4])?3+rr(qt,Je[Ze+5]):2;Ft=zt[2]}else Me=1,Ft=zt[1];zt=Pt+Ip[St],0>(qt=m).b&&qe(qt);var Ze,Je=qt.b,Be=(Ze=qt.Ca>>1)-(qt.I>>Je)>>31;--qt.b,qt.Ca+=Be,qt.Ca|=1,qt.I-=(Ze+1&Be)<<Je,Mt[zt]=((Me^Be)-Be)*ut[(0<St)+0]}return 16}function Xl(m){var A=m.rb[m.sb-1];A.la=0,A.Na=0,W(m.zc,0,0,m.zc.length),m.ja=0}function X0(m,A){if(m==null)return 0;if(A==null)return Bo(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Rs(m,A))return 0;if(O(m.cb),A.ac==null||A.ac(A)){A.ob&&(m.L=0);var H=ed[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=A.v-H>>4,m.zb=A.j-H>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=A.o+15+H>>4,m.Hb=A.va+15+H>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var ut=m.ed;for(H=0;4>H;++H){var St;if(m.Qa.Cb){var Mt=m.Qa.Lb[H];m.Qa.Fb||(Mt+=ut.Tb)}else Mt=ut.Tb;for(St=0;1>=St;++St){var Pt=m.gd[H][St],Ft=Mt;if(ut.Pc&&(Ft+=ut.vd[0],St&&(Ft+=ut.od[0])),0<(Ft=0>Ft?0:63<Ft?63:Ft)){var zt=Ft;0<ut.wb&&(zt=4<ut.wb?zt>>2:zt>>1)>9-ut.wb&&(zt=9-ut.wb),1>zt&&(zt=1),Pt.dd=zt,Pt.tc=2*Ft+zt,Pt.ld=40<=Ft?2:15<=Ft?1:0}else Pt.tc=0;Pt.La=St}}}H=0}else Bo(m,6,"Frame setup failed"),H=m.a;if(H=H==0){if(H){m.$c=0,0<m.Aa||(m.Ic=Dm);t:{H=m.Ic,ut=4*(zt=m.za);var qt=32*zt,Me=zt+1,Ze=0<m.L?zt*(0<m.Aa?2:1):0,Je=(m.Aa==2?2:1)*zt;if((Pt=ut+832+(St=3*(16*H+ed[m.L])/2*qt)+(Mt=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=Pt)H=0;else{if(Pt>m.Vb){if(m.Vb=0,m.Ec=D(Pt),m.Fc=0,m.Ec==null){H=Bo(m,1,"no memory during frame initialization.");break t}m.Vb=Pt}Pt=m.Ec,Ft=m.Fc,m.Ac=Pt,m.Bc=Ft,Ft+=ut,m.Gd=X(qt,Ju),m.Hd=0,m.rb=X(Me+1,Eu),m.sb=1,m.wa=Ze?X(Ze,Hl):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=zt),O(!0),m.oc=Pt,m.pc=Ft,Ft+=832,m.ya=X(Je,il),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=zt),m.R=16*zt,m.B=8*zt,zt=(qt=ed[m.L])*m.R,qt=qt/2*m.B,m.sa=Pt,m.ta=Ft+zt,m.qa=m.sa,m.ra=m.ta+16*H*m.R+qt,m.Ha=m.qa,m.Ia=m.ra+8*H*m.B+qt,m.$c=0,Ft+=St,m.mb=Mt?Pt:null,m.nb=Mt?Ft:null,O(Ft+Mt<=m.Fc+m.Vb),Xl(m),W(m.Ac,m.Bc,0,ut),H=1}}if(H){if(A.ka=0,A.y=m.sa,A.O=m.ta,A.f=m.qa,A.N=m.ra,A.ea=m.Ha,A.Vd=m.Ia,A.fa=m.R,A.Rc=m.B,A.F=null,A.J=0,!xv){for(H=-255;255>=H;++H)Sv[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)wv[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)Mp[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)no[255+H]=0>H?0:255<H?255:H;xv=1}so=K0,Hc=xu,x0=E0,Lu=Kl,O0=Tl,Jl=wu,T0=$r,Yc=tr,e0=Pi,J0=_i,Jf=dn,ql=Zn,b0=ki,Uo=Xi,lo=Ye,Oa=$e,Ua=cr,r0=Vr,Iu[0]=j,Iu[1]=Gn,Iu[2]=Al,Iu[3]=I,Iu[4]=Y,Iu[5]=gt,Iu[6]=lt,Iu[7]=At,Iu[8]=S,Iu[9]=y,Pu[0]=ll,Pu[1]=Ws,Pu[2]=Hs,Pu[3]=sl,Pu[4]=mo,Pu[5]=ul,Pu[6]=bl,tu[0]=K,tu[1]=Tu,tu[2]=x,tu[3]=U,tu[4]=xt,tu[5]=ht,tu[6]=yt,H=1}else H=0}H&&(H=function(Be,Cr){for(Be.M=0;Be.M<Be.Va;++Be.M){var gr,Re=Be.Jc[Be.M&Be.Xb],Ie=Be.m,Ar=Be;for(gr=0;gr<Ar.za;++gr){var Nr=Ie,or=Ar,Dr=or.Ac,mn=or.Bc+4*gr,ni=or.zc,lr=or.ya[or.aa+gr];if(or.Qa.Bb?lr.$b=rr(Nr,or.Pa.jb[0])?2+rr(Nr,or.Pa.jb[2]):rr(Nr,or.Pa.jb[1]):lr.$b=0,or.kc&&(lr.Ad=rr(Nr,or.Bd)),lr.Za=!rr(Nr,145)+0,lr.Za){var Ro=lr.Ob,xo=0;for(or=0;4>or;++or){var fo,io=ni[0+or];for(fo=0;4>fo;++fo){io=Np[Dr[mn+fo]][io];for(var Ho=nh[rr(Nr,io[0])];0<Ho;)Ho=nh[2*Ho+rr(Nr,io[Ho])];io=-Ho,Dr[mn+fo]=io}N(Ro,xo,Dr,mn,4),xo+=4,ni[0+or]=io}}else io=rr(Nr,156)?rr(Nr,128)?1:3:rr(Nr,163)?2:0,lr.Ob[0]=io,W(Dr,mn,io,4),W(ni,0,io,4);lr.Dd=rr(Nr,142)?rr(Nr,114)?rr(Nr,183)?1:3:2:0}if(Ar.m.Ka)return Bo(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(Ar=Re,Nr=(Ie=Be).rb[Ie.sb-1],Dr=Ie.rb[Ie.sb+Ie.ja],gr=Ie.ya[Ie.aa+Ie.ja],mn=Ie.kc?gr.Ad:0)Nr.la=Dr.la=0,gr.Za||(Nr.Na=Dr.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Yo,Ai;if(Nr=Dr,Dr=Ar,mn=Ie.Pa.Xc,ni=Ie.ya[Ie.aa+Ie.ja],lr=Ie.pb[ni.$b],or=ni.ad,Ro=0,xo=Ie.rb[Ie.sb-1],io=fo=0,W(or,Ro,0,384),ni.Za)var ka=0,fl=mn[3];else{Ho=D(16);var za=Nr.Na+xo.Na;if(za=Zc(Dr,mn[1],za,lr.Eb,0,Ho,0),Nr.Na=xo.Na=(0<za)+0,1<za)so(Ho,0,or,Ro);else{var hl=Ho[0]+3>>3;for(Ho=0;256>Ho;Ho+=16)or[Ro+Ho]=hl}ka=1,fl=mn[0]}var Cn=15&Nr.la,Ll=15&xo.la;for(Ho=0;4>Ho;++Ho){var eu=1&Ll;for(hl=Ai=0;4>hl;++hl)Cn=Cn>>1|(eu=(za=Zc(Dr,fl,za=eu+(1&Cn),lr.Sc,ka,or,Ro))>ka)<<7,Ai=Ai<<2|(3<za?3:1<za?2:or[Ro+0]!=0),Ro+=16;Cn>>=4,Ll=Ll>>1|eu<<7,fo=(fo<<8|Ai)>>>0}for(fl=Cn,ka=Ll>>4,Yo=0;4>Yo;Yo+=2){for(Ai=0,Cn=Nr.la>>4+Yo,Ll=xo.la>>4+Yo,Ho=0;2>Ho;++Ho){for(eu=1&Ll,hl=0;2>hl;++hl)za=eu+(1&Cn),Cn=Cn>>1|(eu=0<(za=Zc(Dr,mn[2],za,lr.Qc,0,or,Ro)))<<3,Ai=Ai<<2|(3<za?3:1<za?2:or[Ro+0]!=0),Ro+=16;Cn>>=2,Ll=Ll>>1|eu<<5}io|=Ai<<4*Yo,fl|=Cn<<4<<Yo,ka|=(240&Ll)<<Yo}Nr.la=fl,xo.la=ka,ni.Hc=fo,ni.Gc=io,ni.ia=43690&io?0:lr.ia,mn=!(fo|io)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[gr.$b][gr.Za],Ie.wa[Ie.Y+Ie.ja].La|=!mn),Ar.Ka)return Bo(Be,7,"Premature end-of-file encountered.")}if(Xl(Be),Ie=Cr,Ar=1,gr=(Re=Be).D,Nr=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)t:{if(gr.M=Re.M,gr.uc=Nr,Kf(Re,gr),Ar=1,gr=(Ai=Re.D).Nb,Nr=(io=ed[Re.L])*Re.R,Dr=io/2*Re.B,Ho=16*gr*Re.R,hl=8*gr*Re.B,mn=Re.sa,ni=Re.ta-Nr+Ho,lr=Re.qa,or=Re.ra-Dr+hl,Ro=Re.Ha,xo=Re.Ia-Dr+hl,Ll=(Cn=Ai.M)==0,fo=Cn>=Re.Va-1,Re.Aa==2&&Kf(Re,Ai),Ai.uc)for(eu=(za=Re).D.M,O(za.D.uc),Ai=za.yb;Ai<za.Hb;++Ai){ka=Ai,fl=eu;var Va=(ys=(Ma=za).D).Nb;Yo=Ma.R;var ys=ys.wa[ys.Y+ka],Xs=Ma.sa,ea=Ma.ta+16*Va*Yo+16*ka,i0=ys.dd,ho=ys.tc;if(ho!=0)if(O(3<=ho),Ma.L==1)0<ka&&Oa(Xs,ea,Yo,ho+4),ys.La&&r0(Xs,ea,Yo,ho),0<fl&&lo(Xs,ea,Yo,ho+4),ys.La&&Ua(Xs,ea,Yo,ho);else{var A0=Ma.B,tc=Ma.qa,qc=Ma.ra+8*Va*A0+8*ka,ec=Ma.Ha,Ma=Ma.Ia+8*Va*A0+8*ka;Va=ys.ld,0<ka&&(Yc(Xs,ea,Yo,ho+4,i0,Va),J0(tc,qc,ec,Ma,A0,ho+4,i0,Va)),ys.La&&(ql(Xs,ea,Yo,ho,i0,Va),Uo(tc,qc,ec,Ma,A0,ho,i0,Va)),0<fl&&(T0(Xs,ea,Yo,ho+4,i0,Va),e0(tc,qc,ec,Ma,A0,ho+4,i0,Va)),ys.La&&(Jf(Xs,ea,Yo,ho,i0,Va),b0(tc,qc,ec,Ma,A0,ho,i0,Va))}}if(Re.ia&&alert("todo:DitherRow"),Ie.put!=null){if(Ai=16*Cn,Cn=16*(Cn+1),Ll?(Ie.y=Re.sa,Ie.O=Re.ta+Ho,Ie.f=Re.qa,Ie.N=Re.ra+hl,Ie.ea=Re.Ha,Ie.W=Re.Ia+hl):(Ai-=io,Ie.y=mn,Ie.O=ni,Ie.f=lr,Ie.N=or,Ie.ea=Ro,Ie.W=xo),fo||(Cn-=io),Cn>Ie.o&&(Cn=Ie.o),Ie.F=null,Ie.J=null,Re.Fa!=null&&0<Re.Fa.length&&Ai<Cn&&(Ie.J=Zi(Re,Ie,Ai,Cn-Ai),Ie.F=Re.mb,Ie.F==null&&Ie.F.length==0)){Ar=Bo(Re,3,"Could not decode alpha data.");break t}Ai<Ie.j&&(io=Ie.j-Ai,Ai=Ie.j,O(!(1&io)),Ie.O+=Re.R*io,Ie.N+=Re.B*(io>>1),Ie.W+=Re.B*(io>>1),Ie.F!=null&&(Ie.J+=Ie.width*io)),Ai<Cn&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=Ai-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Cn-Ai,Ar=Ie.put(Ie))}gr+1!=Re.Ic||fo||(N(Re.sa,Re.ta-Nr,mn,ni+16*Re.R,Nr),N(Re.qa,Re.ra-Dr,lr,or+8*Re.B,Dr),N(Re.Ha,Re.Ia-Dr,Ro,xo+8*Re.B,Dr))}if(!Ar)return Bo(Be,6,"Output aborted.")}return 1}(m,A)),A.bc!=null&&A.bc(A),H&=1}return H?(m.cb=0,H):0}function gs(m,A,H,ut,St){St=m[A+H+32*ut]+(St>>3),m[A+H+32*ut]=-256&St?0>St?0:255:St}function Cs(m,A,H,ut,St,Mt){gs(m,A,0,H,ut+St),gs(m,A,1,H,ut+Mt),gs(m,A,2,H,ut-Mt),gs(m,A,3,H,ut-St)}function la(m){return(20091*m>>16)+m}function al(m,A,H,ut){var St,Mt=0,Pt=D(16);for(St=0;4>St;++St){var Ft=m[A+0]+m[A+8],zt=m[A+0]-m[A+8],qt=(35468*m[A+4]>>16)-la(m[A+12]),Me=la(m[A+4])+(35468*m[A+12]>>16);Pt[Mt+0]=Ft+Me,Pt[Mt+1]=zt+qt,Pt[Mt+2]=zt-qt,Pt[Mt+3]=Ft-Me,Mt+=4,A++}for(St=Mt=0;4>St;++St)Ft=(m=Pt[Mt+0]+4)+Pt[Mt+8],zt=m-Pt[Mt+8],qt=(35468*Pt[Mt+4]>>16)-la(Pt[Mt+12]),gs(H,ut,0,0,Ft+(Me=la(Pt[Mt+4])+(35468*Pt[Mt+12]>>16))),gs(H,ut,1,0,zt+qt),gs(H,ut,2,0,zt-qt),gs(H,ut,3,0,Ft-Me),Mt++,ut+=32}function wu(m,A,H,ut){var St=m[A+0]+4,Mt=35468*m[A+4]>>16,Pt=la(m[A+4]),Ft=35468*m[A+1]>>16;Cs(H,ut,0,St+Pt,m=la(m[A+1]),Ft),Cs(H,ut,1,St+Mt,m,Ft),Cs(H,ut,2,St-Mt,m,Ft),Cs(H,ut,3,St-Pt,m,Ft)}function xu(m,A,H,ut,St){al(m,A,H,ut),St&&al(m,A+16,H,ut+4)}function E0(m,A,H,ut){Hc(m,A+0,H,ut,1),Hc(m,A+32,H,ut+128,1)}function Kl(m,A,H,ut){var St;for(m=m[A+0]+4,St=0;4>St;++St)for(A=0;4>A;++A)gs(H,ut,A,St,m)}function Tl(m,A,H,ut){m[A+0]&&Lu(m,A+0,H,ut),m[A+16]&&Lu(m,A+16,H,ut+4),m[A+32]&&Lu(m,A+32,H,ut+128),m[A+48]&&Lu(m,A+48,H,ut+128+4)}function K0(m,A,H,ut){var St,Mt=D(16);for(St=0;4>St;++St){var Pt=m[A+0+St]+m[A+12+St],Ft=m[A+4+St]+m[A+8+St],zt=m[A+4+St]-m[A+8+St],qt=m[A+0+St]-m[A+12+St];Mt[0+St]=Pt+Ft,Mt[8+St]=Pt-Ft,Mt[4+St]=qt+zt,Mt[12+St]=qt-zt}for(St=0;4>St;++St)Pt=(m=Mt[0+4*St]+3)+Mt[3+4*St],Ft=Mt[1+4*St]+Mt[2+4*St],zt=Mt[1+4*St]-Mt[2+4*St],qt=m-Mt[3+4*St],H[ut+0]=Pt+Ft>>3,H[ut+16]=qt+zt>>3,H[ut+32]=Pt-Ft>>3,H[ut+48]=qt-zt>>3,ut+=64}function Ou(m,A,H){var ut,St=A-32,Mt=Rl,Pt=255-m[St-1];for(ut=0;ut<H;++ut){var Ft,zt=Mt,qt=Pt+m[A-1];for(Ft=0;Ft<H;++Ft)m[A+Ft]=zt[qt+m[St+Ft]];A+=32}}function Gn(m,A){Ou(m,A,4)}function Tu(m,A){Ou(m,A,8)}function Ws(m,A){Ou(m,A,16)}function Hs(m,A){var H;for(H=0;16>H;++H)N(m,A+32*H,m,A-32,16)}function sl(m,A){var H;for(H=16;0<H;--H)W(m,A,m[A-1],16),A+=32}function $l(m,A,H){var ut;for(ut=0;16>ut;++ut)W(A,H+32*ut,m,16)}function ll(m,A){var H,ut=16;for(H=0;16>H;++H)ut+=m[A-1+32*H]+m[A+H-32];$l(ut>>5,m,A)}function mo(m,A){var H,ut=8;for(H=0;16>H;++H)ut+=m[A-1+32*H];$l(ut>>4,m,A)}function ul(m,A){var H,ut=8;for(H=0;16>H;++H)ut+=m[A+H-32];$l(ut>>4,m,A)}function bl(m,A){$l(128,m,A)}function $n(m,A,H){return m+2*A+H+2>>2}function Al(m,A){var H,ut=A-32;for(ut=new Uint8Array([$n(m[ut-1],m[ut+0],m[ut+1]),$n(m[ut+0],m[ut+1],m[ut+2]),$n(m[ut+1],m[ut+2],m[ut+3]),$n(m[ut+2],m[ut+3],m[ut+4])]),H=0;4>H;++H)N(m,A+32*H,ut,0,ut.length)}function I(m,A){var H=m[A-1],ut=m[A-1+32],St=m[A-1+64],Mt=m[A-1+96];Jr(m,A+0,16843009*$n(m[A-1-32],H,ut)),Jr(m,A+32,16843009*$n(H,ut,St)),Jr(m,A+64,16843009*$n(ut,St,Mt)),Jr(m,A+96,16843009*$n(St,Mt,Mt))}function j(m,A){var H,ut=4;for(H=0;4>H;++H)ut+=m[A+H-32]+m[A-1+32*H];for(ut>>=3,H=0;4>H;++H)W(m,A+32*H,ut,4)}function Y(m,A){var H=m[A-1+0],ut=m[A-1+32],St=m[A-1+64],Mt=m[A-1-32],Pt=m[A+0-32],Ft=m[A+1-32],zt=m[A+2-32],qt=m[A+3-32];m[A+0+96]=$n(ut,St,m[A-1+96]),m[A+1+96]=m[A+0+64]=$n(H,ut,St),m[A+2+96]=m[A+1+64]=m[A+0+32]=$n(Mt,H,ut),m[A+3+96]=m[A+2+64]=m[A+1+32]=m[A+0+0]=$n(Pt,Mt,H),m[A+3+64]=m[A+2+32]=m[A+1+0]=$n(Ft,Pt,Mt),m[A+3+32]=m[A+2+0]=$n(zt,Ft,Pt),m[A+3+0]=$n(qt,zt,Ft)}function lt(m,A){var H=m[A+1-32],ut=m[A+2-32],St=m[A+3-32],Mt=m[A+4-32],Pt=m[A+5-32],Ft=m[A+6-32],zt=m[A+7-32];m[A+0+0]=$n(m[A+0-32],H,ut),m[A+1+0]=m[A+0+32]=$n(H,ut,St),m[A+2+0]=m[A+1+32]=m[A+0+64]=$n(ut,St,Mt),m[A+3+0]=m[A+2+32]=m[A+1+64]=m[A+0+96]=$n(St,Mt,Pt),m[A+3+32]=m[A+2+64]=m[A+1+96]=$n(Mt,Pt,Ft),m[A+3+64]=m[A+2+96]=$n(Pt,Ft,zt),m[A+3+96]=$n(Ft,zt,zt)}function gt(m,A){var H=m[A-1+0],ut=m[A-1+32],St=m[A-1+64],Mt=m[A-1-32],Pt=m[A+0-32],Ft=m[A+1-32],zt=m[A+2-32],qt=m[A+3-32];m[A+0+0]=m[A+1+64]=Mt+Pt+1>>1,m[A+1+0]=m[A+2+64]=Pt+Ft+1>>1,m[A+2+0]=m[A+3+64]=Ft+zt+1>>1,m[A+3+0]=zt+qt+1>>1,m[A+0+96]=$n(St,ut,H),m[A+0+64]=$n(ut,H,Mt),m[A+0+32]=m[A+1+96]=$n(H,Mt,Pt),m[A+1+32]=m[A+2+96]=$n(Mt,Pt,Ft),m[A+2+32]=m[A+3+96]=$n(Pt,Ft,zt),m[A+3+32]=$n(Ft,zt,qt)}function At(m,A){var H=m[A+0-32],ut=m[A+1-32],St=m[A+2-32],Mt=m[A+3-32],Pt=m[A+4-32],Ft=m[A+5-32],zt=m[A+6-32],qt=m[A+7-32];m[A+0+0]=H+ut+1>>1,m[A+1+0]=m[A+0+64]=ut+St+1>>1,m[A+2+0]=m[A+1+64]=St+Mt+1>>1,m[A+3+0]=m[A+2+64]=Mt+Pt+1>>1,m[A+0+32]=$n(H,ut,St),m[A+1+32]=m[A+0+96]=$n(ut,St,Mt),m[A+2+32]=m[A+1+96]=$n(St,Mt,Pt),m[A+3+32]=m[A+2+96]=$n(Mt,Pt,Ft),m[A+3+64]=$n(Pt,Ft,zt),m[A+3+96]=$n(Ft,zt,qt)}function y(m,A){var H=m[A-1+0],ut=m[A-1+32],St=m[A-1+64],Mt=m[A-1+96];m[A+0+0]=H+ut+1>>1,m[A+2+0]=m[A+0+32]=ut+St+1>>1,m[A+2+32]=m[A+0+64]=St+Mt+1>>1,m[A+1+0]=$n(H,ut,St),m[A+3+0]=m[A+1+32]=$n(ut,St,Mt),m[A+3+32]=m[A+1+64]=$n(St,Mt,Mt),m[A+3+64]=m[A+2+64]=m[A+0+96]=m[A+1+96]=m[A+2+96]=m[A+3+96]=Mt}function S(m,A){var H=m[A-1+0],ut=m[A-1+32],St=m[A-1+64],Mt=m[A-1+96],Pt=m[A-1-32],Ft=m[A+0-32],zt=m[A+1-32],qt=m[A+2-32];m[A+0+0]=m[A+2+32]=H+Pt+1>>1,m[A+0+32]=m[A+2+64]=ut+H+1>>1,m[A+0+64]=m[A+2+96]=St+ut+1>>1,m[A+0+96]=Mt+St+1>>1,m[A+3+0]=$n(Ft,zt,qt),m[A+2+0]=$n(Pt,Ft,zt),m[A+1+0]=m[A+3+32]=$n(H,Pt,Ft),m[A+1+32]=m[A+3+64]=$n(ut,H,Pt),m[A+1+64]=m[A+3+96]=$n(St,ut,H),m[A+1+96]=$n(Mt,St,ut)}function x(m,A){var H;for(H=0;8>H;++H)N(m,A+32*H,m,A-32,8)}function U(m,A){var H;for(H=0;8>H;++H)W(m,A,m[A-1],8),A+=32}function Z(m,A,H){var ut;for(ut=0;8>ut;++ut)W(A,H+32*ut,m,8)}function K(m,A){var H,ut=8;for(H=0;8>H;++H)ut+=m[A+H-32]+m[A-1+32*H];Z(ut>>4,m,A)}function ht(m,A){var H,ut=4;for(H=0;8>H;++H)ut+=m[A+H-32];Z(ut>>3,m,A)}function xt(m,A){var H,ut=4;for(H=0;8>H;++H)ut+=m[A-1+32*H];Z(ut>>3,m,A)}function yt(m,A){Z(128,m,A)}function re(m,A,H){var ut=m[A-H],St=m[A+0],Mt=3*(St-ut)+Rp[1020+m[A-2*H]-m[A+H]],Pt=Qf[112+(Mt+4>>3)];m[A-H]=Rl[255+ut+Qf[112+(Mt+3>>3)]],m[A+0]=Rl[255+St-Pt]}function me(m,A,H,ut){var St=m[A+0],Mt=m[A+H];return Ql[255+m[A-2*H]-m[A-H]]>ut||Ql[255+Mt-St]>ut}function se(m,A,H,ut){return 4*Ql[255+m[A-H]-m[A+0]]+Ql[255+m[A-2*H]-m[A+H]]<=ut}function Ne(m,A,H,ut,St){var Mt=m[A-3*H],Pt=m[A-2*H],Ft=m[A-H],zt=m[A+0],qt=m[A+H],Me=m[A+2*H],Ze=m[A+3*H];return 4*Ql[255+Ft-zt]+Ql[255+Pt-qt]>ut?0:Ql[255+m[A-4*H]-Mt]<=St&&Ql[255+Mt-Pt]<=St&&Ql[255+Pt-Ft]<=St&&Ql[255+Ze-Me]<=St&&Ql[255+Me-qt]<=St&&Ql[255+qt-zt]<=St}function Ye(m,A,H,ut){var St=2*ut+1;for(ut=0;16>ut;++ut)se(m,A+ut,H,St)&&re(m,A+ut,H)}function $e(m,A,H,ut){var St=2*ut+1;for(ut=0;16>ut;++ut)se(m,A+ut*H,1,St)&&re(m,A+ut*H,1)}function cr(m,A,H,ut){var St;for(St=3;0<St;--St)Ye(m,A+=4*H,H,ut)}function Vr(m,A,H,ut){var St;for(St=3;0<St;--St)$e(m,A+=4,H,ut)}function Qr(m,A,H,ut,St,Mt,Pt,Ft){for(Mt=2*Mt+1;0<St--;){if(Ne(m,A,H,Mt,Pt))if(me(m,A,H,Ft))re(m,A,H);else{var zt=m,qt=A,Me=H,Ze=zt[qt-2*Me],Je=zt[qt-Me],Be=zt[qt+0],Cr=zt[qt+Me],gr=zt[qt+2*Me],Re=27*(Ar=Rp[1020+3*(Be-Je)+Rp[1020+Ze-Cr]])+63>>7,Ie=18*Ar+63>>7,Ar=9*Ar+63>>7;zt[qt-3*Me]=Rl[255+zt[qt-3*Me]+Ar],zt[qt-2*Me]=Rl[255+Ze+Ie],zt[qt-Me]=Rl[255+Je+Re],zt[qt+0]=Rl[255+Be-Re],zt[qt+Me]=Rl[255+Cr-Ie],zt[qt+2*Me]=Rl[255+gr-Ar]}A+=ut}}function Kr(m,A,H,ut,St,Mt,Pt,Ft){for(Mt=2*Mt+1;0<St--;){if(Ne(m,A,H,Mt,Pt))if(me(m,A,H,Ft))re(m,A,H);else{var zt=m,qt=A,Me=H,Ze=zt[qt-Me],Je=zt[qt+0],Be=zt[qt+Me],Cr=Qf[112+((gr=3*(Je-Ze))+4>>3)],gr=Qf[112+(gr+3>>3)],Re=Cr+1>>1;zt[qt-2*Me]=Rl[255+zt[qt-2*Me]+Re],zt[qt-Me]=Rl[255+Ze+gr],zt[qt+0]=Rl[255+Je-Cr],zt[qt+Me]=Rl[255+Be-Re]}A+=ut}}function $r(m,A,H,ut,St,Mt){Qr(m,A,H,1,16,ut,St,Mt)}function tr(m,A,H,ut,St,Mt){Qr(m,A,1,H,16,ut,St,Mt)}function dn(m,A,H,ut,St,Mt){var Pt;for(Pt=3;0<Pt;--Pt)Kr(m,A+=4*H,H,1,16,ut,St,Mt)}function Zn(m,A,H,ut,St,Mt){var Pt;for(Pt=3;0<Pt;--Pt)Kr(m,A+=4,1,H,16,ut,St,Mt)}function Pi(m,A,H,ut,St,Mt,Pt,Ft){Qr(m,A,St,1,8,Mt,Pt,Ft),Qr(H,ut,St,1,8,Mt,Pt,Ft)}function _i(m,A,H,ut,St,Mt,Pt,Ft){Qr(m,A,1,St,8,Mt,Pt,Ft),Qr(H,ut,1,St,8,Mt,Pt,Ft)}function ki(m,A,H,ut,St,Mt,Pt,Ft){Kr(m,A+4*St,St,1,8,Mt,Pt,Ft),Kr(H,ut+4*St,St,1,8,Mt,Pt,Ft)}function Xi(m,A,H,ut,St,Mt,Pt,Ft){Kr(m,A+4,1,St,8,Mt,Pt,Ft),Kr(H,ut+4,1,St,8,Mt,Pt,Ft)}function qi(){this.ba=new Ea,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new So,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ro(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xi(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new Jt}function Zo(){this.xb=this.a=0,this.l=new Su,this.ca=new Ea,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new It,this.Pb=0,this.wd=new It,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xi,this.ab=0,this.gc=X(4,pa),this.Oc=0}function wa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Su,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xa(m,A,H,ut,St,Mt,Pt){for(m=m==null?0:m[A+0],A=0;A<Pt;++A)St[Mt+A]=m+H[ut+A]&255,m=St[Mt+A]}function Mo(m,A,H,ut,St,Mt,Pt){var Ft;if(m==null)xa(null,null,H,ut,St,Mt,Pt);else for(Ft=0;Ft<Pt;++Ft)St[Mt+Ft]=m[A+Ft]+H[ut+Ft]&255}function Ba(m,A,H,ut,St,Mt,Pt){if(m==null)xa(null,null,H,ut,St,Mt,Pt);else{var Ft,zt=m[A+0],qt=zt,Me=zt;for(Ft=0;Ft<Pt;++Ft)qt=Me+(zt=m[A+Ft])-qt,Me=H[ut+Ft]+(-256&qt?0>qt?0:255:qt)&255,qt=zt,St[Mt+Ft]=Me}}function Zi(m,A,H,ut){var St=A.width,Mt=A.o;if(O(m!=null&&A!=null),0>H||0>=ut||H+ut>Mt)return null;if(!m.Cc){if(m.ga==null){var Pt;if(m.ga=new wa,(Pt=m.ga==null)||(Pt=A.width*A.o,O(m.Gb.length==0),m.Gb=D(Pt),m.Uc=0,m.Gb==null?Pt=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Pt=1),Pt=!Pt),!Pt){Pt=m.ga;var Ft=m.Fa,zt=m.P,qt=m.qc,Me=m.mb,Ze=m.nb,Je=zt+1,Be=qt-1,Cr=Pt.l;if(O(Ft!=null&&Me!=null&&A!=null),n0[0]=null,n0[1]=xa,n0[2]=Mo,n0[3]=Ba,Pt.ca=Me,Pt.tb=Ze,Pt.c=A.width,Pt.i=A.height,O(0<Pt.c&&0<Pt.i),1>=qt)A=0;else if(Pt.$a=Ft[zt+0]>>0&3,Pt.Z=Ft[zt+0]>>2&3,Pt.Lc=Ft[zt+0]>>4&3,zt=Ft[zt+0]>>6&3,0>Pt.$a||1<Pt.$a||4<=Pt.Z||1<Pt.Lc||zt)A=0;else if(Cr.put=zs,Cr.ac=oa,Cr.bc=ps,Cr.ma=Pt,Cr.width=A.width,Cr.height=A.height,Cr.Da=A.Da,Cr.v=A.v,Cr.va=A.va,Cr.j=A.j,Cr.o=A.o,Pt.$a)t:{O(Pt.$a==1),A=Yi();e:for(;;){if(A==null){A=0;break t}if(O(Pt!=null),Pt.mc=A,A.c=Pt.c,A.i=Pt.i,A.l=Pt.l,A.l.ma=Pt,A.l.width=Pt.c,A.l.height=Pt.i,A.a=0,nr(A.m,Ft,Je,Be),!Ui(Pt.c,Pt.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&xl(A.s)?(Pt.ic=1,Ft=A.c*A.i,A.Ta=null,A.Ua=0,A.V=D(Ft),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(Pt.ic=0,A=sa(A,Pt.c)),!A))break e;A=1;break t}Pt.mc=null,A=0}else A=Be>=Pt.c*Pt.i;Pt=!A}if(Pt)return null;m.ga.Lc!=1?m.Ga=0:ut=Mt-H}O(m.ga!=null),O(H+ut<=Mt);t:{if(A=(Ft=m.ga).c,Mt=Ft.l.o,Ft.$a==0){if(Je=m.rc,Be=m.Vc,Cr=m.Fa,zt=m.P+1+H*A,qt=m.mb,Me=m.nb+H*A,O(zt<=m.P+m.qc),Ft.Z!=0)for(O(n0[Ft.Z]!=null),Pt=0;Pt<ut;++Pt)n0[Ft.Z](Je,Be,Cr,zt,qt,Me,A),Je=qt,Be=Me,Me+=A,zt+=A;else for(Pt=0;Pt<ut;++Pt)N(qt,Me,Cr,zt,A),Je=qt,Be=Me,Me+=A,zt+=A;m.rc=Je,m.Vc=Be}else{if(O(Ft.mc!=null),A=H+ut,O((Pt=Ft.mc)!=null),O(A<=Pt.i),Pt.C>=A)A=1;else if(Ft.ic||Ve(),Ft.ic){Ft=Pt.V,Je=Pt.Ba,Be=Pt.c;var gr=Pt.i,Re=(Cr=1,zt=Pt.$/Be,qt=Pt.$%Be,Me=Pt.m,Ze=Pt.s,Pt.$),Ie=Be*gr,Ar=Be*A,Nr=Ze.wc,or=Re<Ar?cn(Ze,qt,zt):null;O(Re<=Ie),O(A<=gr),O(xl(Ze));e:for(;;){for(;!Me.h&&Re<Ar;){if(qt&Nr||(or=cn(Ze,qt,zt)),O(or!=null),Ge(Me),256>(gr=ja(or.G[0],or.H[0],Me)))Ft[Je+Re]=gr,++Re,++qt>=Be&&(qt=0,++zt<=A&&!(zt%16)&&Ee(Pt,zt));else{if(!(280>gr)){Cr=0;break e}gr=$i(gr-256,Me);var Dr,mn=ja(or.G[4],or.H[4],Me);if(Ge(Me),!(Re>=(mn=ts(Be,mn=$i(mn,Me)))&&Ie-Re>=gr)){Cr=0;break e}for(Dr=0;Dr<gr;++Dr)Ft[Je+Re+Dr]=Ft[Je+Re+Dr-mn];for(Re+=gr,qt+=gr;qt>=Be;)qt-=Be,++zt<=A&&!(zt%16)&&Ee(Pt,zt);Re<Ar&&qt&Nr&&(or=cn(Ze,qt,zt))}O(Me.h==ge(Me))}Ee(Pt,zt>A?A:zt);break e}!Cr||Me.h&&Re<Ie?(Cr=0,Pt.a=Me.h?5:3):Pt.$=Re,A=Cr}else A=Aa(Pt,Pt.V,Pt.Ba,Pt.c,Pt.i,A,nl);if(!A){ut=0;break t}}H+ut>=Mt&&(m.Cc=1),ut=1}if(!ut)return null;if(m.Cc&&((ut=m.ga)!=null&&(ut.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+H*St}function G(m,A,H,ut,St,Mt){for(;0<St--;){var Pt,Ft=m,zt=A+(H?1:0),qt=m,Me=A+(H?0:3);for(Pt=0;Pt<ut;++Pt){var Ze=qt[Me+4*Pt];Ze!=255&&(Ze*=32897,Ft[zt+4*Pt+0]=Ft[zt+4*Pt+0]*Ze>>23,Ft[zt+4*Pt+1]=Ft[zt+4*Pt+1]*Ze>>23,Ft[zt+4*Pt+2]=Ft[zt+4*Pt+2]*Ze>>23)}A+=Mt}}function Et(m,A,H,ut,St){for(;0<ut--;){var Mt;for(Mt=0;Mt<H;++Mt){var Pt=m[A+2*Mt+0],Ft=15&(qt=m[A+2*Mt+1]),zt=4369*Ft,qt=(240&qt|qt>>4)*zt>>16;m[A+2*Mt+0]=(240&Pt|Pt>>4)*zt>>16&240|(15&Pt|Pt<<4)*zt>>16>>4&15,m[A+2*Mt+1]=240&qt|Ft}A+=St}}function Lt(m,A,H,ut,St,Mt,Pt,Ft){var zt,qt,Me=255;for(qt=0;qt<St;++qt){for(zt=0;zt<ut;++zt){var Ze=m[A+zt];Mt[Pt+4*zt]=Ze,Me&=Ze}A+=H,Pt+=Ft}return Me!=255}function we(m,A,H,ut,St){var Mt;for(Mt=0;Mt<St;++Mt)H[ut+Mt]=m[A+Mt]>>8}function Ve(){ua=G,Xc=Et,qf=Lt,Ap=we}function He(m,A,H){je[m]=function(ut,St,Mt,Pt,Ft,zt,qt,Me,Ze,Je,Be,Cr,gr,Re,Ie,Ar,Nr){var or,Dr=Nr-1>>1,mn=Ft[zt+0]|qt[Me+0]<<16,ni=Ze[Je+0]|Be[Cr+0]<<16;O(ut!=null);var lr=3*mn+ni+131074>>2;for(A(ut[St+0],255&lr,lr>>16,gr,Re),Mt!=null&&(lr=3*ni+mn+131074>>2,A(Mt[Pt+0],255&lr,lr>>16,Ie,Ar)),or=1;or<=Dr;++or){var Ro=Ft[zt+or]|qt[Me+or]<<16,xo=Ze[Je+or]|Be[Cr+or]<<16,fo=mn+Ro+ni+xo+524296,io=fo+2*(Ro+ni)>>3;lr=io+mn>>1,mn=(fo=fo+2*(mn+xo)>>3)+Ro>>1,A(ut[St+2*or-1],255&lr,lr>>16,gr,Re+(2*or-1)*H),A(ut[St+2*or-0],255&mn,mn>>16,gr,Re+(2*or-0)*H),Mt!=null&&(lr=fo+ni>>1,mn=io+xo>>1,A(Mt[Pt+2*or-1],255&lr,lr>>16,Ie,Ar+(2*or-1)*H),A(Mt[Pt+2*or+0],255&mn,mn>>16,Ie,Ar+(2*or+0)*H)),mn=Ro,ni=xo}1&Nr||(lr=3*mn+ni+131074>>2,A(ut[St+Nr-1],255&lr,lr>>16,gr,Re+(Nr-1)*H),Mt!=null&&(lr=3*ni+mn+131074>>2,A(Mt[Pt+Nr-1],255&lr,lr>>16,Ie,Ar+(Nr-1)*H)))}}function Er(){as[th]=Am,as[$h]=qh,as[Ov]=Mm,as[eh]=Mv,as[Zh]=Rv,as[rh]=Cv,as[Tv]=Rm,as[Cp]=qh,as[Lp]=Mv,as[Kc]=Rv,as[q0]=Cv}function kr(m){return m&~Pv?0>m?0:255:m>>Lv}function ke(m,A){return kr((19077*m>>8)+(26149*A>>8)-14234)}function Mn(m,A,H){return kr((19077*m>>8)-(6419*A>>8)-(13320*H>>8)+8708)}function Qn(m,A){return kr((19077*m>>8)+(33050*A>>8)-17685)}function fn(m,A,H,ut,St){ut[St+0]=ke(m,H),ut[St+1]=Mn(m,A,H),ut[St+2]=Qn(m,A)}function pi(m,A,H,ut,St){ut[St+0]=Qn(m,A),ut[St+1]=Mn(m,A,H),ut[St+2]=ke(m,H)}function si(m,A,H,ut,St){var Mt=Mn(m,A,H);A=Mt<<3&224|Qn(m,A)>>3,ut[St+0]=248&ke(m,H)|Mt>>5,ut[St+1]=A}function Hi(m,A,H,ut,St){var Mt=240&Qn(m,A)|15;ut[St+0]=240&ke(m,H)|Mn(m,A,H)>>4,ut[St+1]=Mt}function Di(m,A,H,ut,St){ut[St+0]=255,fn(m,A,H,ut,St+1)}function wo(m,A,H,ut,St){pi(m,A,H,ut,St),ut[St+3]=255}function va(m,A,H,ut,St){fn(m,A,H,ut,St),ut[St+3]=255}function os(m,A){return 0>m?0:m>A?A:m}function ms(m,A,H){je[m]=function(ut,St,Mt,Pt,Ft,zt,qt,Me,Ze){for(var Je=Me+(-2&Ze)*H;Me!=Je;)A(ut[St+0],Mt[Pt+0],Ft[zt+0],qt,Me),A(ut[St+1],Mt[Pt+0],Ft[zt+0],qt,Me+H),St+=2,++Pt,++zt,Me+=2*H;1&Ze&&A(ut[St+0],Mt[Pt+0],Ft[zt+0],qt,Me)}}function Yh(m,A,H){return H==0?m==0?A==0?6:5:A==0?4:0:H}function Xf(m,A,H,ut,St){switch(m>>>30){case 3:Hc(A,H,ut,St,0);break;case 2:Jl(A,H,ut,St);break;case 1:Lu(A,H,ut,St)}}function Kf(m,A){var H,ut,St=A.M,Mt=A.Nb,Pt=m.oc,Ft=m.pc+40,zt=m.oc,qt=m.pc+584,Me=m.oc,Ze=m.pc+600;for(H=0;16>H;++H)Pt[Ft+32*H-1]=129;for(H=0;8>H;++H)zt[qt+32*H-1]=129,Me[Ze+32*H-1]=129;for(0<St?Pt[Ft-1-32]=zt[qt-1-32]=Me[Ze-1-32]=129:(W(Pt,Ft-32-1,127,21),W(zt,qt-32-1,127,9),W(Me,Ze-32-1,127,9)),ut=0;ut<m.za;++ut){var Je=A.ya[A.aa+ut];if(0<ut){for(H=-1;16>H;++H)N(Pt,Ft+32*H-4,Pt,Ft+32*H+12,4);for(H=-1;8>H;++H)N(zt,qt+32*H-4,zt,qt+32*H+4,4),N(Me,Ze+32*H-4,Me,Ze+32*H+4,4)}var Be=m.Gd,Cr=m.Hd+ut,gr=Je.ad,Re=Je.Hc;if(0<St&&(N(Pt,Ft-32,Be[Cr].y,0,16),N(zt,qt-32,Be[Cr].f,0,8),N(Me,Ze-32,Be[Cr].ea,0,8)),Je.Za){var Ie=Pt,Ar=Ft-32+16;for(0<St&&(ut>=m.za-1?W(Ie,Ar,Be[Cr].y[15],4):N(Ie,Ar,Be[Cr+1].y,0,4)),H=0;4>H;H++)Ie[Ar+128+H]=Ie[Ar+256+H]=Ie[Ar+384+H]=Ie[Ar+0+H];for(H=0;16>H;++H,Re<<=2)Ie=Pt,Ar=Ft+Q0[H],Iu[Je.Ob[H]](Ie,Ar),Xf(Re,gr,16*+H,Ie,Ar)}else if(Ie=Yh(ut,St,Je.Ob[0]),Pu[Ie](Pt,Ft),Re!=0)for(H=0;16>H;++H,Re<<=2)Xf(Re,gr,16*+H,Pt,Ft+Q0[H]);for(H=Je.Gc,Ie=Yh(ut,St,Je.Dd),tu[Ie](zt,qt),tu[Ie](Me,Ze),Re=gr,Ie=zt,Ar=qt,255&(Je=H>>0)&&(170&Je?x0(Re,256,Ie,Ar):O0(Re,256,Ie,Ar)),Je=Me,Re=Ze,255&(H>>=8)&&(170&H?x0(gr,320,Je,Re):O0(gr,320,Je,Re)),St<m.Ub-1&&(N(Be[Cr].y,0,Pt,Ft+480,16),N(Be[Cr].f,0,zt,qt+224,8),N(Be[Cr].ea,0,Me,Ze+224,8)),H=8*Mt*m.B,Be=m.sa,Cr=m.ta+16*ut+16*Mt*m.R,gr=m.qa,Je=m.ra+8*ut+H,Re=m.Ha,Ie=m.Ia+8*ut+H,H=0;16>H;++H)N(Be,Cr+H*m.R,Pt,Ft+32*H,16);for(H=0;8>H;++H)N(gr,Je+H*m.B,zt,qt+32*H,8),N(Re,Ie+H*m.B,Me,Ze+32*H,8)}}function bu(m,A,H,ut,St,Mt,Pt,Ft,zt){var qt=[0],Me=[0],Ze=0,Je=zt!=null?zt.kd:0,Be=zt!=null?zt:new ro;if(m==null||12>H)return 7;Be.data=m,Be.w=A,Be.ha=H,A=[A],H=[H],Be.gb=[Be.gb];t:{var Cr=A,gr=H,Re=Be.gb;if(O(m!=null),O(gr!=null),O(Re!=null),Re[0]=0,12<=gr[0]&&!T(m,Cr[0],"RIFF")){if(T(m,Cr[0]+8,"WEBP")){Re=3;break t}var Ie=On(m,Cr[0]+4);if(12>Ie||4294967286<Ie){Re=3;break t}if(Je&&Ie>gr[0]-8){Re=7;break t}Re[0]=Ie,Cr[0]+=12,gr[0]-=12}Re=0}if(Re!=0)return Re;for(Ie=0<Be.gb[0],H=H[0];;){t:{var Ar=m;gr=A,Re=H;var Nr=qt,or=Me,Dr=Cr=[0];if((lr=Ze=[Ze])[0]=0,8>Re[0])Re=7;else{if(!T(Ar,gr[0],"VP8X")){if(On(Ar,gr[0]+4)!=10){Re=3;break t}if(18>Re[0]){Re=7;break t}var mn=On(Ar,gr[0]+8),ni=1+hn(Ar,gr[0]+12);if(2147483648<=ni*(Ar=1+hn(Ar,gr[0]+15))){Re=3;break t}Dr!=null&&(Dr[0]=mn),Nr!=null&&(Nr[0]=ni),or!=null&&(or[0]=Ar),gr[0]+=18,Re[0]-=18,lr[0]=1}Re=0}}if(Ze=Ze[0],Cr=Cr[0],Re!=0)return Re;if(gr=!!(2&Cr),!Ie&&Ze)return 3;if(Mt!=null&&(Mt[0]=!!(16&Cr)),Pt!=null&&(Pt[0]=gr),Ft!=null&&(Ft[0]=0),Pt=qt[0],Cr=Me[0],Ze&&gr&&zt==null){Re=0;break}if(4>H){Re=7;break}if(Ie&&Ze||!Ie&&!Ze&&!T(m,A[0],"ALPH")){H=[H],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];t:{mn=m,Re=A,Ie=H;var lr=Be.gb;Nr=Be.na,or=Be.P,Dr=Be.Sa,ni=22,O(mn!=null),O(Ie!=null),Ar=Re[0];var Ro=Ie[0];for(O(Nr!=null),O(Dr!=null),Nr[0]=null,or[0]=null,Dr[0]=0;;){if(Re[0]=Ar,Ie[0]=Ro,8>Ro){Re=7;break t}var xo=On(mn,Ar+4);if(4294967286<xo){Re=3;break t}var fo=8+xo+1&-2;if(ni+=fo,0<lr&&ni>lr){Re=3;break t}if(!T(mn,Ar,"VP8 ")||!T(mn,Ar,"VP8L")){Re=0;break t}if(Ro[0]<fo){Re=7;break t}T(mn,Ar,"ALPH")||(Nr[0]=mn,or[0]=Ar+8,Dr[0]=xo),Ar+=fo,Ro-=fo}}if(H=H[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Re!=0)break}H=[H],Be.Ja=[Be.Ja],Be.xa=[Be.xa];t:if(lr=m,Re=A,Ie=H,Nr=Be.gb[0],or=Be.Ja,Dr=Be.xa,mn=Re[0],Ar=!T(lr,mn,"VP8 "),ni=!T(lr,mn,"VP8L"),O(lr!=null),O(Ie!=null),O(or!=null),O(Dr!=null),8>Ie[0])Re=7;else{if(Ar||ni){if(lr=On(lr,mn+4),12<=Nr&&lr>Nr-12){Re=3;break t}if(Je&&lr>Ie[0]-8){Re=7;break t}or[0]=lr,Re[0]+=8,Ie[0]-=8,Dr[0]=ni}else Dr[0]=5<=Ie[0]&&lr[mn+0]==47&&!(lr[mn+4]>>5),or[0]=Ie[0];Re=0}if(H=H[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],A=A[0],Re!=0)break;if(4294967286<Be.Ja)return 3;if(Ft==null||gr||(Ft[0]=Be.xa?2:1),Pt=[Pt],Cr=[Cr],Be.xa){if(5>H){Re=7;break}Ft=Pt,Je=Cr,gr=Mt,m==null||5>H?m=0:5<=H&&m[A+0]==47&&!(m[A+4]>>5)?(Ie=[0],lr=[0],Nr=[0],nr(or=new It,m,A,H),Un(or,Ie,lr,Nr)?(Ft!=null&&(Ft[0]=Ie[0]),Je!=null&&(Je[0]=lr[0]),gr!=null&&(gr[0]=Nr[0]),m=1):m=0):m=0}else{if(10>H){Re=7;break}Ft=Cr,m==null||10>H||!_0(m,A+3,H-3)?m=0:(Je=m[A+0]|m[A+1]<<8|m[A+2]<<16,gr=16383&(m[A+7]<<8|m[A+6]),m=16383&(m[A+9]<<8|m[A+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=Be.Ja||!gr||!m?m=0:(Pt&&(Pt[0]=gr),Ft&&(Ft[0]=m),m=1))}if(!m||(Pt=Pt[0],Cr=Cr[0],Ze&&(qt[0]!=Pt||Me[0]!=Cr)))return 3;zt!=null&&(zt[0]=Be,zt.offset=A-zt.w,O(4294967286>A-zt.w),O(zt.offset==zt.ha-H));break}return Re==0||Re==7&&Ze&&zt==null?(Mt!=null&&(Mt[0]|=Be.na!=null&&0<Be.na.length),ut!=null&&(ut[0]=Pt),St!=null&&(St[0]=Cr),0):Re}function $f(m,A,H){var ut=A.width,St=A.height,Mt=0,Pt=0,Ft=ut,zt=St;if(A.Da=m!=null&&0<m.Da,A.Da&&(Ft=m.cd,zt=m.bd,Mt=m.v,Pt=m.j,11>H||(Mt&=-2,Pt&=-2),0>Mt||0>Pt||0>=Ft||0>=zt||Mt+Ft>ut||Pt+zt>St))return 0;if(A.v=Mt,A.j=Pt,A.va=Mt+Ft,A.o=Pt+zt,A.U=Ft,A.T=zt,A.da=m!=null&&0<m.da,A.da){if(!ci(Ft,zt,H=[m.ib],Mt=[m.hb]))return 0;A.ib=H[0],A.hb=Mt[0]}return A.ob=m!=null&&m.ob,A.Kb=m==null||!m.Sd,A.da&&(A.ob=A.ib<3*ut/4&&A.hb<3*St/4,A.Kb=0),1}function Zf(m){if(m==null)return 2;if(11>m.S){var A=m.f.RGBA;A.fb+=(m.height-1)*A.A,A.A=-A.A}else A=m.f.kb,m=m.height,A.O+=(m-1)*A.fa,A.fa=-A.fa,A.N+=(m-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(m-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(m-1)*A.lb,A.lb=-A.lb);return 0}function Ii(m,A,H,ut){if(ut==null||0>=m||0>=A)return 2;if(H!=null){if(H.Da){var St=H.cd,Mt=H.bd,Pt=-2&H.v,Ft=-2&H.j;if(0>Pt||0>Ft||0>=St||0>=Mt||Pt+St>m||Ft+Mt>A)return 2;m=St,A=Mt}if(H.da){if(!ci(m,A,St=[H.ib],Mt=[H.hb]))return 2;m=St[0],A=Mt[0]}}ut.width=m,ut.height=A;t:{var zt=ut.width,qt=ut.height;if(m=ut.S,0>=zt||0>=qt||!(m>=th&&13>m))m=2;else{if(0>=ut.Rd&&ut.sd==null){Pt=Mt=St=A=0;var Me=(Ft=zt*Iv[m])*qt;if(11>m||(Mt=(qt+1)/2*(A=(zt+1)/2),m==12&&(Pt=(St=zt)*qt)),(qt=D(Me+2*Mt+Pt))==null){m=1;break t}ut.sd=qt,11>m?((zt=ut.f.RGBA).eb=qt,zt.fb=0,zt.A=Ft,zt.size=Me):((zt=ut.f.kb).y=qt,zt.O=0,zt.fa=Ft,zt.Fd=Me,zt.f=qt,zt.N=0+Me,zt.Ab=A,zt.Cd=Mt,zt.ea=qt,zt.W=0+Me+Mt,zt.Db=A,zt.Ed=Mt,m==12&&(zt.F=qt,zt.J=0+Me+2*Mt),zt.Tc=Pt,zt.lb=St)}if(A=1,St=ut.S,Mt=ut.width,Pt=ut.height,St>=th&&13>St)if(11>St)m=ut.f.RGBA,A&=(Ft=Math.abs(m.A))*(Pt-1)+Mt<=m.size,A&=Ft>=Mt*Iv[St],A&=m.eb!=null;else{m=ut.f.kb,Ft=(Mt+1)/2,Me=(Pt+1)/2,zt=Math.abs(m.fa),qt=Math.abs(m.Ab);var Ze=Math.abs(m.Db),Je=Math.abs(m.lb),Be=Je*(Pt-1)+Mt;A&=zt*(Pt-1)+Mt<=m.Fd,A&=qt*(Me-1)+Ft<=m.Cd,A=(A&=Ze*(Me-1)+Ft<=m.Ed)&zt>=Mt&qt>=Ft&Ze>=Ft,A&=m.y!=null,A&=m.f!=null,A&=m.ea!=null,St==12&&(A&=Je>=Mt,A&=Be<=m.Tc,A&=m.F!=null)}else A=0;m=A?0:2}}return m!=0||H!=null&&H.fd&&(m=Zf(ut)),m}var cl=64,Zl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$0=24,Vc=32,wc=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nn("Predictor0","PredictorAdd0"),je.Predictor0=function(){return 4278190080},je.Predictor1=function(m){return m},je.Predictor2=function(m,A,H){return A[H+0]},je.Predictor3=function(m,A,H){return A[H+1]},je.Predictor4=function(m,A,H){return A[H-1]},je.Predictor5=function(m,A,H){return an(an(m,A[H+1]),A[H+0])},je.Predictor6=function(m,A,H){return an(m,A[H-1])},je.Predictor7=function(m,A,H){return an(m,A[H+0])},je.Predictor8=function(m,A,H){return an(A[H-1],A[H+0])},je.Predictor9=function(m,A,H){return an(A[H+0],A[H+1])},je.Predictor10=function(m,A,H){return an(an(m,A[H-1]),an(A[H+0],A[H+1]))},je.Predictor11=function(m,A,H){var ut=A[H+0];return 0>=ai(ut>>24&255,m>>24&255,(A=A[H-1])>>24&255)+ai(ut>>16&255,m>>16&255,A>>16&255)+ai(ut>>8&255,m>>8&255,A>>8&255)+ai(255&ut,255&m,255&A)?ut:m},je.Predictor12=function(m,A,H){var ut=A[H+0];return(Bn((m>>24&255)+(ut>>24&255)-((A=A[H-1])>>24&255))<<24|Bn((m>>16&255)+(ut>>16&255)-(A>>16&255))<<16|Bn((m>>8&255)+(ut>>8&255)-(A>>8&255))<<8|Bn((255&m)+(255&ut)-(255&A)))>>>0},je.Predictor13=function(m,A,H){var ut=A[H-1];return(di((m=an(m,A[H+0]))>>24&255,ut>>24&255)<<24|di(m>>16&255,ut>>16&255)<<16|di(m>>8&255,ut>>8&255)<<8|di(m>>0&255,ut>>0&255))>>>0};var Xh=je.PredictorAdd0;je.PredictorAdd1=wi,nn("Predictor2","PredictorAdd2"),nn("Predictor3","PredictorAdd3"),nn("Predictor4","PredictorAdd4"),nn("Predictor5","PredictorAdd5"),nn("Predictor6","PredictorAdd6"),nn("Predictor7","PredictorAdd7"),nn("Predictor8","PredictorAdd8"),nn("Predictor9","PredictorAdd9"),nn("Predictor10","PredictorAdd10"),nn("Predictor11","PredictorAdd11"),nn("Predictor12","PredictorAdd12"),nn("Predictor13","PredictorAdd13");var Z0=je.PredictorAdd2;yi("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),yi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Kh,Au=je.ColorIndexInverseTransform,Wc=je.MapARGB,Tp=je.VP8LColorIndexInverseTransformAlpha,bp=je.MapAlpha,Mu=je.VP8LPredictorsAdd=[];Mu.length=16,(je.VP8LPredictors=[]).length=16,(je.VP8LPredictorsAdd_C=[]).length=16,(je.VP8LPredictors_C=[]).length=16;var Ml,Ru,t0,Cu,S0,w0,so,Hc,Jl,x0,Lu,O0,T0,Yc,e0,J0,Jf,ql,b0,Uo,lo,Oa,Ua,r0,ua,Xc,qf,Ap,Sv=D(511),wv=D(2041),Mp=D(225),no=D(767),xv=0,Rp=wv,Qf=Mp,Rl=no,Ql=Sv,th=0,$h=1,Ov=2,eh=3,Zh=4,rh=5,Tv=6,Cp=7,Lp=8,Kc=9,q0=10,_m=[2,3,7],Em=[3,3,11],bv=[280,256,256,256,40],Sm=[0,1,1,1,0],wm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cl=8,$c=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Jh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zc=null,Av=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ip=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Om=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Np=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pu=[],Iu=[],tu=[],bm=1,Jc=2,n0=[],as=[];He("UpsampleRgbLinePair",fn,3),He("UpsampleBgrLinePair",pi,3),He("UpsampleRgbaLinePair",va,4),He("UpsampleBgraLinePair",wo,4),He("UpsampleArgbLinePair",Di,4),He("UpsampleRgba4444LinePair",Hi,2),He("UpsampleRgb565LinePair",si,2);var Am=je.UpsampleRgbLinePair,Mm=je.UpsampleBgrLinePair,qh=je.UpsampleRgbaLinePair,Mv=je.UpsampleBgraLinePair,Rv=je.UpsampleArgbLinePair,Cv=je.UpsampleRgba4444LinePair,Rm=je.UpsampleRgb565LinePair,Qh=16,td=1<<Qh-1,ih=-227,Dp=482,Lv=6,Pv=(256<<Lv)-1,oh=0,jp=D(256),Cm=D(256),Lm=D(256),Pm=D(256),Im=D(Dp-ih),Nm=D(Dp-ih);ms("YuvToRgbRow",fn,3),ms("YuvToBgrRow",pi,3),ms("YuvToRgbaRow",va,4),ms("YuvToBgraRow",wo,4),ms("YuvToArgbRow",Di,4),ms("YuvToRgba4444Row",Hi,2),ms("YuvToRgb565Row",si,2);var Q0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ed=[0,2,8],Fm=[8,7,6,4,4,2,2,2,1,1,1,1],Dm=1;this.WebPDecodeRGBA=function(m,A,H,ut,St){var Mt=$h,Pt=new qi,Ft=new Ea;Pt.ba=Ft,Ft.S=Mt,Ft.width=[Ft.width],Ft.height=[Ft.height];var zt=Ft.width,qt=Ft.height,Me=new As;if(Me==null||m==null)var Ze=2;else O(Me!=null),Ze=bu(m,A,H,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Ze!=0?zt=0:(zt!=null&&(zt[0]=Me.width[0]),qt!=null&&(qt[0]=Me.height[0]),zt=1),zt){Ft.width=Ft.width[0],Ft.height=Ft.height[0],ut!=null&&(ut[0]=Ft.width),St!=null&&(St[0]=Ft.height);t:{if(ut=new Su,(St=new ro).data=m,St.w=A,St.ha=H,St.kd=1,A=[0],O(St!=null),((m=bu(St.data,St.w,St.ha,null,null,null,A,null,St))==0||m==7)&&A[0]&&(m=4),(A=m)==0){if(O(Pt!=null),ut.data=St.data,ut.w=St.w+St.offset,ut.ha=St.ha-St.offset,ut.put=zs,ut.ac=oa,ut.bc=ps,ut.ma=Pt,St.xa){if((m=Yi())==null){Pt=1;break t}if(function(Je,Be){var Cr=[0],gr=[0],Re=[0];e:for(;;){if(Je==null)return 0;if(Be==null)return Je.a=2,0;if(Je.l=Be,Je.a=0,nr(Je.m,Be.data,Be.w,Be.ha),!Un(Je.m,Cr,gr,Re)){Je.a=3;break e}if(Je.xb=Jc,Be.width=Cr[0],Be.height=gr[0],!Ui(Cr[0],gr[0],1,Je,null))break e;return 1}return O(Je.a!=0),0}(m,ut)){if(ut=(A=Ii(ut.width,ut.height,Pt.Oa,Pt.ba))==0){e:{ut=m;r:for(;;){if(ut==null){ut=0;break e}if(O(ut.s.yc!=null),O(ut.s.Ya!=null),O(0<ut.s.Wb),O((H=ut.l)!=null),O((St=H.ma)!=null),ut.xb!=0){if(ut.ca=St.ba,ut.tb=St.tb,O(ut.ca!=null),!$f(St.Oa,H,eh)){ut.a=2;break r}if(!sa(ut,H.width)||H.da)break r;if((H.da||Wi(ut.ca.S))&&Ve(),11>ut.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ut.ca.f.kb.F!=null&&Ve()),ut.Pb&&0<ut.s.ua&&ut.s.vb.X==null&&!Vn(ut.s.vb,ut.s.Wa.Xa)){ut.a=1;break r}ut.xb=0}if(!Aa(ut,ut.V,ut.Ba,ut.c,ut.i,H.o,_u))break r;St.Dc=ut.Ma,ut=1;break e}O(ut.a!=0),ut=0}ut=!ut}ut&&(A=m.a)}else A=m.a}else{if((m=new qu)==null){Pt=1;break t}if(m.Fa=St.na,m.P=St.P,m.qc=St.Sa,Rs(m,ut)){if((A=Ii(ut.width,ut.height,Pt.Oa,Pt.ba))==0){if(m.Aa=0,H=Pt.Oa,O((St=m)!=null),H!=null){if(0<(zt=0>(zt=H.Md)?0:100<zt?255:255*zt/100)){for(qt=Me=0;4>qt;++qt)12>(Ze=St.pb[qt]).lc&&(Ze.ia=zt*Fm[0>Ze.lc?0:Ze.lc]>>3),Me|=Ze.ia;Me&&(alert("todo:VP8InitRandom"),St.ia=1)}St.Ga=H.Id,100<St.Ga?St.Ga=100:0>St.Ga&&(St.Ga=0)}X0(m,ut)||(A=m.a)}}else A=m.a}A==0&&Pt.Oa!=null&&Pt.Oa.fd&&(A=Zf(Pt.ba))}Pt=A}Mt=Pt!=0?null:11>Mt?Ft.f.RGBA.eb:Ft.f.kb.y}else Mt=null;return Mt};var Iv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function _t(je,Rr){for(var vr="",Zt=0;Zt<4;Zt++)vr+=String.fromCharCode(je[Rr++]);return vr}function Bt(je,Rr){return(je[Rr+0]<<0|je[Rr+1]<<8|je[Rr+2]<<16)>>>0}function Ut(je,Rr){return(je[Rr+0]<<0|je[Rr+1]<<8|je[Rr+2]<<16|je[Rr+3]<<24)>>>0}new st;var Xt=[0],pt=[0],ce=[],ne=new st,Te=L,Yt=function(je,Rr){var vr={},Zt=0,Jt=!1,Le=0,xe=0;if(vr.frames=[],!function(oe,ge,Ce,Ge){for(var qe=0;qe<Ge;qe++)if(oe[ge+qe]!=Ce.charCodeAt(qe))return!0;return!1}(je,Rr,"RIFF",4)){var yr,dr;for(Ut(je,Rr+=4),Rr+=8;Rr<je.length;){var Lr=_t(je,Rr),nr=Ut(je,Rr+=4);Rr+=4;var ur=nr+(1&nr);switch(Lr){case"VP8 ":case"VP8L":vr.frames[Zt]===void 0&&(vr.frames[Zt]={}),(It=vr.frames[Zt]).src_off=Jt?xe:Rr-8,It.src_size=Le+nr+8,Zt++,Jt&&(Jt=!1,Le=0,xe=0);break;case"VP8X":(It=vr.header={}).feature_flags=je[Rr];var Or=Rr+4;It.canvas_width=1+Bt(je,Or),Or+=3,It.canvas_height=1+Bt(je,Or),Or+=3;break;case"ALPH":Jt=!0,Le=ur+8,xe=Rr-8;break;case"ANIM":(It=vr.header).bgcolor=Ut(je,Rr),Or=Rr+4,It.loop_count=(yr=je)[(dr=Or)+0]<<0|yr[dr+1]<<8,Or+=2;break;case"ANMF":var xn,It;(It=vr.frames[Zt]={}).offset_x=2*Bt(je,Rr),Rr+=3,It.offset_y=2*Bt(je,Rr),Rr+=3,It.width=1+Bt(je,Rr),Rr+=3,It.height=1+Bt(je,Rr),Rr+=3,It.duration=Bt(je,Rr),Rr+=3,xn=je[Rr++],It.dispose=1&xn,It.blend=xn>>1&1}Lr!="ANMF"&&(Rr+=ur)}return vr}}(Te,0);Yt.response=Te,Yt.rgbaoutput=!0,Yt.dataurl=!1;var pe=Yt.header?Yt.header:null,ze=Yt.frames?Yt.frames:null;if(pe){pe.loop_counter=pe.loop_count,Xt=[pe.canvas_height],pt=[pe.canvas_width];for(var sr=0;sr<ze.length&&ze[sr].blend!=0;sr++);}var Tr=ze[0],Zr=ne.WebPDecodeRGBA(Te,Tr.src_off,Tr.src_size,pt,Xt);Tr.rgba=Zr,Tr.imgwidth=pt[0],Tr.imgheight=Xt[0];for(var pr=0;pr<pt[0]*Xt[0]*4;pr++)ce[pr]=Zr[pr];return this.width=pt,this.height=Xt,this.data=ce,this}(function(L){var O=function(){return typeof b.b=="function"},T=function(Xt,pt,ce,ne){var Te=4,Yt=X;switch(ne){case L.image_compression.FAST:Te=1,Yt=D;break;case L.image_compression.MEDIUM:Te=6,Yt=rt;break;case L.image_compression.SLOW:Te=9,Yt=st}Xt=N(Xt,pt,ce,Yt);var pe=Object(b.b)(Xt,{level:Te});return L.__addimage__.arrayBufferToBinaryString(pe)},N=function(Xt,pt,ce,ne){for(var Te,Yt,pe,ze=Xt.length/pt,sr=new Uint8Array(Xt.length+ze),Tr=Bt(),Zr=0;Zr<ze;Zr+=1){if(pe=Zr*pt,Te=Xt.subarray(pe,pe+pt),ne)sr.set(ne(Te,ce,Yt),pe+Zr);else{for(var pr,je=Tr.length,Rr=[];pr<je;pr+=1)Rr[pr]=Tr[pr](Te,ce,Yt);var vr=Ut(Rr.concat());sr.set(Rr[vr],pe+Zr)}Yt=Te}return sr},W=function(Xt){var pt=Array.apply([],Xt);return pt.unshift(0),pt},D=function(Xt,pt){var ce,ne=[],Te=Xt.length;ne[0]=1;for(var Yt=0;Yt<Te;Yt+=1)ce=Xt[Yt-pt]||0,ne[Yt+1]=Xt[Yt]-ce+256&255;return ne},X=function(Xt,pt,ce){var ne,Te=[],Yt=Xt.length;Te[0]=2;for(var pe=0;pe<Yt;pe+=1)ne=ce&&ce[pe]||0,Te[pe+1]=Xt[pe]-ne+256&255;return Te},rt=function(Xt,pt,ce){var ne,Te,Yt=[],pe=Xt.length;Yt[0]=3;for(var ze=0;ze<pe;ze+=1)ne=Xt[ze-pt]||0,Te=ce&&ce[ze]||0,Yt[ze+1]=Xt[ze]+256-(ne+Te>>>1)&255;return Yt},st=function(Xt,pt,ce){var ne,Te,Yt,pe,ze=[],sr=Xt.length;ze[0]=4;for(var Tr=0;Tr<sr;Tr+=1)ne=Xt[Tr-pt]||0,Te=ce&&ce[Tr]||0,Yt=ce&&ce[Tr-pt]||0,pe=_t(ne,Te,Yt),ze[Tr+1]=Xt[Tr]-pe+256&255;return ze},_t=function(Xt,pt,ce){if(Xt===pt&&pt===ce)return Xt;var ne=Math.abs(pt-ce),Te=Math.abs(Xt-ce),Yt=Math.abs(Xt+pt-ce-ce);return ne<=Te&&ne<=Yt?Xt:Te<=Yt?pt:ce},Bt=function(){return[W,D,X,rt,st]},Ut=function(Xt){var pt=Xt.map(function(ce){return ce.reduce(function(ne,Te){return ne+Math.abs(Te)},0)});return pt.indexOf(Math.min.apply(null,pt))};L.processPNG=function(Xt,pt,ce,ne){var Te,Yt,pe,ze,sr,Tr,Zr,pr,je,Rr,vr,Zt,Jt,Le,xe,yr=this.decode.FLATE_DECODE,dr="";if(this.__addimage__.isArrayBuffer(Xt)&&(Xt=new Uint8Array(Xt)),this.__addimage__.isArrayBufferView(Xt)){if(Xt=(pe=new Vl(Xt)).imgData,Yt=pe.bits,Te=pe.colorSpace,sr=pe.colors,[4,6].indexOf(pe.colorType)!==-1){if(pe.bits===8){je=(pr=pe.pixelBitlength==32?new Uint32Array(pe.decodePixels().buffer):pe.pixelBitlength==16?new Uint16Array(pe.decodePixels().buffer):new Uint8Array(pe.decodePixels().buffer)).length,vr=new Uint8Array(je*pe.colors),Rr=new Uint8Array(je);var Lr,nr=pe.pixelBitlength-pe.bits;for(Le=0,xe=0;Le<je;Le++){for(Jt=pr[Le],Lr=0;Lr<nr;)vr[xe++]=Jt>>>Lr&255,Lr+=pe.bits;Rr[Le]=Jt>>>Lr&255}}if(pe.bits===16){je=(pr=new Uint32Array(pe.decodePixels().buffer)).length,vr=new Uint8Array(je*(32/pe.pixelBitlength)*pe.colors),Rr=new Uint8Array(je*(32/pe.pixelBitlength)),Zt=pe.colors>1,Le=0,xe=0;for(var ur=0;Le<je;)Jt=pr[Le++],vr[xe++]=Jt>>>0&255,Zt&&(vr[xe++]=Jt>>>16&255,Jt=pr[Le++],vr[xe++]=Jt>>>0&255),Rr[ur++]=Jt>>>16&255;Yt=8}ne!==L.image_compression.NONE&&O()?(Xt=T(vr,pe.width*pe.colors,pe.colors,ne),Zr=T(Rr,pe.width,1,ne)):(Xt=vr,Zr=Rr,yr=void 0)}if(pe.colorType===3&&(Te=this.color_spaces.INDEXED,Tr=pe.palette,pe.transparency.indexed)){var Or=pe.transparency.indexed,xn=0;for(Le=0,je=Or.length;Le<je;++Le)xn+=Or[Le];if((xn/=255)===je-1&&Or.indexOf(0)!==-1)ze=[Or.indexOf(0)];else if(xn!==je){for(pr=pe.decodePixels(),Rr=new Uint8Array(pr.length),Le=0,je=pr.length;Le<je;Le++)Rr[Le]=Or[pr[Le]];Zr=T(Rr,pe.width,1)}}var It=function(oe){var ge;switch(oe){case L.image_compression.FAST:ge=11;break;case L.image_compression.MEDIUM:ge=13;break;case L.image_compression.SLOW:ge=14;break;default:ge=12}return ge}(ne);return yr===this.decode.FLATE_DECODE&&(dr="/Predictor "+It+" "),dr+="/Colors "+sr+" /BitsPerComponent "+Yt+" /Columns "+pe.width,(this.__addimage__.isArrayBuffer(Xt)||this.__addimage__.isArrayBufferView(Xt))&&(Xt=this.__addimage__.arrayBufferToBinaryString(Xt)),(Zr&&this.__addimage__.isArrayBuffer(Zr)||this.__addimage__.isArrayBufferView(Zr))&&(Zr=this.__addimage__.arrayBufferToBinaryString(Zr)),{alias:ce,data:Xt,index:pt,filter:yr,decodeParameters:dr,transparency:ze,palette:Tr,sMask:Zr,predictor:It,width:pe.width,height:pe.height,bitsPerComponent:Yt,colorSpace:Te}}}})(_e.API),function(L){L.processGIF89A=function(O,T,N,W){var D=new Fa(O),X=D.width,rt=D.height,st=[];D.decodeAndBlitFrameRGBA(0,st);var _t={data:st,width:X,height:rt},Bt=new rl(100).encode(_t,100);return L.processJPEG.call(this,Bt,T,N,W)},L.processGIF87A=L.processGIF89A}(_e.API),_o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var L=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(L);for(var O=0;O<L;O++){var T=this.datav.getUint8(this.pos++,!0),N=this.datav.getUint8(this.pos++,!0),W=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0);this.palette[O]={red:W,green:N,blue:T,quad:D}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_o.prototype.parseBGR=function(){this.pos=this.offset;try{var L="bit"+this.bitPP,O=this.width*this.height*4;this.data=new Uint8Array(O),this[L]()}catch(T){k.log("bit decode error:"+T)}},_o.prototype.bit1=function(){var L,O=Math.ceil(this.width/8),T=O%4;for(L=this.height-1;L>=0;L--){for(var N=this.bottom_up?L:this.height-1-L,W=0;W<O;W++)for(var D=this.datav.getUint8(this.pos++,!0),X=N*this.width*4+8*W*4,rt=0;rt<8&&8*W+rt<this.width;rt++){var st=this.palette[D>>7-rt&1];this.data[X+4*rt]=st.blue,this.data[X+4*rt+1]=st.green,this.data[X+4*rt+2]=st.red,this.data[X+4*rt+3]=255}T!==0&&(this.pos+=4-T)}},_o.prototype.bit4=function(){for(var L=Math.ceil(this.width/2),O=L%4,T=this.height-1;T>=0;T--){for(var N=this.bottom_up?T:this.height-1-T,W=0;W<L;W++){var D=this.datav.getUint8(this.pos++,!0),X=N*this.width*4+2*W*4,rt=D>>4,st=15&D,_t=this.palette[rt];if(this.data[X]=_t.blue,this.data[X+1]=_t.green,this.data[X+2]=_t.red,this.data[X+3]=255,2*W+1>=this.width)break;_t=this.palette[st],this.data[X+4]=_t.blue,this.data[X+4+1]=_t.green,this.data[X+4+2]=_t.red,this.data[X+4+3]=255}O!==0&&(this.pos+=4-O)}},_o.prototype.bit8=function(){for(var L=this.width%4,O=this.height-1;O>=0;O--){for(var T=this.bottom_up?O:this.height-1-O,N=0;N<this.width;N++){var W=this.datav.getUint8(this.pos++,!0),D=T*this.width*4+4*N;if(W<this.palette.length){var X=this.palette[W];this.data[D]=X.red,this.data[D+1]=X.green,this.data[D+2]=X.blue,this.data[D+3]=255}else this.data[D]=255,this.data[D+1]=255,this.data[D+2]=255,this.data[D+3]=255}L!==0&&(this.pos+=4-L)}},_o.prototype.bit15=function(){for(var L=this.width%3,O=parseInt("11111",2),T=this.height-1;T>=0;T--){for(var N=this.bottom_up?T:this.height-1-T,W=0;W<this.width;W++){var D=this.datav.getUint16(this.pos,!0);this.pos+=2;var X=(D&O)/O*255|0,rt=(D>>5&O)/O*255|0,st=(D>>10&O)/O*255|0,_t=D>>15?255:0,Bt=N*this.width*4+4*W;this.data[Bt]=st,this.data[Bt+1]=rt,this.data[Bt+2]=X,this.data[Bt+3]=_t}this.pos+=L}},_o.prototype.bit16=function(){for(var L=this.width%3,O=parseInt("11111",2),T=parseInt("111111",2),N=this.height-1;N>=0;N--){for(var W=this.bottom_up?N:this.height-1-N,D=0;D<this.width;D++){var X=this.datav.getUint16(this.pos,!0);this.pos+=2;var rt=(X&O)/O*255|0,st=(X>>5&T)/T*255|0,_t=(X>>11)/O*255|0,Bt=W*this.width*4+4*D;this.data[Bt]=_t,this.data[Bt+1]=st,this.data[Bt+2]=rt,this.data[Bt+3]=255}this.pos+=L}},_o.prototype.bit24=function(){for(var L=this.height-1;L>=0;L--){for(var O=this.bottom_up?L:this.height-1-L,T=0;T<this.width;T++){var N=this.datav.getUint8(this.pos++,!0),W=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),X=O*this.width*4+4*T;this.data[X]=D,this.data[X+1]=W,this.data[X+2]=N,this.data[X+3]=255}this.pos+=this.width%4}},_o.prototype.bit32=function(){for(var L=this.height-1;L>=0;L--)for(var O=this.bottom_up?L:this.height-1-L,T=0;T<this.width;T++){var N=this.datav.getUint8(this.pos++,!0),W=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),rt=O*this.width*4+4*T;this.data[rt]=D,this.data[rt+1]=W,this.data[rt+2]=N,this.data[rt+3]=X}},_o.prototype.getData=function(){return this.data},function(L){L.processBMP=function(O,T,N,W){var D=new _o(O,!1),X=D.width,rt=D.height,st={data:D.getData(),width:X,height:rt},_t=new rl(100).encode(st,100);return L.processJPEG.call(this,_t,T,N,W)}}(_e.API),mu.prototype.getData=function(){return this.data},function(L){L.processWEBP=function(O,T,N,W){var D=new mu(O),X=D.width,rt=D.height,st={data:D.getData(),width:X,height:rt},_t=new rl(100).encode(st,100);return L.processJPEG.call(this,_t,T,N,W)}}(_e.API),_e.API.processRGBA=function(L,O,T){for(var N=L.data,W=N.length,D=new Uint8Array(W/4*3),X=new Uint8Array(W/4),rt=0,st=0,_t=0;_t<W;_t+=4){var Bt=N[_t],Ut=N[_t+1],Xt=N[_t+2],pt=N[_t+3];D[rt++]=Bt,D[rt++]=Ut,D[rt++]=Xt,X[st++]=pt}var ce=this.__addimage__.arrayBufferToBinaryString(D);return{alpha:this.__addimage__.arrayBufferToBinaryString(X),data:ce,index:O,alias:T,colorSpace:"DeviceRGB",bitsPerComponent:8,width:L.width,height:L.height}},_e.API.setLanguage=function(L){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[L]!==void 0&&(this.internal.languageSettings.languageCode=L,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qo=_e.API,Us=qo.getCharWidthsArray=function(L,O){var T,N,W=(O=O||{}).font||this.internal.getFont(),D=O.fontSize||this.internal.getFontSize(),X=O.charSpace||this.internal.getCharSpace(),rt=O.widths?O.widths:W.metadata.Unicode.widths,st=rt.fof?rt.fof:1,_t=O.kerning?O.kerning:W.metadata.Unicode.kerning,Bt=_t.fof?_t.fof:1,Ut=O.doKerning!==!1,Xt=0,pt=L.length,ce=0,ne=rt[0]||st,Te=[];for(T=0;T<pt;T++)N=L.charCodeAt(T),typeof W.metadata.widthOfString=="function"?Te.push((W.metadata.widthOfGlyph(W.metadata.characterToGlyph(N))+X*(1e3/D)||0)/1e3):(Xt=Ut&&E()(_t[N])==="object"&&!isNaN(parseInt(_t[N][ce],10))?_t[N][ce]/Bt:0,Te.push((rt[N]||ne)/st+Xt)),ce=N;return Te},el=qo.getStringUnitWidth=function(L,O){var T=(O=O||{}).fontSize||this.internal.getFontSize(),N=O.font||this.internal.getFont(),W=O.charSpace||this.internal.getCharSpace();return qo.processArabic&&(L=qo.processArabic(L)),typeof N.metadata.widthOfString=="function"?N.metadata.widthOfString(L,T,W)/T:Us.apply(this,arguments).reduce(function(D,X){return D+X},0)},H0=function(L,O,T,N){for(var W=[],D=0,X=L.length,rt=0;D!==X&&rt+O[D]<T;)rt+=O[D],D++;W.push(L.slice(0,D));var st=D;for(rt=0;D!==X;)rt+O[D]>N&&(W.push(L.slice(st,D)),rt=0,st=D),rt+=O[D],D++;return st!==D&&W.push(L.slice(st,D)),W},Sc=function(L,O,T){T||(T={});var N,W,D,X,rt,st,_t,Bt=[],Ut=[Bt],Xt=T.textIndent||0,pt=0,ce=0,ne=L.split(" "),Te=Us.apply(this,[" ",T])[0];if(st=T.lineIndent===-1?ne[0].length+2:T.lineIndent||0){var Yt=Array(st).join(" "),pe=[];ne.map(function(sr){(sr=sr.split(/\s*\n/)).length>1?pe=pe.concat(sr.map(function(Tr,Zr){return(Zr&&Tr.length?`
`:"")+Tr})):pe.push(sr[0])}),ne=pe,st=el.apply(this,[Yt,T])}for(D=0,X=ne.length;D<X;D++){var ze=0;if(N=ne[D],st&&N[0]==`
`&&(N=N.substr(1),ze=1),Xt+pt+(ce=(W=Us.apply(this,[N,T])).reduce(function(sr,Tr){return sr+Tr},0))>O||ze){if(ce>O){for(rt=H0.apply(this,[N,W,O-(Xt+pt),O]),Bt.push(rt.shift()),Bt=[rt.pop()];rt.length;)Ut.push([rt.shift()]);ce=W.slice(N.length-(Bt[0]?Bt[0].length:0)).reduce(function(sr,Tr){return sr+Tr},0)}else Bt=[N];Ut.push(Bt),Xt=ce+st,pt=Te}else Bt.push(N),Xt+=pt+ce,pt=Te}return _t=st?function(sr,Tr){return(Tr?Yt:"")+sr.join(" ")}:function(sr){return sr.join(" ")},Ut.map(_t)},qo.splitTextToSize=function(L,O,T){var N,W=(T=T||{}).fontSize||this.internal.getFontSize(),D=function(Bt){if(Bt.widths&&Bt.kerning)return{widths:Bt.widths,kerning:Bt.kerning};var Ut=this.internal.getFont(Bt.fontName,Bt.fontStyle);return Ut.metadata.Unicode?{widths:Ut.metadata.Unicode.widths||{0:1},kerning:Ut.metadata.Unicode.kerning||{}}:{font:Ut.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,T);N=Array.isArray(L)?L:String(L).split(/\r?\n/);var X=1*this.internal.scaleFactor*O/W;D.textIndent=T.textIndent?1*T.textIndent*this.internal.scaleFactor/W:0,D.lineIndent=T.lineIndent;var rt,st,_t=[];for(rt=0,st=N.length;rt<st;rt++)_t=_t.concat(Sc.apply(this,[N[rt],X,D]));return _t},function(L){L.__fontmetrics__=L.__fontmetrics__||{};for(var O="klmnopqrstuvwxyz",T={},N={},W=0;W<O.length;W++)T[O[W]]="0123456789abcdef"[W],N["0123456789abcdef"[W]]=O[W];var D=function(Ut){return"0x"+parseInt(Ut,10).toString(16)},X=L.__fontmetrics__.compress=function(Ut){var Xt,pt,ce,ne,Te=["{"];for(var Yt in Ut){if(Xt=Ut[Yt],isNaN(parseInt(Yt,10))?pt="'"+Yt+"'":(Yt=parseInt(Yt,10),pt=(pt=D(Yt).slice(2)).slice(0,-1)+N[pt.slice(-1)]),typeof Xt=="number")Xt<0?(ce=D(Xt).slice(3),ne="-"):(ce=D(Xt).slice(2),ne=""),ce=ne+ce.slice(0,-1)+N[ce.slice(-1)];else{if(E()(Xt)!=="object")throw new Error("Don't know what to do with value type "+E()(Xt)+".");ce=X(Xt)}Te.push(pt+ce)}return Te.push("}"),Te.join("")},rt=L.__fontmetrics__.uncompress=function(Ut){if(typeof Ut!="string")throw new Error("Invalid argument passed to uncompress.");for(var Xt,pt,ce,ne,Te={},Yt=1,pe=Te,ze=[],sr="",Tr="",Zr=Ut.length-1,pr=1;pr<Zr;pr+=1)(ne=Ut[pr])=="'"?Xt?(ce=Xt.join(""),Xt=void 0):Xt=[]:Xt?Xt.push(ne):ne=="{"?(ze.push([pe,ce]),pe={},ce=void 0):ne=="}"?((pt=ze.pop())[0][pt[1]]=pe,ce=void 0,pe=pt[0]):ne=="-"?Yt=-1:ce===void 0?T.hasOwnProperty(ne)?(sr+=T[ne],ce=parseInt(sr,16)*Yt,Yt=1,sr=""):sr+=ne:T.hasOwnProperty(ne)?(Tr+=T[ne],pe[ce]=parseInt(Tr,16)*Yt,Yt=1,ce=void 0,Tr=""):Tr+=ne;return Te},st={codePages:["WinAnsiEncoding"],WinAnsiEncoding:rt("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},_t={Unicode:{Courier:st,"Courier-Bold":st,"Courier-BoldOblique":st,"Courier-Oblique":st,Helvetica:st,"Helvetica-Bold":st,"Helvetica-BoldOblique":st,"Helvetica-Oblique":st,"Times-Roman":st,"Times-Bold":st,"Times-BoldItalic":st,"Times-Italic":st}},Bt={Unicode:{"Courier-Oblique":rt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":rt("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":rt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:rt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":rt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":rt("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:rt("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:rt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":rt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:rt("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":rt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":rt("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":rt("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":rt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};L.events.push(["addFont",function(Ut){var Xt=Ut.font,pt=Bt.Unicode[Xt.postScriptName];pt&&(Xt.metadata.Unicode={},Xt.metadata.Unicode.widths=pt.widths,Xt.metadata.Unicode.kerning=pt.kerning);var ce=_t.Unicode[Xt.postScriptName];ce&&(Xt.metadata.Unicode.encoding=ce,Xt.encoding=ce.codePages[0])}])}(_e.API),function(L){var O=function(T){for(var N=T.length,W=new Uint8Array(N),D=0;D<N;D++)W[D]=T.charCodeAt(D);return W};L.API.events.push(["addFont",function(T){var N=void 0,W=T.font,D=T.instance;if(!W.isStandardFont){if(D===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+W.postScriptName+"').");if(typeof(N=D.existsFileInVFS(W.postScriptName)===!1?D.loadFile(W.postScriptName):D.getFileFromVFS(W.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+W.postScriptName+"').");(function(X,rt){rt=/^\x00\x01\x00\x00/.test(rt)?O(rt):O(q(rt)),X.metadata=L.API.TTFFont.open(rt),X.metadata.Unicode=X.metadata.Unicode||{encoding:{},kerning:{},widths:[]},X.metadata.glyIdsUsed=[0]})(W,N)}}])}(_e),function(L){function O(){return(M.canvg?Promise.resolve(M.canvg):u.e(1).then(u.bind(null,"0d73"))).catch(function(T){return Promise.reject(new Error("Could not load canvg: "+T))}).then(function(T){return T.default?T.default:T})}_e.API.addSvgAsImage=function(T,N,W,D,X,rt,st,_t){if(isNaN(N)||isNaN(W))throw k.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(D)||isNaN(X))throw k.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Bt=document.createElement("canvas");Bt.width=D,Bt.height=X;var Ut=Bt.getContext("2d");Ut.fillStyle="#fff",Ut.fillRect(0,0,Bt.width,Bt.height);var Xt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},pt=this;return O().then(function(ce){return ce.fromString(Ut,T,Xt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ce){return ce.render(Xt)}).then(function(){pt.addImage(Bt.toDataURL("image/jpeg",1),N,W,D,X,st,_t)})}}(),_e.API.putTotalPages=function(L){var O,T=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(O=new RegExp(L,"g"),T=this.internal.getNumberOfPages()):(O=new RegExp(this.pdfEscape16(L,this.internal.getFont()),"g"),T=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var N=1;N<=this.internal.getNumberOfPages();N++)for(var W=0;W<this.internal.pages[N].length;W++)this.internal.pages[N][W]=this.internal.pages[N][W].replace(O,T);return this},_e.API.viewerPreferences=function(L,O){var T;L=L||{},O=O||!1;var N,W,D,X={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},rt=Object.keys(X),st=[],_t=0,Bt=0,Ut=0;function Xt(ce,ne){var Te,Yt=!1;for(Te=0;Te<ce.length;Te+=1)ce[Te]===ne&&(Yt=!0);return Yt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(X)),this.internal.viewerpreferences.isSubscribed=!1),T=this.internal.viewerpreferences.configuration,L==="reset"||O===!0){var pt=rt.length;for(Ut=0;Ut<pt;Ut+=1)T[rt[Ut]].value=T[rt[Ut]].defaultValue,T[rt[Ut]].explicitSet=!1}if(E()(L)==="object"){for(W in L)if(D=L[W],Xt(rt,W)&&D!==void 0){if(T[W].type==="boolean"&&typeof D=="boolean")T[W].value=D;else if(T[W].type==="name"&&Xt(T[W].valueSet,D))T[W].value=D;else if(T[W].type==="integer"&&Number.isInteger(D))T[W].value=D;else if(T[W].type==="array"){for(_t=0;_t<D.length;_t+=1)if(N=!0,D[_t].length===1&&typeof D[_t][0]=="number")st.push(String(D[_t]-1));else if(D[_t].length>1){for(Bt=0;Bt<D[_t].length;Bt+=1)typeof D[_t][Bt]!="number"&&(N=!1);N===!0&&st.push([D[_t][0]-1,D[_t][1]-1].join(" "))}T[W].value="["+st.join(" ")+"]"}else T[W].value=T[W].defaultValue;T[W].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ce,ne=[];for(ce in T)T[ce].explicitSet===!0&&(T[ce].type==="name"?ne.push("/"+ce+" /"+T[ce].value):ne.push("/"+ce+" "+T[ce].value));ne.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ne.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=T,this},function(L){var O=function(){var N='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',W=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),D=unescape(encodeURIComponent(N)),X=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),rt=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),st=unescape(encodeURIComponent("</x:xmpmeta>")),_t=D.length+X.length+rt.length+W.length+st.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+_t+" >>"),this.internal.write("stream"),this.internal.write(W+D+X+rt+st),this.internal.write("endstream"),this.internal.write("endobj")},T=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};L.addMetadata=function(N,W){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:N,namespaceuri:W||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",T),this.internal.events.subscribe("postPutResources",O)),this}}(_e.API),function(L){var O=L.API,T=O.pdfEscape16=function(D,X){for(var rt,st=X.metadata.Unicode.widths,_t=["","0","00","000","0000"],Bt=[""],Ut=0,Xt=D.length;Ut<Xt;++Ut){if(rt=X.metadata.characterToGlyph(D.charCodeAt(Ut)),X.metadata.glyIdsUsed.push(rt),X.metadata.toUnicode[rt]=D.charCodeAt(Ut),st.indexOf(rt)==-1&&(st.push(rt),st.push([parseInt(X.metadata.widthOfGlyph(rt),10)])),rt=="0")return Bt.join("");rt=rt.toString(16),Bt.push(_t[4-rt.length],rt)}return Bt.join("")},N=function(D){var X,rt,st,_t,Bt,Ut,Xt;for(Bt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,st=[],Ut=0,Xt=(rt=Object.keys(D).sort(function(pt,ce){return pt-ce})).length;Ut<Xt;Ut++)X=rt[Ut],st.length>=100&&(Bt+=`
`+st.length+` beginbfchar
`+st.join(`
`)+`
endbfchar`,st=[]),D[X]!==void 0&&D[X]!==null&&typeof D[X].toString=="function"&&(_t=("0000"+D[X].toString(16)).slice(-4),X=("0000"+(+X).toString(16)).slice(-4),st.push("<"+X+"><"+_t+">"));return st.length&&(Bt+=`
`+st.length+` beginbfchar
`+st.join(`
`)+`
endbfchar
`),Bt+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};O.events.push(["putFont",function(D){(function(X){var rt=X.font,st=X.out,_t=X.newObject,Bt=X.putStream;if(rt.metadata instanceof L.API.TTFFont&&rt.encoding==="Identity-H"){for(var Ut=rt.metadata.Unicode.widths,Xt=rt.metadata.subset.encode(rt.metadata.glyIdsUsed,1),pt="",ce=0;ce<Xt.length;ce++)pt+=String.fromCharCode(Xt[ce]);var ne=_t();Bt({data:pt,addLength1:!0,objectId:ne}),st("endobj");var Te=_t();Bt({data:N(rt.metadata.toUnicode),addLength1:!0,objectId:Te}),st("endobj");var Yt=_t();st("<<"),st("/Type /FontDescriptor"),st("/FontName /"+Sr(rt.fontName)),st("/FontFile2 "+ne+" 0 R"),st("/FontBBox "+L.API.PDFObject.convert(rt.metadata.bbox)),st("/Flags "+rt.metadata.flags),st("/StemV "+rt.metadata.stemV),st("/ItalicAngle "+rt.metadata.italicAngle),st("/Ascent "+rt.metadata.ascender),st("/Descent "+rt.metadata.decender),st("/CapHeight "+rt.metadata.capHeight),st(">>"),st("endobj");var pe=_t();st("<<"),st("/Type /Font"),st("/BaseFont /"+Sr(rt.fontName)),st("/FontDescriptor "+Yt+" 0 R"),st("/W "+L.API.PDFObject.convert(Ut)),st("/CIDToGIDMap /Identity"),st("/DW 1000"),st("/Subtype /CIDFontType2"),st("/CIDSystemInfo"),st("<<"),st("/Supplement 0"),st("/Registry (Adobe)"),st("/Ordering ("+rt.encoding+")"),st(">>"),st(">>"),st("endobj"),rt.objectNumber=_t(),st("<<"),st("/Type /Font"),st("/Subtype /Type0"),st("/ToUnicode "+Te+" 0 R"),st("/BaseFont /"+Sr(rt.fontName)),st("/Encoding /"+rt.encoding),st("/DescendantFonts ["+pe+" 0 R]"),st(">>"),st("endobj"),rt.isAlreadyPutted=!0}})(D)}]),O.events.push(["putFont",function(D){(function(X){var rt=X.font,st=X.out,_t=X.newObject,Bt=X.putStream;if(rt.metadata instanceof L.API.TTFFont&&rt.encoding==="WinAnsiEncoding"){for(var Ut=rt.metadata.rawData,Xt="",pt=0;pt<Ut.length;pt++)Xt+=String.fromCharCode(Ut[pt]);var ce=_t();Bt({data:Xt,addLength1:!0,objectId:ce}),st("endobj");var ne=_t();Bt({data:N(rt.metadata.toUnicode),addLength1:!0,objectId:ne}),st("endobj");var Te=_t();st("<<"),st("/Descent "+rt.metadata.decender),st("/CapHeight "+rt.metadata.capHeight),st("/StemV "+rt.metadata.stemV),st("/Type /FontDescriptor"),st("/FontFile2 "+ce+" 0 R"),st("/Flags 96"),st("/FontBBox "+L.API.PDFObject.convert(rt.metadata.bbox)),st("/FontName /"+Sr(rt.fontName)),st("/ItalicAngle "+rt.metadata.italicAngle),st("/Ascent "+rt.metadata.ascender),st(">>"),st("endobj"),rt.objectNumber=_t();for(var Yt=0;Yt<rt.metadata.hmtx.widths.length;Yt++)rt.metadata.hmtx.widths[Yt]=parseInt(rt.metadata.hmtx.widths[Yt]*(1e3/rt.metadata.head.unitsPerEm));st("<</Subtype/TrueType/Type/Font/ToUnicode "+ne+" 0 R/BaseFont/"+Sr(rt.fontName)+"/FontDescriptor "+Te+" 0 R/Encoding/"+rt.encoding+" /FirstChar 29 /LastChar 255 /Widths "+L.API.PDFObject.convert(rt.metadata.hmtx.widths)+">>"),st("endobj"),rt.isAlreadyPutted=!0}})(D)}]);var W=function(D){var X,rt=D.text||"",st=D.x,_t=D.y,Bt=D.options||{},Ut=D.mutex||{},Xt=Ut.pdfEscape,pt=Ut.activeFontKey,ce=Ut.fonts,ne=pt,Te="",Yt=0,pe="",ze=ce[ne].encoding;if(ce[ne].encoding!=="Identity-H")return{text:rt,x:st,y:_t,options:Bt,mutex:Ut};for(pe=rt,ne=pt,Array.isArray(rt)&&(pe=rt[0]),Yt=0;Yt<pe.length;Yt+=1)ce[ne].metadata.hasOwnProperty("cmap")&&(X=ce[ne].metadata.cmap.unicode.codeMap[pe[Yt].charCodeAt(0)]),X||pe[Yt].charCodeAt(0)<256&&ce[ne].metadata.hasOwnProperty("Unicode")?Te+=pe[Yt]:Te+="";var sr="";return parseInt(ne.slice(1))<14||ze==="WinAnsiEncoding"?sr=Xt(Te,ne).split("").map(function(Tr){return Tr.charCodeAt(0).toString(16)}).join(""):ze==="Identity-H"&&(sr=T(Te,ce[ne])),Ut.isHex=!0,{text:sr,x:st,y:_t,options:Bt,mutex:Ut}};O.events.push(["postProcessText",function(D){var X=D.text||"",rt=[],st={text:X,x:D.x,y:D.y,options:D.options,mutex:D.mutex};if(Array.isArray(X)){var _t=0;for(_t=0;_t<X.length;_t+=1)Array.isArray(X[_t])&&X[_t].length===3?rt.push([W(Object.assign({},st,{text:X[_t][0]})).text,X[_t][1],X[_t][2]]):rt.push(W(Object.assign({},st,{text:X[_t]})).text);D.text=rt}else D.text=W(Object.assign({},st,{text:X})).text}])}(_e),function(L){var O=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};L.existsFileInVFS=function(T){return O.call(this),this.internal.vFS[T]!==void 0},L.addFileToVFS=function(T,N){return O.call(this),this.internal.vFS[T]=N,this},L.getFileFromVFS=function(T){return O.call(this),this.internal.vFS[T]!==void 0?this.internal.vFS[T]:null}}(_e.API),function(L){L.__bidiEngine__=L.prototype.__bidiEngine__=function(N){var W,D,X,rt,st,_t,Bt,Ut=O,Xt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],pt=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ce={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ne={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Te=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Yt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),pe=!1,ze=0;this.__bidiEngine__={};var sr=function(Zt){var Jt=Zt.charCodeAt(),Le=Jt>>8,xe=ne[Le];return xe!==void 0?Ut[256*xe+(255&Jt)]:Le===252||Le===253?"AL":Yt.test(Le)?"L":Le===8?"R":"N"},Tr=function(Zt){for(var Jt,Le=0;Le<Zt.length;Le++){if((Jt=sr(Zt.charAt(Le)))==="L")return!1;if(Jt==="R")return!0}return!1},Zr=function(Zt,Jt,Le,xe){var yr,dr,Lr,nr,ur=Jt[xe];switch(ur){case"L":case"R":pe=!1;break;case"N":case"AN":break;case"EN":pe&&(ur="AN");break;case"AL":pe=!0,ur="R";break;case"WS":ur="N";break;case"CS":xe<1||xe+1>=Jt.length||(yr=Le[xe-1])!=="EN"&&yr!=="AN"||(dr=Jt[xe+1])!=="EN"&&dr!=="AN"?ur="N":pe&&(dr="AN"),ur=dr===yr?dr:"N";break;case"ES":ur=(yr=xe>0?Le[xe-1]:"B")==="EN"&&xe+1<Jt.length&&Jt[xe+1]==="EN"?"EN":"N";break;case"ET":if(xe>0&&Le[xe-1]==="EN"){ur="EN";break}if(pe){ur="N";break}for(Lr=xe+1,nr=Jt.length;Lr<nr&&Jt[Lr]==="ET";)Lr++;ur=Lr<nr&&Jt[Lr]==="EN"?"EN":"N";break;case"NSM":if(X&&!rt){for(nr=Jt.length,Lr=xe+1;Lr<nr&&Jt[Lr]==="NSM";)Lr++;if(Lr<nr){var Or=Zt[xe],xn=Or>=1425&&Or<=2303||Or===64286;if(yr=Jt[Lr],xn&&(yr==="R"||yr==="AL")){ur="R";break}}}ur=xe<1||(yr=Jt[xe-1])==="B"?"N":Le[xe-1];break;case"B":pe=!1,W=!0,ur=ze;break;case"S":D=!0,ur="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":pe=!1;break;case"BN":ur="N"}return ur},pr=function(Zt,Jt,Le){var xe=Zt.split("");return Le&&je(xe,Le,{hiLevel:ze}),xe.reverse(),Jt&&Jt.reverse(),xe.join("")},je=function(Zt,Jt,Le){var xe,yr,dr,Lr,nr,ur=-1,Or=Zt.length,xn=0,It=[],oe=ze?pt:Xt,ge=[];for(pe=!1,W=!1,D=!1,yr=0;yr<Or;yr++)ge[yr]=sr(Zt[yr]);for(dr=0;dr<Or;dr++){if(nr=xn,It[dr]=Zr(Zt,ge,It,dr),xe=240&(xn=oe[nr][ce[It[dr]]]),xn&=15,Jt[dr]=Lr=oe[xn][5],xe>0)if(xe===16){for(yr=ur;yr<dr;yr++)Jt[yr]=1;ur=-1}else ur=-1;if(oe[xn][6])ur===-1&&(ur=dr);else if(ur>-1){for(yr=ur;yr<dr;yr++)Jt[yr]=Lr;ur=-1}ge[dr]==="B"&&(Jt[dr]=0),Le.hiLevel|=Lr}D&&function(Ce,Ge,qe){for(var ir=0;ir<qe;ir++)if(Ce[ir]==="S"){Ge[ir]=ze;for(var rr=ir-1;rr>=0&&Ce[rr]==="WS";rr--)Ge[rr]=ze}}(ge,Jt,Or)},Rr=function(Zt,Jt,Le,xe,yr){if(!(yr.hiLevel<Zt)){if(Zt===1&&ze===1&&!W)return Jt.reverse(),void(Le&&Le.reverse());for(var dr,Lr,nr,ur,Or=Jt.length,xn=0;xn<Or;){if(xe[xn]>=Zt){for(nr=xn+1;nr<Or&&xe[nr]>=Zt;)nr++;for(ur=xn,Lr=nr-1;ur<Lr;ur++,Lr--)dr=Jt[ur],Jt[ur]=Jt[Lr],Jt[Lr]=dr,Le&&(dr=Le[ur],Le[ur]=Le[Lr],Le[Lr]=dr);xn=nr}xn++}}},vr=function(Zt,Jt,Le){var xe=Zt.split(""),yr={hiLevel:ze};return Le||(Le=[]),je(xe,Le,yr),function(dr,Lr,nr){if(nr.hiLevel!==0&&Bt)for(var ur,Or=0;Or<dr.length;Or++)Lr[Or]===1&&(ur=Te.indexOf(dr[Or]))>=0&&(dr[Or]=Te[ur+1])}(xe,Le,yr),Rr(2,xe,Jt,Le,yr),Rr(1,xe,Jt,Le,yr),xe.join("")};return this.__bidiEngine__.doBidiReorder=function(Zt,Jt,Le){if(function(yr,dr){if(dr)for(var Lr=0;Lr<yr.length;Lr++)dr[Lr]=Lr;rt===void 0&&(rt=Tr(yr)),_t===void 0&&(_t=Tr(yr))}(Zt,Jt),X||!st||_t)if(X&&st&&rt^_t)ze=rt?1:0,Zt=pr(Zt,Jt,Le);else if(!X&&st&&_t)ze=rt?1:0,Zt=vr(Zt,Jt,Le),Zt=pr(Zt,Jt);else if(!X||rt||st||_t){if(X&&!st&&rt^_t)Zt=pr(Zt,Jt),rt?(ze=0,Zt=vr(Zt,Jt,Le)):(ze=1,Zt=vr(Zt,Jt,Le),Zt=pr(Zt,Jt));else if(X&&rt&&!st&&_t)ze=1,Zt=vr(Zt,Jt,Le),Zt=pr(Zt,Jt);else if(!X&&!st&&rt^_t){var xe=Bt;rt?(ze=1,Zt=vr(Zt,Jt,Le),ze=0,Bt=!1,Zt=vr(Zt,Jt,Le),Bt=xe):(ze=0,Zt=vr(Zt,Jt,Le),Zt=pr(Zt,Jt),ze=1,Bt=!1,Zt=vr(Zt,Jt,Le),Bt=xe,Zt=pr(Zt,Jt))}}else ze=0,Zt=vr(Zt,Jt,Le);else ze=rt?1:0,Zt=vr(Zt,Jt,Le);return Zt},this.__bidiEngine__.setOptions=function(Zt){Zt&&(X=Zt.isInputVisual,st=Zt.isOutputVisual,rt=Zt.isInputRtl,_t=Zt.isOutputRtl,Bt=Zt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(N),this.__bidiEngine__};var O=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],T=new L.__bidiEngine__({isInputVisual:!0});L.API.events.push(["postProcessText",function(N){var W=N.text,D=(N.x,N.y,N.options||{}),X=(N.mutex,D.lang,[]);if(D.isInputVisual=typeof D.isInputVisual!="boolean"||D.isInputVisual,T.setOptions(D),Object.prototype.toString.call(W)==="[object Array]"){var rt=0;for(X=[],rt=0;rt<W.length;rt+=1)Object.prototype.toString.call(W[rt])==="[object Array]"?X.push([T.doBidiReorder(W[rt][0]),W[rt][1],W[rt][2]]):X.push([T.doBidiReorder(W[rt])]);N.text=X}else N.text=T.doBidiReorder(W);T.setOptions({isInputVisual:!0})}])}(_e),_e.API.TTFFont=function(){function L(O){var T;if(this.rawData=O,T=this.contents=new fa(O),this.contents.pos=4,T.readString(4)==="ttcf")throw new Error("TTCF not supported.");T.pos=0,this.parse(),this.subset=new Qa(this),this.registerTTF()}return L.open=function(O){return new L(O)},L.prototype.parse=function(){return this.directory=new ks(this.contents),this.head=new yu(this),this.name=new y0(this),this.cmap=new m0(this),this.toUnicode={},this.hhea=new $o(this),this.maxp=new Hf(this),this.hmtx=new hs(this),this.post=new Bi(this),this.os2=new go(this),this.loca=new Yf(this),this.glyf=new No(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},L.prototype.registerTTF=function(){var O,T,N,W,D;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var X,rt,st,_t;for(_t=[],X=0,rt=(st=this.bbox).length;X<rt;X++)O=st[X],_t.push(Math.round(O*this.scaleFactor));return _t}.call(this),this.stemV=0,this.post.exists?(N=255&(W=this.post.italic_angle),(32768&(T=W>>16))!=0&&(T=-(1+(65535^T))),this.italicAngle=+(T+"."+N)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(D=this.familyClass)===1||D===2||D===3||D===4||D===5||D===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},L.prototype.characterToGlyph=function(O){var T;return((T=this.cmap.unicode)!=null?T.codeMap[O]:void 0)||0},L.prototype.widthOfGlyph=function(O){var T;return T=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(O).advance*T},L.prototype.widthOfString=function(O,T,N){var W,D,X,rt;for(X=0,D=0,rt=(O=""+O).length;0<=rt?D<rt:D>rt;D=0<=rt?++D:--D)W=O.charCodeAt(D),X+=this.widthOfGlyph(this.characterToGlyph(W))+N*(1e3/T)||0;return X*(T/1e3)},L.prototype.lineHeight=function(O,T){var N;return T==null&&(T=!1),N=T?this.lineGap:0,(this.ascender+N-this.decender)/1e3*O},L}();var jo,fa=function(){function L(O){this.data=O!=null?O:[],this.pos=0,this.length=this.data.length}return L.prototype.readByte=function(){return this.data[this.pos++]},L.prototype.writeByte=function(O){return this.data[this.pos++]=O},L.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},L.prototype.writeUInt32=function(O){return this.writeByte(O>>>24&255),this.writeByte(O>>16&255),this.writeByte(O>>8&255),this.writeByte(255&O)},L.prototype.readInt32=function(){var O;return(O=this.readUInt32())>=2147483648?O-4294967296:O},L.prototype.writeInt32=function(O){return O<0&&(O+=4294967296),this.writeUInt32(O)},L.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},L.prototype.writeUInt16=function(O){return this.writeByte(O>>8&255),this.writeByte(255&O)},L.prototype.readInt16=function(){var O;return(O=this.readUInt16())>=32768?O-65536:O},L.prototype.writeInt16=function(O){return O<0&&(O+=65536),this.writeUInt16(O)},L.prototype.readString=function(O){var T,N;for(N=[],T=0;0<=O?T<O:T>O;T=0<=O?++T:--T)N[T]=String.fromCharCode(this.readByte());return N.join("")},L.prototype.writeString=function(O){var T,N,W;for(W=[],T=0,N=O.length;0<=N?T<N:T>N;T=0<=N?++T:--T)W.push(this.writeByte(O.charCodeAt(T)));return W},L.prototype.readShort=function(){return this.readInt16()},L.prototype.writeShort=function(O){return this.writeInt16(O)},L.prototype.readLongLong=function(){var O,T,N,W,D,X,rt,st;return O=this.readByte(),T=this.readByte(),N=this.readByte(),W=this.readByte(),D=this.readByte(),X=this.readByte(),rt=this.readByte(),st=this.readByte(),128&O?-1*(72057594037927940*(255^O)+281474976710656*(255^T)+1099511627776*(255^N)+4294967296*(255^W)+16777216*(255^D)+65536*(255^X)+256*(255^rt)+(255^st)+1):72057594037927940*O+281474976710656*T+1099511627776*N+4294967296*W+16777216*D+65536*X+256*rt+st},L.prototype.writeLongLong=function(O){var T,N;return T=Math.floor(O/4294967296),N=4294967295&O,this.writeByte(T>>24&255),this.writeByte(T>>16&255),this.writeByte(T>>8&255),this.writeByte(255&T),this.writeByte(N>>24&255),this.writeByte(N>>16&255),this.writeByte(N>>8&255),this.writeByte(255&N)},L.prototype.readInt=function(){return this.readInt32()},L.prototype.writeInt=function(O){return this.writeInt32(O)},L.prototype.read=function(O){var T,N;for(T=[],N=0;0<=O?N<O:N>O;N=0<=O?++N:--N)T.push(this.readByte());return T},L.prototype.write=function(O){var T,N,W,D;for(D=[],N=0,W=O.length;N<W;N++)T=O[N],D.push(this.writeByte(T));return D},L}(),ks=function(){var L;function O(T){var N,W,D;for(this.scalarType=T.readInt(),this.tableCount=T.readShort(),this.searchRange=T.readShort(),this.entrySelector=T.readShort(),this.rangeShift=T.readShort(),this.tables={},W=0,D=this.tableCount;0<=D?W<D:W>D;W=0<=D?++W:--W)N={tag:T.readString(4),checksum:T.readInt(),offset:T.readInt(),length:T.readInt()},this.tables[N.tag]=N}return O.prototype.encode=function(T){var N,W,D,X,rt,st,_t,Bt,Ut,Xt,pt,ce,ne;for(ne in pt=Object.keys(T).length,st=Math.log(2),Ut=16*Math.floor(Math.log(pt)/st),X=Math.floor(Ut/st),Bt=16*pt-Ut,(W=new fa).writeInt(this.scalarType),W.writeShort(pt),W.writeShort(Ut),W.writeShort(X),W.writeShort(Bt),D=16*pt,_t=W.pos+D,rt=null,ce=[],T)for(Xt=T[ne],W.writeString(ne),W.writeInt(L(Xt)),W.writeInt(_t),W.writeInt(Xt.length),ce=ce.concat(Xt),ne==="head"&&(rt=_t),_t+=Xt.length;_t%4;)ce.push(0),_t++;return W.write(ce),N=2981146554-L(W.data),W.pos=rt+8,W.writeUInt32(N),W.data},L=function(T){var N,W,D,X;for(T=un.call(T);T.length%4;)T.push(0);for(D=new fa(T),W=0,N=0,X=T.length;N<X;N=N+=4)W+=D.readUInt32();return 4294967295&W},O}(),Ku={}.hasOwnProperty,qa=function(L,O){for(var T in O)Ku.call(O,T)&&(L[T]=O[T]);function N(){this.constructor=L}return N.prototype=O.prototype,L.prototype=new N,L.__super__=O.prototype,L};jo=function(){function L(O){var T;this.file=O,T=this.file.directory.tables[this.tag],this.exists=!!T,T&&(this.offset=T.offset,this.length=T.length,this.parse(this.file.contents))}return L.prototype.parse=function(){},L.prototype.encode=function(){},L.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},L}();var yu=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="head",O.prototype.parse=function(T){return T.pos=this.offset,this.version=T.readInt(),this.revision=T.readInt(),this.checkSumAdjustment=T.readInt(),this.magicNumber=T.readInt(),this.flags=T.readShort(),this.unitsPerEm=T.readShort(),this.created=T.readLongLong(),this.modified=T.readLongLong(),this.xMin=T.readShort(),this.yMin=T.readShort(),this.xMax=T.readShort(),this.yMax=T.readShort(),this.macStyle=T.readShort(),this.lowestRecPPEM=T.readShort(),this.fontDirectionHint=T.readShort(),this.indexToLocFormat=T.readShort(),this.glyphDataFormat=T.readShort()},O.prototype.encode=function(T){var N;return(N=new fa).writeInt(this.version),N.writeInt(this.revision),N.writeInt(this.checkSumAdjustment),N.writeInt(this.magicNumber),N.writeShort(this.flags),N.writeShort(this.unitsPerEm),N.writeLongLong(this.created),N.writeLongLong(this.modified),N.writeShort(this.xMin),N.writeShort(this.yMin),N.writeShort(this.xMax),N.writeShort(this.yMax),N.writeShort(this.macStyle),N.writeShort(this.lowestRecPPEM),N.writeShort(this.fontDirectionHint),N.writeShort(T),N.writeShort(this.glyphDataFormat),N.data},O}(),$u=function(){function L(O,T){var N,W,D,X,rt,st,_t,Bt,Ut,Xt,pt,ce,ne,Te,Yt,pe,ze;switch(this.platformID=O.readUInt16(),this.encodingID=O.readShort(),this.offset=T+O.readInt(),Ut=O.pos,O.pos=this.offset,this.format=O.readUInt16(),this.length=O.readUInt16(),this.language=O.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(st=0;st<256;++st)this.codeMap[st]=O.readByte();break;case 4:for(pt=O.readUInt16(),Xt=pt/2,O.pos+=6,D=function(){var sr,Tr;for(Tr=[],st=sr=0;0<=Xt?sr<Xt:sr>Xt;st=0<=Xt?++sr:--sr)Tr.push(O.readUInt16());return Tr}(),O.pos+=2,ne=function(){var sr,Tr;for(Tr=[],st=sr=0;0<=Xt?sr<Xt:sr>Xt;st=0<=Xt?++sr:--sr)Tr.push(O.readUInt16());return Tr}(),_t=function(){var sr,Tr;for(Tr=[],st=sr=0;0<=Xt?sr<Xt:sr>Xt;st=0<=Xt?++sr:--sr)Tr.push(O.readUInt16());return Tr}(),Bt=function(){var sr,Tr;for(Tr=[],st=sr=0;0<=Xt?sr<Xt:sr>Xt;st=0<=Xt?++sr:--sr)Tr.push(O.readUInt16());return Tr}(),W=(this.length-O.pos+this.offset)/2,rt=function(){var sr,Tr;for(Tr=[],st=sr=0;0<=W?sr<W:sr>W;st=0<=W?++sr:--sr)Tr.push(O.readUInt16());return Tr}(),st=Yt=0,ze=D.length;Yt<ze;st=++Yt)for(Te=D[st],N=pe=ce=ne[st];ce<=Te?pe<=Te:pe>=Te;N=ce<=Te?++pe:--pe)Bt[st]===0?X=N+_t[st]:(X=rt[Bt[st]/2+(N-ce)-(Xt-st)]||0)!==0&&(X+=_t[st]),this.codeMap[N]=65535&X}O.pos=Ut}return L.encode=function(O,T){var N,W,D,X,rt,st,_t,Bt,Ut,Xt,pt,ce,ne,Te,Yt,pe,ze,sr,Tr,Zr,pr,je,Rr,vr,Zt,Jt,Le,xe,yr,dr,Lr,nr,ur,Or,xn,It,oe,ge,Ce,Ge,qe,ir,rr,Jr,Yr,hn;switch(xe=new fa,X=Object.keys(O).sort(function(On,Vn){return On-Vn}),T){case"macroman":for(ne=0,Te=function(){var On=[];for(ce=0;ce<256;++ce)On.push(0);return On}(),pe={0:0},D={},yr=0,ur=X.length;yr<ur;yr++)pe[rr=O[W=X[yr]]]==null&&(pe[rr]=++ne),D[W]={old:O[W],new:pe[O[W]]},Te[W]=pe[O[W]];return xe.writeUInt16(1),xe.writeUInt16(0),xe.writeUInt32(12),xe.writeUInt16(0),xe.writeUInt16(262),xe.writeUInt16(0),xe.write(Te),{charMap:D,subtable:xe.data,maxGlyphID:ne+1};case"unicode":for(Jt=[],Ut=[],ze=0,pe={},N={},Yt=_t=null,dr=0,Or=X.length;dr<Or;dr++)pe[Tr=O[W=X[dr]]]==null&&(pe[Tr]=++ze),N[W]={old:Tr,new:pe[Tr]},rt=pe[Tr]-W,Yt!=null&&rt===_t||(Yt&&Ut.push(Yt),Jt.push(W),_t=rt),Yt=W;for(Yt&&Ut.push(Yt),Ut.push(65535),Jt.push(65535),vr=2*(Rr=Jt.length),je=2*Math.pow(Math.log(Rr)/Math.LN2,2),Xt=Math.log(je/2)/Math.LN2,pr=2*Rr-je,st=[],Zr=[],pt=[],ce=Lr=0,xn=Jt.length;Lr<xn;ce=++Lr){if(Zt=Jt[ce],Bt=Ut[ce],Zt===65535){st.push(0),Zr.push(0);break}if(Zt-(Le=N[Zt].new)>=32768)for(st.push(0),Zr.push(2*(pt.length+Rr-ce)),W=nr=Zt;Zt<=Bt?nr<=Bt:nr>=Bt;W=Zt<=Bt?++nr:--nr)pt.push(N[W].new);else st.push(Le-Zt),Zr.push(0)}for(xe.writeUInt16(3),xe.writeUInt16(1),xe.writeUInt32(12),xe.writeUInt16(4),xe.writeUInt16(16+8*Rr+2*pt.length),xe.writeUInt16(0),xe.writeUInt16(vr),xe.writeUInt16(je),xe.writeUInt16(Xt),xe.writeUInt16(pr),qe=0,It=Ut.length;qe<It;qe++)W=Ut[qe],xe.writeUInt16(W);for(xe.writeUInt16(0),ir=0,oe=Jt.length;ir<oe;ir++)W=Jt[ir],xe.writeUInt16(W);for(Jr=0,ge=st.length;Jr<ge;Jr++)rt=st[Jr],xe.writeUInt16(rt);for(Yr=0,Ce=Zr.length;Yr<Ce;Yr++)sr=Zr[Yr],xe.writeUInt16(sr);for(hn=0,Ge=pt.length;hn<Ge;hn++)ne=pt[hn],xe.writeUInt16(ne);return{charMap:N,subtable:xe.data,maxGlyphID:ze+1}}},L}(),m0=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="cmap",O.prototype.parse=function(T){var N,W,D;for(T.pos=this.offset,this.version=T.readUInt16(),D=T.readUInt16(),this.tables=[],this.unicode=null,W=0;0<=D?W<D:W>D;W=0<=D?++W:--W)N=new $u(T,this.offset),this.tables.push(N),N.isUnicode&&this.unicode==null&&(this.unicode=N);return!0},O.encode=function(T,N){var W,D;return N==null&&(N="macroman"),W=$u.encode(T,N),(D=new fa).writeUInt16(0),D.writeUInt16(1),W.table=D.data.concat(W.subtable),W},O}(),$o=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="hhea",O.prototype.parse=function(T){return T.pos=this.offset,this.version=T.readInt(),this.ascender=T.readShort(),this.decender=T.readShort(),this.lineGap=T.readShort(),this.advanceWidthMax=T.readShort(),this.minLeftSideBearing=T.readShort(),this.minRightSideBearing=T.readShort(),this.xMaxExtent=T.readShort(),this.caretSlopeRise=T.readShort(),this.caretSlopeRun=T.readShort(),this.caretOffset=T.readShort(),T.pos+=8,this.metricDataFormat=T.readShort(),this.numberOfMetrics=T.readUInt16()},O}(),go=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="OS/2",O.prototype.parse=function(T){if(T.pos=this.offset,this.version=T.readUInt16(),this.averageCharWidth=T.readShort(),this.weightClass=T.readUInt16(),this.widthClass=T.readUInt16(),this.type=T.readShort(),this.ySubscriptXSize=T.readShort(),this.ySubscriptYSize=T.readShort(),this.ySubscriptXOffset=T.readShort(),this.ySubscriptYOffset=T.readShort(),this.ySuperscriptXSize=T.readShort(),this.ySuperscriptYSize=T.readShort(),this.ySuperscriptXOffset=T.readShort(),this.ySuperscriptYOffset=T.readShort(),this.yStrikeoutSize=T.readShort(),this.yStrikeoutPosition=T.readShort(),this.familyClass=T.readShort(),this.panose=function(){var N,W;for(W=[],N=0;N<10;++N)W.push(T.readByte());return W}(),this.charRange=function(){var N,W;for(W=[],N=0;N<4;++N)W.push(T.readInt());return W}(),this.vendorID=T.readString(4),this.selection=T.readShort(),this.firstCharIndex=T.readShort(),this.lastCharIndex=T.readShort(),this.version>0&&(this.ascent=T.readShort(),this.descent=T.readShort(),this.lineGap=T.readShort(),this.winAscent=T.readShort(),this.winDescent=T.readShort(),this.codePageRange=function(){var N,W;for(W=[],N=0;N<2;N=++N)W.push(T.readInt());return W}(),this.version>1))return this.xHeight=T.readShort(),this.capHeight=T.readShort(),this.defaultChar=T.readShort(),this.breakChar=T.readShort(),this.maxContext=T.readShort()},O}(),Bi=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="post",O.prototype.parse=function(T){var N,W,D;switch(T.pos=this.offset,this.format=T.readInt(),this.italicAngle=T.readInt(),this.underlinePosition=T.readShort(),this.underlineThickness=T.readShort(),this.isFixedPitch=T.readInt(),this.minMemType42=T.readInt(),this.maxMemType42=T.readInt(),this.minMemType1=T.readInt(),this.maxMemType1=T.readInt(),this.format){case 65536:break;case 131072:var X;for(W=T.readUInt16(),this.glyphNameIndex=[],X=0;0<=W?X<W:X>W;X=0<=W?++X:--X)this.glyphNameIndex.push(T.readUInt16());for(this.names=[],D=[];T.pos<this.offset+this.length;)N=T.readByte(),D.push(this.names.push(T.readString(N)));return D;case 151552:return W=T.readUInt16(),this.offsets=T.read(W);case 196608:break;case 262144:return this.map=function(){var rt,st,_t;for(_t=[],X=rt=0,st=this.file.maxp.numGlyphs;0<=st?rt<st:rt>st;X=0<=st?++rt:--rt)_t.push(T.readUInt32());return _t}.call(this)}},O}(),pn=function(L,O){this.raw=L,this.length=L.length,this.platformID=O.platformID,this.encodingID=O.encodingID,this.languageID=O.languageID},y0=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="name",O.prototype.parse=function(T){var N,W,D,X,rt,st,_t,Bt,Ut,Xt,pt;for(T.pos=this.offset,T.readShort(),N=T.readShort(),st=T.readShort(),W=[],X=0;0<=N?X<N:X>N;X=0<=N?++X:--X)W.push({platformID:T.readShort(),encodingID:T.readShort(),languageID:T.readShort(),nameID:T.readShort(),length:T.readShort(),offset:this.offset+st+T.readShort()});for(_t={},X=Ut=0,Xt=W.length;Ut<Xt;X=++Ut)D=W[X],T.pos=D.offset,Bt=T.readString(D.length),rt=new pn(Bt,D),_t[pt=D.nameID]==null&&(_t[pt]=[]),_t[D.nameID].push(rt);this.strings=_t,this.copyright=_t[0],this.fontFamily=_t[1],this.fontSubfamily=_t[2],this.uniqueSubfamily=_t[3],this.fontName=_t[4],this.version=_t[5];try{this.postscriptName=_t[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=_t[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=_t[7],this.manufacturer=_t[8],this.designer=_t[9],this.description=_t[10],this.vendorUrl=_t[11],this.designerUrl=_t[12],this.license=_t[13],this.licenseUrl=_t[14],this.preferredFamily=_t[15],this.preferredSubfamily=_t[17],this.compatibleFull=_t[18],this.sampleText=_t[19]},O}(),Hf=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="maxp",O.prototype.parse=function(T){return T.pos=this.offset,this.version=T.readInt(),this.numGlyphs=T.readUInt16(),this.maxPoints=T.readUInt16(),this.maxContours=T.readUInt16(),this.maxCompositePoints=T.readUInt16(),this.maxComponentContours=T.readUInt16(),this.maxZones=T.readUInt16(),this.maxTwilightPoints=T.readUInt16(),this.maxStorage=T.readUInt16(),this.maxFunctionDefs=T.readUInt16(),this.maxInstructionDefs=T.readUInt16(),this.maxStackElements=T.readUInt16(),this.maxSizeOfInstructions=T.readUInt16(),this.maxComponentElements=T.readUInt16(),this.maxComponentDepth=T.readUInt16()},O}(),hs=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="hmtx",O.prototype.parse=function(T){var N,W,D,X,rt,st,_t;for(T.pos=this.offset,this.metrics=[],N=0,st=this.file.hhea.numberOfMetrics;0<=st?N<st:N>st;N=0<=st?++N:--N)this.metrics.push({advance:T.readUInt16(),lsb:T.readInt16()});for(D=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Bt,Ut;for(Ut=[],N=Bt=0;0<=D?Bt<D:Bt>D;N=0<=D?++Bt:--Bt)Ut.push(T.readInt16());return Ut}(),this.widths=function(){var Bt,Ut,Xt,pt;for(pt=[],Bt=0,Ut=(Xt=this.metrics).length;Bt<Ut;Bt++)X=Xt[Bt],pt.push(X.advance);return pt}.call(this),W=this.widths[this.widths.length-1],_t=[],N=rt=0;0<=D?rt<D:rt>D;N=0<=D?++rt:--rt)_t.push(this.widths.push(W));return _t},O.prototype.forGlyph=function(T){return T in this.metrics?this.metrics[T]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[T-this.metrics.length]}},O}(),un=[].slice,No=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="glyf",O.prototype.parse=function(){return this.cache={}},O.prototype.glyphFor=function(T){var N,W,D,X,rt,st,_t,Bt,Ut,Xt;return T in this.cache?this.cache[T]:(X=this.file.loca,N=this.file.contents,W=X.indexOf(T),(D=X.lengthOf(T))===0?this.cache[T]=null:(N.pos=this.offset+W,rt=(st=new fa(N.read(D))).readShort(),Bt=st.readShort(),Xt=st.readShort(),_t=st.readShort(),Ut=st.readShort(),this.cache[T]=rt===-1?new Hr(st,Bt,Xt,_t,Ut):new li(st,rt,Bt,Xt,_t,Ut),this.cache[T]))},O.prototype.encode=function(T,N,W){var D,X,rt,st,_t;for(rt=[],X=[],st=0,_t=N.length;st<_t;st++)D=T[N[st]],X.push(rt.length),D&&(rt=rt.concat(D.encode(W)));return X.push(rt.length),{table:rt,offsets:X}},O}(),li=function(){function L(O,T,N,W,D,X){this.raw=O,this.numberOfContours=T,this.xMin=N,this.yMin=W,this.xMax=D,this.yMax=X,this.compound=!1}return L.prototype.encode=function(){return this.raw.data},L}(),Hr=function(){function L(O,T,N,W,D){var X,rt;for(this.raw=O,this.xMin=T,this.yMin=N,this.xMax=W,this.yMax=D,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],X=this.raw;rt=X.readShort(),this.glyphOffsets.push(X.pos),this.glyphIDs.push(X.readUInt16()),32&rt;)X.pos+=1&rt?4:2,128&rt?X.pos+=8:64&rt?X.pos+=4:8&rt&&(X.pos+=2)}return L.prototype.encode=function(){var O,T,N;for(T=new fa(un.call(this.raw.data)),O=0,N=this.glyphIDs.length;O<N;++O)T.pos=this.glyphOffsets[O];return T.data},L}(),Yf=function(L){function O(){return O.__super__.constructor.apply(this,arguments)}return qa(O,jo),O.prototype.tag="loca",O.prototype.parse=function(T){var N,W;return T.pos=this.offset,N=this.file.head.indexToLocFormat,this.offsets=N===0?function(){var D,X;for(X=[],W=0,D=this.length;W<D;W+=2)X.push(2*T.readUInt16());return X}.call(this):function(){var D,X;for(X=[],W=0,D=this.length;W<D;W+=4)X.push(T.readUInt32());return X}.call(this)},O.prototype.indexOf=function(T){return this.offsets[T]},O.prototype.lengthOf=function(T){return this.offsets[T+1]-this.offsets[T]},O.prototype.encode=function(T,N){for(var W=new Uint32Array(this.offsets.length),D=0,X=0,rt=0;rt<W.length;++rt)if(W[rt]=D,X<N.length&&N[X]==rt){++X,W[rt]=D;var st=this.offsets[rt],_t=this.offsets[rt+1]-st;_t>0&&(D+=_t)}for(var Bt=new Array(4*W.length),Ut=0;Ut<W.length;++Ut)Bt[4*Ut+3]=255&W[Ut],Bt[4*Ut+2]=(65280&W[Ut])>>8,Bt[4*Ut+1]=(16711680&W[Ut])>>16,Bt[4*Ut]=(4278190080&W[Ut])>>24;return Bt},O}(),Qa=function(){function L(O){this.font=O,this.subset={},this.unicodes={},this.next=33}return L.prototype.generateCmap=function(){var O,T,N,W,D;for(T in W=this.font.cmap.tables[0].codeMap,O={},D=this.subset)N=D[T],O[T]=W[N];return O},L.prototype.glyphsFor=function(O){var T,N,W,D,X,rt,st;for(W={},X=0,rt=O.length;X<rt;X++)W[D=O[X]]=this.font.glyf.glyphFor(D);for(D in T=[],W)(N=W[D])!=null&&N.compound&&T.push.apply(T,N.glyphIDs);if(T.length>0)for(D in st=this.glyphsFor(T))N=st[D],W[D]=N;return W},L.prototype.encode=function(O,T){var N,W,D,X,rt,st,_t,Bt,Ut,Xt,pt,ce,ne,Te,Yt;for(W in N=m0.encode(this.generateCmap(),"unicode"),X=this.glyphsFor(O),pt={0:0},Yt=N.charMap)pt[(st=Yt[W]).old]=st.new;for(ce in Xt=N.maxGlyphID,X)ce in pt||(pt[ce]=Xt++);return Bt=function(pe){var ze,sr;for(ze in sr={},pe)sr[pe[ze]]=ze;return sr}(pt),Ut=Object.keys(Bt).sort(function(pe,ze){return pe-ze}),ne=function(){var pe,ze,sr;for(sr=[],pe=0,ze=Ut.length;pe<ze;pe++)rt=Ut[pe],sr.push(Bt[rt]);return sr}(),D=this.font.glyf.encode(X,ne,pt),_t=this.font.loca.encode(D.offsets,ne),Te={cmap:this.font.cmap.raw(),glyf:D.table,loca:_t,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(T)},this.font.os2.exists&&(Te["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Te)},L}();_e.API.PDFObject=function(){var L;function O(){}return L=function(T,N){return(Array(N+1).join("0")+T).slice(-N)},O.convert=function(T){var N,W,D,X;if(Array.isArray(T))return"["+function(){var rt,st,_t;for(_t=[],rt=0,st=T.length;rt<st;rt++)N=T[rt],_t.push(O.convert(N));return _t}().join(" ")+"]";if(typeof T=="string")return"/"+T;if(T!=null&&T.isString)return"("+T+")";if(T instanceof Date)return"(D:"+L(T.getUTCFullYear(),4)+L(T.getUTCMonth(),2)+L(T.getUTCDate(),2)+L(T.getUTCHours(),2)+L(T.getUTCMinutes(),2)+L(T.getUTCSeconds(),2)+"Z)";if({}.toString.call(T)==="[object Object]"){for(W in D=["<<"],T)X=T[W],D.push("/"+W+" "+O.convert(X));return D.push(">>"),D.join(`
`)}return""+T},O}()}).call(this,u("c8ba"))},"8bbf":function(c,d){c.exports=Ix},"90e3":function(c,d,u){var p=u("e330"),g=0,E=Math.random(),b=p(1 .toString);c.exports=function(M){return"Symbol("+(M===void 0?"":M)+")_"+b(++g+E,36)}},"9112":function(c,d,u){var p=u("83ab"),g=u("9bf2"),E=u("5c6c");c.exports=p?function(b,M,P){return g.f(b,M,E(1,P))}:function(b,M,P){return b[M]=P,b}},"9152":function(c,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(u,p,g,E,b){var M,P,k=b*8-E-1,C=(1<<k)-1,z=C>>1,it=-7,q=g?b-1:0,tt=g?-1:1,J=u[p+q];for(q+=tt,M=J&(1<<-it)-1,J>>=-it,it+=k;it>0;M=M*256+u[p+q],q+=tt,it-=8);for(P=M&(1<<-it)-1,M>>=-it,it+=E;it>0;P=P*256+u[p+q],q+=tt,it-=8);if(M===0)M=1-z;else{if(M===C)return P?NaN:(J?-1:1)*(1/0);P=P+Math.pow(2,E),M=M-z}return(J?-1:1)*P*Math.pow(2,M-E)},d.write=function(u,p,g,E,b,M){var P,k,C,z=M*8-b-1,it=(1<<z)-1,q=it>>1,tt=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,J=E?0:M-1,ot=E?1:-1,ct=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(k=isNaN(p)?1:0,P=it):(P=Math.floor(Math.log(p)/Math.LN2),p*(C=Math.pow(2,-P))<1&&(P--,C*=2),P+q>=1?p+=tt/C:p+=tt*Math.pow(2,1-q),p*C>=2&&(P++,C/=2),P+q>=it?(k=0,P=it):P+q>=1?(k=(p*C-1)*Math.pow(2,b),P=P+q):(k=p*Math.pow(2,q-1)*Math.pow(2,b),P=0));b>=8;u[g+J]=k&255,J+=ot,k/=256,b-=8);for(P=P<<b|k,z+=b;z>0;u[g+J]=P&255,J+=ot,P/=256,z-=8);u[g+J-ot]|=ct*128}},"9263":function(c,d,u){var p=u("c65b"),g=u("e330"),E=u("577e"),b=u("ad6d"),M=u("9f7f"),P=u("5692"),k=u("7c73"),C=u("69f3").get,z=u("fce3"),it=u("107c"),q=P("native-string-replace",String.prototype.replace),tt=RegExp.prototype.exec,J=tt,ot=g("".charAt),ct=g("".indexOf),wt=g("".replace),nt=g("".slice),F=function(){var Ot=/a/,ee=/b*/g;return p(tt,Ot,"a"),p(tt,ee,"a"),Ot.lastIndex!==0||ee.lastIndex!==0}(),bt=M.BROKEN_CARET,jt=/()??/.exec("")[1]!==void 0,te=F||jt||bt||z||it;te&&(J=function(ee){var Dt=this,Wt=C(Dt),le=E(ee),ye=Wt.raw,Qe,mt,Kt,ae,Sr,xr,ar;if(ye)return ye.lastIndex=Dt.lastIndex,Qe=p(J,ye,le),Dt.lastIndex=ye.lastIndex,Qe;var jr=Wt.groups,Xr=bt&&Dt.sticky,wn=p(b,Dt),_e=Dt.source,er=0,_r=le;if(Xr&&(wn=wt(wn,"y",""),ct(wn,"g")===-1&&(wn+="g"),_r=nt(le,Dt.lastIndex),Dt.lastIndex>0&&(!Dt.multiline||Dt.multiline&&ot(le,Dt.lastIndex-1)!==`
`)&&(_e="(?: "+_e+")",_r=" "+_r,er++),mt=new RegExp("^(?:"+_e+")",wn)),jt&&(mt=new RegExp("^"+_e+"$(?!\\s)",wn)),F&&(Kt=Dt.lastIndex),ae=p(tt,Xr?mt:Dt,_r),Xr?ae?(ae.input=nt(ae.input,er),ae[0]=nt(ae[0],er),ae.index=Dt.lastIndex,Dt.lastIndex+=ae[0].length):Dt.lastIndex=0:F&&ae&&(Dt.lastIndex=Dt.global?ae.index+ae[0].length:Kt),jt&&ae&&ae.length>1&&p(q,ae[0],mt,function(){for(Sr=1;Sr<arguments.length-2;Sr++)arguments[Sr]===void 0&&(ae[Sr]=void 0)}),ae&&jr)for(ae.groups=xr=k(null),Sr=0;Sr<jr.length;Sr++)ar=jr[Sr],xr[ar[0]]=ae[ar[1]];return ae}),c.exports=J},"94ca":function(c,d,u){var p=u("d039"),g=u("1626"),E=/#|\.prototype\./,b=function(z,it){var q=P[M(z)];return q==C?!0:q==k?!1:g(it)?p(it):!!it},M=b.normalize=function(z){return String(z).replace(E,".").toLowerCase()},P=b.data={},k=b.NATIVE="N",C=b.POLYFILL="P";c.exports=b},"99af":function(c,d,u){var p=u("23e7"),g=u("da84"),E=u("d039"),b=u("e8b5"),M=u("861d"),P=u("7b0b"),k=u("07fa"),C=u("8418"),z=u("65f0"),it=u("1dde"),q=u("b622"),tt=u("2d00"),J=q("isConcatSpreadable"),ot=9007199254740991,ct="Maximum allowed index exceeded",wt=g.TypeError,nt=tt>=51||!E(function(){var te=[];return te[J]=!1,te.concat()[0]!==te}),F=it("concat"),bt=function(te){if(!M(te))return!1;var Ot=te[J];return Ot!==void 0?!!Ot:b(te)},jt=!nt||!F;p({target:"Array",proto:!0,forced:jt},{concat:function(Ot){var ee=P(this),Dt=z(ee,0),Wt=0,le,ye,Qe,mt,Kt;for(le=-1,Qe=arguments.length;le<Qe;le++)if(Kt=le===-1?ee:arguments[le],bt(Kt)){if(mt=k(Kt),Wt+mt>ot)throw wt(ct);for(ye=0;ye<mt;ye++,Wt++)ye in Kt&&C(Dt,Wt,Kt[ye])}else{if(Wt>=ot)throw wt(ct);C(Dt,Wt++,Kt)}return Dt.length=Wt,Dt}})},"9a1f":function(c,d,u){var p=u("da84"),g=u("c65b"),E=u("59ed"),b=u("825a"),M=u("0d51"),P=u("35a1"),k=p.TypeError;c.exports=function(C,z){var it=arguments.length<2?P(C):z;if(E(it))return b(g(it,C));throw k(M(C)+" is not iterable")}},"9bdd":function(c,d,u){var p=u("825a"),g=u("2a62");c.exports=function(E,b,M,P){try{return P?b(p(M)[0],M[1]):b(M)}catch(k){g(E,"throw",k)}}},"9bf2":function(c,d,u){var p=u("da84"),g=u("83ab"),E=u("0cfb"),b=u("aed9"),M=u("825a"),P=u("a04b"),k=p.TypeError,C=Object.defineProperty,z=Object.getOwnPropertyDescriptor,it="enumerable",q="configurable",tt="writable";d.f=g?b?function(ot,ct,wt){if(M(ot),ct=P(ct),M(wt),typeof ot=="function"&&ct==="prototype"&&"value"in wt&&tt in wt&&!wt[tt]){var nt=z(ot,ct);nt&&nt[tt]&&(ot[ct]=wt.value,wt={configurable:q in wt?wt[q]:nt[q],enumerable:it in wt?wt[it]:nt[it],writable:!1})}return C(ot,ct,wt)}:C:function(ot,ct,wt){if(M(ot),ct=P(ct),M(wt),E)try{return C(ot,ct,wt)}catch{}if("get"in wt||"set"in wt)throw k("Accessors not supported");return"value"in wt&&(ot[ct]=wt.value),ot}},"9ed3":function(c,d,u){var p=u("ae93").IteratorPrototype,g=u("7c73"),E=u("5c6c"),b=u("d44e"),M=u("3f8c"),P=function(){return this};c.exports=function(k,C,z,it){var q=C+" Iterator";return k.prototype=g(p,{next:E(+!it,z)}),b(k,q,!1,!0),M[q]=P,k}},"9f5e":function(c,d,u){u.d(d,"a",function(){return p}),u.d(d,"i",function(){return g}),u.d(d,"f",function(){return E}),u.d(d,"h",function(){return b}),u.d(d,"j",function(){return M}),u.d(d,"c",function(){return P}),u.d(d,"d",function(){return k}),u.d(d,"b",function(){return C}),u.d(d,"e",function(){return z}),u.d(d,"g",function(){return it});function p(q,tt,J){for(var ot,ct,wt=J||g,nt=0,F=q.length,bt=!1;nt<F;)ot=nt+(F-nt>>1),ct=+wt(q[ot],tt),ct<0?nt=ot+1:(F=ot,bt=!ct);return bt?nt:~nt}function g(q,tt){return q>tt?1:q<tt?-1:0}function E(q,tt){return q.indexOf(tt)>=0}function b(q,tt,J){var ot=q.length;if(q[0]<=tt)return 0;if(tt<=q[ot-1])return ot-1;var ct=void 0;if(J>0){for(ct=1;ct<ot;++ct)if(q[ct]<tt)return ct-1}else if(J<0){for(ct=1;ct<ot;++ct)if(q[ct]<=tt)return ct}else for(ct=1;ct<ot;++ct){if(q[ct]==tt)return ct;if(q[ct]<tt)return typeof J=="function"?J(tt,q[ct-1],q[ct])>0?ct-1:ct:q[ct-1]-tt<tt-q[ct]?ct-1:ct}return ot-1}function M(q,tt,J){for(;tt<J;){var ot=q[tt];q[tt]=q[J],q[J]=ot,++tt,--J}}function P(q,tt){for(var J=Array.isArray(tt)?tt:[tt],ot=J.length,ct=0;ct<ot;ct++)q[q.length]=J[ct]}function k(q,tt){for(var J=q.length>>>0,ot,ct=0;ct<J;ct++)if(ot=q[ct],tt(ot,ct,q))return ot;return null}function C(q,tt){var J=q.length;if(J!==tt.length)return!1;for(var ot=0;ot<J;ot++)if(q[ot]!==tt[ot])return!1;return!0}function z(q,tt){var J,ot=!q.every(function(ct,wt){return J=wt,!tt(ct,wt,q)});return ot?J:-1}function it(q,tt,J){var ot=tt||g;return q.every(function(ct,wt){if(wt===0)return!0;var nt=ot(q[wt-1],ct);return!(nt>0||J&&nt===0)})}},"9f7f":function(c,d,u){var p=u("d039"),g=u("da84"),E=g.RegExp,b=p(function(){var k=E("a","y");return k.lastIndex=2,k.exec("abcd")!=null}),M=b||p(function(){return!E("a","y").sticky}),P=b||p(function(){var k=E("^r","gy");return k.lastIndex=2,k.exec("str")!=null});c.exports={BROKEN_CARET:P,MISSED_STICKY:M,UNSUPPORTED_Y:b}},a04b:function(c,d,u){var p=u("c04e"),g=u("d9b5");c.exports=function(E){var b=p(E,"string");return g(b)?b:b+""}},a434:function(c,d,u){var p=u("23e7"),g=u("da84"),E=u("23cb"),b=u("5926"),M=u("07fa"),P=u("7b0b"),k=u("65f0"),C=u("8418"),z=u("1dde"),it=z("splice"),q=g.TypeError,tt=Math.max,J=Math.min,ot=9007199254740991,ct="Maximum allowed length exceeded";p({target:"Array",proto:!0,forced:!it},{splice:function(nt,F){var bt=P(this),jt=M(bt),te=E(nt,jt),Ot=arguments.length,ee,Dt,Wt,le,ye,Qe;if(Ot===0?ee=Dt=0:Ot===1?(ee=0,Dt=jt-te):(ee=Ot-2,Dt=J(tt(b(F),0),jt-te)),jt+ee-Dt>ot)throw q(ct);for(Wt=k(bt,Dt),le=0;le<Dt;le++)ye=te+le,ye in bt&&C(Wt,le,bt[ye]);if(Wt.length=Dt,ee<Dt){for(le=te;le<jt-Dt;le++)ye=le+Dt,Qe=le+ee,ye in bt?bt[Qe]=bt[ye]:delete bt[Qe];for(le=jt;le>jt-Dt+ee;le--)delete bt[le-1]}else if(ee>Dt)for(le=jt-Dt;le>te;le--)ye=le+Dt-1,Qe=le+ee-1,ye in bt?bt[Qe]=bt[ye]:delete bt[Qe];for(le=0;le<ee;le++)bt[le+te]=arguments[le+2];return bt.length=jt-Dt+ee,Wt}})},a4d3:function(c,d,u){var p=u("23e7"),g=u("da84"),E=u("d066"),b=u("2ba4"),M=u("c65b"),P=u("e330"),k=u("c430"),C=u("83ab"),z=u("4930"),it=u("d039"),q=u("1a2d"),tt=u("e8b5"),J=u("1626"),ot=u("861d"),ct=u("3a9b"),wt=u("d9b5"),nt=u("825a"),F=u("7b0b"),bt=u("fc6a"),jt=u("a04b"),te=u("577e"),Ot=u("5c6c"),ee=u("7c73"),Dt=u("df75"),Wt=u("241c"),le=u("057f"),ye=u("7418"),Qe=u("06cf"),mt=u("9bf2"),Kt=u("37e8"),ae=u("d1e7"),Sr=u("f36a"),xr=u("6eeb"),ar=u("5692"),jr=u("f772"),Xr=u("d012"),wn=u("90e3"),_e=u("b622"),er=u("e538"),_r=u("746f"),Fr=u("d44e"),jn=u("69f3"),Ur=u("b727").forEach,Vt=jr("hidden"),ie="Symbol",Tt="prototype",ft=_e("toPrimitive"),Rt=jn.set,Qt=jn.getterFor(ie),$t=Object[Tt],he=g.Symbol,Pe=he&&he[Tt],Ue=g.TypeError,Gt=g.QObject,at=E("JSON","stringify"),$=Qe.f,Q=mt.f,dt=le.f,ue=ae.f,De=P([].push),We=ar("symbols"),Pr=ar("op-symbols"),tn=ar("string-to-symbol-registry"),ln=ar("symbol-to-string-registry"),Fn=ar("wks"),qn=!Gt||!Gt[Tt]||!Gt[Tt].findChild,Ci=C&&it(function(){return ee(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a!=7})?function(on,fr,rn){var Ln=$($t,fr);Ln&&delete $t[fr],Q(on,fr,rn),Ln&&on!==$t&&Q($t,fr,Ln)}:Q,ao=function(on,fr){var rn=We[on]=ee(Pe);return Rt(rn,{type:ie,tag:on,description:fr}),C||(rn.description=fr),rn},Kn=function(fr,rn,Ln){fr===$t&&Kn(Pr,rn,Ln),nt(fr);var hi=jt(rn);return nt(Ln),q(We,hi)?(Ln.enumerable?(q(fr,Vt)&&fr[Vt][hi]&&(fr[Vt][hi]=!1),Ln=ee(Ln,{enumerable:Ot(0,!1)})):(q(fr,Vt)||Q(fr,Vt,Ot(1,{})),fr[Vt][hi]=!0),Ci(fr,hi,Ln)):Q(fr,hi,Ln)},ui=function(fr,rn){nt(fr);var Ln=bt(rn),hi=Dt(Ln).concat(Na(Ln));return Ur(hi,function(bi){(!C||M(_n,Ln,bi))&&Kn(fr,bi,Ln[bi])}),fr},Li=function(fr,rn){return rn===void 0?ee(fr):ui(ee(fr),rn)},_n=function(fr){var rn=jt(fr),Ln=M(ue,this,rn);return this===$t&&q(We,rn)&&!q(Pr,rn)?!1:Ln||!q(this,rn)||!q(We,rn)||q(this,Vt)&&this[Vt][rn]?Ln:!0},uo=function(fr,rn){var Ln=bt(fr),hi=jt(rn);if(!(Ln===$t&&q(We,hi)&&!q(Pr,hi))){var bi=$(Ln,hi);return bi&&q(We,hi)&&!(q(Ln,Vt)&&Ln[Vt][hi])&&(bi.enumerable=!0),bi}},zn=function(fr){var rn=dt(bt(fr)),Ln=[];return Ur(rn,function(hi){!q(We,hi)&&!q(Xr,hi)&&De(Ln,hi)}),Ln},Na=function(fr){var rn=fr===$t,Ln=dt(rn?Pr:bt(fr)),hi=[];return Ur(Ln,function(bi){q(We,bi)&&(!rn||q($t,bi))&&De(hi,We[bi])}),hi};if(z||(he=function(){if(ct(Pe,this))throw Ue("Symbol is not a constructor");var fr=!arguments.length||arguments[0]===void 0?void 0:te(arguments[0]),rn=wn(fr),Ln=function(hi){this===$t&&M(Ln,Pr,hi),q(this,Vt)&&q(this[Vt],rn)&&(this[Vt][rn]=!1),Ci(this,rn,Ot(1,hi))};return C&&qn&&Ci($t,rn,{configurable:!0,set:Ln}),ao(rn,fr)},Pe=he[Tt],xr(Pe,"toString",function(){return Qt(this).tag}),xr(he,"withoutSetter",function(on){return ao(wn(on),on)}),ae.f=_n,mt.f=Kn,Kt.f=ui,Qe.f=uo,Wt.f=le.f=zn,ye.f=Na,er.f=function(on){return ao(_e(on),on)},C&&(Q(Pe,"description",{configurable:!0,get:function(){return Qt(this).description}}),k||xr($t,"propertyIsEnumerable",_n,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!z,sham:!z},{Symbol:he}),Ur(Dt(Fn),function(on){_r(on)}),p({target:ie,stat:!0,forced:!z},{for:function(on){var fr=te(on);if(q(tn,fr))return tn[fr];var rn=he(fr);return tn[fr]=rn,ln[rn]=fr,rn},keyFor:function(fr){if(!wt(fr))throw Ue(fr+" is not a symbol");if(q(ln,fr))return ln[fr]},useSetter:function(){qn=!0},useSimple:function(){qn=!1}}),p({target:"Object",stat:!0,forced:!z,sham:!C},{create:Li,defineProperty:Kn,defineProperties:ui,getOwnPropertyDescriptor:uo}),p({target:"Object",stat:!0,forced:!z},{getOwnPropertyNames:zn,getOwnPropertySymbols:Na}),p({target:"Object",stat:!0,forced:it(function(){ye.f(1)})},{getOwnPropertySymbols:function(fr){return ye.f(F(fr))}}),at){var Wo=!z||it(function(){var on=he();return at([on])!="[null]"||at({a:on})!="{}"||at(Object(on))!="{}"});p({target:"JSON",stat:!0,forced:Wo},{stringify:function(fr,rn,Ln){var hi=Sr(arguments),bi=rn;if(!(!ot(rn)&&fr===void 0||wt(fr)))return tt(rn)||(rn=function(Tn,en){if(J(bi)&&(en=M(bi,this,Tn,en)),!wt(en))return en}),hi[1]=rn,b(at,null,hi)}})}if(!Pe[ft]){var Ji=Pe.valueOf;xr(Pe,ft,function(on){return M(Ji,this)})}Fr(he,ie),Xr[Vt]=!0},a630:function(c,d,u){var p=u("23e7"),g=u("4df4"),E=u("1c7e"),b=!E(function(M){Array.from(M)});p({target:"Array",stat:!0,forced:b},{from:g})},a640:function(c,d,u){var p=u("d039");c.exports=function(g,E){var b=[][g];return!!b&&p(function(){b.call(null,E||function(){throw 1},1)})}},a9e3:function(c,d,u){var p=u("83ab"),g=u("da84"),E=u("e330"),b=u("94ca"),M=u("6eeb"),P=u("1a2d"),k=u("7156"),C=u("3a9b"),z=u("d9b5"),it=u("c04e"),q=u("d039"),tt=u("241c").f,J=u("06cf").f,ot=u("9bf2").f,ct=u("408a"),wt=u("58a8").trim,nt="Number",F=g[nt],bt=F.prototype,jt=g.TypeError,te=E("".slice),Ot=E("".charCodeAt),ee=function(mt){var Kt=it(mt,"number");return typeof Kt=="bigint"?Kt:Dt(Kt)},Dt=function(mt){var Kt=it(mt,"number"),ae,Sr,xr,ar,jr,Xr,wn,_e;if(z(Kt))throw jt("Cannot convert a Symbol value to a number");if(typeof Kt=="string"&&Kt.length>2){if(Kt=wt(Kt),ae=Ot(Kt,0),ae===43||ae===45){if(Sr=Ot(Kt,2),Sr===88||Sr===120)return NaN}else if(ae===48){switch(Ot(Kt,1)){case 66:case 98:xr=2,ar=49;break;case 79:case 111:xr=8,ar=55;break;default:return+Kt}for(jr=te(Kt,2),Xr=jr.length,wn=0;wn<Xr;wn++)if(_e=Ot(jr,wn),_e<48||_e>ar)return NaN;return parseInt(jr,xr)}}return+Kt};if(b(nt,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var Wt=function(Kt){var ae=arguments.length<1?0:F(ee(Kt)),Sr=this;return C(bt,Sr)&&q(function(){ct(Sr)})?k(Object(ae),Sr,Wt):ae},le=p?tt(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ye=0,Qe;le.length>ye;ye++)P(F,Qe=le[ye])&&!P(Wt,Qe)&&ot(Wt,Qe,J(F,Qe));Wt.prototype=bt,bt.constructor=Wt,M(g,nt,Wt)}},ab13:function(c,d,u){var p=u("b622"),g=p("match");c.exports=function(E){var b=/./;try{"/./"[E](b)}catch{try{return b[g]=!1,"/./"[E](b)}catch{}}return!1}},ab36:function(c,d,u){var p=u("861d"),g=u("9112");c.exports=function(E,b){p(b)&&"cause"in b&&g(E,"cause",b.cause)}},ac1f:function(c,d,u){var p=u("23e7"),g=u("9263");p({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},ad6d:function(c,d,u){var p=u("825a");c.exports=function(){var g=p(this),E="";return g.global&&(E+="g"),g.ignoreCase&&(E+="i"),g.multiline&&(E+="m"),g.dotAll&&(E+="s"),g.unicode&&(E+="u"),g.sticky&&(E+="y"),E}},addb:function(c,d,u){var p=u("4dae"),g=Math.floor,E=function(P,k){var C=P.length,z=g(C/2);return C<8?b(P,k):M(P,E(p(P,0,z),k),E(p(P,z),k),k)},b=function(P,k){for(var C=P.length,z=1,it,q;z<C;){for(q=z,it=P[z];q&&k(P[q-1],it)>0;)P[q]=P[--q];q!==z++&&(P[q]=it)}return P},M=function(P,k,C,z){for(var it=k.length,q=C.length,tt=0,J=0;tt<it||J<q;)P[tt+J]=tt<it&&J<q?z(k[tt],C[J])<=0?k[tt++]:C[J++]:tt<it?k[tt++]:C[J++];return P};c.exports=E},ae93:function(c,d,u){var p=u("d039"),g=u("1626"),E=u("7c73"),b=u("e163"),M=u("6eeb"),P=u("b622"),k=u("c430"),C=P("iterator"),z=!1,it,q,tt;[].keys&&(tt=[].keys(),"next"in tt?(q=b(b(tt)),q!==Object.prototype&&(it=q)):z=!0);var J=it==null||p(function(){var ot={};return it[C].call(ot)!==ot});J?it={}:k&&(it=E(it)),g(it[C])||M(it,C,function(){return this}),c.exports={IteratorPrototype:it,BUGGY_SAFARI_ITERATORS:z}},aed9:function(c,d,u){var p=u("83ab"),g=u("d039");c.exports=p&&g(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},b041:function(c,d,u){var p=u("00ee"),g=u("f5df");c.exports=p?{}.toString:function(){return"[object "+g(this)+"]"}},b0c0:function(c,d,u){var p=u("83ab"),g=u("5e77").EXISTS,E=u("e330"),b=u("9bf2").f,M=Function.prototype,P=E(M.toString),k=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,C=E(k.exec),z="name";p&&!g&&b(M,z,{configurable:!0,get:function(){try{return C(k,P(this))[1]}catch{return""}}})},b622:function(c,d,u){var p=u("da84"),g=u("5692"),E=u("1a2d"),b=u("90e3"),M=u("4930"),P=u("fdbf"),k=g("wks"),C=p.Symbol,z=C&&C.for,it=P?C:C&&C.withoutSetter||b;c.exports=function(q){if(!E(k,q)||!(M||typeof k[q]=="string")){var tt="Symbol."+q;M&&E(C,q)?k[q]=C[q]:P&&z?k[q]=z(tt):k[q]=it(tt)}return k[q]}},b639:function(c,d,u){(function(p){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var g=u("1fb5"),E=u("9152"),b=u("e3db");d.Buffer=C,d.SlowBuffer=F,d.INSPECT_MAX_BYTES=50,C.TYPED_ARRAY_SUPPORT=p.TYPED_ARRAY_SUPPORT!==void 0?p.TYPED_ARRAY_SUPPORT:M(),d.kMaxLength=P();function M(){try{var at=new Uint8Array(1);return at.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},at.foo()===42&&typeof at.subarray=="function"&&at.subarray(1,1).byteLength===0}catch{return!1}}function P(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function k(at,$){if(P()<$)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(at=new Uint8Array($),at.__proto__=C.prototype):(at===null&&(at=new C($)),at.length=$),at}function C(at,$,Q){if(!C.TYPED_ARRAY_SUPPORT&&!(this instanceof C))return new C(at,$,Q);if(typeof at=="number"){if(typeof $=="string")throw new Error("If encoding is specified then the first argument must be a string");return tt(this,at)}return z(this,at,$,Q)}C.poolSize=8192,C._augment=function(at){return at.__proto__=C.prototype,at};function z(at,$,Q,dt){if(typeof $=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&$ instanceof ArrayBuffer?ct(at,$,Q,dt):typeof $=="string"?J(at,$,Q):wt(at,$)}C.from=function(at,$,Q){return z(null,at,$,Q)},C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0}));function it(at){if(typeof at!="number")throw new TypeError('"size" argument must be a number');if(at<0)throw new RangeError('"size" argument must not be negative')}function q(at,$,Q,dt){return it($),$<=0?k(at,$):Q!==void 0?typeof dt=="string"?k(at,$).fill(Q,dt):k(at,$).fill(Q):k(at,$)}C.alloc=function(at,$,Q){return q(null,at,$,Q)};function tt(at,$){if(it($),at=k(at,$<0?0:nt($)|0),!C.TYPED_ARRAY_SUPPORT)for(var Q=0;Q<$;++Q)at[Q]=0;return at}C.allocUnsafe=function(at){return tt(null,at)},C.allocUnsafeSlow=function(at){return tt(null,at)};function J(at,$,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!C.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');var dt=bt($,Q)|0;at=k(at,dt);var ue=at.write($,Q);return ue!==dt&&(at=at.slice(0,ue)),at}function ot(at,$){var Q=$.length<0?0:nt($.length)|0;at=k(at,Q);for(var dt=0;dt<Q;dt+=1)at[dt]=$[dt]&255;return at}function ct(at,$,Q,dt){if($.byteLength,Q<0||$.byteLength<Q)throw new RangeError("'offset' is out of bounds");if($.byteLength<Q+(dt||0))throw new RangeError("'length' is out of bounds");return Q===void 0&&dt===void 0?$=new Uint8Array($):dt===void 0?$=new Uint8Array($,Q):$=new Uint8Array($,Q,dt),C.TYPED_ARRAY_SUPPORT?(at=$,at.__proto__=C.prototype):at=ot(at,$),at}function wt(at,$){if(C.isBuffer($)){var Q=nt($.length)|0;return at=k(at,Q),at.length===0||$.copy(at,0,0,Q),at}if($){if(typeof ArrayBuffer!="undefined"&&$.buffer instanceof ArrayBuffer||"length"in $)return typeof $.length!="number"||Gt($.length)?k(at,0):ot(at,$);if($.type==="Buffer"&&b($.data))return ot(at,$.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function nt(at){if(at>=P())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P().toString(16)+" bytes");return at|0}function F(at){return+at!=at&&(at=0),C.alloc(+at)}C.isBuffer=function($){return!!($!=null&&$._isBuffer)},C.compare=function($,Q){if(!C.isBuffer($)||!C.isBuffer(Q))throw new TypeError("Arguments must be Buffers");if($===Q)return 0;for(var dt=$.length,ue=Q.length,De=0,We=Math.min(dt,ue);De<We;++De)if($[De]!==Q[De]){dt=$[De],ue=Q[De];break}return dt<ue?-1:ue<dt?1:0},C.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function($,Q){if(!b($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return C.alloc(0);var dt;if(Q===void 0)for(Q=0,dt=0;dt<$.length;++dt)Q+=$[dt].length;var ue=C.allocUnsafe(Q),De=0;for(dt=0;dt<$.length;++dt){var We=$[dt];if(!C.isBuffer(We))throw new TypeError('"list" argument must be an Array of Buffers');We.copy(ue,De),De+=We.length}return ue};function bt(at,$){if(C.isBuffer(at))return at.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(at)||at instanceof ArrayBuffer))return at.byteLength;typeof at!="string"&&(at=""+at);var Q=at.length;if(Q===0)return 0;for(var dt=!1;;)switch($){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":case void 0:return Qt(at).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q*2;case"hex":return Q>>>1;case"base64":return Pe(at).length;default:if(dt)return Qt(at).length;$=(""+$).toLowerCase(),dt=!0}}C.byteLength=bt;function jt(at,$,Q){var dt=!1;if(($===void 0||$<0)&&($=0),$>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0,$>>>=0,Q<=$))return"";for(at||(at="utf8");;)switch(at){case"hex":return Xr(this,$,Q);case"utf8":case"utf-8":return ae(this,$,Q);case"ascii":return ar(this,$,Q);case"latin1":case"binary":return jr(this,$,Q);case"base64":return Kt(this,$,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wn(this,$,Q);default:if(dt)throw new TypeError("Unknown encoding: "+at);at=(at+"").toLowerCase(),dt=!0}}C.prototype._isBuffer=!0;function te(at,$,Q){var dt=at[$];at[$]=at[Q],at[Q]=dt}C.prototype.swap16=function(){var $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<$;Q+=2)te(this,Q,Q+1);return this},C.prototype.swap32=function(){var $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<$;Q+=4)te(this,Q,Q+3),te(this,Q+1,Q+2);return this},C.prototype.swap64=function(){var $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<$;Q+=8)te(this,Q,Q+7),te(this,Q+1,Q+6),te(this,Q+2,Q+5),te(this,Q+3,Q+4);return this},C.prototype.toString=function(){var $=this.length|0;return $===0?"":arguments.length===0?ae(this,0,$):jt.apply(this,arguments)},C.prototype.equals=function($){if(!C.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:C.compare(this,$)===0},C.prototype.inspect=function(){var $="",Q=d.INSPECT_MAX_BYTES;return this.length>0&&($=this.toString("hex",0,Q).match(/.{2}/g).join(" "),this.length>Q&&($+=" ... ")),"<Buffer "+$+">"},C.prototype.compare=function($,Q,dt,ue,De){if(!C.isBuffer($))throw new TypeError("Argument must be a Buffer");if(Q===void 0&&(Q=0),dt===void 0&&(dt=$?$.length:0),ue===void 0&&(ue=0),De===void 0&&(De=this.length),Q<0||dt>$.length||ue<0||De>this.length)throw new RangeError("out of range index");if(ue>=De&&Q>=dt)return 0;if(ue>=De)return-1;if(Q>=dt)return 1;if(Q>>>=0,dt>>>=0,ue>>>=0,De>>>=0,this===$)return 0;for(var We=De-ue,Pr=dt-Q,tn=Math.min(We,Pr),ln=this.slice(ue,De),Fn=$.slice(Q,dt),qn=0;qn<tn;++qn)if(ln[qn]!==Fn[qn]){We=ln[qn],Pr=Fn[qn];break}return We<Pr?-1:Pr<We?1:0};function Ot(at,$,Q,dt,ue){if(at.length===0)return-1;if(typeof Q=="string"?(dt=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),Q=+Q,isNaN(Q)&&(Q=ue?0:at.length-1),Q<0&&(Q=at.length+Q),Q>=at.length){if(ue)return-1;Q=at.length-1}else if(Q<0)if(ue)Q=0;else return-1;if(typeof $=="string"&&($=C.from($,dt)),C.isBuffer($))return $.length===0?-1:ee(at,$,Q,dt,ue);if(typeof $=="number")return $=$&255,C.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(at,$,Q):Uint8Array.prototype.lastIndexOf.call(at,$,Q):ee(at,[$],Q,dt,ue);throw new TypeError("val must be string, number or Buffer")}function ee(at,$,Q,dt,ue){var De=1,We=at.length,Pr=$.length;if(dt!==void 0&&(dt=String(dt).toLowerCase(),dt==="ucs2"||dt==="ucs-2"||dt==="utf16le"||dt==="utf-16le")){if(at.length<2||$.length<2)return-1;De=2,We/=2,Pr/=2,Q/=2}function tn(ao,Kn){return De===1?ao[Kn]:ao.readUInt16BE(Kn*De)}var ln;if(ue){var Fn=-1;for(ln=Q;ln<We;ln++)if(tn(at,ln)===tn($,Fn===-1?0:ln-Fn)){if(Fn===-1&&(Fn=ln),ln-Fn+1===Pr)return Fn*De}else Fn!==-1&&(ln-=ln-Fn),Fn=-1}else for(Q+Pr>We&&(Q=We-Pr),ln=Q;ln>=0;ln--){for(var qn=!0,Ci=0;Ci<Pr;Ci++)if(tn(at,ln+Ci)!==tn($,Ci)){qn=!1;break}if(qn)return ln}return-1}C.prototype.includes=function($,Q,dt){return this.indexOf($,Q,dt)!==-1},C.prototype.indexOf=function($,Q,dt){return Ot(this,$,Q,dt,!0)},C.prototype.lastIndexOf=function($,Q,dt){return Ot(this,$,Q,dt,!1)};function Dt(at,$,Q,dt){Q=Number(Q)||0;var ue=at.length-Q;dt?(dt=Number(dt),dt>ue&&(dt=ue)):dt=ue;var De=$.length;if(De%2!==0)throw new TypeError("Invalid hex string");dt>De/2&&(dt=De/2);for(var We=0;We<dt;++We){var Pr=parseInt($.substr(We*2,2),16);if(isNaN(Pr))return We;at[Q+We]=Pr}return We}function Wt(at,$,Q,dt){return Ue(Qt($,at.length-Q),at,Q,dt)}function le(at,$,Q,dt){return Ue($t($),at,Q,dt)}function ye(at,$,Q,dt){return le(at,$,Q,dt)}function Qe(at,$,Q,dt){return Ue(Pe($),at,Q,dt)}function mt(at,$,Q,dt){return Ue(he($,at.length-Q),at,Q,dt)}C.prototype.write=function($,Q,dt,ue){if(Q===void 0)ue="utf8",dt=this.length,Q=0;else if(dt===void 0&&typeof Q=="string")ue=Q,dt=this.length,Q=0;else if(isFinite(Q))Q=Q|0,isFinite(dt)?(dt=dt|0,ue===void 0&&(ue="utf8")):(ue=dt,dt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var De=this.length-Q;if((dt===void 0||dt>De)&&(dt=De),$.length>0&&(dt<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");for(var We=!1;;)switch(ue){case"hex":return Dt(this,$,Q,dt);case"utf8":case"utf-8":return Wt(this,$,Q,dt);case"ascii":return le(this,$,Q,dt);case"latin1":case"binary":return ye(this,$,Q,dt);case"base64":return Qe(this,$,Q,dt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,$,Q,dt);default:if(We)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),We=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Kt(at,$,Q){return $===0&&Q===at.length?g.fromByteArray(at):g.fromByteArray(at.slice($,Q))}function ae(at,$,Q){Q=Math.min(at.length,Q);for(var dt=[],ue=$;ue<Q;){var De=at[ue],We=null,Pr=De>239?4:De>223?3:De>191?2:1;if(ue+Pr<=Q){var tn,ln,Fn,qn;switch(Pr){case 1:De<128&&(We=De);break;case 2:tn=at[ue+1],(tn&192)===128&&(qn=(De&31)<<6|tn&63,qn>127&&(We=qn));break;case 3:tn=at[ue+1],ln=at[ue+2],(tn&192)===128&&(ln&192)===128&&(qn=(De&15)<<12|(tn&63)<<6|ln&63,qn>2047&&(qn<55296||qn>57343)&&(We=qn));break;case 4:tn=at[ue+1],ln=at[ue+2],Fn=at[ue+3],(tn&192)===128&&(ln&192)===128&&(Fn&192)===128&&(qn=(De&15)<<18|(tn&63)<<12|(ln&63)<<6|Fn&63,qn>65535&&qn<1114112&&(We=qn))}}We===null?(We=65533,Pr=1):We>65535&&(We-=65536,dt.push(We>>>10&1023|55296),We=56320|We&1023),dt.push(We),ue+=Pr}return xr(dt)}var Sr=4096;function xr(at){var $=at.length;if($<=Sr)return String.fromCharCode.apply(String,at);for(var Q="",dt=0;dt<$;)Q+=String.fromCharCode.apply(String,at.slice(dt,dt+=Sr));return Q}function ar(at,$,Q){var dt="";Q=Math.min(at.length,Q);for(var ue=$;ue<Q;++ue)dt+=String.fromCharCode(at[ue]&127);return dt}function jr(at,$,Q){var dt="";Q=Math.min(at.length,Q);for(var ue=$;ue<Q;++ue)dt+=String.fromCharCode(at[ue]);return dt}function Xr(at,$,Q){var dt=at.length;(!$||$<0)&&($=0),(!Q||Q<0||Q>dt)&&(Q=dt);for(var ue="",De=$;De<Q;++De)ue+=Rt(at[De]);return ue}function wn(at,$,Q){for(var dt=at.slice($,Q),ue="",De=0;De<dt.length;De+=2)ue+=String.fromCharCode(dt[De]+dt[De+1]*256);return ue}C.prototype.slice=function($,Q){var dt=this.length;$=~~$,Q=Q===void 0?dt:~~Q,$<0?($+=dt,$<0&&($=0)):$>dt&&($=dt),Q<0?(Q+=dt,Q<0&&(Q=0)):Q>dt&&(Q=dt),Q<$&&(Q=$);var ue;if(C.TYPED_ARRAY_SUPPORT)ue=this.subarray($,Q),ue.__proto__=C.prototype;else{var De=Q-$;ue=new C(De,void 0);for(var We=0;We<De;++We)ue[We]=this[We+$]}return ue};function _e(at,$,Q){if(at%1!==0||at<0)throw new RangeError("offset is not uint");if(at+$>Q)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function($,Q,dt){$=$|0,Q=Q|0,dt||_e($,Q,this.length);for(var ue=this[$],De=1,We=0;++We<Q&&(De*=256);)ue+=this[$+We]*De;return ue},C.prototype.readUIntBE=function($,Q,dt){$=$|0,Q=Q|0,dt||_e($,Q,this.length);for(var ue=this[$+--Q],De=1;Q>0&&(De*=256);)ue+=this[$+--Q]*De;return ue},C.prototype.readUInt8=function($,Q){return Q||_e($,1,this.length),this[$]},C.prototype.readUInt16LE=function($,Q){return Q||_e($,2,this.length),this[$]|this[$+1]<<8},C.prototype.readUInt16BE=function($,Q){return Q||_e($,2,this.length),this[$]<<8|this[$+1]},C.prototype.readUInt32LE=function($,Q){return Q||_e($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},C.prototype.readUInt32BE=function($,Q){return Q||_e($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},C.prototype.readIntLE=function($,Q,dt){$=$|0,Q=Q|0,dt||_e($,Q,this.length);for(var ue=this[$],De=1,We=0;++We<Q&&(De*=256);)ue+=this[$+We]*De;return De*=128,ue>=De&&(ue-=Math.pow(2,8*Q)),ue},C.prototype.readIntBE=function($,Q,dt){$=$|0,Q=Q|0,dt||_e($,Q,this.length);for(var ue=Q,De=1,We=this[$+--ue];ue>0&&(De*=256);)We+=this[$+--ue]*De;return De*=128,We>=De&&(We-=Math.pow(2,8*Q)),We},C.prototype.readInt8=function($,Q){return Q||_e($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},C.prototype.readInt16LE=function($,Q){Q||_e($,2,this.length);var dt=this[$]|this[$+1]<<8;return dt&32768?dt|4294901760:dt},C.prototype.readInt16BE=function($,Q){Q||_e($,2,this.length);var dt=this[$+1]|this[$]<<8;return dt&32768?dt|4294901760:dt},C.prototype.readInt32LE=function($,Q){return Q||_e($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},C.prototype.readInt32BE=function($,Q){return Q||_e($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},C.prototype.readFloatLE=function($,Q){return Q||_e($,4,this.length),E.read(this,$,!0,23,4)},C.prototype.readFloatBE=function($,Q){return Q||_e($,4,this.length),E.read(this,$,!1,23,4)},C.prototype.readDoubleLE=function($,Q){return Q||_e($,8,this.length),E.read(this,$,!0,52,8)},C.prototype.readDoubleBE=function($,Q){return Q||_e($,8,this.length),E.read(this,$,!1,52,8)};function er(at,$,Q,dt,ue,De){if(!C.isBuffer(at))throw new TypeError('"buffer" argument must be a Buffer instance');if($>ue||$<De)throw new RangeError('"value" argument is out of bounds');if(Q+dt>at.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function($,Q,dt,ue){if($=+$,Q=Q|0,dt=dt|0,!ue){var De=Math.pow(2,8*dt)-1;er(this,$,Q,dt,De,0)}var We=1,Pr=0;for(this[Q]=$&255;++Pr<dt&&(We*=256);)this[Q+Pr]=$/We&255;return Q+dt},C.prototype.writeUIntBE=function($,Q,dt,ue){if($=+$,Q=Q|0,dt=dt|0,!ue){var De=Math.pow(2,8*dt)-1;er(this,$,Q,dt,De,0)}var We=dt-1,Pr=1;for(this[Q+We]=$&255;--We>=0&&(Pr*=256);)this[Q+We]=$/Pr&255;return Q+dt},C.prototype.writeUInt8=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,1,255,0),C.TYPED_ARRAY_SUPPORT||($=Math.floor($)),this[Q]=$&255,Q+1};function _r(at,$,Q,dt){$<0&&($=65535+$+1);for(var ue=0,De=Math.min(at.length-Q,2);ue<De;++ue)at[Q+ue]=($&255<<8*(dt?ue:1-ue))>>>(dt?ue:1-ue)*8}C.prototype.writeUInt16LE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[Q]=$&255,this[Q+1]=$>>>8):_r(this,$,Q,!0),Q+2},C.prototype.writeUInt16BE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[Q]=$>>>8,this[Q+1]=$&255):_r(this,$,Q,!1),Q+2};function Fr(at,$,Q,dt){$<0&&($=4294967295+$+1);for(var ue=0,De=Math.min(at.length-Q,4);ue<De;++ue)at[Q+ue]=$>>>(dt?ue:3-ue)*8&255}C.prototype.writeUInt32LE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[Q+3]=$>>>24,this[Q+2]=$>>>16,this[Q+1]=$>>>8,this[Q]=$&255):Fr(this,$,Q,!0),Q+4},C.prototype.writeUInt32BE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[Q]=$>>>24,this[Q+1]=$>>>16,this[Q+2]=$>>>8,this[Q+3]=$&255):Fr(this,$,Q,!1),Q+4},C.prototype.writeIntLE=function($,Q,dt,ue){if($=+$,Q=Q|0,!ue){var De=Math.pow(2,8*dt-1);er(this,$,Q,dt,De-1,-De)}var We=0,Pr=1,tn=0;for(this[Q]=$&255;++We<dt&&(Pr*=256);)$<0&&tn===0&&this[Q+We-1]!==0&&(tn=1),this[Q+We]=($/Pr>>0)-tn&255;return Q+dt},C.prototype.writeIntBE=function($,Q,dt,ue){if($=+$,Q=Q|0,!ue){var De=Math.pow(2,8*dt-1);er(this,$,Q,dt,De-1,-De)}var We=dt-1,Pr=1,tn=0;for(this[Q+We]=$&255;--We>=0&&(Pr*=256);)$<0&&tn===0&&this[Q+We+1]!==0&&(tn=1),this[Q+We]=($/Pr>>0)-tn&255;return Q+dt},C.prototype.writeInt8=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,1,127,-128),C.TYPED_ARRAY_SUPPORT||($=Math.floor($)),$<0&&($=255+$+1),this[Q]=$&255,Q+1},C.prototype.writeInt16LE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[Q]=$&255,this[Q+1]=$>>>8):_r(this,$,Q,!0),Q+2},C.prototype.writeInt16BE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[Q]=$>>>8,this[Q+1]=$&255):_r(this,$,Q,!1),Q+2},C.prototype.writeInt32LE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[Q]=$&255,this[Q+1]=$>>>8,this[Q+2]=$>>>16,this[Q+3]=$>>>24):Fr(this,$,Q,!0),Q+4},C.prototype.writeInt32BE=function($,Q,dt){return $=+$,Q=Q|0,dt||er(this,$,Q,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),C.TYPED_ARRAY_SUPPORT?(this[Q]=$>>>24,this[Q+1]=$>>>16,this[Q+2]=$>>>8,this[Q+3]=$&255):Fr(this,$,Q,!1),Q+4};function jn(at,$,Q,dt,ue,De){if(Q+dt>at.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function Ur(at,$,Q,dt,ue){return ue||jn(at,$,Q,4),E.write(at,$,Q,dt,23,4),Q+4}C.prototype.writeFloatLE=function($,Q,dt){return Ur(this,$,Q,!0,dt)},C.prototype.writeFloatBE=function($,Q,dt){return Ur(this,$,Q,!1,dt)};function Vt(at,$,Q,dt,ue){return ue||jn(at,$,Q,8),E.write(at,$,Q,dt,52,8),Q+8}C.prototype.writeDoubleLE=function($,Q,dt){return Vt(this,$,Q,!0,dt)},C.prototype.writeDoubleBE=function($,Q,dt){return Vt(this,$,Q,!1,dt)},C.prototype.copy=function($,Q,dt,ue){if(dt||(dt=0),!ue&&ue!==0&&(ue=this.length),Q>=$.length&&(Q=$.length),Q||(Q=0),ue>0&&ue<dt&&(ue=dt),ue===dt||$.length===0||this.length===0)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(dt<0||dt>=this.length)throw new RangeError("sourceStart out of bounds");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),$.length-Q<ue-dt&&(ue=$.length-Q+dt);var De=ue-dt,We;if(this===$&&dt<Q&&Q<ue)for(We=De-1;We>=0;--We)$[We+Q]=this[We+dt];else if(De<1e3||!C.TYPED_ARRAY_SUPPORT)for(We=0;We<De;++We)$[We+Q]=this[We+dt];else Uint8Array.prototype.set.call($,this.subarray(dt,dt+De),Q);return De},C.prototype.fill=function($,Q,dt,ue){if(typeof $=="string"){if(typeof Q=="string"?(ue=Q,Q=0,dt=this.length):typeof dt=="string"&&(ue=dt,dt=this.length),$.length===1){var De=$.charCodeAt(0);De<256&&($=De)}if(ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!C.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue)}else typeof $=="number"&&($=$&255);if(Q<0||this.length<Q||this.length<dt)throw new RangeError("Out of range index");if(dt<=Q)return this;Q=Q>>>0,dt=dt===void 0?this.length:dt>>>0,$||($=0);var We;if(typeof $=="number")for(We=Q;We<dt;++We)this[We]=$;else{var Pr=C.isBuffer($)?$:Qt(new C($,ue).toString()),tn=Pr.length;for(We=0;We<dt-Q;++We)this[We+Q]=Pr[We%tn]}return this};var ie=/[^+\/0-9A-Za-z-_]/g;function Tt(at){if(at=ft(at).replace(ie,""),at.length<2)return"";for(;at.length%4!==0;)at=at+"=";return at}function ft(at){return at.trim?at.trim():at.replace(/^\s+|\s+$/g,"")}function Rt(at){return at<16?"0"+at.toString(16):at.toString(16)}function Qt(at,$){$=$||1/0;for(var Q,dt=at.length,ue=null,De=[],We=0;We<dt;++We){if(Q=at.charCodeAt(We),Q>55295&&Q<57344){if(!ue){if(Q>56319){($-=3)>-1&&De.push(239,191,189);continue}else if(We+1===dt){($-=3)>-1&&De.push(239,191,189);continue}ue=Q;continue}if(Q<56320){($-=3)>-1&&De.push(239,191,189),ue=Q;continue}Q=(ue-55296<<10|Q-56320)+65536}else ue&&($-=3)>-1&&De.push(239,191,189);if(ue=null,Q<128){if(($-=1)<0)break;De.push(Q)}else if(Q<2048){if(($-=2)<0)break;De.push(Q>>6|192,Q&63|128)}else if(Q<65536){if(($-=3)<0)break;De.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(Q<1114112){if(($-=4)<0)break;De.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw new Error("Invalid code point")}return De}function $t(at){for(var $=[],Q=0;Q<at.length;++Q)$.push(at.charCodeAt(Q)&255);return $}function he(at,$){for(var Q,dt,ue,De=[],We=0;We<at.length&&!(($-=2)<0);++We)Q=at.charCodeAt(We),dt=Q>>8,ue=Q%256,De.push(ue),De.push(dt);return De}function Pe(at){return g.toByteArray(Tt(at))}function Ue(at,$,Q,dt){for(var ue=0;ue<dt&&!(ue+Q>=$.length||ue>=at.length);++ue)$[ue+Q]=at[ue];return ue}function Gt(at){return at!==at}}).call(this,u("c8ba"))},b64b:function(c,d,u){var p=u("23e7"),g=u("7b0b"),E=u("df75"),b=u("d039"),M=b(function(){E(1)});p({target:"Object",stat:!0,forced:M},{keys:function(k){return E(g(k))}})},b727:function(c,d,u){var p=u("0366"),g=u("e330"),E=u("44ad"),b=u("7b0b"),M=u("07fa"),P=u("65f0"),k=g([].push),C=function(z){var it=z==1,q=z==2,tt=z==3,J=z==4,ot=z==6,ct=z==7,wt=z==5||ot;return function(nt,F,bt,jt){for(var te=b(nt),Ot=E(te),ee=p(F,bt),Dt=M(Ot),Wt=0,le=jt||P,ye=it?le(nt,Dt):q||ct?le(nt,0):void 0,Qe,mt;Dt>Wt;Wt++)if((wt||Wt in Ot)&&(Qe=Ot[Wt],mt=ee(Qe,Wt,te),z))if(it)ye[Wt]=mt;else if(mt)switch(z){case 3:return!0;case 5:return Qe;case 6:return Wt;case 2:k(ye,Qe)}else switch(z){case 4:return!1;case 7:k(ye,Qe)}return ot?-1:tt||J?J:ye}};c.exports={forEach:C(0),map:C(1),filter:C(2),some:C(3),every:C(4),find:C(5),findIndex:C(6),filterReject:C(7)}},b980:function(c,d,u){var p=u("d039"),g=u("5c6c");c.exports=!p(function(){var E=Error("a");return"stack"in E?(Object.defineProperty(E,"stack",g(1,7)),E.stack!==7):!0})},c04e:function(c,d,u){var p=u("da84"),g=u("c65b"),E=u("861d"),b=u("d9b5"),M=u("dc4a"),P=u("485a"),k=u("b622"),C=p.TypeError,z=k("toPrimitive");c.exports=function(it,q){if(!E(it)||b(it))return it;var tt=M(it,z),J;if(tt){if(q===void 0&&(q="default"),J=g(tt,it,q),!E(J)||b(J))return J;throw C("Can't convert object to primitive value")}return q===void 0&&(q="number"),P(it,q)}},c430:function(c,d){c.exports=!1},c65b:function(c,d,u){var p=u("40d5"),g=Function.prototype.call;c.exports=p?g.bind(g):function(){return g.apply(g,arguments)}},c6b6:function(c,d,u){var p=u("e330"),g=p({}.toString),E=p("".slice);c.exports=function(b){return E(g(b),8,-1)}},c6cd:function(c,d,u){var p=u("da84"),g=u("ce4e"),E="__core-js_shared__",b=p[E]||g(E,{});c.exports=b},c740:function(c,d,u){var p=u("23e7"),g=u("b727").findIndex,E=u("44d2"),b="findIndex",M=!0;b in[]&&Array(1)[b](function(){M=!1}),p({target:"Array",proto:!0,forced:M},{findIndex:function(k){return g(this,k,arguments.length>1?arguments[1]:void 0)}}),E(b)},c770:function(c,d,u){var p=u("e330"),g=p("".replace),E=function(P){return String(Error(P).stack)}("zxcasd"),b=/\n\s*at [^:]*:[^\n]*/,M=b.test(E);c.exports=function(P,k){if(M&&typeof P=="string")for(;k--;)P=g(P,b,"");return P}},c8ba:function(c,d){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}c.exports=u},ca84:function(c,d,u){var p=u("e330"),g=u("1a2d"),E=u("fc6a"),b=u("4d64").indexOf,M=u("d012"),P=p([].push);c.exports=function(k,C){var z=E(k),it=0,q=[],tt;for(tt in z)!g(M,tt)&&g(z,tt)&&P(q,tt);for(;C.length>it;)g(z,tt=C[it++])&&(~b(q,tt)||P(q,tt));return q}},caad:function(c,d,u){var p=u("23e7"),g=u("4d64").includes,E=u("44d2");p({target:"Array",proto:!0},{includes:function(M){return g(this,M,arguments.length>1?arguments[1]:void 0)}}),E("includes")},cc12:function(c,d,u){var p=u("da84"),g=u("861d"),E=p.document,b=g(E)&&g(E.createElement);c.exports=function(M){return b?E.createElement(M):{}}},ce4e:function(c,d,u){var p=u("da84"),g=Object.defineProperty;c.exports=function(E,b){try{g(p,E,{value:b,configurable:!0,writable:!0})}catch{p[E]=b}return b}},cef7:function(c,d,u){u.d(d,"b",function(){return g});var p=function(){function E(b){this.propagationStopped,this.defaultPrevented,this.type=b,this.target=null}return E.prototype.preventDefault=function(){this.defaultPrevented=!0},E.prototype.stopPropagation=function(){this.propagationStopped=!0},E}();function g(E){E.stopPropagation()}d.a=p},d012:function(c,d){c.exports={}},d039:function(c,d){c.exports=function(u){try{return!!u()}catch{return!0}}},d066:function(c,d,u){var p=u("da84"),g=u("1626"),E=function(b){return g(b)?b:void 0};c.exports=function(b,M){return arguments.length<2?E(p[b]):p[b]&&p[b][M]}},d1e7:function(c,d,u){var p={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,E=g&&!p.call({1:2},1);d.f=E?function(M){var P=g(this,M);return!!P&&P.enumerable}:p},d28b:function(c,d,u){var p=u("746f");p("iterator")},d2bb:function(c,d,u){var p=u("e330"),g=u("825a"),E=u("3bbe");c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,M={},P;try{P=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),P(M,[]),b=M instanceof Array}catch{}return function(C,z){return g(C),E(z),b?P(C,z):C.__proto__=z,C}}():void 0)},d3b7:function(c,d,u){var p=u("00ee"),g=u("6eeb"),E=u("b041");p||g(Object.prototype,"toString",E,{unsafe:!0})},d44e:function(c,d,u){var p=u("9bf2").f,g=u("1a2d"),E=u("b622"),b=E("toStringTag");c.exports=function(M,P,k){M&&!k&&(M=M.prototype),M&&!g(M,b)&&p(M,b,{configurable:!0,value:P})}},d784:function(c,d,u){u("ac1f");var p=u("e330"),g=u("6eeb"),E=u("9263"),b=u("d039"),M=u("b622"),P=u("9112"),k=M("species"),C=RegExp.prototype;c.exports=function(z,it,q,tt){var J=M(z),ot=!b(function(){var F={};return F[J]=function(){return 7},""[z](F)!=7}),ct=ot&&!b(function(){var F=!1,bt=/a/;return z==="split"&&(bt={},bt.constructor={},bt.constructor[k]=function(){return bt},bt.flags="",bt[J]=/./[J]),bt.exec=function(){return F=!0,null},bt[J](""),!F});if(!ot||!ct||q){var wt=p(/./[J]),nt=it(J,""[z],function(F,bt,jt,te,Ot){var ee=p(F),Dt=bt.exec;return Dt===E||Dt===C.exec?ot&&!Ot?{done:!0,value:wt(bt,jt,te)}:{done:!0,value:ee(jt,bt,te)}:{done:!1}});g(String.prototype,z,nt[0]),g(C,J,nt[1])}tt&&P(C[J],"sham",!0)}},d81d:function(c,d,u){var p=u("23e7"),g=u("b727").map,E=u("1dde"),b=E("map");p({target:"Array",proto:!0,forced:!b},{map:function(P){return g(this,P,arguments.length>1?arguments[1]:void 0)}})},d998:function(c,d,u){var p=u("342f");c.exports=/MSIE|Trident/.test(p)},d9b5:function(c,d,u){var p=u("da84"),g=u("d066"),E=u("1626"),b=u("3a9b"),M=u("fdbf"),P=p.Object;c.exports=M?function(k){return typeof k=="symbol"}:function(k){var C=g("Symbol");return E(C)&&b(C.prototype,P(k))}},d9e2:function(c,d,u){var p=u("23e7"),g=u("da84"),E=u("2ba4"),b=u("e5cb"),M="WebAssembly",P=g[M],k=Error("e",{cause:7}).cause!==7,C=function(it,q){var tt={};tt[it]=b(it,q,k),p({global:!0,forced:k},tt)},z=function(it,q){if(P&&P[it]){var tt={};tt[it]=b(M+"."+it,q,k),p({target:M,stat:!0,forced:k},tt)}};C("Error",function(it){return function(tt){return E(it,this,arguments)}}),C("EvalError",function(it){return function(tt){return E(it,this,arguments)}}),C("RangeError",function(it){return function(tt){return E(it,this,arguments)}}),C("ReferenceError",function(it){return function(tt){return E(it,this,arguments)}}),C("SyntaxError",function(it){return function(tt){return E(it,this,arguments)}}),C("TypeError",function(it){return function(tt){return E(it,this,arguments)}}),C("URIError",function(it){return function(tt){return E(it,this,arguments)}}),z("CompileError",function(it){return function(tt){return E(it,this,arguments)}}),z("LinkError",function(it){return function(tt){return E(it,this,arguments)}}),z("RuntimeError",function(it){return function(tt){return E(it,this,arguments)}})},da5c:function(c,d,u){var p=function(){function g(){this.disposed=!1}return g.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},g.prototype.disposeInternal=function(){},g}();d.a=p},da84:function(c,d,u){(function(p){var g=function(E){return E&&E.Math==Math&&E};c.exports=g(typeof globalThis=="object"&&globalThis)||g(typeof window=="object"&&window)||g(typeof self=="object"&&self)||g(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,u("c8ba"))},dbb4:function(c,d,u){var p=u("23e7"),g=u("83ab"),E=u("56ef"),b=u("fc6a"),M=u("06cf"),P=u("8418");p({target:"Object",stat:!0,sham:!g},{getOwnPropertyDescriptors:function(C){for(var z=b(C),it=M.f,q=E(z),tt={},J=0,ot,ct;q.length>J;)ct=it(z,ot=q[J++]),ct!==void 0&&P(tt,ot,ct);return tt}})},dbd0:function(c,d,u){},dc4a:function(c,d,u){var p=u("59ed");c.exports=function(g,E){var b=g[E];return b==null?void 0:p(b)}},ddb0:function(c,d,u){var p=u("da84"),g=u("fdbc"),E=u("785a"),b=u("e260"),M=u("9112"),P=u("b622"),k=P("iterator"),C=P("toStringTag"),z=b.values,it=function(tt,J){if(tt){if(tt[k]!==z)try{M(tt,k,z)}catch{tt[k]=z}if(tt[C]||M(tt,C,J),g[J]){for(var ot in b)if(tt[ot]!==b[ot])try{M(tt,ot,b[ot])}catch{tt[ot]=b[ot]}}}};for(var q in g)it(p[q]&&p[q].prototype,q);it(E,"DOMTokenList")},df75:function(c,d,u){var p=u("ca84"),g=u("7839");c.exports=Object.keys||function(b){return p(b,g)}},e01a:function(c,d,u){var p=u("23e7"),g=u("83ab"),E=u("da84"),b=u("e330"),M=u("1a2d"),P=u("1626"),k=u("3a9b"),C=u("577e"),z=u("9bf2").f,it=u("e893"),q=E.Symbol,tt=q&&q.prototype;if(g&&P(q)&&(!("description"in tt)||q().description!==void 0)){var J={},ot=function(){var Ot=arguments.length<1||arguments[0]===void 0?void 0:C(arguments[0]),ee=k(tt,this)?new q(Ot):Ot===void 0?q():q(Ot);return Ot===""&&(J[ee]=!0),ee};it(ot,q),ot.prototype=tt,tt.constructor=ot;var ct=String(q("test"))=="Symbol(test)",wt=b(tt.toString),nt=b(tt.valueOf),F=/^Symbol\((.*)\)[^)]+$/,bt=b("".replace),jt=b("".slice);z(tt,"description",{configurable:!0,get:function(){var Ot=nt(this),ee=wt(Ot);if(M(J,Ot))return"";var Dt=ct?jt(ee,7,-1):bt(ee,F,"$1");return Dt===""?void 0:Dt}}),p({global:!0,forced:!0},{Symbol:ot})}},e163:function(c,d,u){var p=u("da84"),g=u("1a2d"),E=u("1626"),b=u("7b0b"),M=u("f772"),P=u("e177"),k=M("IE_PROTO"),C=p.Object,z=C.prototype;c.exports=P?C.getPrototypeOf:function(it){var q=b(it);if(g(q,k))return q[k];var tt=q.constructor;return E(tt)&&q instanceof tt?tt.prototype:q instanceof C?z:null}},e177:function(c,d,u){var p=u("d039");c.exports=!p(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},e260:function(c,d,u){var p=u("fc6a"),g=u("44d2"),E=u("3f8c"),b=u("69f3"),M=u("9bf2").f,P=u("7dd0"),k=u("c430"),C=u("83ab"),z="Array Iterator",it=b.set,q=b.getterFor(z);c.exports=P(Array,"Array",function(J,ot){it(this,{type:z,target:p(J),index:0,kind:ot})},function(){var J=q(this),ot=J.target,ct=J.kind,wt=J.index++;return!ot||wt>=ot.length?(J.target=void 0,{value:void 0,done:!0}):ct=="keys"?{value:wt,done:!1}:ct=="values"?{value:ot[wt],done:!1}:{value:[wt,ot[wt]],done:!1}},"values");var tt=E.Arguments=E.Array;if(g("keys"),g("values"),g("entries"),!k&&C&&tt.name!=="values")try{M(tt,"name",{value:"values"})}catch{}},e269:function(c,d,u){var p=u("cef7"),g=u("7b4f"),E=u("35a7"),b=u("38f3"),M=u("1300"),P=function(){var z=function(it,q){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,J){tt.__proto__=J}||function(tt,J){for(var ot in J)Object.prototype.hasOwnProperty.call(J,ot)&&(tt[ot]=J[ot])},z(it,q)};return function(it,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");z(it,q);function tt(){this.constructor=it}it.prototype=q===null?Object.create(q):(tt.prototype=q.prototype,new tt)}}(),k=function(z){P(it,z);function it(q,tt,J){var ot=z.call(this,q)||this;return ot.key=tt,ot.oldValue=J,ot}return it}(p.a),C=function(z){P(it,z);function it(q){var tt=z.call(this)||this;return tt.on,tt.once,tt.un,Object(M.c)(tt),tt.values_=null,q!==void 0&&tt.setProperties(q),tt}return it.prototype.get=function(q){var tt;return this.values_&&this.values_.hasOwnProperty(q)&&(tt=this.values_[q]),tt},it.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},it.prototype.getProperties=function(){return this.values_&&Object(b.a)({},this.values_)||{}},it.prototype.hasProperties=function(){return!!this.values_},it.prototype.notify=function(q,tt){var J;J="change:"+q,this.dispatchEvent(new k(J,q,tt)),J=g.a.PROPERTYCHANGE,this.dispatchEvent(new k(J,q,tt))},it.prototype.addChangeListener=function(q,tt){this.addEventListener("change:"+q,tt)},it.prototype.removeChangeListener=function(q,tt){this.removeEventListener("change:"+q,tt)},it.prototype.set=function(q,tt,J){var ot=this.values_||(this.values_={});if(J)ot[q]=tt;else{var ct=ot[q];ot[q]=tt,ct!==tt&&this.notify(q,ct)}},it.prototype.setProperties=function(q,tt){for(var J in q)this.set(J,q[J],tt)},it.prototype.applyProperties=function(q){!q.values_||Object(b.a)(this.values_||(this.values_={}),q.values_)},it.prototype.unset=function(q,tt){if(this.values_&&q in this.values_){var J=this.values_[q];delete this.values_[q],Object(b.d)(this.values_)&&(this.values_=null),tt||this.notify(q,J)}},it}(E.a);d.a=C},e330:function(c,d,u){var p=u("40d5"),g=Function.prototype,E=g.bind,b=g.call,M=p&&E.bind(b,b);c.exports=p?function(P){return P&&M(P)}:function(P){return P&&function(){return b.apply(P,arguments)}}},e391:function(c,d,u){var p=u("577e");c.exports=function(g,E){return g===void 0?arguments.length<2?"":E:p(g)}},e3db:function(c,d){var u={}.toString;c.exports=Array.isArray||function(p){return u.call(p)=="[object Array]"}},e439:function(c,d,u){var p=u("23e7"),g=u("d039"),E=u("fc6a"),b=u("06cf").f,M=u("83ab"),P=g(function(){b(1)}),k=!M||P;p({target:"Object",stat:!0,forced:k,sham:!M},{getOwnPropertyDescriptor:function(z,it){return b(E(z),it)}})},e4e0:function(c,d,u){(function(p){u.d(d,"a",function(){return b});var g=u("1300"),E=function(){var M=function(P,k){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,z){C.__proto__=z}||function(C,z){for(var it in z)Object.prototype.hasOwnProperty.call(z,it)&&(C[it]=z[it])},M(P,k)};return function(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");M(P,k);function C(){this.constructor=P}P.prototype=k===null?Object.create(k):(C.prototype=k.prototype,new C)}}();function b(M,P,k,C){var z=document.createElement("script"),it="olc_"+Object(g.c)(P);function q(){delete window[it],z.parentNode.removeChild(z)}z.async=!0,z.src=M+(M.indexOf("?")==-1?"?":"&")+(C||"callback")+"="+it;var tt=setTimeout(function(){q(),k&&k()},1e4);window[it]=function(J){clearTimeout(tt),q(),P(J)},document.getElementsByTagName("head")[0].appendChild(z)}(function(M){E(P,M);function P(k){var C=this,z="Unexpected response status: "+k.status;return C=M.call(this,z)||this,C.name="ResponseError",C.response=k,C}return P})(Error),function(M){E(P,M);function P(k){var C=M.call(this,"Failed to issue request")||this;return C.name="ClientError",C.client=k,C}return P}(Error)}).call(this,u("c8ba"))},e538:function(c,d,u){var p=u("b622");d.f=p},e5cb:function(c,d,u){var p=u("d066"),g=u("1a2d"),E=u("9112"),b=u("3a9b"),M=u("d2bb"),P=u("e893"),k=u("7156"),C=u("e391"),z=u("ab36"),it=u("c770"),q=u("b980"),tt=u("c430");c.exports=function(J,ot,ct,wt){var nt=wt?2:1,F=J.split("."),bt=F[F.length-1],jt=p.apply(null,F);if(!!jt){var te=jt.prototype;if(!tt&&g(te,"cause")&&delete te.cause,!ct)return jt;var Ot=p("Error"),ee=ot(function(Dt,Wt){var le=C(wt?Wt:Dt,void 0),ye=wt?new jt(Dt):new jt;return le!==void 0&&E(ye,"message",le),q&&E(ye,"stack",it(ye.stack,2)),this&&b(te,this)&&k(ye,this,ee),arguments.length>nt&&z(ye,arguments[nt]),ye});if(ee.prototype=te,bt!=="Error"&&(M?M(ee,Ot):P(ee,Ot,{name:!0})),P(ee,jt),!tt)try{te.name!==bt&&E(te,"name",bt),te.constructor=ee}catch{}return ee}}},e893:function(c,d,u){var p=u("1a2d"),g=u("56ef"),E=u("06cf"),b=u("9bf2");c.exports=function(M,P,k){for(var C=g(P),z=b.f,it=E.f,q=0;q<C.length;q++){var tt=C[q];!p(M,tt)&&!(k&&p(k,tt))&&z(M,tt,it(P,tt))}}},e8b5:function(c,d,u){var p=u("c6b6");c.exports=Array.isArray||function(E){return p(E)=="Array"}},e95a:function(c,d,u){var p=u("b622"),g=u("3f8c"),E=p("iterator"),b=Array.prototype;c.exports=function(M){return M!==void 0&&(g.Array===M||b[E]===M)}},f36a:function(c,d,u){var p=u("e330");c.exports=p([].slice)},f5df:function(c,d,u){var p=u("da84"),g=u("00ee"),E=u("1626"),b=u("c6b6"),M=u("b622"),P=M("toStringTag"),k=p.Object,C=b(function(){return arguments}())=="Arguments",z=function(it,q){try{return it[q]}catch{}};c.exports=g?b:function(it){var q,tt,J;return it===void 0?"Undefined":it===null?"Null":typeof(tt=z(q=k(it),P))=="string"?tt:C?b(q):(J=b(q))=="Object"&&E(q.callee)?"Arguments":J}},f772:function(c,d,u){var p=u("5692"),g=u("90e3"),E=p("keys");c.exports=function(b){return E[b]||(E[b]=g(b))}},f8c9:function(c,d,u){var p=u("23e7"),g=u("da84"),E=u("d44e");p({global:!0},{Reflect:{}}),E(g.Reflect,"Reflect",!0)},fb15:function(c,d,u){u.r(d),u.d(d,"install",function(){return cg}),u.d(d,"Map",function(){return b}),u.d(d,"Layers",function(){return P}),u.d(d,"Sources",function(){return k}),u.d(d,"MapControls",function(){return C}),u.d(d,"Geometries",function(){return z}),u.d(d,"Styles",function(){return it}),u.d(d,"Interactions",function(){return q}),u.d(d,"Animations",function(){return tt});var p={};u.r(p),u.d(p,"boundingExtent",function(){return Tt}),u.d(p,"buffer",function(){return Rt}),u.d(p,"clone",function(){return Qt}),u.d(p,"closestSquaredDistanceXY",function(){return $t}),u.d(p,"containsCoordinate",function(){return he}),u.d(p,"containsExtent",function(){return Pe}),u.d(p,"containsXY",function(){return Ue}),u.d(p,"coordinateRelationship",function(){return Gt}),u.d(p,"createEmpty",function(){return at}),u.d(p,"createOrUpdate",function(){return $}),u.d(p,"createOrUpdateEmpty",function(){return Q}),u.d(p,"createOrUpdateFromCoordinate",function(){return dt}),u.d(p,"createOrUpdateFromCoordinates",function(){return ue}),u.d(p,"createOrUpdateFromFlatCoordinates",function(){return De}),u.d(p,"createOrUpdateFromRings",function(){return We}),u.d(p,"equals",function(){return Pr}),u.d(p,"approximatelyEquals",function(){return tn}),u.d(p,"extend",function(){return ln}),u.d(p,"extendCoordinate",function(){return Fn}),u.d(p,"extendCoordinates",function(){return qn}),u.d(p,"extendFlatCoordinates",function(){return Ci}),u.d(p,"extendRings",function(){return ao}),u.d(p,"extendXY",function(){return Kn}),u.d(p,"forEachCorner",function(){return ui}),u.d(p,"getArea",function(){return Li}),u.d(p,"getBottomLeft",function(){return _n}),u.d(p,"getBottomRight",function(){return uo}),u.d(p,"getCenter",function(){return zn}),u.d(p,"getCorner",function(){return Na}),u.d(p,"getEnlargedArea",function(){return Wo}),u.d(p,"getForViewAndSize",function(){return Ji}),u.d(p,"getHeight",function(){return on}),u.d(p,"getIntersectionArea",function(){return fr}),u.d(p,"getIntersection",function(){return rn}),u.d(p,"getMargin",function(){return Ln}),u.d(p,"getSize",function(){return hi}),u.d(p,"getTopLeft",function(){return bi}),u.d(p,"getTopRight",function(){return Tn}),u.d(p,"getWidth",function(){return en}),u.d(p,"intersects",function(){return Ti}),u.d(p,"isEmpty",function(){return Io}),u.d(p,"returnOrUpdate",function(){return ya}),u.d(p,"scaleFromCenter",function(){return ei}),u.d(p,"intersectsSegment",function(){return zl}),u.d(p,"applyTransform",function(){return Ts}),u.d(p,"wrapX",function(){return Bs});var g={};u.r(g),u.d(g,"easeIn",function(){return cr}),u.d(g,"easeOut",function(){return Vr}),u.d(g,"inAndOut",function(){return Qr}),u.d(g,"linear",function(){return Kr}),u.d(g,"upAndDown",function(){return $r});var E={};u.r(E),u.d(E,"all",function(){return $c}),u.d(E,"altKeyOnly",function(){return Jh}),u.d(E,"altShiftKeysOnly",function(){return Zc}),u.d(E,"focus",function(){return Av}),u.d(E,"focusWithTabindex",function(){return Ip}),u.d(E,"always",function(){return nh}),u.d(E,"click",function(){return Om}),u.d(E,"mouseActionButton",function(){return Np}),u.d(E,"never",function(){return Fp}),u.d(E,"pointerMove",function(){return Tm}),u.d(E,"singleClick",function(){return Pu}),u.d(E,"doubleClick",function(){return Iu}),u.d(E,"noModifierKeys",function(){return tu}),u.d(E,"platformModifierKeyOnly",function(){return bm}),u.d(E,"shiftKeyOnly",function(){return Jc}),u.d(E,"targetNotEditable",function(){return n0}),u.d(E,"mouseOnly",function(){return as}),u.d(E,"touchOnly",function(){return Am}),u.d(E,"penOnly",function(){return Mm}),u.d(E,"primaryAction",function(){return qh});var b={};u.r(b),u.d(b,"default",function(){return oM}),u.d(b,"install",function(){return t2}),u.d(b,"Map",function(){return xo}),u.d(b,"View",function(){return Ai}),u.d(b,"Feature",function(){return Va}),u.d(b,"Overlay",function(){return ah}),u.d(b,"GeoLocation",function(){return nd}),u.d(b,"Projection",function(){return $m});var M={};u.r(M),u.d(M,"all",function(){return E8}),u.d(M,"bbox",function(){return zC}),u.d(M,"tile",function(){return VC});var P={};u.r(P),u.d(P,"default",function(){return cL}),u.d(P,"install",function(){return S2}),u.d(P,"TileLayer",function(){return Qm}),u.d(P,"WebGLTileLayer",function(){return hy}),u.d(P,"ImageLayer",function(){return dy}),u.d(P,"VectorLayer",function(){return Ey}),u.d(P,"AnimatedClusterLayer",function(){return wy}),u.d(P,"WebglPointsLayer",function(){return xy});var k={};u.r(k),u.d(k,"default",function(){return bP}),u.d(k,"install",function(){return M2}),u.d(k,"SourceXYZ",function(){return by}),u.d(k,"SourceOSM",function(){return Ay}),u.d(k,"SourceImageStatic",function(){return Cy}),u.d(k,"SourceWMTS",function(){return Py}),u.d(k,"SourceVector",function(){return Iy}),u.d(k,"SourceCluster",function(){return Ny}),u.d(k,"SourceTianDiTu",function(){return Dy}),u.d(k,"SourceImageWMS",function(){return jy}),u.d(k,"SourceWebglPoints",function(){return Gy});var C={};u.r(C),u.d(C,"default",function(){return SN}),u.d(C,"install",function(){return F2}),u.d(C,"FullScreenControl",function(){return Uy}),u.d(C,"MousePositionControl",function(){return zy}),u.d(C,"AttributionControl",function(){return Vy}),u.d(C,"OverviewMapControl",function(){return Hy}),u.d(C,"ScaleLineControl",function(){return Ky}),u.d(C,"ZoomControl",function(){return $y}),u.d(C,"ZoomSliderControl",function(){return Zy}),u.d(C,"ZoomToExtentControl",function(){return Jy}),u.d(C,"ContextMenuControl",function(){return qy}),u.d(C,"SwipeControl",function(){return Qy}),u.d(C,"ControlBar",function(){return t5}),u.d(C,"ToggleControl",function(){return r5}),u.d(C,"ButtonControl",function(){return n5}),u.d(C,"PrintDialog",function(){return s5}),u.d(C,"VideoRecorderControl",function(){return l5}),u.d(C,"LayerSwitcherControl",function(){return I2}),u.d(C,"LayerSwitcherImageControl",function(){return c5}),u.d(C,"ZoneControl",function(){return f5});var z={};u.r(z),u.d(z,"default",function(){return UN}),u.d(z,"install",function(){return j2}),u.d(z,"Point",function(){return h5}),u.d(z,"LineString",function(){return d5}),u.d(z,"Polygon",function(){return p5}),u.d(z,"MultiPoint",function(){return v5}),u.d(z,"MultiLineString",function(){return g5}),u.d(z,"MultiPolygon",function(){return m5});var it={};u.r(it),u.d(it,"default",function(){return uF}),u.d(it,"install",function(){return U2}),u.d(it,"Style",function(){return x5}),u.d(it,"Stroke",function(){return T5}),u.d(it,"Fill",function(){return b5}),u.d(it,"Icon",function(){return A5}),u.d(it,"Text",function(){return M5}),u.d(it,"FlowLine",function(){return R5}),u.d(it,"Circle",function(){return O5});var q={};u.r(q),u.d(q,"default",function(){return DF}),u.d(q,"install",function(){return V2}),u.d(q,"SelectInteraction",function(){return C5}),u.d(q,"ClusterSelectInteraction",function(){return L5}),u.d(q,"DrawInteraction",function(){return P5}),u.d(q,"SnapInteraction",function(){return I5}),u.d(q,"ModifyInteraction",function(){return N5}),u.d(q,"TransformInteraction",function(){return F5}),u.d(q,"DragRotateAndZoomInteraction",function(){return D5});var tt={};u.r(tt),u.d(tt,"default",function(){return sD}),u.d(tt,"install",function(){return W2}),u.d(tt,"FeatureAnimation",function(){return G0}),u.d(tt,"DropAnimation",function(){return G5}),u.d(tt,"ShakeAnimation",function(){return U5}),u.d(tt,"ZoomAnimation",function(){return k5}),u.d(tt,"TeleportAnimation",function(){return V5}),u.d(tt,"FadeAnimation",function(){return H5}),u.d(tt,"PathAnimation",function(){return $5}),u.d(tt,"SlideAnimation",function(){return X5});var J={};u.r(J),u.d(J,"Circle",function(){return y5}),u.d(J,"Geometry",function(){return ro}),u.d(J,"GeometryCollection",function(){return yl}),u.d(J,"LinearRing",function(){return bu}),u.d(J,"LineString",function(){return Xo}),u.d(J,"MultiLineString",function(){return au}),u.d(J,"MultiPoint",function(){return h0}),u.d(J,"MultiPolygon",function(){return ml}),u.d(J,"Point",function(){return Ii}),u.d(J,"Polygon",function(){return so}),u.d(J,"SimpleGeometry",function(){return Mo});var ot={};if(u.r(ot),u.d(ot,"EsriJSON",function(){return MD}),u.d(ot,"GeoJSON",function(){return HD}),u.d(ot,"GML",function(){return aj}),u.d(ot,"GPX",function(){return Uj}),u.d(ot,"IGC",function(){return $j}),u.d(ot,"IIIFInfo",function(){return rG}),u.d(ot,"KML",function(){return kB}),u.d(ot,"MVT",function(){return JB}),u.d(ot,"OWS",function(){return r9}),u.d(ot,"Polyline",function(){return kU}),u.d(ot,"TopoJSON",function(){return tk}),u.d(ot,"WFS",function(){return Kk}),u.d(ot,"WKB",function(){return tz}),u.d(ot,"WKT",function(){return pz}),u.d(ot,"WMSCapabilities",function(){return Zz}),u.d(ot,"WMSGetFeatureInfo",function(){return eV}),u.d(ot,"WMTSCapabilities",function(){return bV}),typeof window!="undefined"){var ct=window.document.currentScript;{var wt=u("8875");ct=wt(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:wt})}var nt=ct&&ct.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);nt&&(u.p=nt[1])}u("b0c0");var F=u("8bbf");function bt(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",{ref:function(l){return e.mapRef=l}},[Object(F.renderSlot)(n.$slots,"default")],512)}u("a9e3");var jt=u("da5c"),te=u("57cb"),Ot=u("1300"),ee=u("617d"),Dt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wt=function(n){Dt(r,n);function r(t){var e=this,i=Ot.a==="latest"?Ot.a:"v"+Ot.a.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return e=n.call(this,o)||this,e.code=t,e.name="AssertionError",e.message=o,e}return r}(Error),le=Wt;function ye(n,r){if(!n)throw new le(r)}var Qe=new Array(6);function mt(){return[1,0,0,1,0,0]}function Kt(n){return Sr(n,1,0,0,1,0,0)}function ae(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],s=n[4],l=n[5],f=r[0],h=r[1],v=r[2],w=r[3],R=r[4],B=r[5];return n[0]=t*f+i*h,n[1]=e*f+o*h,n[2]=t*v+i*w,n[3]=e*v+o*w,n[4]=t*R+i*B+s,n[5]=e*R+o*B+l,n}function Sr(n,r,t,e,i,o,s){return n[0]=r,n[1]=t,n[2]=e,n[3]=i,n[4]=o,n[5]=s,n}function xr(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function ar(n,r){var t=r[0],e=r[1];return r[0]=n[0]*t+n[2]*e+n[4],r[1]=n[1]*t+n[3]*e+n[5],r}function jr(n,r){var t=Math.cos(r),e=Math.sin(r);return ae(n,Sr(Qe,t,e,-e,t,0,0))}function Xr(n,r,t){return ae(n,Sr(Qe,r,0,0,t,0,0))}function wn(n,r,t){return Sr(n,r,0,0,t,0,0)}function _e(n,r,t){return ae(n,Sr(Qe,1,0,0,1,r,t))}function er(n,r,t,e,i,o,s,l){var f=Math.sin(o),h=Math.cos(o);return n[0]=e*h,n[1]=i*f,n[2]=-e*f,n[3]=i*h,n[4]=s*e*h-l*e*f+r,n[5]=s*i*f+l*i*h+t,n}function _r(n,r){var t=Fr(r);ye(t!==0,32);var e=r[0],i=r[1],o=r[2],s=r[3],l=r[4],f=r[5];return n[0]=s/t,n[1]=-i/t,n[2]=-o/t,n[3]=e/t,n[4]=(o*f-s*l)/t,n[5]=-(e*f-i*l)/t,n}function Fr(n){return n[0]*n[3]-n[1]*n[2]}var jn;function Ur(n){var r="matrix("+n.join(", ")+")";if(ee.g)return r;var t=jn||(jn=document.createElement("div"));return t.style.transform=r,t.style.transform}var Vt={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ie={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Tt(n){for(var r=at(),t=0,e=n.length;t<e;++t)Fn(r,n[t]);return r}function ft(n,r,t){var e=Math.min.apply(null,n),i=Math.min.apply(null,r),o=Math.max.apply(null,n),s=Math.max.apply(null,r);return $(e,i,o,s,t)}function Rt(n,r,t){return t?(t[0]=n[0]-r,t[1]=n[1]-r,t[2]=n[2]+r,t[3]=n[3]+r,t):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function Qt(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function $t(n,r,t){var e,i;return r<n[0]?e=n[0]-r:n[2]<r?e=r-n[2]:e=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,e*e+i*i}function he(n,r){return Ue(n,r[0],r[1])}function Pe(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function Ue(n,r,t){return n[0]<=r&&r<=n[2]&&n[1]<=t&&t<=n[3]}function Gt(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],s=r[0],l=r[1],f=ie.UNKNOWN;return s<t?f=f|ie.LEFT:s>i&&(f=f|ie.RIGHT),l<e?f=f|ie.BELOW:l>o&&(f=f|ie.ABOVE),f===ie.UNKNOWN&&(f=ie.INTERSECTING),f}function at(){return[1/0,1/0,-1/0,-1/0]}function $(n,r,t,e,i){return i?(i[0]=n,i[1]=r,i[2]=t,i[3]=e,i):[n,r,t,e]}function Q(n){return $(1/0,1/0,-1/0,-1/0,n)}function dt(n,r){var t=n[0],e=n[1];return $(t,e,t,e,r)}function ue(n,r){var t=Q(r);return qn(t,n)}function De(n,r,t,e,i){var o=Q(i);return Ci(o,n,r,t,e)}function We(n,r){var t=Q(r);return ao(t,n)}function Pr(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function tn(n,r,t){return Math.abs(n[0]-r[0])<t&&Math.abs(n[2]-r[2])<t&&Math.abs(n[1]-r[1])<t&&Math.abs(n[3]-r[3])<t}function ln(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function Fn(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function qn(n,r){for(var t=0,e=r.length;t<e;++t)Fn(n,r[t]);return n}function Ci(n,r,t,e,i){for(;t<e;t+=i)Kn(n,r[t],r[t+1]);return n}function ao(n,r){for(var t=0,e=r.length;t<e;++t)qn(n,r[t]);return n}function Kn(n,r,t){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],t)}function ui(n,r){var t;return t=r(_n(n)),t||(t=r(uo(n)),t)||(t=r(Tn(n)),t)||(t=r(bi(n)),t)?t:!1}function Li(n){var r=0;return Io(n)||(r=en(n)*on(n)),r}function _n(n){return[n[0],n[1]]}function uo(n){return[n[2],n[1]]}function zn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Na(n,r){var t;return r===Vt.BOTTOM_LEFT?t=_n(n):r===Vt.BOTTOM_RIGHT?t=uo(n):r===Vt.TOP_LEFT?t=bi(n):r===Vt.TOP_RIGHT?t=Tn(n):ye(!1,13),t}function Wo(n,r){var t=Math.min(n[0],r[0]),e=Math.min(n[1],r[1]),i=Math.max(n[2],r[2]),o=Math.max(n[3],r[3]);return(i-t)*(o-e)}function Ji(n,r,t,e,i){var o=r*e[0]/2,s=r*e[1]/2,l=Math.cos(t),f=Math.sin(t),h=o*l,v=o*f,w=s*l,R=s*f,B=n[0],V=n[1],et=B-h+R,vt=B-h-R,Ct=B+h-R,kt=B+h+R,Ht=V-v-w,Nt=V-v+w,ve=V+v+w,de=V+v-w;return $(Math.min(et,vt,Ct,kt),Math.min(Ht,Nt,ve,de),Math.max(et,vt,Ct,kt),Math.max(Ht,Nt,ve,de),i)}function on(n){return n[3]-n[1]}function fr(n,r){var t=rn(n,r);return Li(t)}function rn(n,r,t){var e=t||at();return Ti(n,r)?(n[0]>r[0]?e[0]=n[0]:e[0]=r[0],n[1]>r[1]?e[1]=n[1]:e[1]=r[1],n[2]<r[2]?e[2]=n[2]:e[2]=r[2],n[3]<r[3]?e[3]=n[3]:e[3]=r[3]):Q(e),e}function Ln(n){return en(n)+on(n)}function hi(n){return[n[2]-n[0],n[3]-n[1]]}function bi(n){return[n[0],n[3]]}function Tn(n){return[n[2],n[3]]}function en(n){return n[2]-n[0]}function Ti(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function Io(n){return n[2]<n[0]||n[3]<n[1]}function ya(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function ei(n,r){var t=(n[2]-n[0])/2*(r-1),e=(n[3]-n[1])/2*(r-1);n[0]-=t,n[2]+=t,n[1]-=e,n[3]+=e}function zl(n,r,t){var e=!1,i=Gt(n,r),o=Gt(n,t);if(i===ie.INTERSECTING||o===ie.INTERSECTING)e=!0;else{var s=n[0],l=n[1],f=n[2],h=n[3],v=r[0],w=r[1],R=t[0],B=t[1],V=(B-w)/(R-v),et=void 0,vt=void 0;!!(o&ie.ABOVE)&&!(i&ie.ABOVE)&&(et=R-(B-h)/V,e=et>=s&&et<=f),!e&&!!(o&ie.RIGHT)&&!(i&ie.RIGHT)&&(vt=B-(R-f)*V,e=vt>=l&&vt<=h),!e&&!!(o&ie.BELOW)&&!(i&ie.BELOW)&&(et=R-(B-l)/V,e=et>=s&&et<=f),!e&&!!(o&ie.LEFT)&&!(i&ie.LEFT)&&(vt=B-(R-s)*V,e=vt>=l&&vt<=h)}return e}function Ts(n,r,t,e){var i=[];if(e>1)for(var o=n[2]-n[0],s=n[3]-n[1],l=0;l<e;++l)i.push(n[0]+o*l/e,n[1],n[2],n[1]+s*l/e,n[2]-o*l/e,n[3],n[0],n[3]-s*l/e);else i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];r(i,i,2);for(var f=[],h=[],l=0,v=i.length;l<v;l+=2)f.push(i[l]),h.push(i[l+1]);return ft(f,h,t)}function Bs(n,r){var t=r.getExtent(),e=zn(n);if(r.canWrapX()&&(e[0]<t[0]||e[0]>=t[2])){var i=en(t),o=Math.floor((e[0]-t[0])/i),s=o*i;n[0]-=s,n[2]-=s}return n}function co(n,r,t){return Math.min(Math.max(n,r),t)}var Yu=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(r){var t=Math.exp(r);return(t+1/t)/2},n}(),Za=function(){var n;return"log2"in Math?n=Math.log2:n=function(r){return Math.log(r)*Math.LOG2E},n}();function Ja(n,r,t,e,i,o){var s=i-t,l=o-e;if(s!==0||l!==0){var f=((n-t)*s+(r-e)*l)/(s*s+l*l);f>1?(t=i,e=o):f>0&&(t+=s*f,e+=l*f)}return _a(n,r,t,e)}function _a(n,r,t,e){var i=t-n,o=e-r;return i*i+o*o}function tl(n){for(var r=n.length,t=0;t<r;t++){for(var e=t,i=Math.abs(n[t][t]),o=t+1;o<r;o++){var s=Math.abs(n[o][t]);s>i&&(i=s,e=o)}if(i===0)return null;var l=n[e];n[e]=n[t],n[t]=l;for(var f=t+1;f<r;f++)for(var h=-n[f][t]/n[t][t],v=t;v<r+1;v++)t==v?n[f][v]=0:n[f][v]+=h*n[t][v]}for(var w=new Array(r),R=r-1;R>=0;R--){w[R]=n[R][r]/n[R][R];for(var B=R-1;B>=0;B--)n[B][r]-=n[B][R]*w[R]}return w}function Xu(n){return n*180/Math.PI}function qo(n){return n*Math.PI/180}function Us(n,r){var t=n%r;return t*r<0?t+r:t}function el(n,r,t){return n+t*(r-n)}function H0(n,r){var t=Math.pow(10,r);return Math.round(n*t)/t}function Sc(n,r){return Math.round(H0(n,r))}function Vl(n,r){return Math.floor(H0(n,r))}function Fa(n,r){return Math.ceil(H0(n,r))}var Qo=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,rl=/^([a-z]*)$|^hsla?\(.*\)$/i;function _o(n){return typeof n=="string"?n:qa(n)}function mu(n){var r=document.createElement("div");if(r.style.color=n,r.style.color!==""){document.body.appendChild(r);var t=getComputedStyle(r).color;return document.body.removeChild(r),t}else return""}var jo=function(){var n=1024,r={},t=0;return function(e){var i;if(r.hasOwnProperty(e))i=r[e];else{if(t>=n){var o=0;for(var s in r)(o++&3)===0&&(delete r[s],--t)}i=ks(e),r[e]=i,++t}return i}}();function fa(n){return Array.isArray(n)?n:jo(n)}function ks(n){var r,t,e,i,o;if(rl.exec(n)&&(n=mu(n)),Qo.exec(n)){var s=n.length-1,l=void 0;s<=4?l=1:l=2;var f=s===4||s===8;r=parseInt(n.substr(1+0*l,l),16),t=parseInt(n.substr(1+1*l,l),16),e=parseInt(n.substr(1+2*l,l),16),f?i=parseInt(n.substr(1+3*l,l),16):i=255,l==1&&(r=(r<<4)+r,t=(t<<4)+t,e=(e<<4)+e,f&&(i=(i<<4)+i)),o=[r,t,e,i/255]}else n.indexOf("rgba(")==0?(o=n.slice(5,-1).split(",").map(Number),Ku(o)):n.indexOf("rgb(")==0?(o=n.slice(4,-1).split(",").map(Number),o.push(1),Ku(o)):ye(!1,14);return o}function Ku(n){return n[0]=co(n[0]+.5|0,0,255),n[1]=co(n[1]+.5|0,0,255),n[2]=co(n[2]+.5|0,0,255),n[3]=co(n[3],0,1),n}function qa(n){var r=n[0];r!=(r|0)&&(r=r+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var e=n[2];e!=(e|0)&&(e=e+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+r+","+t+","+e+","+i+")"}function yu(n){return rl.test(n)&&(n=mu(n)),Qo.test(n)||n.indexOf("rgba(")===0||n.indexOf("rgb(")===0}var $u=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var t in this.cache_){var e=this.cache_[t];(r++&3)===0&&!e.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(r,t,e){var i=m0(r,t,e);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(r,t,e,i){var o=m0(r,t,e);this.cache_[o]=i,++this.cacheSize_},n.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},n}();function m0(n,r,t){var e=t?_o(t):"null";return r+":"+n+":"+e}var $o=new $u,go=u("e269"),Bi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},pn=u("38f3"),y0=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hf=function(n){y0(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.background_=t.background;var i=Object(pn.a)({},t);return typeof t.properties=="object"&&(delete i.properties,Object(pn.a)(i,t.properties)),i[Bi.OPACITY]=t.opacity!==void 0?t.opacity:1,ye(typeof i[Bi.OPACITY]=="number",64),i[Bi.VISIBLE]=t.visible!==void 0?t.visible:!0,i[Bi.Z_INDEX]=t.zIndex,i[Bi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[Bi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[Bi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[Bi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,e.className_=i.className!==void 0?t.className:"ol-layer",delete i.className,e.setProperties(i),e.state_=null,e}return r.prototype.getBackground=function(){return this.background_},r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return e.opacity=co(Math.round(this.getOpacity()*100)/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(t){return Object(Ot.b)()},r.prototype.getLayerStatesArray=function(t){return Object(Ot.b)()},r.prototype.getExtent=function(){return this.get(Bi.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(Bi.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(Bi.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(Bi.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(Bi.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(Bi.OPACITY)},r.prototype.getSourceState=function(){return Object(Ot.b)()},r.prototype.getVisible=function(){return this.get(Bi.VISIBLE)},r.prototype.getZIndex=function(){return this.get(Bi.Z_INDEX)},r.prototype.setBackground=function(t){this.background_=t,this.changed()},r.prototype.setExtent=function(t){this.set(Bi.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(Bi.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(Bi.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(Bi.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(Bi.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){ye(typeof t=="number",64),this.set(Bi.OPACITY,t)},r.prototype.setVisible=function(t){this.set(Bi.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(Bi.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},r}(go.a),hs=Hf,un=u("01d4"),No={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},li={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Hr=u("1e8d"),Yf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qa=function(n){Yf(r,n);function r(t){var e=this,i=Object(pn.a)({},t);delete i.source,e=n.call(this,i)||this,e.on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(Bi.SOURCE,e.handleSourcePropertyChange_);var o=t.source?t.source:null;return e.setSource(o),e}return r.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},r.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},r.prototype.getSource=function(){return this.get(Bi.SOURCE)||null},r.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():li.UNDEFINED},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(Hr.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(Hr.a)(t,un.a.CHANGE,this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(e){return e([])})},r.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},r.prototype.setMapInternal=function(t){this.set(Bi.MAP,t)},r.prototype.getMapInternal=function(){return this.get(Bi.MAP)},r.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(Hr.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(Hr.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(Hr.a)(t,No.PRECOMPOSE,function(e){var i=e,o=i.frameState.layerStatesArray,s=this.getLayerState(!1);ye(!o.some(function(l){return l.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=Object(Hr.a)(this,un.a.CHANGE,t.render,t),this.changed())},r.prototype.setSource=function(t){this.set(Bi.SOURCE,t)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},r}(hs);function L(n,r){if(!n.visible)return!1;var t=r.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var e=r.zoom;return e>n.minZoom&&e<=n.maxZoom}var O=Qa;function T(n,r,t){var e=t!==void 0?n.toFixed(t):""+n,i=e.indexOf(".");return i=i===-1?e.length:i,i>r?e:new Array(1+r-i).join("0")+e}function N(n,r){for(var t=(""+n).split("."),e=(""+r).split("."),i=0;i<Math.max(t.length,e.length);i++){var o=parseInt(t[i]||"0",10),s=parseInt(e[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}function W(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function D(n,r){var t=r.getRadius(),e=r.getCenter(),i=e[0],o=e[1],s=n[0],l=n[1],f=s-i,h=l-o;f===0&&h===0&&(f=1);var v=Math.sqrt(f*f+h*h),w=i+t*f/v,R=o+t*h/v;return[w,R]}function X(n,r){var t=n[0],e=n[1],i=r[0],o=r[1],s=i[0],l=i[1],f=o[0],h=o[1],v=f-s,w=h-l,R=v===0&&w===0?0:(v*(t-s)+w*(e-l))/(v*v+w*w||0),B,V;return R<=0?(B=s,V=l):R>=1?(B=f,V=h):(B=s+R*v,V=l+R*w),[B,V]}function rt(n,r){for(var t=!0,e=n.length-1;e>=0;--e)if(n[e]!=r[e]){t=!1;break}return t}function st(n,r){var t=Math.cos(r),e=Math.sin(r),i=n[0]*t-n[1]*e,o=n[1]*t+n[0]*e;return n[0]=i,n[1]=o,n}function _t(n,r){return n[0]*=r,n[1]*=r,n}function Bt(n,r){var t=n[0]-r[0],e=n[1]-r[1];return t*t+e*e}function Ut(n,r){return Math.sqrt(Bt(n,r))}function Xt(n,r){return Bt(n,X(n,r))}function pt(n,r){if(r.canWrapX()){var t=en(r.getExtent()),e=ce(n,r,t);e&&(n[0]-=e*t)}return n}function ce(n,r,t){var e=r.getExtent(),i=0;if(r.canWrapX()&&(n[0]<e[0]||n[0]>e[2])){var o=t||en(e);i=Math.floor((n[0]-e[0])/o)}return i}var ne=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Te=function(n){ne(r,n);function r(t){var e=n.call(this)||this;return e.map_=t,e}return r.prototype.dispatchRenderEvent=function(t,e){Object(Ot.b)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;er(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),_r(o,i)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,s,l,f,h){var v,w=e.viewState;function R(Sn,Rn,Nn,gi){return s.call(l,Rn,Sn?Nn:null,gi)}var B=w.projection,V=pt(t.slice(),B),et=[[0,0]];if(B.canWrapX()&&o){var vt=B.getExtent(),Ct=en(vt);et.push([-Ct,0],[Ct,0])}for(var kt=e.layerStatesArray,Ht=kt.length,Nt=[],ve=[],de=0;de<et.length;de++)for(var Oe=Ht-1;Oe>=0;--Oe){var Se=kt[Oe],Fe=Se.layer;if(Fe.hasRenderer()&&L(Se,w)&&f.call(h,Fe)){var wr=Fe.getRenderer(),hr=Fe.getSource();if(wr&&hr){var Ke=hr.getWrapX()?V:t,Ir=R.bind(null,Se.managed);ve[0]=Ke[0]+et[de][0],ve[1]=Ke[1]+et[de][1],v=wr.forEachFeatureAtCoordinate(ve,e,i,Ir,Nt)}if(v)return v}}if(Nt.length!==0){var yn=1/Nt.length;return Nt.forEach(function(Sn,Rn){return Sn.distanceSq+=Rn*yn}),Nt.sort(function(Sn,Rn){return Sn.distanceSq-Rn.distanceSq}),Nt.some(function(Sn){return v=Sn.callback(Sn.feature,Sn.layer,Sn.geometry)}),v}},r.prototype.forEachLayerAtPixel=function(t,e,i,o,s){return Object(Ot.b)()},r.prototype.hasFeatureAtCoordinate=function(t,e,i,o,s,l){var f=this.forEachFeatureAtCoordinate(t,e,i,o,te.b,this,s,l);return f!==void 0},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){Object(Ot.b)()},r.prototype.scheduleExpireIconCache=function(t){$o.canExpireCache()&&t.postRenderFunctions.push(Yt)},r}(jt.a);function Yt(n,r){$o.expire()}var pe=Te,ze=u("7b4f"),sr=u("cef7"),Tr=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zr=function(n){Tr(r,n);function r(t,e,i,o){var s=n.call(this,t)||this;return s.inversePixelTransform=e,s.frameState=i,s.context=o,s}return r}(sr.a),pr=Zr,je="ol-hidden",Rr="ol-selectable",vr="ol-unselectable",Zt="ol-unsupported",Jt="ol-control",Le="ol-collapsed",xe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),yr=["style","variant","weight","size","lineHeight","family"],dr=function(n){var r=n.match(xe);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},e=0,i=yr.length;e<i;++e){var o=r[e+1];o!==void 0&&(t[yr[e]]=o)}return t.families=t.family.split(/,\s?/),t};function Lr(n){return n===1?"":String(Math.round(n*100)/100)}var nr=u("0ec0"),ur=u("0999"),Or="10px sans-serif",xn="#000",It="round",oe=[],ge=0,Ce="round",Ge=10,qe="#000",ir="center",rr="middle",Jr=[0,0,0,0],Yr=1,hn=new go.a,On=new nr.a;On.setSize=function(){console.warn("labelCache is deprecated.")};var Vn=null,mr,fe={},ci=function(){var n=100,r="32px ",t=["monospace","serif"],e=t.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function l(h,v,w){for(var R=!0,B=0;B<e;++B){var V=t[B];if(s=nn(h+" "+v+" "+r+V,i),w!=V){var et=nn(h+" "+v+" "+r+w+","+V,i);R=R&&et!=s}}return!!R}function f(){for(var h=!0,v=hn.getKeys(),w=0,R=v.length;w<R;++w){var B=v[w];hn.get(B)<n&&(l.apply(this,B.split(`
`))?(Object(pn.b)(fe),Vn=null,mr=void 0,hn.set(B,n)):(hn.set(B,hn.get(B)+1,!0),h=!1))}h&&(clearInterval(o),o=void 0)}return function(h){var v=dr(h);if(!!v)for(var w=v.families,R=0,B=w.length;R<B;++R){var V=w[R],et=v.style+`
`+v.weight+`
`+V;hn.get(et)===void 0&&(hn.set(et,n,!0),l(v.style,v.weight,V)||(hn.set(et,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),An=function(){var n;return function(r){var t=fe[r];if(t==null){if(ee.g){var e=dr(r),i=zr(r,"\u017Dg"),o=isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=r,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);fe[r]=t}return t}}();function zr(n,r){return Vn||(Vn=Object(ur.a)(1,1)),n!=mr&&(Vn.font=n,mr=Vn.font),Vn.measureText(r)}function nn(n,r){return zr(n,r).width}function sn(n,r,t){if(r in t)return t[r];var e=nn(n,r);return t[r]=e,e}function an(n,r,t){for(var e=r.length,i=0,o=0;o<e;++o){var s=nn(n,r[o]);i=Math.max(i,s),t.push(s)}return i}function Bn(n,r,t,e,i,o,s,l,f,h,v){n.save(),t!==1&&(n.globalAlpha*=t),r&&n.setTransform.apply(n,r),e.contextInstructions?(n.translate(f,h),n.scale(v[0],v[1]),di(e,n)):v[0]<0||v[1]<0?(n.translate(f,h),n.scale(v[0],v[1]),n.drawImage(e,i,o,s,l,0,0,s,l)):n.drawImage(e,i,o,s,l,f,h,s*v[0],l*v[1]),n.restore()}function di(n,r){for(var t=n.contextInstructions,e=0,i=t.length;e<i;e+=2)Array.isArray(t[e+1])?r[t[e]].apply(r,t[e+1]):r[t[e]]=t[e+1]}var ai=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wi=function(n){ai(r,n);function r(t){var e=n.call(this,t)||this;e.fontChangeListenerKey_=Object(Hr.a)(hn,ze.a.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var i=e.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",e.element_.className=vr+" ol-layers";var o=t.getViewport();return o.insertBefore(e.element_,o.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return r.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var o=new pr(t,void 0,e);i.dispatchEvent(o)}},r.prototype.disposeInternal=function(){Object(Hr.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(No.PRECOMPOSE,t);var e=t.layerStatesArray.sort(function(R,B){return R.zIndex-B.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],s=null,l=0,f=e.length;l<f;++l){var h=e[l];if(t.layerIndex=l,!(!L(h,i)||h.sourceState!=li.READY&&h.sourceState!=li.UNDEFINED)){var v=h.layer,w=v.render(t,s);!w||(w!==s&&(this.children_.push(w),s=w),"getDeclutter"in v&&o.push(v))}}for(var l=o.length-1;l>=0;--l)o[l].renderDeclutter(t);Object(ur.f)(this.element_,this.children_),this.dispatchRenderEvent(No.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},r.prototype.forEachLayerAtPixel=function(t,e,i,o,s){for(var l=e.viewState,f=e.layerStatesArray,h=f.length,v=h-1;v>=0;--v){var w=f[v],R=w.layer;if(R.hasRenderer()&&L(w,l)&&s(R)){var B=R.getRenderer(),V=B.getDataAtPixel(t,e,i);if(V){var et=o(R,V);if(et)return et}}}},r}(pe),zi=wi,ri={ADD:"add",REMOVE:"remove"},Wn=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yi={LENGTH:"length"},vn=function(n){Wn(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.element=e,o.index=i,o}return r}(sr.a),Da=function(n){Wn(r,n);function r(t,e){var i=n.call(this)||this;i.on,i.once,i.un;var o=e||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var s=0,l=i.array_.length;s<l;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},r.prototype.forEach=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)t(e[i],i,e)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(t){return this.array_[t]},r.prototype.getLength=function(){return this.get(yi.LENGTH)},r.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new vn(ri.ADD,e,t))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},r.prototype.remove=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)if(e[i]===t)return this.removeAt(i)},r.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new vn(ri.REMOVE,e,t)),e},r.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new vn(ri.REMOVE,o,t)),this.dispatchEvent(new vn(ri.ADD,e,t))}else{for(var s=i;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,e)}},r.prototype.updateLength_=function(){this.set(yi.LENGTH,this.array_.length)},r.prototype.assertUnique_=function(t,e){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==e)throw new le(58)},r}(go.a),Dn=Da,ha=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vi=function(n){ha(r,n);function r(t,e){var i=n.call(this,t)||this;return i.layer=e,i}return r}(sr.a),Eo={LAYERS:"layers"},bs=function(n){ha(r,n);function r(t){var e=this,i=t||{},o=Object(pn.a)({},i);delete o.layers;var s=i.layers;return e=n.call(this,o)||this,e.on,e.once,e.un,e.layersListenerKeys_=[],e.listenerKeys_={},e.addChangeListener(Eo.LAYERS,e.handleLayersChanged_),s?Array.isArray(s)?s=new Dn(s.slice(),{unique:!0}):ye(typeof s.getArray=="function",43):s=new Dn(void 0,{unique:!0}),e.setLayers(s),e}return r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Hr.c),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Object(Hr.a)(t,ri.ADD,this.handleLayersAdd_,this),Object(Hr.a)(t,ri.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach(Hr.c);Object(pn.b)(this.listenerKeys_);for(var i=t.getArray(),o=0,s=i.length;o<s;o++){var l=i[o];this.registerLayerListeners_(l),this.dispatchEvent(new Vi("addlayer",l))}this.changed()},r.prototype.registerLayerListeners_=function(t){var e=[Object(Hr.a)(t,ze.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(Hr.a)(t,un.a.CHANGE,this.handleLayerChange_,this)];t instanceof r&&e.push(Object(Hr.a)(t,"addlayer",this.handleLayerGroupAdd_,this),Object(Hr.a)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(Ot.c)(t)]=e},r.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new Vi("addlayer",t.layer))},r.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new Vi("removelayer",t.layer))},r.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Vi("addlayer",e)),this.changed()},r.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(Ot.c)(e);this.listenerKeys_[i].forEach(Hr.c),delete this.listenerKeys_[i],this.dispatchEvent(new Vi("removelayer",e)),this.changed()},r.prototype.getLayers=function(){return this.get(Eo.LAYERS)},r.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var i=e.getArray(),o=0,s=i.length;o<s;++o)this.dispatchEvent(new Vi("removelayer",i[o]));this.set(Eo.LAYERS,t)},r.prototype.getLayersArray=function(t){var e=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(e)}),e},r.prototype.getLayerStatesArray=function(t){var e=t!==void 0?t:[],i=e.length;this.getLayers().forEach(function(v){v.getLayerStatesArray(e)});var o=this.getLayerState(),s=o.zIndex;!t&&o.zIndex===void 0&&(s=0);for(var l=i,f=e.length;l<f;l++){var h=e[l];h.opacity*=o.opacity,h.visible=h.visible&&o.visible,h.maxResolution=Math.min(h.maxResolution,o.maxResolution),h.minResolution=Math.max(h.minResolution,o.minResolution),h.minZoom=Math.max(h.minZoom,o.minZoom),h.maxZoom=Math.min(h.maxZoom,o.maxZoom),o.extent!==void 0&&(h.extent!==void 0?h.extent=rn(h.extent,o.extent):h.extent=o.extent),h.zIndex===void 0&&(h.zIndex=s)}return e},r.prototype.getSourceState=function(){return li.READY},r}(hs),Wi=bs,ds=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Go=function(n){ds(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.map=e,o.frameState=i!==void 0?i:null,o}return r}(sr.a),Ea=Go,As=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),So=function(n){As(r,n);function r(t,e,i,o,s){var l=n.call(this,t,e,s)||this;return l.originalEvent=i,l.pixel_=null,l.coordinate_=null,l.dragging=o!==void 0?o:!1,l}return Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},r}(Ea),Yn=So,gn={SINGLECLICK:"singleclick",CLICK:un.a.CLICK,DBLCLICK:un.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ta={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},oa=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zs=function(n){oa(r,n);function r(t,e){var i=n.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=e===void 0?1:e,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Object(Hr.a)(o,ta.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Object(Hr.a)(o,ta.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(un.a.TOUCHMOVE,i.boundHandleTouchMove_,ee.e?{passive:!1}:!1),i}return r.prototype.emulateClick_=function(t){var e=new Yn(gn.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Yn(gn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new Yn(gn.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(t){var e=t;e.type==gn.POINTERUP||e.type==gn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==gn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Yn(gn.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(Hr.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(t){return t.button===0},r.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var e=new Yn(gn.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?te.c:o}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(Hr.a)(s,gn.POINTERMOVE,this.handlePointerMove_,this),Object(Hr.a)(s,gn.POINTERUP,this.handlePointerUp_,this),Object(Hr.a)(this.element_,gn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Object(Hr.a)(this.element_.getRootNode(),gn.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Yn(gn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},r.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Yn(t.type,this.map_,t,e))},r.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},r.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(Hr.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(un.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(Hr.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Hr.c),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},r}(nr.a),ps=zs,Un=u("592d"),$i={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ts=1/0,ja=function(){function n(r,t){this.priorityFunction_=r,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(pn.b)(this.queuedElements_)},n.prototype.dequeue=function(){var r=this.elements_,t=this.priorities_,e=r[0];r.length==1?(r.length=0,t.length=0):(r[0]=r.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(e);return delete this.queuedElements_[i],e},n.prototype.enqueue=function(r){ye(!(this.keyFunction_(r)in this.queuedElements_),31);var t=this.priorityFunction_(r);return t!=ts?(this.elements_.push(r),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(r){return r*2+1},n.prototype.getRightChildIndex_=function(r){return r*2+2},n.prototype.getParentIndex_=function(r){return r-1>>1},n.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(r){return r in this.queuedElements_},n.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},n.prototype.siftUp_=function(r){for(var t=this.elements_,e=this.priorities_,i=t.length,o=t[r],s=e[r],l=r;r<i>>1;){var f=this.getLeftChildIndex_(r),h=this.getRightChildIndex_(r),v=h<i&&e[h]<e[f]?h:f;t[r]=t[v],e[r]=e[v],r=v}t[r]=o,e[r]=s,this.siftDown_(l,r)},n.prototype.siftDown_=function(r,t){for(var e=this.elements_,i=this.priorities_,o=e[t],s=i[t];t>r;){var l=this.getParentIndex_(t);if(i[l]>s)e[t]=e[l],i[t]=i[l],t=l;else break}e[t]=o,i[t]=s},n.prototype.reprioritize=function(){var r=this.priorityFunction_,t=this.elements_,e=this.priorities_,i=0,o=t.length,s,l,f;for(l=0;l<o;++l)s=t[l],f=r(s),f==ts?delete this.queuedElements_[this.keyFunction_(s)]:(e[i]=f,t[i++]=s);t.length=i,e.length=i,this.heapify_()},n}(),da=ja,cn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},is=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_u=function(n){is(r,n);function r(t,e){var i=n.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=e,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return r.prototype.enqueue=function(t){var e=n.prototype.enqueue.call(this,t);if(e){var i=t[0];i.addEventListener(un.a.CHANGE,this.boundHandleTileChange_)}return e},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===cn.LOADED||i===cn.ERROR||i===cn.EMPTY){e.removeEventListener(un.a.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(t,e){for(var i=0,o,s,l;this.tilesLoading_<t&&i<e&&this.getCount()>0;)s=this.dequeue()[0],l=s.getKey(),o=s.getState(),o===cn.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++i,s.load())},r}(da),xl=_u;function vs(n,r,t,e,i){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][r.getKey()])return ts;var o=n.viewState.center,s=e[0]-o[0],l=e[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+l*l)/i}var Ee={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Aa={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},aa={};aa[Aa.RADIANS]=6370997/(2*Math.PI),aa[Aa.DEGREES]=2*Math.PI*6370997/360,aa[Aa.FEET]=.3048,aa[Aa.METERS]=1,aa[Aa.USFEET]=1200/3937;var Yi=Aa,Ui={ANIMATING:0,INTERACTING:1},sa={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},nl=42,Sa=256,Wl=function(){function n(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||aa[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},n.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)},n.prototype.setWorldExtent=function(r){this.worldExtent_=r},n.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),Ga=Wl,Vs=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ms=6378137,Ol=Math.PI*Ms,Hl=[-Ol,-Ol,Ol,Ol],Eu=[-180,-85,180,85],Yl=Ms*Math.log(Math.tan(Math.PI/2)),il=function(n){Vs(r,n);function r(t){return n.call(this,{code:t,units:Yi.METERS,extent:Hl,global:!0,worldExtent:Eu,getPointResolution:function(e,i){return e/Yu(i[1]/Ms)}})||this}return r}(Ga),Zu=[new il("EPSG:3857"),new il("EPSG:102100"),new il("EPSG:102113"),new il("EPSG:900913"),new il("http://www.opengis.net/def/crs/EPSG/0/3857"),new il("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ju(n,r,t){var e=n.length,i=t>1?t:2,o=r;o===void 0&&(i>2?o=n.slice():o=new Array(e));for(var s=0;s<e;s+=i){o[s]=Ol*n[s]/180;var l=Ms*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));l>Yl?l=Yl:l<-Yl&&(l=-Yl),o[s+1]=l}return o}function Y0(n,r,t){var e=n.length,i=t>1?t:2,o=r;o===void 0&&(i>2?o=n.slice():o=new Array(e));for(var s=0;s<e;s+=i)o[s]=180*n[s]/Ol,o[s+1]=360*Math.atan(Math.exp(n[s+1]/Ms))/Math.PI-90;return o}var Su=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qu=6378137,Bo=[-180,-90,180,90],_0=Math.PI*qu/180,Rs=function(n){Su(r,n);function r(t,e){return n.call(this,{code:t,units:Yi.DEGREES,extent:Bo,axisOrientation:e,global:!0,metersPerUnit:_0,worldExtent:Bo})||this}return r}(Ga),Qu=[new Rs("CRS:84"),new Rs("EPSG:4326","neu"),new Rs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Rs("urn:ogc:def:crs:OGC:2:84"),new Rs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Rs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Rs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Xl={};function X0(n){return Xl[n]||Xl[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function gs(n,r){Xl[n]=r}var Cs={};function la(n,r,t){var e=n.getCode(),i=r.getCode();e in Cs||(Cs[e]={}),Cs[e][i]=t}function al(n,r){var t;return n in Cs&&r in Cs[n]&&(t=Cs[n][r]),t}var wu=63710088e-1;function xu(n,r,t){var e=t||wu,i=qo(n[1]),o=qo(r[1]),s=(o-i)/2,l=qo(r[0]-n[0])/2,f=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(i)*Math.cos(o);return 2*e*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function E0(n,r,t,e){var i=e||wu,o=qo(n[1]),s=qo(n[0]),l=r/i,f=Math.asin(Math.sin(o)*Math.cos(l)+Math.cos(o)*Math.sin(l)*Math.cos(t)),h=s+Math.atan2(Math.sin(t)*Math.sin(l)*Math.cos(o),Math.cos(l)-Math.sin(o)*Math.sin(f));return[Xu(h),Xu(f)]}function Kl(n,r,t){var e;if(r!==void 0){for(var i=0,o=n.length;i<o;++i)r[i]=n[i];e=r}else e=n.slice();return e}function Tl(n,r,t){if(r!==void 0&&n!==r){for(var e=0,i=n.length;e<i;++e)r[e]=n[e];n=r}return n}function K0(n){gs(n.getCode(),n),la(n,n,Kl)}function Ou(n){n.forEach(K0)}function Gn(n){return typeof n=="string"?X0(n):n||null}function Tu(n,r,t,e){n=Gn(n);var i,o=n.getPointResolutionFunc();if(o){if(i=o(r,t),e&&e!==n.getUnits()){var s=n.getMetersPerUnit();s&&(i=i*s/aa[e])}}else{var l=n.getUnits();if(l==Yi.DEGREES&&!e||e==Yi.DEGREES)i=r;else{var f=ul(n,Gn("EPSG:4326"));if(f===Tl&&l!==Yi.DEGREES)i=r*n.getMetersPerUnit();else{var h=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];h=f(h,h,2);var v=xu(h.slice(0,2),h.slice(2,4)),w=xu(h.slice(4,6),h.slice(6,8));i=(v+w)/2}var s=e?aa[e]:n.getMetersPerUnit();s!==void 0&&(i/=s)}}return i}function Ws(n){Ou(n),n.forEach(function(r){n.forEach(function(t){r!==t&&la(r,t,Kl)})})}function Hs(n,r,t,e){n.forEach(function(i){r.forEach(function(o){la(i,o,t),la(o,i,e)})})}function sl(n,r){return n?typeof n=="string"?Gn(n):n:Gn(r)}function $l(n){return function(r,t,e){for(var i=r.length,o=e!==void 0?e:2,s=t!==void 0?t:new Array(i),l=0;l<i;l+=o){var f=n([r[l],r[l+1]]);s[l]=f[0],s[l+1]=f[1];for(var h=o-1;h>=2;--h)s[l+h]=r[l+h]}return s}}function ll(n,r,t,e){var i=Gn(n),o=Gn(r);la(i,o,$l(t)),la(o,i,$l(e))}function mo(n,r){if(n===r)return!0;var t=n.getUnits()===r.getUnits();if(n.getCode()===r.getCode())return t;var e=ul(n,r);return e===Kl&&t}function ul(n,r){var t=n.getCode(),e=r.getCode(),i=al(t,e);return i||(i=Tl),i}function bl(n,r){var t=Gn(n),e=Gn(r);return ul(t,e)}function $n(n,r,t){var e=bl(r,t);return e(n,void 0,n.length)}function Al(n,r,t,e){var i=bl(r,t);return Ts(n,i,void 0,e)}var I=null;function j(){return I}function Y(n,r){return n}function lt(n,r){return n}function gt(n,r){return n}function At(n,r){return n}function y(n,r){return n}function S(n,r,t){return function(e){var i=e[0],o=e[1],s,l;if(n.canWrapX()){var f=n.getExtent(),h=en(f);l=ce(e,n,h),l&&(i=i-l*h),i=co(i,f[0],f[2]),o=co(o,f[1],f[3]),s=t([i,o])}else s=t(e);return l&&r.canWrapX()&&(s[0]+=l*en(r.getExtent())),s}}function x(){Ws(Zu),Ws(Qu),Hs(Qu,Zu,Ju,Y0)}x();function U(n,r,t){return function(e,i,o,s,l){if(e){var f=r?0:o[0]*i,h=r?0:o[1]*i,v=l?l[0]:0,w=l?l[1]:0,R=n[0]+f/2+v,B=n[2]-f/2+v,V=n[1]+h/2+w,et=n[3]-h/2+w;R>B&&(R=(B+R)/2,B=R),V>et&&(V=(et+V)/2,et=V);var vt=co(e[0],R,B),Ct=co(e[1],V,et),kt=30*i;return s&&t&&(vt+=-kt*Math.log(1+Math.max(0,R-e[0])/kt)+kt*Math.log(1+Math.max(0,e[0]-B)/kt),Ct+=-kt*Math.log(1+Math.max(0,V-e[1])/kt)+kt*Math.log(1+Math.max(0,e[1]-et)/kt)),[vt,Ct]}else return}}function Z(n){return n}var K=u("9f5e");function ht(n,r,t,e){var i=en(r)/t[0],o=on(r)/t[1];return e?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function xt(n,r,t){var e=Math.min(n,r),i=50;return e*=Math.log(1+i*Math.max(0,n/r-1))/i+1,t&&(e=Math.max(e,t),e/=Math.log(1+i*Math.max(0,t/n-1))/i+1),co(e,t/2,r*2)}function yt(n,r,t,e){return function(i,o,s,l){if(i!==void 0){var f=n[0],h=n[n.length-1],v=t?ht(f,t,s,e):f;if(l){var w=r!==void 0?r:!0;return w?xt(i,v,h):co(i,h,v)}var R=Math.min(v,i),B=Math.floor(Object(K.h)(n,R,o));return n[B]>v&&B<n.length-1?n[B+1]:n[B]}else return}}function re(n,r,t,e,i,o){return function(s,l,f,h){if(s!==void 0){var v=i?ht(r,i,f,o):r,w=t!==void 0?t:0;if(h){var R=e!==void 0?e:!0;return R?xt(s,v,w):co(s,w,v)}var B=1e-9,V=Math.ceil(Math.log(r/v)/Math.log(n)-B),et=-l*(.5-B)+.5,vt=Math.min(v,s),Ct=Math.floor(Math.log(r/vt)/Math.log(n)+et),kt=Math.max(V,Ct),Ht=r/Math.pow(n,kt);return co(Ht,w,v)}else return}}function me(n,r,t,e,i){return function(o,s,l,f){if(o!==void 0){var h=e?ht(n,e,l,i):n,v=t!==void 0?t:!0;return!v||!f?co(o,r,h):xt(o,h,r)}else return}}function se(n){if(n!==void 0)return 0}function Ne(n){if(n!==void 0)return n}function Ye(n){var r=2*Math.PI/n;return function(t,e){if(e)return t;if(t!==void 0)return t=Math.floor(t/r+.5)*r,t}}function $e(n){var r=n||qo(5);return function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=r?0:t}}function cr(n){return Math.pow(n,3)}function Vr(n){return 1-cr(1-n)}function Qr(n){return 3*n*n-2*n*n*n}function Kr(n){return n}function $r(n){return n<.5?Qr(2*n):1-Qr(2*(n-.5))}var tr={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function dn(n,r,t,e,i,o){for(var s=o||[],l=0,f=r;f<t;f+=e){var h=n[f],v=n[f+1];s[l++]=i[0]*h+i[2]*v+i[4],s[l++]=i[1]*h+i[3]*v+i[5]}return o&&s.length!=l&&(s.length=l),s}function Zn(n,r,t,e,i,o,s){for(var l=s||[],f=Math.cos(i),h=Math.sin(i),v=o[0],w=o[1],R=0,B=r;B<t;B+=e){var V=n[B]-v,et=n[B+1]-w;l[R++]=v+V*f-et*h,l[R++]=w+V*h+et*f;for(var vt=B+2;vt<B+e;++vt)l[R++]=n[vt]}return s&&l.length!=R&&(l.length=R),l}function Pi(n,r,t,e,i,o,s,l){for(var f=l||[],h=s[0],v=s[1],w=0,R=r;R<t;R+=e){var B=n[R]-h,V=n[R+1]-v;f[w++]=h+i*B,f[w++]=v+o*V;for(var et=R+2;et<R+e;++et)f[w++]=n[et]}return l&&f.length!=w&&(f.length=w),f}function _i(n,r,t,e,i,o,s){for(var l=s||[],f=0,h=r;h<t;h+=e){l[f++]=n[h]+i,l[f++]=n[h+1]+o;for(var v=h+2;v<h+e;++v)l[f++]=n[v]}return s&&l.length!=f&&(l.length=f),l}var ki=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xi=mt(),qi=function(n){ki(r,n);function r(){var t=n.call(this)||this;return t.extent_=at(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(te.d)(function(e,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),t}return r.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},r.prototype.clone=function(){return Object(Ot.b)()},r.prototype.closestPointXY=function(t,e,i,o){return Object(Ot.b)()},r.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},r.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},r.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},r.prototype.computeExtent=function(t){return Object(Ot.b)()},r.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Q(e),this.extentRevision_=this.getRevision()}return ya(this.extent_,t)},r.prototype.rotate=function(t,e){Object(Ot.b)()},r.prototype.scale=function(t,e,i){Object(Ot.b)()},r.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},r.prototype.getSimplifiedGeometry=function(t){return Object(Ot.b)()},r.prototype.getType=function(){return Object(Ot.b)()},r.prototype.applyTransform=function(t){Object(Ot.b)()},r.prototype.intersectsExtent=function(t){return Object(Ot.b)()},r.prototype.translate=function(t,e){Object(Ot.b)()},r.prototype.transform=function(t,e){var i=Gn(t),o=i.getUnits()==Yi.TILE_PIXELS?function(s,l,f){var h=i.getExtent(),v=i.getWorldExtent(),w=on(v)/on(h);return er(Xi,v[0],v[3],w,-w,0,0,0),dn(s,0,s.length,f,Xi,l),bl(i,e)(s,l,f)}:bl(i,e);return this.applyTransform(o),this},r}(go.a),ro=qi,pa=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(n){pa(r,n);function r(){var t=n.call(this)||this;return t.layout=tr.XY,t.stride=2,t.flatCoordinates=null,t}return r.prototype.computeExtent=function(t){return De(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinates=function(){return Object(Ot.b)()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),i=e.getFlatCoordinates();return i.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},r.prototype.getSimplifiedGeometryInternal=function(t){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(t,e){this.stride=wa(t),this.layout=t,this.flatCoordinates=e},r.prototype.setCoordinates=function(t,e){Object(Ot.b)()},r.prototype.setLayout=function(t,e,i){var o;if(t)o=wa(t);else{for(var s=0;s<i;++s)if(e.length===0){this.layout=tr.XY,this.stride=2;return}else e=e[0];o=e.length,t=Zo(o)}this.layout=t,this.stride=o},r.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Zn(i,0,i.length,o,t,e,i),this.changed()}},r.prototype.scale=function(t,e,i){var o=e;o===void 0&&(o=t);var s=i;s||(s=zn(this.getExtent()));var l=this.getFlatCoordinates();if(l){var f=this.getStride();Pi(l,0,l.length,f,t,o,s,l),this.changed()}},r.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var o=this.getStride();_i(i,0,i.length,o,t,e,i),this.changed()}},r}(ro);function Zo(n){var r;return n==2?r=tr.XY:n==3?r=tr.XYZ:n==4&&(r=tr.XYZM),r}function wa(n){var r;return n==tr.XY?r=2:n==tr.XYZ||n==tr.XYM?r=3:n==tr.XYZM&&(r=4),r}function xa(n,r,t){var e=n.getFlatCoordinates();if(e){var i=n.getStride();return dn(e,0,e.length,i,r,t)}else return null}var Mo=xi;function Ba(n,r,t,e,i,o,s){var l=n[r],f=n[r+1],h=n[t]-l,v=n[t+1]-f,w;if(h===0&&v===0)w=r;else{var R=((i-l)*h+(o-f)*v)/(h*h+v*v);if(R>1)w=t;else if(R>0){for(var B=0;B<e;++B)s[B]=el(n[r+B],n[t+B],R);s.length=e;return}else w=r}for(var B=0;B<e;++B)s[B]=n[w+B];s.length=e}function Zi(n,r,t,e,i){var o=n[r],s=n[r+1];for(r+=e;r<t;r+=e){var l=n[r],f=n[r+1],h=_a(o,s,l,f);h>i&&(i=h),o=l,s=f}return i}function G(n,r,t,e,i){for(var o=0,s=t.length;o<s;++o){var l=t[o];i=Zi(n,r,l,e,i),r=l}return i}function Et(n,r,t,e,i){for(var o=0,s=t.length;o<s;++o){var l=t[o];i=G(n,r,l,e,i),r=l[l.length-1]}return i}function Lt(n,r,t,e,i,o,s,l,f,h,v){if(r==t)return h;var w,R;if(i===0)if(R=_a(s,l,n[r],n[r+1]),R<h){for(w=0;w<e;++w)f[w]=n[r+w];return f.length=e,R}else return h;for(var B=v||[NaN,NaN],V=r+e;V<t;)if(Ba(n,V-e,V,e,s,l,B),R=_a(s,l,B[0],B[1]),R<h){for(h=R,w=0;w<e;++w)f[w]=B[w];f.length=e,V+=e}else V+=e*Math.max((Math.sqrt(R)-Math.sqrt(h))/i|0,1);if(o&&(Ba(n,t-e,r,e,s,l,B),R=_a(s,l,B[0],B[1]),R<h)){for(h=R,w=0;w<e;++w)f[w]=B[w];f.length=e}return h}function we(n,r,t,e,i,o,s,l,f,h,v){for(var w=v||[NaN,NaN],R=0,B=t.length;R<B;++R){var V=t[R];h=Lt(n,r,V,e,i,o,s,l,f,h,w),r=V}return h}function Ve(n,r,t,e,i,o,s,l,f,h,v){for(var w=v||[NaN,NaN],R=0,B=t.length;R<B;++R){var V=t[R];h=we(n,r,V,e,i,o,s,l,f,h,w),r=V[V.length-1]}return h}function He(n,r,t,e){for(var i=0,o=t.length;i<o;++i)n[r++]=t[i];return r}function Er(n,r,t,e){for(var i=0,o=t.length;i<o;++i)for(var s=t[i],l=0;l<e;++l)n[r++]=s[l];return r}function kr(n,r,t,e,i){for(var o=i||[],s=0,l=0,f=t.length;l<f;++l){var h=Er(n,r,t[l],e);o[s++]=h,r=h}return o.length=s,o}function ke(n,r,t,e,i){for(var o=i||[],s=0,l=0,f=t.length;l<f;++l){var h=kr(n,r,t[l],e,o[s]);o[s++]=h,r=h[h.length-1]}return o.length=s,o}function Mn(n,r,t,e,i,o,s){var l=(t-r)/e;if(l<3){for(;r<t;r+=e)o[s++]=n[r],o[s++]=n[r+1];return s}var f=new Array(l);f[0]=1,f[l-1]=1;for(var h=[r,t-e],v=0;h.length>0;){for(var w=h.pop(),R=h.pop(),B=0,V=n[R],et=n[R+1],vt=n[w],Ct=n[w+1],kt=R+e;kt<w;kt+=e){var Ht=n[kt],Nt=n[kt+1],ve=Ja(Ht,Nt,V,et,vt,Ct);ve>B&&(v=kt,B=ve)}B>i&&(f[(v-r)/e]=1,R+e<v&&h.push(R,v),v+e<w&&h.push(v,w))}for(var kt=0;kt<l;++kt)f[kt]&&(o[s++]=n[r+kt*e],o[s++]=n[r+kt*e+1]);return s}function Qn(n,r,t,e,i,o,s,l){for(var f=0,h=t.length;f<h;++f){var v=t[f];s=Mn(n,r,v,e,i,o,s),l.push(s),r=v}return s}function fn(n,r){return r*Math.round(n/r)}function pi(n,r,t,e,i,o,s){if(r==t)return s;var l=fn(n[r],i),f=fn(n[r+1],i);r+=e,o[s++]=l,o[s++]=f;var h,v;do if(h=fn(n[r],i),v=fn(n[r+1],i),r+=e,r==t)return o[s++]=h,o[s++]=v,s;while(h==l&&v==f);for(;r<t;){var w=fn(n[r],i),R=fn(n[r+1],i);if(r+=e,!(w==h&&R==v)){var B=h-l,V=v-f,et=w-l,vt=R-f;if(B*vt==V*et&&(B<0&&et<B||B==et||B>0&&et>B)&&(V<0&&vt<V||V==vt||V>0&&vt>V)){h=w,v=R;continue}o[s++]=h,o[s++]=v,l=h,f=v,h=w,v=R}}return o[s++]=h,o[s++]=v,s}function si(n,r,t,e,i,o,s,l){for(var f=0,h=t.length;f<h;++f){var v=t[f];s=pi(n,r,v,e,i,o,s),l.push(s),r=v}return s}function Hi(n,r,t,e,i,o,s,l){for(var f=0,h=t.length;f<h;++f){var v=t[f],w=[];s=si(n,r,v,e,i,o,s,w),l.push(w),r=v[v.length-1]}return s}function Di(n,r,t,e,i){for(var o=i!==void 0?i:[],s=0,l=r;l<t;l+=e)o[s++]=n.slice(l,l+e);return o.length=s,o}function wo(n,r,t,e,i){for(var o=i!==void 0?i:[],s=0,l=0,f=t.length;l<f;++l){var h=t[l];o[s++]=Di(n,r,h,e,o[s]),r=h}return o.length=s,o}function va(n,r,t,e,i){for(var o=i!==void 0?i:[],s=0,l=0,f=t.length;l<f;++l){var h=t[l];o[s++]=wo(n,r,h,e,o[s]),r=h[h.length-1]}return o.length=s,o}function os(n,r,t,e){for(var i=0,o=n[t-e],s=n[t-e+1];r<t;r+=e){var l=n[r],f=n[r+1];i+=s*l-o*f,o=l,s=f}return i/2}function ms(n,r,t,e){for(var i=0,o=0,s=t.length;o<s;++o){var l=t[o];i+=os(n,r,l,e),r=l}return i}function Yh(n,r,t,e){for(var i=0,o=0,s=t.length;o<s;++o){var l=t[o];i+=ms(n,r,l,e),r=l[l.length-1]}return i}var Xf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kf=function(n){Xf(r,n);function r(t,e){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(t,e,i,o){return o<$t(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.getArea=function(){return os(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return Di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Mn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,tr.XY)},r.prototype.getType=function(){return Ee.LINEAR_RING},r.prototype.intersectsExtent=function(t){return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Er(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Mo),bu=Kf,$f=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zf=function(n){$f(r,n);function r(t,e){var i=n.call(this)||this;return i.setCoordinates(t,e),i}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){var s=this.flatCoordinates,l=_a(t,e,s[0],s[1]);if(l<o){for(var f=this.stride,h=0;h<f;++h)i[h]=s[h];return i.length=f,l}else return o},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(t){return dt(this.flatCoordinates,t)},r.prototype.getType=function(){return Ee.POINT},r.prototype.intersectsExtent=function(t){return Ue(t,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=He(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Mo),Ii=Zf;function cl(n,r,t,e,i){var o=ui(i,function(s){return!Zl(n,r,t,e,s[0],s[1])});return!o}function Zl(n,r,t,e,i,o){for(var s=0,l=n[t-e],f=n[t-e+1];r<t;r+=e){var h=n[r],v=n[r+1];f<=o?v>o&&(h-l)*(o-f)-(i-l)*(v-f)>0&&s++:v<=o&&(h-l)*(o-f)-(i-l)*(v-f)<0&&s--,l=h,f=v}return s!==0}function $0(n,r,t,e,i,o){if(t.length===0||!Zl(n,r,t[0],e,i,o))return!1;for(var s=1,l=t.length;s<l;++s)if(Zl(n,t[s-1],t[s],e,i,o))return!1;return!0}function Vc(n,r,t,e,i,o){if(t.length===0)return!1;for(var s=0,l=t.length;s<l;++s){var f=t[s];if($0(n,r,f,e,i,o))return!0;r=f[f.length-1]}return!1}function wc(n,r,t,e,i,o,s){for(var l,f,h,v,w,R,B,V=i[o+1],et=[],vt=0,Ct=t.length;vt<Ct;++vt){var kt=t[vt];for(v=n[kt-e],R=n[kt-e+1],l=r;l<kt;l+=e)w=n[l],B=n[l+1],(V<=R&&B<=V||R<=V&&V<=B)&&(h=(V-R)/(B-R)*(w-v)+v,et.push(h)),v=w,R=B}var Ht=NaN,Nt=-1/0;for(et.sort(K.i),v=et[0],l=1,f=et.length;l<f;++l){w=et[l];var ve=Math.abs(w-v);ve>Nt&&(h=(v+w)/2,$0(n,r,t,e,h,V)&&(Ht=h,Nt=ve)),v=w}return isNaN(Ht)&&(Ht=i[o]),s?(s.push(Ht,V,Nt),s):[Ht,V,Nt]}function Ys(n,r,t,e,i){for(var o=[],s=0,l=t.length;s<l;++s){var f=t[s];o=wc(n,r,f,e,i,2*s,o),r=f[f.length-1]}return o}function Xh(n,r,t,e,i){var o;for(r+=e;r<t;r+=e)if(o=i(n.slice(r-e,r),n.slice(r,r+e)),o)return o;return!1}function Z0(n,r,t,e,i){var o=Ci(at(),n,r,t,e);return Ti(i,o)?Pe(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:Xh(n,r,t,e,function(s,l){return zl(i,s,l)}):!1}function Kh(n,r,t,e,i){for(var o=0,s=t.length;o<s;++o){if(Z0(n,r,t[o],e,i))return!0;r=t[o]}return!1}function Au(n,r,t,e,i){return!!(Z0(n,r,t,e,i)||Zl(n,r,t,e,i[0],i[1])||Zl(n,r,t,e,i[0],i[3])||Zl(n,r,t,e,i[2],i[1])||Zl(n,r,t,e,i[2],i[3]))}function Wc(n,r,t,e,i){if(!Au(n,r,t[0],e,i))return!1;if(t.length===1)return!0;for(var o=1,s=t.length;o<s;++o)if(cl(n,t[o-1],t[o],e,i)&&!Z0(n,t[o-1],t[o],e,i))return!1;return!0}function Tp(n,r,t,e,i){for(var o=0,s=t.length;o<s;++o){var l=t[o];if(Wc(n,r,l,e,i))return!0;r=l[l.length-1]}return!1}function bp(n,r,t,e){for(;r<t-e;){for(var i=0;i<e;++i){var o=n[r+i];n[r+i]=n[t-e+i],n[t-e+i]=o}r+=e,t-=e}}function Mu(n,r,t,e){for(var i=0,o=n[t-e],s=n[t-e+1];r<t;r+=e){var l=n[r],f=n[r+1];i+=(l-o)*(f+s),o=l,s=f}return i===0?void 0:i>0}function Ml(n,r,t,e,i){for(var o=i!==void 0?i:!1,s=0,l=t.length;s<l;++s){var f=t[s],h=Mu(n,r,f,e);if(s===0){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;r=f}return!0}function Ru(n,r,t,e,i){for(var o=0,s=t.length;o<s;++o){var l=t[o];if(!Ml(n,r,l,e,i))return!1;l.length&&(r=l[l.length-1])}return!0}function t0(n,r,t,e,i){for(var o=i!==void 0?i:!1,s=0,l=t.length;s<l;++s){var f=t[s],h=Mu(n,r,f,e),v=s===0?o&&h||!o&&!h:o&&!h||!o&&h;v&&bp(n,r,f,e),r=f}return r}function Cu(n,r,t,e,i){for(var o=0,s=t.length;o<s;++o)r=t0(n,r,t[o],e,i);return r}var S0=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w0=function(n){S0(r,n);function r(t,e,i){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,e!==void 0&&i?(o.setFlatCoordinates(e,t),o.ends_=i):o.setCoordinates(t,e),o}return r.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(K.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<$t(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(G(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),we(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.containsXY=function(t,e){return $0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},r.prototype.getArea=function(){return ms(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),t0(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,wo(e,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=zn(this.getExtent());this.flatInteriorPoint_=wc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new Ii(this.getFlatInteriorPoint(),tr.XYM)},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new bu(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,o=[],s=0,l=0,f=i.length;l<f;++l){var h=i[l],v=new bu(e.slice(s,h),t);o.push(v),s=h}return o},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Ml(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=t0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=si(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new r(e,tr.XY,i)},r.prototype.getType=function(){return Ee.POLYGON},r.prototype.intersectsExtent=function(t){return Wc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=kr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(Mo),so=w0;function Hc(n,r,t,e){for(var i=t||32,o=[],s=0;s<i;++s)Object(K.c)(o,E0(n,r,2*Math.PI*s/i,e));return o.push(o[0],o[1]),new w0(o,tr.XY,[o.length])}function Jl(n){var r=n[0],t=n[1],e=n[2],i=n[3],o=[r,t,r,i,e,i,e,t,r,t];return new w0(o,tr.XY,[o.length])}function x0(n,r,t){for(var e=r||32,i=n.getStride(),o=n.getLayout(),s=n.getCenter(),l=i*(e+1),f=new Array(l),h=0;h<l;h+=i){f[h]=0,f[h+1]=0;for(var v=2;v<i;v++)f[h+v]=s[v]}var w=[f.length],R=new w0(f,o,w);return Lu(R,s,n.getRadius(),t),R}function Lu(n,r,t,e){for(var i=n.getFlatCoordinates(),o=n.getStride(),s=i.length/o-1,l=e||0,f=0;f<=s;++f){var h=f*o,v=l+Us(f,s)*2*Math.PI/s;i[h]=r[0]+t*Math.cos(v),i[h+1]=r[1]+t*Math.sin(v)}n.changed()}var O0=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T0=0,Yc=function(n){O0(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=Object(pn.a)({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=sl(i.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,i.center&&(i.center=lt(i.center,e.projection_)),i.extent&&(i.extent=At(i.extent,e.projection_)),e.applyOptions_(i),e}return r.prototype.applyOptions_=function(t){var e=Object(pn.a)({},t);for(var i in sa)delete e[i];this.setProperties(e,!0);var o=Jf(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var s=J0(t),l=o.constraint,f=ql(t);this.constraints_={center:s,resolution:l,rotation:f},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(r.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];e=e||[0,0,0,0];var s=this.getResolution(),l=s/2*(o[3]-e[3]+e[1]-o[1]),f=s/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([i[0]+l,i[1]-f])}},enumerable:!1,configurable:!0}),r.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(pn.a)({},e,t)},r.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var o=arguments[i];o.center&&(o=Object(pn.a)({},o),o.center=lt(o.center,this.getProjection())),o.anchor&&(o=Object(pn.a)({},o),o.anchor=lt(o.anchor,this.getProjection())),e[i]=o}this.animateInternal.apply(this,e)},r.prototype.animateInternal=function(t){var e=arguments.length,i;e>1&&typeof arguments[e-1]=="function"&&(i=arguments[e-1],--e);for(var o=0;o<e&&!this.isDef();++o){var s=arguments[o];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(o===e){i&&e0(i,!0);return}for(var l=Date.now(),f=this.targetCenter_.slice(),h=this.targetResolution_,v=this.targetRotation_,w=[];o<e;++o){var R=arguments[o],B={start:l,complete:!1,anchor:R.anchor,duration:R.duration!==void 0?R.duration:1e3,easing:R.easing||Qr,callback:i};if(R.center&&(B.sourceCenter=f,B.targetCenter=R.center.slice(),f=B.targetCenter),R.zoom!==void 0?(B.sourceResolution=h,B.targetResolution=this.getResolutionForZoom(R.zoom),h=B.targetResolution):R.resolution&&(B.sourceResolution=h,B.targetResolution=R.resolution,h=B.targetResolution),R.rotation!==void 0){B.sourceRotation=v;var V=Us(R.rotation-v+Math.PI,2*Math.PI)-Math.PI;B.targetRotation=v+V,v=B.targetRotation}b0(B)?B.complete=!0:l+=B.duration,w.push(B)}this.animations_.push(w),this.setHint(Ui.ANIMATING,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[Ui.ANIMATING]>0},r.prototype.getInteracting=function(){return this.hints_[Ui.INTERACTING]>0},r.prototype.cancelAnimations=function(){this.setHint(Ui.ANIMATING,-this.hints_[Ui.ANIMATING]);for(var t,e=0,i=this.animations_.length;e<i;++e){var o=this.animations_[e];if(o[0].callback&&e0(o[0].callback,!1),!t)for(var s=0,l=o.length;s<l;++s){var f=o[s];if(!f.complete){t=f.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},r.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,l=0,f=o.length;l<f;++l){var h=o[l];if(!h.complete){var v=t-h.start,w=h.duration>0?v/h.duration:1;w>=1?(h.complete=!0,w=1):s=!1;var R=h.easing(w);if(h.sourceCenter){var B=h.sourceCenter[0],V=h.sourceCenter[1],et=h.targetCenter[0],vt=h.targetCenter[1];this.nextCenter_=h.targetCenter;var Ct=B+R*(et-B),kt=V+R*(vt-V);this.targetCenter_=[Ct,kt]}if(h.sourceResolution&&h.targetResolution){var Ht=R===1?h.targetResolution:h.sourceResolution+R*(h.targetResolution-h.sourceResolution);if(h.anchor){var Nt=this.getViewportSize_(this.getRotation()),ve=this.constraints_.resolution(Ht,0,Nt,!0);this.targetCenter_=this.calculateCenterZoom(ve,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=Ht,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var de=R===1?Us(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+R*(h.targetRotation-h.sourceRotation);if(h.anchor){var Oe=this.constraints_.rotation(de,!0);this.targetCenter_=this.calculateCenterRotate(Oe,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=de}if(this.applyTargetState_(!0),e=!0,!h.complete)break}}if(s){this.animations_[i]=null,this.setHint(Ui.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var Se=o[0].callback;Se&&e0(Se,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-e[0],o[1]-e[1]],st(i,t-this.getRotation()),W(i,e)),i},r.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenterInternal(),s=this.getResolution();if(o!==void 0&&s!==void 0){var l=e[0]-t*(e[0]-o[0])/s,f=e[1]-t*(e[1]-o[1])/s;i=[l,f]}return i},r.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],o=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return e},r.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Y(t,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get(sa.CENTER)},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},r.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},r.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return gt(e,this.getProjection())},r.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();ye(i,1);var o=this.getResolution();ye(o!==void 0,2);var s=this.getRotation();return ye(s!==void 0,3),Ji(i,o,s,e)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},r.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get(sa.RESOLUTION)},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(At(t,this.getProjection()),e)},r.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSizeMinusPadding_(),o=en(t)/i[0],s=on(t)/i[1];return Math.max(o,s)},r.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/Math.log(e);return function(l){var f=i/Math.pow(e,l*s);return f}},r.prototype.getRotation=function(){return this.get(sa.ROTATION)},r.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/e;return function(l){var f=Math.log(i/l)/e/s;return f}},r.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e},r.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding_;if(s){var l=this.getViewportSizeMinusPadding_();o=Uo(o,this.getViewportSize_(),[l[0]/2+s[3],l[1]/2+s[0]],e,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var t,e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t},r.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0,i,o;if(this.resolutions_){var s=Object(K.h)(this.resolutions_,t,1);e=s,i=this.resolutions_[s],s==this.resolutions_.length-1?o=2:o=i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return e+Math.log(i/t)/Math.log(o)},r.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=co(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,co(t-e,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},r.prototype.fit=function(t,e){var i;if(ye(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){ye(!Io(t),25);var o=At(t,this.getProjection());i=Jl(o)}else if(t.getType()===Ee.CIRCLE){var o=At(t.getExtent(),this.getProjection());i=Jl(o),i.rotate(this.getRotation(),zn(o))}else{var s=j();s?i=t.clone().transform(s,this.getProjection()):i=t}this.fitInternal(i,e)},r.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),i=Math.cos(e),o=Math.sin(-e),s=t.getFlatCoordinates(),l=t.getStride(),f=1/0,h=1/0,v=-1/0,w=-1/0,R=0,B=s.length;R<B;R+=l){var V=s[R]*i-s[R+1]*o,et=s[R]*o+s[R+1]*i;f=Math.min(f,V),h=Math.min(h,et),v=Math.max(v,V),w=Math.max(w,et)}return[f,h,v,w]},r.prototype.fitInternal=function(t,e){var i=e||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var s=i.padding!==void 0?i.padding:[0,0,0,0],l=i.nearest!==void 0?i.nearest:!1,f;i.minResolution!==void 0?f=i.minResolution:i.maxZoom!==void 0?f=this.getResolutionForZoom(i.maxZoom):f=0;var h=this.rotatedExtentForGeometry(t),v=this.getResolutionForExtentInternal(h,[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);v=isNaN(v)?f:Math.max(v,f),v=this.getConstrainedResolution(v,l?0:1);var w=this.getRotation(),R=Math.sin(w),B=Math.cos(w),V=zn(h);V[0]+=(s[1]-s[3])/2*v,V[1]+=(s[0]-s[2])/2*v;var et=V[0]*B-V[1]*R,vt=V[1]*B+V[0]*R,Ct=this.getConstrainedCenter([et,vt],v),kt=i.callback?i.callback:te.c;i.duration!==void 0?this.animateInternal({resolution:v,center:Ct,duration:i.duration,easing:i.easing},kt):(this.targetResolution_=v,this.targetCenter_=Ct,this.applyTargetState_(!1,!0),e0(kt,!0))},r.prototype.centerOn=function(t,e,i){this.centerOnInternal(lt(t,this.getProjection()),e,i)},r.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(Uo(t,e,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(t,e,i,o){var s,l=this.padding_;if(l&&t){var f=this.getViewportSizeMinusPadding_(-i),h=Uo(t,o,[f[0]/2+l[3],f[1]/2+l[0]],e,i);s=[t[0]-h[0],t[1]-h[1]]}return s},r.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},r.prototype.adjustCenter=function(t){var e=Y(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustResolution=function(t,e){var i=e&&lt(e,this.getProjection());this.adjustResolutionInternal(t,i)},r.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,o,i);e&&(this.targetCenter_=this.calculateCenterZoom(s,e)),this.targetResolution_*=t,this.applyTargetState_()},r.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},r.prototype.adjustRotation=function(t,e){e&&(e=lt(e,this.getProjection())),this.adjustRotationInternal(t,e)},r.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},r.prototype.setCenter=function(t){this.setCenterInternal(lt(t,this.getProjection()))},r.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},r.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},r.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},r.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},r.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},r.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),l=this.constraints_.resolution(this.targetResolution_,0,s,i),f=this.constraints_.center(this.targetCenter_,l,s,i,this.calculateCenterShift(this.targetCenter_,l,o,s));this.get(sa.ROTATION)!==o&&this.set(sa.ROTATION,o),this.get(sa.RESOLUTION)!==l&&(this.set(sa.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!f||!this.get(sa.CENTER)||!rt(this.get(sa.CENTER),f))&&this.set(sa.CENTER,f),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(t,e,i){var o=t!==void 0?t:200,s=e||0,l=this.constraints_.rotation(this.targetRotation_),f=this.getViewportSize_(l),h=this.constraints_.resolution(this.targetResolution_,s,f),v=this.constraints_.center(this.targetCenter_,h,f,!1,this.calculateCenterShift(this.targetCenter_,h,l,f));if(o===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=l,this.targetCenter_=v,this.applyTargetState_();return}var w=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==l||!this.getCenterInternal()||!rt(this.getCenterInternal(),v))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:l,center:v,resolution:h,duration:o,easing:Vr,anchor:w}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ui.INTERACTING,1)},r.prototype.endInteraction=function(t,e,i){var o=i&&lt(i,this.getProjection());this.endInteractionInternal(t,e,o)},r.prototype.endInteractionInternal=function(t,e,i){this.setHint(Ui.INTERACTING,-1),this.resolveConstraints(t,e,i)},r.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(t,e){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))},r.prototype.getConstrainedResolution=function(t,e){var i=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},r}(go.a);function e0(n,r){setTimeout(function(){n(r)},0)}function J0(n){if(n.extent!==void 0){var r=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return U(n.extent,n.constrainOnlyCenter,r)}var t=sl(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,U(e,!1,!1)}return Z}function Jf(n){var r,t,e,i=28,o=2,s=n.minZoom!==void 0?n.minZoom:T0,l=n.maxZoom!==void 0?n.maxZoom:i,f=n.zoomFactor!==void 0?n.zoomFactor:o,h=n.multiWorld!==void 0?n.multiWorld:!1,v=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,w=n.showFullExtent!==void 0?n.showFullExtent:!1,R=sl(n.projection,"EPSG:3857"),B=R.getExtent(),V=n.constrainOnlyCenter,et=n.extent;if(!h&&!et&&R.isGlobal()&&(V=!1,et=B),n.resolutions!==void 0){var vt=n.resolutions;t=vt[s],e=vt[l]!==void 0?vt[l]:vt[vt.length-1],n.constrainResolution?r=yt(vt,v,!V&&et,w):r=me(t,e,v,!V&&et,w)}else{var Ct=B?Math.max(en(B),on(B)):360*aa[Yi.DEGREES]/R.getMetersPerUnit(),kt=Ct/Sa/Math.pow(o,T0),Ht=kt/Math.pow(o,i-T0);t=n.maxResolution,t!==void 0?s=0:t=kt/Math.pow(f,s),e=n.minResolution,e===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?e=t/Math.pow(f,l):e=kt/Math.pow(f,l):e=Ht),l=s+Math.floor(Math.log(t/e)/Math.log(f)),e=t/Math.pow(f,l-s),n.constrainResolution?r=re(f,t,e,v,!V&&et,w):r=me(t,e,v,!V&&et,w)}return{constraint:r,maxResolution:t,minResolution:e,minZoom:s,zoomFactor:f}}function ql(n){var r=n.enableRotation!==void 0?n.enableRotation:!0;if(r){var t=n.constrainRotation;return t===void 0||t===!0?$e():t===!1?Ne:typeof t=="number"?Ye(t):Ne}else return se}function b0(n){return!(n.sourceCenter&&n.targetCenter&&!rt(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Uo(n,r,t,e,i){var o=Math.cos(-i),s=Math.sin(-i),l=n[0]*o-n[1]*s,f=n[1]*o+n[0]*s;l+=(r[0]/2-t[0])*e,f+=(t[1]-r[1]/2)*e,s=-s;var h=l*o-f*s,v=f*o+l*s;return[h,v]}var lo=Yc;function Oa(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]+2*r,t[1]=n[1]+2*r,t}function Ua(n){return n[0]>0&&n[1]>0}function r0(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*r+.5|0,t[1]=n[1]*r+.5|0,t}function ua(n,r){return Array.isArray(n)?n:(r===void 0?r=[n,n]:(r[0]=n,r[1]=n),r)}var Xc=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function qf(n){if(n instanceof O){n.setMapInternal(null);return}n instanceof Wi&&n.getLayers().forEach(qf)}function Ap(n,r){if(n instanceof O){n.setMapInternal(r);return}if(n instanceof Wi)for(var t=n.getLayers().getArray(),e=0,i=t.length;e<i;++e)Ap(t[e],r)}var Sv=function(n){Xc(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=wv(t);e.renderComplete_,e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,e.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:ee.a,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=mt(),e.pixelToCoordinateTransform_=mt(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=i.keyboardEventTarget,e.targetChangeHandlerKeys_=null,e.controls=i.controls||new Dn,e.interactions=i.interactions||new Dn,e.overlays_=i.overlays,e.overlayIdIndex_={},e.renderer_=null,e.postRenderFunctions_=[],e.tileQueue_=new xl(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addChangeListener($i.LAYERGROUP,e.handleLayerGroupChanged_),e.addChangeListener($i.VIEW,e.handleViewChanged_),e.addChangeListener($i.SIZE,e.handleSizeChanged_),e.addChangeListener($i.TARGET,e.handleTargetChanged_),e.setProperties(i.values);var o=e;return t.view&&!(t.view instanceof lo)&&t.view.then(function(s){o.setView(new lo(s))}),e.controls.addEventListener(ri.ADD,function(s){s.element.setMap(this)}.bind(e)),e.controls.addEventListener(ri.REMOVE,function(s){s.element.setMap(null)}.bind(e)),e.interactions.addEventListener(ri.ADD,function(s){s.element.setMap(this)}.bind(e)),e.interactions.addEventListener(ri.REMOVE,function(s){s.element.setMap(null)}.bind(e)),e.overlays_.addEventListener(ri.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(e)),e.overlays_.addEventListener(ri.REMOVE,function(s){var l=s.element,f=l.getId();f!==void 0&&delete this.overlayIdIndex_[f.toString()],s.element.setMap(null)}.bind(e)),e.controls.forEach(function(s){s.setMap(this)}.bind(e)),e.interactions.forEach(function(s){s.setMap(this)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e}return r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(t){this.getControls().push(t)},r.prototype.addInteraction=function(t){this.getInteractions().push(t)},r.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},r.prototype.handleLayerAdd_=function(t){Ap(t.layer,this)},r.prototype.addOverlay=function(t){this.getOverlays().push(t)},r.prototype.addOverlayInternal_=function(t){var e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(t,e,i){if(!!this.frameState_){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var s=i.hitTolerance!==void 0?i.hitTolerance:0,l=i.layerFilter!==void 0?i.layerFilter:te.b,f=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,s,f,e,null,l,null)}},r.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},e),i},r.prototype.getAllLayers=function(){var t=[];function e(i){i.forEach(function(o){o instanceof Wi?e(o.getLayers()):t.push(o)})}return e(this.getLayers()),t},r.prototype.forEachLayerAtPixel=function(t,e,i){if(!!this.frameState_){var o=i||{},s=o.hitTolerance!==void 0?o.hitTolerance:0,l=o.layerFilter||te.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,e,l)}},r.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};var o=e.layerFilter!==void 0?e.layerFilter:te.b,s=e.hitTolerance!==void 0?e.hitTolerance:0,l=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,l,o,null)},r.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},r.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},r.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},r.prototype.getTarget=function(){return this.get($i.TARGET)},r.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},r.prototype.getCoordinateFromPixel=function(t){return Y(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?ar(e.pixelToCoordinateTransform,t.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get($i.LAYERGROUP)},r.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof Dn){e.setLayers(t);return}var i=e.getLayers();i.clear(),i.extend(t)},r.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},r.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var o=t[e].layer,s=o.getSource();if(s&&s.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(t){var e=lt(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},r.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?ar(e.coordinateToPixelTransform,t.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get($i.SIZE)},r.prototype.getView=function(){return this.get($i.VIEW)},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},r.prototype.getTilePriority=function(t,e,i,o){return vs(this.frameState_,t,e,i,o)},r.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new Yn(i,this,t);this.handleMapBrowserEvent(o)},r.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var e=t.originalEvent,i=e.type;if(i===ta.POINTERDOWN||i===un.a.WHEEL||i===un.a.KEYDOWN){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,l=e.target;if(this.overlayContainerStopEvent_.contains(l)||!(s===o?o.documentElement:s).contains(l))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var f=this.getInteractions().getArray().slice(),h=f.length-1;h>=0;h--){var v=f[h];if(!(v.getMap()!==this||!v.getActive()||!this.getTargetElement())){var w=v.handleEvent(t);if(!w||t.propagationStopped)break}}}},r.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var s=t.viewHints;if(s[Ui.ANIMATING]||s[Ui.INTERACTING]){var l=Date.now()-t.time>8;i=l?0:8,o=l?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}t&&this.hasListener(No.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(No.RENDERCOMPLETE,t);for(var f=this.postRenderFunctions_,h=0,v=f.length;h<v;++h)f[h](this,t);f.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Object(Hr.c)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(un.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(un.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(ur.e)(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new ps(this,this.moveTolerance_);for(var o in gn)this.mapBrowserEventHandler_.addEventListener(gn[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(un.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(un.a.WHEEL,this.boundHandleBrowserEvent_,ee.e?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,l=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Object(Hr.a)(l,un.a.KEYDOWN,this.handleBrowserEvent,this),Object(Hr.a)(l,un.a.KEYPRESS,this.handleBrowserEvent,this),Object(Hr.a)(s,un.a.RESIZE,this.updateSize,this)]}this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(Hr.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(Hr.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(Hr.a)(t,ze.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(Hr.a)(t,un.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Hr.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Vi("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Object(Hr.a)(t,ze.a.PROPERTYCHANGE,this.render,this),Object(Hr.a)(t,un.a.CHANGE,this.render,this),Object(Hr.a)(t,"addlayer",this.handleLayerAdd_,this),Object(Hr.a)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(t){return this.getControls().remove(t)},r.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},r.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},r.prototype.handleLayerRemove_=function(t){qf(t.layer)},r.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},r.prototype.renderFrame_=function(t){var e=this,i=this.getSize(),o=this.getView(),s=this.frameState_,l=null;if(i!==void 0&&Ua(i)&&o&&o.isDef()){var f=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=o.getState();if(l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Ji(h.center,h.resolution,h.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:f,wantedTiles:{},mapId:Object(Ot.c)(this),renderTargets:{}},h.nextCenter&&h.nextResolution){var v=isNaN(h.nextRotation)?h.rotation:h.nextRotation;l.nextExtent=Ji(h.nextCenter,h.nextResolution,v,i)}}if(this.frameState_=l,this.renderer_.renderFrame(l),l){if(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s){var w=!this.previousExtent_||!Io(this.previousExtent_)&&!Pr(l.extent,this.previousExtent_);w&&(this.dispatchEvent(new Ea(Un.a.MOVESTART,this,s)),this.previousExtent_=Q(this.previousExtent_))}var R=this.previousExtent_&&!l.viewHints[Ui.ANIMATING]&&!l.viewHints[Ui.INTERACTING]&&!Pr(l.extent,this.previousExtent_);R&&(this.dispatchEvent(new Ea(Un.a.MOVEEND,this,l)),Qt(l.extent,this.previousExtent_))}this.dispatchEvent(new Ea(Un.a.POSTRENDER,this,l)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},r.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new Vi("removelayer",e)),this.set($i.LAYERGROUP,t)},r.prototype.setSize=function(t){this.set($i.SIZE,t)},r.prototype.setTarget=function(t){this.set($i.TARGET,t)},r.prototype.setView=function(t){if(!t||t instanceof lo){this.set($i.VIEW,t);return}this.set($i.VIEW,new lo);var e=this;t.then(function(i){e.setView(new lo(i))})},r.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(e=[o,s],!Ua(e)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}},r}(go.a);function wv(n){var r=null;n.keyboardEventTarget!==void 0&&(r=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},e=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Wi({layers:n.layers});t[$i.LAYERGROUP]=e,t[$i.TARGET]=n.target,t[$i.VIEW]=n.view instanceof lo?n.view:new lo;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new Dn(n.controls.slice()):(ye(typeof n.controls.getArray=="function",47),i=n.controls));var o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new Dn(n.interactions.slice()):(ye(typeof n.interactions.getArray=="function",48),o=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Dn(n.overlays.slice()):(ye(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Dn,{controls:i,interactions:o,keyboardEventTarget:r,overlays:s,values:t}}var Mp=Sv,no=u("3900"),xv=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rp=function(n){xv(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.ulElement_=document.createElement("ul"),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=i.collapsible!==void 0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",s=i.tipLabel!==void 0?i.tipLabel:"Attributions",l=i.expandClassName!==void 0?i.expandClassName:o+"-expand",f=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",h=i.collapseClassName!==void 0?i.collapseClassName:o+"-collpase";typeof f=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=f,e.collapseLabel_.className=h):e.collapseLabel_=f;var v=i.label!==void 0?i.label:"i";typeof v=="string"?(e.label_=document.createElement("span"),e.label_.textContent=v,e.label_.className=l):e.label_=v;var w=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;e.toggleButton_=document.createElement("button"),e.toggleButton_.setAttribute("type","button"),e.toggleButton_.setAttribute("aria-expanded",String(!e.collapsed_)),e.toggleButton_.title=s,e.toggleButton_.appendChild(w),e.toggleButton_.addEventListener(un.a.CLICK,e.handleClick_.bind(e),!1);var R=o+" "+vr+" "+Jt+(e.collapsed_&&e.collapsible_?" "+Le:"")+(e.collapsible_?"":" ol-uncollapsible"),B=e.element;return B.className=R,B.appendChild(e.toggleButton_),B.appendChild(e.ulElement_),e.renderedAttributions_=[],e.renderedVisible_=!0,e}return r.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],o=!0,s=t.layerStatesArray,l=0,f=s.length;l<f;++l){var h=s[l];if(!!L(h,t.viewState)){var v=h.layer.getSource();if(!!v){var w=v.getAttributions();if(!!w){var R=w(t);if(!!R)if(o=o&&v.getAttributionsCollapsible()!==!1,Array.isArray(R))for(var B=0,V=R.length;B<V;++B)R[B]in e||(i.push(R[B]),e[R[B]]=!0);else R in e||(i.push(R),e[R]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},r.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(K.b)(e,this.renderedAttributions_)){Object(ur.d)(this.ulElement_);for(var o=0,s=e.length;o<s;++o){var l=document.createElement("li");l.innerHTML=e[o],this.ulElement_.appendChild(l)}this.renderedAttributions_=e}},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(Le),this.collapsed_?Object(ur.g)(this.collapseLabel_,this.label_):Object(ur.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(t){this.updateElement_(t.frameState)},r}(no.default),Qf=Rp,Rl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ql=function(n){Rl(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",s=i.label!==void 0?i.label:"\u21E7",l=i.compassClassName!==void 0?i.compassClassName:"ol-compass";e.label_=null,typeof s=="string"?(e.label_=document.createElement("span"),e.label_.className=l,e.label_.textContent=s):(e.label_=s,e.label_.classList.add(l));var f=i.tipLabel?i.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=f,h.appendChild(e.label_),h.addEventListener(un.a.CLICK,e.handleClick_.bind(e),!1);var v=o+" "+vr+" "+Jt,w=e.element;return w.className=v,w.appendChild(h),e.callResetNorth_=i.resetNorth?i.resetNorth:void 0,e.duration_=i.duration!==void 0?i.duration:250,e.autoHide_=i.autoHide!==void 0?i.autoHide:!0,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(je),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(!!e){var i=e.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Vr}):e.setRotation(0))}},r.prototype.render=function(t){var e=t.frameState;if(!!e){var i=e.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(je);!s&&i===0?this.element.classList.add(je):s&&i!==0&&this.element.classList.remove(je)}this.label_.style.transform=o}this.rotation_=i}},r}(no.default),th=Ql,$h=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ov=function(n){$h(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",s=i.delta!==void 0?i.delta:1,l=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",f=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",h=i.zoomInLabel!==void 0?i.zoomInLabel:"+",v=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",w=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",R=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",B=document.createElement("button");B.className=l,B.setAttribute("type","button"),B.title=w,B.appendChild(typeof h=="string"?document.createTextNode(h):h),B.addEventListener(un.a.CLICK,e.handleClick_.bind(e,s),!1);var V=document.createElement("button");V.className=f,V.setAttribute("type","button"),V.title=R,V.appendChild(typeof v=="string"?document.createTextNode(v):v),V.addEventListener(un.a.CLICK,e.handleClick_.bind(e,-s),!1);var et=o+" "+vr+" "+Jt,vt=e.element;return vt.className=et,vt.appendChild(B),vt.appendChild(V),e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},r.prototype.zoomByDelta_=function(t){var e=this.getMap(),i=e.getView();if(!!i){var o=i.getZoom();if(o!==void 0){var s=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Vr})):i.setZoom(s)}}},r}(no.default),eh=Ov;function Zh(n){var r=n||{},t=new Dn,e=r.zoom!==void 0?r.zoom:!0;e&&t.push(new eh(r.zoomOptions));var i=r.rotate!==void 0?r.rotate:!0;i&&t.push(new th(r.rotateOptions));var o=r.attribution!==void 0?r.attribution:!0;return o&&t.push(new Qf(r.attributionOptions)),t}var rh={ACTIVE:"active"},Tv=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cp=function(n){Tv(r,n);function r(t){var e=n.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return r.prototype.getActive=function(){return this.get(rh.ACTIVE)},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(t){return!0},r.prototype.setActive=function(t){this.set(rh.ACTIVE,t)},r.prototype.setMap=function(t){this.map_=t},r}(go.a);function Lp(n,r,t){var e=n.getCenterInternal();if(e){var i=[e[0]+r[0],e[1]+r[1]];n.animateInternal({duration:t!==void 0?t:250,easing:Kr,center:n.getConstrainedCenter(i)})}}function Kc(n,r,t,e){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+r),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:e!==void 0?e:250,easing:Vr})}}var q0=Cp,_m=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Em=function(n){_m(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==gn.DBLCLICK){var i=t.originalEvent,o=t.map,s=t.coordinate,l=i.shiftKey?-this.delta_:this.delta_,f=o.getView();Kc(f,l,s,this.duration_),i.preventDefault(),e=!0}return!e},r}(q0),bv=Em,Sm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wm=function(n){Sm(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,i.handleDownEvent&&(e.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(e.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(e.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(e.handleUpEvent=i.handleUpEvent),i.stopDown&&(e.stopDown=i.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}return r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(t){return!1},r.prototype.handleDragEvent=function(t){},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==gn.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==gn.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==gn.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==gn.POINTERMOVE&&this.handleMoveEvent(t);return!e},r.prototype.handleMoveEvent=function(t){},r.prototype.handleUpEvent=function(t){return!1},r.prototype.stopDown=function(t){return t},r.prototype.updateTrackedPointers_=function(t){if(xm(t)){var e=t.originalEvent,i=e.pointerId.toString();t.type==gn.POINTERUP?delete this.trackedPointers_[i]:t.type==gn.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=Object(pn.c)(this.trackedPointers_)}},r}(q0);function Pp(n){for(var r=n.length,t=0,e=0,i=0;i<r;i++)t+=n[i].clientX,e+=n[i].clientY;return[t/r,e/r]}function xm(n){var r=n.type;return r===gn.POINTERDOWN||r===gn.POINTERDRAG||r===gn.POINTERUP}var Cl=wm;function $c(n){var r=arguments;return function(t){for(var e=!0,i=0,o=r.length;i<o&&(e=e&&r[i](t),!!e);++i);return e}}var Jh=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},Zc=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},Av=function(n){var r=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return r.contains(t)},Ip=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?Av(n):!0},nh=te.b,Om=function(n){return n.type==gn.CLICK},Np=function(n){var r=n.originalEvent;return r.button==0&&!(ee.f&&ee.d&&r.ctrlKey)},Fp=te.a,Tm=function(n){return n.type=="pointermove"},Pu=function(n){return n.type==gn.SINGLECLICK},Iu=function(n){return n.type==gn.DBLCLICK},tu=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},bm=function(n){var r=n.originalEvent;return!r.altKey&&(ee.d?r.metaKey:r.ctrlKey)&&!r.shiftKey},Jc=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},n0=function(n){var r=n.originalEvent,t=r.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},as=function(n){var r=n.originalEvent;return ye(r!==void 0,56),r.pointerType=="mouse"},Am=function(n){var r=n.originalEvent;return ye(r!==void 0,56),r.pointerType==="touch"},Mm=function(n){var r=n.originalEvent;return ye(r!==void 0,56),r.pointerType==="pen"},qh=function(n){var r=n.originalEvent;return ye(r!==void 0,56),r.isPrimary&&r.button===0},Mv=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rv=function(n){Mv(r,n);function r(t){var e=n.call(this,{stopDown:te.a})||this,i=t||{};e.kinetic_=i.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;var o=i.condition?i.condition:$c(tu,qh);return e.condition_=i.onFocusOnly?$c(Ip,o):o,e.noKinetic_=!1,e}return r.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,i=Pp(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map,l=s.getView();_t(o,l.getResolution()),st(o,l.getRotation()),l.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),l=i.getCenterInternal(),f=e.getPixelFromCoordinateInternal(l),h=e.getCoordinateFromPixelInternal([f[0]-o*Math.cos(s),f[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(h),duration:500,easing:Vr})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},r}(Cl),Cv=Rv,Rm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qh=function(n){Rm(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{stopDown:te.a})||this,e.condition_=i.condition?i.condition:Zc,e.lastAngle_=void 0,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){if(!!as(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==se){var o=e.getSize(),s=t.pixel,l=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);if(this.lastAngle_!==void 0){var f=l-this.lastAngle_;i.adjustRotationInternal(-f)}this.lastAngle_=l}}},r.prototype.handleUpEvent=function(t){if(!as(t))return!0;var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1},r.prototype.handleDownEvent=function(t){if(!as(t))return!1;if(Np(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},r}(Cl),td=Qh,ih=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dp=function(n){ih(r,n);function r(t){var e=n.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}return r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+i,o.top=Math.min(t[1],e[1])+i,o.width=Math.abs(e[0]-t[0])+i,o.height=Math.abs(e[1]-t[1])+i},r.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new so([o])},r.prototype.getGeometry=function(){return this.geometry_},r}(jt.a),Lv=Dp,Pv=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oh={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},jp=function(n){Pv(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.coordinate=e,o.mapBrowserEvent=i,o}return r}(sr.a),Cm=function(n){Pv(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.box_=new Lv(i.className||"ol-dragbox"),e.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(e.onBoxEnd=i.onBoxEnd),e.startPixel_=null,e.condition_=i.condition?i.condition:Np,e.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:e.defaultBoxEndCondition,e}return r.prototype.defaultBoxEndCondition=function(t,e,i){var o=i[0]-e[0],s=i[1]-e[1];return o*o+s*s>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new jp(oh.BOXDRAG,t.coordinate,t))},r.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new jp(e?oh.BOXEND:oh.BOXCANCEL,t.coordinate,t)),!1},r.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new jp(oh.BOXSTART,t.coordinate,t)),!0):!1},r.prototype.onBoxEnd=function(t){},r}(Cl),Lm=Cm,Pm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Im=function(n){Pm(r,n);function r(t){var e=this,i=t||{},o=i.condition?i.condition:Jc;return e=n.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,e.duration_=i.duration!==void 0?i.duration:200,e.out_=i.out!==void 0?i.out:!1,e}return r.prototype.onBoxEnd=function(t){var e=this.getMap(),i=e.getView(),o=this.getGeometry();if(this.out_){var s=i.rotatedExtentForGeometry(o),l=i.getResolutionForExtentInternal(s),f=i.getResolution()/l;o=o.clone(),o.scale(f*f)}i.fitInternal(o,{duration:this.duration_,easing:Vr})},r}(Lm),Nm=Im,Q0={LEFT:37,UP:38,RIGHT:39,DOWN:40},ed=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fm=function(n){ed(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.defaultCondition_=function(o){return tu(o)&&n0(o)},e.condition_=i.condition!==void 0?i.condition:e.defaultCondition_,e.duration_=i.duration!==void 0?i.duration:100,e.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==un.a.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==Q0.DOWN||o==Q0.LEFT||o==Q0.RIGHT||o==Q0.UP)){var s=t.map,l=s.getView(),f=l.getResolution()*this.pixelDelta_,h=0,v=0;o==Q0.DOWN?v=-f:o==Q0.LEFT?h=-f:o==Q0.RIGHT?h=f:v=f;var w=[h,v];st(w,l.getRotation()),Lp(l,w,this.duration_),i.preventDefault(),e=!0}}return!e},r}(q0),Dm=Fm,Iv=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),m=function(n){Iv(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.condition_=i.condition?i.condition:n0,e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:100,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==un.a.KEYDOWN||t.type==un.a.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var s=t.map,l=o=="+".charCodeAt(0)?this.delta_:-this.delta_,f=s.getView();Kc(f,l,void 0,this.duration_),i.preventDefault(),e=!0}}return!e},r}(q0),A=m,H=function(){function n(r,t,e){this.decay_=r,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(r,t){this.points_.push(r,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<r)return!1;for(var e=t-3;e>0&&this.points_[e+2]>r;)e-=3;var i=this.points_[t+2]-this.points_[e+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[e],s=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),ut=H,St=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mt={TRACKPAD:"trackpad",WHEEL:"wheel"},Pt=function(n){St(r,n);function r(t){var e=this,i=t||{};e=n.call(this,i)||this,e.totalDelta_=0,e.lastDelta_=0,e.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,e.duration_=i.duration!==void 0?i.duration:250,e.timeout_=i.timeout!==void 0?i.timeout:80,e.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,e.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:nh;return e.condition_=i.onFocusOnly?$c(Ip,o):o,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==un.a.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==un.a.WHEEL&&(s=o.deltaY,ee.b&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=ee.a),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?Mt.TRACKPAD:Mt.WHEEL);var f=i.getView();if(this.mode_===Mt.TRACKPAD&&!(f.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=l,!1;this.totalDelta_+=s;var h=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),h),!1},r.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=-co(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Kc(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},r}(q0),Ft=Pt,zt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qt=function(n){zt(r,n);function r(t){var e=this,i=t||{},o=i;return o.stopDown||(o.stopDown=te.a),e=n.call(this,o)||this,e.anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=i.threshold!==void 0?i.threshold:.3,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=l}this.lastAngle_=s;var f=t.map,h=f.getView();if(h.getConstraints().rotation!==se){var v=f.getViewport().getBoundingClientRect(),w=Pp(this.targetPointers);w[0]-=v.left,w[1]-=v.top,this.anchor_=f.getCoordinateFromPixelInternal(w),this.rotating_&&(f.render(),h.adjustRotationInternal(e,this.anchor_))}},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Cl),Me=qt,Ze=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Je=function(n){Ze(r,n);function r(t){var e=this,i=t||{},o=i;return o.stopDown||(o.stopDown=te.a),e=n.call(this,o)||this,e.anchor_=null,e.duration_=i.duration!==void 0?i.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}return r.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,l=i.clientY-o.clientY,f=Math.sqrt(s*s+l*l);this.lastDistance_!==void 0&&(e=this.lastDistance_/f),this.lastDistance_=f;var h=t.map,v=h.getView();e!=1&&(this.lastScaleDelta_=e);var w=h.getViewport().getBoundingClientRect(),R=Pp(this.targetPointers);R[0]-=w.left,R[1]-=w.top,this.anchor_=h.getCoordinateFromPixelInternal(R),h.render(),v.adjustResolutionInternal(e,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Cl),Be=Je;function Cr(n){var r=n||{},t=new Dn,e=new ut(-.005,.05,100),i=r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0;i&&t.push(new td);var o=r.doubleClickZoom!==void 0?r.doubleClickZoom:!0;o&&t.push(new bv({delta:r.zoomDelta,duration:r.zoomDuration}));var s=r.dragPan!==void 0?r.dragPan:!0;s&&t.push(new Cv({onFocusOnly:r.onFocusOnly,kinetic:e}));var l=r.pinchRotate!==void 0?r.pinchRotate:!0;l&&t.push(new Me);var f=r.pinchZoom!==void 0?r.pinchZoom:!0;f&&t.push(new Be({duration:r.zoomDuration}));var h=r.keyboard!==void 0?r.keyboard:!0;h&&(t.push(new Dm),t.push(new A({delta:r.zoomDelta,duration:r.zoomDuration})));var v=r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0;v&&t.push(new Ft({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration}));var w=r.shiftDragZoom!==void 0?r.shiftDragZoom:!0;return w&&t.push(new Nm({duration:r.zoomDuration})),t}var gr=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Re=function(n){gr(r,n);function r(t){var e=this;return t=Object(pn.a)({},t),t.controls||(t.controls=Zh()),t.interactions||(t.interactions=Cr({onFocusOnly:!0})),e=n.call(this,t)||this,e}return r.prototype.createRenderer=function(){return new zi(this)},r}(Mp),Ie=Re;u("b64b"),u("a4d3"),u("4de4"),u("d3b7"),u("e439"),u("159b"),u("dbb4");function Ar(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function Nr(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);r&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,e)}return t}function or(n){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Nr(Object(t),!0).forEach(function(e){Ar(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nr(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}u("caad"),u("2532");function Dr(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=Object(F.toRefs)(n);Object.keys(t).forEach(function(i){t[i]=t[i].value});var e=Object(F.reactive)(or({},t));return Object(F.watch)(n,function(){t=Object(F.toRefs)(n),Object.keys(t).forEach(function(i){e[i]!=t[i].value&&!r.includes(i)&&(e[i]=t[i].value)})}),{properties:e}}var mn={name:"ol-map",setup:function(r,t){var e=t.emit,i=Dr(r),o=i.properties,s=Object(F.ref)(null),l=new Ie(o);Object(F.watch)(o,function(){l.setProperties(o)}),Object(F.onMounted)(function(){l.setTarget(s.value)}),Object(F.onUnmounted)(function(){l.setTarget(null),l=null}),Object(F.provide)("map",l);var f=function(){return l.focus()},h=function(vt,Ct){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l.forEachFeatureAtPixel(vt,Ct,kt)},v=function(vt,Ct,kt){return l.forEachLayerAtPixel(vt,Ct,kt)},w=function(vt){return l.getCoordinateFromPixel(vt)},R=function(){return l.refresh()},B=function(){return l.render()},V=function(){return l.updateSize()};return l.on("click",function(et){return e("click",et)}),l.on("dblclick",function(et){return e("dblclick",et)}),l.on("singleclick",function(et){return e("singleclick",et)}),l.on("pointerdrag",function(et){return e("pointerdrag",et)}),l.on("pointermove",function(et){return e("pointermove",et)}),l.on("movestart",function(et){return e("movestart",et)}),l.on("moveend",function(et){return e("moveend",et)}),l.on("postrender",function(et){return e("postrender",et)}),l.on("precompose",function(et){return e("precompose",et)}),l.on("postcompose",function(et){return e("postcompose",et)}),{map:l,mapRef:s,focus:f,forEachFeatureAtPixel:h,forEachLayerAtPixel:v,getCoordinateFromPixel:w,refresh:R,render:B,updateSize:V}},props:{loadTilesWhileAnimating:{type:Boolean,default:!1},loadTilesWhileInteracting:{type:Boolean,default:!1},moveTolerance:{type:Number,default:1},pixelRatio:{type:Number,default:1},controls:{type:Array,default:function(){return[]}}}},ni=u("6b0d"),lr=u.n(ni),xo=lr()(mn,[["render",bt]]);function fo(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}function io(n,r){var t=Object(F.inject)("map"),e=Dr(n),i=e.properties,o=function(){return or(or({},i),{},{projection:typeof i.projection=="string"?i.projection:new Ga(or({},i.projection))})},s=new lo(o());Object(F.onMounted)(function(){t.setView(s)}),s.on("change:center",function(){r("centerChanged",de()),r("zoomChanged",Ri())}),s.on("change:resolution",function(){return r("resolutionChanged",Sn())}),s.on("change:rotation",function(){return r("rotationChanged",Mi())}),Object(F.watch)(i,function(){var fi=o();s.setProperties(fi),s.applyOptions_(fi)});var l=function(oi){return s.adjustCenter(oi)},f=function(oi,Xa){return s.adjustResolution(oi,Xa)},h=function(oi,Xa){return s.adjustRotation(oi,Xa)},v=function(oi,Xa){return s.adjustZoom(oi,Xa)},w=function(oi){return s.animate(oi)},R=function(){return s.beginInteraction()},B=function(oi){return s.calculateExtent(oi)},V=function(){return s.cancelAnimations()},et=function(oi,Xa,B0){return s.centerOn(oi,Xa,B0)},vt=function(){return s.changed()},Ct=function(oi){return s.dispatchEvent(oi)},kt=function(oi,Xa,B0){return s.endInteraction(oi,Xa,B0)},Ht=function(oi,Xa){return s.fit(oi,Xa)},Nt=function(oi){return s.get(oi)},ve=function(){return s.getAnimating()},de=function(){return s.getCenter()},Oe=function(){return s.getInteracting()},Se=function(){return s.getKeys()},Fe=function(){return s.getMaxResolution()},wr=function(){return s.getMaxZoom()},hr=function(){return s.getMinResolution()},Ke=function(){return s.getMinZoom()},Ir=function(){return s.getProjection()},yn=function(){return s.getProperties()},Sn=function(){return s.getResolution()},Rn=function(oi,Xa){return s.getResolutionForExtent(oi,Xa)},Nn=function(oi){return s.getResolutionForZoom(oi)},gi=function(){return s.getResolutions()},mi=function(){return s.getRevision()},Mi=function(){return s.getRotation()},Ri=function(){return s.getZoom()},Br=function(oi){return s.getZoomForResolution(oi)},rs=function(oi){return s.setCenter(oi)},Gi=function(oi){return s.setConstrainResolution(oi)},ra=function(oi){return s.setMaxZoom(oi)},Ya=function(oi){return s.setMinZoom(oi)},cs=function(oi){return s.setResolution(oi)},ns=function(oi){return s.setRotation(oi)},ma=function(oi){return s.setZoom(oi)};return{view:s,adjustCenter:l,adjustResolution:f,adjustRotation:h,adjustZoom:v,animate:w,beginInteraction:R,calculateExtent:B,cancelAnimations:V,centerOn:et,changed:vt,dispatchEvent:Ct,endInteraction:kt,fit:Ht,get:Nt,getAnimating:ve,getCenter:de,getInteracting:Oe,getKeys:Se,getMaxResolution:Fe,getMaxZoom:wr,getMinResolution:hr,getMinZoom:Ke,getProjection:Ir,getProperties:yn,getResolution:Sn,getResolutionForExtent:Rn,getResolutionForZoom:Nn,getResolutions:gi,getRevision:mi,getRotation:Mi,getZoom:Ri,getZoomForResolution:Br,setCenter:rs,setConstrainResolution:Gi,setMaxZoom:ra,setMinZoom:Ya,setResolution:cs,setRotation:ns,setZoom:ma}}var Ho={name:"ol-view",setup:function(r,t){var e=t.emit,i=io(r,e);return or({},i)},props:{center:{type:Array,default:function(){return[0,0]}},constrainRotation:{type:Boolean,default:!0},enableRotation:{type:Boolean,default:!0},extent:{type:Array},constrainOnlyCenter:{type:Boolean,default:!1},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{type:Number},minResolution:{type:Number},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},multiWorld:{type:Boolean,default:!1},constrainResolution:{type:Boolean,default:!1},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean,default:!1},projection:{type:[String,Object],default:"EPSG:3857"},resolution:{type:Number},resolutions:{type:Array},rotation:{type:Number},zoom:{type:Number,default:0},zoomFactor:{type:Number,default:2},padding:{type:Array,default:function(){return[0,0,0,0]}}}},Ai=lr()(Ho,[["render",fo]]);function ka(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var fl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),za=function(n){fl(r,n);function r(t){var e=n.call(this)||this;if(e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;e.setGeometry(i)}else{var o=t;e.setProperties(o)}return e}return r.prototype.clone=function(){var t=new r(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var i=this.getStyle();return i&&t.setStyle(i),t},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(Hr.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(Hr.a)(t,un.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},r.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?hl(t):void 0,this.changed()},r.prototype.setId=function(t){this.id_=t,this.changed()},r.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(go.a);function hl(n){if(typeof n=="function")return n;var r;if(Array.isArray(n))r=n;else{ye(typeof n.getZIndex=="function",41);var t=n;r=[t]}return function(){return r}}var Cn=za,Ll={name:"ol-feature",setup:function(r){var t=Object(F.inject)("vectorSource"),e=Object(F.inject)("vectorLayer"),i=Object(F.inject)("animation",null),o=Dr(r),s=o.properties,l=Object(F.computed)(function(){var f=new Cn(or({},s.properties));return f});return Object(F.watch)(l,function(f,h){t.value.removeFeature(h),t.value.addFeature(f),t.value.changed()}),Object(F.watch)(t,function(f,h){h.removeFeature(l.value),f.addFeature(l.value),f.changed()}),Object(F.onMounted)(function(){t.value.addFeature(l.value),i!=null&&e.value.animateFeature(l.value,i.value)}),Object(F.onUnmounted)(function(){t.value.removeFeature(l.value)}),Object(F.provide)("feature",l),Object(F.provide)("stylable",l),{feature:l}},props:{properties:{type:[ro,Object,Array]}}},Va=lr()(Ll,[["render",ka]]),ys={ref:"htmlContent"};function Xs(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",ys,[Object(F.renderSlot)(n.$slots,"default",{position:t.position})],512)}var ea={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},i0=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ho={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},A0=function(n){i0(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.options=t,e.id=t.id,e.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,e.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,e.element=document.createElement("div"),e.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Rr,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=i||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addChangeListener(ho.ELEMENT,e.handleElementChanged),e.addChangeListener(ho.MAP,e.handleMapChanged),e.addChangeListener(ho.OFFSET,e.handleOffsetChanged),e.addChangeListener(ho.POSITION,e.handlePositionChanged),e.addChangeListener(ho.POSITIONING,e.handlePositioningChanged),t.element!==void 0&&e.setElement(t.element),e.setOffset(t.offset!==void 0?t.offset:[0,0]),e.setPositioning(t.positioning!==void 0?t.positioning:ea.TOP_LEFT),t.position!==void 0&&e.setPosition(t.position),e}return r.prototype.getElement=function(){return this.get(ho.ELEMENT)},r.prototype.getId=function(){return this.id},r.prototype.getMap=function(){return this.get(ho.MAP)},r.prototype.getOffset=function(){return this.get(ho.OFFSET)},r.prototype.getPosition=function(){return this.get(ho.POSITION)},r.prototype.getPositioning=function(){return this.get(ho.POSITIONING)},r.prototype.handleElementChanged=function(){Object(ur.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},r.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(ur.e)(this.element),Object(Hr.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(Hr.a)(t,Un.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},r.prototype.render=function(){this.updatePixelPosition()},r.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},r.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},r.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},r.prototype.setElement=function(t){this.set(ho.ELEMENT,t)},r.prototype.setMap=function(t){this.set(ho.MAP,t)},r.prototype.setOffset=function(t){this.set(ho.OFFSET,t)},r.prototype.setPosition=function(t){this.set(ho.POSITION,t)},r.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},r.prototype.panIntoView=function(t){var e=this.getMap();if(!(!e||!e.getTargetElement()||!this.get(ho.POSITION))){var i=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),s=this.getRect(o,[Object(ur.c)(o),Object(ur.b)(o)]),l=t||{},f=l.margin===void 0?20:l.margin;if(!Pe(i,s)){var h=s[0]-i[0],v=i[2]-s[2],w=s[1]-i[1],R=i[3]-s[3],B=[0,0];if(h<0?B[0]=h-f:v<0&&(B[0]=Math.abs(v)+f),w<0?B[1]=w-f:R<0&&(B[1]=Math.abs(R)+f),B[0]!==0||B[1]!==0){var V=e.getView().getCenterInternal(),et=e.getPixelFromCoordinateInternal(V);if(!et)return;var vt=[et[0]+B[0],et[1]+B[1]],Ct=l.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(vt),duration:Ct.duration,easing:Ct.easing})}}}},r.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[o,s,o+e[0],s+e[1]]},r.prototype.setPositioning=function(t){this.set(ho.POSITIONING,t)},r.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},r.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(e),o=t.getSize();this.updateRenderedPosition(i,o)},r.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var l=Math.round(t[0]+o[0])+"px",f=Math.round(t[1]+o[1])+"px",h="0%",v="0%";s==ea.BOTTOM_RIGHT||s==ea.CENTER_RIGHT||s==ea.TOP_RIGHT?h="-100%":(s==ea.BOTTOM_CENTER||s==ea.CENTER_CENTER||s==ea.TOP_CENTER)&&(h="-50%"),s==ea.BOTTOM_LEFT||s==ea.BOTTOM_CENTER||s==ea.BOTTOM_RIGHT?v="-100%":(s==ea.CENTER_LEFT||s==ea.CENTER_CENTER||s==ea.CENTER_RIGHT)&&(v="-50%");var w="translate("+h+", "+v+") translate("+l+", "+f+")";this.rendered.transform_!=w&&(this.rendered.transform_=w,i.transform=w,i.msTransform=w)},r.prototype.getOptions=function(){return this.options},r}(go.a),tc=A0;function qc(n,r){var t=Object(F.inject)("map"),e=Object(F.ref)(null),i=Dr(n),o=i.properties,s=Object(F.computed)(function(){return new tc(o)});Object(F.onMounted)(function(){t.addOverlay(s.value)}),Object(F.onUnmounted)(function(){t.removeOverlay(s.value)}),Object(F.watch)(s,function(vt,Ct){t.removeOverlay(Ct),t.addOverlay(vt)}),Object(F.watchEffect)(function(){R(e.value)},{flush:"post"}),s.value.on("change:element",function(){return r("elementChanged",l())}),s.value.on("change:offset",function(){return r("offsetChanged",f())}),s.value.on("change:position",function(){return r("positionChanged",h())}),s.value.on("change:positioning",function(){return r("positioningChanged",v())});var l=function(){return s.value.getElement()},f=function(){return s.value.getOffset()},h=function(){return s.value.getPosition()},v=function(){return s.value.getPositioning()},w=function(Ct){return s.value.panIntoView(Ct)},R=function(Ct){return s.value.setElement(Ct)},B=function(Ct){return s.value.setOffset(Ct)},V=function(Ct){return s.value.setPosition(Ct)},et=function(Ct){return s.value.setPositioning(Ct)};return{overlay:s,htmlContent:e,getOffset:f,getPosition:h,getPositioning:v,panIntoView:w,setElement:R,setOffset:B,setPosition:V,setPositioning:et}}var ec={name:"ol-overlay",setup:function(r,t){var e=t.emit,i=new qc(r,e);return or({},i)},props:{position:{type:Array},offset:{type:Array},positioning:{type:String},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:Boolean,default:!1},autoPanMargin:{type:Number,default:20},autoPanAnimation:{type:Object,default:void 0}}},ah=lr()(ec,[["render",Xs]]);function Nv(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default",{position:e.position,speed:e.speed,heading:e.heading,accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,accuracyGeometry:e.accuracyGeometry})}var Gp=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jo={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},sh=function(n){Gp(r,n);function r(t){var e=n.call(this,un.a.ERROR)||this;return e.code=t.code,e.message=t.message,e}return r}(sr.a),rd=function(n){Gp(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.position_=null,e.transform_=Tl,e.watchId_=void 0,e.addChangeListener(Jo.PROJECTION,e.handleProjectionChanged_),e.addChangeListener(Jo.TRACKING,e.handleTrackingChanged_),i.projection!==void 0&&e.setProjection(i.projection),i.trackingOptions!==void 0&&e.setTrackingOptions(i.trackingOptions),e.setTracking(i.tracking!==void 0?i.tracking:!1),e}return r.prototype.disposeInternal=function(){this.setTracking(!1),n.prototype.disposeInternal.call(this)},r.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=ul(Gn("EPSG:4326"),t),this.position_&&this.set(Jo.POSITION,this.transform_(this.position_)))},r.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!t&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},r.prototype.positionChange_=function(t){var e=t.coords;this.set(Jo.ACCURACY,e.accuracy),this.set(Jo.ALTITUDE,e.altitude===null?void 0:e.altitude),this.set(Jo.ALTITUDE_ACCURACY,e.altitudeAccuracy===null?void 0:e.altitudeAccuracy),this.set(Jo.HEADING,e.heading===null?void 0:qo(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(Jo.POSITION,i),this.set(Jo.SPEED,e.speed===null?void 0:e.speed);var o=Hc(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(Jo.ACCURACY_GEOMETRY,o),this.changed()},r.prototype.positionError_=function(t){this.dispatchEvent(new sh(t))},r.prototype.getAccuracy=function(){return this.get(Jo.ACCURACY)},r.prototype.getAccuracyGeometry=function(){return this.get(Jo.ACCURACY_GEOMETRY)||null},r.prototype.getAltitude=function(){return this.get(Jo.ALTITUDE)},r.prototype.getAltitudeAccuracy=function(){return this.get(Jo.ALTITUDE_ACCURACY)},r.prototype.getHeading=function(){return this.get(Jo.HEADING)},r.prototype.getPosition=function(){return this.get(Jo.POSITION)},r.prototype.getProjection=function(){return this.get(Jo.PROJECTION)},r.prototype.getSpeed=function(){return this.get(Jo.SPEED)},r.prototype.getTracking=function(){return this.get(Jo.TRACKING)},r.prototype.getTrackingOptions=function(){return this.get(Jo.TRACKING_OPTIONS)},r.prototype.setProjection=function(t){this.set(Jo.PROJECTION,Gn(t))},r.prototype.setTracking=function(t){this.set(Jo.TRACKING,t)},r.prototype.setTrackingOptions=function(t){this.set(Jo.TRACKING_OPTIONS,t)},r}(go.a),Nu=rd,Qc={name:"ol-geolocation",emits:["positionChanged","speedChanged","headingChanged","altitudeChanged","altitudeAccuracyChanged","accuracyGeometryChanged"],setup:function(r,t){var e=t.emit,i=Dr(r),o=i.properties,s=Object(F.computed)(function(){var et=new Nu(o);return et.on("change",V),et}),l=Object(F.ref)([]),f=Object(F.ref)(0),h=Object(F.ref)(0),v=Object(F.ref)(0),w=Object(F.ref)(0),R=Object(F.ref)(0),B=Object(F.ref)({});Object(F.watch)(l,function(){e("positionChanged",l.value)}),Object(F.watch)(w,function(){e("speedChanged",w.value)}),Object(F.watch)(R,function(){e("headingChanged",R.value)}),Object(F.watch)(h,function(){e("altitudeChanged",h.value)}),Object(F.watch)(v,function(){e("altitudeAccuracyChanged",v.value)}),Object(F.watch)(B,function(){e("accuracyGeometryChanged",B.value)});var V=function(){l.value=s.value.getPosition(),w.value=s.value.getSpeed(),R.value=s.value.getHeading(),f.value=s.value.getAccuracy(),h.value=s.value.getAltitude(),v.value=s.value.getAltitudeAccuracy(),B.value=s.value.getAccuracyGeometry()};return Object(F.watch)(s,function(et,vt){vt.un("change",V),et.on("change",V)}),{geoLoc:s,position:l,accuracy:f,altitude:h,altitudeAccuracy:v,speed:w,heading:R,accuracyGeometry:B}},props:{projection:{type:[String,Object],default:"EPSG:3857"},tracking:{type:Boolean,default:!0},trackingOptions:{type:Object,default:function(){return{enableHighAccuracy:!0}}}}},nd=lr()(Qc,[["render",Nv]]);function id(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var Fv=function(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]},o0=1,M0=2,xc=3,uh=4,Bp=5,Dv=6378137,Up=6356752314e-3,R0=.0066943799901413165,ch=484813681109536e-20,qr=Math.PI/2,jm=.16666666666666666,jv=.04722222222222222,od=.022156084656084655,En=1e-10,ss=.017453292519943295,Pl=57.29577951308232,yo=Math.PI/4,C0=Math.PI*2,Ta=3.14159265359,dl={};dl.greenwich=0,dl.lisbon=-9.131906111111,dl.paris=2.337229166667,dl.bogota=-74.080916666667,dl.madrid=-3.687938888889,dl.rome=12.452333333333,dl.bern=7.439583333333,dl.jakarta=106.807719444444,dl.ferro=-17.666666666667,dl.brussels=4.367975,dl.stockholm=18.058277777778,dl.athens=23.7163375,dl.oslo=10.722916666667;var ad={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},kp=/[\s_\-\/\(\)]/g;function a0(n,r){if(n[r])return n[r];for(var t=Object.keys(n),e=r.toLowerCase().replace(kp,""),i=-1,o,s;++i<t.length;)if(o=t[i],s=o.toLowerCase().replace(kp,""),s===e)return n[o]}var s0=function(n){var r={},t=n.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,f){var h=f.split("=");return h.push(!0),l[h[0].toLowerCase()]=h[1],l},{}),e,i,o,s={proj:"projName",datum:"datumCode",rf:function(l){r.rf=parseFloat(l)},lat_0:function(l){r.lat0=l*ss},lat_1:function(l){r.lat1=l*ss},lat_2:function(l){r.lat2=l*ss},lat_ts:function(l){r.lat_ts=l*ss},lon_0:function(l){r.long0=l*ss},lon_1:function(l){r.long1=l*ss},lon_2:function(l){r.long2=l*ss},alpha:function(l){r.alpha=parseFloat(l)*ss},gamma:function(l){r.rectified_grid_angle=parseFloat(l)},lonc:function(l){r.longc=l*ss},x_0:function(l){r.x0=parseFloat(l)},y_0:function(l){r.y0=parseFloat(l)},k_0:function(l){r.k0=parseFloat(l)},k:function(l){r.k0=parseFloat(l)},a:function(l){r.a=parseFloat(l)},b:function(l){r.b=parseFloat(l)},r_a:function(){r.R_A=!0},zone:function(l){r.zone=parseInt(l,10)},south:function(){r.utmSouth=!0},towgs84:function(l){r.datum_params=l.split(",").map(function(f){return parseFloat(f)})},to_meter:function(l){r.to_meter=parseFloat(l)},units:function(l){r.units=l;var f=a0(ad,l);f&&(r.to_meter=f.to_meter)},from_greenwich:function(l){r.from_greenwich=l*ss},pm:function(l){var f=a0(dl,l);r.from_greenwich=(f||parseFloat(l))*ss},nadgrids:function(l){l==="@null"?r.datumCode="none":r.nadgrids=l},axis:function(l){var f="ewnsud";l.length===3&&f.indexOf(l.substr(0,1))!==-1&&f.indexOf(l.substr(1,1))!==-1&&f.indexOf(l.substr(2,1))!==-1&&(r.axis=l)},approx:function(){r.approx=!0}};for(e in t)i=t[e],e in s?(o=s[e],typeof o=="function"?o(i):r[o]=i):r[e]=i;return typeof r.datumCode=="string"&&r.datumCode!=="WGS84"&&(r.datumCode=r.datumCode.toLowerCase()),r},Gv=P0,tf=1,Bv=2,zp=3,L0=4,Uv=5,sd=-1,Gm=/\s/,kv=/[A-Za-z]/,Bm=/[A-Za-z84_]/,rc=/[,\]]/,ld=/[\d\.E\-\+]/;function ru(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=tf}ru.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==L0)for(;Gm.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case tf:return this.neutral(n);case Bv:return this.keyword(n);case L0:return this.quoted(n);case Uv:return this.afterquote(n);case zp:return this.number(n);case sd:return}},ru.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=L0;return}if(rc.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)},ru.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=tf;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=tf,this.currentObject=this.stack.pop(),this.currentObject||(this.state=sd);return}},ru.prototype.number=function(n){if(ld.test(n)){this.word+=n;return}if(rc.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)},ru.prototype.quoted=function(n){if(n==='"'){this.state=Uv;return}this.word+=n},ru.prototype.keyword=function(n){if(Bm.test(n)){this.word+=n;return}if(n==="["){var r=[];r.push(this.word),this.level++,this.root===null?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,this.state=tf;return}if(rc.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)},ru.prototype.neutral=function(n){if(kv.test(n)){this.word=n,this.state=Bv;return}if(n==='"'){this.word="",this.state=L0;return}if(ld.test(n)){this.word=n,this.state=zp;return}if(rc.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)},ru.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===sd)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function P0(n){var r=new ru(n);return r.output()}function I0(n,r,t){Array.isArray(r)&&(t.unshift(r),r=null);var e=r?{}:n,i=t.reduce(function(o,s){return Il(s,o),o},e);r&&(n[r]=i)}function Il(n,r){if(!Array.isArray(n)){r[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){r[t]={},Il(n[0],r[t]);return}r[t]=n[0];return}if(!n.length){r[t]=!0;return}if(t==="TOWGS84"){r[t]=n;return}if(t==="AXIS"){t in r||(r[t]=[]),r[t].push(n);return}Array.isArray(t)||(r[t]={});var e;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":r[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&Il(n[2],r[t]);return;case"SPHEROID":case"ELLIPSOID":r[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&Il(n[3],r[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],I0(r,t,n);return;default:for(e=-1;++e<n.length;)if(!Array.isArray(n[e]))return Il(n,r[t]);return I0(r,t,n)}}var ud=.017453292519943295;function Vp(n,r){var t=r[0],e=r[1];!(t in n)&&e in n&&(n[t]=n[e],r.length===3&&(n[t]=r[2](n[t])))}function l0(n){return n*ud}function Um(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var r="",t=0,e=n.AXIS.length;t<e;++t){var i=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?r+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?r+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?r+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(n.axis=r)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var o=n.GEOGCS;n.type==="GEOGCS"&&(o=n),o&&(o.DATUM?n.datumCode=o.DATUM.name.toLowerCase():n.datumCode=o.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(n.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=o.DATUM.SPHEROID.a,n.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(n.datum_params=o.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function s(h){var v=n.to_meter||1;return h*v}var l=function(h){return Vp(n,h)},f=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",l0],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",l0],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",l0],["lat0","latitude_of_origin",l0],["lat0","standard_parallel_1",l0],["lat1","standard_parallel_1",l0],["lat2","standard_parallel_2",l0],["azimuth","Azimuth"],["alpha","azimuth",l0],["srsCode","name"]];f.forEach(l),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")&&(n.lat0=l0(n.lat1>0?90:-90),n.lat_ts=n.lat1)}var cd=function(n){var r=Gv(n),t=r.shift(),e=r.shift();r.unshift(["name",e]),r.unshift(["type",t]);var i={};return Il(r,i),Um(i),i};function pl(n){var r=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?pl[n]=s0(arguments[1]):pl[n]=cd(arguments[1]):pl[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(e){Array.isArray(e)?pl.apply(r,e):pl(e)});if(typeof n=="string"){if(n in pl)return pl[n]}else"EPSG"in n?pl["EPSG:"+n.EPSG]=n:"ESRI"in n?pl["ESRI:"+n.ESRI]=n:"IAU2000"in n?pl["IAU2000:"+n.IAU2000]=n:console.log(n);return}}Fv(pl);var zv=pl;function Ux(n){return typeof n=="string"}function kx(n){return n in zv}var zx=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Vx(n){return zx.some(function(r){return n.indexOf(r)>-1})}var Wx=["3857","900913","3785","102113"];function Hx(n){var r=a0(n,"authority");if(!!r){var t=a0(r,"epsg");return t&&Wx.indexOf(t)>-1}}function Yx(n){var r=a0(n,"extension");if(!!r)return a0(r,"proj4")}function Xx(n){return n[0]==="+"}function Kx(n){if(Ux(n)){if(kx(n))return zv[n];if(Vx(n)){var r=cd(n);if(Hx(r))return zv["EPSG:3857"];var t=Yx(r);return t?s0(t):r}if(Xx(n))return s0(n)}else return n}var $x=Kx,G_=function(n,r){n=n||{};var t,e;if(!r)return n;for(e in r)t=r[e],t!==void 0&&(n[e]=t);return n},nc=function(n,r,t){var e=n*r;return t/Math.sqrt(1-e*e)},Wp=function(n){return n<0?-1:1},In=function(n){return Math.abs(n)<=Ta?n:n-Wp(n)*C0},N0=function(n,r,t){var e=n*t,i=.5*n;return e=Math.pow((1-e)/(1+e),i),Math.tan(.5*(qr-r))/e},Hp=function(n,r){for(var t=.5*n,e,i,o=qr-2*Math.atan(r),s=0;s<=15;s++)if(e=n*Math.sin(o),i=qr-2*Math.atan(r*Math.pow((1-e)/(1+e),t))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999};function Zx(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=nc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Jx(n){var r=n.x,t=n.y;if(t*Pl>90&&t*Pl<-90&&r*Pl>180&&r*Pl<-180)return null;var e,i;if(Math.abs(Math.abs(t)-qr)<=En)return null;if(this.sphere)e=this.x0+this.a*this.k0*In(r-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(yo+.5*t));else{var o=Math.sin(t),s=N0(this.e,t,o);e=this.x0+this.a*this.k0*In(r-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return n.x=e,n.y=i,n}function qx(n){var r=n.x-this.x0,t=n.y-this.y0,e,i;if(this.sphere)i=qr-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(i=Hp(this.e,o),i===-9999)return null}return e=In(this.long0+r/(this.a*this.k0)),n.x=e,n.y=i,n}var Qx=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],tO={init:Zx,forward:Jx,inverse:qx,names:Qx};function eO(){}function B_(n){return n}var rO=["longlat","identity"],nO={init:eO,forward:B_,inverse:B_,names:rO},iO=[tO,nO],Vv={},Wv=[];function U_(n,r){var t=Wv.length;return n.names?(Wv[t]=n,n.names.forEach(function(e){Vv[e.toLowerCase()]=t}),this):(console.log(r),!0)}function oO(n){if(!n)return!1;var r=n.toLowerCase();if(typeof Vv[r]!="undefined"&&Wv[Vv[r]])return Wv[Vv[r]]}function aO(){iO.forEach(U_)}var sO={start:aO,add:U_,get:oO},ji={};ji.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},ji.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},ji.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},ji.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},ji.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},ji.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},ji.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},ji.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},ji.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},ji.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},ji.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},ji.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},ji.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},ji.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},ji.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},ji.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},ji.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},ji.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},ji.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},ji.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},ji.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},ji.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},ji.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},ji.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},ji.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},ji.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},ji.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},ji.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},ji.hough={a:6378270,rf:297,ellipseName:"Hough"},ji.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},ji.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},ji.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},ji.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},ji.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},ji.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},ji.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},ji.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},ji.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},ji.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},ji.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},ji.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var lO=ji.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ji.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function uO(n,r,t,e){var i=n*n,o=r*r,s=(i-o)/i,l=0;e?(n*=1-s*(jm+s*(jv+s*od)),i=n*n,s=0):l=Math.sqrt(s);var f=(i-o)/o;return{es:s,e:l,ep2:f}}function cO(n,r,t,e,i){if(!n){var o=a0(ji,e);o||(o=lO),n=o.a,r=o.b,t=o.rf}return t&&!r&&(r=(1-1/t)*n),(t===0||Math.abs(n-r)<En)&&(i=!0,r=n),{a:n,b:r,rf:t,sphere:i}}var Ls={};Ls.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Ls.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Ls.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Ls.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Ls.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Ls.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Ls.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Ls.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Ls.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Ls.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Ls.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Ls.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Ls.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Ls.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Ls.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Ls.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Ls.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function fO(n,r,t,e,i,o,s){var l={};return n===void 0||n==="none"?l.datum_type=Bp:l.datum_type=uh,r&&(l.datum_params=r.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=o0),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=M0,l.datum_params[3]*=ch,l.datum_params[4]*=ch,l.datum_params[5]*=ch,l.datum_params[6]=l.datum_params[6]/1e6+1)),s&&(l.datum_type=xc,l.grids=s),l.a=t,l.b=e,l.es=i,l.ep2=o,l}var hO=fO,k_={};function dO(n,r){var t=new DataView(r),e=gO(t),i=mO(t,e);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=yO(t,i,e),s={header:i,subgrids:o};return k_[n]=s,s}function pO(n){if(n===void 0)return null;var r=n.split(",");return r.map(vO)}function vO(n){if(n.length===0)return null;var r=n[0]==="@";return r&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!r,grid:null,isNull:!0}:{name:n,mandatory:!r,grid:k_[n]||null,isNull:!1}}function fd(n){return n/3600*Math.PI/180}function gO(n){var r=n.getInt32(8,!1);return r===11?!1:(r=n.getInt32(8,!0),r!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function mO(n,r){return{nFields:n.getInt32(8,r),nSubgridFields:n.getInt32(24,r),nSubgrids:n.getInt32(40,r),shiftType:km(n,56,56+8).trim(),fromSemiMajorAxis:n.getFloat64(120,r),fromSemiMinorAxis:n.getFloat64(136,r),toSemiMajorAxis:n.getFloat64(152,r),toSemiMinorAxis:n.getFloat64(168,r)}}function km(n,r,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(r,t)))}function yO(n,r,t){for(var e=176,i=[],o=0;o<r.nSubgrids;o++){var s=EO(n,e,t),l=SO(n,e,s,t),f=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),h=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[fd(s.lowerLongitude),fd(s.lowerLatitude)],del:[fd(s.longitudeInterval),fd(s.latitudeInterval)],lim:[f,h],count:s.gridNodeCount,cvs:_O(l)})}return i}function _O(n){return n.map(function(r){return[fd(r.longitudeShift),fd(r.latitudeShift)]})}function EO(n,r,t){return{name:km(n,r+8,r+16).trim(),parent:km(n,r+24,r+24+8).trim(),lowerLatitude:n.getFloat64(r+72,t),upperLatitude:n.getFloat64(r+88,t),lowerLongitude:n.getFloat64(r+104,t),upperLongitude:n.getFloat64(r+120,t),latitudeInterval:n.getFloat64(r+136,t),longitudeInterval:n.getFloat64(r+152,t),gridNodeCount:n.getInt32(r+168,t)}}function SO(n,r,t,e){for(var i=r+176,o=16,s=[],l=0;l<t.gridNodeCount;l++){var f={latitudeShift:n.getFloat32(i+l*o,e),longitudeShift:n.getFloat32(i+l*o+4,e),latitudeAccuracy:n.getFloat32(i+l*o+8,e),longitudeAccuracy:n.getFloat32(i+l*o+12,e)};s.push(f)}return s}function hd(n,r){if(!(this instanceof hd))return new hd(n);r=r||function(h){if(h)throw h};var t=$x(n);if(typeof t!="object"){r(n);return}var e=hd.projections.get(t.projName);if(!e){r(n);return}if(t.datumCode&&t.datumCode!=="none"){var i=a0(Ls,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=cO(t.a,t.b,t.rf,t.ellps,t.sphere),s=uO(o.a,o.b,o.rf,t.R_A),l=pO(t.nadgrids),f=t.datum||hO(t.datumCode,t.datum_params,o.a,o.b,s.es,s.ep2,l);G_(this,t),G_(this,e),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=f,this.init(),r(null,this)}hd.projections=sO,hd.projections.start();var Yp=hd;function wO(n,r){return n.datum_type!==r.datum_type||n.a!==r.a||Math.abs(n.es-r.es)>5e-11?!1:n.datum_type===o0?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]:n.datum_type===M0?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]&&n.datum_params[3]===r.datum_params[3]&&n.datum_params[4]===r.datum_params[4]&&n.datum_params[5]===r.datum_params[5]&&n.datum_params[6]===r.datum_params[6]:!0}function z_(n,r,t){var e=n.x,i=n.y,o=n.z?n.z:0,s,l,f,h;if(i<-qr&&i>-1.001*qr)i=-qr;else if(i>qr&&i<1.001*qr)i=qr;else{if(i<-qr)return{x:-1/0,y:-1/0,z:n.z};if(i>qr)return{x:1/0,y:1/0,z:n.z}}return e>Math.PI&&(e-=2*Math.PI),l=Math.sin(i),h=Math.cos(i),f=l*l,s=t/Math.sqrt(1-r*f),{x:(s+o)*h*Math.cos(e),y:(s+o)*h*Math.sin(e),z:(s*(1-r)+o)*l}}function V_(n,r,t,e){var i=1e-12,o=i*i,s=30,l,f,h,v,w,R,B,V,et,vt,Ct,kt,Ht,Nt=n.x,ve=n.y,de=n.z?n.z:0,Oe,Se,Fe;if(l=Math.sqrt(Nt*Nt+ve*ve),f=Math.sqrt(Nt*Nt+ve*ve+de*de),l/t<i){if(Oe=0,f/t<i)return Se=qr,Fe=-e,{x:n.x,y:n.y,z:n.z}}else Oe=Math.atan2(ve,Nt);h=de/f,v=l/f,w=1/Math.sqrt(1-r*(2-r)*v*v),V=v*(1-r)*w,et=h*w,Ht=0;do Ht++,B=t/Math.sqrt(1-r*et*et),Fe=l*V+de*et-B*(1-r*et*et),R=r*B/(B+Fe),w=1/Math.sqrt(1-R*(2-R)*v*v),vt=v*(1-R)*w,Ct=h*w,kt=Ct*V-vt*et,V=vt,et=Ct;while(kt*kt>o&&Ht<s);return Se=Math.atan(Ct/Math.abs(vt)),{x:Oe,y:Se,z:Fe}}function xO(n,r,t){if(r===o0)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(r===M0){var e=t[0],i=t[1],o=t[2],s=t[3],l=t[4],f=t[5],h=t[6];return{x:h*(n.x-f*n.y+l*n.z)+e,y:h*(f*n.x+n.y-s*n.z)+i,z:h*(-l*n.x+s*n.y+n.z)+o}}}function OO(n,r,t){if(r===o0)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(r===M0){var e=t[0],i=t[1],o=t[2],s=t[3],l=t[4],f=t[5],h=t[6],v=(n.x-e)/h,w=(n.y-i)/h,R=(n.z-o)/h;return{x:v+f*w-l*R,y:-f*v+w+s*R,z:l*v-s*w+R}}}function Hv(n){return n===o0||n===M0}var TO=function(n,r,t){if(wO(n,r)||n.datum_type===Bp||r.datum_type===Bp)return t;var e=n.a,i=n.es;if(n.datum_type===xc){var o=W_(n,!1,t);if(o!==0)return;e=Dv,i=R0}var s=r.a,l=r.b,f=r.es;if(r.datum_type===xc&&(s=Dv,l=Up,f=R0),i===f&&e===s&&!Hv(n.datum_type)&&!Hv(r.datum_type))return t;if(t=z_(t,i,e),Hv(n.datum_type)&&(t=xO(t,n.datum_type,n.datum_params)),Hv(r.datum_type)&&(t=OO(t,r.datum_type,r.datum_params)),t=V_(t,f,s,l),r.datum_type===xc){var h=W_(r,!0,t);if(h!==0)return}return t};function W_(n,r,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var e={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},o=[],s=0;s<n.grids.length;s++){var l=n.grids[s];if(o.push(l.name),l.isNull){i=e;break}if(l.mandatory,l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}var f=l.grid.subgrids[0],h=(Math.abs(f.del[1])+Math.abs(f.del[0]))/1e4,v=f.ll[0]-h,w=f.ll[1]-h,R=f.ll[0]+(f.lim[0]-1)*f.del[0]+h,B=f.ll[1]+(f.lim[1]-1)*f.del[1]+h;if(!(w>e.y||v>e.x||B<e.y||R<e.x)&&(i=bO(e,r,f),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*Pl+" "+e.y*Pl+" tried: '"+o+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function bO(n,r,t){var e={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return e;var i={x:n.x,y:n.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=In(i.x-Math.PI)+Math.PI;var o=H_(i,t);if(r){if(isNaN(o.x))return e;o.x=i.x-o.x,o.y=i.y-o.y;var s=9,l=1e-12,f,h;do{if(h=H_(o,t),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}f={x:i.x-(h.x+o.x),y:i.y-(h.y+o.y)},o.x+=f.x,o.y+=f.y}while(s--&&Math.abs(f.x)>l&&Math.abs(f.y)>l);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=In(o.x+t.ll[0]),e.y=o.y+t.ll[1]}else isNaN(o.x)||(e.x=n.x+o.x,e.y=n.y+o.y);return e}function H_(n,r){var t={x:n.x/r.del[0],y:n.y/r.del[1]},e={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*e.x,y:t.y-1*e.y},o={x:Number.NaN,y:Number.NaN},s;if(e.x<0||e.x>=r.lim[0]||e.y<0||e.y>=r.lim[1])return o;s=e.y*r.lim[0]+e.x;var l={x:r.cvs[s][0],y:r.cvs[s][1]};s++;var f={x:r.cvs[s][0],y:r.cvs[s][1]};s+=r.lim[0];var h={x:r.cvs[s][0],y:r.cvs[s][1]};s--;var v={x:r.cvs[s][0],y:r.cvs[s][1]},w=i.x*i.y,R=i.x*(1-i.y),B=(1-i.x)*(1-i.y),V=(1-i.x)*i.y;return o.x=B*l.x+R*f.x+V*v.x+w*h.x,o.y=B*l.y+R*f.y+V*v.y+w*h.y,o}var Y_=function(n,r,t){var e=t.x,i=t.y,o=t.z||0,s,l,f,h={};for(f=0;f<3;f++)if(!(r&&f===2&&t.z===void 0))switch(f===0?(s=e,"ew".indexOf(n.axis[f])!==-1?l="x":l="y"):f===1?(s=i,"ns".indexOf(n.axis[f])!==-1?l="y":l="x"):(s=o,l="z"),n.axis[f]){case"e":h[l]=s;break;case"w":h[l]=-s;break;case"n":h[l]=s;break;case"s":h[l]=-s;break;case"u":t[l]!==void 0&&(h.z=s);break;case"d":t[l]!==void 0&&(h.z=-s);break;default:return null}return h},X_=function(n){var r={x:n[0],y:n[1]};return n.length>2&&(r.z=n[2]),n.length>3&&(r.m=n[3]),r},AO=function(n){K_(n.x),K_(n.y)};function K_(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function MO(n,r){return(n.datum.datum_type===o0||n.datum.datum_type===M0)&&r.datumCode!=="WGS84"||(r.datum.datum_type===o0||r.datum.datum_type===M0)&&n.datumCode!=="WGS84"}function Yv(n,r,t,e){var i;if(Array.isArray(t)&&(t=X_(t)),AO(t),n.datum&&r.datum&&MO(n,r)&&(i=new Yp("WGS84"),t=Yv(n,i,t,e),n=i),e&&n.axis!=="enu"&&(t=Y_(n,!1,t)),n.projName==="longlat")t={x:t.x*ss,y:t.y*ss,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=TO(n.datum,r.datum,t),!!t)return r.from_greenwich&&(t={x:t.x-r.from_greenwich,y:t.y,z:t.z||0}),r.projName==="longlat"?t={x:t.x*Pl,y:t.y*Pl,z:t.z||0}:(t=r.forward(t),r.to_meter&&(t={x:t.x/r.to_meter,y:t.y/r.to_meter,z:t.z||0})),e&&r.axis!=="enu"?Y_(r,!0,t):t}var $_=Yp("WGS84");function zm(n,r,t,e){var i,o,s;return Array.isArray(t)?(i=Yv(n,r,t,e)||{x:NaN,y:NaN},t.length>2?typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.splice(3)):[i.x,i.y,t[2]].concat(t.splice(3)):[i.x,i.y].concat(t.splice(2)):[i.x,i.y]):(o=Yv(n,r,t,e),s=Object.keys(t),s.length===2||s.forEach(function(l){if(typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;o[l]=t[l]}),o)}function Z_(n){return n instanceof Yp?n:n.oProj?n.oProj:Yp(n)}function RO(n,r,t){n=Z_(n);var e=!1,i;return typeof r=="undefined"?(r=n,n=$_,e=!0):(typeof r.x!="undefined"||Array.isArray(r))&&(t=r,r=n,n=$_,e=!0),r=Z_(r),t?zm(n,r,t):(i={forward:function(o,s){return zm(n,r,o,s)},inverse:function(o,s){return zm(r,n,o,s)}},e&&(i.oProj=r),i)}var Fu=RO,J_=6,q_="AJSAJS",Q_="AFAFAF",dd=65,nu=73,u0=79,Xp=86,Kp=90,CO={forward:t6,inverse:LO,toPoint:e6};function t6(n,r){return r=r||5,NO(PO({lat:n[1],lon:n[0]}),r)}function LO(n){var r=Wm(i6(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat,r.lon,r.lat]:[r.left,r.bottom,r.right,r.top]}function e6(n){var r=Wm(i6(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat]:[(r.left+r.right)/2,(r.top+r.bottom)/2]}function Vm(n){return n*(Math.PI/180)}function r6(n){return 180*(n/Math.PI)}function PO(n){var r=n.lat,t=n.lon,e=6378137,i=.00669438,o=.9996,s,l,f,h,v,w,R,B=Vm(r),V=Vm(t),et,vt;vt=Math.floor((t+180)/6)+1,t===180&&(vt=60),r>=56&&r<64&&t>=3&&t<12&&(vt=32),r>=72&&r<84&&(t>=0&&t<9?vt=31:t>=9&&t<21?vt=33:t>=21&&t<33?vt=35:t>=33&&t<42&&(vt=37)),s=(vt-1)*6-180+3,et=Vm(s),l=i/(1-i),f=e/Math.sqrt(1-i*Math.sin(B)*Math.sin(B)),h=Math.tan(B)*Math.tan(B),v=l*Math.cos(B)*Math.cos(B),w=Math.cos(B)*(V-et),R=e*((1-i/4-3*i*i/64-5*i*i*i/256)*B-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*B)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*B)-35*i*i*i/3072*Math.sin(6*B));var Ct=o*f*(w+(1-h+v)*w*w*w/6+(5-18*h+h*h+72*v-58*l)*w*w*w*w*w/120)+5e5,kt=o*(R+f*Math.tan(B)*(w*w/2+(5-h+9*v+4*v*v)*w*w*w*w/24+(61-58*h+h*h+600*v-330*l)*w*w*w*w*w*w/720));return r<0&&(kt+=1e7),{northing:Math.round(kt),easting:Math.round(Ct),zoneNumber:vt,zoneLetter:IO(r)}}function Wm(n){var r=n.northing,t=n.easting,e=n.zoneLetter,i=n.zoneNumber;if(i<0||i>60)return null;var o=.9996,s=6378137,l=.00669438,f,h=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),v,w,R,B,V,et,vt,Ct,kt,Ht=t-5e5,Nt=r;e<"N"&&(Nt-=1e7),vt=(i-1)*6-180+3,f=l/(1-l),et=Nt/o,Ct=et/(s*(1-l/4-3*l*l/64-5*l*l*l/256)),kt=Ct+(3*h/2-27*h*h*h/32)*Math.sin(2*Ct)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*Ct)+151*h*h*h/96*Math.sin(6*Ct),v=s/Math.sqrt(1-l*Math.sin(kt)*Math.sin(kt)),w=Math.tan(kt)*Math.tan(kt),R=f*Math.cos(kt)*Math.cos(kt),B=s*(1-l)/Math.pow(1-l*Math.sin(kt)*Math.sin(kt),1.5),V=Ht/(v*o);var ve=kt-v*Math.tan(kt)/B*(V*V/2-(5+3*w+10*R-4*R*R-9*f)*V*V*V*V/24+(61+90*w+298*R+45*w*w-252*f-3*R*R)*V*V*V*V*V*V/720);ve=r6(ve);var de=(V-(1+2*w+R)*V*V*V/6+(5-2*R+28*w-3*R*R+8*f+24*w*w)*V*V*V*V*V/120)/Math.cos(kt);de=vt+r6(de);var Oe;if(n.accuracy){var Se=Wm({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});Oe={top:Se.lat,right:Se.lon,bottom:ve,left:de}}else Oe={lat:ve,lon:de};return Oe}function IO(n){var r="Z";return 84>=n&&n>=72?r="X":72>n&&n>=64?r="W":64>n&&n>=56?r="V":56>n&&n>=48?r="U":48>n&&n>=40?r="T":40>n&&n>=32?r="S":32>n&&n>=24?r="R":24>n&&n>=16?r="Q":16>n&&n>=8?r="P":8>n&&n>=0?r="N":0>n&&n>=-8?r="M":-8>n&&n>=-16?r="L":-16>n&&n>=-24?r="K":-24>n&&n>=-32?r="J":-32>n&&n>=-40?r="H":-40>n&&n>=-48?r="G":-48>n&&n>=-56?r="F":-56>n&&n>=-64?r="E":-64>n&&n>=-72?r="D":-72>n&&n>=-80&&(r="C"),r}function NO(n,r){var t="00000"+n.easting,e="00000"+n.northing;return n.zoneNumber+n.zoneLetter+FO(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,r)+e.substr(e.length-5,r)}function FO(n,r,t){var e=n6(t),i=Math.floor(n/1e5),o=Math.floor(r/1e5)%20;return DO(i,o,e)}function n6(n){var r=n%J_;return r===0&&(r=J_),r}function DO(n,r,t){var e=t-1,i=q_.charCodeAt(e),o=Q_.charCodeAt(e),s=i+n-1,l=o+r,f=!1;s>Kp&&(s=s-Kp+dd-1,f=!0),(s===nu||i<nu&&s>nu||(s>nu||i<nu)&&f)&&s++,(s===u0||i<u0&&s>u0||(s>u0||i<u0)&&f)&&(s++,s===nu&&s++),s>Kp&&(s=s-Kp+dd-1),l>Xp?(l=l-Xp+dd-1,f=!0):f=!1,(l===nu||o<nu&&l>nu||(l>nu||o<nu)&&f)&&l++,(l===u0||o<u0&&l>u0||(l>u0||o<u0)&&f)&&(l++,l===nu&&l++),l>Xp&&(l=l-Xp+dd-1);var h=String.fromCharCode(s)+String.fromCharCode(l);return h}function i6(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var r=n.length,t=null,e="",i,o=0;!/[A-Z]/.test(i=n.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+n;e+=i,o++}var s=parseInt(e,10);if(o===0||o+3>r)throw"MGRSPoint bad conversion from: "+n;var l=n.charAt(o++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+n;t=n.substring(o,o+=2);for(var f=n6(s),h=jO(t.charAt(0),f),v=GO(t.charAt(1),f);v<BO(l);)v+=2e6;var w=r-o;if(w%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var R=w/2,B=0,V=0,et,vt,Ct,kt,Ht;return R>0&&(et=1e5/Math.pow(10,R),vt=n.substring(o,o+R),B=parseFloat(vt)*et,Ct=n.substring(o+R),V=parseFloat(Ct)*et),kt=B+h,Ht=V+v,{easting:kt,northing:Ht,zoneLetter:l,zoneNumber:s,accuracy:et}}function jO(n,r){for(var t=q_.charCodeAt(r-1),e=1e5,i=!1;t!==n.charCodeAt(0);){if(t++,t===nu&&t++,t===u0&&t++,t>Kp){if(i)throw"Bad character: "+n;t=dd,i=!0}e+=1e5}return e}function GO(n,r){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=Q_.charCodeAt(r-1),e=0,i=!1;t!==n.charCodeAt(0);){if(t++,t===nu&&t++,t===u0&&t++,t>Xp){if(i)throw"Bad character: "+n;t=dd,i=!0}e+=1e5}return e}function BO(n){var r;switch(n){case"C":r=11e5;break;case"D":r=2e6;break;case"E":r=28e5;break;case"F":r=37e5;break;case"G":r=46e5;break;case"H":r=55e5;break;case"J":r=64e5;break;case"K":r=73e5;break;case"L":r=82e5;break;case"M":r=91e5;break;case"N":r=0;break;case"P":r=8e5;break;case"Q":r=17e5;break;case"R":r=26e5;break;case"S":r=35e5;break;case"T":r=44e5;break;case"U":r=53e5;break;case"V":r=62e5;break;case"W":r=7e6;break;case"X":r=79e5;break;default:r=-1}if(r>=0)return r;throw"Invalid zone letter: "+n}function pd(n,r,t){if(!(this instanceof pd))return new pd(n,r,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof r=="undefined"){var e=n.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=n,this.y=r,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}pd.fromMGRS=function(n){return new pd(e6(n))},pd.prototype.toMGRS=function(n){return t6([this.x,this.y],n)};var UO=pd,kO=1,zO=.25,o6=.046875,a6=.01953125,s6=.01068115234375,VO=.75,WO=.46875,HO=.013020833333333334,YO=.007120768229166667,XO=.3645833333333333,KO=.005696614583333333,$O=.3076171875,l6=function(n){var r=[];r[0]=kO-n*(zO+n*(o6+n*(a6+n*s6))),r[1]=n*(VO-n*(o6+n*(a6+n*s6)));var t=n*n;return r[2]=t*(WO-n*(HO+n*YO)),t*=n,r[3]=t*(XO-n*KO),r[4]=t*n*$O,r},Xv=function(n,r,t,e){return t*=r,r*=r,e[0]*n-t*(e[1]+r*(e[2]+r*(e[3]+r*e[4])))},ZO=20,u6=function(n,r,t){for(var e=1/(1-r),i=n,o=ZO;o;--o){var s=Math.sin(i),l=1-r*s*s;if(l=(Xv(i,s,Math.cos(i),t)-n)*(l*Math.sqrt(l))*e,i-=l,Math.abs(l)<En)return i}return i};function JO(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=l6(this.es),this.ml0=Xv(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function qO(n){var r=n.x,t=n.y,e=In(r-this.long0),i,o,s,l=Math.sin(t),f=Math.cos(t);if(this.es){var v=f*e,w=Math.pow(v,2),R=this.ep2*Math.pow(f,2),B=Math.pow(R,2),V=Math.abs(f)>En?Math.tan(t):0,et=Math.pow(V,2),vt=Math.pow(et,2);i=1-this.es*Math.pow(l,2),v=v/Math.sqrt(i);var Ct=Xv(t,l,f,this.en);o=this.a*(this.k0*v*(1+w/6*(1-et+R+w/20*(5-18*et+vt+14*R-58*et*R+w/42*(61+179*vt-vt*et-479*et)))))+this.x0,s=this.a*(this.k0*(Ct-this.ml0+l*e*v/2*(1+w/12*(5-et+9*R+4*B+w/30*(61+vt-58*et+270*R-330*et*R+w/56*(1385+543*vt-vt*et-3111*et))))))+this.y0}else{var h=f*Math.sin(e);if(Math.abs(Math.abs(h)-1)<En)return 93;if(o=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,s=f*Math.cos(e)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(s),h>=1){if(h-1>En)return 93;s=0}else s=Math.acos(s);t<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return n.x=o,n.y=s,n}function QO(n){var r,t,e,i,o=(n.x-this.x0)*(1/this.a),s=(n.y-this.y0)*(1/this.a);if(this.es)if(r=this.ml0+s/this.k0,t=u6(r,this.es,this.en),Math.abs(t)<qr){var w=Math.sin(t),R=Math.cos(t),B=Math.abs(R)>En?Math.tan(t):0,V=this.ep2*Math.pow(R,2),et=Math.pow(V,2),vt=Math.pow(B,2),Ct=Math.pow(vt,2);r=1-this.es*Math.pow(w,2);var kt=o*Math.sqrt(r)/this.k0,Ht=Math.pow(kt,2);r=r*B,e=t-r*Ht/(1-this.es)*.5*(1-Ht/12*(5+3*vt-9*V*vt+V-4*et-Ht/30*(61+90*vt-252*V*vt+45*Ct+46*V-Ht/56*(1385+3633*vt+4095*Ct+1574*Ct*vt)))),i=In(this.long0+kt*(1-Ht/6*(1+2*vt+V-Ht/20*(5+28*vt+24*Ct+8*V*vt+6*V-Ht/42*(61+662*vt+1320*Ct+720*Ct*vt))))/R)}else e=qr*Wp(s),i=0;else{var l=Math.exp(o/this.k0),f=.5*(l-1/l),h=this.lat0+s/this.k0,v=Math.cos(h);r=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(f,2))),e=Math.asin(r),s<0&&(e=-e),f===0&&v===0?i=0:i=In(Math.atan2(f,v)+this.long0)}return n.x=i,n.y=e,n}var tT=["Fast_Transverse_Mercator","Fast Transverse Mercator"],Kv={init:JO,forward:qO,inverse:QO,names:tT},c6=function(n){var r=Math.exp(n);return r=(r-1/r)/2,r},$v=function(n,r){n=Math.abs(n),r=Math.abs(r);var t=Math.max(n,r),e=Math.min(n,r)/(t||1);return t*Math.sqrt(1+Math.pow(e,2))},eT=function(n){var r=1+n,t=r-1;return t===0?n:n*Math.log(r)/t},rT=function(n){var r=Math.abs(n);return r=eT(r*(1+r/($v(1,r)+1))),n<0?-r:r},Hm=function(n,r){for(var t=2*Math.cos(2*r),e=n.length-1,i=n[e],o=0,s;--e>=0;)s=-o+t*i+n[e],o=i,i=s;return r+s*Math.sin(2*r)},nT=function(n,r){for(var t=2*Math.cos(r),e=n.length-1,i=n[e],o=0,s;--e>=0;)s=-o+t*i+n[e],o=i,i=s;return Math.sin(r)*s},iT=function(n){var r=Math.exp(n);return r=(r+1/r)/2,r},f6=function(n,r,t){for(var e=Math.sin(r),i=Math.cos(r),o=c6(t),s=iT(t),l=2*i*s,f=-2*e*o,h=n.length-1,v=n[h],w=0,R=0,B=0,V,et;--h>=0;)V=R,et=w,R=v,w=B,v=-V+l*R-f*w+n[h],B=-et+f*R+l*w;return l=e*s,f=i*o,[l*v-f*B,l*B+f*v]};function oT(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Kv.init.apply(this),this.forward=Kv.forward,this.inverse=Kv.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),r=n/(2-n),t=r;this.cgb[0]=r*(2+r*(-2/3+r*(-2+r*(116/45+r*(26/45+r*(-2854/675)))))),this.cbg[0]=r*(-2+r*(2/3+r*(4/3+r*(-82/45+r*(32/45+r*(4642/4725)))))),t=t*r,this.cgb[1]=t*(7/3+r*(-8/5+r*(-227/45+r*(2704/315+r*(2323/945))))),this.cbg[1]=t*(5/3+r*(-16/15+r*(-13/9+r*(904/315+r*(-1522/945))))),t=t*r,this.cgb[2]=t*(56/15+r*(-136/35+r*(-1262/105+r*(73814/2835)))),this.cbg[2]=t*(-26/15+r*(34/21+r*(8/5+r*(-12686/2835)))),t=t*r,this.cgb[3]=t*(4279/630+r*(-332/35+r*(-399572/14175))),this.cbg[3]=t*(1237/630+r*(-12/5+r*(-24832/14175))),t=t*r,this.cgb[4]=t*(4174/315+r*(-144838/6237)),this.cbg[4]=t*(-734/315+r*(109598/31185)),t=t*r,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(r,2),this.Qn=this.k0/(1+r)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=r*(-.5+r*(2/3+r*(-37/96+r*(1/360+r*(81/512+r*(-96199/604800)))))),this.gtu[0]=r*(.5+r*(-2/3+r*(5/16+r*(41/180+r*(-127/288+r*(7891/37800)))))),this.utg[1]=t*(-1/48+r*(-1/15+r*(437/1440+r*(-46/105+r*(1118711/3870720))))),this.gtu[1]=t*(13/48+r*(-3/5+r*(557/1440+r*(281/630+r*(-1983433/1935360))))),t=t*r,this.utg[2]=t*(-17/480+r*(37/840+r*(209/4480+r*(-5569/90720)))),this.gtu[2]=t*(61/240+r*(-103/140+r*(15061/26880+r*(167603/181440)))),t=t*r,this.utg[3]=t*(-4397/161280+r*(11/504+r*(830251/7257600))),this.gtu[3]=t*(49561/161280+r*(-179/168+r*(6601661/7257600))),t=t*r,this.utg[4]=t*(-4583/161280+r*(108847/3991680)),this.gtu[4]=t*(34729/80640+r*(-3418889/1995840)),t=t*r,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var e=Hm(this.cbg,this.lat0);this.Zb=-this.Qn*(e+nT(this.gtu,2*e))}function aT(n){var r=In(n.x-this.long0),t=n.y;t=Hm(this.cbg,t);var e=Math.sin(t),i=Math.cos(t),o=Math.sin(r),s=Math.cos(r);t=Math.atan2(e,s*i),r=Math.atan2(o*i,$v(e,i*s)),r=rT(Math.tan(r));var l=f6(this.gtu,2*t,2*r);t=t+l[0],r=r+l[1];var f,h;return Math.abs(r)<=2.623395162778?(f=this.a*(this.Qn*r)+this.x0,h=this.a*(this.Qn*t+this.Zb)+this.y0):(f=1/0,h=1/0),n.x=f,n.y=h,n}function sT(n){var r=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,r=r/this.Qn;var e,i;if(Math.abs(r)<=2.623395162778){var o=f6(this.utg,2*t,2*r);t=t+o[0],r=r+o[1],r=Math.atan(c6(r));var s=Math.sin(t),l=Math.cos(t),f=Math.sin(r),h=Math.cos(r);t=Math.atan2(s*h,$v(f,h*l)),r=Math.atan2(f,h*l),e=In(r+this.long0),i=Hm(this.cgb,t)}else e=1/0,i=1/0;return n.x=e,n.y=i,n}var lT=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],Zv={init:oT,forward:aT,inverse:sT,names:lT},uT=function(n,r){if(n===void 0){if(n=Math.floor((In(r)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n},cT="etmerc";function fT(){var n=uT(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*ss,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Zv.init.apply(this),this.forward=Zv.forward,this.inverse=Zv.inverse}var hT=["Universal Transverse Mercator System","utm"],dT={init:fT,names:hT,dependsOn:cT},Ym=function(n,r){return Math.pow((1-n)/(1+n),r)},pT=20;function vT(){var n=Math.sin(this.lat0),r=Math.cos(this.lat0);r*=r,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*r*r/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+yo)/(Math.pow(Math.tan(.5*this.lat0+yo),this.C)*Ym(this.e*n,this.ratexp))}function gT(n){var r=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+yo),this.C)*Ym(this.e*Math.sin(t),this.ratexp))-qr,n.x=this.C*r,n}function mT(n){for(var r=1e-14,t=n.x/this.C,e=n.y,i=Math.pow(Math.tan(.5*e+yo)/this.K,1/this.C),o=pT;o>0&&(e=2*Math.atan(i*Ym(this.e*Math.sin(n.y),-.5*this.e))-qr,!(Math.abs(e-n.y)<r));--o)n.y=e;return o?(n.x=t,n.y=e,n):null}var yT=["gauss"],Xm={init:vT,forward:gT,inverse:mT,names:yT};function _T(){Xm.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ET(n){var r,t,e,i;return n.x=In(n.x-this.long0),Xm.forward.apply(this,[n]),r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i=this.k0*this.R2/(1+this.sinc0*r+this.cosc0*t*e),n.x=i*t*Math.sin(n.x),n.y=i*(this.cosc0*r-this.sinc0*t*e),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function ST(n){var r,t,e,i,o;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,o=Math.sqrt(n.x*n.x+n.y*n.y)){var s=2*Math.atan2(o,this.R2);r=Math.sin(s),t=Math.cos(s),i=Math.asin(t*this.sinc0+n.y*r*this.cosc0/o),e=Math.atan2(n.x*r,o*this.cosc0*t-n.y*this.sinc0*r)}else i=this.phic0,e=0;return n.x=e,n.y=i,Xm.inverse.apply(this,[n]),n.x=In(n.x+this.long0),n}var wT=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],xT={init:_T,forward:ET,inverse:ST,names:wT};function OT(n,r,t){return r*=t,Math.tan(.5*(qr+n))*Math.pow((1-r)/(1+r),.5*t)}function TT(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=En&&(this.k0=.5*(1+Wp(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=En&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=En&&(this.k0=.5*this.cons*nc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/N0(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=nc(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-qr,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function bT(n){var r=n.x,t=n.y,e=Math.sin(t),i=Math.cos(t),o,s,l,f,h,v,w=In(r-this.long0);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=En&&Math.abs(t+this.lat0)<=En?(n.x=NaN,n.y=NaN,n):this.sphere?(o=2*this.k0/(1+this.sinlat0*e+this.coslat0*i*Math.cos(w)),n.x=this.a*o*i*Math.sin(w)+this.x0,n.y=this.a*o*(this.coslat0*e-this.sinlat0*i*Math.cos(w))+this.y0,n):(s=2*Math.atan(this.ssfn_(t,e,this.e))-qr,f=Math.cos(s),l=Math.sin(s),Math.abs(this.coslat0)<=En?(h=N0(this.e,t*this.con,this.con*e),v=2*this.a*this.k0*h/this.cons,n.x=this.x0+v*Math.sin(r-this.long0),n.y=this.y0-this.con*v*Math.cos(r-this.long0),n):(Math.abs(this.sinlat0)<En?(o=2*this.a*this.k0/(1+f*Math.cos(w)),n.y=o*l):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*f*Math.cos(w))),n.y=o*(this.cosX0*l-this.sinX0*f*Math.cos(w))+this.y0),n.x=o*f*Math.sin(w)+this.x0,n))}function AT(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,o,s=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return r=this.long0,t=this.lat0,s<=En?(n.x=r,n.y=t,n):(t=Math.asin(Math.cos(l)*this.sinlat0+n.y*Math.sin(l)*this.coslat0/s),Math.abs(this.coslat0)<En?this.lat0>0?r=In(this.long0+Math.atan2(n.x,-1*n.y)):r=In(this.long0+Math.atan2(n.x,n.y)):r=In(this.long0+Math.atan2(n.x*Math.sin(l),s*this.coslat0*Math.cos(l)-n.y*this.sinlat0*Math.sin(l))),n.x=r,n.y=t,n)}else if(Math.abs(this.coslat0)<=En){if(s<=En)return t=this.lat0,r=this.long0,n.x=r,n.y=t,n;n.x*=this.con,n.y*=this.con,e=s*this.cons/(2*this.a*this.k0),t=this.con*Hp(this.e,e),r=this.con*In(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),r=this.long0,s<=En?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+n.y*Math.sin(i)*this.cosX0/s),r=In(this.long0+Math.atan2(n.x*Math.sin(i),s*this.cosX0*Math.cos(i)-n.y*this.sinX0*Math.sin(i)))),t=-1*Hp(this.e,Math.tan(.5*(qr+o)));return n.x=r,n.y=t,n}var MT=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],RT={init:TT,forward:bT,inverse:AT,names:MT,ssfn_:OT};function CT(){var n=this.lat0;this.lambda0=this.long0;var r=Math.sin(n),t=this.a,e=this.rf,i=1/e,o=2*i-Math.pow(i,2),s=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(r,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(r/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),f=Math.log(Math.tan(Math.PI/4+n/2)),h=Math.log((1+s*r)/(1-s*r));this.K=l-this.alpha*f+this.alpha*s/2*h}function LT(n){var r=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),e=-this.alpha*(r+t)+this.K,i=2*(Math.atan(Math.exp(e))-Math.PI/4),o=this.alpha*(n.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),l=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return n.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,n.x=this.R*s+this.x0,n}function PT(n){for(var r=n.x-this.x0,t=n.y-this.y0,e=r/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),s=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),l=this.lambda0+s/this.alpha,f=0,h=o,v=-1e3,w=0;Math.abs(h-v)>1e-7;){if(++w>20)return;f=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),v=h,h=2*Math.atan(Math.exp(f))-Math.PI/2}return n.x=l,n.y=h,n}var IT=["somerc"],NT={init:CT,forward:LT,inverse:PT,names:IT},vd=1e-7;function FT(n){var r=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||r.indexOf(t)!==-1}function DT(){var n,r,t,e,i,o,s,l,f,h,v=0,w,R=0,B=0,V=0,et=0,vt=0,Ct=0;this.no_off=FT(this),this.no_rot="no_rot"in this;var kt=!1;"alpha"in this&&(kt=!0);var Ht=!1;if("rectified_grid_angle"in this&&(Ht=!0),kt&&(Ct=this.alpha),Ht&&(v=this.rectified_grid_angle*ss),kt||Ht)R=this.longc;else if(B=this.long1,et=this.lat1,V=this.long2,vt=this.lat2,Math.abs(et-vt)<=vd||(n=Math.abs(et))<=vd||Math.abs(n-qr)<=vd||Math.abs(Math.abs(this.lat0)-qr)<=vd||Math.abs(Math.abs(vt)-qr)<=vd)throw new Error;var Nt=1-this.es;r=Math.sqrt(Nt),Math.abs(this.lat0)>En?(l=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*l*l,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/Nt),this.A=this.B*this.k0*r/n,e=this.B*r/(t*Math.sqrt(n)),i=e*e-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=e,this.E*=Math.pow(N0(this.e,this.lat0,l),this.B)):(this.B=1/r,this.A=this.k0,this.E=e=i=1),kt||Ht?(kt?(w=Math.asin(Math.sin(Ct)/e),Ht||(v=Ct)):(w=v,Ct=Math.asin(e*Math.sin(w))),this.lam0=R-Math.asin(.5*(i-1/i)*Math.tan(w))/this.B):(o=Math.pow(N0(this.e,et,Math.sin(et)),this.B),s=Math.pow(N0(this.e,vt,Math.sin(vt)),this.B),i=this.E/o,f=(s-o)/(s+o),h=this.E*this.E,h=(h-s*o)/(h+s*o),n=B-V,n<-Math.pi?V-=C0:n>Math.pi&&(V+=C0),this.lam0=In(.5*(B+V)-Math.atan(h*Math.tan(.5*this.B*(B-V))/f)/this.B),w=Math.atan(2*Math.sin(this.B*In(B-this.lam0))/(i-1/i)),v=Ct=Math.asin(e*Math.sin(w))),this.singam=Math.sin(w),this.cosgam=Math.cos(w),this.sinrot=Math.sin(v),this.cosrot=Math.cos(v),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(Ct))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*w,this.v_pole_n=this.ArB*Math.log(Math.tan(yo-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(yo+i))}function jT(n){var r={},t,e,i,o,s,l,f,h;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-qr)>En){if(s=this.E/Math.pow(N0(this.e,n.y,Math.sin(n.y)),this.B),l=1/s,t=.5*(s-l),e=.5*(s+l),o=Math.sin(this.B*n.x),i=(t*this.singam-o*this.cosgam)/e,Math.abs(Math.abs(i)-1)<En)throw new Error;h=.5*this.ArB*Math.log((1-i)/(1+i)),l=Math.cos(this.B*n.x),Math.abs(l)<vd?f=this.A*n.x:f=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,l)}else h=n.y>0?this.v_pole_n:this.v_pole_s,f=this.ArB*n.y;return this.no_rot?(r.x=f,r.y=h):(f-=this.u_0,r.x=h*this.cosrot+f*this.sinrot,r.y=f*this.cosrot-h*this.sinrot),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function GT(n){var r,t,e,i,o,s,l,f={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,r=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,r=n.y*this.cosrot+n.x*this.sinrot+this.u_0),e=Math.exp(-this.BrA*t),i=.5*(e-1/e),o=.5*(e+1/e),s=Math.sin(this.BrA*r),l=(s*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(l)-1)<En)f.x=0,f.y=l<0?-qr:qr;else{if(f.y=this.E/Math.sqrt((1+l)/(1-l)),f.y=Hp(this.e,Math.pow(f.y,1/this.B)),f.y===1/0)throw new Error;f.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*r))}return f.x+=this.lam0,f}var BT=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],UT={init:DT,forward:jT,inverse:GT,names:BT};function kT(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<En)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var r=Math.sin(this.lat1),t=Math.cos(this.lat1),e=nc(this.e,r,t),i=N0(this.e,this.lat1,r),o=Math.sin(this.lat2),s=Math.cos(this.lat2),l=nc(this.e,o,s),f=N0(this.e,this.lat2,o),h=N0(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>En?this.ns=Math.log(e/l)/Math.log(i/f):this.ns=r,isNaN(this.ns)&&(this.ns=r),this.f0=e/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function zT(n){var r=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=En&&(t=Wp(t)*(qr-2*En));var e=Math.abs(Math.abs(t)-qr),i,o;if(e>En)i=N0(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(i,this.ns);else{if(e=t*this.ns,e<=0)return null;o=0}var s=this.ns*In(r-this.long0);return n.x=this.k0*(o*Math.sin(s))+this.x0,n.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,n}function VT(n){var r,t,e,i,o,s=(n.x-this.x0)/this.k0,l=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(r=Math.sqrt(s*s+l*l),t=1):(r=-Math.sqrt(s*s+l*l),t=-1);var f=0;if(r!==0&&(f=Math.atan2(t*s,t*l)),r!==0||this.ns>0){if(t=1/this.ns,e=Math.pow(r/(this.a*this.f0),t),i=Hp(this.e,e),i===-9999)return null}else i=-qr;return o=In(f/this.ns+this.long0),n.x=o,n.y=i,n}var WT=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"],HT={init:kT,forward:zT,inverse:VT,names:WT};function YT(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function XT(n){var r,t,e,i,o,s,l,f=n.x,h=n.y,v=In(f-this.long0);return r=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/r)-this.s45),e=-v*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(e)),o=Math.asin(Math.cos(t)*Math.sin(e)/Math.cos(i)),s=this.n*o,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),n.y=l*Math.cos(s)/1,n.x=l*Math.sin(s)/1,this.czech||(n.y*=-1,n.x*=-1),n}function KT(n){var r,t,e,i,o,s,l,f,h=n.x;n.x=n.y,n.y=h,this.czech||(n.y*=-1,n.x*=-1),s=Math.sqrt(n.x*n.x+n.y*n.y),o=Math.atan2(n.y,n.x),i=o/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),r=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),t=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(r)),n.x=this.long0-t/this.alfa,l=r,f=0;var v=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(r/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-n.y)<1e-10&&(f=1),l=n.y,v+=1;while(f===0&&v<15);return v>=15?null:n}var $T=["Krovak","krovak"],ZT={init:YT,forward:XT,inverse:KT,names:$T},Nl=function(n,r,t,e,i){return n*i-r*Math.sin(2*i)+t*Math.sin(4*i)-e*Math.sin(6*i)},$p=function(n){return 1-.25*n*(1+n/16*(3+1.25*n))},Zp=function(n){return .375*n*(1+.25*n*(1+.46875*n))},Jp=function(n){return .05859375*n*n*(1+.75*n)},qp=function(n){return n*n*n*(35/3072)},gd=function(n,r,t){var e=r*t;return n/Math.sqrt(1-e*e)},md=function(n){return Math.abs(n)<qr?n:n-Wp(n)*Math.PI},Jv=function(n,r,t,e,i){var o,s;o=n/r;for(var l=0;l<15;l++)if(s=(n-(r*o-t*Math.sin(2*o)+e*Math.sin(4*o)-i*Math.sin(6*o)))/(r-2*t*Math.cos(2*o)+4*e*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN};function JT(){this.sphere||(this.e0=$p(this.es),this.e1=Zp(this.es),this.e2=Jp(this.es),this.e3=qp(this.es),this.ml0=this.a*Nl(this.e0,this.e1,this.e2,this.e3,this.lat0))}function qT(n){var r,t,e=n.x,i=n.y;if(e=In(e-this.long0),this.sphere)r=this.a*Math.asin(Math.cos(i)*Math.sin(e)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(e))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),l=gd(this.a,this.e,o),f=Math.tan(i)*Math.tan(i),h=e*Math.cos(i),v=h*h,w=this.es*s*s/(1-this.es),R=this.a*Nl(this.e0,this.e1,this.e2,this.e3,i);r=l*h*(1-v*f*(1/6-(8-f+8*w)*v/120)),t=R-this.ml0+l*o/s*v*(.5+(5-f+6*w)*v/24)}return n.x=r+this.x0,n.y=t+this.y0,n}function QT(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i;if(this.sphere){var o=t+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),i=Math.atan2(Math.tan(r),Math.cos(o))}else{var s=this.ml0/this.a+t,l=Jv(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-qr)<=En)return n.x=this.long0,n.y=qr,t<0&&(n.y*=-1),n;var f=gd(this.a,this.e,Math.sin(l)),h=f*f*f/this.a/this.a*(1-this.es),v=Math.pow(Math.tan(l),2),w=r*this.a/f,R=w*w;e=l-f*Math.tan(l)/h*w*w*(.5-(1+3*v)*w*w/24),i=w*(1-R*(v/3+(1+3*v)*v*R/15))/Math.cos(l)}return n.x=In(i+this.long0),n.y=md(e),n}var tb=["Cassini","Cassini_Soldner","cass"],eb={init:JT,forward:qT,inverse:QT,names:tb},ef=function(n,r){var t;return n>1e-7?(t=n*r,(1-n*n)*(r/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*r},rb=1,nb=2,ib=3,ob=4;function ab(){var n=Math.abs(this.lat0);if(Math.abs(n-qr)<En?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<En?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var r;switch(this.qp=ef(this.e,1),this.mmf=.5/(1-this.es),this.apa=vb(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),r=Math.sin(this.lat0),this.sinb1=ef(this.e,r)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*r*r)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function sb(n){var r,t,e,i,o,s,l,f,h,v,w=n.x,R=n.y;if(w=In(w-this.long0),this.sphere){if(o=Math.sin(R),v=Math.cos(R),e=Math.cos(w),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+v*e:1+this.sinph0*o+this.cosph0*v*e,t<=En)return null;t=Math.sqrt(2/t),r=t*v*Math.sin(w),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*v*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(R+this.lat0)<En)return null;t=yo-R*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),r=t*Math.sin(w),t*=e}}else{switch(l=0,f=0,h=0,e=Math.cos(w),i=Math.sin(w),o=Math.sin(R),s=ef(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=s/this.qp,f=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:h=1+this.sinb1*l+this.cosb1*f*e;break;case this.EQUIT:h=1+f*e;break;case this.N_POLE:h=qr+R,s=this.qp-s;break;case this.S_POLE:h=R-qr,s=this.qp+s;break}if(Math.abs(h)<En)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?t=this.ymf*h*(this.cosb1*l-this.sinb1*f*e):t=(h=Math.sqrt(2/(1+f*e)))*l*this.ymf,r=this.xmf*h*f*i;break;case this.N_POLE:case this.S_POLE:s>=0?(r=(h=Math.sqrt(s))*i,t=e*(this.mode===this.S_POLE?h:-h)):r=t=0;break}}return n.x=this.a*r+this.x0,n.y=this.a*t+this.y0,n}function lb(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i,o,s,l,f,h;if(this.sphere){var v=0,w,R=0;if(w=Math.sqrt(r*r+t*t),i=w*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(R=Math.sin(i),v=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(w)<=En?0:Math.asin(t*R/w),r*=R,t=v*w;break;case this.OBLIQ:i=Math.abs(w)<=En?this.lat0:Math.asin(v*this.sinph0+t*R*this.cosph0/w),r*=R*this.cosph0,t=(v-Math.sin(i)*this.sinph0)*w;break;case this.N_POLE:t=-t,i=qr-i;break;case this.S_POLE:i-=qr;break}e=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(r,t)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r/=this.dd,t*=this.dd,f=Math.sqrt(r*r+t*t),f<En)return n.x=this.long0,n.y=this.lat0,n;s=2*Math.asin(.5*f/this.rq),o=Math.cos(s),r*=s=Math.sin(s),this.mode===this.OBLIQ?(h=o*this.sinb1+t*s*this.cosb1/f,l=this.qp*h,t=f*this.cosb1*o-t*this.sinb1*s):(h=t*s/f,l=this.qp*h,t=f*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),l=r*r+t*t,!l)return n.x=this.long0,n.y=this.lat0,n;h=1-l/this.qp,this.mode===this.S_POLE&&(h=-h)}e=Math.atan2(r,t),i=gb(Math.asin(h),this.apa)}return n.x=In(this.long0+e),n.y=i,n}var ub=.3333333333333333,cb=.17222222222222222,fb=.10257936507936508,hb=.06388888888888888,db=.0664021164021164,pb=.016415012942191543;function vb(n){var r,t=[];return t[0]=n*ub,r=n*n,t[0]+=r*cb,t[1]=r*hb,r*=n,t[0]+=r*fb,t[1]+=r*db,t[2]=r*pb,t}function gb(n,r){var t=n+n;return n+r[0]*Math.sin(t)+r[1]*Math.sin(t+t)+r[2]*Math.sin(t+t+t)}var mb=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],yb={init:ab,forward:sb,inverse:lb,names:mb,S_POLE:rb,N_POLE:nb,EQUIT:ib,OBLIQ:ob},rf=function(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)};function _b(){Math.abs(this.lat1+this.lat2)<En||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=nc(this.e3,this.sin_po,this.cos_po),this.qs1=ef(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=nc(this.e3,this.sin_po,this.cos_po),this.qs2=ef(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ef(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>En?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Eb(n){var r=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var e=ef(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,o=this.ns0*In(r-this.long0),s=i*Math.sin(o)+this.x0,l=this.rh-i*Math.cos(o)+this.y0;return n.x=s,n.y=l,n}function Sb(n){var r,t,e,i,o,s;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(r=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(r=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1),i=0,r!==0&&(i=Math.atan2(e*n.x,e*n.y)),e=r*this.ns0/this.a,this.sphere?s=Math.asin((this.c-e*e)/(2*this.ns0)):(t=(this.c-e*e)/this.ns0,s=this.phi1z(this.e3,t)),o=In(i/this.ns0+this.long0),n.x=o,n.y=s,n}function wb(n,r){var t,e,i,o,s,l=rf(.5*r);if(n<En)return l;for(var f=n*n,h=1;h<=25;h++)if(t=Math.sin(l),e=Math.cos(l),i=n*t,o=1-i*i,s=.5*o*o/e*(r/(1-f)-t/o+.5/n*Math.log((1-i)/(1+i))),l=l+s,Math.abs(s)<=1e-7)return l;return null}var xb=["Albers_Conic_Equal_Area","Albers","aea"],Ob={init:_b,forward:Eb,inverse:Sb,names:xb,phi1z:wb};function Tb(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function bb(n){var r,t,e,i,o,s,l,f,h=n.x,v=n.y;return e=In(h-this.long0),r=Math.sin(v),t=Math.cos(v),i=Math.cos(e),s=this.sin_p14*r+this.cos_p14*t*i,o=1,s>0||Math.abs(s)<=En?(l=this.x0+this.a*o*t*Math.sin(e)/s,f=this.y0+this.a*o*(this.cos_p14*r-this.sin_p14*t*i)/s):(l=this.x0+this.infinity_dist*t*Math.sin(e),f=this.y0+this.infinity_dist*(this.cos_p14*r-this.sin_p14*t*i)),n.x=l,n.y=f,n}function Ab(n){var r,t,e,i,o,s;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(r=Math.sqrt(n.x*n.x+n.y*n.y))?(i=Math.atan2(r,this.rc),t=Math.sin(i),e=Math.cos(i),s=rf(e*this.sin_p14+n.y*t*this.cos_p14/r),o=Math.atan2(n.x*t,r*this.cos_p14*e-n.y*this.sin_p14*t),o=In(this.long0+o)):(s=this.phic0,o=0),n.x=o,n.y=s,n}var Mb=["gnom"],Rb={init:Tb,forward:bb,inverse:Ab,names:Mb},Cb=function(n,r){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(r)-t)<1e-6)return r<0?-1*qr:qr;for(var e=Math.asin(.5*r),i,o,s,l,f=0;f<30;f++)if(o=Math.sin(e),s=Math.cos(e),l=n*o,i=Math.pow(1-l*l,2)/(2*s)*(r/(1-n*n)-o/(1-l*l)+.5/n*Math.log((1-l)/(1+l))),e+=i,Math.abs(i)<=1e-10)return e;return NaN};function Lb(){this.sphere||(this.k0=nc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Pb(n){var r=n.x,t=n.y,e,i,o=In(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var s=ef(this.e,Math.sin(t));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*s*.5/this.k0}return n.x=e,n.y=i,n}function Ib(n){n.x-=this.x0,n.y-=this.y0;var r,t;return this.sphere?(r=In(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=Cb(this.e,2*n.y*this.k0/this.a),r=In(this.long0+n.x/(this.a*this.k0))),n.x=r,n.y=t,n}var Nb=["cea"],Fb={init:Lb,forward:Pb,inverse:Ib,names:Nb};function Db(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function jb(n){var r=n.x,t=n.y,e=In(r-this.long0),i=md(t-this.lat0);return n.x=this.x0+this.a*e*this.rc,n.y=this.y0+this.a*i,n}function Gb(n){var r=n.x,t=n.y;return n.x=In(this.long0+(r-this.x0)/(this.a*this.rc)),n.y=md(this.lat0+(t-this.y0)/this.a),n}var Bb=["Equirectangular","Equidistant_Cylindrical","eqc"],Ub={init:Db,forward:jb,inverse:Gb,names:Bb},h6=20;function kb(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$p(this.es),this.e1=Zp(this.es),this.e2=Jp(this.es),this.e3=qp(this.es),this.ml0=this.a*Nl(this.e0,this.e1,this.e2,this.e3,this.lat0)}function zb(n){var r=n.x,t=n.y,e,i,o,s=In(r-this.long0);if(o=s*Math.sin(t),this.sphere)Math.abs(t)<=En?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(o)/Math.tan(t),i=this.a*(md(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=En)e=this.a*s,i=-1*this.ml0;else{var l=gd(this.a,this.e,Math.sin(t))/Math.tan(t);e=l*Math.sin(o),i=this.a*Nl(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+l*(1-Math.cos(o))}return n.x=e+this.x0,n.y=i+this.y0,n}function Vb(n){var r,t,e,i,o,s,l,f,h;if(e=n.x-this.x0,i=n.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=En)r=In(e/this.a+this.long0),t=0;else{s=this.lat0+i/this.a,l=e*e/this.a/this.a+s*s,f=s;var v;for(o=h6;o;--o)if(v=Math.tan(f),h=-1*(s*(f*v+1)-f-.5*(f*f+l)*v)/((f-s)/v-1),f+=h,Math.abs(h)<=En){t=f;break}r=In(this.long0+Math.asin(e*Math.tan(f)/this.a)/Math.sin(t))}else if(Math.abs(i+this.ml0)<=En)t=0,r=In(this.long0+e/this.a);else{s=(this.ml0+i)/this.a,l=e*e/this.a/this.a+s*s,f=s;var w,R,B,V,et;for(o=h6;o;--o)if(et=this.e*Math.sin(f),w=Math.sqrt(1-et*et)*Math.tan(f),R=this.a*Nl(this.e0,this.e1,this.e2,this.e3,f),B=this.e0-2*this.e1*Math.cos(2*f)+4*this.e2*Math.cos(4*f)-6*this.e3*Math.cos(6*f),V=R/this.a,h=(s*(w*V+1)-V-.5*w*(V*V+l))/(this.es*Math.sin(2*f)*(V*V+l-2*s*V)/(4*w)+(s-V)*(w*B-2/Math.sin(2*f))-B),f-=h,Math.abs(h)<=En){t=f;break}w=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),r=In(this.long0+Math.asin(e*w/this.a)/Math.sin(t))}return n.x=r,n.y=t,n}var Wb=["Polyconic","poly"],Hb={init:kb,forward:zb,inverse:Vb,names:Wb};function Yb(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Xb(n){var r,t=n.x,e=n.y,i=e-this.lat0,o=t-this.long0,s=i/ch*1e-5,l=o,f=1,h=0;for(r=1;r<=10;r++)f=f*s,h=h+this.A[r]*f;var v=h,w=l,R=1,B=0,V,et,vt=0,Ct=0;for(r=1;r<=6;r++)V=R*v-B*w,et=B*v+R*w,R=V,B=et,vt=vt+this.B_re[r]*R-this.B_im[r]*B,Ct=Ct+this.B_im[r]*R+this.B_re[r]*B;return n.x=Ct*this.a+this.x0,n.y=vt*this.a+this.y0,n}function Kb(n){var r,t=n.x,e=n.y,i=t-this.x0,o=e-this.y0,s=o/this.a,l=i/this.a,f=1,h=0,v,w,R=0,B=0;for(r=1;r<=6;r++)v=f*s-h*l,w=h*s+f*l,f=v,h=w,R=R+this.C_re[r]*f-this.C_im[r]*h,B=B+this.C_im[r]*f+this.C_re[r]*h;for(var V=0;V<this.iterations;V++){var et=R,vt=B,Ct,kt,Ht=s,Nt=l;for(r=2;r<=6;r++)Ct=et*R-vt*B,kt=vt*R+et*B,et=Ct,vt=kt,Ht=Ht+(r-1)*(this.B_re[r]*et-this.B_im[r]*vt),Nt=Nt+(r-1)*(this.B_im[r]*et+this.B_re[r]*vt);et=1,vt=0;var ve=this.B_re[1],de=this.B_im[1];for(r=2;r<=6;r++)Ct=et*R-vt*B,kt=vt*R+et*B,et=Ct,vt=kt,ve=ve+r*(this.B_re[r]*et-this.B_im[r]*vt),de=de+r*(this.B_im[r]*et+this.B_re[r]*vt);var Oe=ve*ve+de*de;R=(Ht*ve+Nt*de)/Oe,B=(Nt*ve-Ht*de)/Oe}var Se=R,Fe=B,wr=1,hr=0;for(r=1;r<=9;r++)wr=wr*Se,hr=hr+this.D[r]*wr;var Ke=this.lat0+hr*ch*1e5,Ir=this.long0+Fe;return n.x=Ir,n.y=Ke,n}var $b=["New_Zealand_Map_Grid","nzmg"],Zb={init:Yb,forward:Xb,inverse:Kb,names:$b};function Jb(){}function qb(n){var r=n.x,t=n.y,e=In(r-this.long0),i=this.x0+this.a*e,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=i,n.y=o,n}function Qb(n){n.x-=this.x0,n.y-=this.y0;var r=In(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=r,n.y=t,n}var tA=["Miller_Cylindrical","mill"],eA={init:Jb,forward:qb,inverse:Qb,names:tA},rA=20;function nA(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=l6(this.es)}function iA(n){var r,t,e=n.x,i=n.y;if(e=In(e-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var o=this.n*Math.sin(i),s=rA;s;--s){var l=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=l,Math.abs(l)<En)break}r=this.a*this.C_x*e*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var f=Math.sin(i),h=Math.cos(i);t=this.a*Xv(i,f,h,this.en),r=this.a*e*h/Math.sqrt(1-this.es*f*f)}return n.x=r,n.y=t,n}function oA(n){var r,t,e,i;return n.x-=this.x0,e=n.x/this.a,n.y-=this.y0,r=n.y/this.a,this.sphere?(r/=this.C_y,e=e/(this.C_x*(this.m+Math.cos(r))),this.m?r=rf((this.m*r+Math.sin(r))/this.n):this.n!==1&&(r=rf(Math.sin(r)/this.n)),e=In(e+this.long0),r=md(r)):(r=u6(n.y/this.a,this.es,this.en),i=Math.abs(r),i<qr?(i=Math.sin(r),t=this.long0+n.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(r)),e=In(t)):i-En<qr&&(e=this.long0)),n.x=e,n.y=r,n}var aA=["Sinusoidal","sinu"],sA={init:nA,forward:iA,inverse:oA,names:aA};function lA(){}function uA(n){for(var r=n.x,t=n.y,e=In(r-this.long0),i=t,o=Math.PI*Math.sin(t);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<En)break}i/=2,Math.PI/2-Math.abs(t)<En&&(e=0);var l=.900316316158*this.a*e*Math.cos(i)+this.x0,f=1.4142135623731*this.a*Math.sin(i)+this.y0;return n.x=l,n.y=f,n}function cA(n){var r,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),r=Math.asin(t);var e=In(this.long0+n.x/(.900316316158*this.a*Math.cos(r)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),t=(2*r+Math.sin(2*r))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return n.x=e,n.y=i,n}var fA=["Mollweide","moll"],hA={init:lA,forward:uA,inverse:cA,names:fA};function dA(){Math.abs(this.lat1+this.lat2)<En||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$p(this.es),this.e1=Zp(this.es),this.e2=Jp(this.es),this.e3=qp(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=nc(this.e,this.sinphi,this.cosphi),this.ml1=Nl(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<En?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=nc(this.e,this.sinphi,this.cosphi),this.ml2=Nl(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Nl(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function pA(n){var r=n.x,t=n.y,e;if(this.sphere)e=this.a*(this.g-t);else{var i=Nl(this.e0,this.e1,this.e2,this.e3,t);e=this.a*(this.g-i)}var o=this.ns*In(r-this.long0),s=this.x0+e*Math.sin(o),l=this.y0+this.rh-e*Math.cos(o);return n.x=s,n.y=l,n}function vA(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var r,t,e,i;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1);var o=0;if(t!==0&&(o=Math.atan2(r*n.x,r*n.y)),this.sphere)return i=In(this.long0+o/this.ns),e=md(this.g-t/this.a),n.x=i,n.y=e,n;var s=this.g-t/this.a;return e=Jv(s,this.e0,this.e1,this.e2,this.e3),i=In(this.long0+o/this.ns),n.x=i,n.y=e,n}var gA=["Equidistant_Conic","eqdc"],mA={init:dA,forward:pA,inverse:vA,names:gA};function yA(){this.R=this.a}function _A(n){var r=n.x,t=n.y,e=In(r-this.long0),i,o;Math.abs(t)<=En&&(i=this.x0+this.R*e,o=this.y0);var s=rf(2*Math.abs(t/Math.PI));(Math.abs(e)<=En||Math.abs(Math.abs(t)-qr)<=En)&&(i=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*s):o=this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/e-e/Math.PI),f=l*l,h=Math.sin(s),v=Math.cos(s),w=v/(h+v-1),R=w*w,B=w*(2/h-1),V=B*B,et=Math.PI*this.R*(l*(w-V)+Math.sqrt(f*(w-V)*(w-V)-(V+f)*(R-V)))/(V+f);e<0&&(et=-et),i=this.x0+et;var vt=f+w;return et=Math.PI*this.R*(B*vt-l*Math.sqrt((V+f)*(f+1)-vt*vt))/(V+f),t>=0?o=this.y0+et:o=this.y0-et,n.x=i,n.y=o,n}function EA(n){var r,t,e,i,o,s,l,f,h,v,w,R,B;return n.x-=this.x0,n.y-=this.y0,w=Math.PI*this.R,e=n.x/w,i=n.y/w,o=e*e+i*i,s=-Math.abs(i)*(1+o),l=s-2*i*i+e*e,f=-2*s+1+2*i*i+o*o,B=i*i/f+(2*l*l*l/f/f/f-9*s*l/f/f)/27,h=(s-l*l/3/f)/f,v=2*Math.sqrt(-h/3),w=3*B/h/v,Math.abs(w)>1&&(w>=0?w=1:w=-1),R=Math.acos(w)/3,n.y>=0?t=(-v*Math.cos(R+Math.PI/3)-l/3/f)*Math.PI:t=-(-v*Math.cos(R+Math.PI/3)-l/3/f)*Math.PI,Math.abs(e)<En?r=this.long0:r=In(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(e*e-i*i)+o*o))/2/e),n.x=r,n.y=t,n}var SA=["Van_der_Grinten_I","VanDerGrinten","vandg"],wA={init:yA,forward:_A,inverse:EA,names:SA};function xA(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function OA(n){var r=n.x,t=n.y,e=Math.sin(n.y),i=Math.cos(n.y),o=In(r-this.long0),s,l,f,h,v,w,R,B,V,et,vt,Ct,kt,Ht,Nt,ve,de,Oe,Se,Fe,wr,hr,Ke;return this.sphere?Math.abs(this.sin_p12-1)<=En?(n.x=this.x0+this.a*(qr-t)*Math.sin(o),n.y=this.y0-this.a*(qr-t)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=En?(n.x=this.x0+this.a*(qr+t)*Math.sin(o),n.y=this.y0+this.a*(qr+t)*Math.cos(o),n):(Oe=this.sin_p12*e+this.cos_p12*i*Math.cos(o),ve=Math.acos(Oe),de=ve?ve/Math.sin(ve):1,n.x=this.x0+this.a*de*i*Math.sin(o),n.y=this.y0+this.a*de*(this.cos_p12*e-this.sin_p12*i*Math.cos(o)),n):(s=$p(this.es),l=Zp(this.es),f=Jp(this.es),h=qp(this.es),Math.abs(this.sin_p12-1)<=En?(v=this.a*Nl(s,l,f,h,qr),w=this.a*Nl(s,l,f,h,t),n.x=this.x0+(v-w)*Math.sin(o),n.y=this.y0-(v-w)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=En?(v=this.a*Nl(s,l,f,h,qr),w=this.a*Nl(s,l,f,h,t),n.x=this.x0+(v+w)*Math.sin(o),n.y=this.y0+(v+w)*Math.cos(o),n):(R=e/i,B=gd(this.a,this.e,this.sin_p12),V=gd(this.a,this.e,e),et=Math.atan((1-this.es)*R+this.es*B*this.sin_p12/(V*i)),vt=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(et)-this.sin_p12*Math.cos(o)),vt===0?Se=Math.asin(this.cos_p12*Math.sin(et)-this.sin_p12*Math.cos(et)):Math.abs(Math.abs(vt)-Math.PI)<=En?Se=-Math.asin(this.cos_p12*Math.sin(et)-this.sin_p12*Math.cos(et)):Se=Math.asin(Math.sin(o)*Math.cos(et)/Math.sin(vt)),Ct=this.e*this.sin_p12/Math.sqrt(1-this.es),kt=this.e*this.cos_p12*Math.cos(vt)/Math.sqrt(1-this.es),Ht=Ct*kt,Nt=kt*kt,Fe=Se*Se,wr=Fe*Se,hr=wr*Se,Ke=hr*Se,ve=B*Se*(1-Fe*Nt*(1-Nt)/6+wr/8*Ht*(1-2*Nt)+hr/120*(Nt*(4-7*Nt)-3*Ct*Ct*(1-7*Nt))-Ke/48*Ht),n.x=this.x0+ve*Math.sin(vt),n.y=this.y0+ve*Math.cos(vt),n))}function TA(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,o,s,l,f,h,v,w,R,B,V,et,vt,Ct,kt,Ht,Nt,ve,de,Oe,Se;return this.sphere?(r=Math.sqrt(n.x*n.x+n.y*n.y),r>2*qr*this.a?void 0:(t=r/this.a,e=Math.sin(t),i=Math.cos(t),o=this.long0,Math.abs(r)<=En?s=this.lat0:(s=rf(i*this.sin_p12+n.y*e*this.cos_p12/r),l=Math.abs(this.lat0)-qr,Math.abs(l)<=En?this.lat0>=0?o=In(this.long0+Math.atan2(n.x,-n.y)):o=In(this.long0-Math.atan2(-n.x,n.y)):o=In(this.long0+Math.atan2(n.x*e,r*this.cos_p12*i-n.y*this.sin_p12*e))),n.x=o,n.y=s,n)):(f=$p(this.es),h=Zp(this.es),v=Jp(this.es),w=qp(this.es),Math.abs(this.sin_p12-1)<=En?(R=this.a*Nl(f,h,v,w,qr),r=Math.sqrt(n.x*n.x+n.y*n.y),B=R-r,s=Jv(B/this.a,f,h,v,w),o=In(this.long0+Math.atan2(n.x,-1*n.y)),n.x=o,n.y=s,n):Math.abs(this.sin_p12+1)<=En?(R=this.a*Nl(f,h,v,w,qr),r=Math.sqrt(n.x*n.x+n.y*n.y),B=r-R,s=Jv(B/this.a,f,h,v,w),o=In(this.long0+Math.atan2(n.x,n.y)),n.x=o,n.y=s,n):(r=Math.sqrt(n.x*n.x+n.y*n.y),vt=Math.atan2(n.x,n.y),V=gd(this.a,this.e,this.sin_p12),Ct=Math.cos(vt),kt=this.e*this.cos_p12*Ct,Ht=-kt*kt/(1-this.es),Nt=3*this.es*(1-Ht)*this.sin_p12*this.cos_p12*Ct/(1-this.es),ve=r/V,de=ve-Ht*(1+Ht)*Math.pow(ve,3)/6-Nt*(1+3*Ht)*Math.pow(ve,4)/24,Oe=1-Ht*de*de/2-ve*de*de*de/6,et=Math.asin(this.sin_p12*Math.cos(de)+this.cos_p12*Math.sin(de)*Ct),o=In(this.long0+Math.asin(Math.sin(vt)*Math.sin(de)/Math.cos(et))),Se=Math.sin(et),s=Math.atan2((Se-this.es*Oe*this.sin_p12)*Math.tan(et),Se*(1-this.es)),n.x=o,n.y=s,n))}var bA=["Azimuthal_Equidistant","aeqd"],AA={init:xA,forward:OA,inverse:TA,names:bA};function MA(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function RA(n){var r,t,e,i,o,s,l,f,h=n.x,v=n.y;return e=In(h-this.long0),r=Math.sin(v),t=Math.cos(v),i=Math.cos(e),s=this.sin_p14*r+this.cos_p14*t*i,o=1,(s>0||Math.abs(s)<=En)&&(l=this.a*o*t*Math.sin(e),f=this.y0+this.a*o*(this.cos_p14*r-this.sin_p14*t*i)),n.x=l,n.y=f,n}function CA(n){var r,t,e,i,o,s,l;return n.x-=this.x0,n.y-=this.y0,r=Math.sqrt(n.x*n.x+n.y*n.y),t=rf(r/this.a),e=Math.sin(t),i=Math.cos(t),s=this.long0,Math.abs(r)<=En?(l=this.lat0,n.x=s,n.y=l,n):(l=rf(i*this.sin_p14+n.y*e*this.cos_p14/r),o=Math.abs(this.lat0)-qr,Math.abs(o)<=En?(this.lat0>=0?s=In(this.long0+Math.atan2(n.x,-n.y)):s=In(this.long0-Math.atan2(-n.x,n.y)),n.x=s,n.y=l,n):(s=In(this.long0+Math.atan2(n.x*e,r*this.cos_p14*i-n.y*this.sin_p14*e)),n.x=s,n.y=l,n))}var LA=["ortho"],PA={init:MA,forward:RA,inverse:CA,names:LA},Ra={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ko={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function IA(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=qr-yo/2?this.face=Ra.TOP:this.lat0<=-(qr-yo/2)?this.face=Ra.BOTTOM:Math.abs(this.long0)<=yo?this.face=Ra.FRONT:Math.abs(this.long0)<=qr+yo?this.face=this.long0>0?Ra.RIGHT:Ra.LEFT:this.face=Ra.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function NA(n){var r={x:0,y:0},t,e,i,o,s,l,f={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,e=n.x,this.face===Ra.TOP)o=qr-t,e>=yo&&e<=qr+yo?(f.value=ko.AREA_0,i=e-qr):e>qr+yo||e<=-(qr+yo)?(f.value=ko.AREA_1,i=e>0?e-Ta:e+Ta):e>-(qr+yo)&&e<=-yo?(f.value=ko.AREA_2,i=e+qr):(f.value=ko.AREA_3,i=e);else if(this.face===Ra.BOTTOM)o=qr+t,e>=yo&&e<=qr+yo?(f.value=ko.AREA_0,i=-e+qr):e<yo&&e>=-yo?(f.value=ko.AREA_1,i=-e):e<-yo&&e>=-(qr+yo)?(f.value=ko.AREA_2,i=-e-qr):(f.value=ko.AREA_3,i=e>0?-e+Ta:-e-Ta);else{var h,v,w,R,B,V,et;this.face===Ra.RIGHT?e=yd(e,+qr):this.face===Ra.BACK?e=yd(e,+Ta):this.face===Ra.LEFT&&(e=yd(e,-qr)),R=Math.sin(t),B=Math.cos(t),V=Math.sin(e),et=Math.cos(e),h=B*et,v=B*V,w=R,this.face===Ra.FRONT?(o=Math.acos(h),i=qv(o,w,v,f)):this.face===Ra.RIGHT?(o=Math.acos(v),i=qv(o,w,-h,f)):this.face===Ra.BACK?(o=Math.acos(-h),i=qv(o,w,-v,f)):this.face===Ra.LEFT?(o=Math.acos(-v),i=qv(o,w,h,f)):(o=i=0,f.value=ko.AREA_0)}return l=Math.atan(12/Ta*(i+Math.acos(Math.sin(i)*Math.cos(yo))-qr)),s=Math.sqrt((1-Math.cos(o))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(i))))),f.value===ko.AREA_1?l+=qr:f.value===ko.AREA_2?l+=Ta:f.value===ko.AREA_3&&(l+=1.5*Ta),r.x=s*Math.cos(l),r.y=s*Math.sin(l),r.x=r.x*this.a+this.x0,r.y=r.y*this.a+this.y0,n.x=r.x,n.y=r.y,n}function FA(n){var r={lam:0,phi:0},t,e,i,o,s,l,f,h,v,w={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,e=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?w.value=ko.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(w.value=ko.AREA_1,t-=qr):n.x<0&&-n.x>=Math.abs(n.y)?(w.value=ko.AREA_2,t=t<0?t+Ta:t-Ta):(w.value=ko.AREA_3,t+=qr),v=Ta/12*Math.tan(t),s=Math.sin(v)/(Math.cos(v)-1/Math.sqrt(2)),l=Math.atan(s),i=Math.cos(t),o=Math.tan(e),f=1-i*i*o*o*(1-Math.cos(Math.atan(1/Math.cos(l)))),f<-1?f=-1:f>1&&(f=1),this.face===Ra.TOP)h=Math.acos(f),r.phi=qr-h,w.value===ko.AREA_0?r.lam=l+qr:w.value===ko.AREA_1?r.lam=l<0?l+Ta:l-Ta:w.value===ko.AREA_2?r.lam=l-qr:r.lam=l;else if(this.face===Ra.BOTTOM)h=Math.acos(f),r.phi=h-qr,w.value===ko.AREA_0?r.lam=-l+qr:w.value===ko.AREA_1?r.lam=-l:w.value===ko.AREA_2?r.lam=-l-qr:r.lam=l<0?-l-Ta:-l+Ta;else{var R,B,V;R=f,v=R*R,v>=1?V=0:V=Math.sqrt(1-v)*Math.sin(l),v+=V*V,v>=1?B=0:B=Math.sqrt(1-v),w.value===ko.AREA_1?(v=B,B=-V,V=v):w.value===ko.AREA_2?(B=-B,V=-V):w.value===ko.AREA_3&&(v=B,B=V,V=-v),this.face===Ra.RIGHT?(v=R,R=-B,B=v):this.face===Ra.BACK?(R=-R,B=-B):this.face===Ra.LEFT&&(v=R,R=B,B=-v),r.phi=Math.acos(-V)-qr,r.lam=Math.atan2(B,R),this.face===Ra.RIGHT?r.lam=yd(r.lam,-qr):this.face===Ra.BACK?r.lam=yd(r.lam,-Ta):this.face===Ra.LEFT&&(r.lam=yd(r.lam,+qr))}if(this.es!==0){var et,vt,Ct;et=r.phi<0?1:0,vt=Math.tan(r.phi),Ct=this.b/Math.sqrt(vt*vt+this.one_minus_f_squared),r.phi=Math.atan(Math.sqrt(this.a*this.a-Ct*Ct)/(this.one_minus_f*Ct)),et&&(r.phi=-r.phi)}return r.lam+=this.long0,n.x=r.lam,n.y=r.phi,n}function qv(n,r,t,e){var i;return n<En?(e.value=ko.AREA_0,i=0):(i=Math.atan2(r,t),Math.abs(i)<=yo?e.value=ko.AREA_0:i>yo&&i<=qr+yo?(e.value=ko.AREA_1,i-=qr):i>qr+yo||i<=-(qr+yo)?(e.value=ko.AREA_2,i=i>=0?i-Ta:i+Ta):(e.value=ko.AREA_3,i+=qr)),i}function yd(n,r){var t=n+r;return t<-Ta?t+=C0:t>+Ta&&(t-=C0),t}var DA=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],jA={init:IA,forward:NA,inverse:FA,names:DA},Km=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Qp=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],d6=.8487,p6=1.3523,v6=Pl/5,GA=1/v6,_d=18,Qv=function(n,r){return n[0]+r*(n[1]+r*(n[2]+r*n[3]))},BA=function(n,r){return n[1]+r*(2*n[2]+r*3*n[3])};function UA(n,r,t,e){for(var i=r;e;--e){var o=n(i);if(i-=o,Math.abs(o)<t)break}return i}function kA(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function zA(n){var r=In(n.x-this.long0),t=Math.abs(n.y),e=Math.floor(t*v6);e<0?e=0:e>=_d&&(e=_d-1),t=Pl*(t-GA*e);var i={x:Qv(Km[e],t)*r,y:Qv(Qp[e],t)};return n.y<0&&(i.y=-i.y),i.x=i.x*this.a*d6+this.x0,i.y=i.y*this.a*p6+this.y0,i}function VA(n){var r={x:(n.x-this.x0)/(this.a*d6),y:Math.abs(n.y-this.y0)/(this.a*p6)};if(r.y>=1)r.x/=Km[_d][0],r.y=n.y<0?-qr:qr;else{var t=Math.floor(r.y*_d);for(t<0?t=0:t>=_d&&(t=_d-1);;)if(Qp[t][0]>r.y)--t;else if(Qp[t+1][0]<=r.y)++t;else break;var e=Qp[t],i=5*(r.y-e[0])/(Qp[t+1][0]-e[0]);i=UA(function(o){return(Qv(e,o)-r.y)/BA(e,o)},i,En,100),r.x/=Qv(Km[t],i),r.y=(5*t+i)*ss,n.y<0&&(r.y=-r.y)}return r.x=In(r.x+this.long0),r}var WA=["Robinson","robin"],HA={init:kA,forward:zA,inverse:VA,names:WA};function YA(){this.name="geocent"}function XA(n){var r=z_(n,this.es,this.a);return r}function KA(n){var r=V_(n,this.es,this.a,this.b);return r}var $A=["Geocentric","geocentric","geocent","Geocent"],ZA={init:YA,forward:XA,inverse:KA,names:$A},vl={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},t1={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function JA(){if(Object.keys(t1).forEach(function(t){if(typeof this[t]=="undefined")this[t]=t1[t].def;else{if(t1[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);t1[t].num&&(this[t]=parseFloat(this[t]))}t1[t].degrees&&(this[t]=this[t]*ss)}.bind(this)),Math.abs(Math.abs(this.lat0)-qr)<En?this.mode=this.lat0<0?vl.S_POLE:vl.N_POLE:Math.abs(this.lat0)<En?this.mode=vl.EQUIT:(this.mode=vl.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,r=this.azi;this.cg=Math.cos(r),this.sg=Math.sin(r),this.cw=Math.cos(n),this.sw=Math.sin(n)}function qA(n){n.x-=this.long0;var r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i,o;switch(this.mode){case vl.OBLIQ:o=this.sinph0*r+this.cosph0*t*e;break;case vl.EQUIT:o=t*e;break;case vl.S_POLE:o=-r;break;case vl.N_POLE:o=r;break}switch(o=this.pn1/(this.p-o),i=o*t*Math.sin(n.x),this.mode){case vl.OBLIQ:o*=this.cosph0*r-this.sinph0*t*e;break;case vl.EQUIT:o*=r;break;case vl.N_POLE:o*=-(t*e);break;case vl.S_POLE:o*=t*e;break}var s,l;return s=o*this.cg+i*this.sg,l=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-o*this.sg)*this.cw*l,o=s*l,n.x=i*this.a,n.y=o*this.a,n}function QA(n){n.x/=this.a,n.y/=this.a;var r={x:n.x,y:n.y},t,e,i;i=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*i,e=this.pn1*n.y*this.cw*i,n.x=t*this.cg+e*this.sg,n.y=e*this.cg-t*this.sg;var o=$v(n.x,n.y);if(Math.abs(o)<En)r.x=0,r.y=n.y;else{var s,l;switch(l=1-o*o*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-l*l),this.mode){case vl.OBLIQ:r.y=Math.asin(s*this.sinph0+n.y*l*this.cosph0/o),n.y=(s-this.sinph0*Math.sin(r.y))*o,n.x*=l*this.cosph0;break;case vl.EQUIT:r.y=Math.asin(n.y*l/o),n.y=s*o,n.x*=l;break;case vl.N_POLE:r.y=Math.asin(s),n.y=-n.y;break;case vl.S_POLE:r.y=-Math.asin(s);break}r.x=Math.atan2(n.x,n.y)}return n.x=r.x+this.long0,n.y=r.y,n}var tM=["Tilted_Perspective","tpers"],eM={init:JA,forward:qA,inverse:QA,names:tM},rM=function(n){n.Proj.projections.add(Kv),n.Proj.projections.add(Zv),n.Proj.projections.add(dT),n.Proj.projections.add(xT),n.Proj.projections.add(RT),n.Proj.projections.add(NT),n.Proj.projections.add(UT),n.Proj.projections.add(HT),n.Proj.projections.add(ZT),n.Proj.projections.add(eb),n.Proj.projections.add(yb),n.Proj.projections.add(Ob),n.Proj.projections.add(Rb),n.Proj.projections.add(Fb),n.Proj.projections.add(Ub),n.Proj.projections.add(Hb),n.Proj.projections.add(Zb),n.Proj.projections.add(eA),n.Proj.projections.add(sA),n.Proj.projections.add(hA),n.Proj.projections.add(mA),n.Proj.projections.add(wA),n.Proj.projections.add(AA),n.Proj.projections.add(PA),n.Proj.projections.add(jA),n.Proj.projections.add(HA),n.Proj.projections.add(ZA),n.Proj.projections.add(eM)};Fu.defaultDatum="WGS84",Fu.Proj=Yp,Fu.WGS84=new Fu.Proj("WGS84"),Fu.Point=UO,Fu.toPoint=X_,Fu.defs=zv,Fu.nadgrid=dO,Fu.transform=Yv,Fu.mgrs=CO,Fu.version="__VERSION__",rM(Fu);var g6=Fu;function nM(n){var r=Object.keys(n.defs),t=r.length,e,i;for(e=0;e<t;++e){var o=r[e];if(!Gn(o)){var s=n.defs(o),l=s.units;!l&&s.projName==="longlat"&&(l=Yi.DEGREES),K0(new Ga({code:o,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:l}))}}for(e=0;e<t;++e){var f=r[e],h=Gn(f);for(i=0;i<t;++i){var v=r[i],w=Gn(v);if(!al(f,v))if(n.defs[f]===n.defs[v])Ws([h,w]);else{var R=n(f,v);ll(h,w,S(h,w,R.forward),S(w,h,R.inverse))}}}}var iM={name:"ol-projection-register",setup:function(r){var t=Object(F.toRefs)(r),e=t.projectionName,i=t.projectionDef,o=t.projectionExtent;g6.defs(e.value,i.value),nM(g6);var s=new Ga({code:e.value,extent:o.value});return{projection:s}},props:{projectionName:{type:String},projectionDef:{type:String},projectionExtent:{type:Array}}},$m=lr()(iM,[["render",id]]);function t2(n){t2.installed||(t2.installed=!0,n.component(xo.name,xo),n.component(Ai.name,Ai),n.component(Va.name,Va),n.component(ah.name,ah),n.component(nd.name,nd),n.component($m.name,$m))}var oM=t2;function aM(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var nf={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},sM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lM=function(n){sM(r,n);function r(t){var e=this,i=t||{},o=Object(pn.a)({},i);return delete o.preload,delete o.useInterimTilesOnError,e=n.call(this,o)||this,e.on,e.once,e.un,e.setPreload(i.preload!==void 0?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e}return r.prototype.getPreload=function(){return this.get(nf.PRELOAD)},r.prototype.setPreload=function(t){this.set(nf.PRELOAD,t)},r.prototype.getUseInterimTilesOnError=function(){return this.get(nf.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setUseInterimTilesOnError=function(t){this.set(nf.USE_INTERIM_TILES_ON_ERROR,t)},r}(O),m6=lM,Ni={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Du=u("35a7"),uM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cM=function(n){uM(r,n);function r(t){var e=n.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}return r.prototype.getFeatures=function(t){return Object(Ot.b)()},r.prototype.prepareFrame=function(t){return Object(Ot.b)()},r.prototype.renderFrame=function(t,e){return Object(Ot.b)()},r.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(t,e,i){return function(o,s){var l=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(e,o,s,l)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,s){},r.prototype.getDataAtPixel=function(t,e,i){return null},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===Ni.LOADED&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(t){var e=t.getState();return e!=Ni.LOADED&&e!=Ni.ERROR&&t.addEventListener(un.a.CHANGE,this.boundHandleImageChange_),e==Ni.IDLE&&(t.load(),e=t.getState()),e==Ni.LOADED},r.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==li.READY&&t.changed()},r}(Du.a),y6=cM,fM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hM=function(n){fM(r,n);function r(t){var e=n.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=mt(),e.pixelTransform=mt(),e.inversePixelTransform=mt(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e}return r.prototype.getBackground=function(t){var e=this.getLayer(),i=e.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},r.prototype.useContainer=function(t,e,i,o){var s=this.getLayer().getClassName(),l,f;if(t&&t.className===s&&t.style.opacity===""&&i===1&&(!o||t.style.backgroundColor&&Object(K.b)(fa(t.style.backgroundColor),fa(o)))){var h=t.firstElementChild;h instanceof HTMLCanvasElement&&(f=h.getContext("2d"))}if(f&&f.canvas.style.transform===e?(this.container=t,this.context=f,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){l=document.createElement("div"),l.className=s;var v=l.style;v.position="absolute",v.width="100%",v.height="100%",o&&(v.backgroundColor=o),f=Object(ur.a)();var h=f.canvas;l.appendChild(h),v=h.style,v.position="absolute",v.left="0",v.transformOrigin="top left",this.container=l,this.context=f}},r.prototype.clipUnrotated=function(t,e,i){var o=bi(i),s=Tn(i),l=uo(i),f=_n(i);ar(e.coordinateToPixelTransform,o),ar(e.coordinateToPixelTransform,s),ar(e.coordinateToPixelTransform,l),ar(e.coordinateToPixelTransform,f);var h=this.inversePixelTransform;ar(h,o),ar(h,s),ar(h,l),ar(h,f),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.clip()},r.prototype.dispatchRenderEvent_=function(t,e,i){var o=this.getLayer();if(o.hasListener(t)){var s=new pr(t,this.inversePixelTransform,i,e);o.dispatchEvent(s)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(No.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(No.POSTRENDER,t,e)},r.prototype.getRenderTransform=function(t,e,i,o,s,l,f){var h=s/2,v=l/2,w=o/e,R=-w,B=-t[0]+f,V=-t[1];return er(this.tempTransform,h,v,w,R,-i,B,V)},r.prototype.getDataAtPixel=function(t,e,i){var o=ar(this.inversePixelTransform,t.slice()),s=this.context,l=this.getLayer(),f=l.getExtent();if(f){var h=ar(e.pixelToCoordinateTransform,t.slice());if(!he(f,h))return null}var v=Math.round(o[0]),w=Math.round(o[1]),R=this.pixelContext_;if(!R){var B=document.createElement("canvas");B.width=1,B.height=1,R=B.getContext("2d"),this.pixelContext_=R}R.clearRect(0,0,1,1);var V;try{R.drawImage(s.canvas,v,w,1,1,0,0,1,1),V=R.getImageData(0,0,1,1).data}catch(et){return et.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):V}return V[3]===0?null:V},r}(y6),Zm=hM,_6=function(){function n(r,t,e,i){this.minX=r,this.maxX=t,this.minY=e,this.maxY=i}return n.prototype.contains=function(r){return this.containsXY(r[1],r[2])},n.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},n.prototype.containsXY=function(r,t){return this.minX<=r&&r<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},n.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},n}();function Ed(n,r,t,e,i){return i!==void 0?(i.minX=n,i.maxX=r,i.minY=t,i.maxY=e,i):new _6(n,r,t,e)}var Jm=_6,e1={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},E6={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},dM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S6=function(n){dM(r,n);function r(t){var e=n.call(this,t)||this;return e.extentChanged=!0,e.renderedExtent_=null,e.renderedPixelRatio,e.renderedProjection=null,e.renderedRevision,e.renderedTiles=[],e.newTiles_=!1,e.tmpExtent=at(),e.tmpTileRange_=new Jm(0,0,0,0),e}return r.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==cn.LOADED||i==cn.EMPTY||i==cn.ERROR&&!o},r.prototype.getTile=function(t,e,i,o){var s=o.pixelRatio,l=o.viewState.projection,f=this.getLayer(),h=f.getSource(),v=h.getTile(t,e,i,s,l);return v.getState()==cn.ERROR&&(f.getUseInterimTilesOnError()?f.getPreload()>0&&(this.newTiles_=!0):v.setState(cn.LOADED)),this.isDrawableTile(v)||(v=v.getInterimTile()),v},r.prototype.loadedTileCallback=function(t,e,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,t,e,i):!1},r.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,s=o.projection,l=o.resolution,f=o.center,h=o.rotation,v=t.pixelRatio,w=this.getLayer(),R=w.getSource(),B=R.getRevision(),V=R.getTileGridForProjection(s),et=V.getZForResolution(l,R.zDirection),vt=V.getResolution(et),Ct=t.extent,kt=i.extent&&At(i.extent);kt&&(Ct=rn(Ct,At(i.extent)));var Ht=R.getTilePixelRatio(v),Nt=Math.round(t.size[0]*Ht),ve=Math.round(t.size[1]*Ht);if(h){var de=Math.round(Math.sqrt(Nt*Nt+ve*ve));Nt=de,ve=de}var Oe=vt*Nt/2/Ht,Se=vt*ve/2/Ht,Fe=[f[0]-Oe,f[1]-Se,f[0]+Oe,f[1]+Se],wr=V.getTileRangeForExtentAndZ(Ct,et),hr={};hr[et]={};var Ke=this.createLoadedTileFinder(R,s,hr),Ir=this.tmpExtent,yn=this.tmpTileRange_;this.newTiles_=!1;for(var Sn=wr.minX;Sn<=wr.maxX;++Sn)for(var Rn=wr.minY;Rn<=wr.maxY;++Rn){var Nn=this.getTile(et,Sn,Rn,t);if(this.isDrawableTile(Nn)){var gi=Object(Ot.c)(this);if(Nn.getState()==cn.LOADED){hr[et][Nn.tileCoord.toString()]=Nn;var mi=Nn.inTransition(gi);!this.newTiles_&&(mi||this.renderedTiles.indexOf(Nn)===-1)&&(this.newTiles_=!0)}if(Nn.getAlpha(gi,t.time)===1)continue}var Mi=V.getTileCoordChildTileRange(Nn.tileCoord,yn,Ir),Ri=!1;Mi&&(Ri=Ke(et+1,Mi)),Ri||V.forEachTileCoordParentTileRange(Nn.tileCoord,Ke,yn,Ir)}var Br=vt/l;er(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/Ht,1/Ht,h,-Nt/2,-ve/2);var rs=Ur(this.pixelTransform);this.useContainer(e,rs,i.opacity,this.getBackground(t));var Gi=this.context,ra=Gi.canvas;_r(this.inversePixelTransform,this.pixelTransform),er(this.tempTransform,Nt/2,ve/2,Br,Br,0,-Nt/2,-ve/2),ra.width!=Nt||ra.height!=ve?(ra.width=Nt,ra.height=ve):this.containerReused||Gi.clearRect(0,0,Nt,ve),kt&&this.clipUnrotated(Gi,t,kt),R.getInterpolate()||Object(pn.a)(Gi,e1),this.preRender(Gi,t),this.renderedTiles.length=0;var Ya=Object.keys(hr).map(Number);Ya.sort(K.i);var cs,ns,ma;i.opacity===1&&(!this.containerReused||R.getOpaque(t.viewState.projection))?Ya=Ya.reverse():(cs=[],ns=[]);for(var fi=Ya.length-1;fi>=0;--fi){var oi=Ya[fi],Xa=R.getTilePixelSize(oi,v,s),B0=V.getResolution(oi),fc=B0/vt,Ef=Xa[0]*fc*Br,Th=Xa[1]*fc*Br,bh=V.getTileCoordForCoordAndZ(bi(Fe),oi),A1=V.getTileCoordExtent(bh),Ic=ar(this.tempTransform,[Ht*(A1[0]-Fe[0])/vt,Ht*(Fe[3]-A1[3])/vt]),M1=Ht*R.getGutterForProjection(s),fg=hr[oi];for(var Wd in fg){var Nn=fg[Wd],Sf=Nn.tileCoord,Hd=bh[1]-Sf[1],I3=Math.round(Ic[0]-(Hd-1)*Ef),hg=bh[2]-Sf[2],R1=Math.round(Ic[1]-(hg-1)*Th),Sn=Math.round(Ic[0]-Hd*Ef),Rn=Math.round(Ic[1]-hg*Th),wf=I3-Sn,Nc=R1-Rn,Ah=et===oi,mi=Ah&&Nn.getAlpha(Object(Ot.c)(this),t.time)!==1;if(!mi)if(cs){Gi.save(),ma=[Sn,Rn,Sn+wf,Rn,Sn+wf,Rn+Nc,Sn,Rn+Nc];for(var Yd=0,U0=cs.length;Yd<U0;++Yd)if(et!==oi&&oi<ns[Yd]){var k0=cs[Yd];Gi.beginPath(),Gi.moveTo(ma[0],ma[1]),Gi.lineTo(ma[2],ma[3]),Gi.lineTo(ma[4],ma[5]),Gi.lineTo(ma[6],ma[7]),Gi.moveTo(k0[6],k0[7]),Gi.lineTo(k0[4],k0[5]),Gi.lineTo(k0[2],k0[3]),Gi.lineTo(k0[0],k0[1]),Gi.clip()}cs.push(ma),ns.push(oi)}else Gi.clearRect(Sn,Rn,wf,Nc);this.drawTileImage(Nn,t,Sn,Rn,wf,Nc,M1,Ah),cs&&!mi?(Gi.restore(),this.renderedTiles.unshift(Nn)):this.renderedTiles.push(Nn),this.updateUsedTiles(t.usedTiles,R,Nn)}}this.renderedRevision=B,this.renderedResolution=vt,this.extentChanged=!this.renderedExtent_||!Pr(this.renderedExtent_,Fe),this.renderedExtent_=Fe,this.renderedPixelRatio=v,this.renderedProjection=s,this.manageTilePyramid(t,R,V,v,s,Ct,et,w.getPreload()),this.scheduleExpireCache(t,R),this.postRender(Gi,t),i.extent&&Gi.restore(),Object(pn.a)(Gi,E6),rs!==ra.style.transform&&(ra.style.transform=rs);var Mh=Lr(i.opacity),Xd=this.container;return Mh!==Xd.style.opacity&&(Xd.style.opacity=Mh),this.container},r.prototype.drawTileImage=function(t,e,i,o,s,l,f,h){var v=this.getTileImage(t);if(!!v){var w=Object(Ot.c)(this),R=h?t.getAlpha(w,e.time):1,B=R!==this.context.globalAlpha;B&&(this.context.save(),this.context.globalAlpha=R),this.context.drawImage(v,f,f,v.width-2*f,v.height-2*f,i,o,s,l),B&&this.context.restore(),R!==1?e.animate=!0:h&&t.endTransition(w)}},r.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},r.prototype.getTileImage=function(t){return t.getImage()},r.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(o,s,l){var f=Object(Ot.c)(o);f in l.usedTiles&&o.expireCache(l.viewState.projection,l.usedTiles[f])}.bind(null,e);t.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(t,e,i){var o=Object(Ot.c)(e);o in t||(t[o]={}),t[o][i.getKey()]=!0},r.prototype.manageTilePyramid=function(t,e,i,o,s,l,f,h,v){var w=Object(Ot.c)(e);w in t.wantedTiles||(t.wantedTiles[w]={});var R=t.wantedTiles[w],B=t.tileQueue,V=i.getMinZoom(),et=0,vt,Ct,kt,Ht,Nt,ve;for(ve=V;ve<=f;++ve)for(Ct=i.getTileRangeForExtentAndZ(l,ve,Ct),kt=i.getResolution(ve),Ht=Ct.minX;Ht<=Ct.maxX;++Ht)for(Nt=Ct.minY;Nt<=Ct.maxY;++Nt)f-ve<=h?(++et,vt=e.getTile(ve,Ht,Nt,o,s),vt.getState()==cn.IDLE&&(R[vt.getKey()]=!0,B.isKeyQueued(vt.getKey())||B.enqueue([vt,w,i.getTileCoordCenter(vt.tileCoord),kt])),v!==void 0&&v(vt)):e.useTile(ve,Ht,Nt,s);e.updateCacheSize(et,s)},r}(Zm);S6.prototype.getLayer;var w6=S6,pM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vM=function(n){pM(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new w6(this)},r}(m6),qm=vM;function gM(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div")}var mM={props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},title:{type:String},name:{type:String},preview:{type:String},baseLayer:{type:Boolean},properties:{type:Object,default:function(){}}}},Sd=lr()(mM,[["render",gM]]),yM={extends:Sd,name:"ol-tile-layer",setup:function(r){var t=Object(F.inject)("map"),e=Object(F.inject)("overviewMap",null),i=Dr(r),o=i.properties,s=Object(F.computed)(function(){return new qm(o)}),l=function(){e!=null?(e.value.getOverviewMap().addLayer(s.value),e.value.changed()):t.addLayer(s.value)},f=function(){e!=null?(e.value.getOverviewMap().removeLayer(s.value),e.value.changed()):t.removeLayer(s.value)};return e!=null&&Object(F.watch)(e,function(){f(),l()}),Object(F.onMounted)(function(){l()}),Object(F.onUnmounted)(function(){f()}),Object(F.provide)("tileLayer",s),{tileLayer:s}},props:{preload:{type:Number,default:1}}},Qm=lr()(yM,[["render",aM]]);function _M(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var EM=function(){function n(r){this.highWaterMark=r!==void 0?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},n.prototype.forEach=function(r){for(var t=this.oldest_;t;)r(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(r,t){var e=this.entries_[r];return ye(e!==void 0,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},n.prototype.remove=function(r){var t=this.entries_[r];return ye(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[r],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.key_;return r},n.prototype.getValues=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.value_;return r},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},n.prototype.replace=function(r,t){this.get(r),this.entries_[r].value_=t},n.prototype.set=function(r,t){ye(!(r in this.entries_),16);var e={key_:r,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[r]=e,++this.count_},n.prototype.setSize=function(r){this.highWaterMark=r},n}(),x6=EM,SM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wM=function(n){SM(r,n);function r(t,e,i){var o=n.call(this)||this,s=i||{};return o.tileCoord=t,o.state=e,o.interimTile=null,o.key="",o.transition_=s.transition===void 0?250:s.transition,o.transitionStarts_={},o.interpolate=!!s.interpolate,o}return r.prototype.changed=function(){this.dispatchEvent(un.a.CHANGE)},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==cn.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},r.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==cn.LOADED){t.interimTile=null;break}else t.getState()==cn.LOADING?e=t:t.getState()==cn.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(t){if(this.state!==cn.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},r.prototype.load=function(){Object(Ot.b)()},r.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=e,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=e-i+1e3/60;return o>=this.transition_?1:cr(o/this.transition_)},r.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},r.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},r}(nr.a),O6=wM,xM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OM=function(n){xM(r,n);function r(t,e,i,o){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=i,s.resolution=e,s.state=o,s}return r.prototype.changed=function(){this.dispatchEvent(un.a.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return Object(Ot.b)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){Object(Ot.b)()},r}(nr.a),T6=OM,TM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bM=function(n){TM(r,n);function r(t,e,i,o,s,l){var f=n.call(this,t,e,i,Ni.IDLE)||this;return f.src_=o,f.image_=new Image,s!==null&&(f.image_.crossOrigin=s),f.unlisten_=null,f.state=Ni.IDLE,f.imageLoadFunction_=l,f}return r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=Ni.ERROR,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=on(this.extent)/this.image_.height),this.state=Ni.LOADED,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(this.state==Ni.IDLE||this.state==Ni.ERROR)&&(this.state=Ni.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=ty(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(t){this.image_=t,this.resolution=on(this.extent)/this.image_.height},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(T6);function ty(n,r,t){var e=n,i=!0,o=!1,s=!1,l=[Object(Hr.b)(e,un.a.LOAD,function(){s=!0,o||r()})];return e.src&&ee.c?(o=!0,e.decode().then(function(){i&&r()}).catch(function(f){i&&(s?r():t())})):l.push(Object(Hr.b)(e,un.a.ERROR,t)),function(){i=!1,l.forEach(Hr.c)}}var b6=bM,AM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MM=function(n){AM(r,n);function r(t,e,i,o,s,l){var f=n.call(this,t,e,l)||this;return f.crossOrigin_=o,f.src_=i,f.key=i,f.image_=new Image,o!==null&&(f.image_.crossOrigin=o),f.unlisten_=null,f.tileLoadFunction_=s,f}return r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t,this.state=cn.LOADED,this.unlistenImage_(),this.changed()},r.prototype.handleImageError_=function(){this.state=cn.ERROR,this.unlistenImage_(),this.image_=RM(),this.changed()},r.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=cn.LOADED:this.state=cn.EMPTY,this.unlistenImage_(),this.changed()},r.prototype.load=function(){this.state==cn.ERROR&&(this.state=cn.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==cn.IDLE&&(this.state=cn.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ty(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(O6);function RM(){var n=Object(ur.a)(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var ey=MM,A6=.5,CM=10,M6=.25,LM=function(){function n(r,t,e,i,o,s){this.sourceProj_=r,this.targetProj_=t;var l={},f=bl(this.targetProj_,this.sourceProj_);this.transformInv_=function(Ht){var Nt=Ht[0]+"/"+Ht[1];return l[Nt]||(l[Nt]=f(Ht)),l[Nt]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&en(i)==en(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?en(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?en(this.targetProj_.getExtent()):null;var h=bi(e),v=Tn(e),w=uo(e),R=_n(e),B=this.transformInv_(h),V=this.transformInv_(v),et=this.transformInv_(w),vt=this.transformInv_(R),Ct=CM+(s?Math.max(0,Math.ceil(Za(Li(e)/(s*s*256*256)))):0);if(this.addQuad_(h,v,w,R,B,V,et,vt,Ct),this.wrapsXInSource_){var kt=1/0;this.triangles_.forEach(function(Ht,Nt,ve){kt=Math.min(kt,Ht.source[0][0],Ht.source[1][0],Ht.source[2][0])}),this.triangles_.forEach(function(Ht){if(Math.max(Ht.source[0][0],Ht.source[1][0],Ht.source[2][0])-kt>this.sourceWorldWidth_/2){var Nt=[[Ht.source[0][0],Ht.source[0][1]],[Ht.source[1][0],Ht.source[1][1]],[Ht.source[2][0],Ht.source[2][1]]];Nt[0][0]-kt>this.sourceWorldWidth_/2&&(Nt[0][0]-=this.sourceWorldWidth_),Nt[1][0]-kt>this.sourceWorldWidth_/2&&(Nt[1][0]-=this.sourceWorldWidth_),Nt[2][0]-kt>this.sourceWorldWidth_/2&&(Nt[2][0]-=this.sourceWorldWidth_);var ve=Math.min(Nt[0][0],Nt[1][0],Nt[2][0]),de=Math.max(Nt[0][0],Nt[1][0],Nt[2][0]);de-ve<this.sourceWorldWidth_/2&&(Ht.source=Nt)}}.bind(this))}l={}}return n.prototype.addTriangle_=function(r,t,e,i,o,s){this.triangles_.push({source:[i,o,s],target:[r,t,e]})},n.prototype.addQuad_=function(r,t,e,i,o,s,l,f,h){var v=Tt([o,s,l,f]),w=this.sourceWorldWidth_?en(v)/this.sourceWorldWidth_:null,R=this.sourceWorldWidth_,B=this.sourceProj_.canWrapX()&&w>.5&&w<1,V=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var et=Tt([r,t,e,i]),vt=en(et)/this.targetWorldWidth_;V=vt>M6||V}!B&&this.sourceProj_.isGlobal()&&w&&(V=w>M6||V)}if(!(!V&&this.maxSourceExtent_&&isFinite(v[0])&&isFinite(v[1])&&isFinite(v[2])&&isFinite(v[3])&&!Ti(v,this.maxSourceExtent_))){var Ct=0;if(!V&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(f[0])||!isFinite(f[1]))){if(h>0)V=!0;else if(Ct=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),Ct!=1&&Ct!=2&&Ct!=4&&Ct!=8)return}if(h>0){if(!V){var kt=[(r[0]+e[0])/2,(r[1]+e[1])/2],Ht=this.transformInv_(kt),Nt=void 0;if(B){var ve=(Us(o[0],R)+Us(l[0],R))/2;Nt=ve-Us(Ht[0],R)}else Nt=(o[0]+l[0])/2-Ht[0];var de=(o[1]+l[1])/2-Ht[1],Oe=Nt*Nt+de*de;V=Oe>this.errorThresholdSquared_}if(V){if(Math.abs(r[0]-e[0])<=Math.abs(r[1]-e[1])){var Se=[(t[0]+e[0])/2,(t[1]+e[1])/2],Fe=this.transformInv_(Se),wr=[(i[0]+r[0])/2,(i[1]+r[1])/2],hr=this.transformInv_(wr);this.addQuad_(r,t,Se,wr,o,s,Fe,hr,h-1),this.addQuad_(wr,Se,e,i,hr,Fe,l,f,h-1)}else{var Ke=[(r[0]+t[0])/2,(r[1]+t[1])/2],Ir=this.transformInv_(Ke),yn=[(e[0]+i[0])/2,(e[1]+i[1])/2],Sn=this.transformInv_(yn);this.addQuad_(r,Ke,yn,i,o,Ir,Sn,f,h-1),this.addQuad_(Ke,t,e,yn,Ir,s,l,Sn,h-1)}return}}if(B){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(Ct&11)==0&&this.addTriangle_(r,e,i,o,l,f),(Ct&14)==0&&this.addTriangle_(r,e,t,o,l,s),Ct&&((Ct&13)==0&&this.addTriangle_(t,i,r,s,f,o),(Ct&7)==0&&this.addTriangle_(t,i,e,s,f,l))}},n.prototype.calculateSourceExtent=function(){var r=at();return this.triangles_.forEach(function(t,e,i){var o=t.source;Fn(r,o[0]),Fn(r,o[1]),Fn(r,o[2])}),r},n.prototype.getTriangles=function(){return this.triangles_},n}(),R6=LM,ry;function C6(n,r,t,e,i){n.beginPath(),n.moveTo(0,0),n.lineTo(r,t),n.lineTo(e,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(r,e)+1,Math.max(t,i)),n.restore()}function ny(n,r){return Math.abs(n[r*4]-210)>2||Math.abs(n[r*4+3]-.75*255)>2}function PM(){if(ry===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",C6(n,4,5,4,0),C6(n,4,5,0,5);var r=n.getImageData(0,0,3,3).data;ry=ny(r,0)||ny(r,4)||ny(r,8)}return ry}function r1(n,r,t,e){var i=$n(t,r,n),o=Tu(r,e,t),s=r.getMetersPerUnit();s!==void 0&&(o*=s);var l=n.getMetersPerUnit();l!==void 0&&(o/=l);var f=n.getExtent();if(!f||he(f,i)){var h=Tu(n,o,i)/o;isFinite(h)&&h>0&&(o/=h)}return o}function IM(n,r,t,e){var i=zn(t),o=r1(n,r,i,e);return(!isFinite(o)||o<=0)&&ui(t,function(s){return o=r1(n,r,s,e),isFinite(o)&&o>0}),o}function L6(n,r,t,e,i,o,s,l,f,h,v,w){var R=Object(ur.a)(Math.round(t*n),Math.round(t*r));if(w||Object(pn.a)(R,e1),f.length===0)return R.canvas;R.scale(t,t);function B(Nt){return Math.round(Nt*t)/t}R.globalCompositeOperation="lighter";var V=at();f.forEach(function(Nt,ve,de){ln(V,Nt.extent)});var et=en(V),vt=on(V),Ct=Object(ur.a)(Math.round(t*et/e),Math.round(t*vt/e));w||Object(pn.a)(Ct,e1);var kt=t/e;f.forEach(function(Nt,ve,de){var Oe=Nt.extent[0]-V[0],Se=-(Nt.extent[3]-V[3]),Fe=en(Nt.extent),wr=on(Nt.extent);Nt.image.width>0&&Nt.image.height>0&&Ct.drawImage(Nt.image,h,h,Nt.image.width-2*h,Nt.image.height-2*h,Oe*kt,Se*kt,Fe*kt,wr*kt)});var Ht=bi(s);return l.getTriangles().forEach(function(Nt,ve,de){var Oe=Nt.source,Se=Nt.target,Fe=Oe[0][0],wr=Oe[0][1],hr=Oe[1][0],Ke=Oe[1][1],Ir=Oe[2][0],yn=Oe[2][1],Sn=B((Se[0][0]-Ht[0])/o),Rn=B(-(Se[0][1]-Ht[1])/o),Nn=B((Se[1][0]-Ht[0])/o),gi=B(-(Se[1][1]-Ht[1])/o),mi=B((Se[2][0]-Ht[0])/o),Mi=B(-(Se[2][1]-Ht[1])/o),Ri=Fe,Br=wr;Fe=0,wr=0,hr-=Ri,Ke-=Br,Ir-=Ri,yn-=Br;var rs=[[hr,Ke,0,0,Nn-Sn],[Ir,yn,0,0,mi-Sn],[0,0,hr,Ke,gi-Rn],[0,0,Ir,yn,Mi-Rn]],Gi=tl(rs);if(!!Gi){if(R.save(),R.beginPath(),PM()||!w){R.moveTo(Nn,gi);for(var ra=4,Ya=Sn-Nn,cs=Rn-gi,ns=0;ns<ra;ns++)R.lineTo(Nn+B((ns+1)*Ya/ra),gi+B(ns*cs/(ra-1))),ns!=ra-1&&R.lineTo(Nn+B((ns+1)*Ya/ra),gi+B((ns+1)*cs/(ra-1)));R.lineTo(mi,Mi)}else R.moveTo(Nn,gi),R.lineTo(Sn,Rn),R.lineTo(mi,Mi);R.clip(),R.transform(Gi[0],Gi[2],Gi[1],Gi[3],Sn,Rn),R.translate(V[0]-Ri,V[3]-Br),R.scale(e/t,-e/t),R.drawImage(Ct.canvas,0,0),R.restore()}}),v&&(R.save(),R.globalCompositeOperation="source-over",R.strokeStyle="black",R.lineWidth=1,l.getTriangles().forEach(function(Nt,ve,de){var Oe=Nt.target,Se=(Oe[0][0]-Ht[0])/o,Fe=-(Oe[0][1]-Ht[1])/o,wr=(Oe[1][0]-Ht[0])/o,hr=-(Oe[1][1]-Ht[1])/o,Ke=(Oe[2][0]-Ht[0])/o,Ir=-(Oe[2][1]-Ht[1])/o;R.beginPath(),R.moveTo(wr,hr),R.lineTo(Se,Fe),R.lineTo(Ke,Ir),R.closePath(),R.stroke()}),R.restore()),R.canvas}var NM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FM=function(n){NM(r,n);function r(t,e,i,o,s,l,f,h,v,w,R,B){var V=n.call(this,s,cn.IDLE,{interpolate:!!B})||this;V.renderEdges_=R!==void 0?R:!1,V.pixelRatio_=f,V.gutter_=h,V.canvas_=null,V.sourceTileGrid_=e,V.targetTileGrid_=o,V.wrappedTileCoord_=l||s,V.sourceTiles_=[],V.sourcesListenerKeys_=null,V.sourceZ_=0;var et=o.getTileCoordExtent(V.wrappedTileCoord_),vt=V.targetTileGrid_.getExtent(),Ct=V.sourceTileGrid_.getExtent(),kt=vt?rn(et,vt):et;if(Li(kt)===0)return V.state=cn.EMPTY,V;var Ht=t.getExtent();Ht&&(Ct?Ct=rn(Ct,Ht):Ct=Ht);var Nt=o.getResolution(V.wrappedTileCoord_[0]),ve=IM(t,i,kt,Nt);if(!isFinite(ve)||ve<=0)return V.state=cn.EMPTY,V;var de=w!==void 0?w:A6;if(V.triangulation_=new R6(t,i,kt,Ct,ve*de,Nt),V.triangulation_.getTriangles().length===0)return V.state=cn.EMPTY,V;V.sourceZ_=e.getZForResolution(ve);var Oe=V.triangulation_.calculateSourceExtent();if(Ct&&(t.canWrapX()?(Oe[1]=co(Oe[1],Ct[1],Ct[3]),Oe[3]=co(Oe[3],Ct[1],Ct[3])):Oe=rn(Oe,Ct)),!Li(Oe))V.state=cn.EMPTY;else{for(var Se=e.getTileRangeForExtentAndZ(Oe,V.sourceZ_),Fe=Se.minX;Fe<=Se.maxX;Fe++)for(var wr=Se.minY;wr<=Se.maxY;wr++){var hr=v(V.sourceZ_,Fe,wr,f);hr&&V.sourceTiles_.push(hr)}V.sourceTiles_.length===0&&(V.state=cn.EMPTY)}return V}return r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(v,w,R){v&&v.getState()==cn.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(v.tileCoord),image:v.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=cn.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),o=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],l=this.targetTileGrid_.getResolution(e),f=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=L6(o,s,this.pixelRatio_,f,this.sourceTileGrid_.getExtent(),l,h,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=cn.LOADED}this.changed()},r.prototype.load=function(){if(this.state==cn.IDLE){this.state=cn.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,o){var s=e.getState();if(s==cn.IDLE||s==cn.LOADING){t++;var l=Object(Hr.a)(e,un.a.CHANGE,function(f){var h=e.getState();(h==cn.LOADED||h==cn.ERROR||h==cn.EMPTY)&&(Object(Hr.c)(l),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(l)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,i,o){var s=e.getState();s==cn.IDLE&&e.load()})}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Hr.c),this.sourcesListenerKeys_=null},r}(O6),P6=FM,n1=34962,e2=34963,DM=35040,iy=35044,r2=35048,jM=5121,GM=5123,BM=5125,I6=5126,N6=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function F6(n,r){for(var t=Object(pn.a)({preserveDrawingBuffer:!0},r),e=N6.length,i=0;i<e;++i)try{var o=n.getContext(N6[i],t);if(o)return o}catch{}return null}var UM={STATIC_DRAW:iy,STREAM_DRAW:DM,DYNAMIC_DRAW:r2},kM=function(){function n(r,t){this.array=null,this.type=r,ye(r===n1||r===e2,62),this.usage=t!==void 0?t:UM.STATIC_DRAW}return n.prototype.ofSize=function(r){this.array=new(oy(this.type))(r)},n.prototype.fromArray=function(r){var t=oy(this.type);this.array=t.from?t.from(r):new t(r)},n.prototype.fromArrayBuffer=function(r){this.array=new(oy(this.type))(r)},n.prototype.getType=function(){return this.type},n.prototype.getArray=function(){return this.array},n.prototype.getUsage=function(){return this.usage},n.prototype.getSize=function(){return this.array?this.array.length:0},n}();function oy(n){switch(n){case n1:return Float32Array;case e2:return Uint32Array;default:return Float32Array}}var i1=kM,zM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function D6(n,r,t){var e=t?n.LINEAR:n.NEAREST;n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e)}function VM(n,r,t,e){D6(n,r,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)}function j6(n,r,t,e,i,o){var s=n.getGL();D6(s,r,o);var l=t.byteLength/e[1],f=1;l%8===0?f=8:l%4===0?f=4:l%2===0&&(f=2);var h;switch(i){case 1:{h=s.LUMINANCE;break}case 2:{h=s.LUMINANCE_ALPHA;break}case 3:{h=s.RGB;break}case 4:{h=s.RGBA;break}default:throw new Error("Unsupported number of bands: "+i)}var v;t instanceof Float32Array?(v=s.FLOAT,n.getExtension("OES_texture_float"),n.getExtension("OES_texture_float_linear")):v=s.UNSIGNED_BYTE;var w=s.getParameter(s.UNPACK_ALIGNMENT);s.pixelStorei(s.UNPACK_ALIGNMENT,f),s.texImage2D(s.TEXTURE_2D,0,h,e[0],e[1],0,h,v,t),s.pixelStorei(s.UNPACK_ALIGNMENT,w)}var WM=function(n){zM(r,n);function r(t,e,i){var o=n.call(this)||this;o.tile,o.textures=[],o.handleTileChange_=o.handleTileChange_.bind(o),o.size=ua(e.getTileSize(t.tileCoord[0])),o.bandCount=NaN,o.helper_=i;var s=new i1(n1,iy);return s.fromArray([0,1,1,1,1,0,0,0]),i.flushBufferData(s),o.coords=s,o.setTile(t),o}return r.prototype.setTile=function(t){if(t!==this.tile)if(this.tile&&this.tile.removeEventListener(un.a.CHANGE,this.handleTileChange_),this.tile=t,this.textures.length=0,this.loaded=t.getState()===cn.LOADED,this.loaded)this.uploadTile_();else{if(t instanceof ey){var e=t.getImage();e instanceof Image&&!e.crossOrigin&&(e.crossOrigin="anonymous")}t.addEventListener(un.a.CHANGE,this.handleTileChange_)}},r.prototype.uploadTile_=function(){var t=this.helper_,e=t.getGL(),i=this.tile;if(i instanceof ey||i instanceof P6){var o=e.createTexture();this.textures.push(o),this.bandCount=4,VM(e,o,i.getImage(),i.interpolate);return}var s=i.getData(),l=s instanceof Float32Array,f=this.size[0]*this.size[1],h=l?Float32Array:Uint8Array,v=h.BYTES_PER_ELEMENT,w=s.byteLength/this.size[1];this.bandCount=Math.floor(w/v/this.size[0]);var R=Math.ceil(this.bandCount/4);if(R===1){var o=e.createTexture();this.textures.push(o),j6(t,o,s,this.size,this.bandCount,i.interpolate);return}for(var B=new Array(R),V=0;V<R;++V){var o=e.createTexture();this.textures.push(o);var et=V<R-1?4:this.bandCount%4;B[V]=new h(f*et)}for(var vt=0,Ct=0,kt=this.size[0]*this.bandCount,Ht=0;Ht<this.size[1];++Ht){for(var Nt=0;Nt<kt;++Nt){var ve=s[Ct+Nt],de=Math.floor(vt/this.bandCount),Oe=Nt%this.bandCount,V=Math.floor(Oe/4),Se=B[V],et=Se.length/f,Fe=Oe%4;Se[de*et+Fe]=ve,++vt}Ct+=w/v}for(var V=0;V<R;++V){var o=this.textures[V],Se=B[V],et=Se.length/f;j6(t,o,Se,this.size,et,i.interpolate)}},r.prototype.handleTileChange_=function(){this.tile.getState()===cn.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(un.a.CHANGE))},r.prototype.disposeInternal=function(){var t=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e]);this.tile.removeEventListener(un.a.CHANGE,this.handleTileChange_)},r}(nr.a),HM=WM,n2={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},YM=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,XM=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`,KM=function(){function n(r){this.gl_=r.webGlContext;var t=this.gl_;this.scaleRatio_=r.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,r.vertexShader||YM),t.compileShader(e);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,r.fragmentShader||XM),t.compileShader(i),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,e),t.attachShader(this.renderTargetProgram_,i),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();var o=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],r.uniforms&&Object.keys(r.uniforms).forEach(function(s){this.uniforms_.push({value:r.uniforms[s],location:t.getUniformLocation(this.renderTargetProgram_,s)})}.bind(this))}return n.prototype.getGL=function(){return this.gl_},n.prototype.init=function(r){var t=this.getGL(),e=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,e[0],e[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==e[0]||this.renderTargetTextureSize_[1]!==e[1]){this.renderTargetTextureSize_=e;var i=0,o=t.RGBA,s=0,l=t.RGBA,f=t.UNSIGNED_BYTE,h=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,i,o,e[0],e[1],s,l,f,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},n.prototype.apply=function(r,t,e,i){var o=this.getGL(),s=r.size;if(o.bindFramebuffer(o.FRAMEBUFFER,t?t.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!t){var l=Object(Ot.c)(o.canvas);if(!r.renderTargets[l]){var f=o.getContextAttributes();f&&f.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),r.renderTargets[l]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,s[0],s[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var h=r.layerStatesArray[r.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,h),this.applyUniforms(r),e&&e(o,r),o.drawArrays(o.TRIANGLES,0,6),i&&i(o,r)},n.prototype.getFrameBuffer=function(){return this.frameBuffer_},n.prototype.applyUniforms=function(r){var t=this.getGL(),e,i=1;this.uniforms_.forEach(function(o){if(e=typeof o.value=="function"?o.value(r):o.value,e instanceof HTMLCanvasElement||e instanceof ImageData)o.texture||(o.texture=t.createTexture()),t.activeTexture(t["TEXTURE"+i]),t.bindTexture(t.TEXTURE_2D,o.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e.width,e.height,0,t.UNSIGNED_BYTE,new Uint8Array(e.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.uniform1i(o.location,i++);else if(Array.isArray(e))switch(e.length){case 2:t.uniform2f(o.location,e[0],e[1]);return;case 3:t.uniform3f(o.location,e[0],e[1],e[2]);return;case 4:t.uniform4f(o.location,e[0],e[1],e[2],e[3]);return;default:return}else typeof e=="number"&&t.uniform1f(o.location,e)})},n}(),G6=KM;function B6(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i2(n,r){return n[0]=r[0],n[1]=r[1],n[4]=r[2],n[5]=r[3],n[12]=r[4],n[13]=r[5],n}var $M=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wd={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},c0={UNSIGNED_BYTE:jM,UNSIGNED_SHORT:GM,UNSIGNED_INT:BM,FLOAT:I6},o2={};function U6(n){return"shared/"+n}var k6=0;function ZM(){var n="unique/"+k6;return k6+=1,n}function JM(n){var r=o2[n];if(!r){var t=document.createElement("canvas");t.style.position="absolute",t.style.left="0",r={users:0,canvas:t},o2[n]=r}return r.users+=1,r.canvas}function qM(n){var r=o2[n];if(!!r&&(r.users-=1,!(r.users>0))){var t=r.canvas,e=F6(t),i=e.getExtension("WEBGL_lose_context");i&&i.loseContext(),delete o2[n]}}var QM=function(n){$M(r,n);function r(t){var e=n.call(this)||this,i=t||{};e.boundHandleWebGLContextLost_=e.handleWebGLContextLost.bind(e),e.boundHandleWebGLContextRestored_=e.handleWebGLContextRestored.bind(e),e.canvasCacheKey_=i.canvasCacheKey?U6(i.canvasCacheKey):ZM(),e.canvas_=JM(e.canvasCacheKey_),e.gl_=F6(e.canvas_),e.bufferCache_={},e.extensionCache_={},e.currentProgram_=null,e.canvas_.addEventListener(n2.LOST,e.boundHandleWebGLContextLost_),e.canvas_.addEventListener(n2.RESTORED,e.boundHandleWebGLContextRestored_),e.offsetRotateMatrix_=mt(),e.offsetScaleMatrix_=mt(),e.tmpMat4_=B6(),e.uniformLocations_={},e.attribLocations_={},e.uniforms_=[],i.uniforms&&e.setUniforms(i.uniforms);var o=e.getGL();return e.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(s){return new G6({webGlContext:o,scaleRatio:s.scaleRatio,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,uniforms:s.uniforms})}):[new G6({webGlContext:o})],e.shaderCompileErrors_=null,e.startTime_=Date.now(),e}return r.prototype.setUniforms=function(t){this.uniforms_=[];for(var e in t)this.uniforms_.push({name:e,value:t[e]});this.uniformLocations_={}},r.prototype.canvasCacheKeyMatches=function(t){return this.canvasCacheKey_===U6(t)},r.prototype.getExtension=function(t){if(t in this.extensionCache_)return this.extensionCache_[t];var e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e},r.prototype.bindBuffer=function(t){var e=this.getGL(),i=Object(Ot.c)(t),o=this.bufferCache_[i];if(!o){var s=e.createBuffer();o={buffer:t,webGlBuffer:s},this.bufferCache_[i]=o}e.bindBuffer(t.getType(),o.webGlBuffer)},r.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},r.prototype.deleteBuffer=function(t){var e=this.getGL(),i=Object(Ot.c)(t),o=this.bufferCache_[i];o&&!e.isContextLost()&&e.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[i]},r.prototype.disposeInternal=function(){this.canvas_.removeEventListener(n2.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(n2.RESTORED,this.boundHandleWebGLContextRestored_),qM(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},r.prototype.prepareDraw=function(t,e){var i=this.getGL(),o=this.getCanvas(),s=t.size,l=t.pixelRatio;o.width=s[0]*l,o.height=s[1]*l,o.style.width=s[0]+"px",o.style.height=s[1]+"px",i.useProgram(this.currentProgram_);for(var f=this.postProcessPasses_.length-1;f>=0;f--)this.postProcessPasses_[f].init(t);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,e?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.prepareDrawToRenderTarget=function(t,e,i){var o=this.getGL(),s=e.getSize();o.bindFramebuffer(o.FRAMEBUFFER,e.getFramebuffer()),o.viewport(0,0,s[0],s[1]),o.bindTexture(o.TEXTURE_2D,e.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,i?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.drawElements=function(t,e){var i=this.getGL();this.getExtension("OES_element_index_uint");var o=i.UNSIGNED_INT,s=4,l=e-t,f=t*s;i.drawElements(i.TRIANGLES,l,o,f)},r.prototype.finalizeDraw=function(t,e,i){for(var o=0,s=this.postProcessPasses_.length;o<s;o++)o===s-1?this.postProcessPasses_[o].apply(t,null,e,i):this.postProcessPasses_[o].apply(t,this.postProcessPasses_[o+1])},r.prototype.getCanvas=function(){return this.canvas_},r.prototype.getGL=function(){return this.gl_},r.prototype.applyFrameState=function(t){var e=t.size,i=t.viewState.rotation,o=Kt(this.offsetScaleMatrix_);Xr(o,2/e[0],2/e[1]);var s=Kt(this.offsetRotateMatrix_);i!==0&&jr(s,-i),this.setUniformMatrixValue(wd.OFFSET_SCALE_MATRIX,i2(this.tmpMat4_,o)),this.setUniformMatrixValue(wd.OFFSET_ROTATION_MATRIX,i2(this.tmpMat4_,s)),this.setUniformFloatValue(wd.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(wd.ZOOM,t.viewState.zoom),this.setUniformFloatValue(wd.RESOLUTION,t.viewState.resolution)},r.prototype.applyUniforms=function(t){var e=this.getGL(),i,o=0;this.uniforms_.forEach(function(s){if(i=typeof s.value=="function"?s.value(t):s.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData){s.texture||(s.prevValue=void 0,s.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+o]),e.bindTexture(e.TEXTURE_2D,s.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var l=!(i instanceof HTMLImageElement)||i.complete;l&&s.prevValue!==i&&(s.prevValue=i,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)),e.uniform1i(this.getUniformLocation(s.name),o++)}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(s.name,i2(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:e.uniform2f(this.getUniformLocation(s.name),i[0],i[1]);return;case 3:e.uniform3f(this.getUniformLocation(s.name),i[0],i[1],i[2]);return;case 4:e.uniform4f(this.getUniformLocation(s.name),i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&e.uniform1f(this.getUniformLocation(s.name),i)}.bind(this))},r.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0},r.prototype.compileShader=function(t,e){var i=this.getGL(),o=i.createShader(e);return i.shaderSource(o,t),i.compileShader(o),o},r.prototype.getProgram=function(t,e){var i=this.getGL(),o=this.compileShader(t,i.FRAGMENT_SHADER),s=this.compileShader(e,i.VERTEX_SHADER),l=i.createProgram();if(i.attachShader(l,o),i.attachShader(l,s),i.linkProgram(l),!i.getShaderParameter(o,i.COMPILE_STATUS)){var f="Fragment shader compliation failed: "+i.getShaderInfoLog(o);throw new Error(f)}if(i.deleteShader(o),!i.getShaderParameter(s,i.COMPILE_STATUS)){var f="Vertex shader compilation failed: "+i.getShaderInfoLog(s);throw new Error(f)}if(i.deleteShader(s),!i.getProgramParameter(l,i.LINK_STATUS)){var f="GL program linking failed: "+i.getShaderInfoLog(s);throw new Error(f)}return l},r.prototype.getUniformLocation=function(t){return this.uniformLocations_[t]===void 0&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},r.prototype.getAttributeLocation=function(t){return this.attribLocations_[t]===void 0&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},r.prototype.makeProjectionTransform=function(t,e){var i=t.size,o=t.viewState.rotation,s=t.viewState.resolution,l=t.viewState.center;return Kt(e),er(e,0,0,2/(s*i[0]),2/(s*i[1]),-o,-l[0],-l[1]),e},r.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},r.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},r.prototype.enableAttributeArray_=function(t,e,i,o,s){var l=this.getAttributeLocation(t);l<0||(this.getGL().enableVertexAttribArray(l),this.getGL().vertexAttribPointer(l,e,i,!1,o,s))},r.prototype.enableAttributes=function(t){for(var e=tR(t),i=0,o=0;o<t.length;o++){var s=t[o];this.enableAttributeArray_(s.name,s.size,s.type||I6,e,i),i+=s.size*z6(s.type)}},r.prototype.handleWebGLContextLost=function(){Object(pn.b)(this.bufferCache_),this.currentProgram_=null},r.prototype.handleWebGLContextRestored=function(){},r.prototype.createTexture=function(t,e,i){var o=this.getGL(),s=i||o.createTexture(),l=0,f=o.RGBA,h=0,v=o.RGBA,w=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,s),e?o.texImage2D(o.TEXTURE_2D,l,f,v,w,e):o.texImage2D(o.TEXTURE_2D,l,f,t[0],t[1],h,v,w,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),s},r}(jt.a);function tR(n){for(var r=0,t=0;t<n.length;t++){var e=n[t];r+=e.size*z6(e.type)}return r}function z6(n){switch(n){case c0.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case c0.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case c0.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case c0.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var eR=QM,rR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ay={GENERATE_BUFFERS:"GENERATE_BUFFERS"},nR=function(n){rR(r,n);function r(t,e){var i=n.call(this,t)||this,o=e||{};return i.inversePixelTransform_=mt(),i.pixelContext_=null,i.postProcesses_=o.postProcesses,i.uniforms_=o.uniforms,i.helper,t.addChangeListener(Bi.MAP,i.removeHelper_.bind(i)),i.dispatchPreComposeEvent=i.dispatchPreComposeEvent.bind(i),i.dispatchPostComposeEvent=i.dispatchPostComposeEvent.bind(i),i}return r.prototype.dispatchPreComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(No.PRECOMPOSE)){var o=new pr(No.PRECOMPOSE,void 0,e,t);i.dispatchEvent(o)}},r.prototype.dispatchPostComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(No.POSTCOMPOSE)){var o=new pr(No.POSTCOMPOSE,void 0,e,t);i.dispatchEvent(o)}},r.prototype.reset=function(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},r.prototype.removeHelper_=function(){this.helper&&(this.helper.dispose(),delete this.helper)},r.prototype.prepareFrame=function(t){if(this.getLayer().getSource()){for(var e=!0,i=-1,o=void 0,s=0,l=t.layerStatesArray.length;s<l;s++){var f=t.layerStatesArray[s].layer,h=f.getRenderer();if(!(h instanceof r)){e=!0;continue}var v=f.getClassName();if((e||v!==o)&&(i+=1,e=!1),o=v,h===this)break}var w="map/"+t.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(w))&&(this.helper&&this.helper.dispose(),this.helper=new eR({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:w}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(t)},r.prototype.afterHelperCreated=function(){},r.prototype.prepareFrameInternal=function(t){return!0},r.prototype.disposeInternal=function(){this.removeHelper_(),n.prototype.disposeInternal.call(this)},r.prototype.dispatchRenderEvent_=function(t,e,i){var o=this.getLayer();if(o.hasListener(t)){er(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);var s=new pr(t,this.inversePixelTransform_,i,e);o.dispatchEvent(s)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(No.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(No.POSTRENDER,t,e)},r.prototype.getDataAtPixel=function(t,e,i){var o=ar([e.pixelRatio,0,0,e.pixelRatio,0,0],t.slice()),s=this.helper.getGL();if(!s)return null;var l=this.getLayer(),f=l.getExtent();if(f){var h=ar(e.pixelToCoordinateTransform,t.slice());if(!he(f,h))return null}var v=s.getContextAttributes();if(!v||!v.preserveDrawingBuffer)return new Uint8Array;var w=Math.round(o[0]),R=Math.round(o[1]),B=this.pixelContext_;if(!B){var V=document.createElement("canvas");V.width=1,V.height=1,B=V.getContext("2d"),this.pixelContext_=B}B.clearRect(0,0,1,1);var et;try{B.drawImage(s.canvas,w,R,1,1,0,0,1,1),et=B.getImageData(0,0,1,1).data}catch{return et}return et[3]===0?null:et},r}(y6);function iR(n,r){var t=r||[],e=256,i=e-1;return t[0]=Math.floor(n/e/e/e)/i,t[1]=Math.floor(n/e/e)%e/i,t[2]=Math.floor(n/e)%e/i,t[3]=n%e/i,t}function oR(n){var r=0,t=256,e=t-1;return r+=Math.round(n[0]*t*t*t*e),r+=Math.round(n[1]*t*t*e),r+=Math.round(n[2]*t*e),r+=Math.round(n[3]*e),r}var V6=nR;function o1(n,r,t,e){return e!==void 0?(e[0]=n,e[1]=r,e[2]=t,e):[n,r,t]}function a1(n,r,t){return n+"/"+r+"/"+t}function s1(n){return a1(n[0],n[1],n[2])}function aR(n){return n.split("/").map(Number)}function W6(n){return(n[1]<<n[0])+n[2]}function sR(n,r){var t=n[0],e=n[1],i=n[2];if(r.getMinZoom()>t||t>r.getMaxZoom())return!1;var o=r.getFullTileRange(t);return o?o.containsXY(e,i):!0}var lR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ca={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},a2={TEXTURE_COORD:"a_textureCoord"},uR=[{name:a2.TEXTURE_COORD,size:2,type:c0.FLOAT}],cR={};function fR(n){return 2*(1-1/(n+1))-1}function H6(n,r,t){t in n||(n[t]=[]),n[t].push(r)}function sy(n,r){var t=n.layerStatesArray[n.layerIndex];t.extent&&(r=rn(r,At(t.extent,n.viewState.projection)));var e=t.layer.getSource();if(!e.getWrapX()){var i=e.getTileGridForProjection(n.viewState.projection).getExtent();i&&(r=rn(r,i))}return r}var Y6=function(n){lR(r,n);function r(t,e){var i=n.call(this,t,{uniforms:e.uniforms})||this;i.tileTransform_=mt(),i.tempMat4_=B6(),i.tempTileRange_=new Jm(0,0,0,0),i.tempTileCoord_=o1(0,0,0),i.tempSize_=[0,0],i.program_,i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.indices_=new i1(e2,iy),i.indices_.fromArray([0,1,3,1,2,3]);var o=e.cacheSize!==void 0?e.cacheSize:512;return i.tileTextureCache_=new x6(o),i.paletteTextures_=e.paletteTextures||[],i}return r.prototype.reset=function(t){n.prototype.reset.call(this,{uniforms:t.uniforms}),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},r.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==cn.LOADED||i==cn.EMPTY||i==cn.ERROR&&!o},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource();return!i||Io(sy(t,t.extent))?!1:i.getState()===li.READY},r.prototype.enqueueTiles=function(t,e,i,o){var s=t.viewState,l=this.getLayer(),f=l.getSource(),h=f.getTileGridForProjection(s.projection),v=this.tileTextureCache_,w=h.getTileRangeForExtentAndZ(e,i,this.tempTileRange_),R=Object(Ot.c)(f);R in t.wantedTiles||(t.wantedTiles[R]={});for(var B=t.wantedTiles[R],V=h.getResolution(i),et=w.minX;et<=w.maxX;++et)for(var vt=w.minY;vt<=w.maxY;++vt){var Ct=o1(i,et,vt,this.tempTileCoord_),kt=s1(Ct),Ht=void 0,Nt=void 0;if(v.containsKey(kt)&&(Ht=v.get(kt),Nt=Ht.tile),!Ht||Ht.tile.key!==f.getKey())if(Nt=f.getTile(i,et,vt,t.pixelRatio,s.projection),!Ht)Ht=new HM(Nt,h,this.helper),v.set(kt,Ht);else if(this.isDrawableTile_(Nt))Ht.setTile(Nt);else{var ve=Nt.getInterimTile();Ht.setTile(ve)}H6(o,Ht,i);var de=Nt.getKey();B[de]=!0,Nt.getState()===cn.IDLE&&(t.tileQueue.isKeyQueued(de)||t.tileQueue.enqueue([Nt,R,h.getTileCoordCenter(Ct),V]))}},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=t.viewState,o=this.getLayer(),s=o.getSource(),l=s.getTileGridForProjection(i.projection),f=sy(t,t.extent),h=l.getZForResolution(i.resolution,s.zDirection),v={};if(t.nextExtent){var w=l.getZForResolution(i.nextResolution,s.zDirection),R=sy(t,t.nextExtent);this.enqueueTiles(t,R,w,v)}this.enqueueTiles(t,f,h,v);for(var B={},V=Object(Ot.c)(this),et=t.time,vt=!1,Ct=v[h],kt=0,Ht=Ct.length;kt<Ht;++kt){var Nt=Ct[kt],ve=Nt.tile,de=ve.tileCoord;if(Nt.loaded){var Oe=ve.getAlpha(V,et);if(Oe===1){ve.endTransition(V);continue}vt=!0;var Se=s1(de);B[Se]=Oe}var Fe=this.findAltTiles_(l,de,h+1,v);if(!Fe)for(var wr=l.getMinZoom(),hr=h-1;hr>=wr;--hr){var Ke=this.findAltTiles_(l,de,hr,v);if(Ke)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(t,!vt);for(var Ir=Object.keys(v).map(Number).sort(K.i),yn=i.center[0],Sn=i.center[1],Rn=0,Nn=Ir.length;Rn<Nn;++Rn)for(var gi=Ir[Rn],mi=l.getResolution(gi),Mi=ua(l.getTileSize(gi),this.tempSize_),Ri=l.getOrigin(gi),Br=(yn-Ri[0])/(Mi[0]*mi),rs=(Ri[1]-Sn)/(Mi[1]*mi),Gi=i.resolution/mi,ra=fR(gi),Ya=v[gi],kt=0,Ht=Ya.length;kt<Ht;++kt){var Nt=Ya[kt];if(!!Nt.loaded){var ve=Nt.tile,de=ve.tileCoord,Se=s1(de),cs=de[1],ns=de[2];er(this.tileTransform_,0,0,2/(t.size[0]*Gi/Mi[0]),-2/(t.size[1]*Gi/Mi[1]),i.rotation,-(Br-cs),-(rs-ns)),this.helper.setUniformMatrixValue(Ca.TILE_TRANSFORM,i2(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(Nt.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(uR);for(var ma=0;ma<Nt.textures.length;){var fi="TEXTURE"+ma,oi=Ca.TILE_TEXTURE_ARRAY+"["+ma+"]";e.activeTexture(e[fi]),e.bindTexture(e.TEXTURE_2D,Nt.textures[ma]),e.uniform1i(this.helper.getUniformLocation(oi),ma),++ma}for(var Xa=0;Xa<this.paletteTextures_.length;++Xa){var B0=this.paletteTextures_[Xa];e.activeTexture(e["TEXTURE"+ma]);var fc=B0.getTexture(e);e.bindTexture(e.TEXTURE_2D,fc),e.uniform1i(this.helper.getUniformLocation(B0.name),ma),++ma}var Oe=Se in B?B[Se]:1;Oe<1&&(t.animate=!0),this.helper.setUniformFloatValue(Ca.TRANSITION_ALPHA,Oe),this.helper.setUniformFloatValue(Ca.DEPTH,ra),this.helper.setUniformFloatValue(Ca.TEXTURE_PIXEL_WIDTH,Mi[0]),this.helper.setUniformFloatValue(Ca.TEXTURE_PIXEL_HEIGHT,Mi[1]),this.helper.setUniformFloatValue(Ca.RESOLUTION,i.resolution),this.helper.setUniformFloatValue(Ca.ZOOM,i.zoom),this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var Ef=this.helper.getCanvas(),Th=this.tileTextureCache_;Th.canExpireCache();){var Nt=Th.pop();Nt.dispose()}var bh=function(A1,Ic){s.expireCache(Ic.viewState.projection,cR)};return t.postRenderFunctions.push(bh),this.postRender(e,t),Ef},r.prototype.findAltTiles_=function(t,e,i,o){var s=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!s)return!1;for(var l=!0,f=this.tileTextureCache_,h=s.minX;h<=s.maxX;++h)for(var v=s.minY;v<=s.maxY;++v){var w=a1(i,h,v),R=!1;if(f.containsKey(w)){var B=f.get(w);B.loaded&&(H6(o,B,i),R=!0)}R||(l=!1)}return l},r.prototype.disposeInternal=function(){var t=this.helper,e=t.getGL();t.deleteBuffer(this.indices_),delete this.indices_,e.deleteProgram(this.program_),delete this.program_;var i=this.tileTextureCache_;i.forEach(function(o){o.dispose()}),i.clear(),delete this.tileTextureCache_,n.prototype.disposeInternal.call(this)},r}(V6);Y6.prototype.getLayer;var hR=Y6,dR=function(){function n(r,t){this.name=r,this.data=t,this.texture_=null}return n.prototype.getTexture=function(r){if(!this.texture_){var t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.data.length/4,1,0,r.RGBA,r.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_},n}(),pR=dR,bn={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},oo={};function ic(n){if(typeof n=="number")return bn.NUMBER;if(typeof n=="boolean")return bn.BOOLEAN;if(typeof n=="string")return yu(n)?bn.COLOR|bn.STRING:bn.STRING;if(!Array.isArray(n))throw new Error("Unhandled value type: "+JSON.stringify(n));var r=n,t=r.every(function(i){return typeof i=="number"});if(t)return r.length===3||r.length===4?bn.COLOR|bn.NUMBER_ARRAY:bn.NUMBER_ARRAY;if(typeof r[0]!="string")throw new Error("Expected an expression operator but received: "+JSON.stringify(r));var e=oo[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.getReturnType(r.slice(1))}function vR(n){return Za(n)%1===0}function s2(n){var r=n.toString();return r.indexOf(".")===-1?r+".0":r}function X6(n){if(n.length<2||n.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+n.length+"("+n.map(s2).join(", ")+")"}function gR(n){var r=fa(n).slice();return r.length<4&&r.push(1),X6(r.map(function(t,e){return e<3?t/255:t}))}function l2(n,r){return n.stringLiteralsMap[r]===void 0&&(n.stringLiteralsMap[r]=Object.keys(n.stringLiteralsMap).length),n.stringLiteralsMap[r]}function mR(n,r){return s2(l2(n,r))}function Pn(n,r,t){if(Array.isArray(r)&&typeof r[0]=="string"){var e=oo[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.toGlsl(n,r.slice(1),t)}var i=ic(r);if((i&bn.NUMBER)>0)return s2(r);if((i&bn.BOOLEAN)>0)return r.toString();if((i&bn.STRING)>0&&(t===void 0||t==bn.STRING))return mR(n,r.toString());if((i&bn.COLOR)>0&&(t===void 0||t==bn.COLOR))return gR(r);if((i&bn.NUMBER_ARRAY)>0)return X6(r);throw new Error("Unexpected expression "+r+" (expected type "+t+")")}function K6(n){if(!(ic(n)&bn.NUMBER))throw new Error("A numeric value was expected, got "+JSON.stringify(n)+" instead")}function Ps(n){for(var r=0;r<n.length;r++)K6(n[r])}function $6(n){if(!(ic(n)&bn.STRING))throw new Error("A string value was expected, got "+JSON.stringify(n)+" instead")}function ly(n){if(!(ic(n)&bn.BOOLEAN))throw new Error("A boolean value was expected, got "+JSON.stringify(n)+" instead")}function La(n,r){if(n.length!==r)throw new Error("Exactly "+r+" arguments were expected, got "+n.length+" instead")}function of(n,r){if(n.length<r)throw new Error("At least "+r+" arguments were expected, got "+n.length+" instead")}function u2(n,r){if(n.length>r)throw new Error("At most "+r+" arguments were expected, got "+n.length+" instead")}function Z6(n){if(n.length%2!==0)throw new Error("An even amount of arguments was expected, got "+n+" instead")}function yR(n){if(n.length%2===0)throw new Error("An odd amount of arguments was expected, got "+n+" instead")}function uy(n,r){if(!vR(r))throw new Error("Could not infer only one type from the following expression: "+JSON.stringify(n))}oo.get={getReturnType:function(n){return bn.ANY},toGlsl:function(n,r){La(r,1),$6(r[0]);var t=r[0].toString();n.attributes.indexOf(t)===-1&&n.attributes.push(t);var e=n.inFragmentShader?"v_":"a_";return e+t}};function cy(n){return"u_var_"+n}oo.var={getReturnType:function(n){return bn.ANY},toGlsl:function(n,r){La(r,1),$6(r[0]);var t=r[0].toString();return n.variables.indexOf(t)===-1&&n.variables.push(t),cy(t)}};var J6="u_paletteTextures";oo.palette={getReturnType:function(n){return bn.COLOR},toGlsl:function(n,r){La(r,2),K6(r[0]);var t=Pn(n,r[0]),e=r[1];if(!Array.isArray(e))throw new Error("The second argument of palette must be an array");for(var i=e.length,o=new Uint8Array(i*4),s=0;s<i;s++){var l=e[s],f=void 0;if(typeof l=="string")f=jo(l);else{if(!Array.isArray(l))throw new Error("The second argument of palette must be an array of strings or colors");var h=l.length;if(h===4)f=l;else{if(h!==3)throw new Error("Expected palette color to have 3 or 4 values, got "+h);f=[l[0],l[1],l[2],1]}}var v=s*4;o[v]=f[0],o[v+1]=f[1],o[v+2]=f[2],o[v+3]=f[3]*255}n.paletteTextures||(n.paletteTextures=[]);var w=J6+"["+n.paletteTextures.length+"]",R=new pR(w,o);return n.paletteTextures.push(R),"texture2D("+w+", vec2(("+t+" + 0.5) / "+i+".0, 0.5))"}};var fy="getBandValue";oo.band={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){of(r,1),u2(r,3);var t=r[0];if(!(fy in n.functions)){for(var e="",i=n.bandCount||1,o=0;o<i;o++){var s=Math.floor(o/4),l=o%4;l===i-1&&l===1&&(l=3);var f=Ca.TILE_TEXTURE_ARRAY+"["+s+"]";e+=`
          if (band == `+(o+1)+`.0) {
            return texture2D(`+f+", v_textureCoord + vec2(dx, dy))["+l+`];
          }
        `}n.functions[fy]=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / `+Ca.TEXTURE_PIXEL_WIDTH+`;
          float dy = yOffset / `+Ca.TEXTURE_PIXEL_HEIGHT+`;
          `+e+`
        }
      `}var h=Pn(n,t),v=Pn(n,r[1]||0),w=Pn(n,r[2]||0);return fy+"("+h+", "+v+", "+w+")"}},oo.time={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,0),"u_time"}},oo.zoom={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,0),"u_zoom"}},oo.resolution={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,0),"u_resolution"}},oo["*"]={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" * "+Pn(n,r[1])+")"}},oo["/"]={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" / "+Pn(n,r[1])+")"}},oo["+"]={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" + "+Pn(n,r[1])+")"}},oo["-"]={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" - "+Pn(n,r[1])+")"}},oo.clamp={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){La(r,3),Ps(r);var t=Pn(n,r[1]),e=Pn(n,r[2]);return"clamp("+Pn(n,r[0])+", "+t+", "+e+")"}},oo["%"]={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,2),Ps(r),"mod("+Pn(n,r[0])+", "+Pn(n,r[1])+")"}},oo["^"]={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,2),Ps(r),"pow("+Pn(n,r[0])+", "+Pn(n,r[1])+")"}},oo.abs={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,1),Ps(r),"abs("+Pn(n,r[0])+")"}},oo.sin={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,1),Ps(r),"sin("+Pn(n,r[0])+")"}},oo.cos={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return La(r,1),Ps(r),"cos("+Pn(n,r[0])+")"}},oo.atan={getReturnType:function(n){return bn.NUMBER},toGlsl:function(n,r){return of(r,1),u2(r,2),Ps(r),r.length===2?"atan("+Pn(n,r[0])+", "+Pn(n,r[1])+")":"atan("+Pn(n,r[0])+")"}},oo[">"]={getReturnType:function(n){return bn.BOOLEAN},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" > "+Pn(n,r[1])+")"}},oo[">="]={getReturnType:function(n){return bn.BOOLEAN},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" >= "+Pn(n,r[1])+")"}},oo["<"]={getReturnType:function(n){return bn.BOOLEAN},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" < "+Pn(n,r[1])+")"}},oo["<="]={getReturnType:function(n){return bn.BOOLEAN},toGlsl:function(n,r){return La(r,2),Ps(r),"("+Pn(n,r[0])+" <= "+Pn(n,r[1])+")"}};function q6(n){return{getReturnType:function(r){return bn.BOOLEAN},toGlsl:function(r,t){La(t,2);for(var e=bn.ANY,i=0;i<t.length;i++)e&=ic(t[i]);if(e===bn.NONE)throw new Error("All arguments should be of compatible type, got "+JSON.stringify(t)+" instead");return e&=~bn.COLOR,"("+Pn(r,t[0],e)+" "+n+" "+Pn(r,t[1],e)+")"}}}oo["=="]=q6("=="),oo["!="]=q6("!="),oo["!"]={getReturnType:function(n){return bn.BOOLEAN},toGlsl:function(n,r){return La(r,1),ly(r[0]),"(!"+Pn(n,r[0])+")"}};function Q6(n){return{getReturnType:function(r){return bn.BOOLEAN},toGlsl:function(r,t){of(t,2);for(var e=0;e<t.length;e++)ly(t[e]);var i="";return i=t.map(function(o){return Pn(r,o)}).join(" "+n+" "),i="("+i+")",i}}}oo.all=Q6("&&"),oo.any=Q6("||"),oo.between={getReturnType:function(n){return bn.BOOLEAN},toGlsl:function(n,r){La(r,3),Ps(r);var t=Pn(n,r[1]),e=Pn(n,r[2]),i=Pn(n,r[0]);return"("+i+" >= "+t+" && "+i+" <= "+e+")"}},oo.array={getReturnType:function(n){return bn.NUMBER_ARRAY},toGlsl:function(n,r){of(r,2),u2(r,4),Ps(r);var t=r.map(function(e){return Pn(n,e,bn.NUMBER)});return"vec"+r.length+"("+t.join(", ")+")"}},oo.color={getReturnType:function(n){return bn.COLOR},toGlsl:function(n,r){of(r,3),u2(r,4),Ps(r);var t=r;r.length===3&&t.push(1);var e=r.map(function(i,o){return Pn(n,i,bn.NUMBER)+(o<3?" / 255.0":"")});return"vec"+r.length+"("+e.join(", ")+")"}},oo.interpolate={getReturnType:function(n){for(var r=bn.COLOR|bn.NUMBER,t=3;t<n.length;t+=2)r=r&ic(n[t]);return r},toGlsl:function(n,r,t){Z6(r),of(r,6);var e=r[0],i;switch(e[0]){case"linear":i=1;break;case"exponential":i=e[1];break;default:i=null}if(!i)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(e));var o=t!==void 0?t:bn.ANY,s=oo.interpolate.getReturnType(r)&o;uy(r,s);for(var l=Pn(n,r[1]),f=s2(i),h="",v=2;v<r.length-2;v+=2){var w=Pn(n,r[v]),R=h||Pn(n,r[v+1],s),B=Pn(n,r[v+2]),V=Pn(n,r[v+3],s);h="mix("+R+", "+V+", pow(clamp(("+l+" - "+w+") / ("+B+" - "+w+"), 0.0, 1.0), "+f+"))"}return h}},oo.match={getReturnType:function(n){for(var r=bn.ANY,t=2;t<n.length;t+=2)r=r&ic(n[t]);return r=r&ic(n[n.length-1]),r},toGlsl:function(n,r,t){Z6(r),of(r,4);var e=t!==void 0?t:bn.ANY,i=oo.match.getReturnType(r)&e;uy(r,i);for(var o=Pn(n,r[0]),s=Pn(n,r[r.length-1],i),l=null,f=r.length-3;f>=1;f-=2){var h=Pn(n,r[f]),v=Pn(n,r[f+1],i);l="("+o+" == "+h+" ? "+v+" : "+(l||s)+")"}return l}},oo.case={getReturnType:function(n){for(var r=bn.ANY,t=1;t<n.length;t+=2)r=r&ic(n[t]);return r=r&ic(n[n.length-1]),r},toGlsl:function(n,r,t){yR(r),of(r,3);var e=t!==void 0?t:bn.ANY,i=oo.case.getReturnType(r)&e;uy(r,i);for(var o=0;o<r.length-1;o+=2)ly(r[o]);for(var s=Pn(n,r[r.length-1],i),l=null,o=r.length-3;o>=0;o-=2){var f=Pn(n,r[o]),h=Pn(n,r[o+1],i);l="("+f+" ? "+h+" : "+(l||s)+")"}return l}};var _R=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function t8(n,r){var t=`
    attribute vec2 `+a2.TEXTURE_COORD+`;
    uniform mat4 `+Ca.TILE_TRANSFORM+`;
    uniform float `+Ca.DEPTH+`;

    varying vec2 v_textureCoord;

    void main() {
      v_textureCoord = `+a2.TEXTURE_COORD+`;
      gl_Position = `+Ca.TILE_TRANSFORM+" * vec4("+a2.TEXTURE_COORD+", "+Ca.DEPTH+`, 1.0);
    }
  `,e={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:r},i=[];if(n.color!==void 0){var o=Pn(e,n.color,bn.COLOR);i.push("color = "+o+";")}if(n.contrast!==void 0){var s=Pn(e,n.contrast,bn.NUMBER);i.push("color.rgb = clamp(("+s+" + 1.0) * color.rgb - ("+s+" / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.exposure!==void 0){var l=Pn(e,n.exposure,bn.NUMBER);i.push("color.rgb = clamp(("+l+" + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.saturation!==void 0){var f=Pn(e,n.saturation,bn.NUMBER);i.push(`
      float saturation = `+f+` + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(n.gamma!==void 0){var h=Pn(e,n.gamma,bn.NUMBER);i.push("color.rgb = pow(color.rgb, vec3(1.0 / "+h+"));")}if(n.brightness!==void 0){var v=Pn(e,n.brightness,bn.NUMBER);i.push("color.rgb = clamp(color.rgb + "+v+", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}var w={},R=e.variables.length;if(R>1&&!n.variables)throw new Error("Missing variables in style (expected "+e.variables+")");for(var B=function(Ht){var Nt=e.variables[Ht];if(!(Nt in n.variables))throw new Error("Missing '"+Nt+"' in style variables");var ve=cy(Nt);w[ve]=function(){var de=n.variables[Nt];return typeof de=="string"&&(de=l2(e,de)),de!==void 0?de:-9999999}},V=0;V<R;++V)B(V);var et=Object.keys(w).map(function(Ht){return"uniform float "+Ht+";"}),vt=Math.ceil(r/4);et.push("uniform sampler2D "+Ca.TILE_TEXTURE_ARRAY+"["+vt+"];"),e.paletteTextures&&et.push("uniform sampler2D "+J6+"["+e.paletteTextures.length+"];");var Ct=Object.keys(e.functions).map(function(Ht){return e.functions[Ht]}),kt=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    uniform float `+Ca.TRANSITION_ALPHA+`;
    uniform float `+Ca.TEXTURE_PIXEL_WIDTH+`;
    uniform float `+Ca.TEXTURE_PIXEL_HEIGHT+`;
    uniform float `+Ca.RESOLUTION+`;
    uniform float `+Ca.ZOOM+`;

    `+et.join(`
`)+`

    `+Ct.join(`
`)+`

    void main() {
      vec4 color = texture2D(`+Ca.TILE_TEXTURE_ARRAY+`[0],  v_textureCoord);

      `+i.join(`
`)+`

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= `+Ca.TRANSITION_ALPHA+`;
    }`;return{vertexShader:t,fragmentShader:kt,uniforms:w,paletteTextures:e.paletteTextures}}var e8=function(n){_R(r,n);function r(t){var e=this,i=t?Object(pn.a)({},t):{},o=i.style||{};delete i.style;var s=i.cacheSize;return delete i.cacheSize,e=n.call(this,i)||this,e.style_=o,e.cacheSize_=s,e.styleVariables_=e.style_.variables||{},e.addChangeListener(Bi.SOURCE,e.handleSourceUpdate_),e}return r.prototype.handleSourceUpdate_=function(){this.setStyle(this.style_)},r.prototype.getSourceBandCount_=function(){var t=this.getSource();return t&&"bandCount"in t?t.bandCount:4},r.prototype.createRenderer=function(){var t=t8(this.style_,this.getSourceBandCount_());return new hR(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,cacheSize:this.cacheSize_,paletteTextures:t.paletteTextures})},r.prototype.setStyle=function(t){this.style_=t;var e=t8(this.style_,this.getSourceBandCount_()),i=this.getRenderer();i.reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()},r.prototype.updateStyleVariables=function(t){Object(pn.a)(this.styleVariables_,t),this.changed()},r}(m6);e8.prototype.dispose;var ER=e8,SR={extends:Sd,name:"ol-webgl-tile-layer",setup:function(r){var t=Object(F.inject)("map"),e=Object(F.inject)("overviewMap",null),i=Dr(r),o=i.properties,s=Object(F.computed)(function(){return new ER(o)}),l=function(){e!=null?(e.value.getOverviewMap().addLayer(s.value),e.value.changed()):t.addLayer(s.value)},f=function(){e!=null?(e.value.getOverviewMap().removeLayer(s.value),e.value.changed()):t.removeLayer(s.value)};return e!=null&&Object(F.watch)(e,function(){f(),l()}),Object(F.onMounted)(function(){l()}),Object(F.onUnmounted)(function(){f()}),Object(F.provide)("tileLayer",s),{tileLayer:s}},props:{preload:{type:Number,default:1}}},hy=lr()(SR,[["render",_M]]);function wR(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var xR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OR=function(n){xR(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e}return r}(O),TR=OR,bR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AR=function(n){bR(r,n);function r(t){var e=n.call(this,t)||this;return e.image_=null,e}return r.prototype.getImage=function(){return this.image_?this.image_.getImage():null},r.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],i=t.pixelRatio,o=t.viewState,s=o.resolution,l=this.getLayer().getSource(),f=t.viewHints,h=t.extent;if(e.extent!==void 0&&(h=rn(h,At(e.extent,o.projection))),!f[Ui.ANIMATING]&&!f[Ui.INTERACTING]&&!Io(h))if(l){var v=o.projection,w=l.getImage(h,s,i,v);w&&this.loadImage(w)&&(this.image_=w)}else this.image_=null;return!!this.image_},r.prototype.renderFrame=function(t,e){var i=this.image_,o=i.getExtent(),s=i.getResolution(),l=i.getPixelRatio(),f=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,v=t.viewState,w=v.center,R=v.resolution,B=t.size,V=h*s/(R*l),et=Math.round(B[0]*h),vt=Math.round(B[1]*h),Ct=v.rotation;if(Ct){var kt=Math.round(Math.sqrt(et*et+vt*vt));et=kt,vt=kt}er(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,Ct,-et/2,-vt/2),_r(this.inversePixelTransform,this.pixelTransform);var Ht=Ur(this.pixelTransform);this.useContainer(e,Ht,f.opacity,this.getBackground(t));var Nt=this.context,ve=Nt.canvas;ve.width!=et||ve.height!=vt?(ve.width=et,ve.height=vt):this.containerReused||Nt.clearRect(0,0,et,vt);var de=!1,Oe=!0;if(f.extent){var Se=At(f.extent,v.projection);Oe=Ti(Se,t.extent),de=Oe&&!Pe(Se,t.extent),de&&this.clipUnrotated(Nt,t,Se)}var Fe=i.getImage(),wr=er(this.tempTransform,et/2,vt/2,V,V,0,l*(o[0]-w[0])/s,l*(w[1]-o[3])/s);this.renderedResolution=s*h/l;var hr=Fe.width*wr[0],Ke=Fe.height*wr[3];if(this.getLayer().getSource().getInterpolate()||Object(pn.a)(Nt,e1),this.preRender(Nt,t),Oe&&hr>=.5&&Ke>=.5){var Ir=wr[4],yn=wr[5],Sn=f.opacity,Rn=void 0;Sn!==1&&(Rn=Nt.globalAlpha,Nt.globalAlpha=Sn),Nt.drawImage(Fe,0,0,+Fe.width,+Fe.height,Math.round(Ir),Math.round(yn),Math.round(hr),Math.round(Ke)),Sn!==1&&(Nt.globalAlpha=Rn)}return this.postRender(Nt,t),de&&Nt.restore(),Object(pn.a)(Nt,E6),Ht!==ve.style.transform&&(ve.style.transform=Ht),this.container},r}(Zm),MR=AR,RR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CR=function(n){RR(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new MR(this)},r}(TR),r8=CR,LR={extends:Sd,name:"ol-image-layer",setup:function(r){var t=Object(F.inject)("map"),e=Dr(r),i=e.properties,o=new r8(i);return Object(F.watch)(i,function(){o.setProperties(i)}),Object(F.onMounted)(function(){t.addLayer(o)}),Object(F.onUnmounted)(function(){t.removeLayer(o)}),Object(F.provide)("imageLayer",o),{imageLayer:o}}},dy=lr()(LR,[["render",wR]]);function PR(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var IR=u("25a5"),n8=u.n(IR),NR=function(){function n(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=ua(r.scale),this.displacement_=r.displacement}return n.prototype.clone=function(){var r=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Object(Ot.b)()},n.prototype.getImage=function(r){return Object(Ot.b)()},n.prototype.getHitDetectionImage=function(){return Object(Ot.b)()},n.prototype.getPixelRatio=function(r){return 1},n.prototype.getImageState=function(){return Object(Ot.b)()},n.prototype.getImageSize=function(){return Object(Ot.b)()},n.prototype.getOrigin=function(){return Object(Ot.b)()},n.prototype.getSize=function(){return Object(Ot.b)()},n.prototype.setDisplacement=function(r){this.displacement_=r},n.prototype.setOpacity=function(r){this.opacity_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=ua(r)},n.prototype.listenImageChange=function(r){Object(Ot.b)()},n.prototype.load=function(){Object(Ot.b)()},n.prototype.unlistenImageChange=function(r){Object(Ot.b)()},n}(),i8=NR;function oc(n){return Array.isArray(n)?qa(n):n}var FR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DR=function(n){FR(r,n);function r(t){var e=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return e=n.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,e.canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=t.fill!==void 0?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=t.radius!==void 0?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=t.angle!==void 0?t.angle:0,e.stroke_=t.stroke!==void 0?t.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},r.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,o=Object(ur.a)(i.size*t,i.size*t);this.draw_(i,o,t),e=o.canvas,this.canvas_[t]=e}return e},r.prototype.getPixelRatio=function(t){return t},r.prototype.getImageSize=function(){return this.size_},r.prototype.getImageState=function(){return Ni.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.calculateLineJoinSize_=function(t,e,i){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;var o=this.radius_,s=this.radius2_===void 0?o:this.radius2_;if(o<s){var l=o;o=s,s=l}var f=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/f,v=s*Math.sin(h),w=Math.sqrt(s*s-v*v),R=o-w,B=Math.sqrt(v*v+R*R),V=B/v;if(t==="miter"&&V<=i)return V*e;var et=e/2/V,vt=e/2*(R/B),Ct=Math.sqrt((o+et)*(o+et)+vt*vt),kt=Ct-o;if(this.radius2_===void 0||t==="bevel")return kt*2;var Ht=o*Math.sin(h),Nt=Math.sqrt(o*o-Ht*Ht),ve=s-Nt,de=Math.sqrt(Ht*Ht+ve*ve),Oe=de/Ht;if(Oe<=i){var Se=Oe*e/2-s-o;return 2*Math.max(kt,Se)}return kt*2},r.prototype.createRenderOptions=function(){var t=Ce,e=0,i=null,o=0,s,l=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=qe),s=oc(s),l=this.stroke_.getWidth(),l===void 0&&(l=Yr),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Ce),e=this.stroke_.getMiterLimit(),e===void 0&&(e=Ge));var f=this.calculateLineJoinSize_(t,l,e),h=Math.max(this.radius_,this.radius2_||0),v=Math.ceil(2*h+f);return{strokeStyle:s,strokeWidth:l,size:v,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:e}},r.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},r.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var o=this.fill_.getColor();o===null&&(o=xn),e.fillStyle=oc(o),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if(typeof e=="string"&&(e=fa(e)),e===null?i=1:Array.isArray(e)&&(i=e.length===4?e[3]:1),i===0){var o=Object(ur.a)(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},r.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(e*=2);for(var s=this.angle_-Math.PI/2,l=2*Math.PI/e,f=0;f<e;f++){var h=s+f*l,v=f%2===0?i:o;t.lineTo(v*Math.cos(h),v*Math.sin(h))}t.closePath()}},r.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=xn,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r}(i8),c2=DR,jR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GR=function(n){jR(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this,e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.setRadius=function(t){this.radius_=t,this.render()},r}(c2),l1=GR,BR=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(r){this.color_=r},n}(),Ks=BR,UR=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(r){this.color_=r},n.prototype.setLineCap=function(r){this.lineCap_=r},n.prototype.setLineDash=function(r){this.lineDash_=r},n.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},n.prototype.setLineJoin=function(r){this.lineJoin_=r},n.prototype.setMiterLimit=function(r){this.miterLimit_=r},n.prototype.setWidth=function(r){this.width_=r},n}(),_s=UR,xd=function(){function n(r){var t=r||{};this.geometry_=null,this.geometryFunction_=o8,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var r=this.getGeometry();return r&&typeof r=="object"&&(r=r.clone()),new n({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(r){this.renderer_=r},n.prototype.setHitDetectionRenderer=function(r){this.hitDetectionRenderer_=r},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(r){this.fill_=r},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(r){this.image_=r},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(r){this.text_=r},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(r){typeof r=="function"?this.geometryFunction_=r:typeof r=="string"?this.geometryFunction_=function(t){return t.get(r)}:r?r!==void 0&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=o8,this.geometry_=r},n.prototype.setZIndex=function(r){this.zIndex_=r},n}();function kR(n){var r;if(typeof n=="function")r=n;else{var t;if(Array.isArray(n))t=n;else{ye(typeof n.getZIndex=="function",41);var e=n;t=[e]}r=function(){return t}}return r}var py=null;function zR(n,r){if(!py){var t=new Ks({color:"rgba(255,255,255,0.4)"}),e=new _s({color:"#3399CC",width:1.25});py=[new xd({image:new l1({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return py}function vy(){var n={},r=[255,255,255,1],t=[0,153,255,1],e=3;return n[Ee.POLYGON]=[new xd({fill:new Ks({color:[255,255,255,.5]})})],n[Ee.MULTI_POLYGON]=n[Ee.POLYGON],n[Ee.LINE_STRING]=[new xd({stroke:new _s({color:r,width:e+2})}),new xd({stroke:new _s({color:t,width:e})})],n[Ee.MULTI_LINE_STRING]=n[Ee.LINE_STRING],n[Ee.CIRCLE]=n[Ee.POLYGON].concat(n[Ee.LINE_STRING]),n[Ee.POINT]=[new xd({image:new l1({radius:e*2,fill:new Ks({color:t}),stroke:new _s({color:r,width:e/2})}),zIndex:1/0})],n[Ee.MULTI_POINT]=n[Ee.POINT],n[Ee.GEOMETRY_COLLECTION]=n[Ee.POLYGON].concat(n[Ee.LINE_STRING],n[Ee.POINT]),n}function o8(n){return n.getGeometry()}var $s=xd,VR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),a8={RENDER_ORDER:"renderOrder"},WR=function(n){VR(r,n);function r(t){var e=this,i=t||{},o=Object(pn.a)({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,e=n.call(this,o)||this,e.declutter_=i.declutter!==void 0?i.declutter:!1,e.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(i.style),e.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,e.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,e}return r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get(a8.RENDER_ORDER)},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new n8.a(9)),this.getRenderer().renderDeclutter(t)},r.prototype.setRenderOrder=function(t){this.set(a8.RENDER_ORDER,t)},r.prototype.setStyle=function(t){this.style_=t!==void 0?t:zR,this.styleFunction_=t===null?void 0:kR(this.style_),this.changed()},r}(O),f2=WR,u1={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},h2=[u1.FILL],af=[u1.STROKE],fh=[u1.BEGIN_PATH],s8=[u1.CLOSE_PATH],Ei=u1,HR=function(){function n(){}return n.prototype.drawCustom=function(r,t,e,i){},n.prototype.drawGeometry=function(r){},n.prototype.setStyle=function(r){},n.prototype.drawCircle=function(r,t){},n.prototype.drawFeature=function(r,t){},n.prototype.drawGeometryCollection=function(r,t){},n.prototype.drawLineString=function(r,t){},n.prototype.drawMultiLineString=function(r,t){},n.prototype.drawMultiPoint=function(r,t){},n.prototype.drawMultiPolygon=function(r,t){},n.prototype.drawPoint=function(r,t){},n.prototype.drawPolygon=function(r,t){},n.prototype.drawText=function(r,t){},n.prototype.setFillStrokeStyle=function(r,t){},n.prototype.setImageStyle=function(r,t){},n.prototype.setTextStyle=function(r,t){},n}(),l8=HR,YR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XR=function(n){YR(r,n);function r(t,e,i,o){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=e,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return r.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(i){return i*e})},r.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,l=s.length,f=0,h=t.length;f<h;f+=e)o[0]=t[f],o[1]=t[f+1],he(i,o)&&(s[l++]=o[0],s[l++]=o[1]);return l},r.prototype.appendFlatLineCoordinates=function(t,e,i,o,s,l){var f=this.coordinates,h=f.length,v=this.getBufferedMaxExtent();l&&(e+=o);var w=t[e],R=t[e+1],B=this.tmpCoordinate_,V=!0,et,vt,Ct;for(et=e+o;et<i;et+=o)B[0]=t[et],B[1]=t[et+1],Ct=Gt(v,B),Ct!==vt?(V&&(f[h++]=w,f[h++]=R,V=!1),f[h++]=B[0],f[h++]=B[1]):Ct===ie.INTERSECTING?(f[h++]=B[0],f[h++]=B[1],V=!1):V=!0,w=B[0],R=B[1],vt=Ct;return(s&&V||et===e+o)&&(f[h++]=w,f[h++]=R),h},r.prototype.drawCustomCoordinates_=function(t,e,i,o,s){for(var l=0,f=i.length;l<f;++l){var h=i[l],v=this.appendFlatLineCoordinates(t,e,h,o,!1,!1);s.push(v),e=h}return e},r.prototype.drawCustom=function(t,e,i,o){this.beginGeometry(t,e);var s=t.getType(),l=t.getStride(),f=this.coordinates.length,h,v,w,R,B;switch(s){case Ee.MULTI_POLYGON:h=t.getOrientedFlatCoordinates(),R=[];var V=t.getEndss();B=0;for(var et=0,vt=V.length;et<vt;++et){var Ct=[];B=this.drawCustomCoordinates_(h,B,V[et],l,Ct),R.push(Ct)}this.instructions.push([Ei.CUSTOM,f,R,t,i,va]),this.hitDetectionInstructions.push([Ei.CUSTOM,f,R,t,o||i,va]);break;case Ee.POLYGON:case Ee.MULTI_LINE_STRING:w=[],h=s==Ee.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),B=this.drawCustomCoordinates_(h,0,t.getEnds(),l,w),this.instructions.push([Ei.CUSTOM,f,w,t,i,wo]),this.hitDetectionInstructions.push([Ei.CUSTOM,f,w,t,o||i,wo]);break;case Ee.LINE_STRING:case Ee.CIRCLE:h=t.getFlatCoordinates(),v=this.appendFlatLineCoordinates(h,0,h.length,l,!1,!1),this.instructions.push([Ei.CUSTOM,f,v,t,i,Di]),this.hitDetectionInstructions.push([Ei.CUSTOM,f,v,t,o||i,Di]);break;case Ee.MULTI_POINT:h=t.getFlatCoordinates(),v=this.appendFlatPointCoordinates(h,l),v>f&&(this.instructions.push([Ei.CUSTOM,f,v,t,i,Di]),this.hitDetectionInstructions.push([Ei.CUSTOM,f,v,t,o||i,Di]));break;case Ee.POINT:h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),v=this.coordinates.length,this.instructions.push([Ei.CUSTOM,f,v,t,i]),this.hitDetectionInstructions.push([Ei.CUSTOM,f,v,t,o||i]);break}this.endGeometry(e)},r.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ei.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ei.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,i=t.length,o,s,l=-1;for(e=0;e<i;++e)o=t[e],s=o[0],s==Ei.END_GEOMETRY?l=e:s==Ei.BEGIN_GEOMETRY&&(o[2]=e,Object(K.j)(this.hitDetectionInstructions,l,e),l=-1)},r.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var o=t.getColor();i.fillStyle=oc(o||xn)}else i.fillStyle=void 0;if(e){var s=e.getColor();i.strokeStyle=oc(s||qe);var l=e.getLineCap();i.lineCap=l!==void 0?l:It;var f=e.getLineDash();i.lineDash=f?f.slice():oe;var h=e.getLineDashOffset();i.lineDashOffset=h||ge;var v=e.getLineJoin();i.lineJoin=v!==void 0?v:Ce;var w=e.getWidth();i.lineWidth=w!==void 0?w:Yr;var R=e.getMiterLimit();i.miterLimit=R!==void 0?R:Ge,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(t){var e=t.fillStyle,i=[Ei.SET_FILL_STYLE,e];return typeof e!="string"&&i.push(!0),i},r.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},r.prototype.createStroke=function(t){return[Ei.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,o=t.lineCap,s=t.lineDash,l=t.lineDashOffset,f=t.lineJoin,h=t.lineWidth,v=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||s!=t.currentLineDash&&!Object(K.b)(t.currentLineDash,s)||t.currentLineDashOffset!=l||t.currentLineJoin!=f||t.currentLineWidth!=h||t.currentMiterLimit!=v)&&(i!==void 0&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=s,t.currentLineDashOffset=l,t.currentLineJoin=f,t.currentLineWidth=h,t.currentMiterLimit=v)},r.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ei.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},r.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Qt(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Rt(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},r}(l8),c1=XR,KR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$R=function(n){KR(r,n);function r(t,e,i,o){var s=n.call(this,t,e,i,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return r.prototype.drawPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,l=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ei.DRAW_IMAGE,s,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ei.DRAW_IMAGE,s,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.drawMultiPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,l=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ei.DRAW_IMAGE,s,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ei.DRAW_IMAGE,s,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},r.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),o=t.getSize(),s=t.getHitDetectionImage(),l=t.getImage(this.pixelRatio),f=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=s,this.image_=l,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=f[0]*this.imagePixelRatio_,this.originY_=f[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=e},r}(c1),ZR=$R,JR=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qR=function(n){JR(r,n);function r(t,e,i,o){return n.call(this,t,e,i,o)||this}return r.prototype.drawFlatCoordinates_=function(t,e,i,o){var s=this.coordinates.length,l=this.appendFlatLineCoordinates(t,e,i,o,!1,!1),f=[Ei.MOVE_TO_LINE_TO,s,l];return this.instructions.push(f),this.hitDetectionInstructions.push(f),i},r.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ei.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,oe,ge],fh);var l=t.getFlatCoordinates(),f=t.getStride();this.drawFlatCoordinates_(l,0,l.length,f),this.hitDetectionInstructions.push(af),this.endGeometry(e)}},r.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ei.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],fh);for(var l=t.getEnds(),f=t.getFlatCoordinates(),h=t.getStride(),v=0,w=0,R=l.length;w<R;++w)v=this.drawFlatCoordinates_(f,v,l[w],h);this.hitDetectionInstructions.push(af),this.endGeometry(e)}},r.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(af),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},r.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(af),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(fh)},r}(c1),QR=qR,tC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eC=function(n){tC(r,n);function r(t,e,i,o){return n.call(this,t,e,i,o)||this}return r.prototype.drawFlatCoordinatess_=function(t,e,i,o){var s=this.state,l=s.fillStyle!==void 0,f=s.strokeStyle!==void 0,h=i.length;this.instructions.push(fh),this.hitDetectionInstructions.push(fh);for(var v=0;v<h;++v){var w=i[v],R=this.coordinates.length,B=this.appendFlatLineCoordinates(t,e,w,o,!0,!f),V=[Ei.MOVE_TO_LINE_TO,R,B];this.instructions.push(V),this.hitDetectionInstructions.push(V),f&&(this.instructions.push(s8),this.hitDetectionInstructions.push(s8)),e=w}return l&&(this.instructions.push(h2),this.hitDetectionInstructions.push(h2)),f&&(this.instructions.push(af),this.hitDetectionInstructions.push(af)),e},r.prototype.drawCircle=function(t,e){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ei.SET_FILL_STYLE,xn]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ei.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var l=t.getFlatCoordinates(),f=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(l,0,l.length,f,!1,!1);var v=[Ei.CIRCLE,h];this.instructions.push(fh,v),this.hitDetectionInstructions.push(fh,v),i.fillStyle!==void 0&&(this.instructions.push(h2),this.hitDetectionInstructions.push(h2)),i.strokeStyle!==void 0&&(this.instructions.push(af),this.hitDetectionInstructions.push(af)),this.endGeometry(e)}},r.prototype.drawPolygon=function(t,e){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ei.SET_FILL_STYLE,xn]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ei.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var l=t.getEnds(),f=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(f,0,l,h),this.endGeometry(e)}},r.prototype.drawMultiPolygon=function(t,e){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ei.SET_FILL_STYLE,xn]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ei.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var l=t.getEndss(),f=t.getOrientedFlatCoordinates(),h=t.getStride(),v=0,w=0,R=l.length;w<R;++w)v=this.drawFlatCoordinatess_(f,v,l[w],h);this.endGeometry(e)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var e=this.coordinates,i=0,o=e.length;i<o;++i)e[i]=fn(e[i],t);return n.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;e!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},r}(c1),u8=eC,c8={POINT:"point",LINE:"line"};function rC(n,r,t,e,i){var o=t,s=t,l=0,f=0,h=t,v,w,R,B,V,et,vt,Ct,kt,Ht;for(w=t;w<e;w+=i){var Nt=r[w],ve=r[w+1];V!==void 0&&(kt=Nt-V,Ht=ve-et,B=Math.sqrt(kt*kt+Ht*Ht),vt!==void 0&&(f+=R,v=Math.acos((vt*kt+Ct*Ht)/(R*B)),v>n&&(f>l&&(l=f,o=h,s=w),f=0,h=w-i)),R=B,vt=kt,Ct=Ht),V=Nt,et=ve}return f+=B,f>l?[h,w]:[o,s]}var nC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d2={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},iC=function(n){nC(r,n);function r(t,e,i,o){var s=n.call(this,t,e,i,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return r.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},r.prototype.drawText=function(t,e){var i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!i&&!o)){var l=this.coordinates,f=l.length,h=t.getType(),v=null,w=t.getStride();if(s.placement===c8.LINE&&(h==Ee.LINE_STRING||h==Ee.MULTI_LINE_STRING||h==Ee.POLYGON||h==Ee.MULTI_POLYGON)){if(!Ti(this.getBufferedMaxExtent(),t.getExtent()))return;var R=void 0;if(v=t.getFlatCoordinates(),h==Ee.LINE_STRING)R=[v.length];else if(h==Ee.MULTI_LINE_STRING)R=t.getEnds();else if(h==Ee.POLYGON)R=t.getEnds().slice(0,1);else if(h==Ee.MULTI_POLYGON){var B=t.getEndss();R=[];for(var V=0,et=B.length;V<et;++V)R.push(B[V][0])}this.beginGeometry(t,e);for(var vt=s.textAlign,Ct=0,kt=void 0,Ht=0,Nt=R.length;Ht<Nt;++Ht){if(vt==null){var ve=rC(s.maxAngle,v,Ct,R[Ht],w);Ct=ve[0],kt=ve[1]}else kt=R[Ht];for(var V=Ct;V<kt;V+=w)l.push(v[V],v[V+1]);var de=l.length;Ct=R[Ht],this.drawChars_(f,de),f=de}this.endGeometry(e)}else{var Oe=s.overflow?null:[];switch(h){case Ee.POINT:case Ee.MULTI_POINT:v=t.getFlatCoordinates();break;case Ee.LINE_STRING:v=t.getFlatMidpoint();break;case Ee.CIRCLE:v=t.getCenter();break;case Ee.MULTI_LINE_STRING:v=t.getFlatMidpoints(),w=2;break;case Ee.POLYGON:v=t.getFlatInteriorPoint(),s.overflow||Oe.push(v[2]/this.resolution),w=3;break;case Ee.MULTI_POLYGON:var Se=t.getFlatInteriorPoints();v=[];for(var V=0,et=Se.length;V<et;V+=3)s.overflow||Oe.push(Se[V+2]/this.resolution),v.push(Se[V],Se[V+1]);if(v.length===0)return;w=2;break}var de=this.appendFlatPointCoordinates(v,w);if(de===f)return;if(Oe&&(de-f)/2!==v.length/w){var Fe=f/2;Oe=Oe.filter(function(gi,mi){var Mi=l[(Fe+mi)*2]===v[mi*w]&&l[(Fe+mi)*2+1]===v[mi*w+1];return Mi||--Fe,Mi})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var wr=s.padding;if(wr!=Jr&&(s.scale[0]<0||s.scale[1]<0)){var hr=s.padding[0],Ke=s.padding[1],Ir=s.padding[2],yn=s.padding[3];s.scale[0]<0&&(Ke=-Ke,yn=-yn),s.scale[1]<0&&(hr=-hr,Ir=-Ir),wr=[hr,Ke,Ir,yn]}var Sn=this.pixelRatio;this.instructions.push([Ei.DRAW_IMAGE,f,de,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,wr==Jr?Jr:wr.map(function(gi){return gi*Sn}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Oe]);var Rn=1/Sn;this.hitDetectionInstructions.push([Ei.DRAW_IMAGE,f,de,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Rn,Rn],NaN,this.declutterImageWithText_,wr,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Oe]),this.endGeometry(e)}}},r.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:e.font,textAlign:e.textAlign||ir,textBaseline:e.textBaseline||rr,scale:e.scale});var l=this.fillKey_;i&&(l in this.fillStates||(this.fillStates[l]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,l=this.textKey_,f=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,v=d2[o.textBaseline],w=this.textOffsetY_*h,R=this.text_,B=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Ei.DRAW_CHARS,t,e,v,o.overflow,f,o.maxAngle,h,w,s,B*h,R,l,1]),this.hitDetectionInstructions.push([Ei.DRAW_CHARS,t,e,v,o.overflow,f,o.maxAngle,1,w,s,B,R,l,1/h])},r.prototype.setTextStyle=function(t,e){var i,o,s;if(!t)this.text_="";else{var l=t.getFill();l?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=oc(l.getColor()||xn)):(o=null,this.textFillState_=o);var f=t.getStroke();if(!f)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var h=f.getLineDash(),v=f.getLineDashOffset(),w=f.getWidth(),R=f.getMiterLimit();s.lineCap=f.getLineCap()||It,s.lineDash=h?h.slice():oe,s.lineDashOffset=v===void 0?ge:v,s.lineJoin=f.getLineJoin()||Ce,s.lineWidth=w===void 0?Yr:w,s.miterLimit=R===void 0?Ge:R,s.strokeStyle=oc(f.getColor()||qe)}i=this.textState_;var B=t.getFont()||Or;ci(B);var V=t.getScaleArray();i.overflow=t.getOverflow(),i.font=B,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||rr,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Jr,i.scale=V===void 0?[1,1]:V;var et=t.getOffsetX(),vt=t.getOffsetY(),Ct=t.getRotateWithView(),kt=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=et===void 0?0:et,this.textOffsetY_=vt===void 0?0:vt,this.textRotateWithView_=Ct===void 0?!1:Ct,this.textRotation_=kt===void 0?0:kt,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Object(Ot.c)(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Object(Ot.c)(o.fillStyle):""}this.declutterImageWithText_=e},r}(c1),oC=iC,aC={Circle:u8,Default:c1,Image:ZR,LineString:QR,Polygon:u8,Text:oC},sC=function(){function n(r,t,e,i){this.tolerance_=r,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=e,this.buildersByZIndex_={}}return n.prototype.finish=function(){var r={};for(var t in this.buildersByZIndex_){r[t]=r[t]||{};var e=this.buildersByZIndex_[t];for(var i in e){var o=e[i].finish();r[t][i]=o}}return r},n.prototype.getBuilder=function(r,t){var e=r!==void 0?r.toString():"0",i=this.buildersByZIndex_[e];i===void 0&&(i={},this.buildersByZIndex_[e]=i);var o=i[t];if(o===void 0){var s=aC[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},n}(),p2=sC,Qi={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function lC(n,r,t,e,i,o,s,l,f,h,v,w){var R=n[r],B=n[r+1],V=0,et=0,vt=0,Ct=0;function kt(){V=R,et=B,r+=e,R=n[r],B=n[r+1],Ct+=vt,vt=Math.sqrt((R-V)*(R-V)+(B-et)*(B-et))}do kt();while(r<t-e&&Ct+vt<o);for(var Ht=vt===0?0:(o-Ct)/vt,Nt=el(V,R,Ht),ve=el(et,B,Ht),de=r-e,Oe=Ct,Se=o+l*f(h,i,v);r<t-e&&Ct+vt<Se;)kt();Ht=vt===0?0:(Se-Ct)/vt;var Fe=el(V,R,Ht),wr=el(et,B,Ht),hr;if(w){var Ke=[Nt,ve,Fe,wr];Zn(Ke,0,4,2,w,Ke,Ke),hr=Ke[0]>Ke[2]}else hr=Nt>Fe;var Ir=Math.PI,yn=[],Sn=de+e===r;r=de,vt=0,Ct=Oe,R=n[r],B=n[r+1];var Rn;if(Sn){kt(),Rn=Math.atan2(B-et,R-V),hr&&(Rn+=Rn>0?-Ir:Ir);var Nn=(Fe+Nt)/2,gi=(wr+ve)/2;return yn[0]=[Nn,gi,(Se-o)/2,Rn,i],yn}for(var mi=0,Mi=i.length;mi<Mi;){kt();var Ri=Math.atan2(B-et,R-V);if(hr&&(Ri+=Ri>0?-Ir:Ir),Rn!==void 0){var Br=Ri-Rn;if(Br+=Br>Ir?-2*Ir:Br<-Ir?2*Ir:0,Math.abs(Br)>s)return null}Rn=Ri;for(var rs=mi,Gi=0;mi<Mi;++mi){var ra=hr?Mi-mi-1:mi,Ya=l*f(h,i[ra],v);if(r+e<t&&Ct+vt<o+Gi+Ya/2)break;Gi+=Ya}if(mi!==rs){var cs=hr?i.substring(Mi-rs,Mi-mi):i.substring(rs,mi);Ht=vt===0?0:(o+Gi/2-Ct)/vt;var Nn=el(V,R,Ht),gi=el(et,B,Ht);yn.push([Nn,gi,Gi/2,Ri,cs]),o+=Gi}}return yn}function f8(n,r,t,e){for(var i=n[r],o=n[r+1],s=0,l=r+e;l<t;l+=e){var f=n[l],h=n[l+1];s+=Math.sqrt((f-i)*(f-i)+(h-o)*(h-o)),i=f,o=h}return s}var Od=at(),sf=[],Oc=[],Tc=[],lf=[];function h8(n){return n[3].declutterBox}var uC=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function d8(n,r){return(r==="start"||r==="end")&&!uC.test(n)&&(r=r==="start"?"left":"right"),d2[r]}var cC=function(){function n(r,t,e,i){this.overlaps=e,this.pixelRatio=t,this.resolution=r,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=mt(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(r,t,e,i){var o=r+t+e+i;if(this.labels_[o])return this.labels_[o];var s=i?this.strokeStates[i]:null,l=e?this.fillStates[e]:null,f=this.textStates[t],h=this.pixelRatio,v=[f.scale[0]*h,f.scale[1]*h],w=d8(r,f.textAlign||ir),R=i&&s.lineWidth?s.lineWidth:0,B=r.split(`
`),V=B.length,et=[],vt=an(f.font,B,et),Ct=An(f.font),kt=Ct*V,Ht=vt+R,Nt=[],ve=(Ht+2)*v[0],de=(kt+R)*v[1],Oe={width:ve<0?Math.floor(ve):Math.ceil(ve),height:de<0?Math.floor(de):Math.ceil(de),contextInstructions:Nt};if((v[0]!=1||v[1]!=1)&&Nt.push("scale",v),Nt.push("font",f.font),i){Nt.push("strokeStyle",s.strokeStyle),Nt.push("lineWidth",R),Nt.push("lineCap",s.lineCap),Nt.push("lineJoin",s.lineJoin),Nt.push("miterLimit",s.miterLimit);var Se=ee.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Se.prototype.setLineDash&&(Nt.push("setLineDash",[s.lineDash]),Nt.push("lineDashOffset",s.lineDashOffset))}e&&Nt.push("fillStyle",l.fillStyle),Nt.push("textBaseline","middle"),Nt.push("textAlign","center");var Fe=.5-w,wr=w*Ht+Fe*R,hr;if(i)for(hr=0;hr<V;++hr)Nt.push("strokeText",[B[hr],wr+Fe*et[hr],.5*(R+Ct)+hr*Ct]);if(e)for(hr=0;hr<V;++hr)Nt.push("fillText",[B[hr],wr+Fe*et[hr],.5*(R+Ct)+hr*Ct]);return this.labels_[o]=Oe,Oe},n.prototype.replayTextBackground_=function(r,t,e,i,o,s,l){r.beginPath(),r.moveTo.apply(r,t),r.lineTo.apply(r,e),r.lineTo.apply(r,i),r.lineTo.apply(r,o),r.lineTo.apply(r,t),s&&(this.alignFill_=s[2],this.fill_(r)),l&&(this.setStrokeStyle_(r,l),r.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(r,t,e,i,o,s,l,f,h,v,w,R,B,V,et,vt){l*=R[0],f*=R[1];var Ct=e-l,kt=i-f,Ht=o+h>r?r-h:o,Nt=s+v>t?t-v:s,ve=V[3]+Ht*R[0]+V[1],de=V[0]+Nt*R[1]+V[2],Oe=Ct-V[3],Se=kt-V[0];(et||w!==0)&&(sf[0]=Oe,lf[0]=Oe,sf[1]=Se,Oc[1]=Se,Oc[0]=Oe+ve,Tc[0]=Oc[0],Tc[1]=Se+de,lf[1]=Tc[1]);var Fe;return w!==0?(Fe=er(mt(),e,i,1,1,w,-e,-i),ar(Fe,sf),ar(Fe,Oc),ar(Fe,Tc),ar(Fe,lf),$(Math.min(sf[0],Oc[0],Tc[0],lf[0]),Math.min(sf[1],Oc[1],Tc[1],lf[1]),Math.max(sf[0],Oc[0],Tc[0],lf[0]),Math.max(sf[1],Oc[1],Tc[1],lf[1]),Od)):$(Math.min(Oe,Oe+ve),Math.min(Se,Se+de),Math.max(Oe,Oe+ve),Math.max(Se,Se+de),Od),B&&(Ct=Math.round(Ct),kt=Math.round(kt)),{drawImageX:Ct,drawImageY:kt,drawImageW:Ht,drawImageH:Nt,originX:h,originY:v,declutterBox:{minX:Od[0],minY:Od[1],maxX:Od[2],maxY:Od[3],value:vt},canvasTransform:Fe,scale:R}},n.prototype.replayImageOrLabel_=function(r,t,e,i,o,s,l){var f=!!(s||l),h=i.declutterBox,v=r.canvas,w=l?l[2]*i.scale[0]/2:0,R=h.minX-w<=v.width/t&&h.maxX+w>=0&&h.minY-w<=v.height/t&&h.maxY+w>=0;return R&&(f&&this.replayTextBackground_(r,sf,Oc,Tc,lf,s,l),Bn(r,i.canvasTransform,o,e,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(r){if(this.alignFill_){var t=ar(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;r.save(),r.translate(t[0]%e,t[1]%e),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},n.prototype.setStrokeStyle_=function(r,t){r.strokeStyle=t[1],r.lineWidth=t[2],r.lineCap=t[3],r.lineJoin=t[4],r.miterLimit=t[5],r.setLineDash&&(r.lineDashOffset=t[7],r.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(r,t,e,i){var o=this.textStates[t],s=this.createLabel(r,t,i,e),l=this.strokeStates[e],f=this.pixelRatio,h=d8(r,o.textAlign||ir),v=d2[o.textBaseline||rr],w=l&&l.lineWidth?l.lineWidth:0,R=s.width/f-2*o.scale[0],B=h*R+2*(.5-h)*w,V=v*s.height/f+2*(.5-v)*w;return{label:s,anchorX:B,anchorY:V}},n.prototype.execute_=function(r,t,e,i,o,s,l,f){var h;this.pixelCoordinates_&&Object(K.b)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=dn(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),xr(this.renderedTransform_,e));for(var v=0,w=i.length,R=0,B,V,et,vt,Ct,kt,Ht,Nt,ve,de,Oe,Se,Fe=0,wr=0,hr=null,Ke=null,Ir=this.coordinateCache_,yn=this.viewRotation_,Sn=Math.round(Math.atan2(-e[1],e[0])*1e12)/1e12,Rn={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:yn},Nn=this.instructions!=i||this.overlaps?0:200,gi,mi,Mi,Ri;v<w;){var Br=i[v],rs=Br[0];switch(rs){case Ei.BEGIN_GEOMETRY:gi=Br[1],Ri=Br[3],gi.getGeometry()?l!==void 0&&!Ti(l,Ri.getExtent())?v=Br[2]+1:++v:v=Br[2];break;case Ei.BEGIN_PATH:Fe>Nn&&(this.fill_(r),Fe=0),wr>Nn&&(r.stroke(),wr=0),!Fe&&!wr&&(r.beginPath(),vt=NaN,Ct=NaN),++v;break;case Ei.CIRCLE:R=Br[1];var Gi=h[R],ra=h[R+1],Ya=h[R+2],cs=h[R+3],ns=Ya-Gi,ma=cs-ra,fi=Math.sqrt(ns*ns+ma*ma);r.moveTo(Gi+fi,ra),r.arc(Gi,ra,fi,0,2*Math.PI,!0),++v;break;case Ei.CLOSE_PATH:r.closePath(),++v;break;case Ei.CUSTOM:R=Br[1],B=Br[2];var oi=Br[3],Xa=Br[4],B0=Br.length==6?Br[5]:void 0;Rn.geometry=oi,Rn.feature=gi,v in Ir||(Ir[v]=[]);var fc=Ir[v];B0?B0(h,R,B,2,fc):(fc[0]=h[R],fc[1]=h[R+1],fc.length=2),Xa(fc,Rn),++v;break;case Ei.DRAW_IMAGE:R=Br[1],B=Br[2],Nt=Br[3],V=Br[4],et=Br[5];var Ef=Br[6],Th=Br[7],bh=Br[8],A1=Br[9],Ic=Br[10],M1=Br[11],fg=Br[12],Wd=Br[13],Sf=Br[14];if(!Nt&&Br.length>=19){ve=Br[18],de=Br[19],Oe=Br[20],Se=Br[21];var Hd=this.drawLabelWithPointPlacement_(ve,de,Oe,Se);Nt=Hd.label,Br[3]=Nt;var I3=Br[22];V=(Hd.anchorX-I3)*this.pixelRatio,Br[4]=V;var hg=Br[23];et=(Hd.anchorY-hg)*this.pixelRatio,Br[5]=et,Ef=Nt.height,Br[6]=Ef,Wd=Nt.width,Br[13]=Wd}var R1=void 0;Br.length>24&&(R1=Br[24]);var wf=void 0,Nc=void 0,Ah=void 0;Br.length>16?(wf=Br[15],Nc=Br[16],Ah=Br[17]):(wf=Jr,Nc=!1,Ah=!1),Ic&&Sn?M1+=yn:!Ic&&!Sn&&(M1-=yn);for(var Yd=0;R<B;R+=2)if(!(R1&&R1[Yd++]<Wd/this.pixelRatio)){var U0=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,h[R],h[R+1],Wd,Ef,V,et,bh,A1,M1,fg,o,wf,Nc||Ah,gi),k0=[r,t,Nt,U0,Th,Nc?hr:null,Ah?Ke:null],Mh=void 0,Xd=void 0;if(f&&Sf){var dg=B-R;if(!Sf[dg]){Sf[dg]=k0;continue}if(Mh=Sf[dg],delete Sf[dg],Xd=h8(Mh),f.collides(Xd))continue}f&&f.collides(U0.declutterBox)||(Mh&&(f&&f.insert(Xd),this.replayImageOrLabel_.apply(this,Mh)),f&&f.insert(U0.declutterBox),this.replayImageOrLabel_.apply(this,k0))}++v;break;case Ei.DRAW_CHARS:var z9=Br[1],V9=Br[2],N3=Br[3],AV=Br[4];Se=Br[5];var MV=Br[6],W9=Br[7],H9=Br[8];Oe=Br[9];var F3=Br[10];ve=Br[11],de=Br[12];var Y9=[Br[13],Br[13]],D3=this.textStates[de],C1=D3.font,L1=[D3.scale[0]*W9,D3.scale[1]*W9],P1=void 0;C1 in this.widths_?P1=this.widths_[C1]:(P1={},this.widths_[C1]=P1);var X9=f8(h,z9,V9,2),K9=Math.abs(L1[0])*sn(C1,ve,P1);if(AV||K9<=X9){var RV=this.textStates[de].textAlign,CV=(X9-K9)*d2[RV],I1=lC(h,z9,V9,2,ve,CV,MV,Math.abs(L1[0]),sn,C1,P1,Sn?0:this.viewRotation_);t:if(I1){var N1=[],xf=void 0,pg=void 0,vg=void 0,du=void 0,p0=void 0;if(Oe)for(xf=0,pg=I1.length;xf<pg;++xf){p0=I1[xf],vg=p0[4],du=this.createLabel(vg,de,"",Oe),V=p0[2]+(L1[0]<0?-F3:F3),et=N3*du.height+(.5-N3)*2*F3*L1[1]/L1[0]-H9;var U0=this.calculateImageOrLabelDimensions_(du.width,du.height,p0[0],p0[1],du.width,du.height,V,et,0,0,p0[3],Y9,!1,Jr,!1,gi);if(f&&f.collides(U0.declutterBox))break t;N1.push([r,t,du,U0,1,null,null])}if(Se)for(xf=0,pg=I1.length;xf<pg;++xf){p0=I1[xf],vg=p0[4],du=this.createLabel(vg,de,Se,""),V=p0[2],et=N3*du.height-H9;var U0=this.calculateImageOrLabelDimensions_(du.width,du.height,p0[0],p0[1],du.width,du.height,V,et,0,0,p0[3],Y9,!1,Jr,!1,gi);if(f&&f.collides(U0.declutterBox))break t;N1.push([r,t,du,U0,1,null,null])}f&&f.load(N1.map(h8));for(var j3=0,LV=N1.length;j3<LV;++j3)this.replayImageOrLabel_.apply(this,N1[j3])}}++v;break;case Ei.END_GEOMETRY:if(s!==void 0){gi=Br[1];var $9=s(gi,Ri);if($9)return $9}++v;break;case Ei.FILL:Nn?Fe++:this.fill_(r),++v;break;case Ei.MOVE_TO_LINE_TO:for(R=Br[1],B=Br[2],mi=h[R],Mi=h[R+1],kt=mi+.5|0,Ht=Mi+.5|0,(kt!==vt||Ht!==Ct)&&(r.moveTo(mi,Mi),vt=kt,Ct=Ht),R+=2;R<B;R+=2)mi=h[R],Mi=h[R+1],kt=mi+.5|0,Ht=Mi+.5|0,(R==B-2||kt!==vt||Ht!==Ct)&&(r.lineTo(mi,Mi),vt=kt,Ct=Ht);++v;break;case Ei.SET_FILL_STYLE:hr=Br,this.alignFill_=Br[2],Fe&&(this.fill_(r),Fe=0,wr&&(r.stroke(),wr=0)),r.fillStyle=Br[1],++v;break;case Ei.SET_STROKE_STYLE:Ke=Br,wr&&(r.stroke(),wr=0),this.setStrokeStyle_(r,Br),++v;break;case Ei.STROKE:Nn?wr++:r.stroke(),++v;break;default:++v;break}}Fe&&this.fill_(r),wr&&r.stroke()},n.prototype.execute=function(r,t,e,i,o,s){this.viewRotation_=i,this.execute_(r,t,e,this.instructions,o,void 0,void 0,s)},n.prototype.executeHitDetection=function(r,t,e,i,o){return this.viewRotation_=e,this.execute_(r,1,t,this.hitDetectionInstructions,!0,i,o)},n}(),fC=cC,gy=[Qi.POLYGON,Qi.CIRCLE,Qi.LINE_STRING,Qi.IMAGE,Qi.TEXT,Qi.DEFAULT],hC=function(){function n(r,t,e,i,o,s){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=mt(),this.createExecutors_(o)}return n.prototype.clip=function(r,t){var e=this.getClipCoords(t);r.beginPath(),r.moveTo(e[0],e[1]),r.lineTo(e[2],e[3]),r.lineTo(e[4],e[5]),r.lineTo(e[6],e[7]),r.clip()},n.prototype.createExecutors_=function(r){for(var t in r){var e=this.executorsByZIndex_[t];e===void 0&&(e={},this.executorsByZIndex_[t]=e);var i=r[t];for(var o in i){var s=i[o];e[o]=new fC(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(r){for(var t in this.executorsByZIndex_)for(var e=this.executorsByZIndex_[t],i=0,o=r.length;i<o;++i)if(r[i]in e)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(r,t,e,i,o,s){i=Math.round(i);var l=i*2+1,f=er(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-e,-r[0],-r[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(ur.a)(l,l));var v=this.hitDetectionContext_;v.canvas.width!==l||v.canvas.height!==l?(v.canvas.width=l,v.canvas.height=l):h||v.clearRect(0,0,l,l);var w;this.renderBuffer_!==void 0&&(w=at(),Fn(w,r),Rt(w,t*(this.renderBuffer_+i),w));var R=dC(i),B;function V(de,Oe){for(var Se=v.getImageData(0,0,l,l).data,Fe=0,wr=R.length;Fe<wr;Fe++)if(Se[R[Fe]]>0){if(!s||B!==Qi.IMAGE&&B!==Qi.TEXT||s.indexOf(de)!==-1){var hr=(R[Fe]-3)/4,Ke=i-hr%l,Ir=i-(hr/l|0),yn=o(de,Oe,Ke*Ke+Ir*Ir);if(yn)return yn}v.clearRect(0,0,l,l);break}}var et=Object.keys(this.executorsByZIndex_).map(Number);et.sort(K.i);var vt,Ct,kt,Ht,Nt;for(vt=et.length-1;vt>=0;--vt){var ve=et[vt].toString();for(kt=this.executorsByZIndex_[ve],Ct=gy.length-1;Ct>=0;--Ct)if(B=gy[Ct],Ht=kt[B],Ht!==void 0&&(Nt=Ht.executeHitDetection(v,f,e,V,w),Nt))return Nt}},n.prototype.getClipCoords=function(r){var t=this.maxExtent_;if(!t)return null;var e=t[0],i=t[1],o=t[2],s=t[3],l=[e,i,e,s,o,s,o,i];return dn(l,0,8,2,r,l),l},n.prototype.isEmpty=function(){return Object(pn.d)(this.executorsByZIndex_)},n.prototype.execute=function(r,t,e,i,o,s,l){var f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(K.i),this.maxExtent_&&(r.save(),this.clip(r,e));var h=s||gy,v,w,R,B,V,et;for(l&&f.reverse(),v=0,w=f.length;v<w;++v){var vt=f[v].toString();for(V=this.executorsByZIndex_[vt],R=0,B=h.length;R<B;++R){var Ct=h[R];et=V[Ct],et!==void 0&&et.execute(r,t,e,i,o,l)}}this.maxExtent_&&r.restore()},n}(),my={};function dC(n){if(my[n]!==void 0)return my[n];for(var r=n*2+1,t=n*n,e=new Array(t+1),i=0;i<=n;++i)for(var o=0;o<=n;++o){var s=i*i+o*o;if(s>t)break;var l=e[s];l||(l=[],e[s]=l),l.push(((n+i)*r+(n+o))*4+3),i>0&&l.push(((n-i)*r+(n+o))*4+3),o>0&&(l.push(((n+i)*r+(n-o))*4+3),i>0&&l.push(((n-i)*r+(n-o))*4+3))}for(var f=[],i=0,h=e.length;i<h;++i)e[i]&&f.push.apply(f,e[i]);return my[n]=f,f}var v2=hC,pC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vC=function(n){pC(r,n);function r(t,e,i,o,s,l,f){var h=n.call(this)||this;return h.context_=t,h.pixelRatio_=e,h.extent_=i,h.transform_=o,h.viewRotation_=s,h.squaredTolerance_=l,h.userTransform_=f,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=mt(),h}return r.prototype.drawImages_=function(t,e,i,o){if(!!this.image_){var s=dn(t,e,i,o,this.transform_,this.pixelCoordinates_),l=this.context_,f=this.tmpLocalTransform_,h=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=h*this.imageOpacity_);var v=this.imageRotation_;this.imageRotateWithView_&&(v+=this.viewRotation_);for(var w=0,R=s.length;w<R;w+=2){var B=s[w]-this.imageAnchorX_,V=s[w+1]-this.imageAnchorY_;if(v!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var et=B+this.imageAnchorX_,vt=V+this.imageAnchorY_;er(f,et,vt,1,1,v,-et,-vt),l.setTransform.apply(l,f),l.translate(et,vt),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.setTransform(1,0,0,1,0,0)}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,B,V,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=h)}},r.prototype.drawText_=function(t,e,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=dn(t,e,i,o,this.transform_,this.pixelCoordinates_),l=this.context_,f=this.textRotation_;for(this.textRotateWithView_&&(f+=this.viewRotation_);e<i;e+=o){var h=s[e]+this.textOffsetX_,v=s[e+1]+this.textOffsetY_;if(f!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var w=er(this.tmpLocalTransform_,h,v,1,1,f,-h,-v);l.setTransform.apply(l,w),l.translate(h,v),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&l.strokeText(this.text_,h,v),this.textFillState_&&l.fillText(this.text_,h,v)}}},r.prototype.moveToLineTo_=function(t,e,i,o,s){var l=this.context_,f=dn(t,e,i,o,this.transform_,this.pixelCoordinates_);l.moveTo(f[0],f[1]);var h=f.length;s&&(h-=2);for(var v=2;v<h;v+=2)l.lineTo(f[v],f[v+1]);return s&&l.closePath(),i},r.prototype.drawRings_=function(t,e,i,o){for(var s=0,l=i.length;s<l;++s)e=this.moveToLineTo_(t,e,i[s],o,!0);return e},r.prototype.drawCircle=function(t){if(!!Ti(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=xa(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],o=e[3]-e[1],s=Math.sqrt(i*i+o*o),l=this.context_;l.beginPath(),l.arc(e[0],e[1],s,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},r.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},r.prototype.setTransform=function(t){this.transform_=t},r.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case Ee.POINT:this.drawPoint(t);break;case Ee.LINE_STRING:this.drawLineString(t);break;case Ee.POLYGON:this.drawPolygon(t);break;case Ee.MULTI_POINT:this.drawMultiPoint(t);break;case Ee.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Ee.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Ee.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Ee.CIRCLE:this.drawCircle(t);break}},r.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);!i||!Ti(this.extent_,i.getExtent())||(this.setStyle(e),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,o=e.length;i<o;++i)this.drawGeometry(e[i])},r.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ti(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},r.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(!!Ti(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),s=0,l=t.getEnds(),f=t.getStride();i.beginPath();for(var h=0,v=l.length;h<v;++h)s=this.moveToLineTo_(o,s,l[h],f,!1);i.stroke()}if(this.text_!==""){var w=t.getFlatMidpoints();this.drawText_(w,0,w.length,2)}}},r.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ti(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ti(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),o=0,s=t.getEndss(),l=t.getStride();e.beginPath();for(var f=0,h=s.length;f<h;++f){var v=s[f];o=this.drawRings_(i,o,v,l)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var w=t.getFlatInteriorPoints();this.drawText_(w,0,w.length,2)}}},r.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},r.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(K.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},r.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:ir;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=o&&(i.textAlign=o,e.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},r.prototype.setFillStrokeStyle=function(t,e){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:oc(o||xn)}}if(!e)this.strokeState_=null;else{var s=e.getColor(),l=e.getLineCap(),f=e.getLineDash(),h=e.getLineDashOffset(),v=e.getLineJoin(),w=e.getWidth(),R=e.getMiterLimit(),B=f||oe;this.strokeState_={lineCap:l!==void 0?l:It,lineDash:this.pixelRatio_===1?B:B.map(function(V){return V*i.pixelRatio_}),lineDashOffset:(h||ge)*this.pixelRatio_,lineJoin:v!==void 0?v:Ce,lineWidth:(w!==void 0?w:Yr)*this.pixelRatio_,miterLimit:R!==void 0?R:Ge,strokeStyle:oc(s||qe)}}},r.prototype.setImageStyle=function(t){var e;if(!t||!(e=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_},r.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var e=t.getFill();if(!e)this.textFillState_=null;else{var i=e.getColor();this.textFillState_={fillStyle:oc(i||xn)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var s=o.getColor(),l=o.getLineCap(),f=o.getLineDash(),h=o.getLineDashOffset(),v=o.getLineJoin(),w=o.getWidth(),R=o.getMiterLimit();this.textStrokeState_={lineCap:l!==void 0?l:It,lineDash:f||oe,lineDashOffset:h||ge,lineJoin:v!==void 0?v:Ce,lineWidth:w!==void 0?w:Yr,miterLimit:R!==void 0?R:Ge,strokeStyle:oc(s||qe)}}var B=t.getFont(),V=t.getOffsetX(),et=t.getOffsetY(),vt=t.getRotateWithView(),Ct=t.getRotation(),kt=t.getScaleArray(),Ht=t.getText(),Nt=t.getTextAlign(),ve=t.getTextBaseline();this.textState_={font:B!==void 0?B:Or,textAlign:Nt!==void 0?Nt:ir,textBaseline:ve!==void 0?ve:rr},this.text_=Ht!==void 0?Ht:"",this.textOffsetX_=V!==void 0?this.pixelRatio_*V:0,this.textOffsetY_=et!==void 0?this.pixelRatio_*et:0,this.textRotateWithView_=vt!==void 0?vt:!1,this.textRotation_=Ct!==void 0?Ct:0,this.textScale_=[this.pixelRatio_*kt[0],this.pixelRatio_*kt[1]]}},r}(l8),yy=vC,Fl={FRACTION:"fraction",PIXELS:"pixels"},Es={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},gC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f1=null,mC=function(n){gC(r,n);function r(t,e,i,o,s,l){var f=n.call(this)||this;return f.hitDetectionImage_=null,f.image_=t||new Image,o!==null&&(f.image_.crossOrigin=o),f.canvas_={},f.color_=l,f.unlisten_=null,f.imageState_=s,f.size_=i,f.src_=e,f.tainted_,f}return r.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===Ni.LOADED){f1||(f1=Object(ur.a)(1,1)),f1.drawImage(this.image_,0,0);try{f1.getImageData(0,0,1,1),this.tainted_=!1}catch{f1=null,this.tainted_=!0}}return this.tainted_===!0},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(un.a.CHANGE)},r.prototype.handleImageError_=function(){this.imageState_=Ni.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=Ni.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},r.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(ur.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(this.imageState_==Ni.IDLE){this.imageState_=Ni.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=ty(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==Ni.LOADED)){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=_o(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,e.width,e.height),s=o.data,l=this.color_[0]/255,f=this.color_[1]/255,h=this.color_[2]/255,v=this.color_[3],w=0,R=s.length;w<R;w+=4)s[w]*=l,s[w+1]*=f,s[w+2]*=h,s[w+3]*=v;i.putImageData(o,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(nr.a);function yC(n,r,t,e,i,o){var s=$o.get(r,e,o);return s||(s=new mC(n,r,t,e,i,o),$o.set(r,e,o,s)),s}var _C=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EC=function(n){_C(r,n);function r(t){var e=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,s=i.rotation!==void 0?i.rotation:0,l=i.scale!==void 0?i.scale:1,f=i.rotateWithView!==void 0?i.rotateWithView:!1;e=n.call(this,{opacity:o,rotation:s,scale:l,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:f})||this,e.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:Es.TOP_LEFT,e.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Fl.FRACTION,e.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Fl.FRACTION,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var h=i.img!==void 0?i.img:null,v=i.imgSize!==void 0?i.imgSize:null,w=i.src;ye(!(w!==void 0&&h),4),ye(!h||h&&v,5),(w===void 0||w.length===0)&&h&&(w=h.src||Object(Ot.c)(h)),ye(w!==void 0&&w.length>0,6);var R=i.src!==void 0?Ni.IDLE:Ni.LOADED;return e.color_=i.color!==void 0?fa(i.color):null,e.iconImage_=yC(h,w,v,e.crossOrigin_,R,e.color_),e.offset_=i.offset!==void 0?i.offset:[0,0],e.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:Es.TOP_LEFT,e.origin_=null,e.size_=i.size!==void 0?i.size:null,e}return r.prototype.clone=function(){var t=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==Fl.FRACTION||this.anchorYUnits_==Fl.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Fl.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Fl.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Es.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Es.TOP_RIGHT||this.anchorOrigin_==Es.BOTTOM_RIGHT)&&(t[0]=-t[0]+e[0]),(this.anchorOrigin_==Es.BOTTOM_LEFT||this.anchorOrigin_==Es.BOTTOM_RIGHT)&&(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},r.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(t){return this.iconImage_.getImage(t)},r.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Es.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),(this.offsetOrigin_==Es.TOP_RIGHT||this.offsetOrigin_==Es.BOTTOM_RIGHT)&&(t[0]=i[0]-e[0]-t[0]),(this.offsetOrigin_==Es.BOTTOM_LEFT||this.offsetOrigin_==Es.BOTTOM_RIGHT)&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(un.a.CHANGE,t)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(un.a.CHANGE,t)},r}(i8),g2=EC,ju=.5;function p8(n,r,t,e,i,o,s){var l=n[0]*ju,f=n[1]*ju,h=Object(ur.a)(l,f);h.imageSmoothingEnabled=!1;for(var v=h.canvas,w=new yy(h,ju,i,null,s),R=t.length,B=Math.floor((256*256*256-1)/R),V={},et=1;et<=R;++et){var vt=t[et-1],Ct=vt.getStyleFunction()||e;if(!!e){var kt=Ct(vt,o);if(!!kt){Array.isArray(kt)||(kt=[kt]);for(var Ht=et*B,Nt="#"+("000000"+Ht.toString(16)).slice(-6),ve=0,de=kt.length;ve<de;++ve){var Oe=kt[ve],Se=Oe.getGeometryFunction()(vt);if(!(!Se||!Ti(i,Se.getExtent()))){var Fe=Oe.clone(),wr=Fe.getFill();wr&&wr.setColor(Nt);var hr=Fe.getStroke();hr&&(hr.setColor(Nt),hr.setLineDash(null)),Fe.setText(void 0);var Ke=Oe.getImage();if(Ke&&Ke.getOpacity()!==0){var Ir=Ke.getImageSize();if(!Ir)continue;var yn=Object(ur.a)(Ir[0],Ir[1],void 0,{alpha:!1}),Sn=yn.canvas;yn.fillStyle=Nt,yn.fillRect(0,0,Sn.width,Sn.height),Fe.setImage(new g2({img:Sn,imgSize:Ir,anchor:Ke.getAnchor(),anchorXUnits:Fl.PIXELS,anchorYUnits:Fl.PIXELS,offset:Ke.getOrigin(),opacity:1,size:Ke.getSize(),scale:Ke.getScale(),rotation:Ke.getRotation(),rotateWithView:Ke.getRotateWithView()}))}var Rn=Fe.getZIndex()||0,Nn=V[Rn];Nn||(Nn={},V[Rn]=Nn,Nn[Ee.POLYGON]=[],Nn[Ee.CIRCLE]=[],Nn[Ee.LINE_STRING]=[],Nn[Ee.POINT]=[]),Nn[Se.getType().replace("Multi","")].push(Se,Fe)}}}}}for(var gi=Object.keys(V).map(Number).sort(K.i),et=0,mi=gi.length;et<mi;++et){var Nn=V[gi[et]];for(var Mi in Nn)for(var Ri=Nn[Mi],ve=0,de=Ri.length;ve<de;ve+=2){w.setStyle(Ri[ve+1]);for(var Br=0,rs=r.length;Br<rs;++Br)w.setTransform(r[Br]),w.drawGeometry(Ri[ve])}}return h.getImageData(0,0,v.width,v.height)}function v8(n,r,t){var e=[];if(t){var i=Math.floor(Math.round(n[0])*ju),o=Math.floor(Math.round(n[1])*ju),s=(co(i,0,t.width-1)+co(o,0,t.height-1)*t.width)*4,l=t.data[s],f=t.data[s+1],h=t.data[s+2],v=h+256*(f+256*l),w=Math.floor((256*256*256-1)/r.length);v&&v%w===0&&e.push(r[v/w-1])}return e}var SC=.5,g8={Point:RC,LineString:bC,Polygon:LC,MultiPoint:CC,MultiLineString:AC,MultiPolygon:MC,GeometryCollection:TC,Circle:xC};function wC(n,r){return parseInt(Object(Ot.c)(n),10)-parseInt(Object(Ot.c)(r),10)}function m8(n,r){var t=_y(n,r);return t*t}function _y(n,r){return SC*n/r}function xC(n,r,t,e,i){var o=t.getFill(),s=t.getStroke();if(o||s){var l=n.getBuilder(t.getZIndex(),Qi.CIRCLE);l.setFillStrokeStyle(o,s),l.drawCircle(r,e)}var f=t.getText();if(f&&f.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qi.TEXT);h.setTextStyle(f),h.drawText(r,e)}}function m2(n,r,t,e,i,o,s){var l=!1,f=t.getImage();if(f){var h=f.getImageState();h==Ni.LOADED||h==Ni.ERROR?f.unlistenImageChange(i):(h==Ni.IDLE&&f.load(),h=f.getImageState(),f.listenImageChange(i),l=!0)}return OC(n,r,t,e,o,s),l}function OC(n,r,t,e,i,o){var s=t.getGeometryFunction()(r);if(!!s){var l=s.simplifyTransformed(e,i),f=t.getRenderer();if(f)y8(n,l,t,r);else{var h=g8[l.getType()];h(n,l,t,r,o)}}}function y8(n,r,t,e){if(r.getType()==Ee.GEOMETRY_COLLECTION){for(var i=r.getGeometries(),o=0,s=i.length;o<s;++o)y8(n,i[o],t,e);return}var l=n.getBuilder(t.getZIndex(),Qi.DEFAULT);l.drawCustom(r,e,t.getRenderer(),t.getHitDetectionRenderer())}function TC(n,r,t,e,i){var o=r.getGeometriesArray(),s,l;for(s=0,l=o.length;s<l;++s){var f=g8[o[s].getType()];f(n,o[s],t,e,i)}}function bC(n,r,t,e,i){var o=t.getStroke();if(o){var s=n.getBuilder(t.getZIndex(),Qi.LINE_STRING);s.setFillStrokeStyle(null,o),s.drawLineString(r,e)}var l=t.getText();if(l&&l.getText()){var f=(i||n).getBuilder(t.getZIndex(),Qi.TEXT);f.setTextStyle(l),f.drawText(r,e)}}function AC(n,r,t,e,i){var o=t.getStroke();if(o){var s=n.getBuilder(t.getZIndex(),Qi.LINE_STRING);s.setFillStrokeStyle(null,o),s.drawMultiLineString(r,e)}var l=t.getText();if(l&&l.getText()){var f=(i||n).getBuilder(t.getZIndex(),Qi.TEXT);f.setTextStyle(l),f.drawText(r,e)}}function MC(n,r,t,e,i){var o=t.getFill(),s=t.getStroke();if(s||o){var l=n.getBuilder(t.getZIndex(),Qi.POLYGON);l.setFillStrokeStyle(o,s),l.drawMultiPolygon(r,e)}var f=t.getText();if(f&&f.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qi.TEXT);h.setTextStyle(f),h.drawText(r,e)}}function RC(n,r,t,e,i){var o=t.getImage(),s=t.getText(),l;if(i&&(n=i,l=o&&s&&s.getText()?{}:void 0),o){if(o.getImageState()!=Ni.LOADED)return;var f=n.getBuilder(t.getZIndex(),Qi.IMAGE);f.setImageStyle(o,l),f.drawPoint(r,e)}if(s&&s.getText()){var h=n.getBuilder(t.getZIndex(),Qi.TEXT);h.setTextStyle(s,l),h.drawText(r,e)}}function CC(n,r,t,e,i){var o=t.getImage(),s=t.getText(),l;if(i&&(n=i,l=o&&s&&s.getText()?{}:void 0),o){if(o.getImageState()!=Ni.LOADED)return;var f=n.getBuilder(t.getZIndex(),Qi.IMAGE);f.setImageStyle(o,l),f.drawMultiPoint(r,e)}if(s&&s.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qi.TEXT);h.setTextStyle(s,l),h.drawText(r,e)}}function LC(n,r,t,e,i){var o=t.getFill(),s=t.getStroke();if(o||s){var l=n.getBuilder(t.getZIndex(),Qi.POLYGON);l.setFillStrokeStyle(o,s),l.drawPolygon(r,e)}var f=t.getText();if(f&&f.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qi.TEXT);h.setTextStyle(f),h.drawText(r,e)}}var PC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IC=function(n){PC(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=at(),e.wrappedRenderedExtent_=at(),e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}return r.prototype.renderWorlds=function(t,e,i){var o=e.extent,s=e.viewState,l=s.center,f=s.resolution,h=s.projection,v=s.rotation,w=h.getExtent(),R=this.getLayer().getSource(),B=e.pixelRatio,V=e.viewHints,et=!(V[Ui.ANIMATING]||V[Ui.INTERACTING]),vt=this.context,Ct=Math.round(e.size[0]*B),kt=Math.round(e.size[1]*B),Ht=R.getWrapX()&&h.canWrapX(),Nt=Ht?en(w):null,ve=Ht?Math.ceil((o[2]-w[2])/Nt)+1:1,de=Ht?Math.floor((o[0]-w[0])/Nt):0;do{var Oe=this.getRenderTransform(l,f,v,B,Ct,kt,de*Nt);t.execute(vt,1,Oe,v,et,void 0,i)}while(++de<ve)},r.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},r.prototype.renderFrame=function(t,e){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];wn(this.pixelTransform,1/i,1/i),_r(this.inversePixelTransform,this.pixelTransform);var s=Ur(this.pixelTransform);this.useContainer(e,s,o.opacity,this.getBackground(t));var l=this.context,f=l.canvas,h=this.replayGroup_,v=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!v||v.isEmpty()))return null;var w=Math.round(t.size[0]*i),R=Math.round(t.size[1]*i);f.width!=w||f.height!=R?(f.width=w,f.height=R,f.style.transform!==s&&(f.style.transform=s)):this.containerReused||l.clearRect(0,0,w,R),this.preRender(l,t);var B=t.viewState;B.projection;var V=!1,et=!0;if(o.extent&&this.clipping){var vt=At(o.extent);et=Ti(vt,t.extent),V=et&&!Pe(vt,t.extent),V&&this.clipUnrotated(l,t,vt)}et&&this.renderWorlds(h,t),V&&l.restore(),this.postRender(l,t);var Ct=Lr(o.opacity),kt=this.container;return Ct!==kt.style.opacity&&(kt.style.opacity=Ct),this.renderedRotation_!==B.rotation&&(this.renderedRotation_=B.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];ar(this.pixelTransform,i);var o=this.renderedCenter_,s=this.renderedResolution_,l=this.renderedRotation_,f=this.renderedProjection_,h=this.wrappedRenderedExtent_,v=this.getLayer(),w=[],R=i[0]*ju,B=i[1]*ju;w.push(this.getRenderTransform(o,s,l,ju,R,B,0).slice());var V=v.getSource(),et=f.getExtent();if(V.getWrapX()&&f.canWrapX()&&!Pe(et,h)){for(var vt=h[0],Ct=en(et),kt=0,Ht=void 0;vt<et[0];)--kt,Ht=Ct*kt,w.push(this.getRenderTransform(o,s,l,ju,R,B,Ht).slice()),vt+=Ct;for(kt=0,vt=h[2];vt>et[2];)++kt,Ht=Ct*kt,w.push(this.getRenderTransform(o,s,l,ju,R,B,Ht).slice()),vt-=Ct}this.hitDetectionImageData_=p8(i,w,this.renderedFeatures_,v.getStyleFunction(),h,s,l)}e(v8(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,s){var l=this;if(!!this.replayGroup_){var f=e.viewState.resolution,h=e.viewState.rotation,v=this.getLayer(),w={},R=function(et,vt,Ct){var kt=Object(Ot.c)(et),Ht=w[kt];if(Ht){if(Ht!==!0&&Ct<Ht.distanceSq){if(Ct===0)return w[kt]=!0,s.splice(s.lastIndexOf(Ht),1),o(et,v,vt);Ht.geometry=vt,Ht.distanceSq=Ct}}else{if(Ct===0)return w[kt]=!0,o(et,v,vt);s.push(w[kt]={feature:et,layer:v,geometry:vt,distanceSq:Ct,callback:o})}},B,V=[this.replayGroup_];return this.declutterExecutorGroup&&V.push(this.declutterExecutorGroup),V.some(function(et){return B=et.forEachFeatureAtCoordinate(t,f,h,i,R,et===l.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(function(vt){return vt.value}):null)}),B}},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var o=t.viewHints[Ui.ANIMATING],s=t.viewHints[Ui.INTERACTING],l=e.getUpdateWhileAnimating(),f=e.getUpdateWhileInteracting();if(!this.dirty_&&!l&&o||!f&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=t.extent,v=t.viewState,w=v.projection,R=v.resolution,B=t.pixelRatio,V=e.getRevision(),et=e.getRenderBuffer(),vt=e.getRenderOrder();vt===void 0&&(vt=wC);var Ct=v.center.slice(),kt=Rt(h,et*R),Ht=kt.slice(),Nt=[kt.slice()],ve=w.getExtent();if(i.getWrapX()&&w.canWrapX()&&!Pe(ve,t.extent)){var de=en(ve),Oe=Math.max(en(kt)/2,de);kt[0]=ve[0]-Oe,kt[2]=ve[2]+Oe,pt(Ct,w);var Se=Bs(Nt[0],w);Se[0]<ve[0]&&Se[2]<ve[2]?Nt.push([Se[0]+de,Se[1],Se[2]+de,Se[3]]):Se[0]>ve[0]&&Se[2]>ve[2]&&Nt.push([Se[0]-de,Se[1],Se[2]-de,Se[3]])}if(!this.dirty_&&this.renderedResolution_==R&&this.renderedRevision_==V&&this.renderedRenderOrder_==vt&&Pe(this.wrappedRenderedExtent_,kt))return Object(K.b)(this.renderedExtent_,Ht)||(this.hitDetectionImageData_=null,this.renderedExtent_=Ht),this.renderedCenter_=Ct,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var Fe=new p2(_y(R,B),kt,R,B),wr;this.getLayer().getDeclutter()&&(wr=new p2(_y(R,B),kt,R,B));for(var hr,Ke,Ir,Ke=0,Ir=Nt.length;Ke<Ir;++Ke)i.loadFeatures(Nt[Ke],R,w);var yn=m8(R,B),Sn=function(Mi){var Ri,Br=Mi.getStyleFunction()||e.getStyleFunction();if(Br&&(Ri=Br(Mi,R)),Ri){var rs=this.renderFeature(Mi,yn,Ri,Fe,hr,wr);this.dirty_=this.dirty_||rs}}.bind(this),Rn=gt(kt),Nn=i.getFeaturesInExtent(Rn);vt&&Nn.sort(vt);for(var Ke=0,Ir=Nn.length;Ke<Ir;++Ke)Sn(Nn[Ke]);this.renderedFeatures_=Nn;var gi=Fe.finish(),mi=new v2(kt,R,B,i.getOverlaps(),gi,e.getRenderBuffer());return wr&&(this.declutterExecutorGroup=new v2(kt,R,B,i.getOverlaps(),wr.finish(),e.getRenderBuffer())),this.renderedResolution_=R,this.renderedRevision_=V,this.renderedRenderOrder_=vt,this.renderedExtent_=Ht,this.wrappedRenderedExtent_=kt,this.renderedCenter_=Ct,this.renderedProjection_=w,this.replayGroup_=mi,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(t,e,i,o,s,l){if(!i)return!1;var f=!1;if(Array.isArray(i))for(var h=0,v=i.length;h<v;++h)f=m2(o,t,i[h],e,this.boundHandleStyleImageChange_,s,l)||f;else f=m2(o,t,i,e,this.boundHandleStyleImageChange_,s,l);return f},r}(Zm),NC=IC,FC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DC=function(n){FC(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new NC(this)},r}(f2),ac=DC,jC={extends:Sd,name:"ol-vector-layer",setup:function(r){var t=Object(F.inject)("map"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new ac(i)});return Object(F.watch)(i,function(){o.value.setProperties(i)}),Object(F.onMounted)(function(){t.addLayer(o.value)}),Object(F.onUnmounted)(function(){t.removeLayer(o.value)}),Object(F.provide)("vectorLayer",o),Object(F.provide)("stylable",o),{vectorLayer:o}},props:{renderBuffer:{type:Number,default:100},updateWhileAnimating:{type:Boolean,default:!1},style:{type:Function},updateWhileInteracting:{type:Boolean,default:!1}}},Ey=lr()(jC,[["render",PR]]);function GC(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var BC=function(){function n(r){this.rbush_=new n8.a(r),this.items_={}}return n.prototype.insert=function(r,t){var e={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:t};this.rbush_.insert(e),this.items_[Object(Ot.c)(t)]=e},n.prototype.load=function(r,t){for(var e=new Array(t.length),i=0,o=t.length;i<o;i++){var s=r[i],l=t[i],f={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:l};e[i]=f,this.items_[Object(Ot.c)(l)]=f}this.rbush_.load(e)},n.prototype.remove=function(r){var t=Object(Ot.c)(r),e=this.items_[t];return delete this.items_[t],this.rbush_.remove(e)!==null},n.prototype.update=function(r,t){var e=this.items_[Object(Ot.c)(t)],i=[e.minX,e.minY,e.maxX,e.maxY];Pr(i,r)||(this.remove(t),this.insert(r,t))},n.prototype.getAll=function(){var r=this.rbush_.all();return r.map(function(t){return t.value})},n.prototype.getInExtent=function(r){var t={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},e=this.rbush_.search(t);return e.map(function(i){return i.value})},n.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},n.prototype.forEachInExtent=function(r,t){return this.forEach_(this.getInExtent(r),t)},n.prototype.forEach_=function(r,t){for(var e,i=0,o=r.length;i<o;i++)if(e=t(r[i]),e)return e;return e},n.prototype.isEmpty=function(){return Object(pn.d)(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(r){var t=this.rbush_.toJSON();return $(t.minX,t.minY,t.maxX,t.maxY,r)},n.prototype.concat=function(r){this.rbush_.load(r.rbush_.all());for(var t in r.items_)this.items_[t]=r.items_[t]},n}(),y2=BC,UC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kC=function(n){UC(r,n);function r(t){var e=n.call(this)||this;e.projection=Gn(t.projection),e.attributions_=_8(t.attributions),e.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,e.loading=!1,e.state_=t.state!==void 0?t.state:li.READY,e.wrapX_=t.wrapX!==void 0?t.wrapX:!1,e.interpolate_=!!t.interpolate,e.viewResolver=null,e.viewRejector=null;var i=e;return e.viewPromise_=new Promise(function(o,s){i.viewResolver=o,i.viewRejector=s}),e}return r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection},r.prototype.getResolutions=function(){return Object(Ot.b)()},r.prototype.getView=function(){return this.viewPromise_},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getInterpolate=function(){return this.interpolate_},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(t){this.attributions_=_8(t),this.changed()},r.prototype.setState=function(t){this.state_=t,this.changed()},r}(go.a);function _8(n){return n?Array.isArray(n)?function(r){return n}:typeof n=="function"?n:function(r){return[n]}:null}var _2=kC,Is={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function E8(n,r){return[[-1/0,-1/0,1/0,1/0]]}function zC(n,r){return[n]}function VC(n){return function(r,t,e){var i=n.getZForResolution(y(t)),o=n.getTileRangeForExtentAndZ(At(r),i),s=[],l=[i,0,0];for(l[1]=o.minX;l[1]<=o.maxX;++l[1])for(l[2]=o.minY;l[2]<=o.maxY;++l[2])s.push(gt(n.getTileCoordExtent(l)));return s}}var F0={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},WC=!1;function HC(n,r,t,e,i,o,s){var l=new XMLHttpRequest;l.open("GET",typeof n=="function"?n(t,e,i):n,!0),r.getType()==F0.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=WC,l.onload=function(f){if(!l.status||l.status>=200&&l.status<300){var h=r.getType(),v=void 0;h==F0.JSON||h==F0.TEXT?v=l.responseText:h==F0.XML?(v=l.responseXML,v||(v=new DOMParser().parseFromString(l.responseText,"application/xml"))):h==F0.ARRAY_BUFFER&&(v=l.response),v?o(r.readFeatures(v,{extent:t,featureProjection:i}),r.readProjection(v)):s()}else s()},l.onerror=s,l.send()}function S8(n,r){return function(t,e,i,o,s){var l=this;HC(n,r,t,e,i,function(f,h){l.addFeatures(f),o!==void 0&&o(f)},s||te.c)}}var w8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uf=function(n){w8(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.feature=e,o.features=i,o}return r}(sr.a),YC=function(n){w8(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:li.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,e.on,e.once,e.un,e.loader_=te.c,e.format_=i.format,e.overlaps_=i.overlaps===void 0?!0:i.overlaps,e.url_=i.url,i.loader!==void 0?e.loader_=i.loader:e.url_!==void 0&&(ye(e.format_,7),e.loader_=S8(e.url_,e.format_)),e.strategy_=i.strategy!==void 0?i.strategy:E8;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;e.featuresRtree_=o?new y2:null,e.loadedExtentsRtree_=new y2,e.loadingExtentsCount_=0,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null;var s,l;return Array.isArray(i.features)?l=i.features:i.features&&(s=i.features,l=s.getArray()),!o&&s===void 0&&(s=new Dn(l)),l!==void 0&&e.addFeaturesInternal(l),s!==void 0&&e.bindFeaturesCollection_(s),e}return r.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},r.prototype.addFeatureInternal=function(t){var e=Object(Ot.c)(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new uf(Is.ADDFEATURE,t))},r.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(Hr.a)(e,un.a.CHANGE,this.handleFeatureChange_,this),Object(Hr.a)(e,ze.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(t,e){var i=!0,o=e.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=e),i&&(ye(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},r.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},r.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],o=[],s=0,l=t.length;s<l;s++){var f=t[s],h=Object(Ot.c)(f);this.addToIndex_(h,f)&&i.push(f)}for(var s=0,v=i.length;s<v;s++){var f=i[s],h=Object(Ot.c)(f);this.setupChangeEvents_(h,f);var w=f.getGeometry();if(w){var R=w.getExtent();e.push(R),o.push(f)}else this.nullGeometryFeatures_[h]=f}this.featuresRtree_&&this.featuresRtree_.load(e,o);for(var s=0,B=i.length;s<B;s++)this.dispatchEvent(new uf(Is.ADDFEATURE,i[s]))},r.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Is.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(Is.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(ri.ADD,function(i){e||(e=!0,this.addFeature(i.element),e=!1)}.bind(this)),t.addEventListener(ri.REMOVE,function(i){e||(e=!0,this.removeFeature(i.element),e=!1)}.bind(this)),this.featuresCollection_=t},r.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach(Hr.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(f){this.removeFeatureInternal(f)}.bind(this);this.featuresRtree_.forEach(o);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var l=new uf(Is.CLEAR);this.dispatchEvent(l),this.changed()},r.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},r.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var s=o.getGeometry();if(s.intersectsCoordinate(t))return e(o)})},r.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var s=e(i);if(s)return s}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(pn.d)(this.nullGeometryFeatures_)||Object(K.c)(t,Object(pn.c)(this.nullGeometryFeatures_))),t},r.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){e.push(i)}),e},r.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},r.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],o=t[1],s=null,l=[NaN,NaN],f=1/0,h=[-1/0,-1/0,1/0,1/0],v=e||te.b;return this.featuresRtree_.forEachInExtent(h,function(w){if(v(w)){var R=w.getGeometry(),B=f;if(f=R.closestPointXY(i,o,l,f),f<B){s=w;var V=Math.sqrt(f);h[0]=i-V,h[1]=o-V,h[2]=i+V,h[3]=o+V}}}),s},r.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},r.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return e!==void 0?e:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(Ot.c)(e),o=e.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);else{var s=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,e)):this.featuresRtree_&&this.featuresRtree_.update(s,e)}var l=e.getId();if(l!==void 0){var f=l.toString();this.idIndex_[f]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[f]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new uf(Is.CHANGEFEATURE,e))},r.prototype.hasFeature=function(t){var e=t.getId();return e!==void 0?e in this.idIndex_:Object(Ot.c)(t)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(pn.d)(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(t,e,i){for(var o=this.loadedExtentsRtree_,s=this.strategy_(t,e,i),l=function(w,R){var B=s[w],V=o.forEachInExtent(B,function(et){return Pe(et.extent,B)});V||(++f.loadingExtentsCount_,f.dispatchEvent(new uf(Is.FEATURESLOADSTART)),f.loader_.call(f,B,e,i,function(et){--this.loadingExtentsCount_,this.dispatchEvent(new uf(Is.FEATURESLOADEND,void 0,et))}.bind(f),function(){--this.loadingExtentsCount_,this.dispatchEvent(new uf(Is.FEATURESLOADERROR))}.bind(f)),o.insert(B,{extent:B.slice()}))},f=this,h=0,v=s.length;h<v;++h)l(h);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_,i;e.forEachInExtent(t,function(o){if(Pr(o.extent,t))return i=o,!0}),i&&e.remove(i)},r.prototype.removeFeature=function(t){if(!!t){var e=Object(Ot.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},r.prototype.removeFeatureInternal=function(t){var e=Object(Ot.c)(t),i=this.featureChangeKeys_[e];if(!!i){i.forEach(Hr.c),delete this.featureChangeKeys_[e];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[e],this.dispatchEvent(new uf(Is.REMOVEFEATURE,t)),t}},r.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},r.prototype.setLoader=function(t){this.loader_=t},r.prototype.setUrl=function(t){ye(this.format_,7),this.url_=t,this.setLoader(S8(t,this.format_))},r}(_2),bc=YC,XC=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KC=function(n){XC(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return e.resolution=void 0,e.distance=t.distance!==void 0?t.distance:20,e.minDistance=t.minDistance||0,e.interpolationRatio=0,e.features=[],e.geometryFunction=t.geometryFunction||function(i){var o=i.getGeometry();return ye(o.getType()==Ee.POINT,10),o},e.createCustomCluster_=t.createCluster,e.source=null,e.boundRefresh_=e.refresh.bind(e),e.updateDistance(e.distance,e.minDistance),e.setSource(t.source||null),e}return r.prototype.clear=function(t){this.features.length=0,n.prototype.clear.call(this,t)},r.prototype.getDistance=function(){return this.distance},r.prototype.getSource=function(){return this.source},r.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.resolution=e,this.refresh())},r.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},r.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},r.prototype.getMinDistance=function(){return this.minDistance},r.prototype.setSource=function(t){this.source&&this.source.removeEventListener(un.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(un.a.CHANGE,this.boundRefresh_),this.refresh()},r.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},r.prototype.updateDistance=function(t,e){var i=t===0?0:Math.min(e,t)/t,o=t!==this.distance||this.interpolationRatio!==i;this.distance=t,this.minDistance=e,this.interpolationRatio=i,o&&this.refresh()},r.prototype.cluster=function(){if(!(this.resolution===void 0||!this.source))for(var t=at(),e=this.distance*this.resolution,i=this.source.getFeatures(),o={},s=0,l=i.length;s<l;s++){var f=i[s];if(!(Object(Ot.c)(f)in o)){var h=this.geometryFunction(f);if(h){var v=h.getCoordinates();dt(v,t),Rt(t,e,t);var w=this.source.getFeaturesInExtent(t).filter(function(R){var B=Object(Ot.c)(R);return B in o?!1:(o[B]=!0,!0)});this.features.push(this.createCluster(w,t))}}}},r.prototype.createCluster=function(t,e){for(var i=[0,0],o=t.length-1;o>=0;--o){var s=this.geometryFunction(t[o]);s?W(i,s.getCoordinates()):t.splice(o,1)}_t(i,1/t.length);var l=zn(e),f=this.interpolationRatio,h=new Ii([i[0]*(1-f)+l[0]*f,i[1]*(1-f)+l[1]*f]);return this.createCustomCluster_?this.createCustomCluster_(h,t):new Cn({geometry:h,features:t})},r}(bc),x8=KC;window.ol&&!ol.ext&&(ol.ext={});var Sy=function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n};window.ol&&(ol.inherits||(ol.inherits=Sy)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Oo=Sy;function $C(n){const r=n.frameState,t=ae(n.inversePixelTransform.slice(),r.coordinateToPixelTransform);return new yy(n.context,r.pixelRatio,r.extent,t,r.viewState.rotation)}var E2=$C,hh=function(n){var r=n||{};ac.call(this,r),this.oldcluster=new bc,this.clusters=[],this.animation={start:!1},this.set("animationDuration",typeof r.animationDuration=="number"?r.animationDuration:700),this.set("animationMethod",r.animationMethod||Vr),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))};Oo(hh,ac),hh.prototype.saveCluster=function(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var n=this.getSource().getFeatures();n.length&&n[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=n.slice(0),this.sourceChanged=!0)}},hh.prototype.getClusterForFeature=function(n,r){for(var t=0,e;e=r[t];t++){var i=e.get("features");if(i&&i.length){for(var o=0,s;s=i[o];o++)if(n===s)return e}}return!1},hh.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},hh.prototype.animate=function(n){var r=this.get("animationDuration");if(!!r){var t=n.frameState.viewState.resolution,e,i,o=this.animation,s=n.frameState.time;if(o.resolution!=t&&this.sourceChanged){var l=n.frameState.extent;for(o.resolution<t?(l=Rt(l,100*t),o.cA=this.oldcluster.getFeaturesInExtent(l),o.cB=this.getSource().getFeaturesInExtent(l),o.revers=!1):(l=Rt(l,100*t),o.cA=this.getSource().getFeaturesInExtent(l),o.cB=this.oldcluster.getFeaturesInExtent(l),o.revers=!0),o.clusters=[],e=0,i;i=o.cA[e];e++){var f=i.get("features");if(f&&f.length){var h=this.getClusterForFeature(f[0],o.cB);h&&o.clusters.push({f:i,pt:h.getGeometry().getCoordinates()})}}if(o.resolution=t,this.sourceChanged=!1,!o.clusters.length||o.clusters.length>1e3){this.stopAnimation();return}s=o.start=new Date().getTime()}if(o.start){var v=n.vectorContext||E2(n),w=(s-o.start)/r;w>1&&(this.stopAnimation(),w=1),w=this.get("animationMethod")(w);var R=this.getStyle(),B=typeof R=="function"?R:R.length?function(){return R}:function(){return[R]};for(n.context.save(),n.context.globalAlpha=this.getOpacity(),e=0,h;h=o.clusters[e];e++){var V=h.f.getGeometry().getCoordinates(),et=V[0]-h.pt[0],vt=V[1]-h.pt[1];o.revers?(V[0]=h.pt[0]+w*et,V[1]=h.pt[1]+w*vt):(V[0]=V[0]-w*et,V[1]=V[1]-w*vt);var Ct=B(h.f,t,!0);if(Ct.length||(Ct=[Ct]),h.f.get("features").length===1&&!et&&!vt)f=h.f.get("features")[0];else{var kt=new Ii(V);f=new Cn(kt)}for(var Ht=0,Nt;Nt=Ct[Ht];Ht++)if(Nt.getText()&&/\n/.test(Nt.getText().getText())){var ve=Nt.getText().getOffsetX(),de=Nt.getText().getOffsetY(),Oe=Nt.getText().getRotation()||0,Se=Number((Nt.getText().getFont()||"10px").match(/\d+/))*1.2,Fe=Nt.getText().getText().split(`
`),wr,hr=Fe.length-1,Ke=Nt.clone();Fe.forEach(function(Ir,yn){switch(yn==1&&(Ke.setImage(),Ke.setFill(),Ke.setStroke()),Nt.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":{wr=hr;break}case"hanging":case"top":{wr=0;break}default:{wr=hr/2;break}}Ke.getText().setOffsetX(ve-Math.sin(Oe)*Se*(yn-wr)),Ke.getText().setOffsetY(de+Math.cos(Oe)*Se*(yn-wr)),Ke.getText().setText(Ir),v.drawFeature(f,Ke)})}else v.drawFeature(f,Nt)}n.context.restore(),n.frameState.animate=!0,n.context.save(),n.context.beginPath(),n.context.rect(0,0,0,0),n.context.clip(),this.clip_=!0}}},hh.prototype.postanimate=function(n){this.clip_&&(n.context.restore(),this.clip_=!1)};var ZC=hh,JC={extends:Sd,name:"ol-animated-clusterlayer",setup:function(r){var t=Object(F.inject)("map"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){var l=new ZC(or(or({},i),{},{source:new x8({distance:i.distance,geometryFunction:function(h){return h.getGeometry()}})}));return l}),s=Object(F.computed)(function(){return o.value.getSource()});return Object(F.watch)(i,function(){o.value.setProperties(i),o.value.changed()}),Object(F.onMounted)(function(){t.addLayer(o.value),o.value.changed(),t.changed()}),Object(F.onUnmounted)(function(){t.removeLayer(o.value)}),Object(F.provide)("vectorLayer",s),Object(F.provide)("stylable",o),{vectorLayer:o,map:t}},props:{animationDuration:{type:Number,default:700},distance:{type:Number,default:20},animationMethod:{type:Function,default:Vr},updateWhileAnimating:{type:Boolean,default:!1},updateWhileInteracting:{type:Boolean,default:!1}}},wy=lr()(JC,[["render",GC]]);function qC(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var sc=new Uint8Array(4),QC=function(){function n(r,t){this.helper_=r;var e=r.getGL();this.texture_=e.createTexture(),this.framebuffer_=e.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return n.prototype.setSize=function(r){Object(K.b)(r,this.size_)||(this.size_[0]=r[0],this.size_[1]=r[1],this.updateSize_())},n.prototype.getSize=function(){return this.size_},n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},n.prototype.readAll=function(){if(this.dataCacheDirty_){var r=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,r[0],r[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},n.prototype.readPixel=function(r,t){if(r<0||t<0||r>this.size_[0]||t>=this.size_[1])return sc[0]=0,sc[1]=0,sc[2]=0,sc[3]=0,sc;this.readAll();var e=Math.floor(r)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return sc[0]=this.data_[e*4],sc[1]=this.data_[e*4+1],sc[2]=this.data_[e*4+2],sc[3]=this.data_[e*4+3],sc},n.prototype.getTexture=function(){return this.texture_},n.prototype.getFramebuffer=function(){return this.framebuffer_},n.prototype.updateSize_=function(){var r=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(r,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,r[0],r[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(r[0]*r[1]*4)},n}(),tL=QC,eL=u("7fd1"),rL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nL=function(n){rL(r,n);function r(t,e){var i=this,o=e.uniforms||{},s=mt();o[wd.PROJECTION_MATRIX]=s,i=n.call(this,t,{uniforms:o,postProcesses:e.postProcesses})||this,i.sourceRevision_=-1,i.verticesBuffer_=new i1(n1,r2),i.hitVerticesBuffer_=new i1(n1,r2),i.indicesBuffer_=new i1(e2,r2),i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.program_,i.hitDetectionEnabled_=!!(e.hitFragmentShader&&e.hitVertexShader),i.hitVertexShader_=e.hitVertexShader,i.hitFragmentShader_=e.hitFragmentShader,i.hitProgram_;var l=e.attributes?e.attributes.map(function(h){return{name:"a_"+h.name,size:1,type:c0.FLOAT}}):[];i.attributes=[{name:"a_position",size:2,type:c0.FLOAT},{name:"a_index",size:1,type:c0.FLOAT}].concat(l),i.hitDetectionAttributes=[{name:"a_position",size:2,type:c0.FLOAT},{name:"a_index",size:1,type:c0.FLOAT},{name:"a_hitColor",size:4,type:c0.FLOAT},{name:"a_featureUid",size:1,type:c0.FLOAT}].concat(l),i.customAttributes=e.attributes?e.attributes:[],i.previousExtent_=at(),i.currentTransform_=s,i.renderTransform_=mt(),i.invertRenderTransform_=mt(),i.renderInstructions_=new Float32Array(0),i.hitRenderInstructions_=new Float32Array(0),i.hitRenderTarget_,i.worker_=Object(eL.a)(),i.worker_.addEventListener("message",function(h){var v=h.data;if(v.type===ay.GENERATE_BUFFERS){var w=v.projectionTransform;v.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(v.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(v.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(v.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=w,_r(this.invertRenderTransform_,this.renderTransform_),v.hitDetection?this.hitRenderInstructions_=new Float32Array(h.data.renderInstructions):this.renderInstructions_=new Float32Array(h.data.renderInstructions),this.getLayer().changed()}}.bind(i)),i.featureCache_={},i.featureCount_=0;var f=i.getLayer().getSource();return i.sourceListenKeys_=[Object(Hr.a)(f,Is.ADDFEATURE,i.handleSourceFeatureAdded_,i),Object(Hr.a)(f,Is.CHANGEFEATURE,i.handleSourceFeatureChanged_,i),Object(Hr.a)(f,Is.REMOVEFEATURE,i.handleSourceFeatureDelete_,i),Object(Hr.a)(f,Is.CLEAR,i.handleSourceFeatureClear_,i)],f.forEachFeature(function(h){this.featureCache_[Object(Ot.c)(h)]={feature:h,properties:h.getProperties(),geometry:h.getGeometry()},this.featureCount_++}.bind(i)),i}return r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new tL(this.helper))},r.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(Ot.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},r.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(Ot.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},r.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(Ot.c)(e)],this.featureCount_--},r.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var o=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),o},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource(),o=t.viewState,s=!t.viewHints[Ui.ANIMATING]&&!t.viewHints[Ui.INTERACTING],l=!Pr(this.previousExtent_,t.extent),f=this.sourceRevision_<i.getRevision();if(f&&(this.sourceRevision_=i.getRevision()),s&&(l||f)){var h=o.projection,v=o.resolution,w=e instanceof f2?e.getRenderBuffer():0,R=Rt(t.extent,w*v);i.loadFeatures(R,v,h),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),ae(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},r.prototype.rebuildBuffers_=function(t){var e=mt();this.helper.makeProjectionTransform(t,e);var i=(2+this.customAttributes.length)*this.featureCount_;if((!this.renderInstructions_||this.renderInstructions_.length!==i)&&(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;(!this.hitRenderInstructions_||this.hitRenderInstructions_.length!==o)&&(this.hitRenderInstructions_=new Float32Array(o))}var s,l,f=[],h=[],v=0,w=0,R;for(var B in this.featureCache_)if(s=this.featureCache_[B],l=s.geometry,!(!l||l.getType()!==Ee.POINT)){f[0]=l.getFlatCoordinates()[0],f[1]=l.getFlatCoordinates()[1],ar(e,f),R=iR(w+6,h),this.renderInstructions_[v++]=f[0],this.renderInstructions_[v++]=f[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[w++]=f[0],this.hitRenderInstructions_[w++]=f[1],this.hitRenderInstructions_[w++]=R[0],this.hitRenderInstructions_[w++]=R[1],this.hitRenderInstructions_[w++]=R[2],this.hitRenderInstructions_[w++]=R[3],this.hitRenderInstructions_[w++]=Number(B));for(var V=void 0,et=0;et<this.customAttributes.length;et++)V=this.customAttributes[et].callback(s.feature,s.properties),this.renderInstructions_[v++]=V,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[w++]=V)}var vt={type:ay.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(vt.projectionTransform=e,this.worker_.postMessage(vt,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var Ct={type:ay.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};Ct.projectionTransform=e,Ct.hitDetection=!0,this.worker_.postMessage(Ct,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,s){if(ye(this.hitDetectionEnabled_,66),!!this.hitRenderInstructions_){var l=ar(e.coordinateToPixelTransform,t.slice()),f=this.hitRenderTarget_.readPixel(l[0]/2,l[1]/2),h=[f[0]/255,f[1]/255,f[2]/255,f[3]/255],v=oR(h),w=this.hitRenderInstructions_[v],R=Math.floor(w).toString(),B=this.getLayer().getSource(),V=B.getFeatureByUid(R);if(V)return o(V,this.getLayer(),null)}},r.prototype.renderHitDetection=function(t){if(!!this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},r.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object(Hr.c)(t)}),this.sourceListenKeys_=null,n.prototype.disposeInternal.call(this)},r}(V6),O8=nL,iL=function(){function n(){this.uniforms=[],this.attributes=[],this.varyings=[],this.sizeExpression="vec2(1.0)",this.rotationExpression="0.0",this.offsetExpression="vec2(0.0)",this.colorExpression="vec4(1.0)",this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression="false",this.rotateWithView=!1}return n.prototype.addUniform=function(r){return this.uniforms.push(r),this},n.prototype.addAttribute=function(r){return this.attributes.push(r),this},n.prototype.addVarying=function(r,t,e){return this.varyings.push({name:r,type:t,expression:e}),this},n.prototype.setSizeExpression=function(r){return this.sizeExpression=r,this},n.prototype.setRotationExpression=function(r){return this.rotationExpression=r,this},n.prototype.setSymbolOffsetExpression=function(r){return this.offsetExpression=r,this},n.prototype.setColorExpression=function(r){return this.colorExpression=r,this},n.prototype.setTextureCoordinateExpression=function(r){return this.texCoordExpression=r,this},n.prototype.setFragmentDiscardExpression=function(r){return this.discardExpression=r,this},n.prototype.setSymbolRotateWithView=function(r){return this.rotateWithView=r,this},n.prototype.getSizeExpression=function(){return this.sizeExpression},n.prototype.getOffsetExpression=function(){return this.offsetExpression},n.prototype.getColorExpression=function(){return this.colorExpression},n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression},n.prototype.getFragmentDiscardExpression=function(){return this.discardExpression},n.prototype.getSymbolVertexShader=function(r){var t=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",e=this.attributes,i=this.varyings;return r&&(e=e.concat("vec4 a_hitColor"),i=i.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform mat4 u_projectionMatrix;
uniform mat4 u_offsetScaleMatrix;
uniform mat4 u_offsetRotateMatrix;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(o){return"uniform "+o+";"}).join(`
`)+`
attribute vec2 a_position;
attribute float a_index;
`+e.map(function(o){return"attribute "+o+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+i.map(function(o){return"varying "+o.type+" "+o.name+";"}).join(`
`)+`
void main(void) {
  mat4 offsetMatrix = `+t+`;
  vec2 halfSize = `+this.sizeExpression+` * 0.5;
  vec2 offset = `+this.offsetExpression+`;
  float angle = `+this.rotationExpression+`;
  float offsetX;
  float offsetY;
  if (a_index == 0.0) {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  } else if (a_index == 1.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else if (a_index == 2.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  }
  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
  vec4 texCoord = `+this.texCoordExpression+`;
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;
  v_quadCoord = vec2(u, v);
`+i.map(function(o){return"  "+o.name+" = "+o.expression+";"}).join(`
`)+`
}`},n.prototype.getSymbolFragmentShader=function(r){var t=r?"  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;":"",e=this.varyings;return r&&(e=e.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(i){return"uniform "+i+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+e.map(function(i){return"varying "+i.type+" "+i.name+";"}).join(`
`)+`
void main(void) {
  if (`+this.discardExpression+`) { discard; }
  gl_FragColor = `+this.colorExpression+`;
  gl_FragColor.rgb *= gl_FragColor.a;
`+t+`
}`},n}();function oL(n){var r=n.symbol,t=r.size!==void 0?r.size:1,e=r.color||"white",i=r.textureCoord||[0,0,1,1],o=r.offset||[0,0],s=r.opacity!==void 0?r.opacity:1,l=r.rotation!==void 0?r.rotation:0,f={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},h=Pn(f,t,bn.NUMBER_ARRAY|bn.NUMBER),v=Pn(f,o,bn.NUMBER_ARRAY),w=Pn(f,i,bn.NUMBER_ARRAY),R=Pn(f,l,bn.NUMBER),B={inFragmentShader:!0,variables:f.variables,attributes:[],stringLiteralsMap:f.stringLiteralsMap,functions:{}},V=Pn(B,e,bn.COLOR),et=Pn(B,s,bn.NUMBER),vt="1.0",Ct="vec2("+Pn(B,t,bn.NUMBER_ARRAY|bn.NUMBER)+").x";switch(r.symbolType){case"square":break;case"image":break;case"circle":vt="(1.0-smoothstep(1.-4./"+Ct+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case"triangle":var kt="(v_quadCoord*2.-1.)",Ht="(atan("+kt+".x,"+kt+".y))";vt="(1.0-smoothstep(.5-3./"+Ct+",.5,cos(floor(.5+"+Ht+"/2.094395102)*2.094395102-"+Ht+")*length("+kt+")))";break;default:throw new Error("Unexpected symbol type: "+r.symbolType)}var Nt=new iL().setSizeExpression("vec2("+h+")").setRotationExpression(R).setSymbolOffsetExpression(v).setTextureCoordinateExpression(w).setSymbolRotateWithView(!!r.rotateWithView).setColorExpression("vec4("+V+".rgb, "+V+".a * "+et+" * "+vt+")");if(n.filter){var ve=Pn(B,n.filter,bn.BOOLEAN);Nt.setFragmentDiscardExpression("!"+ve)}var de={};if(B.variables.forEach(function(Se){var Fe=cy(Se);Nt.addUniform("float "+Fe),de[Fe]=function(){if(!n.variables||n.variables[Se]===void 0)throw new Error("The following variable is missing from the style: "+Se);var wr=n.variables[Se];return typeof wr=="string"&&(wr=l2(f,wr)),wr!==void 0?wr:-9999999}}),r.symbolType==="image"&&r.src){var Oe=new Image;Oe.src=r.src,Nt.addUniform("sampler2D u_texture").setColorExpression(Nt.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),de.u_texture=Oe}return B.attributes.forEach(function(Se){f.attributes.indexOf(Se)===-1&&f.attributes.push(Se),Nt.addVarying("v_"+Se,"float","a_"+Se)}),f.attributes.forEach(function(Se){Nt.addAttribute("float a_"+Se)}),{builder:Nt,attributes:f.attributes.map(function(Se){return{name:Se,callback:function(Fe,wr){var hr=wr[Se];return typeof hr=="string"&&(hr=l2(f,hr)),hr!==void 0?hr:-9999999}}}),uniforms:de}}var aL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sL=function(n){aL(r,n);function r(t){var e=this,i=Object(pn.a)({},t);return e=n.call(this,i)||this,e.parseResult_=oL(t.style),e.hitDetectionDisabled_=!!t.disableHitDetection,e}return r.prototype.createRenderer=function(){return new O8(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})},r}(O),lL=sL,uL={extends:Sd,name:"ol-webglpoints-layer",setup:function(r){var t=Object(F.inject)("map"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new lL(i)});return Object(F.watch)(i,function(){o.value.setProperties(i)}),Object(F.onMounted)(function(){t.addLayer(o.value)}),Object(F.onUnmounted)(function(){t.removeLayer(o.value)}),Object(F.provide)("webglPointsLayer",o),{webglPointsLayer:o}},props:{disableHitDetection:{type:Boolean,default:!1},style:{type:Object,default:function(){return{symbol:{symbolType:"circle",size:8,color:"#33AAFF",opacity:.9}}}}}},xy=lr()(uL,[["render",qC]]);function S2(n){S2.installed||(S2.installed=!0,n.component(Qm.name,Qm),n.component(hy.name,hy),n.component(dy.name,dy),n.component(Ey.name,Ey),n.component(wy.name,wy),n.component(xy.name,xy))}var cL=S2;function fL(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var hL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dL=function(n){hL(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},r.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),e=aR(t),i=e[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(s1(o.tileCoord)),o.release())}.bind(this))}},r}(x6),T8=dL,Oy={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},pL=[0,0,0],cf=5,vL=function(){function n(r){this.minZoom=r.minZoom!==void 0?r.minZoom:0,this.resolutions_=r.resolutions,ye(Object(K.g)(this.resolutions_,function(s,l){return l-s},!0),17);var t;if(!r.origins){for(var e=0,i=this.resolutions_.length-1;e<i;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=r.origin!==void 0?r.origin:null,this.origins_=null,r.origins!==void 0&&(this.origins_=r.origins,ye(this.origins_.length==this.resolutions_.length,20));var o=r.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=bi(o)),ye(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,r.tileSizes!==void 0&&(this.tileSizes_=r.tileSizes,ye(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=r.tileSize!==void 0?r.tileSize:this.tileSizes_?null:Sa,ye(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],r.sizes!==void 0?this.fullTileRanges_=r.sizes.map(function(s,l){var f=new Jm(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var h=this.getTileRangeForExtentAndZ(o,l);f.minX=Math.max(h.minX,f.minX),f.maxX=Math.min(h.maxX,f.maxX),f.minY=Math.max(h.minY,f.minY),f.maxY=Math.min(h.maxY,f.maxY)}return f},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(r,t,e){for(var i=this.getTileRangeForExtentAndZ(r,t),o=i.minX,s=i.maxX;o<=s;++o)for(var l=i.minY,f=i.maxY;l<=f;++l)e([t,o,l])},n.prototype.forEachTileCoordParentTileRange=function(r,t,e,i){var o,s,l,f=null,h=r[0]-1;for(this.zoomFactor_===2?(s=r[1],l=r[2]):f=this.getTileCoordExtent(r,i);h>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),l=Math.floor(l/2),o=Ed(s,s,l,l,e)):o=this.getTileRangeForExtentAndZ(f,h,e),t(h,o))return!0;--h}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},n.prototype.getResolution=function(r){return this.resolutions_[r]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(r,t,e){if(r[0]<this.maxZoom){if(this.zoomFactor_===2){var i=r[1]*2,o=r[2]*2;return Ed(i,i+1,o,o+1,t)}var s=this.getTileCoordExtent(r,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,r[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(r,t,e){if(t>this.maxZoom||t<this.minZoom)return null;var i=r[0],o=r[1],s=r[2];if(t===i)return Ed(o,s,o,s,e);if(this.zoomFactor_){var l=Math.pow(this.zoomFactor_,t-i),f=Math.floor(o*l),h=Math.floor(s*l);if(t<i)return Ed(f,f,h,h,e);var v=Math.floor(l*(o+1))-1,w=Math.floor(l*(s+1))-1;return Ed(f,v,h,w,e)}var R=this.getTileCoordExtent(r,this.tmpExtent_);return this.getTileRangeForExtentAndZ(R,t,e)},n.prototype.getTileRangeExtent=function(r,t,e){var i=this.getOrigin(r),o=this.getResolution(r),s=ua(this.getTileSize(r),this.tmpSize_),l=i[0]+t.minX*s[0]*o,f=i[0]+(t.maxX+1)*s[0]*o,h=i[1]+t.minY*s[1]*o,v=i[1]+(t.maxY+1)*s[1]*o;return $(l,h,f,v,e)},n.prototype.getTileRangeForExtentAndZ=function(r,t,e){var i=pL;this.getTileCoordForXYAndZ_(r[0],r[3],t,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],t,!0,i),Ed(o,i[1],s,i[2],e)},n.prototype.getTileCoordCenter=function(r){var t=this.getOrigin(r[0]),e=this.getResolution(r[0]),i=ua(this.getTileSize(r[0]),this.tmpSize_);return[t[0]+(r[1]+.5)*i[0]*e,t[1]-(r[2]+.5)*i[1]*e]},n.prototype.getTileCoordExtent=function(r,t){var e=this.getOrigin(r[0]),i=this.getResolution(r[0]),o=ua(this.getTileSize(r[0]),this.tmpSize_),s=e[0]+r[1]*o[0]*i,l=e[1]-(r[2]+1)*o[1]*i,f=s+o[0]*i,h=l+o[1]*i;return $(s,l,f,h,t)},n.prototype.getTileCoordForCoordAndResolution=function(r,t,e){return this.getTileCoordForXYAndResolution_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordForXYAndResolution_=function(r,t,e,i,o){var s=this.getZForResolution(e),l=e/this.getResolution(s),f=this.getOrigin(s),h=ua(this.getTileSize(s),this.tmpSize_),v=l*(r-f[0])/e/h[0],w=l*(f[1]-t)/e/h[1];return i?(v=Fa(v,cf)-1,w=Fa(w,cf)-1):(v=Vl(v,cf),w=Vl(w,cf)),o1(s,v,w,o)},n.prototype.getTileCoordForXYAndZ_=function(r,t,e,i,o){var s=this.getOrigin(e),l=this.getResolution(e),f=ua(this.getTileSize(e),this.tmpSize_),h=(r-s[0])/l/f[0],v=(s[1]-t)/l/f[1];return i?(h=Fa(h,cf)-1,v=Fa(v,cf)-1):(h=Vl(h,cf),v=Vl(v,cf)),o1(e,h,v,o)},n.prototype.getTileCoordForCoordAndZ=function(r,t,e){return this.getTileCoordForXYAndZ_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},n.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},n.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},n.prototype.getZForResolution=function(r,t){var e=Object(K.h)(this.resolutions_,r,t||0);return co(e,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(r){for(var t=this.resolutions_.length,e=new Array(t),i=this.minZoom;i<t;++i)e[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=e},n}(),Ty=vL;function b8(n){var r=n.getDefaultTileGrid();return r||(r=yL(n),n.setDefaultTileGrid(r)),r}function gL(n,r,t){var e=r[0],i=n.getTileCoordCenter(r),o=w2(t);if(he(o,i))return r;var s=en(o),l=Math.ceil((o[0]-i[0])/s);return i[0]+=s*l,n.getTileCoordForCoordAndZ(i,e)}function mL(n,r,t,e){var i=e!==void 0?e:Vt.TOP_LEFT,o=M8(n,r,t);return new Ty({extent:n,origin:Na(n,i),resolutions:o,tileSize:t})}function A8(n){var r=n||{},t=r.extent||Gn("EPSG:3857").getExtent(),e={extent:t,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:M8(t,r.maxZoom,r.tileSize,r.maxResolution)};return new Ty(e)}function M8(n,r,t,e){for(var i=r!==void 0?r:nl,o=on(n),s=en(n),l=ua(t!==void 0?t:Sa),f=e>0?e:Math.max(s/l[0],o/l[1]),h=i+1,v=new Array(h),w=0;w<h;++w)v[w]=f/Math.pow(2,w);return v}function yL(n,r,t,e){var i=w2(n);return mL(i,r,t,e)}function w2(n){n=Gn(n);var r=n.getExtent();if(!r){var t=180*aa[Yi.DEGREES]/n.getMetersPerUnit();r=$(-t,-t,t,t)}return r}var R8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_L=function(n){R8(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;e.on,e.once,e.un,e.opaque_=t.opaque!==void 0?t.opaque:!1,e.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,e.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256],o=t.tileGrid;return o&&ua(o.getTileSize(o.getMinZoom()),i),e.tileCache=new T8(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition,interpolate:t.interpolate},e.zDirection=t.zDirection?t.zDirection:0,e}return r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},r.prototype.forEachLoadedTile=function(t,e,i,o){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var l=!0,f,h,v,w=i.minX;w<=i.maxX;++w)for(var R=i.minY;R<=i.maxY;++R)h=a1(e,w,R),v=!1,s.containsKey(h)&&(f=s.get(h),v=f.getState()===cn.LOADED,v&&(v=o(f)!==!1)),v||(l=!1);return l},r.prototype.getGutterForProjection=function(t){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},r.prototype.getOpaque=function(t){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(t,e,i,o,s){return Object(Ot.b)()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:b8(t)},r.prototype.getTileCacheForProjection=function(t){return ye(mo(this.getProjection(),t),68),this.tileCache},r.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(t,e,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(e),l=ua(o.getTileSize(t),this.tmpSize);return s==1?l:r0(l,s,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=e!==void 0?e:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=gL(o,t,i)),sR(t,o)?t:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},r.prototype.useTile=function(t,e,i,o){},r}(_2),EL=function(n){R8(r,n);function r(t,e){var i=n.call(this,t)||this;return i.tile=e,i}return r}(sr.a),C8=_L;function SL(n,r){var t=/\{z\}/g,e=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,l,f){if(s)return n.replace(t,s[0].toString()).replace(e,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var h=s[0],v=r.getFullTileRange(h);ye(v,55);var w=v.getHeight()-s[2]-1;return w.toString()})}}function wL(n,r){for(var t=n.length,e=new Array(t),i=0;i<t;++i)e[i]=SL(n[i],r);return x2(e)}function x2(n){return n.length===1?n[0]:function(r,t,e){if(r){var i=W6(r),o=Us(i,n.length);return n[o](r,t,e)}else return}}function L8(n){var r=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var e=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=e;o<=i;++o)r.push(n.replace(t[0],String.fromCharCode(o)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),l=parseInt(t[1],10);l<=s;l++)r.push(n.replace(t[0],l.toString()));return r}return r.push(n),r}var xL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OL=function(n){xL(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===r.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(t){var e=t.target,i=Object(Ot.c)(e),o=e.getState(),s;o==cn.LOADING?(this.tileLoadingKeys_[i]=!0,s=Oy.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=o==cn.ERROR?Oy.TILELOADERROR:o==cn.LOADED?Oy.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new EL(s,e))},r.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},r.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e!="undefined"?this.setKey(e):this.changed()},r.prototype.setUrl=function(t){var e=L8(t);this.urls=e,this.setUrls(e)},r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(wL(t,this.tileGrid),e):this.setKey(e)},r.prototype.tileUrlFunction=function(t,e,i){},r.prototype.useTile=function(t,e,i){var o=a1(t,e,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},r}(C8),TL=OL,bL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AL=function(n){bL(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:ML,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,e.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,e.tileClass=t.tileClass!==void 0?t.tileClass:ey,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.renderReprojectionEdges_=!1,e}return r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(var o in this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?e:{})}},r.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!mo(this.getProjection(),t)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},r.prototype.getOpaque=function(t){return this.getProjection()&&t&&!mo(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},r.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(this.tileGrid&&(!e||mo(e,t)))return this.tileGrid;var i=Object(Ot.c)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=b8(t)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||mo(e,t))return this.tileCache;var i=Object(Ot.c)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new T8(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(t,e,i,o,s,l){var f=[t,e,i],h=this.getTileCoordForTileUrlFunction(f,s),v=h?this.tileUrlFunction(h,o,s):void 0,w=new this.tileClass(f,v!==void 0?cn.IDLE:cn.EMPTY,v!==void 0?v:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return w.key=l,w.addEventListener(un.a.CHANGE,this.handleTileChange.bind(this)),w},r.prototype.getTile=function(t,e,i,o,s){var l=this.getProjection();if(!l||!s||mo(l,s))return this.getTileInternal(t,e,i,o,l||s);var f=this.getTileCacheForProjection(s),h=[t,e,i],v=void 0,w=s1(h);f.containsKey(w)&&(v=f.get(w));var R=this.getKey();if(v&&v.key==R)return v;var B=this.getTileGridForProjection(l),V=this.getTileGridForProjection(s),et=this.getTileCoordForTileUrlFunction(h,s),vt=new P6(l,B,s,V,h,et,this.getTilePixelRatio(o),this.getGutter(),function(Ct,kt,Ht,Nt){return this.getTileInternal(Ct,kt,Ht,Nt,l)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return vt.key=R,v?(vt.interimTile=v,vt.refreshInterimChain(),f.replace(w,vt)):f.set(w,vt),vt},r.prototype.getTileInternal=function(t,e,i,o,s){var l=null,f=a1(t,e,i),h=this.getKey();if(!this.tileCache.containsKey(f))l=this.createTile_(t,e,i,o,s,h),this.tileCache.set(f,l);else if(l=this.tileCache.get(f),l.key!=h){var v=l;l=this.createTile_(t,e,i,o,s,h),v.getState()==cn.IDLE?l.interimTile=v.interimTile:l.interimTile=v,l.refreshInterimChain(),this.tileCache.replace(f,l)}return l},r.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},r.prototype.setTileGridForProjection=function(t,e){{var i=Gn(t);if(i){var o=Object(Ot.c)(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},r}(TL);function ML(n,r){n.getImage().src=r}var O2=AL,RL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CL=function(n){RL(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var s=i.projection!==void 0?i.projection:"EPSG:3857",l=i.tileGrid!==void 0?i.tileGrid:A8({extent:w2(s),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return e=n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:i.opaque,projection:s,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:l,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this,e}return r}(O2),P8=CL,LL={name:"ol-source-xyz",setup:function(r){var t=Object(F.inject)("tileLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new P8(i)});return Object(F.watch)(o,function(){t.value.setSource(o.value)}),Object(F.watch)(t,function(){t.value.setSource(o.value)}),Object(F.onMounted)(function(){t.value.setSource(o.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:[String,Array]},url:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},opaque:{type:Boolean},projection:{type:String,default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tileSize:{type:Array,default:function(){return[256,256]}},tilePixelRatio:{type:Number,default:1},tileKey:{type:String},transition:{type:Number},tileGrid:{type:Object}}},by=lr()(LL,[["render",fL]]);function PL(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var IL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),NL='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',FL=function(n){IL(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var s;i.attributions!==void 0?s=i.attributions:s=[NL];var l=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",f=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e=n.call(this,{attributions:s,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:l,interpolate:o,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:f,wrapX:i.wrapX,zDirection:i.zDirection})||this,e}return r}(P8),DL=FL,jL={name:"ol-source-osm",setup:function(r){var t=Object(F.inject)("tileLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new DL(i)});return Object(F.watch)(o,function(){t.value.setSource(o.value)}),Object(F.watch)(t,function(){t.value.setSource(o.value)}),Object(F.onMounted)(function(){t.value.setSource(o.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String,default:"anonymous"},imageSmoothing:{type:Boolean,default:!0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{type:Number,default:.5},transition:{type:Number,default:250},url:{type:String,default:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0}}},Ay=lr()(jL,[["render",PL]]);function GL(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var BL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UL=function(n){BL(r,n);function r(t,e,i,o,s,l,f){var h=this,v=t.getExtent(),w=e.getExtent(),R=w?rn(i,w):i,B=zn(R),V=r1(t,e,B,o),et=A6,vt=new R6(t,e,R,v,V*et,o),Ct=vt.calculateSourceExtent(),kt=l(Ct,V,s),Ht=kt?Ni.IDLE:Ni.EMPTY,Nt=kt?kt.getPixelRatio():1;return h=n.call(this,i,o,Nt,Ht)||this,h.targetProj_=e,h.maxSourceExtent_=v,h.triangulation_=vt,h.targetResolution_=o,h.targetExtent_=i,h.sourceImage_=kt,h.sourcePixelRatio_=Nt,h.interpolate_=f,h.canvas_=null,h.sourceListenerKey_=null,h}return r.prototype.disposeInternal=function(){this.state==Ni.LOADING&&this.unlistenSource_(),n.prototype.disposeInternal.call(this)},r.prototype.getImage=function(){return this.canvas_},r.prototype.getProjection=function(){return this.targetProj_},r.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Ni.LOADED){var e=en(this.targetExtent_)/this.targetResolution_,i=on(this.targetExtent_)/this.targetResolution_;this.canvas_=L6(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},r.prototype.load=function(){if(this.state==Ni.IDLE){this.state=Ni.LOADING,this.changed();var t=this.sourceImage_.getState();t==Ni.LOADED||t==Ni.ERROR?this.reproject_():(this.sourceListenerKey_=Object(Hr.a)(this.sourceImage_,un.a.CHANGE,function(e){var i=this.sourceImage_.getState();(i==Ni.LOADED||i==Ni.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},r.prototype.unlistenSource_=function(){Object(Hr.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},r}(T6),kL=UL,I8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),My={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},Ry=function(n){I8(r,n);function r(t,e){var i=n.call(this,t)||this;return i.image=e,i}return r}(sr.a),zL=function(n){I8(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:i})||this,e.on,e.once,e.un,e.resolutions_=t.resolutions!==void 0?t.resolutions:null,e.reprojectedImage_=null,e.reprojectedRevision_=0,e}return r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(K.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},r.prototype.getImage=function(t,e,i,o){var s=this.getProjection();if(!s||!o||mo(s,o))return s&&(o=s),this.getImageInternal(t,e,i,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&mo(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==e&&Pr(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new kL(s,o,t,e,i,function(l,f,h){return this.getImageInternal(l,f,h,s)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},r.prototype.getImageInternal=function(t,e,i,o){return Object(Ot.b)()},r.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Ni.LOADING:this.loading=!0,this.dispatchEvent(new Ry(My.IMAGELOADSTART,e));break;case Ni.LOADED:this.loading=!1,this.dispatchEvent(new Ry(My.IMAGELOADEND,e));break;case Ni.ERROR:this.loading=!1,this.dispatchEvent(new Ry(My.IMAGELOADERROR,e));break}},r}(_2);function N8(n,r){n.getImage().src=r}var F8=zL,VL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WL=function(n){VL(r,n);function r(t){var e=this,i=t.crossOrigin!==void 0?t.crossOrigin:null,o=t.imageLoadFunction!==void 0?t.imageLoadFunction:N8,s=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(s=t.interpolate),e=n.call(this,{attributions:t.attributions,interpolate:s,projection:Gn(t.projection)})||this,e.url_=t.url,e.imageExtent_=t.imageExtent,e.image_=new b6(e.imageExtent_,void 0,1,e.url_,i,o),e.imageSize_=t.imageSize?t.imageSize:null,e.image_.addEventListener(un.a.CHANGE,e.handleImageChange.bind(e)),e}return r.prototype.getImageExtent=function(){return this.imageExtent_},r.prototype.getImageInternal=function(t,e,i,o){return Ti(t,this.image_.getExtent())?this.image_:null},r.prototype.getUrl=function(){return this.url_},r.prototype.handleImageChange=function(t){if(this.image_.getState()==Ni.LOADED){var e=this.image_.getExtent(),i=this.image_.getImage(),o=void 0,s=void 0;this.imageSize_?(o=this.imageSize_[0],s=this.imageSize_[1]):(o=i.width,s=i.height);var l=en(e),f=on(e),h=l/o,v=f/s,w=o,R=s;if(h>v?w=Math.round(l/v):R=Math.round(f/h),w!==o||R!==s){var B=Object(ur.a)(w,R);this.getInterpolate()||Object(pn.a)(B,e1);var V=B.canvas;B.drawImage(i,0,0,o,s,0,0,V.width,V.height),this.image_.setImage(V)}}n.prototype.handleImageChange.call(this,t)},r}(F8),HL=WL,YL={name:"ol-source-image-static",setup:function(r){var t=Object(F.inject)("imageLayer"),e=Dr(r),i=e.properties,o=function(){return new HL(or(or({},i),{},{projection:typeof i.projection=="string"?i.projection:new Ga(or({},i.projection))}))},s=o();return Object(F.watch)(i,function(){t.setSource(null),s=o(),t.setSource(s)}),Object(F.onMounted)(function(){t.setSource(s)}),Object(F.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:s}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object]},imageSmoothing:{type:Boolean,default:!0},imageSize:{type:Array},url:{type:String}}},Cy=lr()(YL,[["render",GL]]);function XL(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var T2={KVP:"KVP",REST:"REST"};function Td(n,r){var t=[];Object.keys(r).forEach(function(i){r[i]!==null&&r[i]!==void 0&&t.push(i+"="+encodeURIComponent(r[i]))});var e=t.join("&");return n=n.replace(/[?&]$/,""),n=n.indexOf("?")===-1?n+"?":n+"&",n+e}var KL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$L=function(n){KL(r,n);function r(t){var e=n.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return e.matrixIds_=t.matrixIds,e}return r.prototype.getMatrixId=function(t){return this.matrixIds_[t]},r.prototype.getMatrixIds=function(){return this.matrixIds_},r}(Ty),Ly=$L,ZL=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JL=function(n){ZL(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);var o=t.requestEncoding!==void 0?t.requestEncoding:T2.KVP,s=t.tileGrid,l=t.urls;return l===void 0&&t.url!==void 0&&(l=L8(t.url)),e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:l,wrapX:t.wrapX!==void 0?t.wrapX:!1,transition:t.transition,zDirection:t.zDirection})||this,e.version_=t.version!==void 0?t.version:"1.0.0",e.format_=t.format!==void 0?t.format:"image/jpeg",e.dimensions_=t.dimensions!==void 0?t.dimensions:{},e.layer_=t.layer,e.matrixSet_=t.matrixSet,e.style_=t.style,e.requestEncoding_=o,e.setKey(e.getKeyForDimensions_()),l&&l.length>0&&(e.tileUrlFunction=x2(l.map(e.createFromWMTSTemplate.bind(e)))),e}return r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.setTileUrlFunction(x2(t.map(this.createFromWMTSTemplate.bind(this))),e)},r.prototype.getDimensions=function(){return this.dimensions_},r.prototype.getFormat=function(){return this.format_},r.prototype.getLayer=function(){return this.layer_},r.prototype.getMatrixSet=function(){return this.matrixSet_},r.prototype.getRequestEncoding=function(){return this.requestEncoding_},r.prototype.getStyle=function(){return this.style_},r.prototype.getVersion=function(){return this.version_},r.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},r.prototype.updateDimensions=function(t){Object(pn.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},r.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==T2.KVP&&Object(pn.a)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==T2.KVP?Td(t,i):t.replace(/\{(\w+?)\}/g,function(l,f){return f.toLowerCase()in i?i[f.toLowerCase()]:l});var o=this.tileGrid,s=this.dimensions_;return function(l,f,h){if(l){var v={TileMatrix:o.getMatrixId(l[0]),TileCol:l[1],TileRow:l[2]};Object(pn.a)(v,s);var w=t;return e==T2.KVP?w=Td(w,v):w=w.replace(/\{(\w+?)\}/g,function(R,B){return v[B]}),w}else return}},r}(O2),D8=JL,qL={name:"ol-source-wmts",setup:function(r){var t=Object(F.inject)("tileLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return Gn(i.projection).getExtent()}),s=Object(F.computed)(function(){return bi(o.value)}),l=Object(F.computed)(function(){return en(o.value)/256}),f=Object(F.computed)(function(){for(var v=new Array(14),w=new Array(14),R=0;R<14;++R)v[R]=l.value/Math.pow(2,R),w[R]=R;return new Ly({origin:s.value,resolutions:v,matrixIds:w})}),h=Object(F.computed)(function(){return new D8(or(or({},i),{},{projection:typeof i.projection=="string"?i.projection:new Ga(or({},i.projection)),tileGrid:f.value}))});return Object(F.watch)(h,function(){t.value.setSource(h.value)}),Object(F.watch)(t,function(){t.value.setSource(h.value)}),Object(F.onMounted)(function(){t.value.setSource(h.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),{tileLayer:t,source:h}},props:{attributions:{type:String},cacheSize:{type:Number},crossOrigin:{type:String},imageSmoothing:{type:Boolean,default:!0},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tilePixelRatio:{type:Number,default:1},format:{type:String,default:"image/jpeg"},version:{type:String,default:"1.0.0"},matrixSet:{type:String},dimensions:{type:Object},requestEncoding:{type:String,default:"KVP"},url:{type:String},urls:{type:Array},wrapX:{type:Boolean,default:!1},transition:{type:Number},layer:{type:String},style:{type:String}}},Py=lr()(qL,[["render",XL]]);function QL(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var tP={name:"ol-source-vector",setup:function(r){var t=Object(F.inject)("vectorLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new bc(i)}),s=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(F.watch)(i,function(){s()}),Object(F.watch)(t,function(){s()}),Object(F.onMounted)(function(){t.value.setSource(o.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),Object(F.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},Iy=lr()(tP,[["render",QL]]);function eP(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var rP={name:"ol-source-cluster",setup:function(r){var t=Object(F.inject)("vectorLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){var l=new x8(i);return l}),s=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(F.watch)(i,function(){s()}),Object(F.watch)(t,function(){s()}),Object(F.onMounted)(function(){t.value.setSource(o.value),t.value.changed()}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),Object(F.provide)("vectorLayer",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},distance:{type:Number,default:20},geometryFunction:{type:Function,default:function(r){return r.getGeometry()}},wrapX:{type:Boolean,default:!0}}},Ny=lr()(rP,[["render",eP]]);function nP(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var iP=u("e4e0"),oP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function aP(n){var r=n[0],t=new Array(r),e=1<<r-1,i,o;for(i=0;i<r;++i)o=48,n[1]&e&&(o+=1),n[2]&e&&(o+=2),t[i]=String.fromCharCode(o),e>>=1;return t.join("")}var sP='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',lP=function(n){oP(r,n);function r(t){var e=this,i=t.hidpi!==void 0?t.hidpi:!1,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(o=t.interpolate),e=n.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:o,opaque:!0,projection:Gn("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:li.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,e.hidpi_=i,e.culture_=t.culture!==void 0?t.culture:"en-us",e.maxZoom_=t.maxZoom!==void 0?t.maxZoom:-1,e.apiKey_=t.key,e.imagerySet_=t.imagerySet;var s="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+e.apiKey_+"&c="+e.culture_;return Object(iP.a)(s,e.handleImageryMetadataResponse.bind(e),void 0,"jsonp"),e}return r.prototype.getApiKey=function(){return this.apiKey_},r.prototype.getImagerySet=function(){return this.imagerySet_},r.prototype.handleImageryMetadataResponse=function(t){if(t.statusCode!=200||t.statusDescription!="OK"||t.authenticationResultCode!="ValidCredentials"||t.resourceSets.length!=1||t.resourceSets[0].resources.length!=1){this.setState(li.ERROR);return}var e=t.resourceSets[0].resources[0],i=this.maxZoom_==-1?e.zoomMax:this.maxZoom_,o=this.getProjection(),s=w2(o),l=this.hidpi_?2:1,f=e.imageWidth==e.imageHeight?e.imageWidth/l:[e.imageWidth/l,e.imageHeight/l],h=A8({extent:s,minZoom:e.zoomMin,maxZoom:i,tileSize:f});this.tileGrid=h;var v=this.culture_,w=this.hidpi_;if(this.tileUrlFunction=x2(e.imageUrlSubdomains.map(function(B){var V=[0,0,0],et=e.imageUrl.replace("{subdomain}",B).replace("{culture}",v);return function(vt,Ct,kt){if(vt){o1(vt[0],vt[1],vt[2],V);var Ht=et;return w&&(Ht+="&dpi=d1&device=mobile"),Ht.replace("{quadkey}",aP(V))}else return}})),e.imageryProviders){var R=ul(Gn("EPSG:4326"),this.getProjection());this.setAttributions(function(B){var V=[],et=B.viewState,vt=this.getTileGrid(),Ct=vt.getZForResolution(et.resolution,this.zDirection),kt=vt.getTileCoordForCoordAndZ(et.center,Ct),Ht=kt[0];return e.imageryProviders.map(function(Nt){for(var ve=!1,de=Nt.coverageAreas,Oe=0,Se=de.length;Oe<Se;++Oe){var Fe=de[Oe];if(Ht>=Fe.zoomMin&&Ht<=Fe.zoomMax){var wr=Fe.bbox,hr=[wr[1],wr[0],wr[3],wr[2]],Ke=Ts(hr,R);if(Ti(Ke,B.extent)){ve=!0;break}}}ve&&V.push(Nt.attribution)}),V.push(sP),V}.bind(this))}this.setState(li.READY)},r}(O2),uP=lP,cP={name:"ol-source-bingmaps",setup:function(r){var t=Object(F.inject)("tileLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new uP(or(or({},i),{},{key:i.apiKey}))});return Object(F.watch)(o,function(){t.value.setSource(o.value)}),Object(F.watch)(t,function(){t.value.setSource(o.value)}),Object(F.onMounted)(function(){t.value.setSource(o.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{cacheSize:{type:Number},hidpi:{type:Boolean,default:!1},culture:{type:String,default:"en-us"},apiKey:{type:String},imagerySet:{type:String},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number,default:.5},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},j8=lr()(cP,[["render",nP]]);function fP(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}u("d9e2");function hP(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function G8(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function dP(n,r,t){return r&&G8(n.prototype,r),t&&G8(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function B8(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function b2(n,r){return b2=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},b2(n,r)}function pP(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&b2(n,r)}u("4ae1"),u("f8c9"),u("3410");function A2(n){return A2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A2(n)}function U8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}u("e01a"),u("d28b"),u("e260"),u("3ca3"),u("ddb0");function Fy(n){return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fy(n)}function vP(n,r){if(r&&(Fy(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B8(n)}function gP(n){var r=U8();return function(){var e=A2(n),i;if(r){var o=A2(this).constructor;i=Reflect.construct(e,arguments,o)}else i=e.apply(this,arguments);return vP(this,i)}}u("99af"),u("ac1f"),u("5319");var mP=function(n){pP(t,n);var r=gP(t);function t(e){var i;hP(this,t),t.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},t.layerZoomMap={vec:18,ter:14,img:18};var o=e||{};o.layerType=o.layerType||"vec",o.layerType=o.isLabel?t.layerLabelMap[o.layerType]:o.layerType,o.matrixSet=o.projection==="EPSG:4326"||o.projection==="EPSG:4490"?"c":"w",!o.url&&!o.urls&&(o.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),o.tk&&(o.url="".concat(o.url,"tk=").concat(o.tk)),o.url=o.url.replace("{layer}",o.layerType).replace("{proj}",o.matrixSet);var s=o.tileGrid||t.getTileGrid(o.projection||"EPSG:3857"),l=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",f={version:o.version||"1.0.0",format:o.format||"tiles",dimensions:o.dimensions||{},layer:o.layerType,matrixSet:o.matrixSet,tileGrid:s,style:o.style||"default",cacheSize:o.cacheSize,crossOrigin:l,opaque:o.opaque===void 0?!0:o.opaque,maxZoom:t.layerZoomMap[o.layerType],reprojectionErrorThreshold:o.reprojectionErrorThreshold,url:o.url,urls:o.urls,projection:o.projection||"EPSG:3857",wrapX:o.wrapX};o.tileProxy&&(f.tileLoadFunction=v),i=r.call(this,f),o.tileProxy&&(i.tileProxy=o.tileProxy);var h=B8(i);function v(w,R){w.getImage().src=h.tileProxy+encodeURIComponent(R)}return i}return dP(t,null,[{key:"getTileGrid",value:function(i){return i==="EPSG:4326"||i==="EPSG:4490"?t.default4326TileGrid():t.default3857TileGrid()}},{key:"default4326TileGrid",value:function(){for(var i=[],o=[],s=1;s<19;s++)i.push(.703125*2/Math.pow(2,s)),o.push(s);var l=new Ly({extent:[-180,-90,180,90],resolutions:i,origin:[-180,90],matrixIds:o,minZoom:1});return l}},{key:"default3857TileGrid",value:function(){for(var i=[],o=[],s=1;s<19;s++)i.push(78271.51696402031*2/Math.pow(2,s)),o.push(s);var l=new Ly({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:i,matrixIds:o,origin:[-200375083427892e-7,200375083427892e-7],minZoom:1});return l}}]),t}(D8),yP={name:"ol-source-tianditu",setup:function(r){var t=Object(F.inject)("tileLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new mP(i)});return Object(F.watch)(o,function(){t.value.setSource(o.value)}),Object(F.watch)(t,function(){t.value.setSource(o.value)}),Object(F.onMounted)(function(){t.value.setSource(o.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{layerType:{type:String,default:"img"},tk:{type:String},isLabel:{type:Boolean,default:!1},cacheSize:{type:Number},crossOrigin:{type:String},projection:{Type:String,default:"EPSG:3857"},hidpi:{type:Boolean,default:!1},requestEncoding:{type:String,default:"KVP"},format:{type:String},version:{type:String,default:"1.0.0"},culture:{type:String,default:"en-us"},matrixSet:{type:String},dimensions:{type:Object,default:function(){}},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},Dy=lr()(yP,[["render",fP]]);function _P(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var ff="1.3.0",hf={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},EP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),df=4,k8=[101,101],SP=function(n){EP(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;return i.interpolate!==void 0&&(o=i.interpolate),e=n.call(this,{attributions:i.attributions,interpolate:o,projection:i.projection,resolutions:i.resolutions})||this,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null,e.url_=i.url,e.imageLoadFunction_=i.imageLoadFunction!==void 0?i.imageLoadFunction:N8,e.params_=i.params||{},e.v13_=!0,e.updateV13_(),e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.image_=null,e.imageSize_=[0,0],e.renderedRevision_=0,e.ratio_=i.ratio!==void 0?i.ratio:1.5,e}return r.prototype.getFeatureInfoUrl=function(t,e,i,o){if(this.url_!==void 0){var s=Gn(i),l=this.getProjection();l&&l!==s&&(e=r1(l,s,t,e),t=$n(t,s,l));var f=Ji(t,e,0,k8),h={SERVICE:"WMS",VERSION:ff,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(pn.a)(h,this.params_,o);var v=Vl((t[0]-f[0])/e,df),w=Vl((f[3]-t[1])/e,df);return h[this.v13_?"I":"X"]=v,h[this.v13_?"J":"Y"]=w,this.getRequestUrl_(f,k8,1,l||s,h)}},r.prototype.getLegendUrl=function(t,e){if(this.url_!==void 0){var i={SERVICE:"WMS",VERSION:ff,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,s=!Array.isArray(o)||o.length===1;if(!s)return;i.LAYER=o}if(t!==void 0){var l=this.getProjection()?this.getProjection().getMetersPerUnit():1,f=28e-5;i.SCALE=t*l/f}return Object(pn.a)(i,e),Td(this.url_,i)}},r.prototype.getParams=function(){return this.params_},r.prototype.getImageInternal=function(t,e,i,o){if(this.url_===void 0)return null;e=this.findNearestResolution(e),i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);var s=e/i,l=zn(t),f=Fa(en(t)/s,df),h=Fa(on(t)/s,df),v=Ji(l,s,0,[f,h]),w=Fa(this.ratio_*en(t)/s,df),R=Fa(this.ratio_*on(t)/s,df),B=Ji(l,s,0,[w,R]),V=this.image_;if(V&&this.renderedRevision_==this.getRevision()&&V.getResolution()==e&&V.getPixelRatio()==i&&Pe(V.getExtent(),v))return V;var et={SERVICE:"WMS",VERSION:ff,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(pn.a)(et,this.params_),this.imageSize_[0]=Sc(en(B)/s,df),this.imageSize_[1]=Sc(on(B)/s,df);var vt=this.getRequestUrl_(B,this.imageSize_,i,o,et);return this.image_=new b6(B,e,i,vt,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(un.a.CHANGE,this.handleImageChange.bind(this)),this.image_},r.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},r.prototype.getRequestUrl_=function(t,e,i,o,s){if(ye(this.url_!==void 0,9),s[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(s.STYLES=""),i!=1)switch(this.serverType_){case hf.GEOSERVER:var l=90*i+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+l:s.FORMAT_OPTIONS="dpi:"+l;break;case hf.MAPSERVER:s.MAP_RESOLUTION=90*i;break;case hf.CARMENTA_SERVER:case hf.QGIS:s.DPI=90*i;break;default:ye(!1,8);break}s.WIDTH=e[0],s.HEIGHT=e[1];var f=o.getAxisOrientation(),h;return this.v13_&&f.substr(0,2)=="ne"?h=[t[1],t[0],t[3],t[2]]:h=t,s.BBOX=h.join(","),Td(this.url_,s)},r.prototype.getUrl=function(){return this.url_},r.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},r.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},r.prototype.updateParams=function(t){Object(pn.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},r.prototype.updateV13_=function(){var t=this.params_.VERSION||ff;this.v13_=N(t,"1.3")>=0},r}(F8),wP=SP,xP={name:"ol-source-image-wms",setup:function(r){var t=Object(F.inject)("imageLayer"),e=Dr(r),i=e.properties,o=function(){return new wP(or(or({},i),{},{params:{LAYERS:r.layers,STYLES:r.styles,TIME:r.time},projection:typeof i.projection=="string"?i.projection:new Ga(or({},i.projection))}))},s=o();return Object(F.watch)(i,function(){t.setSource(null),s=o(),t.setSource(s)}),Object(F.onMounted)(function(){t.setSource(s)}),Object(F.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:s}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},format:{type:String,default:"image/png"},version:{type:String,default:"1.3.0"},matrixSet:{type:String},serverType:{type:String,default:"mapserver"},imageSmoothing:{type:Boolean,default:!0},layers:{type:[String,Array],required:!0},styles:{type:[String,Array],default:""},time:{type:String},ratio:{type:Number,default:1},imageSize:{type:Array},url:{type:String},params:{type:Object}}},jy=lr()(xP,[["render",_P]]);function OP(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var TP={name:"ol-source-webglpoints",setup:function(r){var t=Object(F.inject)("webglPointsLayer"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new bc(i)}),s=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(F.watch)(i,function(){s()}),Object(F.watch)(t,function(){s()}),Object(F.onMounted)(function(){t.value.setSource(o.value)}),Object(F.onUnmounted)(function(){t.value.setSource(null)}),Object(F.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},Gy=lr()(TP,[["render",OP]]);function M2(n){M2.installed||(M2.installed=!0,n.component(by.name,by),n.component(Ay.name,Ay),n.component(Cy.name,Cy),n.component(Py.name,Py),n.component(Iy.name,Iy),n.component(Ny.name,Ny),n.component(j8.name,j8),n.component(Dy.name,Dy),n.component(jy.name,jy),n.component(Gy.name,Gy))}var bP=M2;function AP(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var MP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z8=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],V8={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},RP=function(n){MP(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.on,e.once,e.un,e.cssClassName_=i.className!==void 0?i.className:"ol-full-screen",e.documentListeners_=[],e.activeClassName_=i.activeClassName!==void 0?i.activeClassName.split(" "):[e.cssClassName_+"-true"],e.inactiveClassName_=i.inactiveClassName!==void 0?i.inactiveClassName.split(" "):[e.cssClassName_+"-false"];var o=i.label!==void 0?i.label:"\u2922";e.labelNode_=typeof o=="string"?document.createTextNode(o):o;var s=i.labelActive!==void 0?i.labelActive:"\xD7";e.labelActiveNode_=typeof s=="string"?document.createTextNode(s):s,e.button_=document.createElement("button");var l=i.tipLabel?i.tipLabel:"Toggle full-screen";return e.button_.setAttribute("type","button"),e.button_.title=l,e.button_.appendChild(e.labelNode_),e.button_.addEventListener(un.a.CLICK,e.handleClick_.bind(e),!1),e.element.className=e.cssClassName_+" "+vr+" "+Jt,e.element.appendChild(e.button_),e.keys_=i.keys!==void 0?i.keys:!1,e.source_=i.source,e.isInFullscreen_=!1,e.boundHandleMapTargetChange_=e.handleMapTargetChange_.bind(e),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},r.prototype.handleFullScreen_=function(){var t=this.getMap();if(!!t){var e=t.getOwnerDocument();if(!!W8(e))if(H8(e))LP(e);else{var i=void 0;this.source_?i=typeof this.source_=="string"?e.getElementById(this.source_):this.source_:i=t.getTargetElement(),this.keys_?CP(i):Y8(i)}}},r.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(!!t){var e=this.isInFullscreen_;this.isInFullscreen_=H8(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Object(ur.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(V8.ENTERFULLSCREEN)):(Object(ur.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(V8.LEAVEFULLSCREEN)),t.updateSize())}},r.prototype.setClassName_=function(t,e){var i,o,s,l=this.activeClassName_,f=this.inactiveClassName_,h=e?l:f;(i=t.classList).remove.apply(i,l),(o=t.classList).remove.apply(o,f),(s=t.classList).add.apply(s,h)},r.prototype.setMap=function(t){var e=this.getMap();e&&e.removeChangeListener($i.TARGET,this.boundHandleMapTargetChange_),n.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener($i.TARGET,this.boundHandleMapTargetChange_)},r.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,e=0,i=t.length;e<i;++e)Object(Hr.c)(t[e]);t.length=0;var o=this.getMap();if(o){var s=o.getOwnerDocument();W8(s)?this.element.classList.remove(Zt):this.element.classList.add(Zt);for(var e=0,i=z8.length;e<i;++e)t.push(Object(Hr.a)(s,z8[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},r}(no.default);function W8(n){var r=n.body;return!!(r.webkitRequestFullscreen||r.msRequestFullscreen&&n.msFullscreenEnabled||r.requestFullscreen&&n.fullscreenEnabled)}function H8(n){return!!(n.webkitIsFullScreen||n.msFullscreenElement||n.fullscreenElement)}function Y8(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function CP(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():Y8(n)}function LP(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}var PP=RP;function By(n,r){(r==null||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function IP(n){if(Array.isArray(n))return By(n)}u("a630");function NP(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}u("fb6a"),u("00b4");function FP(n,r){if(!!n){if(typeof n=="string")return By(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return By(n,r)}}function DP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8(n){return IP(n)||NP(n)||FP(n)||DP()}u("4e82"),u("c740"),u("a434");function Ss(n,r,t){var e=Object(F.inject)("map"),i=Object(F.inject)("controlBar",null),o=i!=null?i.value:e,s=Dr(r),l=s.properties,f=Object(F.computed)(function(){return new n(or({},l))});return f.value.set("order",t.attrs.order==null?0:t.attrs.order),Object(F.watch)(f,function(h,v){o.removeControl&&(o.removeControl(v),o.addControl(h),e.changed())}),Object(F.onMounted)(function(){if(o.addControl(f.value),o.controls_!=null){var h=X8(o.controls_);h.sort(function(v,w){return v.get("order")-w.get("order")}),o.controls_=[],h.forEach(function(v){o.addControl(v)}),o.changed()}e.changed()}),Object(F.onUnmounted)(function(){if(o.removeControl)o.removeControl(f.value);else{var h=o.controls_.findIndex(function(v){return v==f.value});o.controls_.splice(h,1),f.value.dispose()}e.changed()}),{map:e,control:f}}var jP={name:"ol-fullscreen-control",setup:function(r,t){var e=Ss(PP,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-full-screen"},label:{type:String,default:"\u2922"},labelActive:{type:String,default:"\xD7"},activeClassName:{type:String,default:"ol-full-screen-true"},inactiveClassName:{type:String,default:"ol-full-screen-false"},tipLabel:{type:String,default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{type:Object,default:void 0},source:{type:Object,default:void 0}}},Uy=lr()(jP,[["render",AP]]);function GP(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var BP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ky="projection",K8="coordinateFormat",UP=function(n){BP(r,n);function r(t){var e=this,i=t||{},o=document.createElement("div");o.className=i.className!==void 0?i.className:"ol-mouse-position",e=n.call(this,{element:o,render:i.render,target:i.target})||this,e.on,e.once,e.un,e.addChangeListener(ky,e.handleProjectionChanged_),i.coordinateFormat&&e.setCoordinateFormat(i.coordinateFormat),i.projection&&e.setProjection(i.projection);var s=!0,l="&#160;";return"undefinedHTML"in i?(i.undefinedHTML!==void 0&&(l=i.undefinedHTML),s=!!l):"placeholder"in i&&(i.placeholder===!1?s=!1:l=String(i.placeholder)),e.placeholder_=l,e.renderOnMouseOut_=s,e.renderedHTML_=o.innerHTML,e.mapProjection_=null,e.transform_=null,e}return r.prototype.handleProjectionChanged_=function(){this.transform_=null},r.prototype.getCoordinateFormat=function(){return this.get(K8)},r.prototype.getProjection=function(){return this.get(ky)},r.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},r.prototype.handleMouseOut=function(t){this.updateHTML_(null)},r.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var e=t.getViewport();this.listenerKeys.push(Object(Hr.a)(e,ta.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(Hr.a)(e,ta.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},r.prototype.setCoordinateFormat=function(t){this.set(K8,t)},r.prototype.setProjection=function(t){this.set(ky,Gn(t))},r.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();i?this.transform_=ul(this.mapProjection_,i):this.transform_=Tl}var o=this.getMap(),s=o.getCoordinateFromPixelInternal(t);if(s){var l=j();l&&(this.transform_=ul(this.mapProjection_,l)),this.transform_(s,s);var f=this.getCoordinateFormat();f?e=f(s):e=s.toString()}}(!this.renderedHTML_||e!==this.renderedHTML_)&&(this.element.innerHTML=e,this.renderedHTML_=e)},r.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},r}(no.default),kP=UP,zP={name:"ol-mouseposition-control",setup:function(r,t){var e=Ss(kP,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-mouse-position"},coordinateFormat:{type:[String,Function]},projection:{type:String},render:{type:Function},target:{type:HTMLElement},undefinedHTML:{type:String,default:"&#160;"}}},zy=lr()(zP,[["render",GP]]);function VP(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var WP={name:"ol-attribution-control",setup:function(r,t){var e=Ss(Qf,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-attribution"},target:{type:HTMLElement},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{type:String,default:"Attributions"},label:{type:String,default:"i"},expandClassName:{type:String,default:"ol-attribution-expand"},collapseLabel:{type:String,default:"\xBB"},collapseClassName:{type:String,default:"ol-attribution-collapse"},render:{type:Function}}},Vy=lr()(WP,[["render",VP]]);function HP(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var $8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wy=.75,R2=.1,YP=function(n){$8(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.createRenderer=function(){return new zi(this)},r}(Mp),XP=function(n){$8(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.boundHandleRotationChanged_=e.handleRotationChanged_.bind(e),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1),e.rotateWithView_=i.rotateWithView!==void 0?i.rotateWithView:!1,e.viewExtent_=void 0;var o=i.className!==void 0?i.className:"ol-overviewmap",s=i.tipLabel!==void 0?i.tipLabel:"Overview map",l=i.collapseLabel!==void 0?i.collapseLabel:"\u2039";typeof l=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=l):e.collapseLabel_=l;var f=i.label!==void 0?i.label:"\u203A";typeof f=="string"?(e.label_=document.createElement("span"),e.label_.textContent=f):e.label_=f;var h=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_,v=document.createElement("button");v.setAttribute("type","button"),v.title=s,v.appendChild(h),v.addEventListener(un.a.CLICK,e.handleClick_.bind(e),!1),e.ovmapDiv_=document.createElement("div"),e.ovmapDiv_.className="ol-overviewmap-map",e.view_=i.view,e.ovmap_=new YP({view:i.view});var w=e.ovmap_;i.layers&&i.layers.forEach(function(ve){w.addLayer(ve)});var R=document.createElement("div");R.className="ol-overviewmap-box",R.style.boxSizing="border-box",e.boxOverlay_=new tc({position:[0,0],positioning:ea.CENTER_CENTER,element:R}),e.ovmap_.addOverlay(e.boxOverlay_);var B=o+" "+vr+" "+Jt+(e.collapsed_&&e.collapsible_?" "+Le:"")+(e.collapsible_?"":" ol-uncollapsible"),V=e.element;V.className=B,V.appendChild(e.ovmapDiv_),V.appendChild(v);var et=e,vt=e.boxOverlay_,Ct=e.boxOverlay_.getElement(),kt=function(ve){return{clientX:ve.clientX,clientY:ve.clientY}},Ht=function(ve){var de=kt(ve),Oe=w.getEventCoordinateInternal(de);vt.setPosition(Oe)},Nt=function(ve){var de=w.getEventCoordinateInternal(ve);et.getMap().getView().setCenterInternal(de),window.removeEventListener("mousemove",Ht),window.removeEventListener("mouseup",Nt)};return Ct.addEventListener("mousedown",function(){window.addEventListener("mousemove",Ht),window.addEventListener("mouseup",Nt)}),e}return r.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var i=e.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(n.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(Hr.a)(t,ze.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},r.prototype.handleMapPropertyChange_=function(t){if(t.key===$i.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(t.key===$i.TARGET||t.key===$i.SIZE)&&this.ovmap_.updateSize()},r.prototype.bindView_=function(t){if(!this.view_){var e=new lo({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(sa.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},r.prototype.unbindView_=function(t){t.removeChangeListener(sa.ROTATION,this.boundHandleRotationChanged_)},r.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},r.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),o=t.getView(),s=o.calculateExtentInternal(i);if(!(this.viewExtent_&&Pr(s,this.viewExtent_))){this.viewExtent_=s;var l=e.getSize(),f=e.getView(),h=f.calculateExtentInternal(l),v=e.getPixelFromCoordinateInternal(bi(s)),w=e.getPixelFromCoordinateInternal(uo(s)),R=Math.abs(v[0]-w[0]),B=Math.abs(v[1]-w[1]),V=l[0],et=l[1];R<V*R2||B<et*R2||R>V*Wy||B>et*Wy?this.resetExtent_():Pe(h,s)||this.recenter_()}}},r.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),o=t.getView(),s=o.calculateExtentInternal(i),l=e.getView(),f=Math.log(Wy/R2)/Math.LN2,h=1/(Math.pow(2,f/2)*R2);ei(s,h),l.fitInternal(Jl(s))},r.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView(),o=e.getView();o.setCenterInternal(i.getCenterInternal())},r.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),o=t.getView(),s=e.getView(),l=this.rotateWithView_?0:-o.getRotation(),f=this.boxOverlay_,h=this.boxOverlay_.getElement(),v=o.getCenterInternal(),w=o.getResolution(),R=s.getResolution(),B=i[0]*w/R,V=i[1]*w/R;if(f.setPosition(v),h){h.style.width=B+"px",h.style.height=V+"px";var et="rotate("+l+"rad)";h.style.transform=et}}},r.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(Hr.b)(this.ovmap_,Un.a.POSTRENDER,function(t){delete this.ovmapPostrenderKey_,this.updateBox_()},this))},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},r.prototype.handleToggle_=function(){this.element.classList.toggle(Le),this.collapsed_?Object(ur.g)(this.collapseLabel_,this.label_):Object(ur.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered()){this.viewExtent_=void 0,t.render();return}t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){!this.collapsible_||this.collapsed_===t||this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},r.prototype.getOverviewMap=function(){return this.ovmap_},r.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},r}(no.default),KP=XP,$P={name:"ol-overviewmap-control",setup:function(r,t){var e=Object(F.inject)("map"),i=Ss(KP,r,t),o=i.control;return Object(F.onMounted)(function(){o.value.setMap(e)}),Object(F.onUnmounted)(function(){o.value.setMap(null)}),Object(F.provide)("overviewMap",o),{control:o}},props:{className:{type:String,default:"ol-overviewmap"},collapsed:{type:Boolean,default:!0},collapseLabel:{type:String,default:"\xAB"},collapsible:{type:Boolean,default:!0},label:{type:String,default:"\xBB"},render:{type:Function},rotateWithView:{type:Boolean,default:!1},target:{type:HTMLElement},tipLabel:{type:String,default:"Overview map"}}},Hy=lr()($P,[["render",HP]]);function ZP(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var JP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yy="units",dh={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},qP=[1,2,5],Xy=25.4/.28,QP=function(n){JP(r,n);function r(t){var e=this,i=t||{},o=i.className!==void 0?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.on,e.once,e.un,e.innerElement_=document.createElement("div"),e.innerElement_.className=o+"-inner",e.element.className=o+" "+vr,e.element.appendChild(e.innerElement_),e.viewState_=null,e.minWidth_=i.minWidth!==void 0?i.minWidth:64,e.renderedVisible_=!1,e.renderedWidth_=void 0,e.renderedHTML_="",e.addChangeListener(Yy,e.handleUnitsChanged_),e.setUnits(i.units||dh.METRIC),e.scaleBar_=i.bar||!1,e.scaleBarSteps_=i.steps||4,e.scaleBarText_=i.text||!1,e.dpi_=i.dpi||void 0,e}return r.prototype.getUnits=function(){return this.get(Yy)},r.prototype.handleUnitsChanged_=function(){this.updateElement_()},r.prototype.setUnits=function(t){this.set(Yy,t)},r.prototype.setDpi=function(t){this.dpi_=t},r.prototype.updateElement_=function(){var t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=t.center,i=t.projection,o=this.getUnits(),s=o==dh.DEGREES?Yi.DEGREES:Yi.METERS,l=Tu(i,t.resolution,e,s),f=this.minWidth_*(this.dpi_||Xy)/Xy,h=f*l,v="";if(o==dh.DEGREES){var w=aa[Yi.DEGREES];h*=w,h<w/60?(v="\u2033",l*=3600):h<w?(v="\u2032",l*=60):v="\xB0"}else o==dh.IMPERIAL?h<.9144?(v="in",l/=.0254):h<1609.344?(v="ft",l/=.3048):(v="mi",l/=1609.344):o==dh.NAUTICAL?(l/=1852,v="nm"):o==dh.METRIC?h<.001?(v="\u03BCm",l*=1e6):h<1?(v="mm",l*=1e3):h<1e3?v="m":(v="km",l/=1e3):o==dh.US?h<.9144?(v="in",l*=39.37):h<1609.344?(v="ft",l/=.30480061):(v="mi",l/=1609.3472):ye(!1,33);for(var R=3*Math.floor(Math.log(f*l)/Math.log(10)),B,V,et;;){et=Math.floor(R/3);var vt=Math.pow(10,et);if(B=qP[(R%3+3)%3]*vt,V=Math.round(B/l),isNaN(V)){this.element.style.display="none",this.renderedVisible_=!1;return}else if(V>=f)break;++R}var Ct;this.scaleBar_?Ct=this.createScaleBar(V,B,v):Ct=B.toFixed(et<0?-et:0)+" "+v,this.renderedHTML_!=Ct&&(this.innerElement_.innerHTML=Ct,this.renderedHTML_=Ct),this.renderedWidth_!=V&&(this.innerElement_.style.width=V+"px",this.renderedWidth_=V),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)},r.prototype.createScaleBar=function(t,e,i){for(var o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),s=[],l=t/this.scaleBarSteps_,f="#ffffff",h=0;h<this.scaleBarSteps_;h++)h===0&&s.push(this.createMarker("absolute",h)),s.push('<div><div class="ol-scale-singlebar" style="width: '+l+"px;background-color: "+f+';"></div>'+this.createMarker("relative",h)+(h%2===0||this.scaleBarSteps_===2?this.createStepText(h,t,!1,e,i):"")+"</div>"),h===this.scaleBarSteps_-1&&s.push(this.createStepText(h+1,t,!0,e,i)),f==="#ffffff"?f="#000000":f="#ffffff";var v;this.scaleBarText_?v='<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":v="";var w='<div style="display: flex;">'+v+s.join("")+"</div>";return w},r.prototype.createMarker=function(t,e){var i=t==="absolute"?3:-10;return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+i+'px;"></div>'},r.prototype.createStepText=function(t,e,i,o,s){var l=t===0?0:Math.round(o/this.scaleBarSteps_*t*100)/100,f=l+(t===0?"":" "+s),h=t===0?-3:e/this.scaleBarSteps_*-1,v=t===0?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+h+"px;text-align: "+(t===0?"left":"center")+"; min-width: "+v+"px;left: "+(i?e+"px":"unset")+';">'+f+"</div>"},r.prototype.getScaleForResolution=function(){var t=Tu(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,Yi.METERS),e=this.dpi_||Xy,i=1e3/25.4;return parseFloat(t.toString())*i*e},r.prototype.render=function(t){var e=t.frameState;e?this.viewState_=e.viewState:this.viewState_=null,this.updateElement_()},r}(no.default),tI=QP,eI={name:"ol-scaleline-control",setup:function(r,t){var e=Ss(tI,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-scale-line"},minWidth:{type:Number,default:64},render:{type:Function},target:{type:HTMLElement},units:{type:String,default:"metric"},bar:{type:Boolean,default:!1},steps:{type:Number,default:4},text:{type:Boolean,default:!1},dpi:{type:Number,default:void 0}}},Ky=lr()(eI,[["render",ZP]]);function rI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var nI={name:"ol-zoom-control",setup:function(r,t){var e=Ss(eh,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:250},className:{type:String,default:"ol-zoom"},zoomInClassName:{type:String,default:"ol-zoom-in"},zoomOutClassName:{type:String,default:"ol-zoom-out"},zoomInLabel:{type:String,default:"+"},zoomOutLabel:{type:String,default:"-"},zoomInTipLabel:{type:String,default:"Zoom in"},zoomOutTipLabel:{type:String,default:"Zoom Out"},delta:{type:Number,default:1},target:{type:HTMLElement}}},$y=lr()(nI,[["render",rI]]);function iI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var oI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),h1={VERTICAL:0,HORIZONTAL:1},aI=function(n){oI(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render})||this,e.dragListenerKeys_=[],e.currentResolution_=void 0,e.direction_=h1.VERTICAL,e.dragging_,e.heightLimit_=0,e.widthLimit_=0,e.startX_,e.startY_,e.thumbSize_=null,e.sliderInitialized_=!1,e.duration_=i.duration!==void 0?i.duration:200;var o=i.className!==void 0?i.className:"ol-zoomslider",s=document.createElement("button");s.setAttribute("type","button"),s.className=o+"-thumb "+vr;var l=e.element;return l.className=o+" "+vr+" "+Jt,l.appendChild(s),l.addEventListener(ta.POINTERDOWN,e.handleDraggerStart_.bind(e),!1),l.addEventListener(ta.POINTERMOVE,e.handleDraggerDrag_.bind(e),!1),l.addEventListener(ta.POINTERUP,e.handleDraggerEnd_.bind(e),!1),l.addEventListener(un.a.CLICK,e.handleContainerClick_.bind(e),!1),s.addEventListener(un.a.CLICK,sr.b,!1),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),t&&t.render()},r.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight;if(e===0&&i===0)return this.sliderInitialized_=!1;var o=getComputedStyle(t);e-=parseFloat(o.paddingRight)+parseFloat(o.paddingLeft),i-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom);var s=t.firstElementChild,l=getComputedStyle(s),f=s.offsetWidth+parseFloat(l.marginRight)+parseFloat(l.marginLeft),h=s.offsetHeight+parseFloat(l.marginTop)+parseFloat(l.marginBottom);return this.thumbSize_=[f,h],e>i?(this.direction_=h1.HORIZONTAL,this.widthLimit_=e-f):(this.direction_=h1.VERTICAL,this.heightLimit_=i-h),this.sliderInitialized_=!0},r.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),o=this.getResolutionForPosition_(i),s=e.getConstrainedZoom(e.getZoomForResolution(o));e.animateInternal({zoom:s,duration:this.duration_,easing:Vr})},r.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){var i=this.handleDraggerDrag_,o=this.handleDraggerEnd_,s=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(Hr.a)(s,ta.POINTERMOVE,i,this),Object(Hr.a)(s,ta.POINTERUP,o,this))}}},r.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,o=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_)}},r.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(Hr.c),this.dragListenerKeys_.length=0}},r.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==h1.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},r.prototype.getRelativePosition_=function(t,e){var i;return this.direction_===h1.HORIZONTAL?i=t/this.widthLimit_:i=e/this.heightLimit_,co(i,0,1)},r.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},r.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return co(1-e(t),0,1)},r.prototype.render=function(t){if(!!t.frameState&&!(!this.sliderInitialized_&&!this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},r}(no.default),sI=aI,lI={name:"ol-zoomslider-control",setup:function(r,t){var e=Ss(sI,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:200},className:{type:String,default:"ol-zoomslider"},render:{type:Function}}},Zy=lr()(lI,[["render",iI]]);function uI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var cI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fI=function(n){cI(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.extent=i.extent?i.extent:null;var o=i.className!==void 0?i.className:"ol-zoom-extent",s=i.label!==void 0?i.label:"E",l=i.tipLabel!==void 0?i.tipLabel:"Fit to extent",f=document.createElement("button");f.setAttribute("type","button"),f.title=l,f.appendChild(typeof s=="string"?document.createTextNode(s):s),f.addEventListener(un.a.CLICK,e.handleClick_.bind(e),!1);var h=o+" "+vr+" "+Jt,v=e.element;return v.className=h,v.appendChild(f),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),i=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(Jl(i))},r}(no.default),hI=fI,dI={name:"ol-zoomtoextent-control",setup:function(r,t){var e=Ss(hI,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-zoom-extent"},target:{type:HTMLElement},label:{type:String,default:"E"},tipLabel:{type:String,default:"Fit to extent"},extent:{type:Array}}},Jy=lr()(dI,[["render",uI]]);function pI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var vI={name:"ol-rotate-control",setup:function(r,t){var e=Ss(th,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-rotate"},label:{type:String,default:"\u21E7"},tipLabel:{type:String,default:"Reset rotation"},compassClassName:{type:String,default:"ol-compass"},duration:{type:Number,default:250},autoHide:{type:Boolean,default:!1},render:{type:Function},resetNorth:{type:Function},target:{type:HTMLElement}}},Z8=lr()(vI,[["render",pI]]);function gI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var mI=u("658f"),yI=u.n(mI),_I={name:"ol-context-menu",setup:function(r,t){var e=Ss(yI.a,r,t),i=e.control;return{control:i}},props:{eventType:{type:String,default:"contextmenu"},defaultItems:{type:Boolean,default:!0},width:{type:Number,default:150},items:{type:Array,default:function(){return[]}}}},qy=lr()(_I,[["render",gI]]);function EI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var iu=function(n){n=n||{};var r=document.createElement("button"),t=document.createElement("div");t.className=(n.className||"ol-swipe")+" ol-unselectable ol-control",t.appendChild(r),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),no.default.call(this,{element:t}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],n.layers&&this.addLayer(n.layers,!1),n.rightLayers&&this.addLayer(n.rightLayers,!0),this.on("propertychange",function(e){if(this.getMap())try{this.getMap().renderSync()}catch{}this.get("orientation")==="horizontal"?(this.element.style.top=this.get("position")*100+"%",this.element.style.left=""):(this.get("orientation")!=="vertical"&&this.set("orientation","vertical"),this.element.style.left=this.get("position")*100+"%",this.element.style.top=""),e.key==="orientation"&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach(function(i){i.layer.getImageRatio&&i.layer.changed()})}.bind(this)),this.set("position",n.position||.5),this.set("orientation",n.orientation||"vertical")};Oo(iu,no.default),iu.prototype.setMap=function(n){var r,t;if(this.getMap()){for(r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.un(["precompose","prerender"],this.precomposeRight_):t.layer.un(["precompose","prerender"],this.precomposeLeft_),t.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}if(no.default.prototype.setMap.call(this,n),n){for(this._listener=[],r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.on(["precompose","prerender"],this.precomposeRight_):t.layer.on(["precompose","prerender"],this.precomposeLeft_),t.layer.on(["postcompose","postrender"],this.postcompose_);try{n.renderSync()}catch{}}},iu.prototype.isLayer_=function(n){for(var r=0;r<this.layers.length;r++)if(this.layers[r].layer===n)return r;return-1},iu.prototype.addLayer=function(n,r){n instanceof Array||(n=[n]);for(var t=0;t<n.length;t++){var e=n[t];if(this.isLayer_(e)<0&&(this.layers.push({layer:e,right:r}),this.getMap())){r?e.on(["precompose","prerender"],this.precomposeRight_):e.on(["precompose","prerender"],this.precomposeLeft_),e.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}}},iu.prototype.removeLayers=function(){var n=[];this.layers.forEach(function(r){n.push(r.layer)}),this.removeLayer(n)},iu.prototype.removeLayer=function(n){n instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var t=this.isLayer_(n[r]);t>=0&&this.getMap()&&(this.layers[t].right?n[r].un(["precompose","prerender"],this.precomposeRight_):n[r].un(["precompose","prerender"],this.precomposeLeft_),n[r].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(t,1))}if(this.getMap())try{this.getMap().renderSync()}catch{}},iu.prototype.getRectangle=function(){var n;return this.get("orientation")==="vertical"?(n=this.getMap().getSize(),[0,0,n[0]*this.get("position"),n[1]]):(n=this.getMap().getSize(),[0,0,n[0],n[1]*this.get("position")])},iu.prototype.move=function(n){var r=this,t;switch(this._movefn||(this._movefn=this.move.bind(this)),n.type){case"touchcancel":case"touchend":case"mouseup":{r.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(l){document.removeEventListener(l,r._movefn)}),this.layers.forEach(function(l){l.layer.getImageRatio&&l.layer.changed()});break}case"mousedown":case"touchstart":r.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(l){document.addEventListener(l,r._movefn)});case"mousemove":case"touchmove":{if(r.isMoving)if(r.get("orientation")==="vertical"){var e=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX;if(!e)break;e-=r.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,t=r.getMap().getSize()[0];var i=t-Math.min(Math.max(0,t-e),t);t=i/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[i,r.getMap().getSize()[1]],position:[t,0]})}else{var o=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY;if(!o)break;o-=r.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,t=r.getMap().getSize()[1];var s=t-Math.min(Math.max(0,t-o),t);t=s/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[r.getMap().getSize()[0],s],position:[0,t]})}break}}},iu.prototype._transformPt=function(n,r){var t=n.inversePixelTransform,e=r[0],i=r[1];return r[0]=t[0]*e+t[2]*i+t[4],r[1]=t[1]*e+t[3]*i+t[5],r},iu.prototype._drawRect=function(n,r){var t=n.inversePixelTransform;if(t){var e=[[r[0][0],r[0][1]],[r[0][0],r[1][1]],[r[1][0],r[1][1]],[r[1][0],r[0][1]],[r[0][0],r[0][1]]];if(n.context.save(),n.target.getImageRatio){var i=-Math.atan2(n.frameState.pixelToCoordinateTransform[1],n.frameState.pixelToCoordinateTransform[0]);n.context.translate(n.frameState.size[0]/2,n.frameState.size[1]/2),n.context.rotate(i),n.context.translate(-n.frameState.size[0]/2,-n.frameState.size[1]/2)}e.forEach(function(s,l){s=[s[0]*t[0]-s[1]*t[1]+t[4],-s[0]*t[2]+s[1]*t[3]+t[5]],l?n.context.lineTo(s[0],s[1]):n.context.moveTo(s[0],s[1])}),n.context.restore()}else{var o=n.frameState.pixelRatio;n.context.rect(r[0][0]*o,r[0][1]*o,r[1][0]*o,r[1][1]*o)}},iu.prototype.precomposeLeft=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),o=i[0]-e[0],s=i[1]-e[1];this.get("orientation")==="vertical"?o=Math.round(o*this.get("position")):(s=Math.round(s*this.get("position")),e[1]+=t[1]-s),r.scissor(e[0],e[1],o,s)}}else{var l=n.frameState.size;r.save(),r.beginPath();var f=[[0,0],[l[0],l[1]]];this.get("orientation")==="vertical"?f[1]=[l[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),l[1]]:f[1]=[l[0],l[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,f),r.clip()}},iu.prototype.precomposeRight=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),o=i[0]-e[0],s=i[1]-e[1];this.get("orientation")==="vertical"?(o=Math.round(o*(1-this.get("position"))),e[0]+=t[0]-o):s=Math.round(s*(1-this.get("position"))),r.scissor(e[0],e[1],o,s)}}else{var l=n.frameState.size;r.save(),r.beginPath();var f=[[0,0],[l[0],l[1]]];this.get("orientation")==="vertical"?f[0]=[l[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),0]:f[0]=[0,l[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,f),r.clip()}},iu.prototype.postcompose=function(n){if(n.context instanceof WebGLRenderingContext){if(n.type==="postrender"){var r=n.context;r.disable(r.SCISSOR_TEST)}}else n.target.getClassName&&n.target.getClassName()!=="ol-layer"&&n.target.get("declutter")?setTimeout(function(){n.context.restore()},0):n.context.restore()};var SI=iu,wI={name:"ol-swipe-control",setup:function(r,t){var e=Ss(SI,r,t),i=e.control,o=Object(F.toRefs)(r),s=o.layerList;return s.value.forEach(function(l,f){i.value.addLayer(l,f==1)}),{control:i}},props:{layerList:{type:Array},className:{type:String,default:"ol-swipe"},position:{type:Number,default:.5},orientation:{type:String,default:"vertical"}}},Qy=lr()(wI,[["render",EI]]);function xI(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var Gu=function(n){n||(n={});var r=document.createElement("div");if(r.classList.add("ol-unselectable","ol-control","ol-bar"),n.className){var t=n.className.split(" ").filter(function(i){return i.length>0});r.classList.add.apply(r.classList,t)}if(n.group&&r.classList.add("ol-group"),no.default.call(this,{element:r,target:n.target}),this.set("toggleOne",n.toggleOne),this.set("autoDeactivate",n.autoDeactivate),this.controls_=[],n.controls instanceof Array)for(var e=0;e<n.controls.length;e++)this.addControl(n.controls[e])};Oo(Gu,no.default),Gu.prototype.setVisible=function(n){n?this.element.style.display="":this.element.style.display="none"},Gu.prototype.getVisible=function(){return this.element.style.display!="none"},Gu.prototype.setMap=function(n){no.default.prototype.setMap.call(this,n);for(var r=0;r<this.controls_.length;r++){var t=this.controls_[r];t.setMap(n)}},Gu.prototype.getControls=function(){return this.controls_},Gu.prototype.setPosition=function(n){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),n=n.split("-");for(var r=0;r<n.length;r++)switch(n[r]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+n[r]);break}},Gu.prototype.addControl=function(n){this.controls_.push(n),n.setTarget(this.element),this.getMap()&&this.getMap().addControl(n),n.on("change:active",function(r){this.onActivateControl_(r,n)}.bind(this)),n.getActive&&this.onActivateControl_({target:n,active:n.getActive()},n)},Gu.prototype.deactivateControls=function(n){for(var r=0;r<this.controls_.length;r++)this.controls_[r]!==n&&this.controls_[r].setActive&&this.controls_[r].setActive(!1)},Gu.prototype.getActiveControls=function(){for(var n=[],r=0,t;t=this.controls_[r];r++)t.getActive&&t.getActive()&&n.push(t);return n},Gu.prototype.setActive=function(n){if(!n&&this.get("autoDeactivate")&&this.deactivateControls(),n)for(var r=this.getControls(),t=0,e;e=r[t];t++)e.get("autoActivate")&&e.setActive(!0)},Gu.prototype.onActivateControl_=function(n,r){if(this.get("toggleOne")){if(n.active){var t;for(t=0;t<this.controls_.length&&this.controls_[t]!==r;t++);if(t==this.controls_.length)return;this.deactivateControls(this.controls_[t])}else if(!this.getActiveControls().length){for(var e=0,i;i=this.controls_[e];e++)if(i.get("autoActivate")){i.setActive(!0);break}}}},Gu.prototype.getControlsByName=function(n){var r=this.getControls();return r.filter(function(t){return t.get("name")===n})};var OI=Gu,TI={name:"ol-control-bar",setup:function(r,t){var e=Ss(OI,r,t),i=e.control;return Object(F.provide)("controlBar",i),{control:i}},props:{toggleOne:{type:Boolean,default:!0},group:{type:Boolean,default:!0}}},t5=lr()(TI,[["render",xI]]);function bI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}window.ol&&(ol.ext.input={});var bd=function(n){n=n||{},go.a.call(this);var r=this.input=n.input;r||(r=this.input=document.createElement("INPUT"),n.type&&r.setAttribute("type",n.type),n.min!==void 0&&r.setAttribute("min",n.min),n.max!==void 0&&r.setAttribute("max",n.max),n.step!==void 0&&r.setAttribute("step",n.step),n.parent&&n.parent.appendChild(r)),n.disabled&&(r.disabled=!0),n.checked!==void 0&&(r.checked=!!n.checked),n.val!==void 0&&(r.value=n.val),n.hidden&&(r.style.display="none")};Oo(bd,go.a),bd.prototype._listenDrag=function(n,r){var t=function(e){this.moving=!0;var i=function(o){o.type==="pointerup"&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",i),document.removeEventListener("pointercancel",i),setTimeout(function(){this.moving=!1}.bind(this))),o.target===n&&r(o),o.stopPropagation(),o.preventDefault()}.bind(this);document.addEventListener("pointermove",i,!1),document.addEventListener("pointerup",i,!1),document.addEventListener("pointercancel",i,!1),e.stopPropagation(),e.preventDefault()}.bind(this);n.addEventListener("mousedown",t,!1),n.addEventListener("touchstart",t,!1)},bd.prototype.setValue=function(n){n!==void 0&&(this.input.value=n),this.input.dispatchEvent(new Event("change"))},bd.prototype.getValue=function(){return this.input.value},bd.prototype.getInputElement=function(){return this.input};var J8=bd,e5=function(n){n=n||{},J8.call(this,n);var r=this.element=document.createElement("LABEL");n.html instanceof Element?r.appendChild(n.html):n.html!==void 0&&(r.innerHTML=n.html),r.className=("ol-ext-check ol-ext-checkbox"+(n.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(r,this.input),r.appendChild(this.input),r.appendChild(document.createElement("SPAN")),n.after&&r.appendChild(document.createTextNode(n.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};Oo(e5,J8),e5.prototype.isChecked=function(){return this.input.checked};var d1=e5,q8=function(n){n=n||{},d1.call(this,n),this.element.className=("ol-ext-toggle-switch "+(n.className||"")).trim()};Oo(q8,d1);var AI=q8,Q8=function(n,r){r=r||{},d1.call(this,n,r),this.element.className=("ol-ext-check ol-ext-radio"+(r.className||"")).trim()};Oo(Q8,d1);var MI=Q8,to={};to.create=function(n,r){r=r||{};var t;if(n==="TEXT")t=document.createTextNode(r.html||""),r.parent&&r.parent.appendChild(t);else{t=document.createElement(n),/button/i.test(n)&&t.setAttribute("type","button");for(var e in r)switch(e){case"className":{r.className&&r.className.trim&&t.setAttribute("class",r.className.trim());break}case"html":{r.html instanceof Element?t.appendChild(r.html):r.html!==void 0&&(t.innerHTML=r.html);break}case"parent":{r.parent&&r.parent.appendChild(t);break}case"options":{if(/select/i.test(n))for(var i in r.options)to.create("OPTION",{html:i,value:r.options[i],parent:t});break}case"style":{this.setStyle(t,r.style);break}case"change":case"click":{to.addListener(t,e,r[e]);break}case"on":{for(var o in r.on)to.addListener(t,o,r.on[o]);break}case"checked":{t.checked=!!r.checked;break}default:{t.setAttribute(e,r[e]);break}}}return t},to.createSwitch=function(n){var r=to.create("INPUT",{type:"checkbox",on:n.on,click:n.click,change:n.change,parent:n.parent}),t=Object.assign({input:r},n||{});return new AI(t),r},to.createCheck=function(n){var r=to.create("INPUT",{name:n.name,type:n.type==="radio"?"radio":"checkbox",on:n.on,parent:n.parent});console.log(r);var t=Object.assign({input:r},n||{});return n.type==="radio"?new MI(t):new d1(t),r},to.setHTML=function(n,r){r instanceof Element?n.appendChild(r):r!==void 0&&(n.innerHTML=r)},to.appendText=function(n,r){n.appendChild(document.createTextNode(r||""))},to.addListener=function(n,r,t,e){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(i){n.addEventListener(i,t,e)})},to.removeListener=function(n,r,t){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(e){n.removeEventListener(e,t)})},to.show=function(n){n.style.display=""},to.hide=function(n){n.style.display="none"},to.hidden=function(n){return to.getStyle(n,"display")==="none"},to.toggle=function(n){n.style.display=n.style.display==="none"?"":"none"},to.setStyle=function(n,r){for(var t in r)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof r[t]=="number"?n.style[t]=r[t]+"px":n.style[t]=r[t];break}default:n.style[t]=r[t]}},to.getStyle=function(n,r){var t,e=(n.ownerDocument||document).defaultView;if(e&&e.getComputedStyle)r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.getComputedStyle(n,null).getPropertyValue(r);else if(n.currentStyle&&(r=r.replace(/-(\w)/g,function(i,o){return o.toUpperCase()}),t=n.currentStyle[r],/^\d+(em|pt|%|ex)?$/i.test(t)))return function(i){var o=n.style.left,s=n.runtimeStyle.left;return n.runtimeStyle.left=n.currentStyle.left,n.style.left=i||0,i=n.style.pixelLeft+"px",n.style.left=o,n.runtimeStyle.left=s,i}(t);return/px$/.test(t)?parseInt(t):t},to.outerHeight=function(n){return n.offsetHeight+to.getStyle(n,"marginBottom")},to.outerWidth=function(n){return n.offsetWidth+to.getStyle(n,"marginLeft")},to.offsetRect=function(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:r.height||r.bottom-r.top,width:r.width||r.right-r.left}},to.getFixedOffset=function(n){var r={left:0,top:0},t=function(e){if(!e)return r;if(to.getStyle(e,"position")==="absolute"&&to.getStyle(e,"transform")!=="none"){var i=e.getBoundingClientRect();return r.left+=i.left,r.top+=i.top,r}return console.log(e,r),t(e.offsetParent)};return t(n.offsetParent)},to.positionRect=function(n,r){var t=0,e=0,i=function(o){if(o)return t+=o.offsetLeft,e+=o.offsetTop,i(o.offsetParent);var s={top:n.offsetTop+e,left:n.offsetLeft+t};return r&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+n.offsetHeight,s.right=s.top+n.offsetWidth,s};return i(n.offsetParent)},to.scrollDiv=function(n,r){r=r||{};var t=!1,e=0,i,o=0,s=typeof r.onmove=="function"?r.onmove:function(){},l=r.vertical?"screenY":"screenX",f=r.vertical?"scrollTop":"scrollLeft",h=!1,v,w,R=0,B=function(){Ht&&(R++,setTimeout(V))},V=function(){if(Ht){if(R--,R)return;var Oe=n.clientHeight,Se=n.scrollHeight;v=Oe/Se,Ht.style.height=v*100+"%",Ht.style.top=n.scrollTop/Se*100+"%",kt.style.height=Oe+"px",Oe>Se-.5?kt.classList.add("ol-100pc"):kt.classList.remove("ol-100pc")}},et=function(Oe){Oe.target.classList.contains("ol-noscroll")||(h=!1,t=Oe[l],o=new Date,n.classList.add("ol-move"),Oe.preventDefault(),window.addEventListener("pointermove",vt),to.addListener(window,["pointerup","pointercancel"],ve))},vt=function(Oe){if(h=!0,t!==!1){var Se=(w?-1/v:1)*(t-Oe[l]);n[f]+=Se,i=new Date,i-o&&(e=(e+Se/(i-o))/2),t=Oe[l],o=i,Se&&s(!0)}},Ct=function(Oe){var Se=Oe>0?Math.min(100,Oe/2):Math.max(-100,Oe/2);Oe-=Se,n[f]+=Se,-1<Oe&&Oe<1?(h?setTimeout(function(){n.classList.remove("ol-move")}):n.classList.remove("ol-move"),h=!1,s(!1)):setTimeout(function(){Ct(Oe)},40)},kt,Ht;if(r.vertical&&r.minibar){var Nt=function(Oe){n.removeEventListener("pointermove",Nt),n.parentNode.classList.add("ol-miniscroll"),Ht=to.create("DIV"),kt=to.create("DIV",{className:"ol-scroll",html:Ht}),n.parentNode.insertBefore(kt,n),Ht.addEventListener("pointerdown",function(Se){w=!0,et(Se)}),r.mousewheel&&(to.addListener(kt,["mousewheel","DOMMouseScroll","onmousewheel"],function(Se){de(Se)}),to.addListener(Ht,["mousewheel","DOMMouseScroll","onmousewheel"],function(Se){de(Se)})),n.parentNode.addEventListener("pointerenter",B),window.addEventListener("resize",B),Oe!==!1&&B()};n.parentNode?Nt(!1):n.addEventListener("pointermove",Nt),n.addEventListener("scroll",function(){B()})}n.style["touch-action"]="none",n.style.overflow="hidden",n.classList.add("ol-scrolldiv"),to.addListener(n,["pointerdown"],function(Oe){w=!1,et(Oe)}),n.addEventListener("click",function(Oe){n.classList.contains("ol-move")&&(Oe.preventDefault(),Oe.stopPropagation())},!0);var ve=function(Oe){o=new Date-o,o>100||w?e=0:o>0&&(e=((e||0)+(t-Oe[l])/o)/2),Ct(r.animate===!1?0:e*200),t=!1,e=0,o=0,n.classList.contains("ol-move")?n.classList.remove("ol-hasClick"):(n.classList.add("ol-hasClick"),setTimeout(function(){n.classList.remove("ol-hasClick")},500)),w=!1,window.removeEventListener("pointermove",vt),to.removeListener(window,["pointerup","pointercancel"],ve)},de=function(Oe){var Se=Math.max(-1,Math.min(1,Oe.wheelDelta||-Oe.detail));return n.classList.add("ol-move"),n[f]-=Se*30,n.classList.remove("ol-move"),!1};return r.mousewheel&&to.addListener(n,["mousewheel","DOMMouseScroll","onmousewheel"],de),{refresh:B}},to.dispatchEvent=function(n,r){var t;try{t=new CustomEvent(n)}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(n,!0,!0,{})}r.dispatchEvent(t)};var Xe=to,Ad=function(n){n=n||{};var r=document.createElement("div");r.className=(n.className||"")+" ol-button ol-unselectable ol-control";var t=this,e=this.button_=document.createElement(/ol-text-button/.test(n.className)?"div":"button");e.type="button",n.title&&(e.title=n.title),n.name&&(e.name=n.name),n.html instanceof Element?e.appendChild(n.html):e.innerHTML=n.html||"";var i=function(o){o&&o.preventDefault&&(o.preventDefault(),o.stopPropagation()),n.handleClick&&n.handleClick.call(t,o)};e.addEventListener("click",i),e.addEventListener("touchstart",i),r.appendChild(e),!n.title&&e.firstElementChild&&(e.title=e.firstElementChild.title),no.default.call(this,{element:r,target:n.target}),n.title&&this.set("title",n.title),n.title&&this.set("title",n.title),n.name&&this.set("name",n.name)};Oo(Ad,no.default),Ad.prototype.setVisible=function(n){n?Xe.show(this.element):Xe.hide(this.element)},Ad.prototype.setTitle=function(n){this.button_.setAttribute("title",n)},Ad.prototype.setHtml=function(n){Xe.setHTML(this.button_,n)},Ad.prototype.getButtonElement=function(){return this.button_};var C2=Ad,f0=function(n){n=n||{};var r=this;this.interaction_=n.interaction,this.interaction_&&(this.interaction_.setActive(n.active),this.interaction_.on("change:active",function(){r.setActive(r.interaction_.getActive())})),n.toggleFn&&(n.onToggle=n.toggleFn),n.handleClick=function(){r.toggle(),n.onToggle&&n.onToggle.call(r,r.getActive())},n.className=(n.className||"")+" ol-toggle",C2.call(this,n),this.set("title",n.title),this.set("autoActivate",n.autoActivate),n.bar&&this.setSubBar(n.bar),this.setActive(n.active),this.setDisable(n.disable)};Oo(f0,C2),f0.prototype.setMap=function(n){!n&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),C2.prototype.setMap.call(this,n),n&&(this.interaction_&&n.addInteraction(this.interaction_),this.subbar_&&n.addControl(this.subbar_))},f0.prototype.getSubBar=function(){return this.subbar_},f0.prototype.setSubBar=function(n){var r=this.getMap();r&&this.subbar_&&r.removeControl(this.subbar_),this.subbar_=n,n&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),r&&r.addControl(this.subbar_))},f0.prototype.getDisable=function(){var n=this.element.querySelector("button");return n&&n.disabled},f0.prototype.setDisable=function(n){this.getDisable()!=n&&(this.element.querySelector("button").disabled=n,n&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!n,disable:n}))},f0.prototype.getActive=function(){return this.element.classList.contains("ol-active")},f0.prototype.toggle=function(){this.getActive()?this.setActive(!1):this.setActive(!0)},f0.prototype.setActive=function(n){this.interaction_&&this.interaction_.setActive(n),this.subbar_&&this.subbar_.setActive(n),this.getActive()!==n&&(n?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!n,active:n}))},f0.prototype.setInteraction=function(n){this.interaction_=n},f0.prototype.getInteraction=function(){return this.interaction_};var RI=f0,CI={name:"ol-control-toggle",setup:function(r,t){var e=Ss(RI,r,t),i=e.control;return{control:i}},props:{html:{type:String},interaction:{type:Object},className:{type:String},title:{type:String},onToggle:{type:Function}}},r5=lr()(CI,[["render",bI]]);function LI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var PI={name:"ol-control-button",setup:function(r,t){var e=Ss(C2,r,t),i=e.control;return{control:i}},props:{html:{type:String},name:{type:String},className:{type:String},title:{type:String},handleClick:{type:Function}}},n5=lr()(PI,[["render",LI]]);function II(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var ou=function(n){n=n||{},n.fullscreen&&(n.target=document.body);var r=Xe.create("DIV",{className:((n.className||"")+(n.zoom?" ol-zoom":"")+" ol-ext-dialog").trim(),click:function(i){this.get("hideOnBack")&&i.target===r&&this.close(),this.get("hideOnClick")&&this.close()}.bind(this)}),t=Xe.create("FORM",{on:{submit:this._onButton("submit")},parent:r});Xe.create("H2",{parent:t}),Xe.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:t}),Xe.create("DIV",{className:"ol-content",parent:t}),this._progress=Xe.create("DIV",{style:{display:"none"},parent:t});var e=Xe.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=Xe.create("DIV",{parent:e}),this._progressMessage=Xe.create("DIV",{className:"ol-progress-message",parent:this._progress}),Xe.create("DIV",{className:"ol-buttons",parent:t}),no.default.call(this,{element:r,target:n.target}),this.set("closeBox",n.closeBox!==!1),this.set("zoom",!!n.zoom),this.set("hideOnClick",!!n.hideOnClick),this.set("hideOnBack",!!n.hideOnBack),this.set("className",r.className),this.set("closeOnSubmit",n.closeOnSubmit),this.set("buttons",n.buttons),this.setContent(n)};Oo(ou,no.default),ou.prototype.show=function(n){n&&((n instanceof Element||typeof n=="string")&&(n={content:n}),this.setContent(n)),this.element.classList.add("ol-visible");var r=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(r&&r.focus(),this.dispatchEvent({type:"show"}),n){if(n.autoclose){var t=setTimeout(function(){this.hide()}.bind(this),n.autoclose);this.once("hide",function(){clearTimeout(t)})}if(n.hideOnBack){var e=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",function(){this.set("hideOnBack",e)}.bind(this))}}},ou.prototype.open=function(){this.show()},ou.prototype.setContentMessage=function(n){if(n!==void 0){var r=this.getContentElement();n instanceof Element&&Xe.setHTML(r,""),Xe.setHTML(r,n||"")}},ou.prototype.setTitle=function(n){var r=this.element.querySelector("form");r.querySelector("h2").innerText=n||"",n?r.classList.add("ol-title"):r.classList.remove("ol-title")},ou.prototype.setContent=function(n){if(!!n){this.element.className=this.get("className"),typeof n=="string"&&(n={content:n}),n=n||{},n.max&&this.setProgress(0,n.max),n.progress!==void 0&&this.setProgress(n.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),n.className&&n.className.split(" ").forEach(function(){this.element.classList.add(n.className)}.bind(this));var r=this.element.querySelector("form");n.content!==void 0&&(n.content instanceof Element&&Xe.setHTML(r.querySelector(".ol-content"),""),Xe.setHTML(r.querySelector(".ol-content"),n.content||"")),this.setTitle(n.title),n.closeBox||this.get("closeBox")&&n.closeBox!==!1?r.classList.add("ol-closebox"):r.classList.remove("ol-closebox");var t=this.element.querySelector(".ol-buttons");t.innerHTML="";var e=n.buttons||this.get("buttons");if(e){r.classList.add("ol-button");for(var i in e)Xe.create("INPUT",{type:i==="submit"?"submit":"button",value:e[i],click:this._onButton(i,n.onButton),parent:t})}else r.classList.remove("ol-button")}},ou.prototype.getContentElement=function(){return this.element.querySelector("form .ol-content")},ou.prototype.setProgress=function(n,r,t){if(n===!1){Xe.setStyle(this._progress,{display:"none"});return}if(r>0?this.set("max",Number(r)):r=this.get("max"),!r)Xe.setStyle(this._progress,{display:"none"});else{var e=Math.round(n/r*100);Xe.setStyle(this._progress,{display:""}),this._progressbar.className=e?"":"notransition",Xe.setStyle(this._progressbar,{width:e+"%"})}this._progressMessage.innerHTML="",Xe.setHTML(this._progressMessage,t||"")},ou.prototype._onButton=function(n,r){var t=function(e){e.preventDefault(),(n!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var i={};this.element.querySelectorAll("form input").forEach(function(o){o.className&&(i[o.className]=o)}),this.dispatchEvent({type:"button",button:n,inputs:i}),typeof r=="function"&&r(n,i)}.bind(this);return t},ou.prototype.hide=function(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})},ou.prototype.close=ou.prototype.hide,ou.prototype.isOpen=function(){return this.element.classList.contains("ol-visible")};var t7=ou,NI="#333",FI=function(){function n(r){var t=r||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=ua(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ks({color:NI}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:c8.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var r=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(r){this.overflow_=r},n.prototype.setFont=function(r){this.font_=r},n.prototype.setMaxAngle=function(r){this.maxAngle_=r},n.prototype.setOffsetX=function(r){this.offsetX_=r},n.prototype.setOffsetY=function(r){this.offsetY_=r},n.prototype.setPlacement=function(r){this.placement_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setFill=function(r){this.fill_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=ua(r!==void 0?r:1)},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.setText=function(r){this.text_=r},n.prototype.setTextAlign=function(r){this.textAlign_=r},n.prototype.setTextBaseline=function(r){this.textBaseline_=r},n.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},n.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},n.prototype.setPadding=function(r){this.padding_=r},n}(),ph=FI,DI=function(n){if(!n)return null;var r=n.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return r||(n.getViewport().querySelector(".ol-layers")?(r=document.createElement("canvas"),r.className="ol-fixedoverlay",n.getViewport().querySelector(".ol-layers").after(r),n.on("precompose",function(t){r.width=n.getSize()[0]*t.frameState.pixelRatio,r.height=n.getSize()[1]*t.frameState.pixelRatio})):r=n.getViewport().querySelector("canvas")),r},jI=DI,Bu=function(n){n||(n={}),this.setStyle(n.style),no.default.call(this,n)};Oo(Bu,no.default),Bu.prototype.setMap=function(n){this.getCanvas(n);var r=this.getMap();if(this._listener&&(Object(Du.b)(this._listener),this._listener=null),no.default.prototype.setMap.call(this,n),r)try{r.renderSync()}catch{}n&&(this._listener=n.on("postcompose",this._draw.bind(this)))},Bu.prototype.getCanvas=function(n){return jI(n)},Bu.prototype.getContext=function(n){var r=n.context;if(!r&&this.getMap()){var t=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];r=t?t.getContext("2d"):null}return r},Bu.prototype.setStyle=function(n){this._style=n||new $s({})},Bu.prototype.getStyle=function(){return this._style},Bu.prototype.getStroke=function(){var n=this._style.getStroke();return n||this._style.setStroke(new _s({color:"#000",width:1.25})),this._style.getStroke()},Bu.prototype.getFill=function(){var n=this._style.getFill();return n||this._style.setFill(new Ks({color:"#fff"})),this._style.getFill()},Bu.prototype.getTextStroke=function(){var n=this._style.getText();return n||(n=new ph({})),n.getStroke()||n.setStroke(new _s({color:"#fff",width:3})),n.getStroke()},Bu.prototype.getTextFill=function(){var n=this._style.getText();return n||(n=new ph({})),n.getFill()||n.setFill(new Ks({color:"#fff"})),n.getFill()},Bu.prototype.getTextFont=function(){var n=this._style.getText();return n||(n=new ph({})),n.getFont()||n.setFont("12px sans-serif"),n.getFont()},Bu.prototype._draw=function(){console.warn("[CanvasBase] draw function not implemented.")};var vh=Bu;function GI(n,r){var t=n.canvas,e=r||{},i=e.pixelRatio||ee.a,o=e.size;o&&(t.width=o[0]*i,t.height=o[1]*i,t.style.width=o[0]+"px",t.style.height=o[1]+"px");var s=[0,0,t.width,t.height],l=Xr(mt(),i,i);return new yy(n,i,s,l,0)}function L2(n,r,t,e,i,o,s){var l,f,h=(t-r)/e;if(h===1)l=r;else if(h===2)l=r,f=i;else if(h!==0){for(var v=n[r],w=n[r+1],R=0,B=[0],V=r+e;V<t;V+=e){var et=n[V],vt=n[V+1];R+=Math.sqrt((et-v)*(et-v)+(vt-w)*(vt-w)),B.push(R),v=et,w=vt}var Ct=i*R,kt=Object(K.a)(B,Ct);kt<0?(f=(Ct-B[-kt-2])/(B[-kt-1]-B[-kt-2]),l=r+(-kt-2)*e):l=r+kt*e}for(var Ht=s>1?s:2,Nt=o||new Array(Ht),V=0;V<Ht;++V)Nt[V]=l===void 0?NaN:f===void 0?n[l+V]:el(n[l+V],n[l+e+V],f);return Nt}function i5(n,r,t,e,i,o){if(t==r)return null;var s;if(i<n[r+e-1])return o?(s=n.slice(r,r+e),s[e-1]=i,s):null;if(n[t-1]<i)return o?(s=n.slice(t-e,t),s[e-1]=i,s):null;if(i==n[r+e-1])return n.slice(r,r+e);for(var l=r/e,f=t/e;l<f;){var h=l+f>>1;i<n[(h+1)*e-1]?f=h:l=h+1}var v=n[l*e-1];if(i==v)return n.slice((l-1)*e,(l-1)*e+e);var w=n[(l+1)*e-1],R=(i-v)/(w-v);s=[];for(var B=0;B<e-1;++B)s.push(el(n[(l-1)*e+B],n[l*e+B],R));return s.push(i),s}function BI(n,r,t,e,i,o,s){if(s)return i5(n,r,t[t.length-1],e,i,o);var l;if(i<n[e-1])return o?(l=n.slice(0,e),l[e-1]=i,l):null;if(n[n.length-1]<i)return o?(l=n.slice(n.length-e),l[e-1]=i,l):null;for(var f=0,h=t.length;f<h;++f){var v=t[f];if(r!=v){if(i<n[r+e-1])return null;if(i<=n[v-1])return i5(n,r,v,e,i,!1);r=v}}return null}var UI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kI=function(n){UI(r,n);function r(t,e){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(K.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<$t(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,o))},r.prototype.forEachSegment=function(t){return Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinateAtM=function(t,e){if(this.layout!=tr.XYM&&this.layout!=tr.XYZM)return null;var i=e!==void 0?e:!1;return i5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},r.prototype.getCoordinates=function(){return Di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinateAt=function(t,e){return L2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},r.prototype.getLength=function(){return f8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Mn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,tr.XY)},r.prototype.getType=function(){return Ee.LINE_STRING},r.prototype.intersectsExtent=function(t){return Z0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Er(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Mo),Xo=kI,P2=function(n){n=n||{},go.a.call(this,n),n.feature&&this.set("feature",n.feature.clone())};Oo(P2,go.a),P2.prototype.setTitle=function(n){this.set("title",n||""),this.changed()},P2.prototype.getElement=function(n,r){var t=Xe.create("LI",{className:this.get("className"),click:function(e){r(!1),e.stopPropagation()},style:{height:n[1]+"px"},"aria-label":this.get("title")});return Xe.create("DIV",{click:function(e){r(!0),e.stopPropagation()},style:{width:n[0]+"px",height:n[1]+"px"},parent:t}),t};var o5=P2;window.ol&&!ol.legend&&(ol.legend={});var Zs=function(n){n=n||{},go.a.call(this),this._items=new Dn;var r=[],t;this._items.on("add",function(e){r.push({item:e.element,on:e.element.on("change",function(){this.refresh()}.bind(this))}),t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._items.on("remove",function(e){for(var i=0;i<r;i++)if(e.element===r[i].item){Object(Du.b)(r[i].on),r.splice(i,1);break}t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._listElement=Xe.create("UL",{className:"ol-legend"}),this._canvas=document.createElement("canvas"),this.set("size",n.size||[40,25],!0),this.set("margin",n.margin===0?0:n.margin||10,!0),this._textStyle=n.textStyle||new ph({font:"16px sans-serif",fill:new Ks({color:"#333"}),backgroundFill:new Ks({color:"rgba(255,255,255,.8)"})}),this._title=new o5({title:n.title||"",className:"ol-title"}),n.titleStyle?this._titleStyle=n.titleStyle:(this._titleStyle=this._textStyle.clone(),this._titleStyle.setFont("bold "+this._titleStyle.getFont())),this.setStyle(n.style),n.items instanceof Array&&n.items.forEach(function(e){this.addItem(e)}.bind(this)),this.refresh()};Oo(Zs,go.a),Zs.prototype.setTitle=function(n){this._title.setTitle(n),this.refresh()},Zs.prototype.getTitle=function(){return this._title.get("title")},Zs.prototype.getTextStyle=function(){return this._textStyle},Zs.prototype.set=function(n,r,t){go.a.prototype.set.call(this,n,r,t),t||this.refresh()},Zs.prototype.getListElement=function(){return this._listElement},Zs.prototype.getCanvas=function(){return this._canvas},Zs.prototype.setStyle=function(n){this._style=n,this.refresh()},Zs.prototype.addItem=function(n){n instanceof o5?this._items.push(n):this._items.push(new o5(n))},Zs.prototype.getItems=function(){return this._items},Zs.prototype._drawText=function(n,r,t,e){n.save(),n.scale(ee.a,ee.a),r=r||"";var i=r.split(`
`);i.length===1?n.fillText(r,t,e):(n.textBaseline="bottom",n.fillText(i[0],t,e),n.textBaseline="top",n.fillText(i[1],t,e)),n.restore()},Zs.prototype._measureText=function(n,r){var t=(r||"").split(`
`);if(t.length===1)return n.measureText(r);var e=n.measureText(t[0]),i=n.measureText(t[1]);return{width:Math.max(e.width,i.width),height:e.height+i.height}},Zs.prototype.refresh=function(){var n=this._listElement;n.innerHTML="";var r=this.get("margin"),t=this.get("size")[0]+2*r,e=this.get("lineHeight")||this.get("size")[1]+2*r,i=this.getCanvas(),o=i.getContext("2d");o.textAlign="left",o.textBaseline="middle";var s=ee.a;o.font=this._titleStyle.getFont();var l=this._measureText(o,this.getTitle("title")).width;this._items.forEach(function(f){f.get("feature")||f.get("typeGeom")?(o.font=f.get("textStyle")?f.get("textStyle").getFont():this._textStyle.getFont(),l=Math.max(l,this._measureText(o,f.get("title")).width+t)):(o.font=f.get("textStyle")?f.get("textStyle").getFont():this._titleStyle.getFont(),l=Math.max(l,this._measureText(o,f.get("title")).width))}.bind(this)),i.width=(l+2*r)*s,i.height=(this._items.getLength()+1)*e*s,i.style.height=(this._items.getLength()+1)*e+"px",o.textBaseline="middle",o.fillStyle=_o(this._textStyle.getFill().getColor()),this.getTitle()&&(n.appendChild(this._title.getElement([t,e],function(f){this.dispatchEvent({type:"select",index:-1,symbol:f,item:this._title})}.bind(this))),o.font=this._titleStyle.getFont(),o.textAlign="center",this._drawText(o,this.getTitle(),i.width/s/2,e/2)),this._items.forEach(function(f,h){var v=h+(this.getTitle()?1:0);n.appendChild(f.getElement([t,e],function(R){this.dispatchEvent({type:"select",index:h,symbol:R,item:f})}.bind(this)));var w=f.getProperties();o.textAlign="left",w.feature||w.typeGeom?(i=this.getLegendImage(w,i,v),o.font=f.get("textStyle")?f.get("textStyle").getFont():this._textStyle.getFont(),this._drawText(o,f.get("title"),t+r,(h+1.5)*e)):(o.font=f.get("textStyle")?f.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(w.className)?(o.textAlign="center",this._drawText(o,f.get("title"),i.width/s/2,(h+1.5)*e)):this._drawText(o,f.get("title"),r,(h+1.5)*e))}.bind(this)),this.dispatchEvent({type:"refresh",width:t,height:(this._items.length+1)*e})},Zs.prototype.getLegendImage=function(n,r,t){return n=n||{},Zs.getLegendImage({className:n.className,feature:n.feature,typeGeom:n.typeGeom,style:n.style||this._style,properties:n.properties,margin:n.margin||this.get("margin"),size:n.size||this.get("size"),lineHeight:n.lineHeight||this.get("lineHeight"),onload:function(){this.refresh()}.bind(this)},r,t)},Zs.getLegendImage=function(n,r,t){n=n||{},typeof n.margin=="undefined"&&(n.margin=10);var e=n.size||[40,25];n.onload=n.onload||function(){setTimeout(function(){Zs.getLegendImage(n,r,t)},100)};var i=e[0]+2*n.margin,o=n.lineHeight||e[1]+2*n.margin,s=ee.a;r||(t=0,r=document.createElement("canvas"),r.width=i*s,r.height=o*s);var l=r.getContext("2d");l.save();var f=GI(l,{pixelRatio:s}),h=n.typeGeom,v,w=n.feature;!w&&h&&(/Point/.test(h)?w=new Cn(new Ii([0,0])):/LineString/.test(h)?w=new Cn(new Xo([0,0])):w=new Cn(new so([[0,0]])),n.properties&&w.setProperties(n.properties)),w?(v=w.getStyle(),typeof v=="function"&&(v=v(w)),v||(v=typeof n.style=="function"?n.style(w):n.style||[]),h=w.getGeometry().getType()):v=[],v instanceof Array||(v=[v]);var R=i/2,B=o/2,V=e[0]/2,et=e[1]/2,vt,Ct;if(h==="Point"){var kt=null;for(vt=0;Ct=v[vt];vt++){var Ht=Ct.getImage();if(Ht){var Nt=Ht.getImage();if(Nt&&Nt.complete&&!Nt.naturalWidth&&(typeof n.onload=="function"&&Nt.addEventListener("load",function(){setTimeout(function(){n.onload()},100)}),Ht.load()),Ht.getAnchor){var ve=Ht.getAnchor();if(ve){var de=Ht.getSize(),Oe=ve[0]-de[0],Se=ve[1]-de[1];kt?ln(kt,[Oe,Se,Oe+de[0],Se+de[1]]):kt=[Oe,Se,Oe+de[0],Se+de[1]]}}}}kt&&(R=R+(kt[2]+kt[0])/2,B=B+(kt[3]+kt[1])/2)}for(B+=t*o||0,vt=0;Ct=v[vt];vt++)switch(f.setStyle(Ct),h){case Ii:case"Point":case"MultiPoint":f.drawGeometry(new Ii([R,B]));break;case Xo:case"LineString":case"MultiLineString":l.save(),l.rect(n.margin*s,0,e[0]*s,r.height),l.clip(),f.drawGeometry(new Xo([[R-V,B],[R+V,B]])),l.restore();break;case so:case"Polygon":case"MultiPolygon":f.drawGeometry(new so([[[R-V,B-et],[R+V,B-et],[R+V,B+et],[R-V,B+et],[R-V,B-et]]]));break}return l.restore(),r};var D0=function(n){n=n||{};var r=document.createElement("div");if(n.target)r.className=n.className||"ol-legend";else{r.className=(n.className||"ol-legend")+" ol-unselectable ol-control"+(n.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var t=document.createElement("button");t.setAttribute("type","button"),t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t),t=document.createElement("button"),t.setAttribute("type","button"),t.className="ol-closebox",t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t)}vh.call(this,{element:r,target:n.target}),this._legend=n.legend,this._legend.getCanvas().className="ol-legendImg",r.appendChild(this._legend.getCanvas()),r.appendChild(this._legend.getListElement()),n.collapsible!==!1&&n.collapsed===!1&&this.show(),this._legend.on("select",function(e){this.dispatchEvent(e)}.bind(this)),this._legend.on("refresh",function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this))};Oo(D0,vh),D0.prototype.getLegend=function(){return this._legend},D0.prototype.setCanvas=function(n){if(this._onCanvas=n,this.element.style.visibility=n?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch{}},D0.prototype.onCanvas=function(){return!!this._onCanvas},D0.prototype._draw=function(n){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var r=this._legend.getCanvas(),t=this.getContext(n),e=t.canvas.height-r.height;t.save(),t.rect(0,e,r.width,r.height);var i="#fff";this._legend.getTextStyle().getBackgroundFill()&&(i=_o(this._legend.getTextStyle().getBackgroundFill().getColor())),t.fillStyle=t.strokeStyle=i,t.lineWidth=10,t.lineJoin="round",t.stroke(),t.clearRect(0,e,r.width,r.height),t.fill(),t.drawImage(r,0,e),t.restore()}},D0.prototype.show=function(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch{}},D0.prototype.hide=function(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch{}},D0.prototype.collapse=function(n){n===!1?this.show():this.hide()},D0.prototype.isCollapsed=function(){return this.element.classList.contains("ol-collapsed")},D0.prototype.toggle=function(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch{}};var zI=D0,gh=function(n){n||(n={});var r=Xe.create("DIV",{className:n.className||"ol-print"});n.target||(r.classList.add("ol-unselectable","ol-control"),Xe.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r})),no.default.call(this,{element:r,target:n.target}),this.set("immediate",n.immediate),this.set("imageType",n.imageType||"image/jpeg"),this.set("quality",n.quality||.8),this.set("orientation",n.orientation)};Oo(gh,no.default),gh.prototype.toClipboard=function(n,r){try{n.canvas.toBlob(function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),typeof r=="function"&&r(!0)}catch{typeof r=="function"&&r(!1)}})}catch{typeof r=="function"&&r(!1)}},gh.prototype.copyMap=function(n,r){this.once("print",function(t){this.toClipboard(t,r)}.bind(this)),this.print(n)},gh.prototype._getCanvas=function(n,r,t){var e;if(n.context)t=n.context.canvas;else{if(t)e=t.getContext("2d");else{t=document.createElement("canvas");var i=this.getMap().getSize();t.width=i[0],t.height=i[1],e=t.getContext("2d"),/jp.*g$/.test(r)&&(e.fillStyle=this.get("bgColor")||"white",e.fillRect(0,0,t.width,t.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(o){if(o.width){if(e.save(),o.parentNode.style.opacity==="0")return;e.globalAlpha=parseFloat(o.parentNode.style.opacity)||1,Xe.getStyle(o.parentNode,"mix-blend-mode")==="multiply"&&(e.globalCompositeOperation="multiply");var s=Xe.getStyle(o,"transform")||Xe.getStyle(o,"-webkit-transform");/^matrix/.test(s)?(s=s.replace(/^matrix\(|\)$/g,"").split(","),s.forEach(function(l,f){s[f]=parseFloat(l)}),e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),e.drawImage(o,0,0)):e.drawImage(o,0,0,Xe.getStyle(o,"width"),Xe.getStyle(o,"height")),e.restore()}}.bind(this))}return t},gh.prototype.fastPrint=function(n,r){n=n||{},this._ol6?requestAnimationFrame(function(){r(this._getCanvas({},n.imageType,n.canvas))}.bind(this)):(this.getMap().once("postcompose",function(t){t.context||(this._ol6=!0),r(this._getCanvas(t,n.imageType,n.canvas))}.bind(this)),this.getMap().render())},gh.prototype.print=function(n){n=n||{};var r=n.imageType||this.get("imageType"),t=n.quality||this.get("quality");if(this.getMap()){if(n.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},n)),!n.immediate){setTimeout(function(){n=Object.assign({},n),n.immediate="silent",this.print(n)}.bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(e){var i=this._getCanvas(e,r),o=n.size||[210,297],s=n.format||"a4",l,f,h,v=n.orient||this.get("orientation"),w=typeof n.margin=="number"?n.margin:10;if(i){v!=="landscape"&&v!=="portrait"&&(v=i.width>i.height?"landscape":"portrait"),v==="landscape"&&(o=[o[1],o[0]]);var R=Math.min((o[0]-2*w)/i.width,(o[1]-2*w)/i.height);l=R*i.width,f=R*i.height,h=[(o[0]-l)/2,(o[1]-f)/2]}var B;try{B=i?i.toDataURL(r,t):null}catch{this.dispatchEvent({type:"error",canvas:i});return}var V=Object.assign({type:"print",print:{format:s,orientation:v,unit:"mm",size:o,position:h,imageWidth:l,imageHeight:f},image:B,imageType:r,quality:t,canvas:i},n);this.dispatchEvent(V)}.bind(this)),this.getMap().render()}};var e7=gh,pf=function(n){n||(n={});var r=Xe.create("DIV",{className:(n.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});vh.call(this,{element:r,style:n.style}),this.setTitle(n.title||""),this.setVisible(n.visible),this.element.style.font=this.getTextFont()};Oo(pf,vh),pf.prototype.setStyle=function(n){vh.prototype.setStyle.call(this,n),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()},pf.prototype.setTitle=function(n){if(this.element.textContent=n,this.set("title",n),this.getMap())try{this.getMap().renderSync()}catch{}},pf.prototype.getTitle=function(){return this.get("title")},pf.prototype.setVisible=function(n){if(this.element.style.display=n?"block":"none",this.getMap())try{this.getMap().renderSync()}catch{}},pf.prototype.getVisible=function(){return this.element.style.display!=="none"},pf.prototype._draw=function(n){if(!!this.getVisible()){var r=this.getContext(n);if(!!r){var t=n.frameState.pixelRatio;r.save(),r.scale(t,t);var e=this.element.getBoundingClientRect(),i=this.getMap().getViewport().getBoundingClientRect(),o=this.getMap().getSize()[0]/i.width;r.translate(Math.round((e.left-i.left)*o),Math.round((e.top-i.top)*o));var s=this.element.clientHeight,l=this.element.clientWidth,f=l/2;r.beginPath(),r.fillStyle=_o(this.getFill().getColor()),r.rect(0,0,l,s),r.fill(),r.closePath(),r.beginPath(),r.fillStyle=_o(this.getTextFill().getColor()),r.strokeStyle=_o(this.getTextStroke().getColor()),r.lineWidth=this.getTextStroke().getWidth(),r.textAlign="center",r.textBaseline="middle",r.font=this.getTextFont(),r.lineWidth&&r.strokeText(this.getTitle(),f,s/2),r.fillText(this.getTitle(),f,s/2),r.closePath(),r.restore()}}};var VI=pf,a5=function(n,r){var t=n.getView(),e=t.getProjection(),i=t.getCenter(),o=n.getPixelFromCoordinate(i);o[1]+=1;var s=n.getCoordinateFromPixel(o),l=xu($n(i,e,"EPSG:4326"),$n(s,e,"EPSG:4326"));return l*=(r||96)/.0254,l},WI=function(n,r,t){if(n&&r){var e=r;if(typeof r=="string"&&(e=r.split("/")[1],e||(e=r),e=e.replace(/[^\d]/g,""),e=parseInt(e)),!e)return;var i=n.getView(),o=i.getProjection(),s=i.getCenter(),l=n.getPixelFromCoordinate(s);l[1]+=1;var f=n.getCoordinateFromPixel(l),h=xu($n(s,o,"EPSG:4326"),$n(f,o,"EPSG:4326"));return h*=(t||96)/.0254,i.setResolution(i.getResolution()*e/h),e}},vf=function(n){n||(n={});var r=document.createElement("div");r.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(n.className?" "+n.className:""),r.style.position="absolute",r.style.visibility="hidden";var t=n.style instanceof _s?new $s({stroke:n.style}):n.style;n.style||(t=new $s({stroke:new _s({width:0})})),vh.call(this,{element:r,style:t}),this.set("rotateVithView",n.rotateWithView!==!1),this.setVisible(n.visible!==!1),this.setImage(n.image||n.src)};Oo(vf,vh),vf.prototype.setImage=function(n){if(n instanceof Image)this.img_=n,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this);else if(typeof n=="string")switch(n){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this),this.img_.src=n;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())},vf.prototype.compactCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2;return e.translate(i,i),e.fillStyle=r||"#963",e.lineWidth=5,e.lineJoin=e.lineCap="round",e.font="bold "+i*.4+"px sans-serif",e.textBaseline="bottom",e.textAlign="center",e.strokeStyle="#fff",e.globalAlpha=.75,e.strokeText("N",0,-i/2),e.globalAlpha=1,e.fillText("N",0,-i/2),e.beginPath(),e.moveTo(0,i/4),e.lineTo(i/3,i/2),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.lineWidth=12,e.fillStyle="#fff",e.globalAlpha=.75,e.fill(),e.stroke(),e.globalAlpha=1,e.fillStyle=e.strokeStyle=r||"#963",e.lineWidth=5,e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(i/3,i/2),e.lineTo(0,i/4),e.fill(),e.stroke(),e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.stroke(),t},vf.prototype.defaultCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2,o=.22*i;function s(f,h){e.fillStyle=r||"#963",e.beginPath(),e.moveTo(0,0),e.lineTo(f,0),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(-f,0),e.lineTo(-h,-h),e.moveTo(0,0),e.lineTo(0,f),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,-f),e.lineTo(h,-h),e.moveTo(0,0),e.fill(),e.stroke()}function l(f,h){e.globalCompositeOperation="destination-out",e.fillStyle="#fff",e.beginPath(),e.moveTo(0,0),e.lineTo(f,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-f,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,f),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-f),e.lineTo(-h,-h),e.moveTo(0,0),e.fill(),e.globalCompositeOperation="source-over",e.beginPath(),e.moveTo(0,0),e.lineTo(f,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-f,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,f),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-f),e.lineTo(-h,-h),e.moveTo(0,0),e.stroke()}return e.translate(i,i),e.strokeStyle=r||"#963",e.lineWidth=1.5,e.beginPath(),e.arc(0,0,n*.41,0,2*Math.PI),e.arc(0,0,n*.44,0,2*Math.PI),e.stroke(),e.rotate(Math.PI/4),s(i*.9,o*.8),l(i*.9,o*.8),e.rotate(-Math.PI/4),s(i,o),l(i,o),t},vf.prototype.getVisible=function(){return Xe.getStyle(this.element,"display")==="block"},vf.prototype.setVisible=function(n){n?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()},vf.prototype._draw=function(n){var r=this.getContext(n);if(!(!r||!this.getVisible())){var t=r.canvas,e,i=[];for(e=0;e<8;e++)i[e]=[Math.cos(Math.PI*e/8),Math.sin(Math.PI*e/8)];var o=n.frameState.pixelRatio;r.save(),r.scale(o,o);var s=this.element.clientWidth,l=this.element.clientHeight,f={left:this.element.offsetLeft,top:this.element.offsetTop},h=this.img_,v=n.frameState.viewState.rotation;if(r.beginPath(),r.translate(f.left+s/2,f.top+l/2),this.get("rotateVithView")&&r.rotate(v),this.getStroke().getWidth()){r.beginPath(),r.strokeStyle=this.getStroke().getColor(),r.lineWidth=this.getStroke().getWidth();var w=Math.max(t.width,t.height);for(e=0;e<8;e++)r.moveTo(-i[e][0]*w,-i[e][1]*w),r.lineTo(i[e][0]*w,i[e][1]*w);r.stroke()}h.width&&r.drawImage(h,-s/2,-l/2,s,l),r.closePath(),r.restore()}};var r7=vf,ga=function(n){n||(n={}),this._lang=n.lang;var r=Xe.create("DIV",{className:(n.className||"ol-print")+" ol-unselectable ol-control"});Xe.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r}),no.default.call(this,{element:r}),n.openWindow&&this.on("print",function(Ke){Ke.canvas&&window.open().document.write('<img src="'+Ke.canvas.toDataURL()+'"/>')}),n.target=Xe.create("DIV");var t=this._printCtrl=new e7(n);t.on(["print","error","printing"],function(Ke){i.setAttribute("data-status",Ke.type),Ke.clipboard||this.dispatchEvent(Ke)}.bind(this)),this._compass=new r7({src:n.northImage||"compact",visible:!1,className:"olext-print-compass",style:new _s({color:"#333",width:0})});var e=this._printDialog=new t7({target:document.body,closeBox:!0,className:"ol-ext-print-dialog"}),i=e.getContentElement();this._input={};var o=Xe.create("DIV",{className:"ol-print-param",parent:i});this._pages=[Xe.create("DIV",{className:"ol-page"})];var s=Xe.create("DIV",{className:"ol-map",parent:this._pages[0]});Xe.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:i}),Xe.create("H2",{html:this.i18n("title"),parent:o});var l=Xe.create("UL",{parent:o}),f=Xe.create("LI",{className:"ol-orientation",parent:l});this._input.orientation={list:f};var h=Xe.create("LABEL",{className:"portrait",parent:f});this._input.orientation.portrait=Xe.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(Ke){this.setOrientation(Ke.target.value)}.bind(this)},parent:h}),Xe.create("SPAN",{html:this.i18n("portrait"),parent:h}),h=Xe.create("LABEL",{className:"landscape",parent:f}),this._input.orientation.landscape=Xe.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(Ke){this.setOrientation(Ke.target.value)}.bind(this)},parent:h}),Xe.create("SPAN",{html:this.i18n("landscape"),parent:h});var v;f=Xe.create("LI",{html:Xe.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:l});var w=this._input.size=Xe.create("SELECT",{on:{change:function(){this.setSize(w.value||Fe)}.bind(this)},parent:f});for(v in this.paperSize)Xe.create("OPTION",{html:v+(this.paperSize[v]?" - "+this.paperSize[v][0]+"x"+this.paperSize[v][1]+" mm":this.i18n("custom")),value:v,parent:w});f=Xe.create("LI",{html:Xe.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:l});var R=this._input.margin=Xe.create("SELECT",{on:{change:function(){this.setMargin(R.value)}.bind(this)},parent:f});for(v in this.marginSize)Xe.create("OPTION",{html:v+" - "+this.marginSize[v]+" mm",value:this.marginSize[v],parent:R});f=Xe.create("LI",{html:Xe.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:l});var B=this._input.scale=Xe.create("SELECT",{on:{change:function(){this.setScale(parseInt(B.value))}.bind(this)},parent:f});Object.keys(this.scales).forEach(function(Ke){Xe.create("OPTION",{html:this.scales[Ke],value:Ke,parent:B})}.bind(this)),f=Xe.create("LI",{className:"ol-legend",parent:l});var V=Xe.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:function(){hr.legend.control.setCanvas(V.checked)}.bind(this)},parent:f});f=Xe.create("LI",{className:"ol-print-north",parent:l});var et=this._input.north=Xe.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:function(){et.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(this)},parent:f});f=Xe.create("LI",{className:"ol-print-title",parent:l});var vt=Xe.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:function(Ke){hr.title.control.setVisible(Ke.target.checked)}.bind(this)},parent:f}),Ct=Xe.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(Ke){Ke.keyCode===13&&Ke.preventDefault()},keyup:function(){hr.title.control.setTitle(Ct.value)},change:function(){hr.title.control.setTitle(Ct.value)}.bind(this)},parent:f}),kt=Xe.create("DIV",{className:"ol-user-param",parent:o});f=Xe.create("LI",{className:"ol-saveas",parent:l});var Ht=Xe.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:f}),Nt=Xe.create("SELECT",{on:{change:function(){if(this.formats[Nt.value].clipboard)t.copyMap(this.formats[Nt.value],function(yn){yn&&(Ht.classList.add("visible"),setTimeout(function(){Ht.classList.remove("visible")},1e3))});else{var Ke=typeof this.getSize()=="string"?this.getSize():null,Ir=Object.assign({format:Ke,size:Ke?this.paperSize[Ke]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[Nt.value]);t.print(Ir)}Nt.value=""}.bind(this)},parent:f});Xe.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:Nt}),this.formats.forEach(function(Ke,Ir){if(Ke.pdf){if(n.pdf===!1)return}else if(Ke.clipboard){if(n.copy===!1)return}else if(n.save===!1)return;Xe.create("OPTION",{html:Ke.title,value:Ir,parent:Nt})}),f=Xe.create("LI",{className:"ol-savelegend",parent:l});var ve=Xe.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:f}),de=Xe.create("SELECT",{on:{change:function(){var Ke=hr.legend.control.getLegend().getCanvas(),Ir=document.createElement("CANVAS");Ir.width=Ke.width,Ir.height=Ke.height;var yn=Ir.getContext("2d");if(yn.fillStyle="#fff",yn.fillRect(0,0,Ir.width,Ir.height),yn.drawImage(Ke,0,0),this.formats[de.value].clipboard)Ir.toBlob(function(Ri){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},Ri.type,{value:Ri,enumerable:!0}))]),ve.classList.add("visible"),setTimeout(function(){ve.classList.remove("visible")},1e3)}catch{}},"image/png");else{var Sn;try{Sn=Ir.toDataURL(this.formats[de.value].imageType,this.formats[de.value].quality);var Rn=typeof this.getSize()=="string"?this.getSize():"A4",Nn=Ir.width/96*25.4,gi=Ir.height/96*25.4,mi=this.paperSize[Rn];this.getOrientation()==="landscape"&&(mi=[mi[1],mi[0]]);var Mi=[(mi[0]-Nn)/2,(mi[1]-gi)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:Rn,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[Rn],position:Mi,imageWidth:Nn,imageHeight:gi},image:Sn,imageType:this.formats[de.value].imageType,pdf:this.formats[de.value].pdf,quality:this.formats[de.value].quality,canvas:Ir})}catch{}}de.value=""}.bind(this)},parent:f});Xe.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:de}),this.formats.forEach(function(Ke,Ir){Xe.create("OPTION",{html:Ke.title,value:Ir,parent:de})});var Oe=Xe.create("DIV",{className:"ol-ext-buttons",parent:o});Xe.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(Ke){Ke.preventDefault(),window.print()},parent:Oe}),Xe.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){e.hide()},parent:Oe}),Xe.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:o});var Se,Fe,wr,hr={};e.on("show",function(){this.dispatchEvent({type:"show",userElement:kt,dialog:this._printDialog,page:this.getPage()});var Ke=this.getMap();!Ke||(document.body.classList.add("ol-print-document"),Se=Ke.getTargetElement(),Fe=Ke.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(Fe),Ke.setTarget(s),wr&&Object(Du.b)(wr),wr=Ke.on("moveend",function(){this.setScale(a5(Ke))}.bind(this)),this.setScale(a5(Ke)),hr={},this.getMap().getControls().forEach(function(Ir){Ir instanceof zI&&(hr.legend={control:Ir}),Ir instanceof VI&&(hr.title={control:Ir}),Ir instanceof r7&&(hr.compass?Ir.element.classList.remove("ol-print-compass"):(this._input.north.checked?Ir.element.classList.add("ol-print-compass"):Ir.element.classList.remove("ol-print-compass"),this._compass=Ir,hr.compass={control:Ir}))}.bind(this)),hr.title?(vt.checked=hr.title.isVisible=hr.title.control.getVisible(),Ct.value=hr.title.control.getTitle(),vt.parentNode.parentNode.classList.remove("hidden")):vt.parentNode.parentNode.classList.add("hidden"),hr.legend?(hr.legend.ison=hr.legend.control.onCanvas(),hr.legend.collapsed=hr.legend.control.isCollapsed(),hr.legend.control.collapse(!1),de.parentNode.classList.remove("hidden"),V.parentNode.parentNode.classList.remove("hidden"),V.checked=!hr.legend.collapsed,hr.legend.control.setCanvas(!hr.legend.collapsed)):(de.parentNode.classList.add("hidden"),V.parentNode.parentNode.classList.add("hidden")))}.bind(this)),e.on("hide",function(){document.body.classList.remove("ol-print-document"),Se&&(this.getMap().setTarget(Se),Se=null,wr&&Object(Du.b)(wr),hr.title&&hr.title.control.setVisible(hr.title.isVisible),hr.legend&&(hr.legend.control.setCanvas(hr.legend.ison),hr.legend.control.collapse(hr.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(this)),window.addEventListener("resize",function(){this.setSize()}.bind(this)),n.saveAs&&this.on("print",function(Ke){Ke.pdf||Ke.canvas.toBlob(function(Ir){var yn=(Ke.print.legend?"legend.":"map.")+Ke.imageType.replace("image/","");n.saveAs(Ir,yn)},Ke.imageType,Ke.quality)}),n.jsPDF&&this.on("print",function(Ke){if(Ke.pdf){var Ir=new n.jsPDF({orientation:Ke.print.orientation,unit:Ke.print.unit,format:Ke.print.size});Ir.addImage(Ke.image,"JPEG",Ke.print.position[0],Ke.print.position[0],Ke.print.imageWidth,Ke.print.imageHeight),Ir.save(Ke.print.legend?"legend.pdf":"map.pdf")}})};Oo(ga,no.default),ga.prototype.isOpen=function(){return this._printDialog.isOpen()},ga.addLang=function(n,r){ga.prototype._labels[n]=r},ga.prototype.i18n=function(n){var r=this._labels.en[n]||"bad param";return this._labels[this._lang]&&this._labels[this._lang][n]&&(r=this._labels[this._lang][n]),r},ga.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"\u2714 Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille \xE9cran",margin:"Marges",scale:"Echelle",legend:"L\xE9gende",north:"Fl\xE8che du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la l\xE9gende...",copied:"\u2714 Carte copi\xE9e",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",cancel:"annuler"},zh:{title:"\u6253\u5370",orientation:"\u65B9\u5411",portrait:"\u7EB5\u5411",landscape:"\u6A2A\u5411",size:"\u9875\u9762\u5927\u5C0F",custom:"\u5C4F\u5E55\u5927\u5C0F",margin:"\u5916\u8FB9\u8DDD",scale:"\u5C3A\u5EA6",legend:"\u56FE\u4F8B",north:"\u6307\u5317\u9488",mapTitle:"\u5730\u56FE\u540D\u5B57",saveas:"\u4FDD\u5B58\u4E3A...",saveLegend:"\u4FDD\u5B58\u56FE\u4F8B\u4E3A...",copied:"\u2714 \u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",errorMsg:"\u65E0\u6CD5\u4FDD\u5B58\u5730\u56FE...",printBt:"\u6253\u5370...",cancel:"\u53D6\u6D88"}},ga.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],A5:[148,210],B4:[257,364],B5:[182,257]},ga.prototype.marginSize={none:0,small:5,large:10},ga.prototype.formats=[{title:"copy to clipboard",imageType:"image/png",clipboard:!0},{title:"save as jpeg",imageType:"image/jpeg",quality:.8},{title:"save as png",imageType:"image/png",quality:.8},{title:"save as pdf",imageType:"image/jpeg",pdf:!0}],ga.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"},ga.prototype.getOrientation=function(){return this._orientation||"portrait"},ga.prototype.setOrientation=function(n){this._orientation=n==="landscape"?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()},ga.prototype.getMargin=function(){return this._margin||0},ga.prototype.setMargin=function(n){this._margin=n,this._input.margin.value=n,this.setSize()},ga.prototype.getSize=function(){return this._size},ga.prototype.setSize=function(n){if(this._printDialog.getContentElement().setAttribute("data-status",""),n?this._size=n:n=this._size,!!n){typeof n=="string"?(n=n.toLocaleUpperCase(),this.paperSize[n]||(n=this._size="A4"),this._input.size.value=n,n=[Math.trunc(this.paperSize[n][0]*96/25.4),Math.trunc(this.paperSize[n][1]*96/25.4)],this.getOrientation()==="landscape"&&(n=[n[1],n[0]]),this.getPage().classList.remove("margin")):(this._input.size.value="",this.getPage().classList.add("margin"));var r=this.getPage(),t=r.parentNode.getBoundingClientRect(),e=(t.width-40)/n[0],i=(t.height-40)/n[1],o=Math.min(e,i,1);r.style.width=n[0]+"px",r.style.height=n[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+o+")";var s=Math.round(5/o);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=s+"px "+s+"px "+s+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}},ga.prototype.getContentElement=function(){return this._printDialog.getContentElement()},ga.prototype.getUserElement=function(){return this._printDialog.getContentElement().querySelector(".ol-user-param")},ga.prototype.getPage=function(){return this._pages[0]},ga.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),no.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))},ga.prototype.setScale=function(n){WI(this.getMap(),n),this._input.scale.value=" "+Math.round(n/100)*100},ga.prototype.getScale=function(){return a5(this.getMap())},ga.prototype.print=function(n){n=n||{},n.size&&this.setSize(n.size),n.scale&&this.setScale(n.scale),n.orientation&&this.setOrientation(n.orientation),n.margin&&this.setMargin(n.margin),this._printDialog.show()},ga.prototype.getrintControl=function(){return this._printCtrl};var HI=ga,n7=u("21a6"),YI=u("8baf"),XI={name:"ol-control-printdialog",setup:function(r,t){var e=Ss(HI,r,t),i=e.control;return i.value.on(["print","error"],function(o){if(o.image)if(o.pdf){var s=new YI.a({orientation:o.print.orientation,unit:o.print.unit,format:o.print.size});s.addImage(o.image,"JPEG",o.print.position[0],o.print.position[0],o.print.imageWidth,o.print.imageHeight),s.save(o.print.legend?"legend.pdf":"map.pdf")}else o.canvas.toBlob(function(l){var f=(o.print.legend?"legend.":"map.")+o.imageType.replace("image/","");Object(n7.saveAs)(l,f)},o.imageType,o.quality);else console.warn("No canvas to export")}),{control:i}},props:{lang:{type:String}}},s5=lr()(XI,[["render",II]]);function KI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var mh=function(n){n||(n={});var r=Xe.create("DIV",{className:(n.className||"ol-videorec")+" ol-unselectable ol-control"});Xe.create("BUTTON",{type:"button",className:"ol-start",title:"start",click:function(){this.start()}.bind(this),parent:r}),Xe.create("BUTTON",{type:"button",className:"ol-stop",title:"stop",click:function(){this.stop()}.bind(this),parent:r}),Xe.create("BUTTON",{type:"button",className:"ol-pause",title:"pause",click:function(){this.pause()}.bind(this),parent:r}),Xe.create("BUTTON",{type:"button",className:"ol-resume",title:"resume",click:function(){this.resume()}.bind(this),parent:r}),no.default.call(this,{element:r,target:n.target}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),n.videoTarget==="DIALOG"?(this._dialog=new t7({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=n.videoTarget,this._printCtrl=new e7({target:Xe.create("DIV")})};Oo(mh,no.default),mh.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),no.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))},mh.prototype.start=function(){var n=this._printCtrl,r=!1;function t(e){r||n.fastPrint({canvas:e},t)}n.fastPrint({},function(e){var i;try{i=e.captureStream(this.get("framerate")||30)}catch(s){this.dispatchEvent({type:"error",error:s});return}this._mediaRecorder=new MediaRecorder(i,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var o=[];this._mediaRecorder.ondataavailable=function(s){o.push(s.data)},this._mediaRecorder.onstop=function(){r=!0;var s=new Blob(o,{type:"video/mp4"});if(o=[],this._videoTarget instanceof Element){var l;this._videoTarget.tagName==="VIDEO"?l=this._videoTarget:(l=this._videoTarget.querySelector("video"),l||(l=Xe.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),l.src=URL.createObjectURL(s),this.dispatchEvent({type:"stop",videoURL:l.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(s)})}.bind(this),this._mediaRecorder.onpause=function(){r=!0,this.dispatchEvent({type:"pause"})}.bind(this),this._mediaRecorder.onresume=function(){r=!1,t(e),this.dispatchEvent({type:"resume"})}.bind(this),this._mediaRecorder.onerror=function(s){this.dispatchEvent({type:"error",error:s})}.bind(this),r=!1,t(e),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:e}),this.element.setAttribute("data-state","rec")}.bind(this))},mh.prototype.stop=function(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))},mh.prototype.pause=function(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))},mh.prototype.resume=function(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))};var $I=mh,ZI={name:"ol-control-videorecorder",emits:["start","stop"],setup:function(r,t){var e=Ss($I,r,t),i=e.control,o=Object(F.toRefs)(r),s=o.downloadName;return i.value.on("start",function(l){t.emit("start",l)}),i.value.on("stop",function(l){t.emit("stop",l),Object(n7.saveAs)(l.videoURL,s.value)}),{control:i}},props:{className:{type:String},framerate:{type:Number,default:30},videoBitsPerSecond:{type:Number,default:5e6},videoTarget:{type:String},downloadName:{type:String,default:"mapVideo.mp4"}}},l5=lr()(ZI,[["render",KI]]);function JI(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var gf={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},qI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QI={image:[Qi.POLYGON,Qi.CIRCLE,Qi.LINE_STRING,Qi.IMAGE,Qi.TEXT],hybrid:[Qi.POLYGON,Qi.LINE_STRING],vector:[]},tN={hybrid:[Qi.IMAGE,Qi.TEXT,Qi.DEFAULT],vector:[Qi.POLYGON,Qi.CIRCLE,Qi.LINE_STRING,Qi.IMAGE,Qi.TEXT,Qi.DEFAULT]},eN=function(n){qI(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.dirty_=!1,e.renderedLayerRevision_,e.renderedPixelToCoordinateTransform_=null,e.renderedRotation_,e.tmpTransform_=mt(),e}return r.prototype.prepareTile=function(t,e,i){var o,s=t.getState();return(s===cn.LOADED||s===cn.ERROR)&&(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},r.prototype.getTile=function(t,e,i,o){var s=o.pixelRatio,l=o.viewState,f=l.resolution,h=l.projection,v=this.getLayer(),w=v.getSource().getTile(t,e,i,s,h),R=o.viewHints,B=!(R[Ui.ANIMATING]||R[Ui.INTERACTING]);(B||!w.wantedResolution)&&(w.wantedResolution=f);var V=this.prepareTile(w,s,h);return V&&(B||Date.now()-o.time<8)&&v.getRenderMode()!==gf.VECTOR&&this.renderTileImage_(w,o),n.prototype.getTile.call(this,t,e,i,o)},r.prototype.isDrawableTile=function(t){var e=this.getLayer();return n.prototype.isDrawableTile.call(this,t)&&(e.getRenderMode()===gf.VECTOR?Object(Ot.c)(e)in t.executorGroups:t.hasContext(e))},r.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},r.prototype.prepareFrame=function(t){var e=this.getLayer().getRevision();return this.renderedLayerRevision_!=e&&(this.renderedTiles.length=0),this.renderedLayerRevision_=e,n.prototype.prepareFrame.call(this,t)},r.prototype.updateExecutorGroup_=function(t,e,i){var o=this.getLayer(),s=o.getRevision(),l=o.getRenderOrder()||null,f=t.wantedResolution,h=t.getReplayState(o);if(!(!h.dirty&&h.renderedResolution===f&&h.renderedRevision==s&&h.renderedRenderOrder==l)){var v=o.getSource(),w=o.getDeclutter(),R=v.getTileGrid(),B=v.getTileGridForProjection(i),V=B.getTileCoordExtent(t.wrappedTileCoord),et=v.getSourceTiles(e,i,t),vt=Object(Ot.c)(o);delete t.hitDetectionImageData[vt],t.executorGroups[vt]=[],w&&(t.declutterExecutorGroups[vt]=[]);for(var Ct=function(ve,de){var Oe=et[ve];if(Oe.getState()!=cn.LOADED)return"continue";var Se=Oe.tileCoord,Fe=R.getTileCoordExtent(Se),wr=rn(V,Fe),hr=Rt(wr,o.getRenderBuffer()*f,kt.tmpExtent),Ke=Pr(Fe,wr)?null:hr;h.dirty=!1;var Ir=new p2(0,hr,f,e),yn=w?new p2(0,wr,f,e):void 0,Sn=m8(f,e),Rn=function(ra){var Ya,cs=ra.getStyleFunction()||o.getStyleFunction();if(cs&&(Ya=cs(ra,f)),Ya){var ns=this.renderFeature(ra,Sn,Ya,Ir,yn);this.dirty_=this.dirty_||ns,h.dirty=h.dirty||ns}},Nn=Oe.getFeatures();l&&l!==h.renderedRenderOrder&&Nn.sort(l);for(var gi=0,mi=Nn.length;gi<mi;++gi){var Mi=Nn[gi];(!Ke||Ti(Ke,Mi.getGeometry().getExtent()))&&Rn.call(kt,Mi)}var Ri=Ir.finish(),Br=o.getRenderMode()!==gf.VECTOR&&w&&et.length===1?null:wr,rs=new v2(Br,f,e,v.getOverlaps(),Ri,o.getRenderBuffer());if(t.executorGroups[vt].push(rs),yn){var Gi=new v2(null,f,e,v.getOverlaps(),yn.finish(),o.getRenderBuffer());t.declutterExecutorGroups[vt].push(Gi)}},kt=this,Ht=0,Nt=et.length;Ht<Nt;++Ht)Ct(Ht);h.renderedRevision=s,h.renderedRenderOrder=l,h.renderedResolution=f}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,s){var l=e.viewState.resolution,f=e.viewState.rotation;i=i==null?0:i;var h=this.getLayer(),v=h.getSource(),w=v.getTileGridForProjection(e.viewState.projection),R=Tt([t]);Rt(R,l*i,R);for(var B={},V=function(Nt,ve,de){var Oe=Nt.getId();Oe===void 0&&(Oe=Object(Ot.c)(Nt));var Se=B[Oe];if(Se){if(Se!==!0&&de<Se.distanceSq){if(de===0)return B[Oe]=!0,s.splice(s.lastIndexOf(Se),1),o(Nt,h,ve);Se.geometry=ve,Se.distanceSq=de}}else{if(de===0)return B[Oe]=!0,o(Nt,h,ve);s.push(B[Oe]={feature:Nt,layer:h,geometry:ve,distanceSq:de,callback:o})}},et=this.renderedTiles,vt,Ct=function(Nt,ve){var de=et[Nt],Oe=w.getTileCoordExtent(de.wrappedTileCoord);if(!Ti(Oe,R))return"continue";var Se=Object(Ot.c)(h),Fe=[de.executorGroups[Se]],wr=de.declutterExecutorGroups[Se];wr&&Fe.push(wr),Fe.some(function(hr){for(var Ke=hr===wr?e.declutterTree.all().map(function(Rn){return Rn.value}):null,Ir=0,yn=hr.length;Ir<yn;++Ir){var Sn=hr[Ir];if(vt=Sn.forEachFeatureAtCoordinate(t,l,f,i,V,Ke),vt)return!0}})},kt=0,Ht=et.length;!vt&&kt<Ht;++kt)Ct(kt);return vt},r.prototype.getFeatures=function(t){return new Promise(function(e,i){for(var o=this.getLayer(),s=Object(Ot.c)(o),l=o.getSource(),f=this.renderedProjection,h=f.getExtent(),v=this.renderedResolution,w=l.getTileGridForProjection(f),R=ar(this.renderedPixelToCoordinateTransform_,t.slice()),B=w.getTileCoordForCoordAndResolution(R,v),V,et=0,vt=this.renderedTiles.length;et<vt;++et)if(B.toString()===this.renderedTiles[et].tileCoord.toString()){if(V=this.renderedTiles[et],V.getState()===cn.LOADED){var Ct=w.getTileCoordExtent(V.tileCoord);l.getWrapX()&&f.canWrapX()&&!Pe(h,Ct)&&pt(R,f);break}V=void 0}if(!V||V.loadingSourceTiles>0){e([]);return}var kt=w.getTileCoordExtent(V.wrappedTileCoord),Ht=bi(kt),Nt=[(R[0]-Ht[0])/v,(Ht[1]-R[1])/v],ve=V.getSourceTiles().reduce(function(wr,hr){return wr.concat(hr.getFeatures())},[]),de=V.hitDetectionImageData[s];if(!de&&!this.animatingOrInteracting_){var Oe=ua(w.getTileSize(w.getZForResolution(v))),Se=this.renderedRotation_,Fe=[this.getRenderTransform(w.getTileCoordCenter(V.wrappedTileCoord),v,0,ju,Oe[0]*ju,Oe[1]*ju,0)];de=p8(Oe,Fe,ve,o.getStyleFunction(),w.getTileCoordExtent(V.wrappedTileCoord),V.getReplayState(o).renderedResolution,Se),V.hitDetectionImageData[s]=de}e(v8(Nt,ve,de))}.bind(this))},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.renderDeclutter=function(t){var e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,s=!(o[Ui.ANIMATING]||o[Ui.INTERACTING]),l=this.renderedTiles,f=0,h=l.length;f<h;++f){var v=l[f],w=v.declutterExecutorGroups[Object(Ot.c)(this.getLayer())];if(w)for(var R=w.length-1;R>=0;--R)w[R].execute(this.context,1,this.getTileRenderTransform(v,t),t.viewState.rotation,s,void 0,t.declutterTree)}e.globalAlpha=i},r.prototype.getTileRenderTransform=function(t,e){var i=e.pixelRatio,o=e.viewState,s=o.center,l=o.resolution,f=o.rotation,h=e.size,v=Math.round(h[0]*i),w=Math.round(h[1]*i),R=this.getLayer().getSource(),B=R.getTileGridForProjection(e.viewState.projection),V=t.tileCoord,et=B.getTileCoordExtent(t.wrappedTileCoord),vt=B.getTileCoordExtent(V,this.tmpExtent)[0]-et[0],Ct=ae(Xr(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,l,f,i,v,w,vt));return Ct},r.prototype.renderFrame=function(t,e){var i=t.viewHints,o=!(i[Ui.ANIMATING]||i[Ui.INTERACTING]);n.prototype.renderFrame.call(this,t,e),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var s=this.getLayer(),l=s.getRenderMode(),f=this.context,h=f.globalAlpha;f.globalAlpha=s.getOpacity();for(var v=tN[l],w=t.viewState,R=w.rotation,B=this.renderedTiles,V=[],et=[],vt=B.length-1;vt>=0;--vt)for(var Ct=B[vt],kt=this.getTileRenderTransform(Ct,t),Ht=Ct.executorGroups[Object(Ot.c)(s)],Nt=!1,ve=0,de=Ht.length;ve<de;++ve){var Oe=Ht[ve];if(!!Oe.hasExecutors(v)){var Se=Ct.tileCoord[0],Fe=void 0;if(!Nt&&(Fe=Oe.getClipCoords(kt),Fe)){f.save();for(var wr=0,hr=V.length;wr<hr;++wr){var Ke=V[wr];Se<et[wr]&&(f.beginPath(),f.moveTo(Fe[0],Fe[1]),f.lineTo(Fe[2],Fe[3]),f.lineTo(Fe[4],Fe[5]),f.lineTo(Fe[6],Fe[7]),f.moveTo(Ke[6],Ke[7]),f.lineTo(Ke[4],Ke[5]),f.lineTo(Ke[2],Ke[3]),f.lineTo(Ke[0],Ke[1]),f.clip())}}Oe.execute(f,1,kt,R,o,v),!Nt&&Fe&&(f.restore(),V.push(Fe),et.push(Se),Nt=!0)}}return f.globalAlpha=h,this.container},r.prototype.renderFeature=function(t,e,i,o,s){if(!i)return!1;var l=!1;if(Array.isArray(i))for(var f=0,h=i.length;f<h;++f)l=m2(o,t,i[f],e,this.boundHandleStyleImageChange_,void 0,s)||l;else l=m2(o,t,i,e,this.boundHandleStyleImageChange_,void 0,s);return l},r.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===gf.VECTOR)return!1;var i=t.getReplayState(e),o=e.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o},r.prototype.renderTileImage_=function(t,e){var i=this.getLayer(),o=t.getReplayState(i),s=i.getRevision(),l=t.executorGroups[Object(Ot.c)(i)];o.renderedTileRevision=s;var f=t.wrappedTileCoord,h=f[0],v=i.getSource(),w=e.pixelRatio,R=e.viewState,B=R.projection,V=v.getTileGridForProjection(B),et=V.getResolution(t.tileCoord[0]),vt=e.pixelRatio/t.wantedResolution*et,Ct=V.getResolution(h),kt=t.getContext(i);w=Math.round(Math.max(w,vt/w));var Ht=v.getTilePixelSize(h,w,B);kt.canvas.width=Ht[0],kt.canvas.height=Ht[1];var Nt=w/vt;if(Nt!==1){var ve=Kt(this.tmpTransform_);Xr(ve,Nt,Nt),kt.setTransform.apply(kt,ve)}var de=V.getTileCoordExtent(f,this.tmpExtent),Oe=vt/Ct,Se=Kt(this.tmpTransform_);Xr(Se,Oe,-Oe),_e(Se,-de[0],-de[3]);for(var Fe=0,wr=l.length;Fe<wr;++Fe){var hr=l[Fe];hr.execute(kt,Nt,Se,0,!0,QI[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},r}(w6),rN=eN,nN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iN=function(n){nN(r,n);function r(t){var e=this,i=t||{},o=Object(pn.a)({},i);delete o.preload,delete o.useInterimTilesOnError,e=n.call(this,o)||this,e.on,e.once,e.un,i.renderMode===gf.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var s=i.renderMode||gf.HYBRID;return ye(s==gf.HYBRID||s==gf.VECTOR,28),e.renderMode_=s,e.setPreload(i.preload?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e.getBackground,e.setBackground,e}return r.prototype.createRenderer=function(){return new rN(this)},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderMode=function(){return this.renderMode_},r.prototype.getPreload=function(){return this.get(nf.PRELOAD)},r.prototype.getUseInterimTilesOnError=function(){return this.get(nf.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setPreload=function(t){this.set(nf.PRELOAD,t)},r.prototype.setUseInterimTilesOnError=function(t){this.set(nf.USE_INTERIM_TILES_ON_ERROR,t)},r}(f2),oN=iN,aN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),j0={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},sN=["#00f","#0ff","#0f0","#ff0","#f00"],lN=function(n){aN(r,n);function r(t){var e=this,i=t||{},o=Object(pn.a)({},i);delete o.gradient,delete o.radius,delete o.blur,delete o.weight,e=n.call(this,o)||this,e.gradient_=null,e.addChangeListener(j0.GRADIENT,e.handleGradientChanged_),e.setGradient(i.gradient?i.gradient:sN),e.setBlur(i.blur!==void 0?i.blur:15),e.setRadius(i.radius!==void 0?i.radius:8);var s=i.weight?i.weight:"weight";return typeof s=="string"?e.weightFunction_=function(l){return l.get(s)}:e.weightFunction_=s,e.setRenderOrder(null),e}return r.prototype.getBlur=function(){return this.get(j0.BLUR)},r.prototype.getGradient=function(){return this.get(j0.GRADIENT)},r.prototype.getRadius=function(){return this.get(j0.RADIUS)},r.prototype.handleGradientChanged_=function(){this.gradient_=uN(this.getGradient())},r.prototype.setBlur=function(t){this.set(j0.BLUR,t)},r.prototype.setGradient=function(t){this.set(j0.GRADIENT,t)},r.prototype.setRadius=function(t){this.set(j0.RADIUS,t)},r.prototype.createRenderer=function(){return new O8(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return e!==void 0?co(e,0,1):1}.bind(this)}],vertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_weight = a_weight;
        }`,fragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          gl_FragColor = vec4(alpha, alpha, alpha, alpha);
        }`,hitVertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;
        attribute vec4 a_hitColor;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_hitColor = a_hitColor;
          v_weight = a_weight;
        }`,hitFragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          if (alpha < 0.05) {
            discard;
          }

          gl_FragColor = v_hitColor;
        }`,uniforms:{u_size:function(){return(this.get(j0.RADIUS)+this.get(j0.BLUR))*2}.bind(this),u_blurSlope:function(){return this.get(j0.RADIUS)/Math.max(1,this.get(j0.BLUR))}.bind(this)},postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},r.prototype.renderDeclutter=function(){},r}(f2);function uN(n){for(var r=1,t=256,e=Object(ur.a)(r,t),i=e.createLinearGradient(0,0,r,t),o=1/(n.length-1),s=0,l=n.length;s<l;++s)i.addColorStop(s*o,n[s]);return e.fillStyle=i,e.fillRect(0,0,r,t),e.canvas}var cN=lN,Ko=function(n){n=n||{};var r=this;this.dcount=0,this.show_progress=n.show_progress,this.oninfo=typeof n.oninfo=="function"?n.oninfo:null,this.onextent=typeof n.onextent=="function"?n.onextent:null,this.hasextent=n.extent||n.onextent,this.hastrash=n.trash,this.reordering=n.reordering!==!1,this._layers=[],this._layerGroup=n.layerGroup&&n.layerGroup.getLayers?n.layerGroup:null,this.onchangeCheck=typeof n.onchangeCheck=="function"?n.onchangeCheck:null,typeof n.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=n.displayInLayerSwitcher);var t;n.target?t=Xe.create("DIV",{className:n.switcherClass||"ol-layerswitcher"}):(t=Xe.create("DIV",{className:(n.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),n.collapsed!==!1?t.classList.add("ol-collapsed"):t.classList.add("ol-forceopen"),this.button=Xe.create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",function(e){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),r.overflow()}),n.mouseover&&(t.addEventListener("mouseleave",function(){t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),t.addEventListener("mouseover",function(){t.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),n.minibar&&(n.noScroll=!0),n.noScroll||(this.topv=Xe.create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){r.overflow("+50%")}}),this.botv=Xe.create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){r.overflow("-50%")}})),this._noScroll=n.noScroll),this.panel_=Xe.create("UL",{className:"panel"}),this.panelContainer_=Xe.create("DIV",{className:"panel-container",html:this.panel_,parent:t}),!n.target&&!n.noScroll&&Xe.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(e){r.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())}),this.header_=Xe.create("LI",{className:"ol-header",parent:this.panel_}),no.default.call(this,{element:t,target:n.target}),this.set("drawDelay",n.drawDelay||0),this.set("selection",n.selection),n.minibar&&setTimeout(function(){var e=Xe.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){e.refresh()})}.bind(this))};Oo(Ko,no.default),Ko.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},Ko.prototype.displayInLayerSwitcher=function(n){return n.get("displayInLayerSwitcher")!==!1},Ko.prototype.setMap=function(n){if(no.default.prototype.setMap.call(this,n),this.drawPanel(),this._listener)for(var r in this._listener)Object(Du.b)(this._listener[r]);this._listener=null,n&&(this._listener={moveend:n.on("moveend",this.viewChange.bind(this)),size:n.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=n.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},Ko.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},Ko.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},Ko.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},Ko.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},Ko.prototype.setHeader=function(n){Xe.setHTML(this.header_,n)},Ko.prototype.overflow=function(n){if(this.button&&!this._noScroll){if(Xe.hidden(this.panel_)){Xe.setStyle(this.element,{height:"auto"});return}var r=Xe.outerHeight(this.element),t=Xe.outerHeight(this.panel_),e=this.button.offsetTop+Xe.outerHeight(this.button),i=this.panel_.offsetTop-e;if(t>r-e){Xe.setStyle(this.element,{height:"100%"});var o=this.panel_.querySelectorAll("li.visible .li-content")[0],s=o?2*Xe.getStyle(o,"height"):0;switch(n){case 1:i+=s;break;case-1:i-=s;break;case"+50%":i+=Math.round(r/2);break;case"-50%":i-=Math.round(r/2);break}return i+t<=r-3*e/2?(i=r-3*e/2-t,Xe.hide(this.botv)):Xe.show(this.botv),i>=0?(i=0,Xe.hide(this.topv)):Xe.show(this.topv),Xe.setStyle(this.panel_,{top:i+"px"}),!0}else return Xe.setStyle(this.element,{height:"auto"}),Xe.setStyle(this.panel_,{top:0}),Xe.hide(this.botv),Xe.hide(this.topv),!1}else return!1},Ko.prototype._setLayerForLI=function(n,r){var t=[];r.getLayers&&t.push(r.getLayers().on("change:length",this.drawPanel.bind(this))),n&&(t.push(r.on("change:opacity",function(){this.setLayerOpacity(r,n)}.bind(this))),t.push(r.on("change:visible",function(){this.setLayerVisibility(r,n)}.bind(this)))),t.push(r.on("propertychange",function(e){(e.key==="displayInLayerSwitcher"||e.key==="openInLayerSwitcher")&&this.drawPanel(e)}.bind(this))),this._layers.push({li:n,layer:r,listeners:t})},Ko.prototype.setLayerOpacity=function(n,r){var t=r.querySelector(".layerswitcher-opacity-cursor");t&&(t.style.left=n.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:n})},Ko.prototype.setLayerVisibility=function(n,r){var t=r.querySelector(".ol-visibility");t&&(t.checked=n.getVisible()),n.getVisible()?r.classList.add("ol-visible"):r.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:n})},Ko.prototype._clearLayerForLI=function(){this._layers.forEach(function(n){n.listeners.forEach(function(r){Object(Du.b)(r)})}),this._layers=[]},Ko.prototype._getLayerForLI=function(n){for(var r=0,t;t=this._layers[r];r++)if(t.li===n)return t.layer;return null},Ko.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(n){var r=this._getLayerForLI(n);r&&(this.testLayerVisibility(r)?n.classList.remove("ol-layer-hidden"):n.classList.add("ol-layer-hidden"))}.bind(this))},Ko.prototype.getPanel=function(){return this.panelContainer_},Ko.prototype.drawPanel=function(){if(!!this.getMap()){var n=this;this.dcount++,setTimeout(function(){n.drawPanel_()},this.get("drawDelay")||0)}},Ko.prototype.drawPanel_=function(){if(!(--this.dcount||this.dragging_)){var n=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(r){r.classList.contains("ol-header")||r.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=n}},Ko.prototype.switchLayerVisibility=function(n,r){n.get("baseLayer")?(n.getVisible()||n.setVisible(!0),r.forEach(function(t){n!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)})):n.setVisible(!n.getVisible())},Ko.prototype.testLayerVisibility=function(n){if(!this.getMap())return!0;var r=this.getMap().getView().getResolution(),t=this.getMap().getView().getZoom();if(n.getMaxResolution()<=r||n.getMinResolution()>=r)return!1;if(n.getMinZoom&&(n.getMinZoom()>=t||n.getMaxZoom()<t))return!1;var e=n.getExtent();if(e){var i=this.getMap().getView().calculateExtent(this.getMap().getSize());return Ti(i,e)}return!0},Ko.prototype.dragOrdering_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.currentTarget.parentNode.parentNode,e=!0,i=this.panel_,o,s=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY,l,f,h,v;t.parentNode.classList.add("drag");function w(){if(l){var B=h,V=r.getSelection()===B;if(B&&l){var et;v?et=v.getLayers():et=r._layerGroup?r._layerGroup.getLayers():r.getMap().getLayers();for(var vt=et.getArray(),Ct=0;Ct<vt.length;Ct++)if(vt[Ct]==B){et.removeAt(Ct);break}for(var kt=0;kt<vt.length;kt++)if(vt[kt]===l){Ct>kt?et.insertAt(kt,B):et.insertAt(kt+1,B);break}}V&&r.selectLayer(B),r.dispatchEvent({type:"reorder-end",layer:B,group:v})}t.parentNode.querySelectorAll("li").forEach(function(Ht){Ht.classList.remove("dropover"),Ht.classList.remove("dropover-after"),Ht.classList.remove("dropover-before")}),t.classList.remove("drag"),t.parentNode.classList.remove("drag"),r.element.classList.remove("drag"),f&&f.remove(),Xe.removeListener(document,"mousemove touchmove",R),Xe.removeListener(document,"mouseup touchend touchcancel",w)}function R(B){if(o=B.pageY||B.touches&&B.touches.length&&B.touches[0].pageY||B.changedTouches&&B.changedTouches.length&&B.changedTouches[0].pageY,e&&Math.abs(s-o)>2&&(e=!1,t.classList.add("drag"),h=r._getLayerForLI(t),l=!1,v=r._getLayerForLI(t.parentNode.parentNode),f=Xe.create("LI",{className:"ol-dragover",html:t.innerHTML,style:{position:"absolute","z-index":1e4,left:t.offsetLeft,opacity:.5,width:Xe.outerWidth(t),height:Xe.getStyle(t,"height")},parent:i}),r.element.classList.add("drag"),r.dispatchEvent({type:"reorder-start",layer:h,group:v})),!e){B.preventDefault(),B.stopPropagation(),Xe.setStyle(f,{top:o-Xe.offsetRect(i).top+i.scrollTop+5});var V;for(B.touches?V=document.elementFromPoint(B.touches[0].clientX,B.touches[0].clientY):V=B.target,V.classList.contains("ol-switcherbottomdiv")?r.overflow(-1):V.classList.contains("ol-switchertopdiv")&&r.overflow(1);V&&V.tagName!=="LI";)V=V.parentNode;(!V||!V.classList.contains("dropover"))&&t.parentNode.querySelectorAll("li").forEach(function(et){et.classList.remove("dropover"),et.classList.remove("dropover-after"),et.classList.remove("dropover-before")}),V&&V.parentNode.classList.contains("drag")&&V!==t?(l=r._getLayerForLI(V),l&&!l.get("allwaysOnTop")==!h.get("allwaysOnTop")?(V.classList.add("dropover"),V.classList.add(t.offsetTop<V.offsetTop?"dropover-after":"dropover-before")):l=!1,Xe.show(f)):(l=!1,V===t?Xe.hide(f):Xe.show(f)),l?f.classList.remove("forbidden"):f.classList.add("forbidden")}}Xe.addListener(document,"mousemove touchmove",R),Xe.addListener(document,"mouseup touchend touchcancel",w)},Ko.prototype.dragOpacity_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.target,e=this._getLayerForLI(t.parentNode.parentNode.parentNode);if(!e)return;var i=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX,o=Xe.getStyle(t,"left")-i;r.dragging_=!0;function s(){Xe.removeListener(document,"mouseup touchend touchcancel",s),Xe.removeListener(document,"mousemove touchmove",l),r.dragging_=!1}function l(f){var h=f.pageX||f.touches&&f.touches.length&&f.touches[0].pageX||f.changedTouches&&f.changedTouches.length&&f.changedTouches[0].pageX,v=(o+h)/Xe.getStyle(t.parentNode,"width"),w=Math.max(0,Math.min(1,v));Xe.setStyle(t,{left:w*100+"%"}),t.parentNode.nextElementSibling.innerHTML=Math.round(w*100),e.setOpacity(w)}Xe.addListener(document,"mouseup touchend touchcancel",s),Xe.addListener(document,"mousemove touchmove",l)},Ko.prototype.drawList=function(n,r){var t=this,e=r.getArray(),i=function(v){v.stopPropagation(),v.preventDefault();var w=t._getLayerForLI(this.parentNode.parentNode);t.switchLayerVisibility(w,r),t.get("selection")&&w.getVisible()&&t.selectLayer(w),t.onchangeCheck&&t.onchangeCheck(w)};function o(v){v.stopPropagation(),v.preventDefault();var w=t._getLayerForLI(this.parentNode.parentNode);t.oninfo(w),t.dispatchEvent({type:"info",layer:w})}function s(v){v.stopPropagation(),v.preventDefault();var w=t._getLayerForLI(this.parentNode.parentNode);t.onextent?t.onextent(w):t.getMap().getView().fit(w.getExtent(),t.getMap().getSize()),t.dispatchEvent({type:"extent",layer:w})}function l(v){v.stopPropagation(),v.preventDefault();var w=this.parentNode.parentNode.parentNode.parentNode,R,B=t._getLayerForLI(w);B?(R=t._getLayerForLI(this.parentNode.parentNode),B.getLayers().remove(R),B.getLayers().getLength()==0&&!B.get("noSwitcherDelete")&&l.call(w.querySelectorAll(".layerTrash")[0],v)):(w=this.parentNode.parentNode,t.getMap().removeLayer(t._getLayerForLI(w)))}function f(v){if(!this.displayInLayerSwitcher(v)){this._setLayerForLI(null,v);return}var w=Xe.create("LI",{className:(v.getVisible()?"visible ":" ")+(v.get("baseLayer")?"baselayer":""),parent:n});this._setLayerForLI(w,v),this._selectedLayer===v&&w.classList.add("ol-layer-select");var R=Xe.create("DIV",{className:"ol-layerswitcher-buttons",parent:w}),B=Xe.create("DIV",{className:"li-content",parent:w});Xe.create("INPUT",{type:v.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:v.getVisible(),click:i,parent:B});var V=Xe.create("LABEL",{title:v.get("title")||v.get("name"),click:i,unselectable:"on",style:{userSelect:"none"},parent:B});if(V.addEventListener("selectstart",function(){return!1}),Xe.create("SPAN",{html:v.get("title")||v.get("name"),click:function(Nt){this.get("selection")&&(Nt.stopPropagation(),this.selectLayer(v))}.bind(this),parent:V}),this.reordering&&(h<e.length-1&&(v.get("allwaysOnTop")||!e[h+1].get("allwaysOnTop"))||h>0&&(!v.get("allwaysOnTop")||e[h-1].get("allwaysOnTop")))&&Xe.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(Nt){t.dragOrdering_(Nt)}},parent:R}),v.getLayers){var et=0;v.getLayers().forEach(function(Nt){t.displayInLayerSwitcher(Nt)&&et++}),et&&Xe.create("DIV",{className:v.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var Nt=t._getLayerForLI(this.parentNode.parentNode);Nt.set("openInLayerSwitcher",!Nt.get("openInLayerSwitcher"))},parent:R})}if(this.oninfo&&Xe.create("DIV",{className:"layerInfo",title:this.tip.info,click:o,parent:R}),this.hastrash&&!v.get("noSwitcherDelete")&&Xe.create("DIV",{className:"layerTrash",title:this.tip.trash,click:l,parent:R}),this.hasextent&&e[h].getExtent()){var vt=e[h].getExtent();vt.length==4&&vt[0]<vt[2]&&vt[1]<vt[3]&&Xe.create("DIV",{className:"layerExtent",title:this.tip.extent,click:s,parent:R})}if(this.show_progress&&v instanceof qm){var Ct=Xe.create("DIV",{className:"layerswitcher-progress",parent:B});this.setprogress_(v),v.layerswitcher_progress=Xe.create("DIV",{parent:Ct})}var kt=Xe.create("DIV",{className:"layerswitcher-opacity",click:function(Nt){if(Nt.target===this){Nt.stopPropagation(),Nt.preventDefault();var ve=Math.max(0,Math.min(1,Nt.offsetX/Xe.getStyle(this,"width")));t._getLayerForLI(this.parentNode.parentNode).setOpacity(ve)}},parent:B});if(Xe.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:v.getOpacity()*100+"%"},on:{"mousedown touchstart":function(Nt){t.dragOpacity_(Nt)}},parent:kt}),Xe.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(v.getOpacity()*100),parent:B}),v.getLayers&&(w.classList.add("ol-layer-group"),v.get("openInLayerSwitcher")===!0)){var Ht=Xe.create("UL",{parent:w});this.drawList(Ht,v.getLayers())}w.classList.add(this.getLayerClass(v)),this.dispatchEvent({type:"drawlist",layer:v,li:w})}for(var h=e.length-1;h>=0;h--)f.call(this,e[h]);this.viewChange(),n===this.panel_&&this.overflow()},Ko.prototype.getLayerClass=function(n){return n?n.getLayers?"ol-layer-group":n instanceof ac?"ol-layer-vector":n instanceof oN?"ol-layer-vectortile":n instanceof qm?"ol-layer-tile":n instanceof r8?"ol-layer-image":n instanceof cN?"ol-layer-heatmap":n.getFeatures?"ol-layer-vectorimage":"unknown":"none"},Ko.prototype.selectLayer=function(n,r){if(!n){if(!this.getMap())return;n=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=n,this.drawPanel(),r||this.dispatchEvent({type:"select",layer:n})},Ko.prototype.getSelection=function(){return this._selectedLayer},Ko.prototype.setprogress_=function(n){if(!n.layerswitcher_progress){var r=0,t=0,e=function(){t===r?(t=r=0,Xe.setStyle(n.layerswitcher_progress,{width:0})):Xe.setStyle(n.layerswitcher_progress,{width:(r/t*100).toFixed(1)+"%"})};n.getSource().on("tileloadstart",function(){t++,e()}),n.getSource().on("tileloadend",function(){r++,e()}),n.getSource().on("tileloaderror",function(){r++,e()})}};var u5=Ko,fN={name:"ol-layerswitcher-control",setup:function(r,t){var e=Ss(u5,r,t),i=e.control;return{control:i}},props:{selection:{type:Boolean},displayInLayerSwitcher:{type:Function},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{type:Function},extent:{type:Boolean},onextent:{type:Function},drawDelay:{type:Number},collapsed:{type:Boolean,default:!0},layerGroup:{type:Object},noScroll:{type:Boolean,default:!1}}},I2=lr()(fN,[["render",JI]]);function hN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var dN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pN=function(n){dN(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var s=i.params||{},l="TRANSPARENT"in s?s.TRANSPARENT:!0;return e=n.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:!l,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,zDirection:i.zDirection})||this,e.gutter_=i.gutter!==void 0?i.gutter:0,e.params_=s,e.v13_=!0,e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.tmpExtent_=at(),e.updateV13_(),e.setKey(e.getKeyForParams_()),e}return r.prototype.getFeatureInfoUrl=function(t,e,i,o){var s=Gn(i),l=this.getProjection(),f=this.getTileGrid();f||(f=this.getTileGridForProjection(s));var h=f.getZForResolution(e,this.zDirection),v=f.getTileCoordForCoordAndZ(t,h);if(!(f.getResolutions().length<=v[0])){var w=f.getResolution(v[0]),R=f.getTileCoordExtent(v,this.tmpExtent_),B=ua(f.getTileSize(v[0]),this.tmpSize),V=this.gutter_;V!==0&&(B=Oa(B,V,this.tmpSize),R=Rt(R,w*V,R)),l&&l!==s&&(w=r1(l,s,t,w),R=Al(R,s,l),t=$n(t,s,l));var et={SERVICE:"WMS",VERSION:ff,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(pn.a)(et,this.params_,o);var vt=Math.floor((t[0]-R[0])/w),Ct=Math.floor((R[3]-t[1])/w);return et[this.v13_?"I":"X"]=vt,et[this.v13_?"J":"Y"]=Ct,this.getRequestUrl_(v,B,R,1,l||s,et)}},r.prototype.getLegendUrl=function(t,e){if(this.urls[0]!==void 0){var i={SERVICE:"WMS",VERSION:ff,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,s=!Array.isArray(o)||o.length===1;if(!s)return;i.LAYER=o}if(t!==void 0){var l=this.getProjection()?this.getProjection().getMetersPerUnit():1,f=28e-5;i.SCALE=t*l/f}return Object(pn.a)(i,e),Td(this.urls[0],i)}},r.prototype.getGutter=function(){return this.gutter_},r.prototype.getParams=function(){return this.params_},r.prototype.getRequestUrl_=function(t,e,i,o,s,l){var f=this.urls;if(!!f){if(l.WIDTH=e[0],l.HEIGHT=e[1],l[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(l.STYLES=""),o!=1)switch(this.serverType_){case hf.GEOSERVER:var h=90*o+.5|0;"FORMAT_OPTIONS"in l?l.FORMAT_OPTIONS+=";dpi:"+h:l.FORMAT_OPTIONS="dpi:"+h;break;case hf.MAPSERVER:l.MAP_RESOLUTION=90*o;break;case hf.CARMENTA_SERVER:case hf.QGIS:l.DPI=90*o;break;default:ye(!1,52);break}var v=s.getAxisOrientation(),w=i;if(this.v13_&&v.substr(0,2)=="ne"){var R=void 0;R=i[0],w[0]=i[1],w[1]=R,R=i[2],w[2]=i[3],w[3]=R}l.BBOX=w.join(",");var B;if(f.length==1)B=f[0];else{var V=Us(W6(t),f.length);B=f[V]}return Td(B,l)}},r.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},r.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},r.prototype.updateParams=function(t){Object(pn.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},r.prototype.updateV13_=function(){var t=this.params_.VERSION||ff;this.v13_=N(t,"1.3")>=0},r.prototype.tileUrlFunction=function(t,e,i){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(i)),!(o.getResolutions().length<=t[0])){e!=1&&(!this.hidpi_||this.serverType_===void 0)&&(e=1);var s=o.getResolution(t[0]),l=o.getTileCoordExtent(t,this.tmpExtent_),f=ua(o.getTileSize(t[0]),this.tmpSize),h=this.gutter_;h!==0&&(f=Oa(f,h,this.tmpSize),l=Rt(l,s*h,l)),e!=1&&(f=r0(f,e,this.tmpSize));var v={SERVICE:"WMS",VERSION:ff,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(pn.a)(v,this.params_),this.getRequestUrl_(t,f,l,e,i,v)}},r}(O2),vN=pN;_2.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},C8.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileGrid().getTileCoordForCoordAndResolution(n,r),e=this.getTileUrlFunction();return e.call(this,t,this.getProjection())},vN.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileUrlFunction();if(t){var e=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=e.getTileCoordForCoordAndResolution(n,r);return t.call(this,i,1,this.getProjection())}var o=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{});return o=o.replace(/getfeatureinfo/i,"GetMap"),o},O.prototype.getPreview=function(n,r,t){if(this.get("preview"))return[this.get("preview")];if(r||(r=150),r<this.getMinResolution()||r>this.getMaxResolution()){var e=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),e<.15&&(e=.15),r=i;i>e;)e*=2,i/=2,r=e}var o=this.getExtent();return n||(n=[21020,6355964]),o&&!he(o,n)&&(n=[(o[0]+o[2])/2,(o[1]+o[3])/2]),t&&(n=$n(n,t,this.getSource().getProjection())),this.getSource&&this.getSource()?[this.getSource().getPreview(n,r)]:[]},Wi.prototype.getPreview=function(n,r){if(this.get("preview"))return[this.get("preview")];var t=[];if(this.getLayers)for(var e=this.getLayers().getArray(),i=0;i<e.length;i++)t=t.concat(e[i].getPreview(n,r));return t};var N2=function(n){n=n||{},n.switcherClass="ol-layerswitcher-image",n.mouseover!==!1&&(n.mouseover=!0),u5.call(this,n)};Oo(N2,u5),N2.prototype.drawList=function(n,r){var t=this,e=function(i){i.preventDefault();var o=t._getLayerForLI(this);t.switchLayerVisibility(o,r),i.type=="touchstart"&&t.element.classList.add("ol-collapsed")};Xe.setStyle(n,{height:"auto"}),r.forEach(function(i){if(t.displayInLayerSwitcher(i)){var o=i.getPreview?i.getPreview():["none"],s=Xe.create("LI",{className:"ol-imgcontainer"+(i.getVisible()?" ol-visible":""),on:{"touchstart click":e},parent:n});t._setLayerForLI(s,i),o.forEach(function(l){Xe.create("IMG",{src:l,parent:s})}),Xe.create("p",{html:i.get("title")||i.get("name"),parent:s}),t.testLayerVisibility(i)&&s.classList.add("ol-layer-hidden")}})},N2.prototype.overflow=function(){};var gN=N2,mN={name:"ol-layerswitcherimage-control",extends:I2,setup:function(r,t){var e=Ss(gN,r,t),i=e.control;return{control:i}}},c5=lr()(mN,[["render",hN]]);function yN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var gl=function(n){n||(n={});var r=document.createElement("div");if(n.target)r=Xe.create("DIV",{className:n.className||"ol-mapzone"});else{r=Xe.create("DIV",{className:(n.className||"ol-mapzone")+" ol-unselectable ol-control ol-collapsed"});var t=Xe.create("BUTTON",{type:"button",on:{click:function(){r.classList.toggle("ol-collapsed"),e.forEach(function(i){i.updateSize()})}.bind(this)},parent:r});Xe.create("I",{parent:t})}no.default.call(this,{element:r,target:n.target}),this.set("centerOnClick",n.centerOnClick);var e=this._maps=[];this._projection=n.projection,this._layer=n.layer,n.zones.forEach(this.addZone.bind(this)),setTimeout(function(){e.forEach(function(i){i.updateSize()})})};Sy(gl,no.default),gl.prototype.setCollapsed=function(n){n?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(r){r.updateSize()})):this.element.classList.add("ol-collapsed")},gl.prototype.getCollapsed=function(){return this.element.classList.contains("ol-collapsed")},gl.prototype.setVisible=gl.prototype.setCollapsed,gl.prototype.getMaps=function(){return this._maps},gl.prototype.getLength=function(){return this._maps.length},gl.prototype.addZone=function(n){var r=new lo({zoom:6,center:[0,0],projection:this._projection}),t;n.map?t=Al(n.map.getView().calculateExtent(),n.map.getView().getProjection(),r.getProjection()):t=Al(n.extent,"EPSG:4326",r.getProjection());var e=Xe.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:function(){var s=-1;this._maps.forEach(function(l,f){l.get("zone")===n&&(s=f)}),this.dispatchEvent({type:"select",zone:n,index:s,coordinate:zn(t),extent:t}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(t),this.setVisible(!1)}.bind(this)}),i;n.layer?i=n.layer:typeof this._layer=="function"?i=this._layer(n):i=new this._layer.constructor({source:this._layer.getSource()});var o=new Ie({target:e,view:r,controls:[],interactions:[],layers:[i]});o.set("zone",n),this._maps.push(o),r.fit(t),Xe.create("P",{html:n.title,parent:e})},gl.prototype.removeZone=function(n){var r=this.element.querySelectorAll(".ol-mapzonezone")[n];r&&(r.remove(),this._maps.splice(n,1))},gl.zones={},gl.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La r\xE9union",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}],gl.zones.TOM=[{title:"Polyn\xE9sie Fran\xE7aise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Cal\xE9donie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barth\xE9lemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}],gl.zones.DOMTOM=[{title:"M\xE9tropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(gl.zones.DOM,gl.zones.TOM);var _N=gl,EN={name:"ol-zone-control",setup:function(r,t){var e=Ss(_N,r,t),i=e.control;return{control:i}},props:{className:{type:String},zones:{type:Array},layer:{type:[Object,Function]},projection:{type:String,default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0}}},f5=lr()(EN,[["render",yN]]);function F2(n){F2.installed||(F2.installed=!0,n.component(Uy.name,Uy),n.component(zy.name,zy),n.component(Vy.name,Vy),n.component(Hy.name,Hy),n.component(Ky.name,Ky),n.component($y.name,$y),n.component(Zy.name,Zy),n.component(Jy.name,Jy),n.component(Z8.name,Z8),n.component(qy.name,qy),n.component(Qy.name,Qy),n.component(t5.name,t5),n.component(r5.name,r5),n.component(n5.name,n5),n.component(s5.name,s5),n.component(l5.name,l5),n.component(I2.name,I2),n.component(c5.name,c5),n.component(f5.name,f5))}var SN=F2;function wN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}function D2(n,r,t){return U8()?D2=Reflect.construct:D2=function(i,o,s){var l=[null];l.push.apply(l,o);var f=Function.bind.apply(i,l),h=new f;return s&&b2(h,s.prototype),h},D2.apply(null,arguments)}u("07ac");function Md(n,r){var t=Object(F.inject)("feature"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return D2(n,X8(Object.values(i)))});return Object(F.watch)(i,function(){t.value.setGeometry(o.value),t.value.changed()}),Object(F.watch)(t,function(){t.value.setGeometry(o.value)}),Object(F.onMounted)(function(){t.value.setGeometry(o.value)}),Object(F.onUnmounted)(function(){t.value.setGeometry(null)}),{geometry:o}}var xN={name:"ol-geom-point",setup:function(r){var t=Md(Ii,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},h5=lr()(xN,[["render",wN]]);function ON(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var TN={name:"ol-geom-line-string",setup:function(r){var t=Md(Xo,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},d5=lr()(TN,[["render",ON]]);function bN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var AN={name:"ol-geom-polygon",setup:function(r){var t=Md(so,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},p5=lr()(AN,[["render",bN]]);function MN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var RN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CN=function(n){RN(r,n);function r(t,e){var i=n.call(this)||this;return e&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendPoint=function(t){this.flatCoordinates?Object(K.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){if(o<$t(this.getExtent(),t,e))return o;for(var s=this.flatCoordinates,l=this.stride,f=0,h=s.length;f<h;f+=l){var v=_a(t,e,s[f],s[f+1]);if(v<o){o=v;for(var w=0;w<l;++w)i[w]=s[f+w];i.length=l}}return o},r.prototype.getCoordinates=function(){return Di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Ii(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},r.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,o=[],s=0,l=t.length;s<l;s+=i){var f=new Ii(t.slice(s,s+i),e);o.push(f)}return o},r.prototype.getType=function(){return Ee.MULTI_POINT},r.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,o=0,s=e.length;o<s;o+=i){var l=e[o],f=e[o+1];if(Ue(t,l,f))return!0}return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Er(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Mo),h0=CN,LN={name:"ol-geom-multi-point",setup:function(r){var t=Md(h0,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},v5=lr()(LN,[["render",MN]]);function PN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var IN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),NN=function(n){IN(r,n);function r(t,e,i){var o=n.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,e);else if(e!==void 0&&i)o.setFlatCoordinates(e,t),o.ends_=i;else{for(var s=o.getLayout(),l=t,f=[],h=[],v=0,w=l.length;v<w;++v){var R=l[v];v===0&&(s=R.getLayout()),Object(K.c)(f,R.getFlatCoordinates()),h.push(f.length)}o.setFlatCoordinates(s,f),o.ends_=h}return o}return r.prototype.appendLineString=function(t){this.flatCoordinates?Object(K.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<$t(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(G(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),we(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,o))},r.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=tr.XYM&&this.layout!=tr.XYZM||this.flatCoordinates.length===0)return null;var o=e!==void 0?e:!1,s=i!==void 0?i:!1;return BI(this.flatCoordinates,0,this.ends_,this.stride,t,o,s)},r.prototype.getCoordinates=function(){return wo(this.flatCoordinates,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Xo(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,o=[],s=0,l=0,f=e.length;l<f;++l){var h=e[l],v=new Xo(t.slice(s,h),i);o.push(v),s=h}return o},r.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,o=this.ends_,s=this.stride,l=0,f=o.length;l<f;++l){var h=o[l],v=L2(e,i,h,s,.5);Object(K.c)(t,v),i=h}return t},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=Qn(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new r(e,tr.XY,i)},r.prototype.getType=function(){return Ee.MULTI_LINE_STRING},r.prototype.intersectsExtent=function(t){return Kh(this.flatCoordinates,0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=kr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(Mo),au=NN,FN={name:"ol-geom-multi-line-string",setup:function(r){var t=Md(au,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},g5=lr()(FN,[["render",PN]]);function DN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}function i7(n,r,t,e){for(var i=[],o=at(),s=0,l=t.length;s<l;++s){var f=t[s];o=De(n,r,f[0],e),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),r=f[f.length-1]}return i}var jN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GN=function(n){jN(r,n);function r(t,e,i){var o=n.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var s=o.getLayout(),l=t,f=[],h=[],v=0,w=l.length;v<w;++v){var R=l[v];v===0&&(s=R.getLayout());for(var B=f.length,V=R.getEnds(),et=0,vt=V.length;et<vt;++et)V[et]+=B;Object(K.c)(f,R.getFlatCoordinates()),h.push(V)}e=s,t=f,i=h}return e!==void 0&&i?(o.setFlatCoordinates(e,t),o.endss_=i):o.setCoordinates(t,e),o}return r.prototype.appendPolygon=function(t){var e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Object(K.c)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var o=0,s=e.length;o<s;++o)e[o]+=i}this.endss_.push(e),this.changed()},r.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();var o=new r(this.flatCoordinates.slice(),this.layout,e);return o.applyProperties(this),o},r.prototype.closestPointXY=function(t,e,i,o){return o<$t(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Et(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ve(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.containsXY=function(t,e){return Vc(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},r.prototype.getArea=function(){return Yh(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Cu(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,va(e,0,this.endss_,this.stride)},r.prototype.getEndss=function(){return this.endss_},r.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=i7(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Ys(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},r.prototype.getInteriorPoints=function(){return new h0(this.getFlatInteriorPoints().slice(),tr.XYM)},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Ru(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Cu(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=Hi(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new r(e,tr.XY,i)},r.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(t===0)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var o=this.endss_[t].slice(),s=o[o.length-1];if(e!==0)for(var l=0,f=o.length;l<f;++l)o[l]-=e;return new so(this.flatCoordinates.slice(e,s),this.layout,o)},r.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,o=[],s=0,l=0,f=i.length;l<f;++l){var h=i[l].slice(),v=h[h.length-1];if(s!==0)for(var w=0,R=h.length;w<R;++w)h[w]-=s;var B=new so(e.slice(s,v),t,h);o.push(B),s=v}return o},r.prototype.getType=function(){return Ee.MULTI_POLYGON},r.prototype.intersectsExtent=function(t){return Tp(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=ke(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},r}(Mo),ml=GN,BN={name:"ol-geom-multi-polygon",setup:function(r){var t=Md(ml,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},m5=lr()(BN,[["render",DN]]);function j2(n){j2.installed||(j2.installed=!0,n.component(h5.name,h5),n.component(d5.name,d5),n.component(p5.name,p5),n.component(v5.name,v5),n.component(g5.name,g5),n.component(m5.name,m5))}var UN=j2;function kN(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var zN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),o7=function(n){zN(r,n);function r(t,e,i){var o=n.call(this)||this;if(i!==void 0&&e===void 0)o.setFlatCoordinates(i,t);else{var s=e||0;o.setCenterAndRadius(t,s,i)}return o}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){var s=this.flatCoordinates,l=t-s[0],f=e-s[1],h=l*l+f*f;if(h<o){if(h===0)for(var v=0;v<this.stride;++v)i[v]=s[v];else{var w=this.getRadius()/Math.sqrt(h);i[0]=s[0]+w*l,i[1]=s[1]+w*f;for(var v=2;v<this.stride;++v)i[v]=s[v]}return i.length=this.stride,h}else return o},r.prototype.containsXY=function(t,e){var i=this.flatCoordinates,o=t-i[0],s=e-i[1];return o*o+s*s<=this.getRadiusSquared_()},r.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return $(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},r.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},r.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},r.prototype.getType=function(){return Ee.CIRCLE},r.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Ti(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||t[1]<=i[1]&&t[3]>=i[1]?!0:ui(t,this.intersectsCoordinate.bind(this))}return!1},r.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+i;for(var s=1;s<e;++s)o[e+s]=t[s];this.setFlatCoordinates(this.layout,o),this.changed()},r.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,s=He(o,0,t,this.stride);o[s++]=o[0]+e;for(var l=1,f=this.stride;l<f;++l)o[s++]=o[l];o.length=s,this.changed()},r.prototype.getCoordinates=function(){return null},r.prototype.setCoordinates=function(t,e){},r.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},r.prototype.rotate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(Zn(i,0,i.length,o,t,e,i)),this.changed()},r.prototype.translate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(_i(i,0,i.length,o,t,e,i)),this.changed()},r}(Mo);o7.prototype.transform;var y5=o7,a7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),To={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},G2={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},B2=function(n){a7(r,n);function r(t,e){var i=n.call(this,t)||this;return i.feature=e,i}return r}(sr.a),VN=function(n){a7(r,n);function r(t){var e=this,i=t;i.stopDown||(i.stopDown=te.a),e=n.call(this,i)||this,e.on,e.once,e.un,e.shouldHandle_=!1,e.downPx_=null,e.downTimeout_,e.lastDragTime_,e.pointerType_,e.freehand_=!1,e.source_=t.source?t.source:null,e.features_=t.features?t.features:null,e.snapTolerance_=t.snapTolerance?t.snapTolerance:12,e.type_=t.type,e.mode_=HN(e.type_),e.stopClick_=!!t.stopClick,e.minPoints_=t.minPoints?t.minPoints:e.mode_===To.POLYGON?3:2,e.maxPoints_=e.mode_===To.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,e.finishCondition_=t.finishCondition?t.finishCondition:te.b;var o=t.geometryFunction;if(!o){var s=e.mode_;if(s===To.CIRCLE)o=function(f,h,v){var w=h||new y5([NaN,NaN]),R=lt(f[0]),B=Bt(R,lt(f[f.length-1]));return w.setCenterAndRadius(R,Math.sqrt(B)),w};else{var l;s===To.POINT?l=Ii:s===To.LINE_STRING?l=Xo:s===To.POLYGON&&(l=so),o=function(f,h,v){return h?s===To.POLYGON?f[0].length?h.setCoordinates([f[0].concat([f[0][0]])]):h.setCoordinates([]):h.setCoordinates(f):h=new l(f),h}}}return e.geometryFunction_=o,e.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,e.finishCoordinate_=null,e.sketchFeature_=null,e.sketchPoint_=null,e.sketchCoords_=null,e.sketchLine_=null,e.sketchLineCoords_=null,e.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,e.overlay_=new ac({source:new bc({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:WN(),updateWhileInteracting:!0}),e.geometryName_=t.geometryName,e.condition_=t.condition?t.condition:tu,e.freehandCondition_,t.freehand?e.freehandCondition_=nh:e.freehandCondition_=t.freehandCondition?t.freehandCondition:Jc,e.addChangeListener(rh.ACTIVE,e.updateState_),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleEvent=function(t){t.originalEvent.type===un.a.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==To.POINT&&this.freehandCondition_(t);var e=t.type===gn.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===gn.POINTERDRAG){var o=Date.now();o-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===gn.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===gn.POINTERDOWN?i=!1:e&&this.getPointerCount()<2?(i=t.type===gn.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===gn.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===gn.DBLCLICK&&(i=!1),n.prototype.handleEvent.call(this,t)&&i},r.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Yn(gn.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},r.prototype.handleUpEvent=function(t){var e=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_===To.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},r.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,o=e[0]-i[0],s=e[1]-i[1],l=o*o+s*s;if(this.shouldHandle_=this.freehand_?l>this.squaredClickTolerance_:l<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},r.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,o=[this.finishCoordinate_],s=this.mode_;if(s===To.POINT)e=!0;else if(s===To.CIRCLE)e=this.sketchCoords_.length===2;else if(s===To.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(s===To.POLYGON){var l=this.sketchCoords_;i=l[0].length>this.minPoints_,o=[l[0][0],l[0][l[0].length-2]]}if(i)for(var f=this.getMap(),h=0,v=o.length;h<v;h++){var w=o[h],R=f.getPixelFromCoordinate(w),B=t[0]-R[0],V=t[1]-R[1],et=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(B*B+V*V)<=et,e){this.finishCoordinate_=w;break}}}return e},r.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new Cn(new Ii(t)),this.updateSketchFeatures_();else{var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}},r.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Cn);var e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new Xo(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))},r.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===To.POINT?this.sketchCoords_=t.slice():this.mode_===To.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Cn(new Xo(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Cn,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new B2(G2.DRAWSTART,this.sketchFeature_))},r.prototype.modifyDrawing_=function(t){var e=this.getMap(),i=this.sketchFeature_.getGeometry(),o=e.getView().getProjection(),s,l;if(this.mode_===To.POINT?l=this.sketchCoords_:this.mode_===To.POLYGON?(s=this.sketchCoords_[0],l=s[s.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,l=s[s.length-1]),l[0]=t[0],l[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,o),this.sketchPoint_){var f=this.sketchPoint_.getGeometry();f.setCoordinates(t)}if(i.getType()===Ee.POLYGON&&this.mode_!==To.POLYGON)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){var h=this.sketchLine_.getGeometry();h.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},r.prototype.addToDrawing_=function(t){var e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),o,s,l=this.mode_;l===To.LINE_STRING||l===To.CIRCLE?(this.finishCoordinate_=t.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():o=!0),s.push(t.slice()),this.geometryFunction_(s,e,i)):l===To.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():o=!0),s.push(t.slice()),o&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,e,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),o&&this.finishDrawing()},r.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),e=this.getMap().getView().getProjection(),i,o=this.mode_;if(o===To.LINE_STRING||o===To.CIRCLE){if(i=this.sketchCoords_,i.splice(-2,1),i.length>=2){this.finishCoordinate_=i[i.length-2].slice();var s=this.finishCoordinate_.slice();i[i.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(i,t,e),t.getType()===Ee.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(o===To.POLYGON){i=this.sketchCoords_[0],i.splice(-2,1);var l=this.sketchLine_.getGeometry();if(i.length>=2){var s=i[i.length-2].slice();i[i.length-1]=s,this.createOrUpdateSketchPoint_(s)}l.setCoordinates(i),this.geometryFunction_(this.sketchCoords_,t,e)}i.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},r.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var e=this.sketchCoords_,i=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===To.LINE_STRING?(e.pop(),this.geometryFunction_(e,i,o)):this.mode_===To.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i,o),e=i.getCoordinates()),this.type_===Ee.MULTI_POINT?t.setGeometry(new h0([e])):this.type_===Ee.MULTI_LINE_STRING?t.setGeometry(new au([e])):this.type_===Ee.MULTI_POLYGON&&t.setGeometry(new ml([e])),this.dispatchEvent(new B2(G2.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},r.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},r.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new B2(G2.DRAWABORT,t))},r.prototype.appendCoordinates=function(t){var e=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(t[0]);var o;if(e===To.LINE_STRING||e===To.CIRCLE)o=this.sketchCoords_;else if(e===To.POLYGON)o=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&o.shift(),o.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var l=t[t.length-1];this.addToDrawing_(l),this.modifyDrawing_(l)},r.prototype.extend=function(t){var e=t.getGeometry(),i=e;this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new Cn(new Ii(o)),this.updateSketchFeatures_(),this.dispatchEvent(new B2(G2.DRAWSTART,this.sketchFeature_))},r.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},r.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();(!t||!e)&&this.abortDrawing(),this.overlay_.setMap(e?t:null)},r}(Cl);function WN(){var n=vy();return function(r,t){return n[r.getGeometry().getType()]}}function HN(n){switch(n){case Ee.POINT:case Ee.MULTI_POINT:return To.POINT;case Ee.LINE_STRING:case Ee.MULTI_LINE_STRING:return To.LINE_STRING;case Ee.POLYGON:case Ee.MULTI_POLYGON:return To.POLYGON;case Ee.CIRCLE:return To.CIRCLE;default:throw new Error("Invalid type: "+n)}}var _5=VN,s7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l7=0,p1=1,u7=[0,0,0,0],Rd=[],E5={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},S5=function(n){s7(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.features=e,o.mapBrowserEvent=i,o}return r}(sr.a),YN=function(n){s7(r,n);function r(t){var e=n.call(this,t)||this;e.on,e.once,e.un,e.boundHandleFeatureChange_=e.handleFeatureChange_.bind(e),e.condition_=t.condition?t.condition:qh,e.defaultDeleteCondition_=function(o){return Jh(o)&&Pu(o)},e.deleteCondition_=t.deleteCondition?t.deleteCondition:e.defaultDeleteCondition_,e.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:nh,e.vertexFeature_=null,e.vertexSegments_=null,e.lastPixel_=[0,0],e.ignoreNextSingleClick_=!1,e.featuresBeingModified_=null,e.rBush_=new y2,e.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,e.snappedToVertex_=!1,e.changingFeature_=!1,e.dragSegments_=[],e.overlay_=new ac({source:new bc({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:KN(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e)},e.source_=null,e.hitDetection_=null;var i;if(t.features?i=t.features:t.source&&(e.source_=t.source,i=new Dn(e.source_.getFeatures()),e.source_.addEventListener(Is.ADDFEATURE,e.handleSourceAdd_.bind(e)),e.source_.addEventListener(Is.REMOVEFEATURE,e.handleSourceRemove_.bind(e))),!i)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(e.hitDetection_=t.hitDetection),e.features_=i,e.features_.forEach(e.addFeature_.bind(e)),e.features_.addEventListener(ri.ADD,e.handleFeatureAdd_.bind(e)),e.features_.addEventListener(ri.REMOVE,e.handleFeatureRemove_.bind(e)),e.lastPointerEvent_=null,e.delta_=[0,0],e.snapToPointer_=t.snapToPointer===void 0?!e.hitDetection_:t.snapToPointer,e}return r.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var i=this.SEGMENT_WRITERS_[e.getType()];i&&i(t,e)}var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),t.addEventListener(un.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Dn;for(var i=this.featuresBeingModified_.getArray(),o=0,s=e.length;o<s;++o)for(var l=e[o],f=0,h=l.length;f<h;++f){var v=l[f].feature;v&&i.indexOf(v)===-1&&this.featuresBeingModified_.push(v)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new S5(E5.MODIFYSTART,this.featuresBeingModified_,t))}},r.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(un.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(f){t===f.feature&&i.push(f)});for(var o=i.length-1;o>=0;--o){for(var s=i[o],l=this.dragSegments_.length-1;l>=0;--l)this.dragSegments_[l][0]===s&&this.dragSegments_.splice(l,1);e.remove(s)}},r.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),n.prototype.setActive.call(this,t)},r.prototype.setMap=function(t){this.overlay_.setMap(t),n.prototype.setMap.call(this,t)},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},r.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},r.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},r.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},r.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),o={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o){var l=i[o],f={feature:t,geometry:e,depth:[o],index:o,segment:[l,l]};this.rBush_.insert(e.getExtent(),f)}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length-1;o<s;++o){var l=i.slice(o,o+2),f={feature:t,geometry:e,index:o,segment:l};this.rBush_.insert(Tt(l),f)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o)for(var l=i[o],f=0,h=l.length-1;f<h;++f){var v=l.slice(f,f+2),w={feature:t,geometry:e,depth:[o],index:f,segment:v};this.rBush_.insert(Tt(v),w)}},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o)for(var l=i[o],f=0,h=l.length-1;f<h;++f){var v=l.slice(f,f+2),w={feature:t,geometry:e,depth:[o],index:f,segment:v};this.rBush_.insert(Tt(v),w)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o)for(var l=i[o],f=0,h=l.length;f<h;++f)for(var v=l[f],w=0,R=v.length-1;w<R;++w){var B=v.slice(w,w+2),V={feature:t,geometry:e,depth:[f,o],index:w,segment:B};this.rBush_.insert(Tt(B),V)}},r.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),o={feature:t,geometry:e,index:l7,segment:[i,i]},s={feature:t,geometry:e,index:p1,segment:[i,i]},l=[o,s];o.featureSegments=l,s.featureSegments=l,this.rBush_.insert(dt(i),o);var f=e;this.rBush_.insert(f.getExtent(),s)},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),o=0;o<i.length;++o){var s=i[o],l=this.SEGMENT_WRITERS_[s.getType()];l(t,s)}},r.prototype.createOrUpdateVertexFeature_=function(t,e,i){var o=this.vertexFeature_;if(!o)o=new Cn(new Ii(t)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o);else{var s=o.getGeometry();s.setCoordinates(t)}return o.set("features",e),o.set("geometries",i),o},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;this.lastPointerEvent_=t;var e;return!t.map.getView().getInteracting()&&t.type==gn.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type!=gn.SINGLECLICK||!this.ignoreNextSingleClick_?e=this.removePoint():e=!0),t.type==gn.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),n.prototype.handleEvent.call(this,t)&&!e},r.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],o=[],s=0,l=this.dragSegments_.length;s<l;++s){var f=this.dragSegments_[s],h=f[0],v=h.feature;i.indexOf(v)===-1&&i.push(v);var w=h.geometry;o.indexOf(w)===-1&&o.push(w);for(var R=h.depth,B=void 0,V=h.segment,et=f[1];e.length<w.getStride();)e.push(V[et][e.length]);switch(w.getType()){case Ee.POINT:B=e,V[0]=e,V[1]=e;break;case Ee.MULTI_POINT:B=w.getCoordinates(),B[h.index]=e,V[0]=e,V[1]=e;break;case Ee.LINE_STRING:B=w.getCoordinates(),B[h.index+et]=e,V[et]=e;break;case Ee.MULTI_LINE_STRING:B=w.getCoordinates(),B[R[0]][h.index+et]=e,V[et]=e;break;case Ee.POLYGON:B=w.getCoordinates(),B[R[0]][h.index+et]=e,V[et]=e;break;case Ee.MULTI_POLYGON:B=w.getCoordinates(),B[R[1]][R[0]][h.index+et]=e,V[et]=e;break;case Ee.CIRCLE:if(V[0]=e,V[1]=e,h.index===l7)this.changingFeature_=!0,w.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var vt=t.map.getView().getProjection(),Ct=Ut(lt(w.getCenter()),lt(e)),kt=j();if(kt){var Ht=w.clone().transform(kt,vt);Ht.setRadius(Ct),Ct=Ht.transform(vt,kt).getRadius()}w.setRadius(Ct),this.changingFeature_=!1}break}B&&this.setGeometryCoordinates_(w,B)}this.createOrUpdateVertexFeature_(e,i,o)},r.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var i=this.vertexFeature_;if(i){var o=t.map.getView().getProjection(),s=[],l=i.getGeometry().getCoordinates(),f=Tt([l]),h=this.rBush_.getInExtent(f),v={};h.sort(XN);for(var w=0,R=h.length;w<R;++w){var B=h[w],V=B.segment,et=Object(Ot.c)(B.geometry),vt=B.depth;if(vt&&(et+="-"+vt.join("-")),v[et]||(v[et]=new Array(2)),B.geometry.getType()===Ee.CIRCLE&&B.index===p1){var Ct=f7(e,B,o);rt(Ct,l)&&!v[et][0]&&(this.dragSegments_.push([B,0]),v[et][0]=B);continue}if(rt(V[0],l)&&!v[et][0]){this.dragSegments_.push([B,0]),v[et][0]=B;continue}if(rt(V[1],l)&&!v[et][1]){if((B.geometry.getType()===Ee.LINE_STRING||B.geometry.getType()===Ee.MULTI_LINE_STRING)&&v[et][0]&&v[et][0].index===0)continue;this.dragSegments_.push([B,1]),v[et][1]=B;continue}Object(Ot.c)(V)in this.vertexSegments_&&!v[et][0]&&!v[et][1]&&this.insertVertexCondition_(t)&&s.push(B)}s.length&&this.willModifyFeatures_(t,[s]);for(var kt=s.length-1;kt>=0;--kt)this.insertVertex_(s[kt],l)}return!!this.vertexFeature_},r.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],o=i.geometry;if(o.getType()===Ee.CIRCLE){var s=o.getCenter(),l=i.featureSegments[0],f=i.featureSegments[1];l.segment[0]=s,l.segment[1]=s,f.segment[0]=s,f.segment[1]=s,this.rBush_.update(dt(s),l);var h=o,v=j();if(v){var w=t.map.getView().getProjection();h=h.clone().transform(v,w),h=x0(h).transform(w,v)}this.rBush_.update(h.getExtent(),f)}else this.rBush_.update(Tt(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new S5(E5.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},r.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},r.prototype.handlePointerAtPixel_=function(t,e,i){var o=this,s=i||e.getCoordinateFromPixel(t),l=e.getView().getProjection(),f=function(yn,Sn){return c7(s,yn,l)-c7(s,Sn,l)},h,v;if(this.hitDetection_){var w=typeof this.hitDetection_=="object"?function(yn){return yn===o.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,function(yn,Sn,Rn){if(Rn=Rn||yn.getGeometry(),Rn.getType()===Ee.POINT&&Object(K.f)(o.features_.getArray(),yn)){v=Rn;var Nn=Rn.getFlatCoordinates().slice(0,2);h=[{feature:yn,geometry:Rn,segment:[Nn,Nn]}]}return!0},{layerFilter:w})}if(!h){var R=At(dt(s,u7)),B=e.getView().getResolution()*this.pixelTolerance_,V=gt(Rt(R,B,u7));h=this.rBush_.getInExtent(V)}if(h&&h.length>0){var et=h.sort(f)[0],vt=et.segment,Ct=f7(s,et,l),kt=e.getPixelFromCoordinate(Ct),Ht=Ut(t,kt);if(v||Ht<=this.pixelTolerance_){var Nt={};if(Nt[Object(Ot.c)(vt)]=!0,this.snapToPointer_||(this.delta_[0]=Ct[0]-s[0],this.delta_[1]=Ct[1]-s[1]),et.geometry.getType()===Ee.CIRCLE&&et.index===p1)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(Ct,[et.feature],[et.geometry]);else{var ve=e.getPixelFromCoordinate(vt[0]),de=e.getPixelFromCoordinate(vt[1]),Oe=Bt(kt,ve),Se=Bt(kt,de);Ht=Math.sqrt(Math.min(Oe,Se)),this.snappedToVertex_=Ht<=this.pixelTolerance_,this.snappedToVertex_&&(Ct=Oe>Se?vt[1]:vt[0]),this.createOrUpdateVertexFeature_(Ct,[et.feature],[et.geometry]);var Fe={};Fe[Object(Ot.c)(et.geometry)]=!0;for(var wr=1,hr=h.length;wr<hr;++wr){var Ke=h[wr].segment;if(rt(vt[0],Ke[0])&&rt(vt[1],Ke[1])||rt(vt[0],Ke[1])&&rt(vt[1],Ke[0])){var Ir=Object(Ot.c)(h[wr].geometry);Ir in Fe||(Fe[Ir]=!0,Nt[Object(Ot.c)(Ke)]=!0)}else break}}this.vertexSegments_=Nt;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},r.prototype.insertVertex_=function(t,e){for(var i=t.segment,o=t.feature,s=t.geometry,l=t.depth,f=t.index,h;e.length<s.getStride();)e.push(0);switch(s.getType()){case Ee.MULTI_LINE_STRING:h=s.getCoordinates(),h[l[0]].splice(f+1,0,e);break;case Ee.POLYGON:h=s.getCoordinates(),h[l[0]].splice(f+1,0,e);break;case Ee.MULTI_POLYGON:h=s.getCoordinates(),h[l[1]][l[0]].splice(f+1,0,e);break;case Ee.LINE_STRING:h=s.getCoordinates(),h.splice(f+1,0,e);break;default:return}this.setGeometryCoordinates_(s,h);var v=this.rBush_;v.remove(t),this.updateSegmentIndices_(s,f,l,1);var w={segment:[i[0],e],feature:o,geometry:s,depth:l,index:f};v.insert(Tt(w.segment),w),this.dragSegments_.push([w,1]);var R={segment:[e,i[1]],feature:o,geometry:s,depth:l,index:f+1};v.insert(Tt(R.segment),R),this.dragSegments_.push([R,0]),this.ignoreNextSingleClick_=!0},r.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=gn.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new S5(E5.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},r.prototype.removeVertex_=function(){var t=this.dragSegments_,e={},i=!1,o,s,l,f,h,v,w,R,B,V,et;for(h=t.length-1;h>=0;--h)l=t[h],V=l[0],et=Object(Ot.c)(V.feature),V.depth&&(et+="-"+V.depth.join("-")),et in e||(e[et]={}),l[1]===0?(e[et].right=V,e[et].index=V.index):l[1]==1&&(e[et].left=V,e[et].index=V.index+1);for(et in e){switch(B=e[et].right,w=e[et].left,v=e[et].index,R=v-1,w!==void 0?V=w:V=B,R<0&&(R=0),f=V.geometry,s=f.getCoordinates(),o=s,i=!1,f.getType()){case Ee.MULTI_LINE_STRING:s[V.depth[0]].length>2&&(s[V.depth[0]].splice(v,1),i=!0);break;case Ee.LINE_STRING:s.length>2&&(s.splice(v,1),i=!0);break;case Ee.MULTI_POLYGON:o=o[V.depth[1]];case Ee.POLYGON:o=o[V.depth[0]],o.length>4&&(v==o.length-1&&(v=0),o.splice(v,1),i=!0,v===0&&(o.pop(),o.push(o[0]),R=o.length-1));break}if(i){this.setGeometryCoordinates_(f,s);var vt=[];if(w!==void 0&&(this.rBush_.remove(w),vt.push(w.segment[0])),B!==void 0&&(this.rBush_.remove(B),vt.push(B.segment[1])),w!==void 0&&B!==void 0){var Ct={depth:V.depth,feature:V.feature,geometry:V.geometry,index:R,segment:vt};this.rBush_.insert(Tt(Ct.segment),Ct)}this.updateSegmentIndices_(f,v,V.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return i},r.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},r.prototype.updateSegmentIndices_=function(t,e,i,o){this.rBush_.forEachInExtent(t.getExtent(),function(s){s.geometry===t&&(i===void 0||s.depth===void 0||Object(K.b)(s.depth,i))&&s.index>e&&(s.index+=o)})},r}(Cl);function XN(n,r){return n.index-r.index}function c7(n,r,t){var e=r.geometry;if(e.getType()===Ee.CIRCLE){var i=e;if(r.index===p1){var o=j();o&&(i=i.clone().transform(o,t));var s=Bt(i.getCenter(),lt(n)),l=Math.sqrt(s)-i.getRadius();return l*l}}var f=lt(n);return Rd[0]=lt(r.segment[0]),Rd[1]=lt(r.segment[1]),Xt(f,Rd)}function f7(n,r,t){var e=r.geometry;if(e.getType()===Ee.CIRCLE&&r.index===p1){var i=e,o=j();return o&&(i=i.clone().transform(o,t)),Y(i.getClosestPoint(lt(n)))}var s=lt(n);return Rd[0]=lt(r.segment[0]),Rd[1]=lt(r.segment[1]),Y(X(s,Rd))}function KN(){var n=vy();return function(r,t){return n[Ee.POINT]}}var w5=YN,$N={name:"ol-style",setup:function(r){var t=Object(F.inject)("stylable",null),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new $s(i)}),s=function(h){if(t instanceof _5||t instanceof w5){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},l=Object(F.computed)(function(){return function(f){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(f,o.value),o.value}});return Object(F.watch)(i,function(){i.overrideStyleFunction==null?s(o.value):s(l.value)}),Object(F.onMounted)(function(){i.overrideStyleFunction==null?s(o.value):s(l.value)}),Object(F.onUnmounted)(function(){s(null)}),Object(F.provide)("style",o),Object(F.provide)("styledObj",t),{style:o}},props:{zIndex:{type:Number},overrideStyleFunction:{type:Function}}},x5=lr()($N,[["render",kN]]);function ZN(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var JN={name:"ol-style-circle",setup:function(r){var t=Object(F.inject)("style",null),e=Object(F.inject)("styledObj",null),i=Dr(r),o=i.properties,s=function(v){return new l1(or(or({},v),{},{fill:new Ks,stroke:new _s}))},l=Object(F.computed)(function(){return s(o)}),f=function(){t.value.setImage(null),t.value.setImage(l.value),e.value.changed()};Object(F.watch)(o,function(){f()}),Object(F.watch)(t,function(){f()}),Object(F.onMounted)(function(){t.value.setImage(l.value)}),Object(F.onUnmounted)(function(){t.value.setImage(null)}),Object(F.provide)("circle",l),Object(F.provide)("styledObj",e)},props:{radius:{type:Number},scale:{type:Number}}},O5=lr()(JN,[["render",ZN]]);function qN(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var QN={name:"ol-style-stroke",setup:function(r){var t=Object(F.inject)("style",null),e=Object(F.inject)("circle",null),i=Object(F.inject)("styledObj",null),o=Dr(r),s=o.properties;if(t!=null&&e==null){var l=new _s(s);t.value.setStroke(l);var f=function(){t.value.setStroke(null),l=new _s(s),t.value.setStroke(l)};Object(F.watch)(s,function(){f()}),Object(F.watch)(t,function(){f()}),Object(F.onMounted)(function(){t.value.setStroke(l)}),Object(F.onUnmounted)(function(){t.value.setStroke(null)})}else if(e!=null){var h=function(w){e.value.getStroke().setColor(w.color),e.value.getStroke().setLineCap(w.lineCap),e.value.getStroke().setLineDash(w.lineDash),e.value.getStroke().setLineDashOffset(w.lineDashOffset),e.value.getStroke().setLineJoin(w.lineJoin),e.value.getStroke().setMiterLimit(w.miterLimit),e.value.getStroke().setWidth(w.width),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};h(s),Object(F.watch)(s,function(v){h(v)}),Object(F.watch)(e,function(){h(s)})}},props:{color:{type:String},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:{type:Array},lineDashOffset:{type:Number,default:0},miterLimit:{type:Number,default:10},width:{type:Number,default:1}}},T5=lr()(QN,[["render",qN]]);function tF(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var eF={name:"ol-style-fill",setup:function(r){var t=Object(F.inject)("style",null),e=Object(F.inject)("circle",null),i=Object(F.inject)("styledObj",null),o=Dr(r),s=o.properties;if(t!=null&&e==null){var l=new Ks(s);t.value.setFill(l);var f=function(){t.value.setFill(null),l=new Ks(s),t.value.setFill(l)};Object(F.watch)(s,function(){f()}),Object(F.watch)(t,function(){f()}),Object(F.onMounted)(function(){t.value.setFill(l)}),Object(F.onUnmounted)(function(){t.value.setFill(null)})}else if(e!=null){var h=function(w){e.value.getFill().setColor(w),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};h(s.color),Object(F.watch)(s,function(){h(s.color)}),Object(F.watch)(e,function(){h(s.color)})}},props:{color:{type:String}}},b5=lr()(eF,[["render",tF]]);function rF(n,r,t,e,i,o){return Object(F.createCommentVNode)("",!0)}var nF={name:"ol-style-icon",setup:function(r){var t=Object(F.inject)("style",null),e=Object(F.inject)("styledObj",null),i=Dr(r),o=i.properties,s=Object(F.computed)(function(){var f=new g2(o);return f.load(),f}),l=function(){t.value.setImage(null),t.value.setImage(s.value),e.value.changed()};Object(F.watch)(o,function(){l()}),Object(F.watch)(t,function(){l()}),Object(F.onMounted)(function(){t.value.setImage(s.value)}),Object(F.onUnmounted)(function(){t.value.setImage(null)})},props:{anchor:{type:Array},anchorOrigin:{type:String,default:"top-left"},anchorXUnits:{type:String,default:"fraction"},color:{type:String},crossOrigin:{type:String},img:{type:[HTMLImageElement,HTMLCanvasElement]},offset:{type:Array,default:function(){return[0,0]}},displacement:{type:Array,default:function(){return[0,0]}},offsetOrigin:{type:String,default:"top-left"},opacity:{type:Number,default:1},scale:{type:Number,default:1},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},size:{type:Array},imgSize:{type:Array},src:{type:String}}},A5=lr()(nF,[["render",rF]]);function iF(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var oF={name:"ol-style-text",setup:function(r){var t=Object(F.inject)("style",null),e=Object(F.inject)("styledObj",null),i=Dr(r),o=i.properties,s=function(v){return new ph(or(or({},v),{},{fill:new Ks,stroke:new _s}))},l=Object(F.computed)(function(){return s(o)}),f=function(){t.value.setText(null),t.value.setText(l.value),e.value.changed()};Object(F.watch)(o,function(){f()}),Object(F.watch)(t,function(){f()}),Object(F.onMounted)(function(){t.value.setText(l.value)}),Object(F.onUnmounted)(function(){t.value.setText(null)}),Object(F.provide)("style",l),Object(F.provide)("styledObj",e)},props:{font:{type:String},maxAngle:{type:Number,default:Math.PI/4},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},overflow:{type:Boolean,default:!1},placement:{type:String,default:"point"},scale:{type:Number},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},text:{type:String},textAlign:{type:String},textBaseline:{type:String,default:"middle"},padding:{type:Array,default:function(){return[0,0,0,0]}}}},M5=lr()(oF,[["render",iF]]);function aF(n,r,t,e,i,o){return Object(F.openBlock)(),Object(F.createElementBlock)("div",null,[Object(F.renderSlot)(n.$slots,"default")])}var Cd=function(n,r){var t=n[0]-r[0],e=n[1]-r[1];return Math.sqrt(t*t+e*e)},v1=function(n,r){return n[0]==r[0]&&n[1]==r[1]},h7;(function(){function n(t,e){var i;for(let o=t.length-1;o>0;o--)(t[o][0]>e&&t[o-1][0]<e||t[o][0]<e&&t[o-1][0]>e)&&(i=[e,(e-t[o][0])/(t[o-1][0]-t[o][0])*(t[o-1][1]-t[o][1])+t[o][1]],t.splice(o,0,i))}function r(t,e){var i;for(let o=t.length-1;o>0;o--)(t[o][1]>e&&t[o-1][1]<e||t[o][1]<e&&t[o-1][1]>e)&&(i=[(e-t[o][1])/(t[o-1][1]-t[o][1])*(t[o-1][0]-t[o][0])+t[o][0],e],t.splice(o,0,i))}h7=function(t,e){var i=e.getType()==="Polygon";if(!i&&e.getType()!=="MultiPolygon")return null;var o=e.getCoordinates();return i&&(o=[o]),o.forEach(function(s){s.forEach(function(l){n(l,t[0]),n(l,t[2]),r(l,t[1]),r(l,t[3])})}),o.forEach(function(s){s.forEach(function(l){l.forEach(function(f){f[0]<t[0]?f[0]=t[0]:f[0]>t[2]&&(f[0]=t[2]),f[1]<t[1]?f[1]=t[1]:f[1]>t[3]&&(f[1]=t[3])})})}),i?new so(o[0]):new ml(o)}})();var d7=function(n,r,t,e){var i=[];e!==!1&&i.push(n);var o=Cd(n,r);if(o){var s=Math.round(o/t);if(s>1)for(var l=(r[0]-n[0])/s,f=(r[1]-n[1])/s,h=1;h<s;h++)i.push([n[0]+l*h,n[1]+f*h])}return i.push(r),i};so.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){for(var i=[],o=1;o<e.length;o++)i=i.concat(d7(e[o-1],e[o],n,o===1));t.push(i)}),new so(t)},ml.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){var i=[];t.push(i),e.forEach(function(o){for(var s=[],l=1;l<o.length;l++)s=s.concat(d7(o[l-1],o[l],n,l===1));i.push(s)})}),new ml(t)},y5.prototype.intersection=function(n,r){if(n.sampleAt){var t=Rt(this.getCenter().concat(this.getCenter()),this.getRadius());n=h7(t,n),n=n.simplify(r);var e=this.getCenter(),i=this.getRadius(),o=n.sampleAt(r).getCoordinates();switch(n.getType()){case"Polygon":o=[o];case"MultiPolygon":{var s=!1,l=[];return o.forEach(function(f){var h=[];l.push(h),f.forEach(function(v){var w=[];h.push(w),v.forEach(function(R){var B=Cd(e,R);B>i?(s=!0,w.push([e[0]+i/B*(R[0]-e[0]),e[1]+i/B*(R[1]-e[1])])):w.push(R)})})}),s?n.getType()==="Polygon"?new so(l[0]):new ml(l):n}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+n.getType());return n},Xo.prototype.splitAt=function(n,r){var t;if(!n)return[this];if(r||(r=1e-10),n.length&&n[0].length){var e=[this];for(t=0;t<n.length;t++){for(var i=[],o=0;o<e.length;o++){var s=e[o].splitAt(n[t],r);i=i.concat(s)}e=i}return e}if(v1(n,this.getFirstCoordinate())||v1(n,this.getLastCoordinate()))return[this];var l=this.getCoordinates(),f=[l[0]],h=[];for(t=0;t<l.length-1;t++)if(!v1(l[t],l[t+1])){if(v1(n,l[t+1]))f.push(l[t+1]),h.push(new Xo(f)),f=[];else if(!v1(n,l[t])){var v,w,R=!1;l[t][0]==l[t+1][0]?(v=(l[t][1]-n[1])/(l[t][1]-l[t+1][1]),R=l[t][0]==n[0]&&0<v&&v<=1):l[t][1]==l[t+1][1]?(v=(l[t][0]-n[0])/(l[t][0]-l[t+1][0]),R=l[t][1]==n[1]&&0<v&&v<=1):(v=(l[t][0]-n[0])/(l[t][0]-l[t+1][0]),w=(l[t][1]-n[1])/(l[t][1]-l[t+1][1]),R=Math.abs(v-w)<=r&&0<v&&v<=1),R&&(f.push(n),h.push(new Xo(f)),f=[n])}f.push(l[t+1])}return f.length>1&&h.push(new Xo(f)),h.length?h:[this]};var ls=function(n){n||(n={}),$s.call(this,{renderer:this._render.bind(this),stroke:n.stroke,text:n.text,zIndex:n.zIndex,geometry:n.geometry}),this._visible=n.visible!==!1,typeof n.width=="function"?this._widthFn=n.width:this.setWidth(n.width),this.setWidth2(n.width2),typeof n.color=="function"?this._colorFn=n.color:this.setColor(n.color),this.setColor2(n.color2),this.setLineCap(n.lineCap),this.setArrow(n.arrow),this.setArrowSize(n.arrowSize),this.setArrowColor(n.arrowColor),this._offset=[0,0],this.setOffset(n.offset0,0),this.setOffset(n.offset1,1),this._noOverlap=n.noOverlap};Oo(ls,$s),ls.prototype.setWidth=function(n){this._width=n||0},ls.prototype.setWidth2=function(n){this._width2=n},ls.prototype.getOffset=function(n){return this._offset[n]},ls.prototype.setOffset=function(n,r){switch(n=Math.max(0,parseFloat(n)),r){case 0:{this._offset[0]=n;break}case 1:{this._offset[1]=n;break}}},ls.prototype.setLineCap=function(n){this._lineCap=n==="round"?"round":"butt"},ls.prototype.getWidth=function(n,r){if(this._widthFn)return this._widthFn(n,r);var t=typeof this._width2=="number"?this._width2:this._width;return this._width+(t-this._width)*r},ls.prototype.setColor=function(n){try{this._color=fa(n)}catch{this._color=[0,0,0,1]}},ls.prototype.setColor2=function(n){try{this._color2=fa(n)}catch{this._color2=null}},ls.prototype.setArrowColor=function(n){try{this._acolor=_o(n)}catch{this._acolor=null}},ls.prototype.getColor=function(n,r){if(this._colorFn)return _o(this._colorFn(n,r));var t=this._color,e=this._color2||this._color;return"rgba("+ +Math.round(t[0]+(e[0]-t[0])*r)+","+Math.round(t[1]+(e[1]-t[1])*r)+","+Math.round(t[2]+(e[2]-t[2])*r)+","+(t[3]+(e[3]-t[3])*r)+")"},ls.prototype.getArrow=function(){return this._arrow},ls.prototype.setArrow=function(n){this._arrow=parseInt(n),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)},ls.prototype.getArrowSize=function(){return this._arrowSize||[16,16]},ls.prototype.setArrowSize=function(n){Array.isArray(n)?this._arrowSize=n:typeof n=="number"&&(this._arrowSize=[n,n])},ls.prototype.drawArrow=function(n,r,t,e,i){var o=this.getArrowSize()[0]*i,s=Cd(r,t),l=(r[0]-t[0])/s,f=(r[1]-t[1])/s;e=Math.max(this.getArrowSize()[1]/2,e/2)*i,n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[0]-o*l+e*f,r[1]-o*f-e*l),n.lineTo(r[0]-o*l-e*f,r[1]-o*f+e*l),n.lineTo(r[0],r[1]),n.fill()},ls.prototype._render=function(n,r){if(r.geometry.getType()==="LineString"){var t,e,i,o=r.context;if(!this._visible){var s=r.pixelRatio/r.resolution,l=Math.cos(r.rotation),f=Math.sin(r.rotation);e=r.geometry.getCoordinates();var h=n[0][0]-e[0][0]*s*l-e[0][1]*s*f,v=n[0][1]-e[0][0]*s*f+e[0][1]*s*l;for(n=[],t=0;i=e[t];t++)n[t]=[h+i[0]*s*l+i[1]*s*f,v+i[0]*s*f-i[1]*s*l,i[2]]}var w=this.getArrowSize()[0]*r.pixelRatio;o.save(),this.getOffset(0)&&this._splitAsize(n,this.getOffset(0)*r.pixelRatio),this.getOffset(1)&&this._splitAsize(n,this.getOffset(1)*r.pixelRatio,!0),n.length>1&&(this.getArrow()===-1||this.getArrow()===2)&&(i=this._splitAsize(n,w),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,0),this.drawArrow(o,i[0],i[1],this.getWidth(r.feature,0),r.pixelRatio)),n.length>1&&this.getArrow()>0&&(i=this._splitAsize(n,w,!0),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,1),this.drawArrow(o,i[0],i[1],this.getWidth(r.feature,1),r.pixelRatio));var R=this._splitInto(n,255,2),B=0,V=R.length;if(o.lineJoin="round",o.lineCap=this._lineCap||"butt",R.length>1)for(B=0;B<R.length;B++){var et=B/V;for(e=R[B],o.lineWidth=this.getWidth(r.feature,et)*r.pixelRatio,o.strokeStyle=this.getColor(r.feature,et),o.beginPath(),o.moveTo(e[0][0],e[0][1]),t=1;i=e[t];t++)o.lineTo(i[0],i[1]);o.stroke()}o.restore()}},ls.prototype._splitAsize=function(n,r,t){var e,i,o,s,l=0;for(t?o=n.pop():o=n.shift(),e=o;n.length;){if(t?i=n.pop():i=n.shift(),s=Cd(e,i),l+s>r){e=[e[0]+(i[0]-e[0])*(r-l)/s,e[1]+(i[1]-e[1])*(r-l)/s],s=Cd(e,o),t?(n.push(i),n.push(e),n.push([e[0]+(o[0]-e[0])/s,e[1]+(o[1]-e[1])/s])):(n.unshift(i),n.unshift(e),n.unshift([e[0]+(o[0]-e[0])/s,e[1]+(o[1]-e[1])/s]));break}l+=s,e=i}return[o,e]},ls.prototype._splitInto=function(n,r,t){var e,i,o=this._noOverlap?1:.9,s=[],l,f=0;for(e=1;i=n[e];e++)f+=Cd(n[e-1],i);var h=Math.max(t||2,f/(r||255)),v=n[0];f=0;var w=[v];for(e=1,i=n[1];e<n.length;){var R=i[0]-v[0],B=i[1]-v[1];if(l=Math.sqrt(R*R+B*B),f+l>h){var V=(h-f)/l;w.push([v[0]+R*V,v[1]+B*V]),s.push(w),v=[v[0]+R*V*o,v[1]+B*V*o],w=[v],f=0}else f+=l,v=i,w.push(v),e++,i=n[e]}return s.push(w),s};var sF=ls,lF={name:"ol-style-flowline",setup:function(r){var t=Object(F.inject)("stylable",null),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){return new sF(i)}),s=function(h){if(t instanceof _5||t instanceof w5){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},l=Object(F.computed)(function(){return function(f){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(f,o.value),o.value}});return Object(F.watch)(i,function(){i.overrideStyleFunction==null?s(o.value):s(l.value)}),Object(F.onMounted)(function(){i.overrideStyleFunction==null?s(o.value):s(l.value)}),Object(F.onUnmounted)(function(){s(null)}),{style:o}},props:{color:{type:[String,Function]},color2:{type:String},width:{type:[Number,Function]},width2:{type:Number},arrow:{type:Number},arrowColor:{type:String}}},R5=lr()(lF,[["render",aF]]);function U2(n){U2.installed||(U2.installed=!0,n.component(x5.name,x5),n.component(O5.name,O5),n.component(T5.name,T5),n.component(b5.name,b5),n.component(A5.name,A5),n.component(M5.name,M5),n.component(R5.name,R5))}var uF=U2;function cF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var p7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fF={SELECT:"select"},hF=function(n){p7(r,n);function r(t,e,i,o){var s=n.call(this,t)||this;return s.selected=e,s.deselected=i,s.mapBrowserEvent=o,s}return r}(sr.a),k2={},dF=function(n){p7(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};e.boundAddFeature_=e.addFeature_.bind(e),e.boundRemoveFeature_=e.removeFeature_.bind(e),e.condition_=i.condition?i.condition:Pu,e.addCondition_=i.addCondition?i.addCondition:Fp,e.removeCondition_=i.removeCondition?i.removeCondition:Fp,e.toggleCondition_=i.toggleCondition?i.toggleCondition:Jc,e.multi_=i.multi?i.multi:!1,e.filter_=i.filter?i.filter:te.b,e.hitTolerance_=i.hitTolerance?i.hitTolerance:0,e.style_=i.style!==void 0?i.style:pF(),e.features_=i.features||new Dn;var o;if(i.layers)if(typeof i.layers=="function")o=i.layers;else{var s=i.layers;o=function(l){return Object(K.f)(s,l)}}else o=te.b;return e.layerFilter_=o,e.featureLayerAssociation_={},e}return r.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(Ot.c)(t)]=e},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(Ot.c)(t)]},r.prototype.setHitTolerance=function(t){this.hitTolerance_=t},r.prototype.setMap=function(t){var e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),n.prototype.setMap.call(this,t),t?(this.features_.addEventListener(ri.ADD,this.boundAddFeature_),this.features_.addEventListener(ri.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(ri.ADD,this.boundAddFeature_),this.features_.removeEventListener(ri.REMOVE,this.boundRemoveFeature_))},r.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var i=this.getMap().getAllLayers().find(function(o){if(o instanceof ac&&o.getSource()&&o.getSource().hasFeature(e))return o});i&&this.addFeatureLayerAssociation_(e,i)}},r.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(t){var e=Object(Ot.c)(t);e in k2||(k2[e]=t.getStyle()),t.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(t){for(var e=this.getMap().getInteractions().getArray(),i=e.length-1;i>=0;--i){var o=e[i];if(o!==this&&o instanceof r&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(t)!==-1){t.setStyle(o.getStyle());return}}var s=Object(Ot.c)(t);t.setStyle(k2[s]),delete k2[s]},r.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(Ot.c)(t)]},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),o=this.toggleCondition_(t),s=!e&&!i&&!o,l=t.map,f=this.getFeatures(),h=[],v=[];if(s){Object(pn.b)(this.featureLayerAssociation_),l.forEachFeatureAtPixel(t.pixel,function(et,vt){if(this.filter_(et,vt))return this.addFeatureLayerAssociation_(et,vt),v.push(et),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var w=f.getLength()-1;w>=0;--w){var R=f.item(w),B=v.indexOf(R);B>-1?v.splice(B,1):(f.remove(R),h.push(R))}v.length!==0&&f.extend(v)}else{l.forEachFeatureAtPixel(t.pixel,function(et,vt){if(this.filter_(et,vt))return(e||o)&&!Object(K.f)(f.getArray(),et)?(this.addFeatureLayerAssociation_(et,vt),v.push(et)):(i||o)&&Object(K.f)(f.getArray(),et)&&(h.push(et),this.removeFeatureLayerAssociation_(et)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var V=h.length-1;V>=0;--V)f.remove(h[V]);f.extend(v)}return(v.length>0||h.length>0)&&this.dispatchEvent(new hF(fF.SELECT,v,h,t)),!0},r}(q0);function pF(){var n=vy();return Object(K.c)(n[Ee.POLYGON],n[Ee.LINE_STRING]),Object(K.c)(n[Ee.GEOMETRY_COLLECTION],n[Ee.LINE_STRING]),function(r){return r.getGeometry()?n[r.getGeometry().getType()]:null}}var z2=dF,vF={name:"ol-interaction-select",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(F.inject)("map"),o=Dr(r),s=o.properties,l=Object(F.computed)(function(){var f=new z2(or(or({},s),{},{style:new $s}));return f.on("select",function(h){e("select",h)}),f});return Object(F.watch)(l,function(f,h){i.removeInteraction(h),i.addInteraction(f),i.changed()}),Object(F.onMounted)(function(){i.addInteraction(l.value)}),Object(F.onUnmounted)(function(){i.removeInteraction(l.value)}),Object(F.provide)("stylable",l),{select:l}},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},features:{type:[Dn,Object]}}},C5=lr()(vF,[["render",cF]]);function gF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var mf=function(n){n=n||{},this.pointRadius=n.pointRadius||12,this.circleMaxObjects=n.circleMaxObjects||10,this.maxObjects=n.maxObjects||60,this.spiral=n.spiral!==!1,this.animate=n.animate,this.animationDuration=n.animationDuration||500,this.selectCluster_=n.selectCluster!==!1,this._autoClose=n.autoClose!==!1;var r=this.overlayLayer_=new ac({source:new bc({features:new Dn,wrapX:n.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:n.featureStyle});if(n.layers)if(typeof n.layers=="function"){var t=n.layers;n.layers=function(i){return i===r||t(i)}}else n.layers.push&&n.layers.push(this.overlayLayer_);if(n.filter){var e=n.filter;n.filter=function(i,o){return!o&&i.get("selectclusterlink")?!1:e(i,o)}}else n.filter=function(i,o){return!(!o&&i.get("selectclusterlink"))};this.filter_=n.filter,!this._autoClose&&!n.toggleCondition&&(n.toggleCondition=Pu),z2.call(this,n),this.on("select",this.selectCluster.bind(this))};Oo(mf,z2),mf.prototype.setMap=function(n){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Object(Du.b)(this._listener),this._listener=null,z2.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n&&n.getView()&&(this._listener=n.getView().on("change:resolution",this.clear.bind(this)))},mf.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},mf.prototype.getLayer=function(){return this.overlayLayer_},mf.prototype.selectCluster=function(n){if(n instanceof Cn&&(n={selected:[n]}),!n.selected.length){this._autoClose?this.clear():n.deselected.forEach(kt=>{kt.get("selectcluserfeatures").forEach(Nt=>{this.overlayLayer_.getSource().removeFeature(Nt)})});return}var r=n.selected[0];if(!r.get("selectclusterfeature")){var t=this.overlayLayer_.getSource();this._autoClose&&t.clear();var e=r.get("features");if(!(!e||e.length==1)){this.selectCluster_||this.getFeatures().clear();var i=r.getGeometry().getCoordinates(),o=this.getMap().getView().getResolution(),s,l,f,h,v,w,R,B=[];if(!this.spiral||e.length<=this.circleMaxObjects)for(h=Math.min(e.length,this.circleMaxObjects),s=o*this.pointRadius*(.5+h/4),f=0;f<h;f++)l=2*Math.PI*f/h,(h==2||h==4)&&(l+=Math.PI/4),v=[i[0]+s*Math.sin(l),i[1]+s*Math.cos(l)],w=new Cn({selectclusterfeature:!0,features:[e[f]],geometry:new Ii(v)}),w.setStyle(e[f].getStyle()),B.push(w),R=new Cn({selectclusterlink:!0,geometry:new Xo([i,v])}),B.push(R);else{l=0;var V=2*this.pointRadius;for(h=Math.min(this.maxObjects,e.length),f=0;f<h;f++){s=V/2+V*l/(2*Math.PI),l=l+(V+.1)/s;var et=o*s*Math.sin(l),vt=o*s*Math.cos(l);v=[i[0]+et,i[1]+vt],w=new Cn({selectclusterfeature:!0,features:[e[f]],geometry:new Ii(v)}),w.setStyle(e[f].getStyle()),B.push(w),R=new Cn({selectclusterlink:!0,geometry:new Xo([i,v])}),B.push(R)}}r.set("selectcluserfeatures",B),this.animate?this.animateCluster_(i,B):t.addFeatures(B)}}},mf.prototype.animateCluster_=function(n,r){if(this.listenerKey_&&Object(Du.b)(this.listenerKey_),!r.length)return;var t=this.overlayLayer_.getStyle(),e=typeof t=="function"?t:t.length?function(){return t}:function(){return[t]},i=this.animationDuration||500,o=new Date().getTime();function s(f){for(var h=f.vectorContext||E2(f),v=f.frameState.pixelRatio,w=this.getMap().getView().getResolution(),R=Vr((f.frameState.time-o)/i),B=0,V;V=r[B];B++)if(V.get("features")){var et=V.getGeometry().getCoordinates();et[0]=n[0]+R*(et[0]-n[0]),et[1]=n[1]+R*(et[1]-n[1]);for(var vt=new Ii(et),Ct=e(V,w),kt=0;kt<Ct.length;kt++){var Ht,Nt=Ie.prototype.getFeaturesAtPixel?!1:Ct[kt].getImage();Nt&&(Ht=Nt.getScale(),Nt.setScale(v)),h.setStyle?(h.setStyle(Ct[kt]),h.drawGeometry(vt)):(h.setImageStyle(Nt),h.drawPointGeometry(vt)),Nt&&Nt.setScale(Ht)}}if(R>1){Object(Du.b)(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(r),this.overlayLayer_.changed();return}f.frameState.animate=!0}this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],s.bind(this));var l=new Cn(new Ii(this.getMap().getView().getCenter()));l.setStyle(new $s({image:new l1({})})),this.overlayLayer_.getSource().addFeature(l)},mf.prototype.getClusterExtent=function(n){if(!n.get("features"))return null;var r=at();return n.get("features").forEach(function(t){r=ln(r,t.getGeometry().getExtent())}),r[0]===r[2]&&r[1]===r[3]?null:r};var mF=mf,yF={name:"ol-interaction-clusterselect",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(F.inject)("map"),o=Dr(r),s=o.properties,l=Object(F.computed)(function(){var f=new mF(or(or({},s),{},{style:new $s}));return f.on("select",function(h){e("select",h)}),f});Object(F.watch)(l,function(f,h){i.removeInteraction(h),i.addInteraction(f),i.changed()}),Object(F.onMounted)(function(){i.addInteraction(l.value)}),Object(F.onUnmounted)(function(){i.removeInteraction(l.value)}),Object(F.provide)("stylable",l)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},pointRadius:{type:Number,default:7},animate:{type:Boolean,default:!0},featureStyle:{type:Function},style:{type:Function}}},L5=lr()(yF,[["render",gF]]);function _F(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var EF={name:"ol-interaction-draw",emits:["drawstart","drawend"],setup:function(r,t){var e=t.emit,i=Object(F.inject)("map"),o=Object(F.inject)("vectorSource"),s=Object(F.toRefs)(r),l=s.type,f=s.clickTolerance,h=s.dragVertexDelay,v=s.snapTolerance,w=s.stopClick,R=s.maxPoints,B=s.minPoints,V=s.finishCondition,et=s.geometryFunction,vt=s.geometryName,Ct=s.condition,kt=s.freehand,Ht=s.freehandCondition,Nt=s.wrapX,ve=function(){var Se=new _5({source:o.value,type:l.value,clickTolerance:f.value,dragVertexDelay:h.value,snapTolerance:v.value,stopClick:w.value,maxPoints:R.value,minPoints:B.value,finishCondition:V.value,geometryFunction:et.value,geometryName:vt.value,condition:Ct.value,freehand:kt.value,freehandCondition:Ht.value,wrapX:Nt.value});return Se.on("drawstart",function(Fe){e("drawstart",Fe)}),Se.on("drawend",function(Fe){e("drawend",Fe)}),Se},de=ve();Object(F.watch)([l,f,h,v,w,R,B,V,et,vt,Ct,kt,Ht,Nt],function(){i.removeInteraction(de),de=ve(),i.addInteraction(de),de.changed(),i.changed()}),Object(F.onMounted)(function(){i.addInteraction(de)}),Object(F.onUnmounted)(function(){i.removeInteraction(de)}),Object(F.provide)("stylable",de)},props:{type:{type:String,required:!0},clickTolerance:{type:Number,default:6},dragVertexDelay:{type:Number,default:500},snapTolerance:{type:Number,default:12},stopClick:{type:Boolean,default:!1},maxPoints:{type:Number},minPoints:{type:Number},finishCondition:{type:Function},geometryFunction:{type:Function},geometryName:{type:String},condition:{type:Function},freehand:{type:Boolean,default:!1},freehandCondition:{type:Function},wrapX:{type:Boolean,default:!1}}},P5=lr()(EF,[["render",_F]]);function SF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var wF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function v7(n){if(n.feature)return n.feature;if(n.element)return n.element}var Ld=[],xF=function(n){wF(r,n);function r(t){var e=this,i=t||{},o=i;return o.handleDownEvent||(o.handleDownEvent=te.b),o.stopDown||(o.stopDown=te.a),e=n.call(this,o)||this,e.source_=i.source?i.source:null,e.vertex_=i.vertex!==void 0?i.vertex:!0,e.edge_=i.edge!==void 0?i.edge:!0,e.features_=i.features?i.features:null,e.featuresListenerKeys_=[],e.featureChangeListenerKeys_={},e.indexedFeaturesExtents_={},e.pendingFeatures_={},e.pixelTolerance_=i.pixelTolerance!==void 0?i.pixelTolerance:10,e.rBush_=new y2,e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e)},e}return r.prototype.addFeature=function(t,e){var i=e!==void 0?e:!0,o=Object(Ot.c)(t),s=t.getGeometry();if(s){var l=this.SEGMENT_WRITERS_[s.getType()];l&&(this.indexedFeaturesExtents_[o]=s.getExtent(at()),l(t,s))}i&&(this.featureChangeListenerKeys_[o]=Object(Hr.a)(t,un.a.CHANGE,this.handleFeatureChange_,this))},r.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},r.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},r.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},r.prototype.handleEvent=function(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),n.prototype.handleEvent.call(this,t)},r.prototype.handleFeatureAdd_=function(t){var e=v7(t);this.addFeature(e)},r.prototype.handleFeatureRemove_=function(t){var e=v7(t);this.removeFeature(e)},r.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(Ot.c)(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},r.prototype.handleUpEvent=function(t){var e=Object(pn.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},r.prototype.removeFeature=function(t,e){var i=e!==void 0?e:!0,o=Object(Ot.c)(t),s=this.indexedFeaturesExtents_[o];if(s){var l=this.rBush_,f=[];l.forEachInExtent(s,function(v){t===v.feature&&f.push(v)});for(var h=f.length-1;h>=0;--h)l.remove(f[h])}i&&(Object(Hr.c)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},r.prototype.setMap=function(t){var e=this.getMap(),i=this.featuresListenerKeys_,o=this.getFeatures_();e&&(i.forEach(Hr.c),i.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),n.prototype.setMap.call(this,t),t&&(this.features_?i.push(Object(Hr.a)(this.features_,ri.ADD,this.handleFeatureAdd_,this),Object(Hr.a)(this.features_,ri.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object(Hr.a)(this.source_,Is.ADDFEATURE,this.handleFeatureAdd_,this),Object(Hr.a)(this.source_,Is.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},r.prototype.snapTo=function(t,e,i){var o=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),s=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),l=Tt([o,s]),f=this.rBush_.getInExtent(l);this.vertex_&&!this.edge_&&(f=f.filter(function(Ke){return Ke.feature.getGeometry().getType()!==Ee.CIRCLE}));var h=!1,v=null,w=null;if(f.length===0)return{snapped:h,vertex:v,vertexPixel:w};for(var R=i.getView().getProjection(),B=lt(e),V,et=1/0,vt=0;vt<f.length;++vt){var Ct=f[vt];Ld[0]=lt(Ct.segment[0]),Ld[1]=lt(Ct.segment[1]);var kt=Xt(B,Ld);kt<et&&(V=Ct,et=kt)}var Ht=V.segment;if(this.vertex_&&!this.edge_){var Nt=i.getPixelFromCoordinate(Ht[0]),ve=i.getPixelFromCoordinate(Ht[1]),de=Bt(t,Nt),Oe=Bt(t,ve),Se=Math.sqrt(Math.min(de,Oe));Se<=this.pixelTolerance_&&(h=!0,v=de>Oe?Ht[1]:Ht[0],w=i.getPixelFromCoordinate(v))}else if(this.edge_){var Fe=V.feature.getGeometry().getType()===Ee.CIRCLE;if(Fe){var wr=V.feature.getGeometry(),hr=j();hr&&(wr=wr.clone().transform(hr,R)),v=Y(D(B,wr))}else Ld[0]=lt(Ht[0]),Ld[1]=lt(Ht[1]),v=Y(X(B,Ld));if(w=i.getPixelFromCoordinate(v),Ut(t,w)<=this.pixelTolerance_&&(h=!0,this.vertex_&&!Fe)){var Nt=i.getPixelFromCoordinate(Ht[0]),ve=i.getPixelFromCoordinate(Ht[1]),de=Bt(w,Nt),Oe=Bt(w,ve),Se=Math.sqrt(Math.min(de,Oe));Se<=this.pixelTolerance_&&(v=de>Oe?Ht[1]:Ht[0],w=i.getPixelFromCoordinate(v))}}return h&&(w=[Math.round(w[0]),Math.round(w[1])]),{snapped:h,vertex:v,vertexPixel:w}},r.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},r.prototype.writeCircleGeometry_=function(t,e){this.getMap().getView().getProjection();for(var i=e,o=x0(i),s=o.getCoordinates()[0],l=0,f=s.length-1;l<f;++l){var h=s.slice(l,l+2),v={feature:t,segment:h};this.rBush_.insert(Tt(h),v)}},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),o=0;o<i.length;++o){var s=this.SEGMENT_WRITERS_[i[o].getType()];s&&s(t,i[o])}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length-1;o<s;++o){var l=i.slice(o,o+2),f={feature:t,segment:l};this.rBush_.insert(Tt(l),f)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o)for(var l=i[o],f=0,h=l.length-1;f<h;++f){var v=l.slice(f,f+2),w={feature:t,segment:v};this.rBush_.insert(Tt(v),w)}},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o){var l=i[o],f={feature:t,segment:[l,l]};this.rBush_.insert(e.getExtent(),f)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o)for(var l=i[o],f=0,h=l.length;f<h;++f)for(var v=l[f],w=0,R=v.length-1;w<R;++w){var B=v.slice(w,w+2),V={feature:t,segment:B};this.rBush_.insert(Tt(B),V)}},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),o={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,s=i.length;o<s;++o)for(var l=i[o],f=0,h=l.length-1;f<h;++f){var v=l.slice(f,f+2),w={feature:t,segment:v};this.rBush_.insert(Tt(v),w)}},r}(Cl),OF=xF,TF={name:"ol-interaction-snap",setup:function(r){var t=Object(F.inject)("map"),e=Object(F.inject)("vectorSource"),i=Dr(r),o=i.properties,s=function(){var h=new OF(or(or({},o),{},{source:e.value}));return h},l=s();Object(F.watch)(o,function(){t.removeInteraction(l),l=s(),t.addInteraction(l),t.changed()}),Object(F.onMounted)(function(){t.addInteraction(l)}),Object(F.onUnmounted)(function(){t.removeInteraction(l)})},props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{type:Number,default:10}}},I5=lr()(TF,[["render",SF]]);function bF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var AF={name:"ol-interaction-modify",emits:["modifystart","modifyend"],setup:function(r,t){var e=t.emit,i=Object(F.inject)("map"),o=Object(F.inject)("vectorSource"),s=Object(F.toRefs)(r),l=s.features,f=s.condition,h=s.deleteCondition,v=s.insertVertexCondition,w=s.pixelTolerance,R=s.wrapX,B=s.hitDetection,V=function(){var Ct=new w5({source:o.value,features:l.value,condition:f.value,deleteCondition:h.value,insertVertexCondition:v.value,pixelTolerance:w.value,wrapX:R.value,hitDetection:B.value});return Ct.on("modifystart",function(kt){e("modifystart",kt)}),Ct.on("modifyend",function(kt){e("modifyend",kt)}),Ct},et=V();Object(F.watch)([f,h,v,w,R,B],function(){i.removeInteraction(et),et=V(),i.addInteraction(et),et.changed(),i.changed()}),Object(F.onMounted)(function(){i.addInteraction(et)}),Object(F.onUnmounted)(function(){i.removeInteraction(et)}),Object(F.provide)("stylable",et)},props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{type:Number,default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{type:[Dn,Object]}}},N5=lr()(AF,[["render",bF]]);function MF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var Wa=function(n){n||(n={});var r=this;this.selection_=new Dn,this.handles_=new Dn,this.overlayLayer_=new ac({source:new bc({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return r.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),Cl.call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=n.features,typeof n.filter=="function"&&(this._filter=n.filter),this.layers_=n.layers?n.layers instanceof Array?n.layers:[n.layers]:null,this._handleEvent=n.condition||function(){return!0},this.addFn_=n.addCondition||function(){return!1},this.set("translateFeature",n.translateFeature!==!1),this.set("translate",n.translate!==!1),this.set("translateBBox",n.translateBBox===!0),this.set("stretch",n.stretch!==!1),this.set("scale",n.scale!==!1),this.set("rotate",n.rotate!==!1),this.set("keepAspectRatio",n.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",n.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",n.noFlip||!1),this.set("selection",n.selection!==!1),this.set("hitTolerance",n.hitTolerance||0),this.set("enableRotatedTransform",n.enableRotatedTransform||!1),this.set("keepRectangle",n.keepRectangle||!1),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()};Oo(Wa,Cl),Wa.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},Wa.prototype.setMap=function(n){var r=this.getMap();if(r){var t=r.getTargetElement();r.removeLayer(this.overlayLayer_),this.previousCursor_&&t&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}Cl.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n===null&&this.select(null),n!==null&&(this.isTouch=/touch/.test(n.getViewport().className),this.setDefaultStyle())},Wa.prototype.setActive=function(n){this.select(null),this.overlayLayer_.setVisible(n),Cl.prototype.setActive.call(this,n)},Wa.prototype.setDefaultStyle=function(n){n=n||{};var r=n.pointStroke||new _s({color:[255,0,0,1],width:1}),t=n.stroke||new _s({color:[255,0,0,1],width:1,lineDash:[4,4]}),e=n.fill||new Ks({color:[255,0,0,.01]}),i=n.pointFill||new Ks({color:[255,255,255,.8]}),o=new c2({fill:i,stroke:r,radius:this.isTouch?12:6,points:15});o.getAnchor()[0]=this.isTouch?-10:-5;var s=new c2({fill:i,stroke:r,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),l=new c2({fill:i,stroke:r,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function f(h,v,w){return[new $s({image:h,stroke:v,fill:w})]}this.style={default:f(s,t,e),translate:f(s,r,i),rotate:f(o,r,i),rotate0:f(s,r,i),scale:f(s,r,i),scale1:f(s,r,i),scale2:f(s,r,i),scale3:f(s,r,i),scalev:f(l,r,i),scaleh1:f(l,r,i),scalev2:f(l,r,i),scaleh3:f(l,r,i)},this.drawSketch_()},Wa.prototype.setStyle=function(n,r){if(!!r){r instanceof Array?this.style[n]=r:this.style[n]=[r];for(var t=0;t<this.style[n].length;t++){var e=this.style[n][t].getImage();e&&(n=="rotate"&&(e.getAnchor()[0]=-5),this.isTouch&&e.setScale(1.8));var i=this.style[n][t].getText();i&&(n=="rotate"&&i.setOffsetX(this.isTouch?14:7),this.isTouch&&i.setScale(1.8))}this.drawSketch_()}},Wa.prototype.getFeatureAtPixel_=function(n){var r=this;return this.getMap().forEachFeatureAtPixel(n,function(t,e){var i=!1;if(!e){if(t===r.bbox_)return r.get("translateBBox")?{feature:t,handle:"translate",constraint:"",option:""}:!1;if(r.handles_.forEach(function(s){s===t&&(i=!0)}),i)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!r.get("selection"))return r.selection_.getArray().some(function(s){return t===s})?{feature:t}:null;if(r._filter)return r._filter(t,e)?{feature:t}:null;if(r.layers_){for(var o=0;o<r.layers_.length;o++)if(r.layers_[o]===e)return{feature:t};return null}else return r.features_?(r.features_.forEach(function(s){s===t&&(i=!0)}),i?{feature:t}:null):{feature:t}},{hitTolerance:this.get("hitTolerance")})||{}},Wa.prototype.getGeometryRotateToZero_=function(n,r){var t=n.getGeometry(),e=this.getMap().getView().getRotation();if(e===0||!this.get("enableRotatedTransform"))return r?t.clone():t;var i=t.clone();return i.rotate(e*-1,this.getMap().getView().getCenter()),i},Wa.prototype._isRectangle=function(n){if(this.get("keepRectangle")&&n.getType()==="Polygon"){var r=n.getCoordinates()[0];return r.length===5}return!1},Wa.prototype.drawSketch_=function(n){var r,t,e,i=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var o=this.getMap().getView().getRotation(),s=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),l;if(i&&(l=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),l.unshift(l[3])),s=Rt(s,0),this.selection_.forEach(function(w){var R=this.getGeometryRotateToZero_(w).getExtent();ln(s,R)}.bind(this)),n===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new Cn({geometry:new Ii(this.center_),handle:"rotate0"})),e=Jl(s),this.get("enableRotatedTransform")&&o!==0&&e.rotate(o,this.getMap().getView().getCenter()),t=this.bbox_=new Cn(e),this.overlayLayer_.getSource().addFeature(t));else{if(this.ispt_){var f=this.getMap().getPixelFromCoordinate([s[0],s[1]]);f&&(s=Tt([this.getMap().getCoordinateFromPixel([f[0]-10,f[1]-10]),this.getMap().getCoordinateFromPixel([f[0]+10,f[1]+10])]))}e=i?new so([l]):Jl(s),this.get("enableRotatedTransform")&&o!==0&&e.rotate(o,this.getMap().getView().getCenter()),t=this.bbox_=new Cn(e);var h=[],v=e.getCoordinates()[0];if(!this.ispt_){if(h.push(t),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(r=0;r<v.length-1;r++)t=new Cn({geometry:new Ii([(v[r][0]+v[r+1][0])/2,(v[r][1]+v[r+1][1])/2]),handle:"scale",constraint:r%2?"h":"v",option:r}),h.push(t);if(this.get("scale"))for(r=0;r<v.length-1;r++)t=new Cn({geometry:new Ii(v[r]),handle:"scale",option:r}),h.push(t);this.get("translate")&&!this.get("translateFeature")&&(t=new Cn({geometry:new Ii([(v[0][0]+v[2][0])/2,(v[0][1]+v[2][1])/2]),handle:"translate"}),h.push(t))}!this.iscircle_&&this.get("rotate")&&(t=new Cn({geometry:new Ii(v[3]),handle:"rotate"}),h.push(t)),this.overlayLayer_.getSource().addFeatures(h)}}},Wa.prototype.select=function(n,r){if(!n){this.selection_.clear(),this.drawSketch_();return}if(!(!n.getGeometry||!n.getGeometry())){if(r)this.selection_.push(n);else{var t=this.selection_.getArray().indexOf(n);this.selection_.removeAt(t)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:n,features:this.selection_})}},Wa.prototype.setSelection=function(n){this.selection_.clear(),n.forEach(function(r){this.selection_.push(r)}.bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},Wa.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach(function(n){Object(Du.b)(n)}),this._featureListeners=[],this.selection_.forEach(function(n){this._featureListeners.push(n.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},Wa.prototype.handleDownEvent_=function(n){if(!!this._handleEvent(n,this.selection_)){var r=this.getFeatureAtPixel_(n.pixel),t=r.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(t)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(r.handle="translate"),r.handle){this.mode_=r.handle,this.opt_=r.option,this.constraint_=r.constraint;var e=this.getMap().getView().getRotation();this.coordinate_=n.coordinate,this.pixel_=n.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var i=at(),o=at(),s=0,l;l=this.selection_.item(s);s++)if(this.geoms_.push(l.getGeometry().clone()),i=ln(i,l.getGeometry().getExtent()),this.get("enableRotatedTransform")&&e!==0){var f=this.getGeometryRotateToZero_(l,!0);this.rotatedGeoms_.push(f),o=ln(o,f.getExtent())}if(this.extent_=Jl(i).getCoordinates()[0],this.get("enableRotatedTransform")&&e!==0&&(this.rotatedExtent_=Jl(o).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||zn(i);var h=n.map.getTargetElement();h.style.cursor=this.Cursors.rotate0,this.previousCursor_=h.style.cursor}else this.center_=zn(i);return this.angle_=Math.atan2(this.center_[1]-n.coordinate[1],this.center_[0]-n.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!0}else if(this.get("selection")){if(t){this.addFn_(n)||this.selection_.clear();var v=this.selection_.getArray().indexOf(t);v<0?this.selection_.push(t):this.selection_.removeAt(v)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!1}}},Wa.prototype.getFeatures=function(){return this.selection_},Wa.prototype.getCenter=function(){return this.get("center")},Wa.prototype.setCenter=function(n){return this.set("center",n)};function Ac(n,r){var t=(n[0]*r[0]+n[1]*r[1])/(r[0]*r[0]+r[1]*r[1]);return[r[0]*t,r[1]*t]}function su(n,r){return[r[0]-n[0],r[1]-n[1]]}function Dl(n,r){return[n[0]+r[0],n[1]+r[1]]}Wa.prototype.handleDragEvent_=function(n){if(!!this._handleEvent(n,this.features_)){var r=this.getMap().getView().getRotation(),t,e,i,o,s=[this.coordinate_[0],this.coordinate_[1]],l=[n.coordinate[0],n.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var f=Math.atan2(this.center_[1]-l[1],this.center_[0]-l[0]);if(!this.ispt)for(t=0,i;i=this.selection_.item(t);t++)o=this.geoms_[t].clone(),o.rotate(f-this.angle_,this.center_),o.getType()=="Circle"&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),i.setGeometry(o);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:f-this.angle_,pixel:n.pixel,coordinate:n.coordinate});break}case"translate":{var h=l[0]-s[0],v=l[1]-s[1];for(t=0,i;i=this.selection_.item(t);t++)i.getGeometry().translate(h,v);this.handles_.forEach(function(Se){Se.getGeometry().translate(h,v)}),this.coordinate_=n.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[h,v],pixel:n.pixel,coordinate:n.coordinate});break}case"scale":{var w=this.center_;if(this.get("modifyCenter")(n)){var R=this.extent_;this.get("enableRotatedTransform")&&r!==0&&(R=this.rotatedExtent_),w=R[(Number(this.opt_)+2)%4]}var B=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),V=this.constraint_,et=this.opt_,vt=this.coordinate_,Ct=n.coordinate;if(this.get("enableRotatedTransform")&&r!==0){var kt=new Ii(this.coordinate_);kt.rotate(r*-1,w),vt=kt.getCoordinates();var Ht=new Ii(n.coordinate);Ht.rotate(r*-1,w),Ct=Ht.getCoordinates()}var Nt=(Ct[0]-w[0])/(vt[0]-w[0]),ve=(Ct[1]-w[1])/(vt[1]-w[1]),de=[Ct[0]-vt[0],Ct[1]-vt[1]];if(this.get("enableRotatedTransform")&&r!==0){var Oe=new Ii(w);Oe.rotate(r*-1,this.getMap().getView().getCenter()),w=Oe.getCoordinates()}for(this.get("noFlip")&&(Nt<0&&(Nt=-Nt),ve<0&&(ve=-ve)),this.constraint_?this.constraint_=="h"?Nt=1:ve=1:this.get("keepAspectRatio")(n)&&(Nt=ve=Math.min(Nt,ve)),t=0,i;i=this.selection_.item(t);t++)o=r===0||!this.get("enableRotatedTransform")?this.geoms_[t].clone():this.rotatedGeoms_[t].clone(),o.applyTransform(function(Se,Fe,wr){if(wr<2)return Fe;if(B){var hr=[[6],[0,8],[2],[4]],Ke=[Se[0],Se[1]],Ir=[Se[2],Se[3]],yn=[Se[4],Se[5]],Sn=[Se[6],Se[7]],Rn=[Se[8],Se[9]];if(V){var Nn=et%2===0?su(Ke,Ir):su(Sn,Ke),gi=Ac(de,Nn),mi=et+1<hr.length?et+1:0,Mi=[...hr[et],...hr[mi]];for(e=0;e<Se.length;e+=wr)Fe[e]=Mi.includes(e)?Se[e]+gi[0]:Se[e],Fe[e+1]=Mi.includes(e)?Se[e+1]+gi[1]:Se[e+1]}else{var Ri,Br;switch(et){case 0:de=su(Sn,Ct),Ri=Ac(de,su(yn,Sn)),Br=Ac(de,su(Ke,Sn)),[Fe[0],Fe[1]]=Dl(Ke,Ri),[Fe[4],Fe[5]]=Dl(yn,Br),[Fe[6],Fe[7]]=Dl(Sn,de),[Fe[8],Fe[9]]=Dl(Rn,Ri);break;case 1:de=su(Ke,Ct),Ri=Ac(de,su(Sn,Ke)),Br=Ac(de,su(Ir,Ke)),[Fe[0],Fe[1]]=Dl(Ke,de),[Fe[2],Fe[3]]=Dl(Ir,Ri),[Fe[6],Fe[7]]=Dl(Sn,Br),[Fe[8],Fe[9]]=Dl(Rn,de);break;case 2:de=su(Ir,Ct),Ri=Ac(de,su(Ke,Ir)),Br=Ac(de,su(yn,Ir)),[Fe[0],Fe[1]]=Dl(Ke,Br),[Fe[2],Fe[3]]=Dl(Ir,de),[Fe[4],Fe[5]]=Dl(yn,Ri),[Fe[8],Fe[9]]=Dl(Rn,Br);break;case 3:de=su(yn,Ct),Ri=Ac(de,su(Ir,yn)),Br=Ac(de,su(Sn,yn)),[Fe[2],Fe[3]]=Dl(Ir,Br),[Fe[4],Fe[5]]=Dl(yn,de),[Fe[6],Fe[7]]=Dl(Sn,Ri);break}}}else for(e=0;e<Se.length;e+=wr)Nt!=1&&(Fe[e]=w[0]+(Se[e]-w[0])*Nt),ve!=1&&(Fe[e+1]=w[1]+(Se[e+1]-w[1])*ve);return o.getType()=="Circle"&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),Fe}),this.get("enableRotatedTransform")&&r!==0&&o.rotate(r,this.getMap().getView().getCenter()),i.setGeometry(o);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[Nt,ve],pixel:n.pixel,coordinate:n.coordinate});break}}this.isUpdating_=!1}},Wa.prototype.handleMoveEvent_=function(n){if(!!this._handleEvent(n,this.features_)&&!this.mode_){var r=this.getFeatureAtPixel_(n.pixel),t=n.map.getTargetElement();if(r.feature){var e=r.handle?this.Cursors[(r.handle||"default")+(r.constraint||"")+(r.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=t.style.cursor),t.style.cursor=e}else this.previousCursor_!==void 0&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},Wa.prototype.handleUpEvent_=function(n){if(this.mode_==="rotate"){var r=n.map.getTargetElement();r.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},Wa.prototype.getFeatures=function(){return this.selection_};var RF=Wa,CF={name:"ol-interaction-transform",setup:function(r){var t=Object(F.inject)("map"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){var s=new RF(or({},i));return s});Object(F.watch)(o,function(s,l){t.removeInteraction(l),t.addInteraction(s),t.changed()}),Object(F.onMounted)(function(){t.addInteraction(o.value)}),Object(F.onUnmounted)(function(){t.removeInteraction(o.value)}),Object(F.provide)("stylable",o)},props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{type:Function},addCondition:{type:Function},filter:{type:Function},layers:{type:Array},hitTolerance:{type:Number,default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Boolean,default:!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}}},F5=lr()(CF,[["render",MF]]);function LF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var PF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IF=function(n){PF(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.condition_=i.condition?i.condition:Jc,e.lastAngle_=void 0,e.lastMagnitude_=void 0,e.lastScaleDelta_=0,e.duration_=i.duration!==void 0?i.duration:400,e}return r.prototype.handleDragEvent=function(t){if(!!as(t)){var e=t.map,i=e.getSize(),o=t.pixel,s=o[0]-i[0]/2,l=i[1]/2-o[1],f=Math.atan2(l,s),h=Math.sqrt(s*s+l*l),v=e.getView();if(this.lastAngle_!==void 0){var w=this.lastAngle_-f;v.adjustRotationInternal(w)}this.lastAngle_=f,this.lastMagnitude_!==void 0&&v.adjustResolutionInternal(this.lastMagnitude_/h),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},r.prototype.handleUpEvent=function(t){if(!as(t))return!0;var e=t.map,i=e.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),this.lastScaleDelta_=0,!1},r.prototype.handleDownEvent=function(t){return as(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},r}(Cl),NF=IF,FF={name:"ol-interaction-dragrotatezoom",setup:function(r){var t=Object(F.inject)("map"),e=Dr(r),i=e.properties,o=Object(F.computed)(function(){var s=new NF(or({},i));return s});Object(F.watch)(o,function(s,l){t.removeInteraction(l),t.addInteraction(s),t.changed()}),Object(F.onMounted)(function(){t.addInteraction(o.value)}),Object(F.onUnmounted)(function(){t.removeInteraction(o.value)})},props:{condition:{type:Function},duration:{type:Number,default:400}}},D5=lr()(FF,[["render",LF]]);function V2(n){V2.installed||(V2.installed=!0,n.component(C5.name,C5),n.component(L5.name,L5),n.component(P5.name,P5),n.component(I5.name,I5),n.component(N5.name,N5),n.component(F5.name,F5),n.component(D5.name,D5))}var DF=V2;function jF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var GF={setup:function(){var r=Object(F.inject)("map"),t=Object(F.inject)("vectorLayer");return{map:r,vectorLayer:t}},props:{duration:{type:Number,default:1e3},revers:{type:Boolean,default:!1},repeat:{type:Number,default:0},fade:{type:Function},easing:{type:Function,default:Vr}}},G0=lr()(GF,[["render",jF]]);function BF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}u("d81d");var Pd=function(n){n=n||{},this.duration_=typeof n.duration=="number"?n.duration>=0?n.duration:0:1e3,this.fade_=typeof n.fade=="function"?n.fade:null,this.repeat_=Number(n.repeat);var r=typeof n.easing=="function"?n.easing:Kr;n.revers?this.easing_=function(t){return 1-r(t)}:this.easing_=r,this.hiddenStyle=n.hiddenStyle,go.a.call(this)};Oo(Pd,go.a),Pd.hiddenStyle=new $s({image:new l1({}),stroke:new _s({color:"transparent"})}),Pd.prototype.drawGeom_=function(n,r,t){this.fade_&&(n.context.globalAlpha=this.fade_(1-n.elapsed));for(var e=n.style,i=0;i<e.length;i++)try{var o=n.vectorContext||E2(n);o.setStyle(e[i]),e[i].getZIndex()<0?o.drawGeometry(t||r):o.drawGeometry(r)}catch{}},Pd.prototype.animate=function(){return!1},Ie.prototype.animateFeature=function(n,r){var t=this._featureAnimationLayer;t||(t=this._featureAnimationLayer=new ac({source:new bc}),t.setMap(this)),t.getSource().addFeature(n);var e=r.on("animationend",function(i){i.feature===n&&(t.getSource().removeFeature(n),Object(Du.b)(e))});t.animateFeature(n,r)},hs.prototype.animateFeature=function(n,r,t){var e=this,i,o=n.getStyle(),s=o||(this.getStyleFunction?this.getStyleFunction()(n):null);s||(s=[]),s instanceof Array||(s=[s]);var l={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:n,geom:n.getGeometry(),typeGeom:n.getGeometry().getType(),bbox:n.getGeometry().getExtent(),coord:zn(n.getGeometry().getExtent()),style:s};r instanceof Array||(r=[r]);for(var f=r.length-1;f>=0;f--)r[f].duration_===0&&r.splice(f,1);var h=0,v=0,w=t&&this.getFilters?this.getFilters():[];function R(et){l.type=et.type;try{l.vectorContext=et.vectorContext||E2(et)}catch{}if(l.frameState=et.frameState,l.inversePixelTransform=et.inversePixelTransform,l.extent||(l.extent=et.frameState.extent,l.start=et.frameState.time,l.context=et.context),l.time=et.frameState.time-l.start,l.elapsed=l.time/r[v].duration_,l.elapsed>1&&(l.elapsed=1),et.context.save(),w.forEach(function(Ct){Ct.get("active")&&Ct.precompose(et)}),this.getOpacity&&(et.context.globalAlpha=this.getOpacity()),!r[v].animate(l))h++,h<r[v].repeat_?l.extent=!1:v<r.length-1?(r[v].dispatchEvent({type:"animationend",feature:n}),v++,h=0,l.extent=!1):B();else{var vt={type:"animating",step:v,start:l.start,time:l.time,elapsed:l.elapsed,rotation:l.rotation||0,geom:l.geom,coordinate:l.coord,feature:n};r[v].dispatchEvent(vt),e.dispatchEvent(vt)}w.forEach(function(Ct){Ct.get("active")&&Ct.postcompose(et)}),et.context.restore(),et.frameState.animate=!0}function B(et){Object(Du.b)(i),i=null,n.setStyle(o);var vt={type:"animationend",feature:n};if(et)for(var Ct in et)et.hasOwnProperty(Ct)&&(vt[Ct]=et[Ct]);r[v].dispatchEvent(vt),e.dispatchEvent(vt)}function V(et){if(r.length&&!i){if(i=e.on(["postcompose","postrender"],R.bind(e)),e.renderSync)try{e.renderSync()}catch{}else e.changed();n.setStyle(r[v].hiddenStyle||Pd.hiddenStyle);var vt={type:"animationstart",feature:n};if(et)for(var Ct in et)et.hasOwnProperty(Ct)&&(vt[Ct]=et[Ct]);r[v].dispatchEvent(vt),e.dispatchEvent(vt)}}return V(),{start:V,stop:B,isPlaying:function(){return!!i}}};var lu=Pd,j5=function(n){n=n||{},this.speed_=n.speed||0,lu.call(this,n),this.side_=n.side||"top"};Oo(j5,lu),j5.prototype.animate=function(n){if(!n.time){var r=n.frameState.viewState.rotation,t=n.frameState.size[1]*n.frameState.viewState.resolution;this.side_!="top"&&(t*=-1),this.dx=-Math.sin(r)*t,this.dy=Math.cos(r)*t,this.speed_&&(this.duration_=t/this.speed_/n.frameState.viewState.resolution)}var e=n.geom.clone();return e.translate(this.dx*(1-this.easing_(n.elapsed)),this.dy*(1-this.easing_(n.elapsed))),this.drawGeom_(n,e,n.geom),n.time<=this.duration_};var UF=j5;function yh(n,r){var t=G0.setup(),e=t.map,i=t.vectorLayer,o=Dr(r),s=o.properties,l=Object(F.computed)(function(){var f=new n(or({},s));return f});return Object(F.provide)("animation",l),{map:e,vectorLayer:i,animation:l,properties:s}}var kF={name:"ol-animation-drop",extends:G0,setup:function(r){var t=yh(UF,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{side:{type:Number,default:0},speed:{type:Number,default:0}}},G5=lr()(kF,[["render",BF]]);function zF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var B5=function(n){n=n||{},lu.call(this,n),this.amplitude_=n.amplitude||40,this.bounce_=-Math.PI*(n.bounce||6),this.horizontal_=n.horizontal};Oo(B5,lu),B5.prototype.animate=function(n){var r=n.geom.clone(),t=n.geom.clone(),e=this.easing_(n.elapsed);return e=Math.sin(this.bounce_*e)*this.amplitude_*(1-e)*n.frameState.viewState.resolution,this.horizontal_?(r.translate(e,0),t.translate(e,0)):r.translate(0,e),this.drawGeom_(n,r,t),n.time<=this.duration_};var VF=B5,WF={name:"ol-animation-shake",extends:G0,setup:function(r){var t=yh(VF,r),e=t.map,i=t.vectorLayer,o=t.properties,s=t.animation;return{map:e,vectorLayer:i,properties:o,animation:s}},props:{bounce:{type:Number,default:6},amplitude:{type:Number,default:40},horizontal:{type:Boolean,default:!1}}},U5=lr()(WF,[["render",zF]]);function HF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var g1=function(n){n=n||{},lu.call(this,n),this.set("zoomout",n.zoomOut)};Oo(g1,lu);var YF=function(n){n=n||{},n.zoomOut=!0,g1.call(this,n)};Oo(YF,g1),g1.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){this.get("zoomout")&&(r=1/r);var t=n.style,e,i,o=[];for(e=0;e<t.length;e++)i=t[e].getImage(),i&&(o[e]=i.getScale(),n.type==="postrender"?i.setScale(o[e]*r/n.frameState.pixelRatio):i.setScale(o[e]*r));for(this.drawGeom_(n,n.geom),e=0;e<t.length;e++)i=t[e].getImage(),i&&i.setScale(o[e])}return n.time<=this.duration_};var XF=g1,KF={name:"ol-animation-zoom",extends:G0,setup:function(r){var t=yh(XF,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{zoomOut:{type:Boolean,default:!1}}},k5=lr()(KF,[["render",HF]]);function $F(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var z5=function(n){lu.call(this,n)};Oo(z5,lu),z5.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){n.context.save();var t=n.frameState.pixelRatio;n.context.globalAlpha=r,n.context.scale(r,1/r);var e=n.frameState.coordinateToPixelTransform,i=(1/r-1)*t*(e[0]*n.coord[0]+e[1]*n.coord[1]+e[4]),o=(r-1)*t*(e[2]*n.coord[0]+e[3]*n.coord[1]+e[5]);n.context.translate(i,o),this.drawGeom_(n,n.geom),n.context.restore()}return n.time<=this.duration_};var ZF=z5,JF={name:"ol-animation-teleport",extends:G0,setup:function(r){var t=yh(ZF,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{}},V5=lr()(JF,[["render",$F]]);function qF(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var W5=function(n){n=n||{},this.speed_=n.speed||0,lu.call(this,n)};Oo(W5,lu),W5.prototype.animate=function(n){return n.context.globalAlpha=this.easing_(n.elapsed),this.drawGeom_(n,n.geom),n.time<=this.duration_};var QF=W5,tD={name:"ol-animation-fade",extends:G0,setup:function(r){var t=yh(QF,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}}},H5=lr()(tD,[["render",qF]]);function eD(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var Y5=function(n){n=n||{},this.speed_=n.speed||0,lu.call(this,n),this.side_=n.side||"left"};Oo(Y5,lu),Y5.prototype.animate=function(n){n.time||(this.side_=="left"?this.dx=n.extent[0]-n.bbox[2]:this.dx=n.extent[2]-n.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/n.frameState.viewState.resolution));var r=n.geom.clone();return r.translate(this.dx*(1-this.easing_(n.elapsed)),0),this.drawGeom_(n,r),n.time<=this.duration_};var rD=Y5,nD={name:"ol-animation-slide",extends:G0,setup:function(r){var t=yh(rD,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{speed:{type:Number,default:0}}},X5=lr()(nD,[["render",eD]]);function iD(n,r,t,e,i,o){return Object(F.renderSlot)(n.$slots,"default")}var K5=function(n){switch(n=n||{},lu.call(this,n),this.speed_=n.speed||0,this.path_=n.path,n.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=n.rotate||!1;break}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)};Oo(K5,lu),K5.prototype.animate=function(n){if(!n.time&&!this.dist_)return!1;var r=this.dist_*this.easing_(n.elapsed),t,e,i,o,s,l,f=0;e=this.path_[0];for(var h=1;h<this.path_.length;h++){if(t=e,e=this.path_[h],o=e[0]-t[0],s=e[1]-t[1],l=Math.sqrt(o*o+s*s),l&&f+l>=r){i=(r-f)/l,e=[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i];break}f+=l}var v=n.style;if(n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]),this.rotate_!==!1){var w=[],R=this.rotate_-n.rotation+n.frameState.viewState.rotation;n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]);for(var B=0;i=n.style[B];B++)i.getImage()&&i.getImage().setRotation(R),w.push(i);n.style=w}return n.geom.setCoordinates(e),this.drawGeom_(n,n.geom),n.style=v,n.time<=this.duration_};var oD=K5,aD={name:"ol-animation-path",extends:G0,setup:function(r){var t=yh(oD,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{rotate:{type:Boolean,default:!1},speed:{type:Number,default:0},path:{type:Object}}},$5=lr()(aD,[["render",iD]]);function W2(n){W2.installed||(W2.installed=!0,n.component(G0.name,G0),n.component(G5.name,G5),n.component(U5.name,U5),n.component(k5.name,k5),n.component(V5.name,V5),n.component(H5.name,H5),n.component(X5.name,X5),n.component($5.name,$5))}var sD=W2;u("5bc0"),u("dbd0"),u("872d"),u("7d05");var lD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uD=function(n){lD(r,n);function r(t){var e=n.call(this)||this;return e.geometries_=t||null,e.changeEventsKeys_=[],e.listenGeometriesChange_(),e}return r.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Hr.c),this.changeEventsKeys_.length=0},r.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(Hr.a)(this.geometries_[t],un.a.CHANGE,this.changed,this))},r.prototype.clone=function(){var t=new r(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){if(o<$t(this.getExtent(),t,e))return o;for(var s=this.geometries_,l=0,f=s.length;l<f;++l)o=s[l].closestPointXY(t,e,i,o);return o},r.prototype.containsXY=function(t,e){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)if(i[o].containsXY(t,e))return!0;return!1},r.prototype.computeExtent=function(t){Q(t);for(var e=this.geometries_,i=0,o=e.length;i<o;++i)ln(t,e[i].getExtent());return t},r.prototype.getGeometries=function(){return g7(this.geometries_)},r.prototype.getGeometriesArray=function(){return this.geometries_},r.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,i=0,o=e.length;i<o;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],i=this.geometries_,o=!1,s=0,l=i.length;s<l;++s){var f=i[s],h=f.getSimplifiedGeometry(t);e.push(h),h!==f&&(o=!0)}if(o){var v=new r(null);return v.setGeometriesArray(e),v}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},r.prototype.getType=function(){return Ee.GEOMETRY_COLLECTION},r.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,o=e.length;i<o;++i)if(e[i].intersectsExtent(t))return!0;return!1},r.prototype.isEmpty=function(){return this.geometries_.length===0},r.prototype.rotate=function(t,e){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].rotate(t,e);this.changed()},r.prototype.scale=function(t,e,i){var o=i;o||(o=zn(this.getExtent()));for(var s=this.geometries_,l=0,f=s.length;l<f;++l)s[l].scale(t,e,o);this.changed()},r.prototype.setGeometries=function(t){this.setGeometriesArray(g7(t))},r.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},r.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,o=e.length;i<o;++i)e[i].applyTransform(t);this.changed()},r.prototype.translate=function(t,e){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].translate(t,e);this.changed()},r.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},r}(ro);function g7(n){for(var r=[],t=0,e=n.length;t<e;++t)r.push(n[t].clone());return r}var yl=uD,cD=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(r,t){var e;if(t){var i=t.dataProjection?Gn(t.dataProjection):this.readProjection(r);t.extent&&i&&i.getUnits()===Yi.TILE_PIXELS&&(i=Gn(i),i.setWorldExtent(t.extent)),e={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(e)},n.prototype.adaptOptions=function(r){return Object(pn.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},n.prototype.getType=function(){return Object(Ot.b)()},n.prototype.readFeature=function(r,t){return Object(Ot.b)()},n.prototype.readFeatures=function(r,t){return Object(Ot.b)()},n.prototype.readGeometry=function(r,t){return Object(Ot.b)()},n.prototype.readProjection=function(r){return Object(Ot.b)()},n.prototype.writeFeature=function(r,t){return Object(Ot.b)()},n.prototype.writeFeatures=function(r,t){return Object(Ot.b)()},n.prototype.writeGeometry=function(r,t){return Object(Ot.b)()},n}(),m1=cD;function ba(n,r,t){var e=t?Gn(t.featureProjection):null,i=t?Gn(t.dataProjection):null,o;if(e&&i&&!mo(e,i)?o=(r?n.clone():n).transform(r?e:i,r?i:e):o=n,r&&t&&t.decimals!==void 0){var s=Math.pow(10,t.decimals),l=function(f){for(var h=0,v=f.length;h<v;++h)f[h]=Math.round(f[h]*s)/s;return f};o===n&&(o=n.clone()),o.applyTransform(l)}return o}function Z5(n,r){var t=r?Gn(r.featureProjection):null,e=r?Gn(r.dataProjection):null;return t&&e&&!mo(t,e)?Al(n,e,t):n}var fD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hD=function(n){fD(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return F0.JSON},r.prototype.readFeature=function(t,e){return this.readFeatureFromObject(H2(t),this.getReadOptions(t,e))},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(H2(t),this.getReadOptions(t,e))},r.prototype.readFeatureFromObject=function(t,e){return Object(Ot.b)()},r.prototype.readFeaturesFromObject=function(t,e){return Object(Ot.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(H2(t),this.getReadOptions(t,e))},r.prototype.readGeometryFromObject=function(t,e){return Object(Ot.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromObject(H2(t))},r.prototype.readProjectionFromObject=function(t){return Object(Ot.b)()},r.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},r.prototype.writeFeatureObject=function(t,e){return Object(Ot.b)()},r.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},r.prototype.writeFeaturesObject=function(t,e){return Object(Ot.b)()},r.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},r.prototype.writeGeometryObject=function(t,e){return Object(Ot.b)()},r}(m1);function H2(n){if(typeof n=="string"){var r=JSON.parse(n);return r||null}else return n!==null?n:null}var J5=hD,dD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_h={};_h[Ee.POINT]=gD,_h[Ee.LINE_STRING]=mD,_h[Ee.POLYGON]=SD,_h[Ee.MULTI_POINT]=_D,_h[Ee.MULTI_LINE_STRING]=yD,_h[Ee.MULTI_POLYGON]=ED;var Eh={};Eh[Ee.POINT]=wD,Eh[Ee.LINE_STRING]=xD,Eh[Ee.POLYGON]=OD,Eh[Ee.MULTI_POINT]=bD,Eh[Ee.MULTI_LINE_STRING]=TD,Eh[Ee.MULTI_POLYGON]=AD;var pD=function(n){dD(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.geometryName_=i.geometryName,e}return r.prototype.readFeatureFromObject=function(t,e,i){var o=t,s=m7(o.geometry,e),l=new Cn;if(this.geometryName_&&l.setGeometryName(this.geometryName_),l.setGeometry(s),o.attributes){l.setProperties(o.attributes,!0);var f=o.attributes[i];f!==void 0&&l.setId(f)}return l},r.prototype.readFeaturesFromObject=function(t,e){var i=e||{};if(t.features){for(var o=t,s=[],l=o.features,f=0,h=l.length;f<h;++f)s.push(this.readFeatureFromObject(l[f],i,t.objectIdFieldName));return s}else return[this.readFeatureFromObject(t,i)]},r.prototype.readGeometryFromObject=function(t,e){return m7(t,e)},r.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&t.spatialReference.wkid!==void 0){var e=t.spatialReference,i=e.wkid;return Gn("EPSG:"+i)}else return null},r.prototype.writeGeometryObject=function(t,e){return y7(t,this.adaptOptions(e))},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={};if(!t.hasProperties())return i.attributes={},i;var o=t.getProperties(),s=t.getGeometry();if(s){i.geometry=y7(s,e);var l=e&&(e.dataProjection||e.featureProjection);l&&(i.geometry.spatialReference={wkid:Number(Gn(l).getCode().split(":").pop())}),delete o[t.getGeometryName()]}return Object(pn.d)(o)?i.attributes={}:i.attributes=o,i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,s=t.length;o<s;++o)i.push(this.writeFeatureObject(t[o],e));return{features:i}},r}(J5);function m7(n,r){var t,e;if(!n)return null;var i;if(typeof n.x=="number"&&typeof n.y=="number")i=Ee.POINT;else if(n.points)i=Ee.MULTI_POINT;else if(n.paths){var o=n;o.paths.length===1?i=Ee.LINE_STRING:i=Ee.MULTI_LINE_STRING}else if(n.rings){var s=n,l=Id(s),f=vD(s.rings,l);f.length===1?(i=Ee.POLYGON,n=Object(pn.a)({},n,(t={},t.rings=f[0],t))):(i=Ee.MULTI_POLYGON,n=Object(pn.a)({},n,(e={},e.rings=f,e)))}var h=_h[i];return ba(h(n),!1,r)}function vD(n,r){var t=[],e=[],i=[],o,s;for(o=0,s=n.length;o<s;++o){t.length=0,Er(t,0,n[o],r.length);var l=Mu(t,0,t.length,r.length);l?e.push([n[o]]):i.push(n[o])}for(;i.length;){var f=i.shift(),h=!1;for(o=e.length-1;o>=0;o--){var v=e[o][0],w=Pe(new bu(v).getExtent(),new bu(f).getExtent());if(w){e[o].push(f),h=!0;break}}h||e.push([f.reverse()])}return e}function gD(n){var r;return n.m!==void 0&&n.z!==void 0?r=new Ii([n.x,n.y,n.z,n.m],tr.XYZM):n.z!==void 0?r=new Ii([n.x,n.y,n.z],tr.XYZ):n.m!==void 0?r=new Ii([n.x,n.y,n.m],tr.XYM):r=new Ii([n.x,n.y]),r}function mD(n){var r=Id(n);return new Xo(n.paths[0],r)}function yD(n){var r=Id(n);return new au(n.paths,r)}function Id(n){var r=tr.XY;return n.hasZ===!0&&n.hasM===!0?r=tr.XYZM:n.hasZ===!0?r=tr.XYZ:n.hasM===!0&&(r=tr.XYM),r}function _D(n){var r=Id(n);return new h0(n.points,r)}function ED(n){var r=Id(n);return new ml(n.rings,r)}function SD(n){var r=Id(n);return new so(n.rings,r)}function wD(n,r){var t=n.getCoordinates(),e,i=n.getLayout();return i===tr.XYZ?e={x:t[0],y:t[1],z:t[2]}:i===tr.XYM?e={x:t[0],y:t[1],m:t[2]}:i===tr.XYZM?e={x:t[0],y:t[1],z:t[2],m:t[3]}:i===tr.XY?e={x:t[0],y:t[1]}:ye(!1,34),e}function y1(n){var r=n.getLayout();return{hasZ:r===tr.XYZ||r===tr.XYZM,hasM:r===tr.XYM||r===tr.XYZM}}function xD(n,r){var t=y1(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:[n.getCoordinates()]}}function OD(n,r){var t=y1(n);return{hasZ:t.hasZ,hasM:t.hasM,rings:n.getCoordinates(!1)}}function TD(n,r){var t=y1(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:n.getCoordinates()}}function bD(n,r){var t=y1(n);return{hasZ:t.hasZ,hasM:t.hasM,points:n.getCoordinates()}}function AD(n,r){for(var t=y1(n),e=n.getCoordinates(!1),i=[],o=0;o<e.length;o++)for(var s=e[o].length-1;s>=0;s--)i.push(e[o][s]);return{hasZ:t.hasZ,hasM:t.hasM,rings:i}}function y7(n,r){var t=Eh[n.getType()];return t(ba(n,!0,r),r)}var MD=pD,RD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CD=function(n){RD(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.dataProjection=Gn(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(e.defaultFeatureProjection=Gn(i.featureProjection)),e.geometryName_=i.geometryName,e.extractGeometryName_=i.extractGeometryName,e.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],e}return r.prototype.readFeatureFromObject=function(t,e){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=q5(i.geometry,e),s=new Cn;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(o),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s},r.prototype.readFeaturesFromObject=function(t,e){var i=t,o=null;if(i.type==="FeatureCollection"){var s=t;o=[];for(var l=s.features,f=0,h=l.length;f<h;++f)o.push(this.readFeatureFromObject(l[f],e))}else o=[this.readFeatureFromObject(t,e)];return o},r.prototype.readGeometryFromObject=function(t,e){return q5(t,e)},r.prototype.readProjectionFromObject=function(t){var e=t.crs,i;return e?e.type=="name"?i=Gn(e.properties.name):e.type==="EPSG"?i=Gn("EPSG:"+e.properties.code):ye(!1,36):i=this.dataProjection,i},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var s=t.getProperties(),l=t.getGeometry();return l&&(i.geometry=Q5(l,e),delete s[t.getGeometryName()]),Object(pn.d)(s)||(i.properties=s),i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,s=t.length;o<s;++o)i.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:i}},r.prototype.writeGeometryObject=function(t,e){return Q5(t,this.adaptOptions(e))},r}(J5);function q5(n,r){if(!n)return null;var t;switch(n.type){case Ee.POINT:{t=PD(n);break}case Ee.LINE_STRING:{t=ID(n);break}case Ee.POLYGON:{t=jD(n);break}case Ee.MULTI_POINT:{t=FD(n);break}case Ee.MULTI_LINE_STRING:{t=ND(n);break}case Ee.MULTI_POLYGON:{t=DD(n);break}case Ee.GEOMETRY_COLLECTION:{t=LD(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return ba(t,!1,r)}function LD(n,r){var t=n.geometries.map(function(e){return q5(e,r)});return new yl(t)}function PD(n){return new Ii(n.coordinates)}function ID(n){return new Xo(n.coordinates)}function ND(n){return new au(n.coordinates)}function FD(n){return new h0(n.coordinates)}function DD(n){return new ml(n.coordinates)}function jD(n){return new so(n.coordinates)}function Q5(n,r){n=ba(n,!0,r);var t=n.getType(),e;switch(t){case Ee.POINT:{e=VD(n);break}case Ee.LINE_STRING:{e=BD(n);break}case Ee.POLYGON:{e=WD(n,r);break}case Ee.MULTI_POINT:{e=kD(n);break}case Ee.MULTI_LINE_STRING:{e=UD(n);break}case Ee.MULTI_POLYGON:{e=zD(n,r);break}case Ee.GEOMETRY_COLLECTION:{e=GD(n,r);break}case Ee.CIRCLE:{e={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return e}function GD(n,r){var t=n.getGeometriesArray().map(function(e){var i=Object(pn.a)({},r);return delete i.featureProjection,Q5(e,i)});return{type:"GeometryCollection",geometries:t}}function BD(n,r){return{type:"LineString",coordinates:n.getCoordinates()}}function UD(n,r){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function kD(n,r){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function zD(n,r){var t;return r&&(t=r.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function VD(n,r){return{type:"Point",coordinates:n.getCoordinates()}}function WD(n,r){var t;return r&&(t=r.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var HD=CD,Sh="http://www.w3.org/2001/XMLSchema-instance";function Oi(n,r){return Nd().createElementNS(n,r)}function jl(n,r){return _7(n,r,[]).join("")}function _7(n,r,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)r?t.push(String(n.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(n.nodeValue);else{var e=void 0;for(e=n.firstChild;e;e=e.nextSibling)_7(e,r,t)}return t}function lc(n){return"documentElement"in n}function YD(n,r,t){return n.getAttributeNS(r,t)||""}function uc(n){return new DOMParser().parseFromString(n,"application/xml")}function E7(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var o=e[e.length-1];Object(K.c)(o,i)}}}function kn(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var o=e[e.length-1];o.push(i)}}}function ii(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);i!==void 0&&(e[e.length-1]=i)}}function ca(n,r,t){return function(e,i){var o=n.call(t!==void 0?t:this,e,i);if(o!==void 0){var s=i[i.length-1],l=r!==void 0?r:e.localName,f=void 0;l in s?f=s[l]:(f=[],s[l]=f),f.push(o)}}}function be(n,r,t){return function(e,i){var o=n.call(t!==void 0?t:this,e,i);if(o!==void 0){var s=i[i.length-1],l=r!==void 0?r:e.localName;s[l]=o}}}function Ae(n,r){return function(t,e,i){n.call(r!==void 0?r:this,t,e,i);var o=i[i.length-1],s=o.node;s.appendChild(t)}}function S7(n,r){var t,e;return function(i,o,s){if(t===void 0){t={};var l={};l[i.localName]=n,t[i.namespaceURI]=l,e=Pa(i.localName)}w7(t,e,o,s)}}function Pa(n,r){var t=n;return function(e,i,o){var s=i[i.length-1],l=s.node,f=t;f===void 0&&(f=o);var h=r!==void 0?r:l.namespaceURI;return Oi(h,f)}}var Ns=Pa();function uu(n,r){for(var t=r.length,e=new Array(t),i=0;i<t;++i)e[i]=n[r[i]];return e}function br(n,r,t){var e=t!==void 0?t:{},i,o;for(i=0,o=n.length;i<o;++i)e[n[i]]=r;return e}function cu(n,r,t,e){var i;for(i=r.firstElementChild;i;i=i.nextElementSibling){var o=n[i.namespaceURI];if(o!==void 0){var s=o[i.localName];s!==void 0&&s.call(e,i,t)}}}function Gr(n,r,t,e,i){return e.push(n),cu(r,t,e,i),e.pop()}function w7(n,r,t,e,i,o){for(var s=(i!==void 0?i:t).length,l,f,h=0;h<s;++h)l=t[h],l!==void 0&&(f=r.call(o!==void 0?o:this,l,e,i!==void 0?i[h]:void 0),f!==void 0&&n[f.namespaceURI][f.localName].call(o,f,l,e))}function Si(n,r,t,e,i,o,s){return i.push(n),w7(r,t,e,i,o,s),i.pop()}var t3=void 0;function XD(){return t3===void 0&&typeof XMLSerializer!="undefined"&&(t3=new XMLSerializer),t3}var e3=void 0;function Nd(){return e3===void 0&&typeof document!="undefined"&&(e3=document.implementation.createDocument("","",null)),e3}var KD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$D=function(n){KD(r,n);function r(){var t=n.call(this)||this;return t.xmlSerializer_=XD(),t}return r.prototype.getType=function(){return F0.XML},r.prototype.readFeature=function(t,e){if(t)if(typeof t=="string"){var i=uc(t);return this.readFeatureFromDocument(i,e)}else return lc(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e);else return null},r.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},r.prototype.readFeatureFromNode=function(t,e){return null},r.prototype.readFeatures=function(t,e){if(t)if(typeof t=="string"){var i=uc(t);return this.readFeaturesFromDocument(i,e)}else return lc(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e);else return[]},r.prototype.readFeaturesFromDocument=function(t,e){for(var i=[],o=t.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(K.c)(i,this.readFeaturesFromNode(o,e));return i},r.prototype.readFeaturesFromNode=function(t,e){return Object(Ot.b)()},r.prototype.readGeometry=function(t,e){if(t)if(typeof t=="string"){var i=uc(t);return this.readGeometryFromDocument(i,e)}else return lc(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e);else return null},r.prototype.readGeometryFromDocument=function(t,e){return null},r.prototype.readGeometryFromNode=function(t,e){return null},r.prototype.readProjection=function(t){if(t)if(typeof t=="string"){var e=uc(t);return this.readProjectionFromDocument(e)}else return lc(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t);else return null},r.prototype.readProjectionFromDocument=function(t){return this.dataProjection},r.prototype.readProjectionFromNode=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeatureNode=function(t,e){return null},r.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeaturesNode=function(t,e){return null},r.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeGeometryNode=function(t,e){return null},r}(m1),_1=$D,ZD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mc="http://www.opengis.net/gml",JD=/^[\s\xa0]*$/,Ha=function(n){ZD(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureType=i.featureType,e.featureNS=i.featureNS,e.srsName=i.srsName,e.schemaLocation="",e.FEATURE_COLLECTION_PARSERS={},e.FEATURE_COLLECTION_PARSERS[e.namespace]={featureMember:kn(e.readFeaturesInternal),featureMembers:ii(e.readFeaturesInternal)},e.supportedMediaTypes=["application/gml+xml"],e}return r.prototype.readFeaturesInternal=function(t,e){var i=t.localName,o=null;if(i=="FeatureCollection")o=Gr([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if(i=="featureMembers"||i=="featureMember"||i=="member"){var s=e[0],l=s.featureType,f=s.featureNS,h="p",v="p0";if(!l&&t.childNodes){l=[],f={};for(var w=0,R=t.childNodes.length;w<R;++w){var B=t.childNodes[w];if(B.nodeType===1){var V=B.nodeName.split(":").pop();if(l.indexOf(V)===-1){var et="",vt=0,Ct=B.namespaceURI;for(var kt in f){if(f[kt]===Ct){et=kt;break}++vt}et||(et=h+vt,f[et]=Ct),l.push(et+":"+V)}}}i!="featureMember"&&(s.featureType=l,s.featureNS=f)}if(typeof f=="string"){var Ht=f;f={},f[v]=Ht}var Nt={},ve=Array.isArray(l)?l:[l];for(var de in f){for(var Oe={},w=0,R=ve.length;w<R;++w){var Se=ve[w].indexOf(":")===-1?v:ve[w].split(":")[0];Se===de&&(Oe[ve[w].split(":").pop()]=i=="featureMembers"?kn(this.readFeatureElement,this):ii(this.readFeatureElement,this))}Nt[f[de]]=Oe}i=="featureMember"||i=="member"?o=Gr(void 0,Nt,t,e):o=Gr([],Nt,t,e)}return o===null&&(o=[]),o},r.prototype.readGeometryElement=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension");var o=Gr(null,this.GEOMETRY_PARSERS,t,e,this);if(o)return Array.isArray(o)?Z5(o,i):ba(o,!1,i)},r.prototype.readFeatureElementInternal=function(t,e,i){for(var o,s={},l=t.firstElementChild;l;l=l.nextElementSibling){var f=void 0,h=l.localName;l.childNodes.length===0||l.childNodes.length===1&&(l.firstChild.nodeType===3||l.firstChild.nodeType===4)?(f=jl(l,!1),JD.test(f)&&(f=void 0)):(i&&(f=this.readGeometryElement(l,e)),f?h!=="boundedBy"&&(o=h):f=this.readFeatureElementInternal(l,e,!1)),s[h]?(s[h]instanceof Array||(s[h]=[s[h]]),s[h].push(f)):s[h]=f;var v=l.attributes.length;if(v>0){s[h]={_content_:s[h]};for(var w=0;w<v;w++){var R=l.attributes[w].name;s[h][R]=l.attributes[w].value}}}if(i){var B=new Cn(s);o&&B.setGeometryName(o);var V=t.getAttribute("fid")||YD(t,this.namespace,"id");return V&&B.setId(V),B}else return s},r.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},r.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new Ii(i,tr.XYZ)},r.prototype.readMultiPoint=function(t,e){var i=Gr([],this.MULTIPOINT_PARSERS,t,e,this);if(i)return new h0(i)},r.prototype.readMultiLineString=function(t,e){var i=Gr([],this.MULTILINESTRING_PARSERS,t,e,this);if(i)return new au(i)},r.prototype.readMultiPolygon=function(t,e){var i=Gr([],this.MULTIPOLYGON_PARSERS,t,e,this);if(i)return new ml(i)},r.prototype.pointMemberParser=function(t,e){cu(this.POINTMEMBER_PARSERS,t,e,this)},r.prototype.lineStringMemberParser=function(t,e){cu(this.LINESTRINGMEMBER_PARSERS,t,e,this)},r.prototype.polygonMemberParser=function(t,e){cu(this.POLYGONMEMBER_PARSERS,t,e,this)},r.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i){var o=new Xo(i,tr.XYZ);return o}else return},r.prototype.readFlatLinearRing=function(t,e){var i=Gr(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(i)return i},r.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new bu(i,tr.XYZ)},r.prototype.readPolygon=function(t,e){var i=Gr([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(i&&i[0]){var o=i[0],s=[o.length],l=void 0,f=void 0;for(l=1,f=i.length;l<f;++l)Object(K.c)(o,i[l]),s.push(o.length);return new so(o,tr.XYZ,s)}else return},r.prototype.readFlatCoordinatesFromNode=function(t,e){return Gr(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.readGeometryFromNode=function(t,e){var i=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};e&&Object(pn.a)(i,this.getReadOptions(t,e));var o=this.readFeaturesInternal(t,[i]);return o||[]},r.prototype.readProjectionFromNode=function(t){return Gn(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r}(_1);Ha.prototype.namespace=Mc,Ha.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Ha.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Ha.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Ha.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:kn(Ha.prototype.pointMemberParser),pointMembers:kn(Ha.prototype.pointMemberParser)}},Ha.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:kn(Ha.prototype.lineStringMemberParser),lineStringMembers:kn(Ha.prototype.lineStringMemberParser)}},Ha.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:kn(Ha.prototype.polygonMemberParser),polygonMembers:kn(Ha.prototype.polygonMemberParser)}},Ha.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:kn(Ha.prototype.readFlatCoordinatesFromNode)}},Ha.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:kn(Ha.prototype.readLineString)}},Ha.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:kn(Ha.prototype.readPolygon)}},Ha.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ii(Ha.prototype.readFlatLinearRing)}};var eo=Ha;function yf(n){var r=jl(n,!1);return wh(r)}function wh(n){var r=/^\s*(true|1)|(false|0)\s*$/.exec(n);if(r)return r[1]!==void 0||!1}function r3(n){var r=jl(n,!1),t=Date.parse(r);return isNaN(t)?void 0:t/1e3}function bo(n){var r=jl(n,!1);return Rc(r)}function Rc(n){var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n);if(r)return parseFloat(r[1])}function es(n){var r=jl(n,!1);return Cc(r)}function Cc(n){var r=/^\s*(\d+)\s*$/.exec(n);if(r)return parseInt(r[1],10)}function Wr(n){return jl(n,!1).trim()}function Fd(n,r){vi(n,r?"1":"0")}function qD(n,r){n.appendChild(Nd().createCDATASection(r))}function QD(n,r){var t=new Date(r*1e3),e=t.getUTCFullYear()+"-"+T(t.getUTCMonth()+1,2)+"-"+T(t.getUTCDate(),2)+"T"+T(t.getUTCHours(),2)+":"+T(t.getUTCMinutes(),2)+":"+T(t.getUTCSeconds(),2)+"Z";n.appendChild(Nd().createTextNode(e))}function fu(n,r){var t=r.toPrecision();n.appendChild(Nd().createTextNode(t))}function Y2(n,r){var t=r.toString();n.appendChild(Nd().createTextNode(t))}function vi(n,r){n.appendChild(Nd().createTextNode(r))}var tj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ej=Mc+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",rj={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},po=function(n){tj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.FEATURE_COLLECTION_PARSERS[Mc].featureMember=kn(e.readFeaturesInternal),e.schemaLocation=i.schemaLocation?i.schemaLocation:ej,e}return r.prototype.readFlatCoordinates=function(t,e){var i=jl(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],s=o.srsName,l="enu";if(s){var f=Gn(s);f&&(l=f.getAxisOrientation())}for(var h=i.trim().split(/\s+/),v=[],w=0,R=h.length;w<R;w++){var B=h[w].split(/,+/),V=parseFloat(B[0]),et=parseFloat(B[1]),vt=B.length===3?parseFloat(B[2]):0;l.substr(0,2)==="en"?v.push(V,et,vt):v.push(et,V,vt)}return v},r.prototype.readBox=function(t,e){var i=Gr([null],this.BOX_PARSERS_,t,e,this);return $(i[1][0],i[1][1],i[1][3],i[1][4])},r.prototype.innerBoundaryIsParser=function(t,e){var i=Gr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o.push(i)}},r.prototype.outerBoundaryIsParser=function(t,e){var i=Gr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o[0]=i}},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],s=o.multiSurface,l=o.surface,f=o.multiCurve,h;return Array.isArray(t)?h="Envelope":(h=t.getType(),h==="MultiPolygon"&&s===!0?h="MultiSurface":h==="Polygon"&&l===!0?h="Surface":h==="MultiLineString"&&f===!0&&(h="MultiCurve")),Oi("http://www.opengis.net/gml",h)},r.prototype.writeFeatureElement=function(t,e,i){var o=e.getId();o&&t.setAttribute("fid",o);var s=i[i.length-1],l=s.featureNS,f=e.getGeometryName();s.serializers||(s.serializers={},s.serializers[l]={});var h=[],v=[];if(e.hasProperties()){var w=e.getProperties();for(var R in w){var B=w[R];B!==null&&(h.push(R),v.push(B),R==f||typeof B.getSimplifiedGeometry=="function"?R in s.serializers[l]||(s.serializers[l][R]=Ae(this.writeGeometryElement,this)):R in s.serializers[l]||(s.serializers[l][R]=Ae(vi)))}}var V=Object(pn.a)({},s);V.node=t,Si(V,s.serializers,Pa(void 0,l),v,i,h)},r.prototype.writeCurveOrLineString=function(t,e,i){var o=i[i.length-1],s=o.srsName;if(t.nodeName!=="LineStringSegment"&&s&&t.setAttribute("srsName",s),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var l=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(l),this.writeCoordinates_(l,e,i)}else if(t.nodeName==="Curve"){var f=Oi(t.namespaceURI,"segments");t.appendChild(f),this.writeCurveSegments_(f,e,i)}},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,i))},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName,f=o.curve;l&&t.setAttribute("srsName",l);var h=e.getLineStrings();Si({node:t,hasZ:s,srsName:l,curve:f},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeGeometryElement=function(t,e,i){var o=i[i.length-1],s=Object(pn.a)({},o);s.node=t;var l;Array.isArray(e)?l=Z5(e,o):l=ba(e,!0,o),Si(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[l],i,void 0,this)},r.prototype.createCoordinatesNode_=function(t){var e=Oi(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},r.prototype.writeCoordinates_=function(t,e,i){for(var o=i[i.length-1],s=o.hasZ,l=o.srsName,f=e.getCoordinates(),h=f.length,v=new Array(h),w=0;w<h;++w){var R=f[w];v[w]=this.getCoords_(R,l,s)}vi(t,v.join(" "))},r.prototype.writeCurveSegments_=function(t,e,i){var o=Oi(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,i)},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName;if(t.nodeName!=="PolygonPatch"&&l&&t.setAttribute("srsName",l),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var f=e.getLinearRings();Si({node:t,hasZ:s,srsName:l},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,f,i,void 0,this)}else if(t.nodeName==="Surface"){var h=Oi(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,i)}},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],s=o.node,l=o.exteriorWritten;return l===void 0&&(o.exteriorWritten=!0),Oi(s.namespaceURI,l!==void 0?"innerBoundaryIs":"outerBoundaryIs")},r.prototype.writeSurfacePatches_=function(t,e,i){var o=Oi(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i)},r.prototype.writeRing=function(t,e,i){var o=Oi(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,i)},r.prototype.getCoords_=function(t,e,i){var o="enu";e&&(o=Gn(e).getAxisOrientation());var s=o.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(i){var l=t[2]||0;s+=","+l}return s},r.prototype.writePoint=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName;l&&t.setAttribute("srsName",l);var f=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(f);var h=e.getCoordinates(),v=this.getCoords_(h,l,s);vi(f,v)},r.prototype.writeMultiPoint=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName;l&&t.setAttribute("srsName",l);var f=e.getPoints();Si({node:t,hasZ:s,srsName:l},this.POINTMEMBER_SERIALIZERS,Pa("pointMember"),f,i,void 0,this)},r.prototype.writePointMember=function(t,e,i){var o=Oi(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,i)},r.prototype.writeLinearRing=function(t,e,i){var o=i[i.length-1],s=o.srsName;s&&t.setAttribute("srsName",s);var l=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(l),this.writeCoordinates_(l,e,i)},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName,f=o.surface;l&&t.setAttribute("srsName",l);var h=e.getPolygons();Si({node:t,hasZ:s,srsName:l,surface:f},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i))},r.prototype.writeEnvelope=function(t,e,i){var o=i[i.length-1],s=o.srsName;s&&t.setAttribute("srsName",s);var l=["lowerCorner","upperCorner"],f=[e[0]+" "+e[1],e[2]+" "+e[3]];Si({node:t},this.ENVELOPE_SERIALIZERS,Ns,f,i,l,this)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1].node;return Oi("http://www.opengis.net/gml",rj[o.nodeName])},r}(eo);po.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:ii(po.prototype.readFlatCoordinates)}},po.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:po.prototype.innerBoundaryIsParser,outerBoundaryIs:po.prototype.outerBoundaryIsParser}},po.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:kn(po.prototype.readFlatCoordinates)}},po.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:ii(eo.prototype.readPoint),MultiPoint:ii(eo.prototype.readMultiPoint),LineString:ii(eo.prototype.readLineString),MultiLineString:ii(eo.prototype.readMultiLineString),LinearRing:ii(eo.prototype.readLinearRing),Polygon:ii(eo.prototype.readPolygon),MultiPolygon:ii(eo.prototype.readMultiPolygon),Box:ii(po.prototype.readBox)}},po.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Ae(po.prototype.writeCurveOrLineString),MultiCurve:Ae(po.prototype.writeMultiCurveOrLineString),Point:Ae(po.prototype.writePoint),MultiPoint:Ae(po.prototype.writeMultiPoint),LineString:Ae(po.prototype.writeCurveOrLineString),MultiLineString:Ae(po.prototype.writeMultiCurveOrLineString),LinearRing:Ae(po.prototype.writeLinearRing),Polygon:Ae(po.prototype.writeSurfaceOrPolygon),MultiPolygon:Ae(po.prototype.writeMultiSurfaceOrPolygon),Surface:Ae(po.prototype.writeSurfaceOrPolygon),MultiSurface:Ae(po.prototype.writeMultiSurfaceOrPolygon),Envelope:Ae(po.prototype.writeEnvelope)}},po.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Ae(po.prototype.writeLineStringOrCurveMember),curveMember:Ae(po.prototype.writeLineStringOrCurveMember)}},po.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:Ae(po.prototype.writeRing),innerBoundaryIs:Ae(po.prototype.writeRing)}},po.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Ae(po.prototype.writePointMember)}},po.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Ae(po.prototype.writeSurfaceOrPolygonMember),polygonMember:Ae(po.prototype.writeSurfaceOrPolygonMember)}},po.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Ae(vi),upperCorner:Ae(vi)}};var Dd=po,nj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ij=Mc+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",oj={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Hn=function(n){nj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.surface_=i.surface!==void 0?i.surface:!1,e.curve_=i.curve!==void 0?i.curve:!1,e.multiCurve_=i.multiCurve!==void 0?i.multiCurve:!0,e.multiSurface_=i.multiSurface!==void 0?i.multiSurface:!0,e.schemaLocation=i.schemaLocation?i.schemaLocation:ij,e.hasZ=i.hasZ!==void 0?i.hasZ:!1,e}return r.prototype.readMultiCurve=function(t,e){var i=Gr([],this.MULTICURVE_PARSERS,t,e,this);if(i){var o=new au(i);return o}else return},r.prototype.readMultiSurface=function(t,e){var i=Gr([],this.MULTISURFACE_PARSERS,t,e,this);if(i)return new ml(i)},r.prototype.curveMemberParser=function(t,e){cu(this.CURVEMEMBER_PARSERS,t,e,this)},r.prototype.surfaceMemberParser=function(t,e){cu(this.SURFACEMEMBER_PARSERS,t,e,this)},r.prototype.readPatch=function(t,e){return Gr([null],this.PATCHES_PARSERS,t,e,this)},r.prototype.readSegment=function(t,e){return Gr([null],this.SEGMENTS_PARSERS,t,e,this)},r.prototype.readPolygonPatch=function(t,e){return Gr([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},r.prototype.readLineStringSegment=function(t,e){return Gr([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.interiorParser=function(t,e){var i=Gr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o.push(i)}},r.prototype.exteriorParser=function(t,e){var i=Gr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o[0]=i}},r.prototype.readSurface=function(t,e){var i=Gr([null],this.SURFACE_PARSERS,t,e,this);if(i&&i[0]){var o=i[0],s=[o.length],l=void 0,f=void 0;for(l=1,f=i.length;l<f;++l)Object(K.c)(o,i[l]),s.push(o.length);return new so(o,tr.XYZ,s)}else return},r.prototype.readCurve=function(t,e){var i=Gr([null],this.CURVE_PARSERS,t,e,this);if(i){var o=new Xo(i,tr.XYZ);return o}else return},r.prototype.readEnvelope=function(t,e){var i=Gr([null],this.ENVELOPE_PARSERS,t,e,this);return $(i[1][0],i[1][1],i[2][0],i[2][1])},r.prototype.readFlatPos=function(t,e){for(var i=jl(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,s=[],l;l=o.exec(i);)s.push(parseFloat(l[1])),i=i.substr(l[0].length);if(i===""){var f=e[0],h=f.srsName,v="enu";if(h){var w=Gn(h);v=w.getAxisOrientation()}if(v==="neu"){var R=void 0,B=void 0;for(R=0,B=s.length;R<B;R+=3){var V=s[R],et=s[R+1];s[R]=et,s[R+1]=V}}var vt=s.length;if(vt==2&&s.push(0),vt!==0)return s}},r.prototype.readFlatPosList=function(t,e){var i=jl(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],s=o.srsName,l=o.srsDimension,f="enu";if(s){var h=Gn(s);f=h.getAxisOrientation()}var v=i.split(/\s+/),w=2;t.getAttribute("srsDimension")?w=Cc(t.getAttribute("srsDimension")):t.getAttribute("dimension")?w=Cc(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?w=Cc(t.parentNode.getAttribute("srsDimension")):l&&(w=Cc(l));for(var R,B,V,et=[],vt=0,Ct=v.length;vt<Ct;vt+=w)R=parseFloat(v[vt]),B=parseFloat(v[vt+1]),V=w===3?parseFloat(v[vt+2]):0,f.substr(0,2)==="en"?et.push(R,B,V):et.push(B,R,V);return et},r.prototype.writePos_=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=s?"3":"2";t.setAttribute("srsDimension",l);var f=o.srsName,h="enu";f&&(h=Gn(f).getAxisOrientation());var v=e.getCoordinates(),w;if(h.substr(0,2)==="en"?w=v[0]+" "+v[1]:w=v[1]+" "+v[0],s){var R=v[2]||0;w+=" "+R}vi(t,w)},r.prototype.getCoords_=function(t,e,i){var o="enu";e&&(o=Gn(e).getAxisOrientation());var s=o.substr(0,2)==="en"?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){var l=t[2]||0;s+=" "+l}return s},r.prototype.writePosList_=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=s?"3":"2";t.setAttribute("srsDimension",l);for(var f=o.srsName,h=e.getCoordinates(),v=h.length,w=new Array(v),R,B=0;B<v;++B)R=h[B],w[B]=this.getCoords_(R,f,s);vi(t,w.join(" "))},r.prototype.writePoint=function(t,e,i){var o=i[i.length-1],s=o.srsName;s&&t.setAttribute("srsName",s);var l=Oi(t.namespaceURI,"pos");t.appendChild(l),this.writePos_(l,e,i)},r.prototype.writeEnvelope=function(t,e,i){var o=i[i.length-1],s=o.srsName;s&&t.setAttribute("srsName",s);var l=["lowerCorner","upperCorner"],f=[e[0]+" "+e[1],e[2]+" "+e[3]];Si({node:t},this.ENVELOPE_SERIALIZERS,Ns,f,i,l,this)},r.prototype.writeLinearRing=function(t,e,i){var o=i[i.length-1],s=o.srsName;s&&t.setAttribute("srsName",s);var l=Oi(t.namespaceURI,"posList");t.appendChild(l),this.writePosList_(l,e,i)},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],s=o.node,l=o.exteriorWritten;return l===void 0&&(o.exteriorWritten=!0),Oi(s.namespaceURI,l!==void 0?"interior":"exterior")},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName;if(t.nodeName!=="PolygonPatch"&&l&&t.setAttribute("srsName",l),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var f=e.getLinearRings();Si({node:t,hasZ:s,srsName:l},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,f,i,void 0,this)}else if(t.nodeName==="Surface"){var h=Oi(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,i)}},r.prototype.writeCurveOrLineString=function(t,e,i){var o=i[i.length-1],s=o.srsName;if(t.nodeName!=="LineStringSegment"&&s&&t.setAttribute("srsName",s),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var l=Oi(t.namespaceURI,"posList");t.appendChild(l),this.writePosList_(l,e,i)}else if(t.nodeName==="Curve"){var f=Oi(t.namespaceURI,"segments");t.appendChild(f),this.writeCurveSegments_(f,e,i)}},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName,f=o.surface;l&&t.setAttribute("srsName",l);var h=e.getPolygons();Si({node:t,hasZ:s,srsName:l,surface:f},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeMultiPoint=function(t,e,i){var o=i[i.length-1],s=o.srsName,l=o.hasZ;s&&t.setAttribute("srsName",s);var f=e.getPoints();Si({node:t,hasZ:l,srsName:s},this.POINTMEMBER_SERIALIZERS,Pa("pointMember"),f,i,void 0,this)},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var o=i[i.length-1],s=o.hasZ,l=o.srsName,f=o.curve;l&&t.setAttribute("srsName",l);var h=e.getLineStrings();Si({node:t,hasZ:s,srsName:l,curve:f},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeRing=function(t,e,i){var o=Oi(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,i)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i))},r.prototype.writePointMember=function(t,e,i){var o=Oi(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,i)},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,i))},r.prototype.writeSurfacePatches_=function(t,e,i){var o=Oi(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i)},r.prototype.writeCurveSegments_=function(t,e,i){var o=Oi(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,i)},r.prototype.writeGeometryElement=function(t,e,i){var o=i[i.length-1],s=Object(pn.a)({},o);s.node=t;var l;Array.isArray(e)?l=Z5(e,o):l=ba(e,!0,o),Si(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[l],i,void 0,this)},r.prototype.writeFeatureElement=function(t,e,i){var o=e.getId();o&&t.setAttribute("fid",o);var s=i[i.length-1],l=s.featureNS,f=e.getGeometryName();s.serializers||(s.serializers={},s.serializers[l]={});var h=[],v=[];if(e.hasProperties()){var w=e.getProperties();for(var R in w){var B=w[R];B!==null&&(h.push(R),v.push(B),R==f||typeof B.getSimplifiedGeometry=="function"?R in s.serializers[l]||(s.serializers[l][R]=Ae(this.writeGeometryElement,this)):R in s.serializers[l]||(s.serializers[l][R]=Ae(vi)))}}var V=Object(pn.a)({},s);V.node=t,Si(V,s.serializers,Pa(void 0,l),v,i,h)},r.prototype.writeFeatureMembers_=function(t,e,i){var o=i[i.length-1],s=o.featureType,l=o.featureNS,f={};f[l]={},f[l][s]=Ae(this.writeFeatureElement,this);var h=Object(pn.a)({},o);h.node=t,Si(h,f,Pa(s,l),e,i)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1].node;return Oi(this.namespace,oj[o.nodeName])},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],s=o.multiSurface,l=o.surface,f=o.curve,h=o.multiCurve,v;return Array.isArray(t)?v="Envelope":(v=t.getType(),v==="MultiPolygon"&&s===!0?v="MultiSurface":v==="Polygon"&&l===!0?v="Surface":v==="LineString"&&f===!0?v="Curve":v==="MultiLineString"&&h===!0&&(v="MultiCurve")),Oi(this.namespace,v)},r.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=Oi(this.namespace,"geom"),o={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(pn.a)(o,e),this.writeGeometryElement(i,t,[o]),i},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Oi(this.namespace,"featureMembers");i.setAttributeNS(Sh,"xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(pn.a)(o,e),this.writeFeatureMembers_(i,t,[o]),i},r}(eo);Hn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:ii(Hn.prototype.readFlatPos),posList:ii(Hn.prototype.readFlatPosList),coordinates:ii(Dd.prototype.readFlatCoordinates)}},Hn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Hn.prototype.interiorParser,exterior:Hn.prototype.exteriorParser}},Hn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:ii(eo.prototype.readPoint),MultiPoint:ii(eo.prototype.readMultiPoint),LineString:ii(eo.prototype.readLineString),MultiLineString:ii(eo.prototype.readMultiLineString),LinearRing:ii(eo.prototype.readLinearRing),Polygon:ii(eo.prototype.readPolygon),MultiPolygon:ii(eo.prototype.readMultiPolygon),Surface:ii(Hn.prototype.readSurface),MultiSurface:ii(Hn.prototype.readMultiSurface),Curve:ii(Hn.prototype.readCurve),MultiCurve:ii(Hn.prototype.readMultiCurve),Envelope:ii(Hn.prototype.readEnvelope)}},Hn.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:kn(Hn.prototype.curveMemberParser),curveMembers:kn(Hn.prototype.curveMemberParser)}},Hn.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:kn(Hn.prototype.surfaceMemberParser),surfaceMembers:kn(Hn.prototype.surfaceMemberParser)}},Hn.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:kn(eo.prototype.readLineString),Curve:kn(Hn.prototype.readCurve)}},Hn.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:kn(eo.prototype.readPolygon),Surface:kn(Hn.prototype.readSurface)}},Hn.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:ii(Hn.prototype.readPatch)}},Hn.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:ii(Hn.prototype.readSegment)}},Hn.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:kn(Hn.prototype.readFlatPosList),upperCorner:kn(Hn.prototype.readFlatPosList)}},Hn.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:ii(Hn.prototype.readPolygonPatch)}},Hn.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:ii(Hn.prototype.readLineStringSegment)}},Hn.prototype.writeFeatures,Hn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:Ae(Hn.prototype.writeRing),interior:Ae(Hn.prototype.writeRing)}},Hn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Ae(vi),upperCorner:Ae(vi)}},Hn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Ae(Hn.prototype.writeSurfaceOrPolygonMember),polygonMember:Ae(Hn.prototype.writeSurfaceOrPolygonMember)}},Hn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Ae(Hn.prototype.writePointMember)}},Hn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Ae(Hn.prototype.writeLineStringOrCurveMember),curveMember:Ae(Hn.prototype.writeLineStringOrCurveMember)}},Hn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Ae(Hn.prototype.writeCurveOrLineString),MultiCurve:Ae(Hn.prototype.writeMultiCurveOrLineString),Point:Ae(Hn.prototype.writePoint),MultiPoint:Ae(Hn.prototype.writeMultiPoint),LineString:Ae(Hn.prototype.writeCurveOrLineString),MultiLineString:Ae(Hn.prototype.writeMultiCurveOrLineString),LinearRing:Ae(Hn.prototype.writeLinearRing),Polygon:Ae(Hn.prototype.writeSurfaceOrPolygon),MultiPolygon:Ae(Hn.prototype.writeMultiSurfaceOrPolygon),Surface:Ae(Hn.prototype.writeSurfaceOrPolygon),MultiSurface:Ae(Hn.prototype.writeMultiSurfaceOrPolygon),Envelope:Ae(Hn.prototype.writeEnvelope)}};var Ki=Hn,n3=Ki;n3.prototype.writeFeatures,n3.prototype.writeFeaturesNode;var aj=n3,sj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),us=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],lj="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",uj={rte:x7,trk:O7,wpt:T7},cj=br(us,{rte:kn(x7),trk:kn(O7),wpt:kn(T7)}),fj=br(us,{text:be(Wr,"linkText"),type:be(Wr,"linkType")}),hj=br(us,{rte:Ae(Dj),trk:Ae(jj),wpt:Ae(Bj)}),dj=function(n){sj(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=Gn("EPSG:4326"),e.readExtensions_=i.readExtensions,e}return r.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,i=t.length;e<i;++e){var o=t[e];if(this.readExtensions_){var s=o.get("extensionsNode_")||null;this.readExtensions_(o,s)}o.set("extensionsNode_",void 0)}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(K.f)(us,t.namespaceURI))return null;var i=uj[t.localName];if(!i)return null;var o=i(t,[this.getReadOptions(t,e)]);return o?(this.handleReadExtensions_([o]),o):null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(K.f)(us,t.namespaceURI))return[];if(t.localName=="gpx"){var i=Gr([],cj,t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_(i),i):[]}return[]},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Oi("http://www.topografix.com/GPX/1/1","gpx"),o="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(o,"xmlns:xsi",Sh),i.setAttributeNS(Sh,"xsi:schemaLocation",lj),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Si({node:i},hj,Pj,t,[e]),i},r}(_1),pj=br(us,{name:be(Wr),cmt:be(Wr),desc:be(Wr),src:be(Wr),link:a3,number:be(es),extensions:s3,type:be(Wr),rtept:Ij}),vj=br(us,{ele:be(bo),time:be(r3)}),gj=br(us,{name:be(Wr),cmt:be(Wr),desc:be(Wr),src:be(Wr),link:a3,number:be(es),type:be(Wr),extensions:s3,trkseg:Fj}),mj=br(us,{trkpt:Nj}),yj=br(us,{ele:be(bo),time:be(r3)}),_j=br(us,{ele:be(bo),time:be(r3),magvar:be(bo),geoidheight:be(bo),name:be(Wr),cmt:be(Wr),desc:be(Wr),src:be(Wr),link:a3,sym:be(Wr),type:be(Wr),fix:be(Wr),sat:be(es),hdop:be(bo),vdop:be(bo),pdop:be(bo),ageofdgpsdata:be(bo),dgpsid:be(es),extensions:s3}),Ej=["text","type"],Sj=br(us,{text:Ae(vi),type:Ae(vi)}),wj=br(us,["name","cmt","desc","src","link","number","type","rtept"]),xj=br(us,{name:Ae(vi),cmt:Ae(vi),desc:Ae(vi),src:Ae(vi),link:Ae(l3),number:Ae(Y2),type:Ae(vi),rtept:S7(Ae(u3))}),Oj=br(us,["ele","time"]),Tj=br(us,["name","cmt","desc","src","link","number","type","trkseg"]),bj=br(us,{name:Ae(vi),cmt:Ae(vi),desc:Ae(vi),src:Ae(vi),link:Ae(l3),number:Ae(Y2),type:Ae(vi),trkseg:S7(Ae(Gj))}),Aj=Pa("trkpt"),Mj=br(us,{trkpt:Ae(u3)}),Rj=br(us,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),Cj=br(us,{ele:Ae(fu),time:Ae(QD),magvar:Ae(fu),geoidheight:Ae(fu),name:Ae(vi),cmt:Ae(vi),desc:Ae(vi),src:Ae(vi),link:Ae(l3),sym:Ae(vi),type:Ae(vi),fix:Ae(vi),sat:Ae(Y2),hdop:Ae(fu),vdop:Ae(fu),pdop:Ae(fu),ageofdgpsdata:Ae(fu),dgpsid:Ae(Y2)}),Lj={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Pj(n,r,t){var e=n.getGeometry();if(e){var i=Lj[e.getType()];if(i){var o=r[r.length-1].node;return Oi(o.namespaceURI,i)}}}function i3(n,r,t,e){return n.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in e?(n.push(e.ele),delete e.ele,r.hasZ=!0):n.push(0),"time"in e?(n.push(e.time),delete e.time,r.hasM=!0):n.push(0),n}function o3(n,r,t){var e=tr.XY,i=2;if(n.hasZ&&n.hasM?(e=tr.XYZM,i=4):n.hasZ?(e=tr.XYZ,i=3):n.hasM&&(e=tr.XYM,i=3),i!==4){for(var o=0,s=r.length/4;o<s;o++)r[o*i]=r[o*4],r[o*i+1]=r[o*4+1],n.hasZ&&(r[o*i+2]=r[o*4+2]),n.hasM&&(r[o*i+2]=r[o*4+3]);if(r.length=r.length/4*i,t)for(var o=0,s=t.length;o<s;o++)t[o]=t[o]/4*i}return e}function a3(n,r){var t=r[r.length-1],e=n.getAttribute("href");e!==null&&(t.link=e),cu(fj,n,r)}function s3(n,r){var t=r[r.length-1];t.extensionsNode_=n}function Ij(n,r){var t=Gr({},vj,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,o=e.layoutOptions;i3(i,o,n,t)}}function Nj(n,r){var t=Gr({},yj,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,o=e.layoutOptions;i3(i,o,n,t)}}function Fj(n,r){var t=r[r.length-1];cu(mj,n,r);var e=t.flatCoordinates,i=t.ends;i.push(e.length)}function x7(n,r){var t=r[0],e=Gr({flatCoordinates:[],layoutOptions:{}},pj,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var o=e.layoutOptions;delete e.layoutOptions;var s=o3(o,i),l=new Xo(i,s);ba(l,!1,t);var f=new Cn(l);return f.setProperties(e,!0),f}}function O7(n,r){var t=r[0],e=Gr({flatCoordinates:[],ends:[],layoutOptions:{}},gj,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var o=e.ends;delete e.ends;var s=e.layoutOptions;delete e.layoutOptions;var l=o3(s,i,o),f=new au(i,l,o);ba(f,!1,t);var h=new Cn(f);return h.setProperties(e,!0),h}}function T7(n,r){var t=r[0],e=Gr({},_j,n,r);if(!!e){var i={},o=i3([],i,n,e),s=o3(i,o),l=new Ii(o,s);ba(l,!1,t);var f=new Cn(l);return f.setProperties(e,!0),f}}function l3(n,r,t){n.setAttribute("href",r);var e=t[t.length-1],i=e.properties,o=[i.linkText,i.linkType];Si({node:n},Sj,Ns,o,t,Ej)}function u3(n,r,t){var e=t[t.length-1],i=e.node,o=i.namespaceURI,s=e.properties;n.setAttributeNS(null,"lat",String(r[1])),n.setAttributeNS(null,"lon",String(r[0]));var l=e.geometryLayout;switch(l){case tr.XYZM:r[3]!==0&&(s.time=r[3]);case tr.XYZ:r[2]!==0&&(s.ele=r[2]);break;case tr.XYM:r[2]!==0&&(s.time=r[2]);break}var f=n.nodeName=="rtept"?Oj[o]:Rj[o],h=uu(s,f);Si({node:n,properties:s},Cj,Ns,h,t,f)}function Dj(n,r,t){var e=t[0],i=r.getProperties(),o={node:n};o.properties=i;var s=r.getGeometry();if(s.getType()==Ee.LINE_STRING){var l=ba(s,!0,e);o.geometryLayout=l.getLayout(),i.rtept=l.getCoordinates()}var f=t[t.length-1].node,h=wj[f.namespaceURI],v=uu(i,h);Si(o,xj,Ns,v,t,h)}function jj(n,r,t){var e=t[0],i=r.getProperties(),o={node:n};o.properties=i;var s=r.getGeometry();if(s.getType()==Ee.MULTI_LINE_STRING){var l=ba(s,!0,e);i.trkseg=l.getLineStrings()}var f=t[t.length-1].node,h=Tj[f.namespaceURI],v=uu(i,h);Si(o,bj,Ns,v,t,h)}function Gj(n,r,t){var e={node:n};e.geometryLayout=r.getLayout(),e.properties={},Si(e,Mj,Aj,r.getCoordinates(),t)}function Bj(n,r,t){var e=t[0],i=t[t.length-1];i.properties=r.getProperties();var o=r.getGeometry();if(o.getType()==Ee.POINT){var s=ba(o,!0,e);i.geometryLayout=s.getLayout(),u3(n,s.getCoordinates(),t)}}var Uj=dj,kj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zj=function(n){kj(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return F0.TEXT},r.prototype.readFeature=function(t,e){return this.readFeatureFromText(X2(t),this.adaptOptions(e))},r.prototype.readFeatureFromText=function(t,e){return Object(Ot.b)()},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(X2(t),this.adaptOptions(e))},r.prototype.readFeaturesFromText=function(t,e){return Object(Ot.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromText(X2(t),this.adaptOptions(e))},r.prototype.readGeometryFromText=function(t,e){return Object(Ot.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromText(X2(t))},r.prototype.readProjectionFromText=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){return Object(Ot.b)()},r.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},r.prototype.writeFeaturesText=function(t,e){return Object(Ot.b)()},r.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},r.prototype.writeGeometryText=function(t,e){return Object(Ot.b)()},r}(m1);function X2(n){return typeof n=="string"?n:""}var c3=zj,Vj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),E1={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},Wj=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Hj=/^H.([A-Z]{3}).*?:(.*)/,Yj=/^HFDTE(\d{2})(\d{2})(\d{2})/,Xj=/\r\n|\r|\n/,Kj=function(n){Vj(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=Gn("EPSG:4326"),e.altitudeMode_=i.altitudeMode?i.altitudeMode:E1.NONE,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.altitudeMode_,o=t.split(Xj),s={},l=[],f=2e3,h=0,v=1,w=-1,R,B;for(R=0,B=o.length;R<B;++R){var V=o[R],et=void 0;if(V.charAt(0)=="B"){if(et=Wj.exec(V),et){var vt=parseInt(et[1],10),Ct=parseInt(et[2],10),kt=parseInt(et[3],10),Ht=parseInt(et[4],10)+parseInt(et[5],10)/6e4;et[6]=="S"&&(Ht=-Ht);var Nt=parseInt(et[7],10)+parseInt(et[8],10)/6e4;if(et[9]=="W"&&(Nt=-Nt),l.push(Nt,Ht),i!=E1.NONE){var ve=void 0;i==E1.GPS?ve=parseInt(et[11],10):i==E1.BAROMETRIC?ve=parseInt(et[12],10):ve=0,l.push(ve)}var de=Date.UTC(f,h,v,vt,Ct,kt);de<w&&(de=Date.UTC(f,h,v+1,vt,Ct,kt)),l.push(de/1e3),w=de}}else V.charAt(0)=="H"&&(et=Yj.exec(V),et?(v=parseInt(et[1],10),h=parseInt(et[2],10)-1,f=2e3+parseInt(et[3],10)):(et=Hj.exec(V),et&&(s[et[1]]=et[2].trim())))}if(l.length===0)return null;var Oe=i==E1.NONE?tr.XYM:tr.XYZM,Se=new Xo(l,Oe),Fe=new Cn(ba(Se,!1,e));return Fe.setProperties(s,!0),Fe},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return i?[i]:[]},r}(c3),$j=Kj,_l=function(n,r){for(var t=0,e=r.length,i=n.length;t<e;t++,i++)n[i]=r[t];return n},Gl={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},xh={};xh[Gl.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},xh[Gl.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},xh[Gl.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},xh.none={none:{supports:[],formats:[],qualities:[]}};var Zj=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,b7=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,Jj=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function qj(n){var r=n.getComplianceLevelSupportedFeatures();return r===void 0&&(r=xh[Gl.VERSION1].level0),{url:n.imageInfo["@id"]===void 0?void 0:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:r.supports,formats:_l(_l([],r.formats),[n.imageInfo.formats===void 0?[]:n.imageInfo.formats]),qualities:_l(_l([],r.qualities),[n.imageInfo.qualities===void 0?[]:n.imageInfo.qualities]),resolutions:n.imageInfo.scale_factors,tileSize:n.imageInfo.tile_width!==void 0?n.imageInfo.tile_height!==void 0?[n.imageInfo.tile_width,n.imageInfo.tile_height]:[n.imageInfo.tile_width,n.imageInfo.tile_width]:n.imageInfo.tile_height!=null?[n.imageInfo.tile_height,n.imageInfo.tile_height]:void 0}}function Qj(n){var r=n.getComplianceLevelSupportedFeatures(),t=Array.isArray(n.imageInfo.profile)&&n.imageInfo.profile.length>1,e=t&&n.imageInfo.profile[1].supports?n.imageInfo.profile[1].supports:[],i=t&&n.imageInfo.profile[1].formats?n.imageInfo.profile[1].formats:[],o=t&&n.imageInfo.profile[1].qualities?n.imageInfo.profile[1].qualities:[];return{url:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(s){return[s.width,s.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(s){return s.width})[0],n.imageInfo.tiles.map(function(s){return s.height===void 0?s.width:s.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(s){return s.scaleFactors})[0],supports:_l(_l([],r.supports),e),formats:_l(_l([],r.formats),i),qualities:_l(_l([],r.qualities),o)}}function tG(n){var r=n.getComplianceLevelSupportedFeatures(),t=n.imageInfo.extraFormats===void 0?r.formats:_l(_l([],r.formats),n.imageInfo.extraFormats),e=n.imageInfo.preferredFormats!==void 0&&Array.isArray(n.imageInfo.preferredFormats)&&n.imageInfo.preferredFormats.length>0?n.imageInfo.preferredFormats.filter(function(i){return Object(K.f)(["jpg","png","gif"],i)}).reduce(function(i,o){return i===void 0&&Object(K.f)(t,o)?o:i},void 0):void 0;return{url:n.imageInfo.id,sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(i){return[i.width,i.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(i){return i.width})[0],n.imageInfo.tiles.map(function(i){return i.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(i){return i.scaleFactors})[0],supports:n.imageInfo.extraFeatures===void 0?r.supports:_l(_l([],r.supports),n.imageInfo.extraFeatures),formats:t,qualities:n.imageInfo.extraQualities===void 0?r.qualities:_l(_l([],r.qualities),n.imageInfo.extraQualities),preferredFormat:e}}var K2={};K2[Gl.VERSION1]=qj,K2[Gl.VERSION2]=Qj,K2[Gl.VERSION3]=tG;var eG=function(){function n(r){this.setImageInfo(r)}return n.prototype.setImageInfo=function(r){typeof r=="string"?this.imageInfo=JSON.parse(r):this.imageInfo=r},n.prototype.getImageApiVersion=function(){if(this.imageInfo!==void 0){var r=this.imageInfo["@context"]||"ol-no-context";typeof r=="string"&&(r=[r]);for(var t=0;t<r.length;t++)switch(r[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return Gl.VERSION1;case"http://iiif.io/api/image/2/context.json":return Gl.VERSION2;case"http://iiif.io/api/image/3/context.json":return Gl.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(Gl.VERSION1)&&this.imageInfo.identifier)return Gl.VERSION1;break}ye(!1,61)}},n.prototype.getComplianceLevelEntryFromProfile=function(r){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(r===void 0&&(r=this.getImageApiVersion()),r){case Gl.VERSION1:if(Zj.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Gl.VERSION3:if(Jj.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Gl.VERSION2:if(typeof this.imageInfo.profile=="string"&&b7.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&b7.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}},n.prototype.getComplianceLevelFromProfile=function(r){var t=this.getComplianceLevelEntryFromProfile(r);if(t!==void 0){var e=t.match(/level[0-2](?:\.json)?$/g);return Array.isArray(e)?e[0].replace(".json",""):void 0}},n.prototype.getComplianceLevelSupportedFeatures=function(){if(this.imageInfo!==void 0){var r=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(r);return t===void 0?xh.none.none:xh[r][t]}},n.prototype.getTileSourceOptions=function(r){var t=r||{},e=this.getImageApiVersion();if(e!==void 0){var i=e===void 0?void 0:K2[e](this);if(i!==void 0)return{url:i.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:i.sizes,format:t.format!==void 0&&Object(K.f)(i.formats,t.format)?t.format:i.preferredFormat!==void 0?i.preferredFormat:"jpg",supports:i.supports,quality:t.quality&&Object(K.f)(i.qualities,t.quality)?t.quality:Object(K.f)(i.qualities,"native")?"native":"default",resolutions:Array.isArray(i.resolutions)?i.resolutions.sort(function(o,s){return s-o}):void 0,tileSize:i.tileSize}}},n}(),rG=eG,nG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lc=["http://www.google.com/kml/ext/2.2"],Jn=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],iG="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",A7={fraction:Fl.FRACTION,pixels:Fl.PIXELS,insetPixels:Fl.PIXELS},oG=br(Jn,{ExtendedData:V7,Region:W7,MultiGeometry:be(U7,"geometry"),LineString:be(G7,"geometry"),LinearRing:be(B7,"geometry"),Point:be(k7,"geometry"),Polygon:be(z7,"geometry"),Style:be(y3),StyleMap:kG,address:be(Wr),description:be(Wr),name:be(Wr),open:be(yf),phoneNumber:be(Wr),styleUrl:be(I7),visibility:be(yf)},br(Lc,{MultiTrack:be(MG,"geometry"),Track:be(j7,"geometry")})),aG=br(Jn,{ExtendedData:V7,Region:W7,Link:QG,address:be(Wr),description:be(Wr),name:be(Wr),open:be(yf),phoneNumber:be(Wr),visibility:be(yf)}),sG=br(Jn,{href:be(P7)}),M7=br(Jn,{LatLonAltBox:YG,Lod:KG}),lG=br(Jn,["Document","Placemark"]),uG=br(Jn,{Document:Ae(sB),Placemark:Ae(Z7)}),jd,$2=null,f3,S1,w1,x1,Z2,h3=null,d3,p3=null,v3,Oh=null,R7=null,g3=null;function J2(n){return 32/Math.min(n[0],n[1])}function cG(){jd=[255,255,255,1],$2=new Ks({color:jd}),f3=[20,2],S1=Fl.PIXELS,w1=Fl.PIXELS,x1=[64,64],Z2="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",h3=new g2({anchor:f3,anchorOrigin:Es.BOTTOM_LEFT,anchorXUnits:S1,anchorYUnits:w1,crossOrigin:"anonymous",rotation:0,scale:J2(x1),size:x1,src:Z2}),d3="NO_IMAGE",p3=new _s({color:jd,width:1}),v3=new _s({color:[51,51,51,1],width:2}),Oh=new ph({font:"bold 16px Helvetica",fill:$2,stroke:v3,scale:.8}),R7=new $s({fill:$2,image:h3,text:Oh,stroke:p3,zIndex:0}),g3=[R7]}var q2;function fG(n){return n}var hG=function(n){nG(r,n);function r(t){var e=n.call(this)||this,i=t||{};return g3||cG(),e.dataProjection=Gn("EPSG:4326"),e.defaultStyle_=i.defaultStyle?i.defaultStyle:g3,e.extractStyles_=i.extractStyles!==void 0?i.extractStyles:!0,e.writeStyles_=i.writeStyles!==void 0?i.writeStyles:!0,e.sharedStyles_={},e.showPointNames_=i.showPointNames!==void 0?i.showPointNames:!0,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",e.iconUrlFunction_=i.iconUrlFunction?i.iconUrlFunction:fG,e.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],e}return r.prototype.readDocumentOrFolder_=function(t,e){var i=br(Jn,{Document:E7(this.readDocumentOrFolder_,this),Folder:E7(this.readDocumentOrFolder_,this),Placemark:kn(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),o=Gr([],i,t,e,this);if(o)return o},r.prototype.readPlacemark_=function(t,e){var i=Gr({geometry:null},oG,t,e,this);if(!!i){var o=new Cn,s=t.getAttribute("id");s!==null&&o.setId(s);var l=e[0],f=i.geometry;if(f&&ba(f,!1,l),o.setGeometry(f),delete i.geometry,this.extractStyles_){var h=i.Style,v=i.styleUrl,w=pG(h,v,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(w)}return delete i.Style,o.setProperties(i,!0),o}},r.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(i!==null){var o=y3.call(this,t,e);if(o){var s=void 0,l=t.baseURI;if((!l||l=="about:blank")&&(l=window.location.href),l){var f=new URL("#"+i,l);s=f.href}else s="#"+i;this.sharedStyles_[s]=o}}},r.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(i!==null){var o=F7.call(this,t,e);if(!!o){var s,l=t.baseURI;if((!l||l=="about:blank")&&(l=window.location.href),l){var f=new URL("#"+i,l);s=f.href}else s="#"+i;this.sharedStyles_[s]=o}}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(K.f)(Jn,t.namespaceURI))return null;var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(K.f)(Jn,t.namespaceURI))return[];var i,o=t.localName;if(o=="Document"||o=="Folder")return i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),i||[];if(o=="Placemark"){var s=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return s?[s]:[]}else if(o=="kml"){i=[];for(var l=t.firstElementChild;l;l=l.nextElementSibling){var f=this.readFeaturesFromNode(l,e);f&&Object(K.c)(i,f)}return i}else return[]},r.prototype.readName=function(t){if(t)if(typeof t=="string"){var e=uc(t);return this.readNameFromDocument(e)}else return lc(t)?this.readNameFromDocument(t):this.readNameFromNode(t);else return},r.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i)return i}},r.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(K.f)(Jn,e.namespaceURI)&&e.localName=="name")return Wr(e);for(var e=t.firstElementChild;e;e=e.nextElementSibling){var i=e.localName;if(Object(K.f)(Jn,e.namespaceURI)&&(i=="Document"||i=="Folder"||i=="Placemark"||i=="kml")){var o=this.readNameFromNode(e);if(o)return o}}},r.prototype.readNetworkLinks=function(t){var e=[];if(typeof t=="string"){var i=uc(t);Object(K.c)(e,this.readNetworkLinksFromDocument(i))}else lc(t)?Object(K.c)(e,this.readNetworkLinksFromDocument(t)):Object(K.c)(e,this.readNetworkLinksFromNode(t));return e},r.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(K.c)(e,this.readNetworkLinksFromNode(i));return e},r.prototype.readNetworkLinksFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(K.f)(Jn,i.namespaceURI)&&i.localName=="NetworkLink"){var o=Gr({},aG,i,[]);e.push(o)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var s=i.localName;Object(K.f)(Jn,i.namespaceURI)&&(s=="Document"||s=="Folder"||s=="kml")&&Object(K.c)(e,this.readNetworkLinksFromNode(i))}return e},r.prototype.readRegion=function(t){var e=[];if(typeof t=="string"){var i=uc(t);Object(K.c)(e,this.readRegionFromDocument(i))}else lc(t)?Object(K.c)(e,this.readRegionFromDocument(t)):Object(K.c)(e,this.readRegionFromNode(t));return e},r.prototype.readRegionFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(K.c)(e,this.readRegionFromNode(i));return e},r.prototype.readRegionFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(K.f)(Jn,i.namespaceURI)&&i.localName=="Region"){var o=Gr({},M7,i,[]);e.push(o)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var s=i.localName;Object(K.f)(Jn,i.namespaceURI)&&(s=="Document"||s=="Folder"||s=="kml")&&Object(K.c)(e,this.readRegionFromNode(i))}return e},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Oi(Jn[4],"kml"),o="http://www.w3.org/2000/xmlns/";i.setAttributeNS(o,"xmlns:gx",Lc[0]),i.setAttributeNS(o,"xmlns:xsi",Sh),i.setAttributeNS(Sh,"xsi:schemaLocation",iG);var s={node:i},l={};t.length>1?l.Document=t:t.length==1&&(l.Placemark=t[0]);var f=lG[i.namespaceURI],h=uu(l,f);return Si(s,uG,Ns,h,[e],f,this),i},r}(_1);function dG(n,r){var t=[0,0],e="start",i=n.getImage();if(i){var o=i.getSize();if(o&&o.length==2){var s=i.getScaleArray(),l=i.getAnchor();t[0]=s[0]*(o[0]-l[0]),t[1]=s[1]*(o[1]/2-l[1]),e="left"}}var f=n.getText();f?(f=f.clone(),f.setFont(f.getFont()||Oh.getFont()),f.setScale(f.getScale()||Oh.getScale()),f.setFill(f.getFill()||Oh.getFill()),f.setStroke(f.getStroke()||v3)):f=Oh.clone(),f.setText(r),f.setOffsetX(t[0]),f.setOffsetY(t[1]),f.setTextAlign(e);var h=new $s({image:i,text:f});return h}function pG(n,r,t,e,i){return function(o,s){var l=i,f="",h=[];if(l){var v=o.getGeometry();if(v){var w=v.getType();w===Ee.GEOMETRY_COLLECTION?(h=v.getGeometriesArrayRecursive().filter(function(et){var vt=et.getType();return vt===Ee.POINT||vt===Ee.MULTI_POINT}),l=h.length>0):l=w===Ee.POINT||w===Ee.MULTI_POINT}}l&&(f=o.get("name"),l=l&&!!f,l&&f.search(/&[^&]+;/)>-1&&(q2||(q2=document.createElement("textarea")),q2.innerHTML=f,f=q2.value));var R=t;if(n?R=n:r&&(R=C7(r,t,e)),l){var B=dG(R[0],f);if(h.length>0){B.setGeometry(new yl(h));var V=new $s({geometry:R[0].getGeometry(),image:null,fill:R[0].getFill(),stroke:R[0].getStroke(),text:null});return[B,V].concat(R.slice(1))}return B}return R}}function C7(n,r,t){return Array.isArray(n)?n:typeof n=="string"?C7(t[n],r,t):r}function Q2(n){var r=jl(n,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(r);if(t){var e=t[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}else return}function L7(n){var r=jl(n,!1),t=[];r=r.replace(/\s*,\s*/g,",");for(var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,i;i=e.exec(r);){var o=parseFloat(i[1]),s=parseFloat(i[2]),l=i[3]?parseFloat(i[3]):0;t.push(o,s,l),r=r.substr(i[0].length)}if(r==="")return t}function P7(n){var r=jl(n,!1).trim(),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function I7(n){var r=jl(n,!1).trim().replace(/^(?!.*#)/,"#"),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function vG(n){var r=n.getAttribute("xunits"),t=n.getAttribute("yunits"),e;return r!=="insetPixels"?t!=="insetPixels"?e=Es.BOTTOM_LEFT:e=Es.TOP_LEFT:t!=="insetPixels"?e=Es.BOTTOM_RIGHT:e=Es.TOP_RIGHT,{x:parseFloat(n.getAttribute("x")),xunits:A7[r],y:parseFloat(n.getAttribute("y")),yunits:A7[t],origin:e}}function N7(n){return bo(n)}var gG=br(Jn,{Pair:UG});function F7(n,r){return Gr(void 0,gG,n,r,this)}var mG=br(Jn,{Icon:be(LG),color:be(Q2),heading:be(bo),hotSpot:be(vG),scale:be(N7)});function yG(n,r){var t=Gr({},mG,n,r);if(!!t){var e=r[r.length-1],i="Icon"in t?t.Icon:{},o=!("Icon"in t)||Object.keys(i).length>0,s,l=i.href;l?s=l:o&&(s=Z2);var f,h,v,w=Es.BOTTOM_LEFT,R=t.hotSpot;R?(f=[R.x,R.y],h=R.xunits,v=R.yunits,w=R.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(/pushpin/.test(s)?(f=f3,h=S1,v=w1):/arrow-reverse/.test(s)?(f=[54,42],h=S1,v=w1):/paddle/.test(s)&&(f=[32,1],h=S1,v=w1));var B,V=i.x,et=i.y;V!==void 0&&et!==void 0&&(B=[V,et]);var vt,Ct=i.w,kt=i.h;Ct!==void 0&&kt!==void 0&&(vt=[Ct,kt]);var Ht,Nt=t.heading;Nt!==void 0&&(Ht=qo(Nt));var ve=t.scale,de=t.color;if(o){s==Z2&&(vt=x1);var Oe=new g2({anchor:f,anchorOrigin:w,anchorXUnits:h,anchorYUnits:v,crossOrigin:this.crossOrigin_,offset:B,offsetOrigin:Es.BOTTOM_LEFT,rotation:Ht,scale:ve,size:vt,src:this.iconUrlFunction_(s),color:de}),Se=Oe.getScaleArray()[0],Fe=Oe.getSize();if(Fe===null){var wr=Oe.getImageState();if(wr===Ni.IDLE||wr===Ni.LOADING){var hr=function(){var Ir=Oe.getImageState();if(!(Ir===Ni.IDLE||Ir===Ni.LOADING)){var yn=Oe.getSize();if(yn&&yn.length==2){var Sn=J2(yn);Oe.setScale(Se*Sn)}Oe.unlistenImageChange(hr)}};Oe.listenImageChange(hr),wr===Ni.IDLE&&Oe.load()}}else if(Fe.length==2){var Ke=J2(Fe);Oe.setScale(Se*Ke)}e.imageStyle=Oe}else e.imageStyle=d3}}var _G=br(Jn,{color:be(Q2),scale:be(N7)});function EG(n,r){var t=Gr({},_G,n,r);if(!!t){var e=r[r.length-1],i=new ph({fill:new Ks({color:"color"in t?t.color:jd}),scale:t.scale});e.textStyle=i}}var SG=br(Jn,{color:be(Q2),width:be(bo)});function wG(n,r){var t=Gr({},SG,n,r);if(!!t){var e=r[r.length-1],i=new _s({color:"color"in t?t.color:jd,width:"width"in t?t.width:1});e.strokeStyle=i}}var xG=br(Jn,{color:be(Q2),fill:be(yf),outline:be(yf)});function OG(n,r){var t=Gr({},xG,n,r);if(!!t){var e=r[r.length-1],i=new Ks({color:"color"in t?t.color:jd});e.fillStyle=i;var o=t.fill;o!==void 0&&(e.fill=o);var s=t.outline;s!==void 0&&(e.outline=s)}}var TG=br(Jn,{coordinates:ii(L7)});function D7(n,r){return Gr(null,TG,n,r)}function bG(n,r){var t=r[r.length-1],e=t.coordinates,i=jl(n,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,s=o.exec(i);if(s){var l=parseFloat(s[1]),f=parseFloat(s[2]),h=parseFloat(s[3]);e.push([l,f,h])}else e.push([])}var AG=br(Lc,{Track:kn(j7)});function MG(n,r){var t=Gr([],AG,n,r);if(!!t)return new au(t)}var RG=br(Jn,{when:tB},br(Lc,{coord:bG}));function j7(n,r){var t=Gr({coordinates:[],whens:[]},RG,n,r);if(!!t){for(var e=[],i=t.coordinates,o=t.whens,s=0,l=Math.min(i.length,o.length);s<l;++s)i[s].length==3&&e.push(i[s][0],i[s][1],i[s][2],o[s]);return new Xo(e,tr.XYZM)}}var CG=br(Jn,{href:be(P7)},br(Lc,{x:be(bo),y:be(bo),w:be(bo),h:be(bo)}));function LG(n,r){var t=Gr({},CG,n,r);return t||null}var PG=br(Jn,{coordinates:ii(L7)});function m3(n,r){return Gr(null,PG,n,r)}var tg=br(Jn,{extrude:be(yf),tessellate:be(yf),altitudeMode:be(Wr)});function G7(n,r){var t=Gr({},tg,n,r),e=m3(n,r);if(e){var i=new Xo(e,tr.XYZ);return i.setProperties(t,!0),i}else return}function B7(n,r){var t=Gr({},tg,n,r),e=m3(n,r);if(e){var i=new so(e,tr.XYZ,[e.length]);return i.setProperties(t,!0),i}else return}var IG=br(Jn,{LineString:kn(G7),LinearRing:kn(B7),MultiGeometry:kn(U7),Point:kn(k7),Polygon:kn(z7)});function U7(n,r){var t=Gr([],IG,n,r);if(!t)return null;if(t.length===0)return new yl(t);for(var e,i=!0,o=t[0].getType(),s,l=1,f=t.length;l<f;++l)if(s=t[l],s.getType()!=o){i=!1;break}if(i){var h=void 0,v=void 0;if(o==Ee.POINT){var w=t[0];h=w.getLayout(),v=w.getFlatCoordinates();for(var l=1,f=t.length;l<f;++l)s=t[l],Object(K.c)(v,s.getFlatCoordinates());e=new h0(v,h),_3(e,t)}else o==Ee.LINE_STRING?(e=new au(t),_3(e,t)):o==Ee.POLYGON?(e=new ml(t),_3(e,t)):o==Ee.GEOMETRY_COLLECTION?e=new yl(t):ye(!1,37)}else e=new yl(t);return e}function k7(n,r){var t=Gr({},tg,n,r),e=m3(n,r);if(e){var i=new Ii(e,tr.XYZ);return i.setProperties(t,!0),i}else return}var NG=br(Jn,{innerBoundaryIs:ZG,outerBoundaryIs:qG});function z7(n,r){var t=Gr({},tg,n,r),e=Gr([null],NG,n,r);if(e&&e[0]){for(var i=e[0],o=[i.length],s=1,l=e.length;s<l;++s)Object(K.c)(i,e[s]),o.push(i.length);var f=new so(i,tr.XYZ,o);return f.setProperties(t,!0),f}else return}var FG=br(Jn,{IconStyle:yG,LabelStyle:EG,LineStyle:wG,PolyStyle:OG});function y3(n,r){var t=Gr({},FG,n,r,this);if(!t)return null;var e="fillStyle"in t?t.fillStyle:$2,i=t.fill;i!==void 0&&!i&&(e=null);var o;"imageStyle"in t?t.imageStyle!=d3&&(o=t.imageStyle):o=h3;var s="textStyle"in t?t.textStyle:Oh,l="strokeStyle"in t?t.strokeStyle:p3,f=t.outline;return f!==void 0&&!f?[new $s({geometry:function(h){var v=h.getGeometry(),w=v.getType();if(w===Ee.GEOMETRY_COLLECTION){var R=v;return new yl(R.getGeometriesArrayRecursive().filter(function(B){var V=B.getType();return V!==Ee.POLYGON&&V!==Ee.MULTI_POLYGON}))}else if(w!==Ee.POLYGON&&w!==Ee.MULTI_POLYGON)return v},fill:e,image:o,stroke:l,text:s,zIndex:void 0}),new $s({geometry:function(h){var v=h.getGeometry(),w=v.getType();if(w===Ee.GEOMETRY_COLLECTION){var R=v;return new yl(R.getGeometriesArrayRecursive().filter(function(B){var V=B.getType();return V===Ee.POLYGON||V===Ee.MULTI_POLYGON}))}else if(w===Ee.POLYGON||w===Ee.MULTI_POLYGON)return v},fill:e,stroke:null,zIndex:void 0})]:[new $s({fill:e,image:o,stroke:l,text:s,zIndex:void 0})]}function _3(n,r){var t=r.length,e=new Array(r.length),i=new Array(r.length),o=new Array(r.length),s,l,f;s=!1,l=!1,f=!1;for(var h=0;h<t;++h){var v=r[h];e[h]=v.get("extrude"),i[h]=v.get("tessellate"),o[h]=v.get("altitudeMode"),s=s||e[h]!==void 0,l=l||i[h]!==void 0,f=f||o[h]}s&&n.set("extrude",e),l&&n.set("tessellate",i),f&&n.set("altitudeMode",o)}var DG=br(Jn,{displayName:be(Wr),value:be(Wr)});function jG(n,r){var t=n.getAttribute("name");cu(DG,n,r);var e=r[r.length-1];t&&e.displayName?e[t]={value:e.value,displayName:e.displayName,toString:function(){return e.value}}:t!==null?e[t]=e.value:e.displayName!==null&&(e[e.displayName]=e.value),delete e.value}var GG=br(Jn,{Data:jG,SchemaData:VG});function V7(n,r){cu(GG,n,r)}function W7(n,r){cu(M7,n,r)}var BG=br(Jn,{Style:be(y3),key:be(Wr),styleUrl:be(I7)});function UG(n,r){var t=Gr({},BG,n,r,this);if(!!t){var e=t.key;if(e&&e=="normal"){var i=t.styleUrl;i&&(r[r.length-1]=i);var o=t.Style;o&&(r[r.length-1]=o)}}}function kG(n,r){var t=F7.call(this,n,r);if(!!t){var e=r[r.length-1];Array.isArray(t)?e.Style=t:typeof t=="string"?e.styleUrl=t:ye(!1,38)}}var zG=br(Jn,{SimpleData:WG});function VG(n,r){cu(zG,n,r)}function WG(n,r){var t=n.getAttribute("name");if(t!==null){var e=Wr(n),i=r[r.length-1];i[t]=e}}var HG=br(Jn,{altitudeMode:be(Wr),minAltitude:be(bo),maxAltitude:be(bo),north:be(bo),south:be(bo),east:be(bo),west:be(bo)});function YG(n,r){var t=Gr({},HG,n,r);if(!!t){var e=r[r.length-1],i=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];e.extent=i,e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude)}}var XG=br(Jn,{minLodPixels:be(bo),maxLodPixels:be(bo),minFadeExtent:be(bo),maxFadeExtent:be(bo)});function KG(n,r){var t=Gr({},XG,n,r);if(!!t){var e=r[r.length-1];e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent)}}var $G=br(Jn,{LinearRing:kn(D7)});function ZG(n,r){var t=Gr([],$G,n,r);if(t.length>0){var e=r[r.length-1];e.push.apply(e,t)}}var JG=br(Jn,{LinearRing:ii(D7)});function qG(n,r){var t=Gr(void 0,JG,n,r);if(t){var e=r[r.length-1];e[0]=t}}function QG(n,r){cu(sG,n,r)}function tB(n,r){var t=r[r.length-1],e=t.whens,i=jl(n,!1),o=Date.parse(i);e.push(isNaN(o)?0:o)}function eg(n,r){for(var t=fa(r),e=t.length==4?t[3]:1,i=[e*255,t[2],t[1],t[0]],o=0;o<4;++o){var s=Math.floor(i[o]).toString(16);i[o]=s.length==1?"0"+s:s}vi(n,i.join(""))}function eB(n,r,t){var e=t[t.length-1],i=e.layout,o=e.stride,s;i==tr.XY||i==tr.XYM?s=2:i==tr.XYZ||i==tr.XYZM?s=3:ye(!1,34);var l=r.length,f="";if(l>0){f+=r[0];for(var h=1;h<s;++h)f+=","+r[h];for(var v=o;v<l;v+=o){f+=" "+r[v];for(var h=1;h<s;++h)f+=","+r[v+h]}}vi(n,f)}var rg=br(Jn,{Data:Ae(rB),value:Ae(iB),displayName:Ae(nB)});function rB(n,r,t){n.setAttribute("name",r.name);var e={node:n},i=r.value;typeof i=="object"?(i!==null&&i.displayName&&Si(e,rg,Ns,[i.displayName],t,["displayName"]),i!==null&&i.value&&Si(e,rg,Ns,[i.value],t,["value"])):Si(e,rg,Ns,[i],t,["value"])}function nB(n,r){qD(n,r)}function iB(n,r){vi(n,r)}var oB=br(Jn,{Placemark:Ae(Z7)}),aB=function(n,r,t){var e=r[r.length-1].node;return Oi(e.namespaceURI,"Placemark")};function sB(n,r,t){var e={node:n};Si(e,oB,aB,r,t,void 0,this)}var lB=Pa("Data");function uB(n,r,t){for(var e={node:n},i=r.names,o=r.values,s=i.length,l=0;l<s;l++)Si(e,rg,lB,[{name:i[l],value:o[l]}],t)}var H7=br(Jn,["href"],br(Lc,["x","y","w","h"])),Y7=br(Jn,{href:Ae(vi)},br(Lc,{x:Ae(fu),y:Ae(fu),w:Ae(fu),h:Ae(fu)})),cB=function(n,r,t){return Oi(Lc[0],"gx:"+t)};function fB(n,r,t){var e={node:n},i=t[t.length-1].node,o=H7[i.namespaceURI],s=uu(r,o);Si(e,Y7,Ns,s,t,o),o=H7[Lc[0]],s=uu(r,o),Si(e,Y7,cB,s,t,o)}var hB=br(Jn,["scale","heading","Icon","color","hotSpot"]),dB=br(Jn,{Icon:Ae(fB),color:Ae(eg),heading:Ae(fu),hotSpot:Ae(UB),scale:Ae(Q7)});function pB(n,r,t){var e={node:n},i={},o=r.getSrc(),s=r.getSize(),l=r.getImageSize(),f={href:o};if(s){f.w=s[0],f.h=s[1];var h=r.getAnchor(),v=r.getOrigin();if(v&&l&&v[0]!==0&&v[1]!==s[1]&&(f.x=v[0],f.y=l[1]-(v[1]+s[1])),h&&(h[0]!==s[0]/2||h[1]!==s[1]/2)){var w={x:h[0],xunits:Fl.PIXELS,y:s[1]-h[1],yunits:Fl.PIXELS};i.hotSpot=w}}i.Icon=f;var R=r.getScaleArray()[0],B=s;if(B===null&&(B=x1),B.length==2){var V=J2(B);R=R/V}R!==1&&(i.scale=R);var et=r.getRotation();et!==0&&(i.heading=et);var vt=r.getColor();vt&&(i.color=vt);var Ct=t[t.length-1].node,kt=hB[Ct.namespaceURI],Ht=uu(i,kt);Si(e,dB,Ns,Ht,t,kt)}var vB=br(Jn,["color","scale"]),gB=br(Jn,{color:Ae(eg),scale:Ae(Q7)});function mB(n,r,t){var e={node:n},i={},o=r.getFill();o&&(i.color=o.getColor());var s=r.getScale();s&&s!==1&&(i.scale=s);var l=t[t.length-1].node,f=vB[l.namespaceURI],h=uu(i,f);Si(e,gB,Ns,h,t,f)}var yB=br(Jn,["color","width"]),_B=br(Jn,{color:Ae(eg),width:Ae(fu)});function EB(n,r,t){var e={node:n},i={color:r.getColor(),width:Number(r.getWidth())||1},o=t[t.length-1].node,s=yB[o.namespaceURI],l=uu(i,s);Si(e,_B,Ns,l,t,s)}var SB={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},X7=function(n,r,t){if(n){var e=r[r.length-1].node;return Oi(e.namespaceURI,SB[n.getType()])}},wB=Pa("Point"),xB=Pa("LineString"),OB=Pa("LinearRing"),TB=Pa("Polygon"),bB=br(Jn,{LineString:Ae(Gd),Point:Ae(Gd),Polygon:Ae(q7),GeometryCollection:Ae(K7)});function K7(n,r,t){var e={node:n},i=r.getType(),o=[],s;i===Ee.GEOMETRY_COLLECTION?(r.getGeometriesArrayRecursive().forEach(function(l){var f=l.getType();f===Ee.MULTI_POINT?o=o.concat(l.getPoints()):f===Ee.MULTI_LINE_STRING?o=o.concat(l.getLineStrings()):f===Ee.MULTI_POLYGON?o=o.concat(l.getPolygons()):f===Ee.POINT||f===Ee.LINE_STRING||f===Ee.POLYGON?o.push(l):ye(!1,39)}),s=X7):i===Ee.MULTI_POINT?(o=r.getPoints(),s=wB):i===Ee.MULTI_LINE_STRING?(o=r.getLineStrings(),s=xB):i===Ee.MULTI_POLYGON?(o=r.getPolygons(),s=TB):ye(!1,39),Si(e,bB,s,o,t)}var AB=br(Jn,{LinearRing:Ae(Gd)});function $7(n,r,t){var e={node:n};Si(e,AB,OB,[r],t)}var E3=br(Jn,{ExtendedData:Ae(uB),MultiGeometry:Ae(K7),LineString:Ae(Gd),LinearRing:Ae(Gd),Point:Ae(Gd),Polygon:Ae(q7),Style:Ae(BB),address:Ae(vi),description:Ae(vi),name:Ae(vi),open:Ae(Fd),phoneNumber:Ae(vi),styleUrl:Ae(vi),visibility:Ae(Fd)}),MB=br(Jn,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),RB=Pa("ExtendedData");function Z7(n,r,t){var e={node:n};r.getId()&&n.setAttribute("id",r.getId());var i=r.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[r.getGeometryName()]=1;var s=Object.keys(i||{}).sort().filter(function(ve){return!o[ve]}),l=r.getStyleFunction();if(l){var f=l(r,0);if(f){var h=Array.isArray(f)?f:[f],v=h;if(r.getGeometry()&&(v=h.filter(function(ve){var de=ve.getGeometryFunction()(r);if(de){var Oe=de.getType();return Oe===Ee.GEOMETRY_COLLECTION?de.getGeometriesArrayRecursive().filter(function(Se){var Fe=Se.getType();return Fe===Ee.POINT||Fe===Ee.MULTI_POINT}).length:Oe===Ee.POINT||Oe===Ee.MULTI_POINT}})),this.writeStyles_){var w=h,R=h;r.getGeometry()&&(w=h.filter(function(ve){var de=ve.getGeometryFunction()(r);if(de){var Oe=de.getType();return Oe===Ee.GEOMETRY_COLLECTION?de.getGeometriesArrayRecursive().filter(function(Se){var Fe=Se.getType();return Fe===Ee.LINE_STRING||Fe===Ee.MULTI_LINE_STRING}).length:Oe===Ee.LINE_STRING||Oe===Ee.MULTI_LINE_STRING}}),R=h.filter(function(ve){var de=ve.getGeometryFunction()(r);if(de){var Oe=de.getType();return Oe===Ee.GEOMETRY_COLLECTION?de.getGeometriesArrayRecursive().filter(function(Se){var Fe=Se.getType();return Fe===Ee.POLYGON||Fe===Ee.MULTI_POLYGON}).length:Oe===Ee.POLYGON||Oe===Ee.MULTI_POLYGON}})),i.Style={pointStyles:v,lineStyles:w,polyStyles:R}}if(v.length&&i.name===void 0){var B=v[0].getText();B&&(i.name=B.getText())}}}var V=t[t.length-1].node,et=MB[V.namespaceURI],vt=uu(i,et);if(Si(e,E3,Ns,vt,t,et),s.length>0){var Ct=uu(i,s),kt={names:s,values:Ct};Si(e,E3,RB,[kt],t)}var Ht=t[0],Nt=r.getGeometry();Nt&&(Nt=ba(Nt,!0,Ht)),Si(e,E3,X7,[Nt],t)}var CB=br(Jn,["extrude","tessellate","altitudeMode","coordinates"]),LB=br(Jn,{extrude:Ae(Fd),tessellate:Ae(Fd),altitudeMode:Ae(vi),coordinates:Ae(eB)});function Gd(n,r,t){var e=r.getFlatCoordinates(),i={node:n};i.layout=r.getLayout(),i.stride=r.getStride();var o=r.getProperties();o.coordinates=e;var s=t[t.length-1].node,l=CB[s.namespaceURI],f=uu(o,l);Si(i,LB,Ns,f,t,l)}var PB=br(Jn,["color","fill","outline"]),J7=br(Jn,{outerBoundaryIs:Ae($7),innerBoundaryIs:Ae($7)}),IB=Pa("innerBoundaryIs"),NB=Pa("outerBoundaryIs");function q7(n,r,t){var e=r.getLinearRings(),i=e.shift(),o={node:n};Si(o,J7,IB,e,t),Si(o,J7,NB,[i],t)}var FB=br(Jn,{color:Ae(eg),fill:Ae(Fd),outline:Ae(Fd)});function DB(n,r,t){var e={node:n},i=r.getFill(),o=r.getStroke(),s={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:o?void 0:!1},l=t[t.length-1].node,f=PB[l.namespaceURI],h=uu(s,f);Si(e,FB,Ns,h,t,f)}function Q7(n,r){fu(n,Math.round(r*1e6)/1e6)}var jB=br(Jn,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),GB=br(Jn,{IconStyle:Ae(pB),LabelStyle:Ae(mB),LineStyle:Ae(EB),PolyStyle:Ae(DB)});function BB(n,r,t){var e={node:n},i={};if(r.pointStyles.length){var o=r.pointStyles[0].getText();o&&(i.LabelStyle=o);var s=r.pointStyles[0].getImage();s&&typeof s.getSrc=="function"&&(i.IconStyle=s)}if(r.lineStyles.length){var l=r.lineStyles[0].getStroke();l&&(i.LineStyle=l)}if(r.polyStyles.length){var l=r.polyStyles[0].getStroke();l&&!i.LineStyle&&(i.LineStyle=l),i.PolyStyle=r.polyStyles[0]}var f=t[t.length-1].node,h=jB[f.namespaceURI],v=uu(i,h);Si(e,GB,Ns,v,t,h)}function UB(n,r){n.setAttribute("x",String(r.x)),n.setAttribute("y",String(r.y)),n.setAttribute("xunits",r.xunits),n.setAttribute("yunits",r.yunits)}var kB=hG,zB=u("7915"),VB=u.n(zB),t9=mt(),O1=function(){function n(r,t,e,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=r,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=e,this.properties_=i}return n.prototype.get=function(r){return this.properties_[r]},n.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===Ee.POINT?dt(this.flatCoordinates_):De(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},n.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var r=zn(this.getExtent());this.flatInteriorPoints_=wc(this.flatCoordinates_,0,this.ends_,2,r,0)}return this.flatInteriorPoints_},n.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var r=i7(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Ys(this.flatCoordinates_,0,this.ends_,2,r)}return this.flatInteriorPoints_},n.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=L2(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},n.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var r=this.flatCoordinates_,t=0,e=this.ends_,i=0,o=e.length;i<o;++i){var s=e[i],l=L2(r,t,s,2,.5);Object(K.c)(this.flatMidpoints_,l),t=s}}return this.flatMidpoints_},n.prototype.getId=function(){return this.id_},n.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},n.prototype.getGeometry=function(){return this},n.prototype.getSimplifiedGeometry=function(r){return this},n.prototype.simplifyTransformed=function(r,t){return this},n.prototype.getProperties=function(){return this.properties_},n.prototype.getStride=function(){return 2},n.prototype.getStyleFunction=function(){return this.styleFunction},n.prototype.getType=function(){return this.type_},n.prototype.transform=function(r){r=Gn(r);var t=r.getExtent(),e=r.getWorldExtent();if(t&&e){var i=on(e)/on(t);er(t9,e[0],e[3],i,-i,0,0,0),dn(this.flatCoordinates_,0,this.flatCoordinates_.length,2,t9,this.flatCoordinates_)}},n.prototype.getEnds=function(){return this.ends_},n}();O1.prototype.getEndss=O1.prototype.getEnds,O1.prototype.getFlatCoordinates=O1.prototype.getOrientedFlatCoordinates;var e9=O1,WB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HB=function(n){WB(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=new Ga({code:"",units:Yi.TILE_PIXELS}),e.featureClass_=i.featureClass?i.featureClass:e9,e.geometryName_=i.geometryName,e.layerName_=i.layerName?i.layerName:"layer",e.layers_=i.layers?i.layers:null,e.idProperty_=i.idProperty,e.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],e}return r.prototype.readRawGeometry_=function(t,e,i,o){t.pos=e.geometry;for(var s=t.readVarint()+t.pos,l=1,f=0,h=0,v=0,w=0,R=0;t.pos<s;){if(!f){var B=t.readVarint();l=B&7,f=B>>3}f--,l===1||l===2?(h+=t.readSVarint(),v+=t.readSVarint(),l===1&&w>R&&(o.push(w),R=w),i.push(h,v),w+=2):l===7?w>R&&(i.push(i[R],i[R+1]),w+=2):ye(!1,59)}w>R&&(o.push(w),R=w)},r.prototype.createFeature_=function(t,e,i){var o=e.type;if(o===0)return null;var s,l=e.properties,f;this.idProperty_?(f=l[this.idProperty_],delete l[this.idProperty_]):f=e.id,l[this.layerName_]=e.layer.name;var h=[],v=[];this.readRawGeometry_(t,e,h,v);var w=ZB(o,v.length);if(this.featureClass_===e9)s=new this.featureClass_(w,h,v,l,f),s.transform(i.dataProjection);else{var R=void 0;if(w==Ee.POLYGON){for(var B=[],V=0,et=0,vt=0,Ct=v.length;vt<Ct;++vt){var kt=v[vt];if(!Mu(h,V,kt,2))B.push(v.slice(et,vt+1));else{if(B.length===0)continue;B[B.length-1].push(v[et])}et=vt+1,V=kt}B.length>1?R=new ml(h,tr.XY,B):R=new so(h,tr.XY,v)}else R=w===Ee.POINT?new Ii(h,tr.XY):w===Ee.LINE_STRING?new Xo(h,tr.XY):w===Ee.POLYGON?new so(h,tr.XY,v):w===Ee.MULTI_POINT?new h0(h,tr.XY):w===Ee.MULTI_LINE_STRING?new au(h,tr.XY,v):null;var Ht=this.featureClass_;s=new Ht,this.geometryName_&&s.setGeometryName(this.geometryName_);var Nt=ba(R,!1,i);s.setGeometry(Nt),s.setId(f),s.setProperties(l,!0)}return s},r.prototype.getType=function(){return F0.ARRAY_BUFFER},r.prototype.readFeatures=function(t,e){var i=this.layers_,o=this.adaptOptions(e),s=Gn(o.dataProjection);s.setWorldExtent(o.extent),o.dataProjection=s;var l=new VB.a(t),f=l.readFields(YB,{}),h=[];for(var v in f)if(!(i&&i.indexOf(v)==-1)){var w=f[v],R=w?[0,0,w.extent,w.extent]:null;s.setExtent(R);for(var B=0,V=w.length;B<V;++B){var et=$B(l,w,B),vt=this.createFeature_(l,et,o);vt!==null&&h.push(vt)}}return h},r.prototype.readProjection=function(t){return this.dataProjection},r.prototype.setLayers=function(t){this.layers_=t},r}(m1);function YB(n,r,t){if(n===3){var e={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(XB,e,i),e.length=e.features.length,e.length&&(r[e.name]=e)}}function XB(n,r,t){if(n===15)r.version=t.readVarint();else if(n===1)r.name=t.readString();else if(n===5)r.extent=t.readVarint();else if(n===2)r.features.push(t.pos);else if(n===3)r.keys.push(t.readString());else if(n===4){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;)n=t.readVarint()>>3,e=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;r.values.push(e)}}function KB(n,r,t){if(n==1)r.id=t.readVarint();else if(n==2)for(var e=t.readVarint()+t.pos;t.pos<e;){var i=r.layer.keys[t.readVarint()],o=r.layer.values[t.readVarint()];r.properties[i]=o}else n==3?r.type=t.readVarint():n==4&&(r.geometry=t.pos)}function $B(n,r,t){n.pos=r.features[t];var e=n.readVarint()+n.pos,i={layer:r,type:0,properties:{}};return n.readFields(KB,i,e),i}function ZB(n,r){var t;return n===1?t=r===1?Ee.POINT:Ee.MULTI_POINT:n===2?t=r===1?Ee.LINE_STRING:Ee.MULTI_LINE_STRING:n===3&&(t=Ee.POLYGON),t}var JB=HB,qB=function(){function n(){}return n.prototype.read=function(r){if(r)if(typeof r=="string"){var t=uc(r);return this.readFromDocument(t)}else return lc(r)?this.readFromDocument(r):this.readFromNode(r);else return null},n.prototype.readFromDocument=function(r){for(var t=r.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},n.prototype.readFromNode=function(r){},n}(),S3=qB,QB="http://www.w3.org/1999/xlink";function Bd(n){return n.getAttributeNS(QB,"href")}var tU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hu=[null,"http://www.opengis.net/ows/1.1"],eU=br(hu,{ServiceIdentification:be(bU),ServiceProvider:be(MU),OperationsMetadata:be(OU)}),rU=function(n){tU(r,n);function r(){return n.call(this)||this}return r.prototype.readFromNode=function(t){var e=Gr({},eU,t,[]);return e||null},r}(S3),nU=br(hu,{DeliveryPoint:be(Wr),City:be(Wr),AdministrativeArea:be(Wr),PostalCode:be(Wr),Country:be(Wr),ElectronicMailAddress:be(Wr)}),iU=br(hu,{Value:ca(RU)}),oU=br(hu,{AllowedValues:be(mU)}),aU=br(hu,{Phone:be(TU),Address:be(gU)}),sU=br(hu,{HTTP:be(wU)}),lU=br(hu,{Get:ca(SU),Post:void 0}),uU=br(hu,{DCP:be(EU)}),cU=br(hu,{Operation:xU}),fU=br(hu,{Voice:be(Wr),Facsimile:be(Wr)}),hU=br(hu,{Constraint:ca(yU)}),dU=br(hu,{IndividualName:be(Wr),PositionName:be(Wr),ContactInfo:be(_U)}),pU=br(hu,{Abstract:be(Wr),AccessConstraints:be(Wr),Fees:be(Wr),Title:be(Wr),ServiceTypeVersion:be(Wr),ServiceType:be(Wr)}),vU=br(hu,{ProviderName:be(Wr),ProviderSite:be(Bd),ServiceContact:be(AU)});function gU(n,r){return Gr({},nU,n,r)}function mU(n,r){return Gr({},iU,n,r)}function yU(n,r){var t=n.getAttribute("name");if(!!t)return Gr({name:t},oU,n,r)}function _U(n,r){return Gr({},aU,n,r)}function EU(n,r){return Gr({},sU,n,r)}function SU(n,r){var t=Bd(n);if(!!t)return Gr({href:t},hU,n,r)}function wU(n,r){return Gr({},lU,n,r)}function xU(n,r){var t=n.getAttribute("name"),e=Gr({},uU,n,r);if(!!e){var i=r[r.length-1];i[t]=e}}function OU(n,r){return Gr({},cU,n,r)}function TU(n,r){return Gr({},fU,n,r)}function bU(n,r){return Gr({},pU,n,r)}function AU(n,r){return Gr({},dU,n,r)}function MU(n,r){return Gr({},vU,n,r)}function RU(n,r){return Wr(n)}var r9=rU;function n9(n,r,t,e,i,o){var s,l;i!==void 0?(s=i,l=o!==void 0?o:0):(s=[],l=0);for(var f=r;f<t;){var h=n[f++];s[l++]=n[f++],s[l++]=h;for(var v=2;v<e;++v)s[l++]=n[f++]}return s.length=l,s}var CU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LU=function(n){CU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=Gn("EPSG:4326"),e.factor_=i.factor?i.factor:1e5,e.geometryLayout_=i.geometryLayout?i.geometryLayout:tr.XY,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);return new Cn(i)},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return[i]},r.prototype.readGeometryFromText=function(t,e){var i=wa(this.geometryLayout_),o=IU(t,i,this.factor_);n9(o,0,o.length,i,o);var s=Di(o,0,o.length,i),l=new Xo(s,this.geometryLayout_);return ba(l,!1,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):(ye(!1,40),"")},r.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},r.prototype.writeGeometryText=function(t,e){t=ba(t,!0,this.adaptOptions(e));var i=t.getFlatCoordinates(),o=t.getStride();return n9(i,0,i.length,o,i),PU(i,o,this.factor_)},r}(c3);function PU(n,r,t){var e=t||1e5,i,o=new Array(r);for(i=0;i<r;++i)o[i]=0;for(var s=0,l=n.length;s<l;)for(i=0;i<r;++i,++s){var f=n[s],h=f-o[i];o[i]=f,n[s]=h}return NU(n,e)}function IU(n,r,t){var e=t||1e5,i,o=new Array(r);for(i=0;i<r;++i)o[i]=0;for(var s=FU(n,e),l=0,f=s.length;l<f;)for(i=0;i<r;++i,++l)o[i]+=s[l],s[l]=o[i];return s}function NU(n,r){for(var t=r||1e5,e=0,i=n.length;e<i;++e)n[e]=Math.round(n[e]*t);return DU(n)}function FU(n,r){for(var t=r||1e5,e=jU(n),i=0,o=e.length;i<o;++i)e[i]/=t;return e}function DU(n){for(var r=0,t=n.length;r<t;++r){var e=n[r];n[r]=e<0?~(e<<1):e<<1}return GU(n)}function jU(n){for(var r=BU(n),t=0,e=r.length;t<e;++t){var i=r[t];r[t]=i&1?~(i>>1):i>>1}return r}function GU(n){for(var r="",t=0,e=n.length;t<e;++t)r+=UU(n[t]);return r}function BU(n){for(var r=[],t=0,e=0,i=0,o=n.length;i<o;++i){var s=n.charCodeAt(i)-63;t|=(s&31)<<e,s<32?(r.push(t),t=0,e=0):e+=5}return r}function UU(n){for(var r,t="";n>=32;)r=(32|n&31)+63,t+=String.fromCharCode(r),n>>=5;return r=n+63,t+=String.fromCharCode(r),t}var kU=LU,zU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VU=function(n){zU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.layerName_=i.layerName,e.layers_=i.layers?i.layers:null,e.dataProjection=Gn(i.dataProjection?i.dataProjection:"EPSG:4326"),e}return r.prototype.readFeaturesFromObject=function(t,e){if(t.type=="Topology"){var i=t,o=void 0,s=null,l=null;i.transform&&(o=i.transform,s=o.scale,l=o.translate);var f=i.arcs;o&&qU(f,s,l);var h=[],v=i.objects,w=this.layerName_,R=void 0;for(var B in v)this.layers_&&this.layers_.indexOf(B)==-1||(v[B].type==="GeometryCollection"?(R=v[B],h.push.apply(h,JU(R,f,s,l,w,B,e))):(R=v[B],h.push(i9(R,f,s,l,w,B,e))));return h}else return[]},r.prototype.readProjectionFromObject=function(t){return this.dataProjection},r}(J5),WU={Point:HU,LineString:XU,Polygon:$U,MultiPoint:YU,MultiLineString:KU,MultiPolygon:ZU};function ng(n,r){for(var t=[],e,i=0,o=n.length;i<o;++i)if(e=n[i],i>0&&t.pop(),e>=0)for(var s=r[e],l=0,f=s.length;l<f;++l)t.push(s[l].slice(0));else for(var s=r[~e],l=s.length-1;l>=0;--l)t.push(s[l].slice(0));return t}function HU(n,r,t){var e=n.coordinates;return r&&t&&w3(e,r,t),new Ii(e)}function YU(n,r,t){var e=n.coordinates;if(r&&t)for(var i=0,o=e.length;i<o;++i)w3(e[i],r,t);return new h0(e)}function XU(n,r){var t=ng(n.arcs,r);return new Xo(t)}function KU(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=ng(n.arcs[e],r);return new au(t)}function $U(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=ng(n.arcs[e],r);return new so(t)}function ZU(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e){for(var o=n.arcs[e],s=[],l=0,f=o.length;l<f;++l)s[l]=ng(o[l],r);t[e]=s}return new ml(t)}function JU(n,r,t,e,i,o,s){for(var l=n.geometries,f=[],h=0,v=l.length;h<v;++h)f[h]=i9(l[h],r,t,e,i,o,s);return f}function i9(n,r,t,e,i,o,s){var l=null,f=n.type;if(f){var h=WU[f];f==="Point"||f==="MultiPoint"?l=h(n,t,e):l=h(n,r),l=ba(l,!1,s)}var v=new Cn({geometry:l});n.id!==void 0&&v.setId(n.id);var w=n.properties;return i&&(w||(w={}),w[i]=o),w&&v.setProperties(w,!0),v}function qU(n,r,t){for(var e=0,i=n.length;e<i;++e)QU(n[e],r,t)}function QU(n,r,t){for(var e=0,i=0,o=0,s=n.length;o<s;++o){var l=n[o];e+=l[0],i+=l[1],l[0]=e,l[1]=i,w3(l,r,t)}}function w3(n,r,t){n[0]=n[0]*r[0]+t[0],n[1]=n[1]*r[1]+t[1]}var tk=VU,ek=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fo=function(n){ek(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.schemaLocation=i.schemaLocation?i.schemaLocation:e.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",e}return r}(Ki);Fo.prototype.namespace="http://www.opengis.net/gml/3.2",Fo.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:ii(Ki.prototype.readFlatPos),posList:ii(Ki.prototype.readFlatPosList),coordinates:ii(Dd.prototype.readFlatCoordinates)}},Fo.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Ki.prototype.interiorParser,exterior:Ki.prototype.exteriorParser}},Fo.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:ii(eo.prototype.readPoint),MultiPoint:ii(eo.prototype.readMultiPoint),LineString:ii(eo.prototype.readLineString),MultiLineString:ii(eo.prototype.readMultiLineString),LinearRing:ii(eo.prototype.readLinearRing),Polygon:ii(eo.prototype.readPolygon),MultiPolygon:ii(eo.prototype.readMultiPolygon),Surface:ii(Fo.prototype.readSurface),MultiSurface:ii(Ki.prototype.readMultiSurface),Curve:ii(Fo.prototype.readCurve),MultiCurve:ii(Ki.prototype.readMultiCurve),Envelope:ii(Fo.prototype.readEnvelope)}},Fo.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:kn(Ki.prototype.curveMemberParser),curveMembers:kn(Ki.prototype.curveMemberParser)}},Fo.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:kn(Ki.prototype.surfaceMemberParser),surfaceMembers:kn(Ki.prototype.surfaceMemberParser)}},Fo.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:kn(eo.prototype.readLineString),Curve:kn(Ki.prototype.readCurve)}},Fo.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:kn(eo.prototype.readPolygon),Surface:kn(Ki.prototype.readSurface)}},Fo.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:ii(Ki.prototype.readPatch)}},Fo.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:ii(Ki.prototype.readSegment)}},Fo.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:kn(Ki.prototype.readFlatPosList),upperCorner:kn(Ki.prototype.readFlatPosList)}},Fo.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:ii(Ki.prototype.readPolygonPatch)}},Fo.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:ii(Ki.prototype.readLineStringSegment)}},Fo.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:kn(eo.prototype.pointMemberParser),pointMembers:kn(eo.prototype.pointMemberParser)}},Fo.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:kn(eo.prototype.lineStringMemberParser),lineStringMembers:kn(eo.prototype.lineStringMemberParser)}},Fo.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:kn(eo.prototype.polygonMemberParser),polygonMembers:kn(eo.prototype.polygonMemberParser)}},Fo.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:kn(eo.prototype.readFlatCoordinatesFromNode)}},Fo.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:kn(eo.prototype.readLineString)}},Fo.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:kn(eo.prototype.readPolygon)}},Fo.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:ii(eo.prototype.readFlatLinearRing)}},Fo.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:Ae(Ki.prototype.writeRing),interior:Ae(Ki.prototype.writeRing)}},Fo.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Ae(vi),upperCorner:Ae(vi)}},Fo.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Ae(Ki.prototype.writeSurfaceOrPolygonMember),polygonMember:Ae(Ki.prototype.writeSurfaceOrPolygonMember)}},Fo.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:Ae(Ki.prototype.writePointMember)}},Fo.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Ae(Ki.prototype.writeLineStringOrCurveMember),curveMember:Ae(Ki.prototype.writeLineStringOrCurveMember)}},Fo.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:Ae(Ki.prototype.writeCurveOrLineString),MultiCurve:Ae(Ki.prototype.writeMultiCurveOrLineString),Point:Ae(Fo.prototype.writePoint),MultiPoint:Ae(Ki.prototype.writeMultiPoint),LineString:Ae(Ki.prototype.writeCurveOrLineString),MultiLineString:Ae(Ki.prototype.writeMultiCurveOrLineString),LinearRing:Ae(Ki.prototype.writeLinearRing),Polygon:Ae(Ki.prototype.writeSurfaceOrPolygon),MultiPolygon:Ae(Ki.prototype.writeMultiSurfaceOrPolygon),Surface:Ae(Ki.prototype.writeSurfaceOrPolygon),MultiSurface:Ae(Ki.prototype.writeMultiSurfaceOrPolygon),Envelope:Ae(Ki.prototype.writeEnvelope)}};var x3=Fo,rk=function(){function n(r){this.tagName_=r}return n.prototype.getTagName=function(){return this.tagName_},n}(),Ud=rk,nk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ik=function(n){nk(r,n);function r(t,e){var i=n.call(this,t)||this;return i.conditions=e,ye(i.conditions.length>=2,57),i}return r}(Ud),o9=ik,ok=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ak=function(n){ok(r,n);function r(t){return n.call(this,"And",Array.prototype.slice.call(arguments))||this}return r}(o9),sk=ak,lk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uk=function(n){lk(r,n);function r(t,e,i){var o=n.call(this,"BBOX")||this;if(o.geometryName=t,o.extent=e,e.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=i,o}return r}(Ud),ck=uk,fk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hk=function(n){fk(r,n);function r(t,e,i,o){var s=n.call(this,t)||this;return s.geometryName=e||"the_geom",s.geometry=i,s.srsName=o,s}return r}(Ud),T1=hk,dk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){dk(r,n);function r(t,e,i){return n.call(this,"Contains",t,e,i)||this}return r})(T1);var pk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){pk(r,n);function r(t,e,i,o,s){var l=n.call(this,"DWithin",t,e,s)||this;return l.distance=i,l.unit=o,l}return r})(T1);var vk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){vk(r,n);function r(t,e,i){return n.call(this,"Disjoint",t,e,i)||this}return r})(T1);var gk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mk=function(n){gk(r,n);function r(t,e){var i=n.call(this,t)||this;return i.propertyName=e,i}return r}(Ud),b1=mk,yk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){yk(r,n);function r(t,e,i){var o=n.call(this,"During",t)||this;return o.begin=e,o.end=i,o}return r})(b1);var _k=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ek=function(n){_k(r,n);function r(t,e,i,o){var s=n.call(this,t,e)||this;return s.expression=i,s.matchCase=o,s}return r}(b1),kd=Ek,Sk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Sk(r,n);function r(t,e,i){return n.call(this,"PropertyIsEqualTo",t,e,i)||this}return r})(kd);var wk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){wk(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThan",t,e)||this}return r})(kd);var xk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){xk(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)||this}return r})(kd);var Ok=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Ok(r,n);function r(t,e,i){return n.call(this,"Intersects",t,e,i)||this}return r})(T1);var Tk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Tk(r,n);function r(t,e,i){var o=n.call(this,"PropertyIsBetween",t)||this;return o.lowerBoundary=e,o.upperBoundary=i,o}return r})(b1);var bk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){bk(r,n);function r(t,e,i,o,s,l){var f=n.call(this,"PropertyIsLike",t)||this;return f.pattern=e,f.wildCard=i!==void 0?i:"*",f.singleChar=o!==void 0?o:".",f.escapeChar=s!==void 0?s:"!",f.matchCase=l,f}return r})(b1);var Ak=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Ak(r,n);function r(t){return n.call(this,"PropertyIsNull",t)||this}return r})(b1);var Mk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Mk(r,n);function r(t,e){return n.call(this,"PropertyIsLessThan",t,e)||this}return r})(kd);var Rk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Rk(r,n);function r(t,e){return n.call(this,"PropertyIsLessThanOrEqualTo",t,e)||this}return r})(kd);var Ck=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Ck(r,n);function r(t){var e=n.call(this,"Not")||this;return e.condition=t,e}return r})(Ud);var Lk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Lk(r,n);function r(t,e,i){return n.call(this,"PropertyIsNotEqualTo",t,e,i)||this}return r})(kd);var Pk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Pk(r,n);function r(t){return n.call(this,"Or",Array.prototype.slice.call(arguments))||this}return r})(o9);var Ik=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Ik(r,n);function r(t){var e=n.call(this,"ResourceId")||this;return e.rid=t,e}return r})(Ud);var Nk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){Nk(r,n);function r(t,e,i){return n.call(this,"Within",t,e,i)||this}return r})(T1);function Fk(n){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(sk,r))}function Dk(n,r,t){return new ck(n,r,t)}var jk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),a9={"http://www.opengis.net/gml":{boundedBy:be(eo.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:kn(eo.prototype.readFeaturesInternal)}},Gk={"http://www.opengis.net/wfs":{totalInserted:be(es),totalUpdated:be(es),totalDeleted:be(es)},"http://www.opengis.net/wfs/2.0":{totalInserted:be(es),totalUpdated:be(es),totalDeleted:be(es)}},Bk={"http://www.opengis.net/wfs":{TransactionSummary:be(c9,"transactionSummary"),InsertResults:be(h9,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:be(c9,"transactionSummary"),InsertResults:be(h9,"insertIds")}},Uk={"http://www.opengis.net/wfs":{PropertyName:Ae(vi)},"http://www.opengis.net/wfs/2.0":{PropertyName:Ae(vi)}},s9={"http://www.opengis.net/wfs":{Insert:Ae(d9),Update:Ae(g9),Delete:Ae(v9),Property:Ae(m9),Native:Ae(y9)},"http://www.opengis.net/wfs/2.0":{Insert:Ae(d9),Update:Ae(g9),Delete:Ae(v9),Property:Ae(m9),Native:Ae(y9)}},l9="feature",O3="http://www.w3.org/2000/xmlns/",T3={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},b3={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},A3={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},u9={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},M3={"2.0.0":x3,"1.1.0":Ki,"1.0.0":Dd},kk="1.1.0",zk=function(n){jk(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.version_=i.version?i.version:kk,e.featureType_=i.featureType,e.featureNS_=i.featureNS,e.gmlFormat_=i.gmlFormat?i.gmlFormat:new M3[e.version_],e.schemaLocation_=i.schemaLocation?i.schemaLocation:u9[e.version_],e}return r.prototype.getFeatureType=function(){return this.featureType_},r.prototype.setFeatureType=function(t){this.featureType_=t},r.prototype.readFeaturesFromNode=function(t,e){var i={node:t};Object(pn.a)(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(pn.a)(i,this.getReadOptions(t,e||{}));var o=[i],s;this.version_==="2.0.0"?s=a9:s=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var l=Gr([],s,t,o,this.gmlFormat_);return l||(l=[]),l},r.prototype.readTransactionResponse=function(t){if(t)if(typeof t=="string"){var e=uc(t);return this.readTransactionResponseFromDocument(e)}else return lc(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t);else return},r.prototype.readFeatureCollectionMetadata=function(t){if(t)if(typeof t=="string"){var e=uc(t);return this.readFeatureCollectionMetadataFromDocument(e)}else return lc(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t);else return},r.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},r.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},i=Cc(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=i,Gr(e,a9,t,[],this.gmlFormat_)},r.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},r.prototype.readTransactionResponseFromNode=function(t){return Gr({},Bk,t,[])},r.prototype.writeGetFeature=function(t){var e=this,i=Oi(b3[this.version_],"GetFeature");i.setAttribute("service","WFS"),i.setAttribute("version",this.version_),t.handle&&i.setAttribute("handle",t.handle),t.outputFormat&&i.setAttribute("outputFormat",t.outputFormat),t.maxFeatures!==void 0&&i.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&i.setAttribute("resultType",t.resultType),t.startIndex!==void 0&&i.setAttribute("startIndex",String(t.startIndex)),t.count!==void 0&&i.setAttribute("count",String(t.count)),t.viewParams!==void 0&&i.setAttribute("viewParams",t.viewParams),i.setAttributeNS(Sh,"xsi:schemaLocation",this.schemaLocation_);var o={node:i};if(Object(pn.a)(o,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),ye(Array.isArray(t.featureTypes),11),typeof t.featureTypes[0]=="string"){var s=t.filter;t.bbox&&(ye(t.geometryName,12),s=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,s)),Object(pn.a)(o,{geometryName:t.geometryName,filter:s}),M9(i,t.featureTypes,[o])}else t.featureTypes.forEach(function(l){var f=e.combineBboxAndFilter(l.geometryName,l.bbox,t.srsName,t.filter);Object(pn.a)(o,{geometryName:l.geometryName,filter:f}),M9(i,[l.name],[o])});return i},r.prototype.combineBboxAndFilter=function(t,e,i,o){var s=Dk(t,e,i);return o?Fk(o,s):s},r.prototype.writeTransaction=function(t,e,i,o){var s=[],l=o.version?o.version:this.version_,f=Oi(b3[l],"Transaction");f.setAttribute("service","WFS"),f.setAttribute("version",l);var h;o&&(h=o.gmlOptions?o.gmlOptions:{},o.handle&&f.setAttribute("handle",o.handle)),f.setAttributeNS(Sh,"xsi:schemaLocation",u9[l]);var v=Vk(f,h,l,o);return t&&ig("Insert",t,s,v),e&&ig("Update",e,s,v),i&&ig("Delete",i,s,v),o.nativeElements&&ig("Native",o.nativeElements,s,v),f},r.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},r.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(!(e.childNodes.length===0||e.childNodes.length===1&&e.firstChild.nodeType===3)){var i=[{}];return this.gmlFormat_.readGeometryElement(e,i),Gn(i.pop().srsName)}}return null},r}(_1);function Vk(n,r,t,e){var i=e.featurePrefix?e.featurePrefix:l9,o;t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2);var s=Object(pn.a)({node:n},{version:t,featureNS:e.featureNS,featureType:e.featureType,featurePrefix:i,gmlVersion:o,hasZ:e.hasZ,srsName:e.srsName},r);return s}function ig(n,r,t,e){Si(e,s9,Pa(n),r,t)}function c9(n,r){return Gr({},Gk,n,r)}var Wk={"http://www.opengis.net/ogc":{FeatureId:kn(function(n,r){return n.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:kn(function(n,r){return n.getAttribute("fid")})}};function f9(n,r){cu(Wk,n,r)}var Hk={"http://www.opengis.net/wfs":{Feature:f9},"http://www.opengis.net/wfs/2.0":{Feature:f9}};function h9(n,r){return Gr([],Hk,n,r)}function d9(n,r,t){var e=t[t.length-1],i=e.featureType,o=e.featureNS,s=e.gmlVersion,l=Oi(o,i);n.appendChild(l),s===2?Dd.prototype.writeFeatureElement(l,r,t):s===3?Ki.prototype.writeFeatureElement(l,r,t):x3.prototype.writeFeatureElement(l,r,t)}function p9(n,r,t){var e=t[t.length-1],i=e.version,o=T3[i],s=Oi(o,"Filter"),l=Oi(o,"FeatureId");s.appendChild(l),l.setAttribute("fid",r),n.appendChild(s)}function R3(n,r){n=n||l9;var t=n+":";return r.indexOf(t)===0?r:t+r}function v9(n,r,t){var e=t[t.length-1];ye(r.getId()!==void 0,26);var i=e.featureType,o=e.featurePrefix,s=e.featureNS,l=R3(o,i);n.setAttribute("typeName",l),n.setAttributeNS(O3,"xmlns:"+o,s);var f=r.getId();f!==void 0&&p9(n,f,t)}function g9(n,r,t){var e=t[t.length-1];ye(r.getId()!==void 0,27);var i=e.version,o=e.featureType,s=e.featurePrefix,l=e.featureNS,f=R3(s,o),h=r.getGeometryName();n.setAttribute("typeName",f),n.setAttributeNS(O3,"xmlns:"+s,l);var v=r.getId();if(v!==void 0){for(var w=r.getKeys(),R=[],B=0,V=w.length;B<V;B++){var et=r.get(w[B]);if(et!==void 0){var vt=w[B];et&&typeof et.getSimplifiedGeometry=="function"&&(vt=h),R.push({name:vt,value:et})}}Si({version:i,gmlVersion:e.gmlVersion,node:n,hasZ:e.hasZ,srsName:e.srsName},s9,Pa("Property"),R,t),p9(n,v,t)}}function m9(n,r,t){var e=t[t.length-1],i=e.version,o=b3[i],s=Oi(o,"Name"),l=e.gmlVersion;if(n.appendChild(s),vi(s,r.name),r.value!==void 0&&r.value!==null){var f=Oi(o,"Value");n.appendChild(f),r.value&&typeof r.value.getSimplifiedGeometry=="function"?l===2?Dd.prototype.writeGeometryElement(f,r.value,t):l===3?Ki.prototype.writeGeometryElement(f,r.value,t):x3.prototype.writeGeometryElement(f,r.value,t):vi(f,r.value)}}function y9(n,r,t){r.vendorId&&n.setAttribute("vendorId",r.vendorId),r.safeToIgnore!==void 0&&n.setAttribute("safeToIgnore",String(r.safeToIgnore)),r.value!==void 0&&vi(n,r.value)}var og={"http://www.opengis.net/wfs":{Query:Ae(_9)},"http://www.opengis.net/wfs/2.0":{Query:Ae(_9)},"http://www.opengis.net/ogc":{During:Ae(w9),And:Ae(ag),Or:Ae(ag),Not:Ae(x9),BBOX:Ae(E9),Contains:Ae(_f),Intersects:Ae(_f),Within:Ae(_f),DWithin:Ae(S9),PropertyIsEqualTo:Ae(d0),PropertyIsNotEqualTo:Ae(d0),PropertyIsLessThan:Ae(d0),PropertyIsLessThanOrEqualTo:Ae(d0),PropertyIsGreaterThan:Ae(d0),PropertyIsGreaterThanOrEqualTo:Ae(d0),PropertyIsNull:Ae(O9),PropertyIsBetween:Ae(T9),PropertyIsLike:Ae(b9)},"http://www.opengis.net/fes/2.0":{During:Ae(w9),And:Ae(ag),Or:Ae(ag),Not:Ae(x9),BBOX:Ae(E9),Contains:Ae(_f),Disjoint:Ae(_f),Intersects:Ae(_f),ResourceId:Ae(Xk),Within:Ae(_f),DWithin:Ae(S9),PropertyIsEqualTo:Ae(d0),PropertyIsNotEqualTo:Ae(d0),PropertyIsLessThan:Ae(d0),PropertyIsLessThanOrEqualTo:Ae(d0),PropertyIsGreaterThan:Ae(d0),PropertyIsGreaterThanOrEqualTo:Ae(d0),PropertyIsNull:Ae(O9),PropertyIsBetween:Ae(T9),PropertyIsLike:Ae(b9)}};function _9(n,r,t){var e=t[t.length-1],i=e.version,o=e.featurePrefix,s=e.featureNS,l=e.propertyNames,f=e.srsName,h;o?h=R3(o,r):h=r;var v;i==="2.0.0"?v="typeNames":v="typeName",n.setAttribute(v,h),f&&n.setAttribute("srsName",f),s&&n.setAttributeNS(O3,"xmlns:"+o,s);var w=Object(pn.a)({},e);w.node=n,Si(w,Uk,Pa("PropertyName"),l,t);var R=e.filter;if(R){var B=Oi(ug(i),"Filter");n.appendChild(B),Yk(B,R,t)}}function Yk(n,r,t){var e=t[t.length-1],i={node:n};Object(pn.a)(i,{context:e}),Si(i,og,Pa(r.getTagName()),[r],t)}function E9(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;e.srsName=r.srsName;var s=M3[o];zd(o,n,r.geometryName),s.prototype.writeGeometryElement(n,r.extent,t)}function Xk(n,r,t){n.setAttribute("rid",r.rid)}function _f(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;e.srsName=r.srsName;var s=M3[o];zd(o,n,r.geometryName),s.prototype.writeGeometryElement(n,r.geometry,t)}function S9(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;_f(n,r,t);var s=Oi(ug(o),"Distance");vi(s,r.distance.toString()),o==="2.0.0"?s.setAttribute("uom",r.unit):s.setAttribute("units",r.unit),n.appendChild(s)}function w9(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;sg(A3[o],"ValueReference",n,r.propertyName);var s=Oi(Mc,"TimePeriod");n.appendChild(s);var l=Oi(Mc,"begin");s.appendChild(l),A9(l,r.begin);var f=Oi(Mc,"end");s.appendChild(f),A9(f,r.end)}function ag(n,r,t){var e=t[t.length-1],i=e.context,o={node:n};Object(pn.a)(o,{context:i});for(var s=r.conditions,l=0,f=s.length;l<f;++l){var h=s[l];Si(o,og,Pa(h.getTagName()),[h],t)}}function x9(n,r,t){var e=t[t.length-1],i=e.context,o={node:n};Object(pn.a)(o,{context:i});var s=r.condition;Si(o,og,Pa(s.getTagName()),[s],t)}function d0(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),zd(o,n,r.propertyName),lg(o,n,""+r.expression)}function O9(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;zd(o,n,r.propertyName)}function T9(n,r,t){var e=t[t.length-1],i=e.context,o=i.version,s=ug(o);zd(o,n,r.propertyName);var l=Oi(s,"LowerBoundary");n.appendChild(l),lg(o,l,""+r.lowerBoundary);var f=Oi(s,"UpperBoundary");n.appendChild(f),lg(o,f,""+r.upperBoundary)}function b9(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;n.setAttribute("wildCard",r.wildCard),n.setAttribute("singleChar",r.singleChar),n.setAttribute("escapeChar",r.escapeChar),r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),zd(o,n,r.propertyName),lg(o,n,""+r.pattern)}function sg(n,r,t,e){var i=Oi(n,r);vi(i,e),t.appendChild(i)}function lg(n,r,t){sg(ug(n),"Literal",r,t)}function zd(n,r,t){n==="2.0.0"?sg(A3[n],"ValueReference",r,t):sg(T3[n],"PropertyName",r,t)}function A9(n,r){var t=Oi(Mc,"TimeInstant");n.appendChild(t);var e=Oi(Mc,"timePosition");t.appendChild(e),vi(e,r)}function M9(n,r,t){var e=t[t.length-1],i=Object(pn.a)({},e);i.node=n,Si(i,og,Pa("Query"),r,t)}function ug(n){var r;return n==="2.0.0"?r=A3[n]:r=T3[n],r}var Kk=zk,$k=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zo={POINT:1,LINE_STRING:2,POLYGON:3,MULTI_POINT:4,MULTI_LINE_STRING:5,MULTI_POLYGON:6,GEOMETRY_COLLECTION:7,POLYHEDRAL_SURFACE:15,TIN:16,TRIANGLE:17},R9=function(){function n(r){this.view_=r,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=tr.XY}return n.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},n.prototype.readUint32=function(r){return this.view_.getUint32((this.pos_+=4)-4,r!==void 0?r:this.isLittleEndian_)},n.prototype.readDouble=function(r){return this.view_.getFloat64((this.pos_+=8)-8,r!==void 0?r:this.isLittleEndian_)},n.prototype.readPoint=function(){var r=[];return r.push(this.readDouble()),r.push(this.readDouble()),this.hasZ_&&r.push(this.readDouble()),this.hasM_&&r.push(this.readDouble()),r},n.prototype.readLineString=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readPoint());return t},n.prototype.readPolygon=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readLineString());return t},n.prototype.readWkbHeader=function(r){var t=this.readUint8(),e=t>0,i=this.readUint32(e),o=Math.floor((i&268435455)/1e3),s=Boolean(i&2147483648)||o===1||o===3,l=Boolean(i&1073741824)||o===2||o===3,f=Boolean(i&536870912),h=(i&268435455)%1e3,v=["XY",s?"Z":"",l?"M":""].join(""),w=f?this.readUint32(e):null;if(r!==void 0&&r!==h)throw new Error("Unexpected WKB geometry type "+h);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==v)throw new Error("Inconsistent geometry layout");if(w&&this.srid_!==w)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=s,this.hasM_=l,this.layout_=v,this.srid_=w,this.initialized_=!0;return h},n.prototype.readWkbPayload=function(r){switch(r){case zo.POINT:return this.readPoint();case zo.LINE_STRING:return this.readLineString();case zo.POLYGON:case zo.TRIANGLE:return this.readPolygon();case zo.MULTI_POINT:return this.readMultiPoint();case zo.MULTI_LINE_STRING:return this.readMultiLineString();case zo.MULTI_POLYGON:case zo.POLYHEDRAL_SURFACE:case zo.TIN:return this.readMultiPolygon();case zo.GEOMETRY_COLLECTION:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+r+" is found")}},n.prototype.readWkbBlock=function(r){return this.readWkbPayload(this.readWkbHeader(r))},n.prototype.readWkbCollection=function(r,t){for(var e=this.readUint32(),i=[],o=0;o<e;o++){var s=r.call(this,t);s&&i.push(s)}return i},n.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,zo.POINT)},n.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,zo.LINE_STRING)},n.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,zo.POLYGON)},n.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},n.prototype.readGeometry=function(){var r=this.readWkbHeader(),t=this.readWkbPayload(r);switch(r){case zo.POINT:return new Ii(t,this.layout_);case zo.LINE_STRING:return new Xo(t,this.layout_);case zo.POLYGON:case zo.TRIANGLE:return new so(t,this.layout_);case zo.MULTI_POINT:return new h0(t,this.layout_);case zo.MULTI_LINE_STRING:return new au(t,this.layout_);case zo.MULTI_POLYGON:case zo.POLYHEDRAL_SURFACE:case zo.TIN:return new ml(t,this.layout_);case zo.GEOMETRY_COLLECTION:return new yl(t);default:return null}},n.prototype.getSrid=function(){return this.srid_},n}(),Zk=function(){function n(r){r=r||{},this.layout_=r.layout,this.isLittleEndian_=r.littleEndian!==!1,this.isEWKB_=r.ewkb!==!1,this.writeQueue_=[],this.nodata_=Object(pn.a)({X:0,Y:0,Z:0,M:0},r.nodata)}return n.prototype.writeUint8=function(r){this.writeQueue_.push([1,r])},n.prototype.writeUint32=function(r){this.writeQueue_.push([4,r])},n.prototype.writeDouble=function(r){this.writeQueue_.push([8,r])},n.prototype.writePoint=function(r,t){for(var e=pn.a.apply(null,t.split("").map(function(l,f){var h;return h={},h[l]=r[f],h})),i=0,o=this.layout_;i<o.length;i++){var s=o[i];this.writeDouble(s in e?e[s]:this.nodata_[s])}},n.prototype.writeLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writePoint(r[e],t)},n.prototype.writePolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeLineString(r[e],t)},n.prototype.writeWkbHeader=function(r,t){r%=1e3,this.layout_.indexOf("Z")>=0&&(r+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(r+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(t)&&(r|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(r),this.isEWKB_&&Number.isInteger(t)&&this.writeUint32(t)},n.prototype.writeMultiPoint=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(1),this.writePoint(r[e],t)},n.prototype.writeMultiLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(2),this.writeLineString(r[e],t)},n.prototype.writeMultiPolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(3),this.writePolygon(r[e],t)},n.prototype.writeGeometryCollection=function(r){this.writeUint32(r.length);for(var t=0;t<r.length;t++)this.writeGeometry(r[t])},n.prototype.findMinimumLayout=function(r,t){t===void 0&&(t=tr.XYZM);var e=function(s,l){return s===l?s:s===tr.XYZM?l:l===tr.XYZM?s:tr.XY};if(r instanceof Mo)return e(r.getLayout(),t);if(r instanceof yl)for(var i=r.getGeometriesArray(),o=0;o<i.length&&t!==tr.XY;o++)t=this.findMinimumLayout(i[o],t);return t},n.prototype.writeGeometry=function(r,t){var e,i,o=(e={},e[Ee.POINT]=zo.POINT,e[Ee.LINE_STRING]=zo.LINE_STRING,e[Ee.POLYGON]=zo.POLYGON,e[Ee.MULTI_POINT]=zo.MULTI_POINT,e[Ee.MULTI_LINE_STRING]=zo.MULTI_LINE_STRING,e[Ee.MULTI_POLYGON]=zo.MULTI_POLYGON,e[Ee.GEOMETRY_COLLECTION]=zo.GEOMETRY_COLLECTION,e),s=r.getType(),l=o[s];if(!l)throw new Error("GeometryType "+s+" is not supported");if(this.layout_||(this.layout_=this.findMinimumLayout(r)),this.writeWkbHeader(l,t),r instanceof Mo){var f=(i={},i[Ee.POINT]=this.writePoint,i[Ee.LINE_STRING]=this.writeLineString,i[Ee.POLYGON]=this.writePolygon,i[Ee.MULTI_POINT]=this.writeMultiPoint,i[Ee.MULTI_LINE_STRING]=this.writeMultiLineString,i[Ee.MULTI_POLYGON]=this.writeMultiPolygon,i);f[s].call(this,r.getCoordinates(),r.getLayout())}else r instanceof yl&&this.writeGeometryCollection(r.getGeometriesArray())},n.prototype.getBuffer=function(){var r=this,t=this.writeQueue_.reduce(function(s,l){return s+l[0]},0),e=new ArrayBuffer(t),i=new DataView(e),o=0;return this.writeQueue_.forEach(function(s){switch(s[0]){case 1:i.setUint8(o,s[1]);break;case 4:i.setUint32(o,s[1],r.isLittleEndian_);break;case 8:i.setFloat64(o,s[1],r.isLittleEndian_);break}o+=s[0]}),e},n}(),Jk=function(n){$k(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection=Boolean(i.splitCollection),e.viewCache_=null,e.hex_=i.hex!==!1,e.littleEndian_=i.littleEndian!==!1,e.ewkb_=i.ewkb!==!1,e.layout_=i.geometryLayout,e.nodataZ_=i.nodataZ||0,e.nodataM_=i.nodataM||0,e.srid_=i.srid,e}return r.prototype.getType=function(){return this.hex_?F0.TEXT:F0.ARRAY_BUFFER},r.prototype.readFeature=function(t,e){return new Cn({geometry:this.readGeometry(t,e)})},r.prototype.readFeatures=function(t,e){var i=[],o=this.readGeometry(t,e);return this.splitCollection&&o instanceof yl?i=o.getGeometriesArray():i=[o],i.map(function(s){return new Cn({geometry:s})})},r.prototype.readGeometry=function(t,e){var i=C9(t);if(!i)return null;var o=new R9(i),s=o.readGeometry();this.viewCache_=i;var l=this.getReadOptions(t,e);return this.viewCache_=null,ba(s,!1,l)},r.prototype.readProjection=function(t){var e=this.viewCache_||C9(t);if(!!e){var i=new R9(e);return i.readWkbHeader(),i.getSrid()&&Gn("EPSG:"+i.getSrid())||void 0}},r.prototype.writeFeature=function(t,e){return this.writeGeometry(t.getGeometry(),e)},r.prototype.writeFeatures=function(t,e){return this.writeGeometry(new yl(t.map(function(i){return i.getGeometry()})),e)},r.prototype.writeGeometry=function(t,e){var i=this.adaptOptions(e),o=new Zk({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),s=Number.isInteger(this.srid_)?Number(this.srid_):null;if(this.srid_!==!1&&!Number.isInteger(this.srid_)){var l=i.dataProjection&&Gn(i.dataProjection);if(l){var f=l.getCode();f.indexOf("EPSG:")===0&&(s=Number(f.substring(5)))}}o.writeGeometry(ba(t,!0,i),s);var h=o.getBuffer();return this.hex_?qk(h):h},r}(m1);function qk(n){var r=new Uint8Array(n);return Array.from(r.values()).map(function(t){return(t<16?"0":"")+Number(t).toString(16).toUpperCase()}).join("")}function Qk(n){for(var r=new Uint8Array(n.length/2),t=0;t<n.length/2;t++)r[t]=parseInt(n.substr(t*2,2),16);return new DataView(r.buffer)}function C9(n){return typeof n=="string"?Qk(n):ArrayBuffer.isView(n)?n instanceof DataView?n:new DataView(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new DataView(n):null}var tz=Jk,ez=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rz={POINT:Ii,LINESTRING:Xo,POLYGON:so,MULTIPOINT:h0,MULTILINESTRING:au,MULTIPOLYGON:ml},L9="EMPTY",P9="Z",I9="M",nz="ZM",Do={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};for(var iz in Ee)Ee[iz].toUpperCase();var oz=function(){function n(r){this.wkt=r,this.index_=-1}return n.prototype.isAlpha_=function(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"},n.prototype.isNumeric_=function(r,t){var e=t!==void 0?t:!1;return r>="0"&&r<="9"||r=="."&&!e},n.prototype.isWhiteSpace_=function(r){return r==" "||r=="	"||r=="\r"||r==`
`},n.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},n.prototype.nextToken=function(){var r=this.nextChar_(),t=this.index_,e=r,i;if(r=="(")i=Do.LEFT_PAREN;else if(r==",")i=Do.COMMA;else if(r==")")i=Do.RIGHT_PAREN;else if(this.isNumeric_(r)||r=="-")i=Do.NUMBER,e=this.readNumber_();else if(this.isAlpha_(r))i=Do.TEXT,e=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(r==="")i=Do.EOF;else throw new Error("Unexpected character: "+r)}return{position:t,value:e,type:i}},n.prototype.readNumber_=function(){var r,t=this.index_,e=!1,i=!1;do r=="."?e=!0:(r=="e"||r=="E")&&(i=!0),r=this.nextChar_();while(this.isNumeric_(r,e)||!i&&(r=="e"||r=="E")||i&&(r=="-"||r=="+"));return parseFloat(this.wkt.substring(t,this.index_--))},n.prototype.readText_=function(){var r,t=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(t,this.index_--).toUpperCase()},n}(),az=function(){function n(r){this.lexer_=r,this.token_={position:0,type:Do.START},this.layout_=tr.XY}return n.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},n.prototype.isTokenType=function(r){return this.token_.type==r},n.prototype.match=function(r){var t=this.isTokenType(r);return t&&this.consume_(),t},n.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},n.prototype.parseGeometryLayout_=function(){var r=tr.XY,t=this.token_;if(this.isTokenType(Do.TEXT)){var e=t.value;e===P9?r=tr.XYZ:e===I9?r=tr.XYM:e===nz&&(r=tr.XYZM),r!==tr.XY&&this.consume_()}return r},n.prototype.parseGeometryCollectionText_=function(){if(this.match(Do.LEFT_PAREN)){var r=[];do r.push(this.parseGeometry_());while(this.match(Do.COMMA));if(this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePointText_=function(){if(this.match(Do.LEFT_PAREN)){var r=this.parsePoint_();if(this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseLineStringText_=function(){if(this.match(Do.LEFT_PAREN)){var r=this.parsePointList_();if(this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePolygonText_=function(){if(this.match(Do.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPointText_=function(){if(this.match(Do.LEFT_PAREN)){var r=void 0;if(this.token_.type==Do.LEFT_PAREN?r=this.parsePointTextList_():r=this.parsePointList_(),this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiLineStringText_=function(){if(this.match(Do.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPolygonText_=function(){if(this.match(Do.LEFT_PAREN)){var r=this.parsePolygonTextList_();if(this.match(Do.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePoint_=function(){for(var r=[],t=this.layout_.length,e=0;e<t;++e){var i=this.token_;if(this.match(Do.NUMBER))r.push(i.value);else break}if(r.length==t)return r;throw new Error(this.formatErrorMessage_())},n.prototype.parsePointList_=function(){for(var r=[this.parsePoint_()];this.match(Do.COMMA);)r.push(this.parsePoint_());return r},n.prototype.parsePointTextList_=function(){for(var r=[this.parsePointText_()];this.match(Do.COMMA);)r.push(this.parsePointText_());return r},n.prototype.parseLineStringTextList_=function(){for(var r=[this.parseLineStringText_()];this.match(Do.COMMA);)r.push(this.parseLineStringText_());return r},n.prototype.parsePolygonTextList_=function(){for(var r=[this.parsePolygonText_()];this.match(Do.COMMA);)r.push(this.parsePolygonText_());return r},n.prototype.isEmptyGeometry_=function(){var r=this.isTokenType(Do.TEXT)&&this.token_.value==L9;return r&&this.consume_(),r},n.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},n.prototype.parseGeometry_=function(){var r=this.token_;if(this.match(Do.TEXT)){var t=r.value;this.layout_=this.parseGeometryLayout_();var e=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(e)return new yl([]);var i=this.parseGeometryCollectionText_();return new yl(i)}else{var o=rz[t];if(!o)throw new Error("Invalid geometry type: "+t);var s=void 0;if(e)t=="POINT"?s=[NaN,NaN]:s=[];else switch(t){case"POINT":{s=this.parsePointText_();break}case"LINESTRING":{s=this.parseLineStringText_();break}case"POLYGON":{s=this.parsePolygonText_();break}case"MULTIPOINT":{s=this.parseMultiPointText_();break}case"MULTILINESTRING":{s=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{s=this.parseMultiPolygonText_();break}}return new o(s,this.layout_)}}throw new Error(this.formatErrorMessage_())},n}(),sz=function(n){ez(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection_=i.splitCollection!==void 0?i.splitCollection:!1,e}return r.prototype.parse_=function(t){var e=new oz(t),i=new az(e);return i.parse()},r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e),o=new Cn;return o.setGeometry(i),o},r.prototype.readFeaturesFromText=function(t,e){var i=[],o=this.readGeometryFromText(t,e);this.splitCollection_&&o.getType()==Ee.GEOMETRY_COLLECTION?i=o.getGeometriesArray():i=[o];for(var s=[],l=0,f=i.length;l<f;++l){var h=new Cn;h.setGeometry(i[l]),s.push(h)}return s},r.prototype.readGeometryFromText=function(t,e){var i=this.parse_(t);return ba(i,!1,e)},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):""},r.prototype.writeFeaturesText=function(t,e){if(t.length==1)return this.writeFeatureText(t[0],e);for(var i=[],o=0,s=t.length;o<s;++o)i.push(t[o].getGeometry());var l=new yl(i);return this.writeGeometryText(l,e)},r.prototype.writeGeometryText=function(t,e){return D9(ba(t,!0,e))},r}(c3);function N9(n){var r=n.getCoordinates();return r.length===0?"":r.join(" ")}function lz(n){for(var r=[],t=n.getPoints(),e=0,i=t.length;e<i;++e)r.push("("+N9(t[e])+")");return r.join(",")}function uz(n){for(var r=[],t=n.getGeometries(),e=0,i=t.length;e<i;++e)r.push(D9(t[e]));return r.join(",")}function C3(n){for(var r=n.getCoordinates(),t=[],e=0,i=r.length;e<i;++e)t.push(r[e].join(" "));return t.join(",")}function cz(n){for(var r=[],t=n.getLineStrings(),e=0,i=t.length;e<i;++e)r.push("("+C3(t[e])+")");return r.join(",")}function F9(n){for(var r=[],t=n.getLinearRings(),e=0,i=t.length;e<i;++e)r.push("("+C3(t[e])+")");return r.join(",")}function fz(n){for(var r=[],t=n.getPolygons(),e=0,i=t.length;e<i;++e)r.push("("+F9(t[e])+")");return r.join(",")}function hz(n){var r=n.getLayout(),t="";return(r===tr.XYZ||r===tr.XYZM)&&(t+=P9),(r===tr.XYM||r===tr.XYZM)&&(t+=I9),t}var dz={Point:N9,LineString:C3,Polygon:F9,MultiPoint:lz,MultiLineString:cz,MultiPolygon:fz,GeometryCollection:uz};function D9(n){var r=n.getType(),t=dz[r],e=t(n);if(r=r.toUpperCase(),typeof n.getFlatCoordinates=="function"){var i=hz(n);i.length>0&&(r+=" "+i)}return e.length===0?r+" "+L9:r+"("+e+")"}var pz=sz,vz=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Js=[null,"http://www.opengis.net/wms"],gz=br(Js,{Service:be(jz),Capability:be(Dz)}),mz=br(Js,{Request:be(Wz),Exception:be(kz),Layer:be(zz)}),yz=function(n){vz(r,n);function r(){var t=n.call(this)||this;return t.version=void 0,t}return r.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=Gr({version:this.version},gz,t,[]);return e||null},r}(S3),_z=br(Js,{Name:be(Wr),Title:be(Wr),Abstract:be(Wr),KeywordList:be(U9),OnlineResource:be(Bd),ContactInformation:be(Gz),Fees:be(Wr),AccessConstraints:be(Wr),LayerLimit:be(es),MaxWidth:be(es),MaxHeight:be(es)}),Ez=br(Js,{ContactPersonPrimary:be(Bz),ContactPosition:be(Wr),ContactAddress:be(Uz),ContactVoiceTelephone:be(Wr),ContactFacsimileTelephone:be(Wr),ContactElectronicMailAddress:be(Wr)}),Sz=br(Js,{ContactPerson:be(Wr),ContactOrganization:be(Wr)}),wz=br(Js,{AddressType:be(Wr),Address:be(Wr),City:be(Wr),StateOrProvince:be(Wr),PostCode:be(Wr),Country:be(Wr)}),xz=br(Js,{Format:kn(Wr)}),j9=br(Js,{Name:be(Wr),Title:be(Wr),Abstract:be(Wr),KeywordList:be(U9),CRS:ca(Wr),EX_GeographicBoundingBox:be(Fz),BoundingBox:ca(Nz),Dimension:ca(Vz),Attribution:be(Iz),AuthorityURL:ca(Xz),Identifier:ca(Wr),MetadataURL:ca(Kz),DataURL:ca(Pc),FeatureListURL:ca(Pc),Style:ca($z),MinScaleDenominator:be(bo),MaxScaleDenominator:be(bo),Layer:ca(G9)}),Oz=br(Js,{Title:be(Wr),OnlineResource:be(Bd),LogoURL:be(B9)}),Tz=br(Js,{westBoundLongitude:be(bo),eastBoundLongitude:be(bo),southBoundLatitude:be(bo),northBoundLatitude:be(bo)}),bz=br(Js,{GetCapabilities:be(L3),GetMap:be(L3),GetFeatureInfo:be(L3)}),Az=br(Js,{Format:ca(Wr),DCPType:ca(Hz)}),Mz=br(Js,{HTTP:be(Yz)}),Rz=br(Js,{Get:be(Pc),Post:be(Pc)}),Cz=br(Js,{Name:be(Wr),Title:be(Wr),Abstract:be(Wr),LegendURL:ca(B9),StyleSheetURL:be(Pc),StyleURL:be(Pc)}),Lz=br(Js,{Format:be(Wr),OnlineResource:be(Bd)}),Pz=br(Js,{Keyword:kn(Wr)});function Iz(n,r){return Gr({},Oz,n,r)}function Nz(n,r){var t=[Rc(n.getAttribute("minx")),Rc(n.getAttribute("miny")),Rc(n.getAttribute("maxx")),Rc(n.getAttribute("maxy"))],e=[Rc(n.getAttribute("resx")),Rc(n.getAttribute("resy"))];return{crs:n.getAttribute("CRS"),extent:t,res:e}}function Fz(n,r){var t=Gr({},Tz,n,r);if(!!t){var e=t.westBoundLongitude,i=t.southBoundLatitude,o=t.eastBoundLongitude,s=t.northBoundLatitude;if(!(e===void 0||i===void 0||o===void 0||s===void 0))return[e,i,o,s]}}function Dz(n,r){return Gr({},mz,n,r)}function jz(n,r){return Gr({},_z,n,r)}function Gz(n,r){return Gr({},Ez,n,r)}function Bz(n,r){return Gr({},Sz,n,r)}function Uz(n,r){return Gr({},wz,n,r)}function kz(n,r){return Gr([],xz,n,r)}function zz(n,r){var t=Gr({},j9,n,r);return t.Layer===void 0?Object.assign(t,G9(n,r)):t}function G9(n,r){var t=r[r.length-1],e=Gr({},j9,n,r);if(!!e){var i=wh(n.getAttribute("queryable"));i===void 0&&(i=t.queryable),e.queryable=i!==void 0?i:!1;var o=Cc(n.getAttribute("cascaded"));o===void 0&&(o=t.cascaded),e.cascaded=o;var s=wh(n.getAttribute("opaque"));s===void 0&&(s=t.opaque),e.opaque=s!==void 0?s:!1;var l=wh(n.getAttribute("noSubsets"));l===void 0&&(l=t.noSubsets),e.noSubsets=l!==void 0?l:!1;var f=Rc(n.getAttribute("fixedWidth"));f||(f=t.fixedWidth),e.fixedWidth=f;var h=Rc(n.getAttribute("fixedHeight"));h||(h=t.fixedHeight),e.fixedHeight=h;var v=["Style","CRS","AuthorityURL"];v.forEach(function(R){if(R in t){var B=e[R]||[];e[R]=B.concat(t[R])}});var w=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return w.forEach(function(R){if(!(R in e)){var B=t[R];e[R]=B}}),e}}function Vz(n,r){var t={name:n.getAttribute("name"),units:n.getAttribute("units"),unitSymbol:n.getAttribute("unitSymbol"),default:n.getAttribute("default"),multipleValues:wh(n.getAttribute("multipleValues")),nearestValue:wh(n.getAttribute("nearestValue")),current:wh(n.getAttribute("current")),values:Wr(n)};return t}function Pc(n,r){return Gr({},Lz,n,r)}function Wz(n,r){return Gr({},bz,n,r)}function Hz(n,r){return Gr({},Mz,n,r)}function Yz(n,r){return Gr({},Rz,n,r)}function L3(n,r){return Gr({},Az,n,r)}function B9(n,r){var t=Pc(n,r);if(t){var e=[Cc(n.getAttribute("width")),Cc(n.getAttribute("height"))];return t.size=e,t}}function Xz(n,r){var t=Pc(n,r);if(t)return t.name=n.getAttribute("name"),t}function Kz(n,r){var t=Pc(n,r);if(t)return t.type=n.getAttribute("type"),t}function $z(n,r){return Gr({},Cz,n,r)}function U9(n,r){return Gr([],Pz,n,r)}var Zz=yz,Jz=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qz="_feature",Qz="_layer",tV=function(n){Jz(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureNS_="http://mapserver.gis.umn.edu/mapserver",e.gmlFormat_=new Dd,e.layers_=i.layers?i.layers:null,e}return r.prototype.getLayers=function(){return this.layers_},r.prototype.setLayers=function(t){this.layers_=t},r.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var i=t.localName,o=[];if(t.childNodes.length===0)return o;if(i=="msGMLOutput")for(var s=0,l=t.childNodes.length;s<l;s++){var f=t.childNodes[s];if(f.nodeType===Node.ELEMENT_NODE){var h=f,v=e[0],w=Qz,R=h.localName.replace(w,"");if(!(this.layers_&&!Object(K.f)(this.layers_,R))){var B=R+qz;v.featureType=B,v.featureNS=this.featureNS_;var V={};V[B]=kn(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var et=br([v.featureNS,null],V);h.setAttribute("namespaceURI",this.featureNS_);var vt=Gr([],et,h,e,this.gmlFormat_);vt&&Object(K.c)(o,vt)}}}if(i=="FeatureCollection"){var Ct=Gr([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);Ct&&(o=Ct)}return o},r.prototype.readFeaturesFromNode=function(t,e){var i={};return e&&Object(pn.a)(i,this.getReadOptions(t,e)),this.readFeatures_(t,[i])},r}(_1),eV=tV,rV=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cc=[null,"http://www.opengis.net/wmts/1.0"],Vd=[null,"http://www.opengis.net/ows/1.1"],nV=br(cc,{Contents:be(vV)}),iV=function(n){rV(r,n);function r(){var t=n.call(this)||this;return t.owsParser_=new r9,t}return r.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var i=this.owsParser_.readFromNode(t);return i?(i.version=e,i=Gr(i,nV,t,[]),i||null):null},r}(S3),oV=br(cc,{Layer:ca(gV),TileMatrixSet:ca(mV)}),aV=br(cc,{Style:ca(yV),Format:ca(Wr),TileMatrixSetLink:ca(_V),Dimension:ca(EV),ResourceURL:ca(SV)},br(Vd,{Title:be(Wr),Abstract:be(Wr),WGS84BoundingBox:be(k9),Identifier:be(Wr)})),sV=br(cc,{LegendURL:ca(wV)},br(Vd,{Title:be(Wr),Identifier:be(Wr)})),lV=br(cc,{TileMatrixSet:be(Wr),TileMatrixSetLimits:be(OV)}),uV=br(cc,{TileMatrixLimits:kn(TV)}),cV=br(cc,{TileMatrix:be(Wr),MinTileRow:be(es),MaxTileRow:be(es),MinTileCol:be(es),MaxTileCol:be(es)}),fV=br(cc,{Default:be(Wr),Value:ca(Wr)},br(Vd,{Identifier:be(Wr)})),hV=br(Vd,{LowerCorner:kn(P3),UpperCorner:kn(P3)}),dV=br(cc,{WellKnownScaleSet:be(Wr),TileMatrix:ca(xV)},br(Vd,{SupportedCRS:be(Wr),Identifier:be(Wr),BoundingBox:be(k9)})),pV=br(cc,{TopLeftCorner:be(P3),ScaleDenominator:be(bo),TileWidth:be(es),TileHeight:be(es),MatrixWidth:be(es),MatrixHeight:be(es)},br(Vd,{Identifier:be(Wr)}));function vV(n,r){return Gr({},oV,n,r)}function gV(n,r){return Gr({},aV,n,r)}function mV(n,r){return Gr({},dV,n,r)}function yV(n,r){var t=Gr({},sV,n,r);if(!!t){var e=n.getAttribute("isDefault")==="true";return t.isDefault=e,t}}function _V(n,r){return Gr({},lV,n,r)}function EV(n,r){return Gr({},fV,n,r)}function SV(n,r){var t=n.getAttribute("format"),e=n.getAttribute("template"),i=n.getAttribute("resourceType"),o={};return t&&(o.format=t),e&&(o.template=e),i&&(o.resourceType=i),o}function k9(n,r){var t=Gr([],hV,n,r);if(t.length==2)return Tt(t)}function wV(n,r){var t={};return t.format=n.getAttribute("format"),t.href=Bd(n),t}function P3(n,r){var t=Wr(n).split(/\s+/);if(!(!t||t.length!=2)){var e=+t[0],i=+t[1];if(!(isNaN(e)||isNaN(i)))return[e,i]}}function xV(n,r){return Gr({},pV,n,r)}function OV(n,r){return Gr([],uV,n,r)}function TV(n,r){return Gr({},cV,n,r)}var bV=iV;function cg(n){if(cg.installed){console.error("OPENLAYERS MAP ALREADY INSTALLED");return}cg.installed=!0,n.use(b),n.use(P),n.use(k),n.use(C),n.use(z),n.use(it),n.use(q),n.use(tt),n.provide("ol-feature",Cn),n.provide("ol-geom",J),n.provide("ol-animations",g),n.provide("ol-format",ot),n.provide("ol-loadingstrategy",M),n.provide("ol-selectconditions",E),n.provide("ol-extent",p)}d.default=cg},fb6a:function(c,d,u){var p=u("23e7"),g=u("da84"),E=u("e8b5"),b=u("68ee"),M=u("861d"),P=u("23cb"),k=u("07fa"),C=u("fc6a"),z=u("8418"),it=u("b622"),q=u("1dde"),tt=u("f36a"),J=q("slice"),ot=it("species"),ct=g.Array,wt=Math.max;p({target:"Array",proto:!0,forced:!J},{slice:function(F,bt){var jt=C(this),te=k(jt),Ot=P(F,te),ee=P(bt===void 0?te:bt,te),Dt,Wt,le;if(E(jt)&&(Dt=jt.constructor,b(Dt)&&(Dt===ct||E(Dt.prototype))?Dt=void 0:M(Dt)&&(Dt=Dt[ot],Dt===null&&(Dt=void 0)),Dt===ct||Dt===void 0))return tt(jt,Ot,ee);for(Wt=new(Dt===void 0?ct:Dt)(wt(ee-Ot,0)),le=0;Ot<ee;Ot++,le++)Ot in jt&&z(Wt,le,jt[Ot]);return Wt.length=le,Wt}})},fc6a:function(c,d,u){var p=u("44ad"),g=u("1d80");c.exports=function(E){return p(g(E))}},fce3:function(c,d,u){var p=u("d039"),g=u("da84"),E=g.RegExp;c.exports=p(function(){var b=E(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},fdbc:function(c,d){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(c,d,u){var p=u("4930");c.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(Bx);var VJ=q$(Bx.exports);try{self["workbox:window:6.5.2"]&&_()}catch{}function pS(a,c){return new Promise(function(d){var u=new MessageChannel;u.port1.onmessage=function(p){d(p.data)},a.postMessage(c,[u.port2])})}function _Z(a,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function vS(a,c){(c==null||c>a.length)&&(c=a.length);for(var d=0,u=new Array(c);d<c;d++)u[d]=a[d];return u}function EZ(a,c){var d;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(d=function(p,g){if(p){if(typeof p=="string")return vS(p,g);var E=Object.prototype.toString.call(p).slice(8,-1);return E==="Object"&&p.constructor&&(E=p.constructor.name),E==="Map"||E==="Set"?Array.from(p):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?vS(p,g):void 0}}(a))||c&&a&&typeof a.length=="number"){d&&(a=d);var u=0;return function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(d=a[Symbol.iterator]()).next.bind(d)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Z3=function(){var a=this;this.promise=new Promise(function(c,d){a.resolve=c,a.reject=d})};function J3(a,c){var d=location.href;return new URL(a,d).href===new URL(c,d).href}var B1=function(a,c){this.type=a,Object.assign(this,c)};function Mg(a,c,d){return d?c?c(a):a:(a&&a.then||(a=Promise.resolve(a)),c?a.then(c):a)}function SZ(){}var wZ={type:"SKIP_WAITING"};function gS(a,c){if(!c)return a&&a.then?a.then(SZ):Promise.resolve()}var WJ=function(a){var c,d;function u(b,M){var P,k;return M===void 0&&(M={}),(P=a.call(this)||this).nn={},P.tn=0,P.rn=new Z3,P.en=new Z3,P.on=new Z3,P.un=0,P.an=new Set,P.cn=function(){var C=P.fn,z=C.installing;P.tn>0||!J3(z.scriptURL,P.sn.toString())||performance.now()>P.un+6e4?(P.vn=z,C.removeEventListener("updatefound",P.cn)):(P.hn=z,P.an.add(z),P.rn.resolve(z)),++P.tn,z.addEventListener("statechange",P.ln)},P.ln=function(C){var z=P.fn,it=C.target,q=it.state,tt=it===P.vn,J={sw:it,isExternal:tt,originalEvent:C};!tt&&P.mn&&(J.isUpdate=!0),P.dispatchEvent(new B1(q,J)),q==="installed"?P.wn=self.setTimeout(function(){q==="installed"&&z.waiting===it&&P.dispatchEvent(new B1("waiting",J))},200):q==="activating"&&(clearTimeout(P.wn),tt||P.en.resolve(it))},P.dn=function(C){var z=P.hn,it=z!==navigator.serviceWorker.controller;P.dispatchEvent(new B1("controlling",{isExternal:it,originalEvent:C,sw:z,isUpdate:P.mn})),it||P.on.resolve(z)},P.gn=(k=function(C){var z=C.data,it=C.ports,q=C.source;return Mg(P.getSW(),function(){P.an.has(q)&&P.dispatchEvent(new B1("message",{data:z,originalEvent:C,ports:it,sw:q}))})},function(){for(var C=[],z=0;z<arguments.length;z++)C[z]=arguments[z];try{return Promise.resolve(k.apply(this,C))}catch(it){return Promise.reject(it)}}),P.sn=b,P.nn=M,navigator.serviceWorker.addEventListener("message",P.gn),P}d=a,(c=u).prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d;var p,g,E=u.prototype;return E.register=function(b){var M=(b===void 0?{}:b).immediate,P=M!==void 0&&M;try{var k=this;return function(C,z){var it=C();return it&&it.then?it.then(z):z(it)}(function(){if(!P&&document.readyState!=="complete")return gS(new Promise(function(C){return window.addEventListener("load",C)}))},function(){return k.mn=Boolean(navigator.serviceWorker.controller),k.yn=k.pn(),Mg(k.bn(),function(C){k.fn=C,k.yn&&(k.hn=k.yn,k.en.resolve(k.yn),k.on.resolve(k.yn),k.yn.addEventListener("statechange",k.ln,{once:!0}));var z=k.fn.waiting;return z&&J3(z.scriptURL,k.sn.toString())&&(k.hn=z,Promise.resolve().then(function(){k.dispatchEvent(new B1("waiting",{sw:z,wasWaitingBeforeRegister:!0}))}).then(function(){})),k.hn&&(k.rn.resolve(k.hn),k.an.add(k.hn)),k.fn.addEventListener("updatefound",k.cn),navigator.serviceWorker.addEventListener("controllerchange",k.dn),k.fn})})}catch(C){return Promise.reject(C)}},E.update=function(){try{return this.fn?gS(this.fn.update()):void 0}catch(b){return Promise.reject(b)}},E.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},E.messageSW=function(b){try{return Mg(this.getSW(),function(M){return pS(M,b)})}catch(M){return Promise.reject(M)}},E.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&pS(this.fn.waiting,wZ)},E.pn=function(){var b=navigator.serviceWorker.controller;return b&&J3(b.scriptURL,this.sn.toString())?b:void 0},E.bn=function(){try{var b=this;return function(M,P){try{var k=M()}catch(C){return P(C)}return k&&k.then?k.then(void 0,P):k}(function(){return Mg(navigator.serviceWorker.register(b.sn,b.nn),function(M){return b.un=performance.now(),M})},function(M){throw M})}catch(M){return Promise.reject(M)}},p=u,(g=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&_Z(p.prototype,g),u}(function(){function a(){this.Pn=new Map}var c=a.prototype;return c.addEventListener=function(d,u){this.Sn(d).add(u)},c.removeEventListener=function(d,u){this.Sn(d).delete(u)},c.dispatchEvent=function(d){d.target=this;for(var u,p=EZ(this.Sn(d.type));!(u=p()).done;)(0,u.value)(d)},c.Sn=function(d){return this.Pn.has(d)||this.Pn.set(d,new Set),this.Pn.get(d)},a}());export{DH as A,BJ as B,_p as C,Ep as D,El as E,ws as F,DJ as G,jH as H,kH as I,uv as J,jJ as K,FJ as L,tZ as M,$3 as N,WJ as O,oX as P,VJ as Q,zJ as R,O_ as T,I_ as a,FH as b,GH as c,E_ as d,ia as e,UJ as f,TH as g,nX as h,op as i,KW as j,kJ as k,Q$ as l,VH as m,kV as n,fm as o,XW as p,yw as q,pc as r,zH as s,VV as t,GJ as u,kg as v,l_ as w,cv as x,__ as y,S_ as z};
